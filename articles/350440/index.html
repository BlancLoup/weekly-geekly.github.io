<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Gini coefficient. From economics to machine learning</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="An interesting fact: in 1912, the Italian statistician and demographer Corrado Gini wrote the famous work ‚ÄúVariability and Variability of Character‚Äù, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Gini coefficient. From economics to machine learning</h1><div class="post__text post__text-html js-mediator-article">  An interesting fact: in 1912, the Italian statistician and demographer Corrado Gini wrote the famous work ‚ÄúVariability and Variability of Character‚Äù, and in the same year ‚ÄúTitanic‚Äù sank in the waters of the Atlantic.  It would seem, what is common between these two events?  Everything is simple, their consequences are widely used in the field of machine learning.  And if Dataset ‚ÄúTitanic‚Äù needs no introduction, then we will talk more in detail about one remarkable statistic, first published in the work of an Italian scientist.  Just want to note that the article has nothing to do with the Gini coefficient (Gini Impurity), which is used in decision trees as a criterion for the quality of a partition in classification problems.  These coefficients are in no way connected with each other and the total between them is about the same as the total between the tractor in the Bryansk region and the lawn mower in Oklahoma. <br><br>  The Gini Coefficient (Gini Coefficient) is a quality metric that is often used when evaluating predictive models in problems of binary classification in conditions of a strong imbalance of classes of the target variable.  That it is widely used in the tasks of bank lending, insurance and targeted marketing.  To fully understand this metric, we first need to plunge into the economy and figure out what it is used for. <br><a name="habracut"></a><br><h2>  Economy </h2><br>  The Gini coefficient is a statistical indicator of the degree of social stratification with respect to any economic attribute (annual income, property, real estate) used in countries with developed market economies.  Basically, the level of annual income is taken as a calculated indicator.  The coefficient shows the deviation of the actual distribution of income in society from their absolutely equal distribution among the population and allows one to very accurately assess the uneven distribution of income in society.  It is worth noting that a little earlier the birth of the Gini coefficient, in 1905, the American economist Max Lorenz, in his work Methods of Measuring the Concentration of Wealth, proposed a method of measuring the concentration of the welfare of society, later called the Lorenz Curve.  Further, we will show that the Gini Coefficient is an absolutely accurate algebraic interpretation of the Lorentz curve, and it in turn is its graphic display. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/853/814/28b/85381428be47fd882fae1d30c7ff91b3.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Lorenz curve is a graphical representation of the share of total income per each population group.  The diagonal on the graph corresponds to the ‚Äúline of absolute equality‚Äù - the income of the entire population is the same. <br><br>  The Gini coefficient varies from 0 to 1. The more its value deviates from zero and approaches one, the more concentrated the incomes are in the hands of certain groups of the population and the higher the level of social inequality in the state, and vice versa.  Sometimes a percentage representation of this factor is used, called the Gini index (value ranges from 0% to 100%). <br><br>  In economics, there are <a href="https://en.wikipedia.org/wiki/Gini_coefficient">several ways to</a> calculate this coefficient, we will focus on the Brown formula (it is first necessary to create a variation series - to rank the population by income): <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G </font></font></span><span class="MJXp-mo" id="MJXp-Span-3" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="MJXp-mn" id="MJXp-Span-4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span class="MJXp-mo" id="MJXp-Span-5" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font></span><font style="vertical-align: inherit;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7"><font style="vertical-align: inherit;">s </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8"><font style="vertical-align: inherit;">u </font></span><span class="MJXp-msubsup" id="MJXp-Span-9"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">m </font></span></span><span class="MJXp-msubsup" id="MJXp-Span-9"><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15"><font style="vertical-align: inherit;">n </font></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-9"><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-11"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12"><font style="vertical-align: inherit;">k </font></span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-9"><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-11"><span class="MJXp-mo" id="MJXp-Span-13"><font style="vertical-align: inherit;">= </font></span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-9"><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-11"><span class="MJXp-mn" id="MJXp-Span-14"><font style="vertical-align: inherit;">1</font></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-16" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"> ( </font></span><span class="MJXp-msubsup" id="MJXp-Span-17"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">X </font></span></span><span class="MJXp-msubsup" id="MJXp-Span-17"><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-19" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;">k</font></span></span><span class="MJXp-mo" id="MJXp-Span-20" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"> - </font></span><span class="MJXp-msubsup" id="MJXp-Span-21"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">X </font></span></span><span class="MJXp-msubsup" id="MJXp-Span-21"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-23" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24"><font style="vertical-align: inherit;">k </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-21"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-23" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-25"><font style="vertical-align: inherit;">- </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-21"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-23" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-26"><font style="vertical-align: inherit;">1</font></span></span></span><span class="MJXp-mo" id="MJXp-Span-27" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"> ) </font></span><span class="MJXp-mo" id="MJXp-Span-28" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;">( </font></span><span class="MJXp-msubsup" id="MJXp-Span-29"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-30" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">Y </font></span></span><span class="MJXp-msubsup" id="MJXp-Span-29"><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-31" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;">k</font></span></span><span class="MJXp-mo" id="MJXp-Span-32" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"> + </font></span><span class="MJXp-msubsup" id="MJXp-Span-33"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">Y </font></span></span><span class="MJXp-msubsup" id="MJXp-Span-33"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-35" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36"><font style="vertical-align: inherit;">k </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-33"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-35" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-37"><font style="vertical-align: inherit;">- </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-33"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-35" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-38"><font style="vertical-align: inherit;">1</font></span></span></span><span class="MJXp-mo" id="MJXp-Span-39" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"> )</font></span></font><span class="MJXp-mtext" id="MJXp-Span-6">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-9"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15"><font style="vertical-align: inherit;"></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-11"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-13"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mn" id="MJXp-Span-14"><font style="vertical-align: inherit;"></font></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-16" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-17"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-19" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mo" id="MJXp-Span-20" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-21"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-23" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-25"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mn" id="MJXp-Span-26"><font style="vertical-align: inherit;"></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-27" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-28" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-29"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-30" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-31" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mo" id="MJXp-Span-32" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-33"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-35" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-37"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mn" id="MJXp-Span-38"><font style="vertical-align: inherit;"></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-39" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="41.564ex" height="2.901ex" viewBox="0 -832 17895.3 1249" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-47" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-3D" x="1064" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-31" x="2120" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-2212" x="2843" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-73" x="4094" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-75" x="4563" y="0"></use><g transform="translate(5136,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-6E" x="1242" y="499"></use><g transform="translate(878,-327)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-3D" x="521" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-31" x="1300" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-28" x="7387" y="0"></use><g transform="translate(7777,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-58" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-6B" x="1171" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-2212" x="9296" y="0"></use><g transform="translate(10297,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-58" x="0" y="0"></use><g transform="translate(828,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-2212" x="521" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-31" x="1300" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-29" x="12498" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-28" x="12888" y="0"></use><g transform="translate(13277,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-59" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-6B" x="822" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-2B" x="14550" y="0"></use><g transform="translate(15551,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-59" x="0" y="0"></use><g transform="translate(581,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-2212" x="521" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-31" x="1300" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-29" x="17505" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> G = 1 - \ sum_ {k = 1} ^ n (X_k - X_ {k-1}) (Y_k + Y_ {k-1}) </script></p><br>  Where <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-40"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.455ex" viewBox="0 -520.7 600.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-6E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> n </script>  - number of inhabitants <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-42"><span class="MJXp-msubsup" id="MJXp-Span-43"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-45" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.013ex" height="2.419ex" viewBox="0 -780.1 1297.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-58" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-6B" x="1171" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> X_k </script>  - cumulative share of the population, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-46"><span class="MJXp-msubsup" id="MJXp-Span-47"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-48" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-49" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.439ex" height="2.419ex" viewBox="0 -780.1 1050.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-59" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-6B" x="822" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> Y_k </script>  - cumulative share of income for <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-50"><span class="MJXp-msubsup" id="MJXp-Span-51"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-53" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.013ex" height="2.419ex" viewBox="0 -780.1 1297.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-58" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-6B" x="1171" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> X_k </script><br><br>  Let's analyze the above on a toy example in order to intuitively understand the meaning of this statistic. <br><br>  Suppose there are three villages, each of which has 10 inhabitants.  In each village, the total annual income of the population is 100 rubles.  In the first village, all residents earn the same amount - 10 rubles a year, in the second village, income distribution is different: 3 people earn 5 rubles each, 4 people 10 rubles each and 3 people 15 rubles each.  And in the third village 7 people get 1 ruble per year, 1 person - 10 rubles, 1 person - 33 rubles and one person - 50 rubles.  For each village, we calculate the Gini coefficient and construct the Lorenz curve. <br><br>  We present the initial data for the villages in the form of a table and immediately calculate <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-54"><span class="MJXp-msubsup" id="MJXp-Span-55"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-57" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.013ex" height="2.419ex" viewBox="0 -780.1 1297.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-58" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-6B" x="1171" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-6"> X_k </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-58"><span class="MJXp-msubsup" id="MJXp-Span-59"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-61" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.439ex" height="2.419ex" viewBox="0 -780.1 1050.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-59" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMATHI-6B" x="822" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-7"> Y_k </script>  for clarity: <br><br><div class="spoiler">  <b class="spoiler_title">Python code</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt %matplotlib inline <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> warnings warnings.filterwarnings(<span class="hljs-string"><span class="hljs-string">'ignore'</span></span>) village = pd.DataFrame({<span class="hljs-string"><span class="hljs-string">'Person'</span></span>:[<span class="hljs-string"><span class="hljs-string">'Person_{}'</span></span>.format(i) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">11</span></span>)], <span class="hljs-string"><span class="hljs-string">'Income_Village_1'</span></span>:[<span class="hljs-number"><span class="hljs-number">10</span></span>]*<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">'Income_Village_2'</span></span>:[<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>], <span class="hljs-string"><span class="hljs-string">'Income_Village_3'</span></span>:[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>]}) village[<span class="hljs-string"><span class="hljs-string">'Cum_population'</span></span>] = np.cumsum(np.ones(<span class="hljs-number"><span class="hljs-number">10</span></span>)/<span class="hljs-number"><span class="hljs-number">10</span></span>) village[<span class="hljs-string"><span class="hljs-string">'Cum_Income_Village_1'</span></span>] = np.cumsum(village[<span class="hljs-string"><span class="hljs-string">'Income_Village_1'</span></span>]/<span class="hljs-number"><span class="hljs-number">100</span></span>) village[<span class="hljs-string"><span class="hljs-string">'Cum_Income_Village_2'</span></span>] = np.cumsum(village[<span class="hljs-string"><span class="hljs-string">'Income_Village_2'</span></span>]/<span class="hljs-number"><span class="hljs-number">100</span></span>) village[<span class="hljs-string"><span class="hljs-string">'Cum_Income_Village_3'</span></span>] = np.cumsum(village[<span class="hljs-string"><span class="hljs-string">'Income_Village_3'</span></span>]/<span class="hljs-number"><span class="hljs-number">100</span></span>) village = village.iloc[:, [<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>]] village</code> </pre> <br></div></div><br><img src="https://habrastorage.org/getpro/habr/post_images/180/7d3/58a/1807d358a8b6a7c6aa88d06245284e85.png"><br><br><div class="spoiler">  <b class="spoiler_title">Python code</b> <div class="spoiler_text"><pre> <code class="python hljs">plt.figure(figsize = (<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>)) Gini=[] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>): X_k = village[<span class="hljs-string"><span class="hljs-string">'Cum_population'</span></span>].values X_k_1 = village[<span class="hljs-string"><span class="hljs-string">'Cum_population'</span></span>].shift().fillna(<span class="hljs-number"><span class="hljs-number">0</span></span>).values Y_k = village[<span class="hljs-string"><span class="hljs-string">'Cum_Income_Village_{}'</span></span>.format(i)].values Y_k_1 = village[<span class="hljs-string"><span class="hljs-string">'Cum_Income_Village_{}'</span></span>.format(i)].shift().fillna(<span class="hljs-number"><span class="hljs-number">0</span></span>).values Gini.append(<span class="hljs-number"><span class="hljs-number">1</span></span> - np.sum((X_k - X_k_1) * (Y_k + Y_k_1))) plt.plot(np.insert(X_k,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>), np.insert(village[<span class="hljs-string"><span class="hljs-string">'Cum_Income_Village_{}'</span></span>.format(i)].values,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>), label=<span class="hljs-string"><span class="hljs-string">' {} (Gini = {:0.2f})'</span></span>.format(i, Gini[i<span class="hljs-number"><span class="hljs-number">-1</span></span>])) plt.title(<span class="hljs-string"><span class="hljs-string">' '</span></span>) plt.xlabel(<span class="hljs-string"><span class="hljs-string">'  '</span></span>) plt.ylabel(<span class="hljs-string"><span class="hljs-string">'  '</span></span>) plt.legend(loc=<span class="hljs-string"><span class="hljs-string">"upper left"</span></span>) plt.xlim(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) plt.ylim(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) plt.show()</code> </pre><br></div></div><br><img src="https://habrastorage.org/getpro/habr/post_images/11a/6b4/804/11a6b4804676d8efa7b459811fdb513d.png"><br><br>  It can be seen that the Lorentz curve for the Gini coefficient in the first village completely coincides with the diagonal (‚Äúline of absolute equality‚Äù), and the greater the stratification among the population relative to the annual income, the greater the area of ‚Äã‚Äãthe figure formed by the Lorentz curve and diagonal.  Let us show by the example of the third village that the ratio of the area of ‚Äã‚Äãthis figure to the area of ‚Äã‚Äãthe triangle formed by the line of absolute equality is exactly equal to the value of the Gini coefficient: <br><br><div class="spoiler">  <b class="spoiler_title">Python code</b> <div class="spoiler_text"><pre> <code class="python hljs">curve_area = np.trapz(np.insert(village[<span class="hljs-string"><span class="hljs-string">'Cum_Income_Village_3'</span></span>].values,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>), np.insert(village[<span class="hljs-string"><span class="hljs-string">'Cum_population'</span></span>].values,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>)) S = (<span class="hljs-number"><span class="hljs-number">0.5</span></span> - curve_area) / <span class="hljs-number"><span class="hljs-number">0.5</span></span> plt.figure(figsize = (<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>)) plt.plot([<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>],[<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>],linestyle = <span class="hljs-string"><span class="hljs-string">'--'</span></span>,lw = <span class="hljs-number"><span class="hljs-number">2</span></span>,color = <span class="hljs-string"><span class="hljs-string">'black'</span></span>) plt.plot(np.insert(village[<span class="hljs-string"><span class="hljs-string">'Cum_population'</span></span>].values,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>), np.insert(village[<span class="hljs-string"><span class="hljs-string">'Cum_Income_Village_3'</span></span>].values,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>), label=<span class="hljs-string"><span class="hljs-string">' {} (Gini = {:0.2f})'</span></span>.format(i, Gini[i<span class="hljs-number"><span class="hljs-number">-1</span></span>]),lw = <span class="hljs-number"><span class="hljs-number">2</span></span>,color = <span class="hljs-string"><span class="hljs-string">'green'</span></span>) plt.fill_between(np.insert(X_k,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>), np.insert(X_k,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>), y2=np.insert(village[<span class="hljs-string"><span class="hljs-string">'Cum_Income_Village_3'</span></span>].values,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>), alpha=<span class="hljs-number"><span class="hljs-number">0.5</span></span>) plt.text(<span class="hljs-number"><span class="hljs-number">0.45</span></span>,<span class="hljs-number"><span class="hljs-number">0.27</span></span>,<span class="hljs-string"><span class="hljs-string">'S = {:0.2f}'</span></span>.format(S),fontsize = <span class="hljs-number"><span class="hljs-number">28</span></span>) plt.title(<span class="hljs-string"><span class="hljs-string">' '</span></span>) plt.xlabel(<span class="hljs-string"><span class="hljs-string">'  '</span></span>) plt.ylabel(<span class="hljs-string"><span class="hljs-string">'  '</span></span>) plt.legend(loc=<span class="hljs-string"><span class="hljs-string">"upper left"</span></span>) plt.xlim(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) plt.ylim(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) plt.show()</code> </pre><br></div></div><br><img src="https://habrastorage.org/getpro/habr/post_images/ad1/c1b/7fa/ad1c1b7fadc47592cc4ae0ca8f9c4b11.png"><br><br>  We showed that, along with algebraic methods, one of the ways to calculate the Gini coefficient is geometric - calculating the area share between the Lorenz curve and the line of absolute equality of incomes from the total area under the straight line of absolute equality of incomes. <br><br>  Another important point.  Let's mentally fix the ends of the curve in points <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-62"><span class="MJXp-mo" id="MJXp-Span-63" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mn" id="MJXp-Span-64"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span><span class="MJXp-mo" id="MJXp-Span-65" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mn" id="MJXp-Span-66"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span><span class="MJXp-mo" id="MJXp-Span-67" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.168ex" height="2.66ex" viewBox="0 -832 2225.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-30" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-2C" x="890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-30" x="1335" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-29" x="1835" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-8"> (0,0) </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-68"><span class="MJXp-mo" id="MJXp-Span-69" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mn" id="MJXp-Span-70"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span class="MJXp-mo" id="MJXp-Span-71" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mn" id="MJXp-Span-72"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span class="MJXp-mo" id="MJXp-Span-73" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.168ex" height="2.66ex" viewBox="0 -832 2225.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-31" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-2C" x="890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-31" x="1335" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ods/blog/350440/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1Ry3RUnOf0lK4Zj_y8V-JmMcTCA#MJMAIN-29" x="1835" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-9"> (1,1) </script>  and begin to change its shape.  It is quite obvious that the area of ‚Äã‚Äãthe figure will not change, but in so doing we transfer members of society from the ‚Äúmiddle class‚Äù to the poor or the rich without changing the income ratio between the classes.  Take for example ten people with the following income: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-74"><span class="MJXp-mo" id="MJXp-Span-75" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span class="MJXp-mn" id="MJXp-Span-76"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span class="MJXp-mo" id="MJXp-Span-77" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mn" id="MJXp-Span-78"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span class="MJXp-mo" id="MJXp-Span-79" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mn" id="MJXp-Span-80"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span class="MJXp-mo" id="MJXp-Span-81" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mn" id="MJXp-Span-82"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span class="MJXp-mo" id="MJXp-Span-83" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mn" id="MJXp-Span-84"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span class="MJXp-mo" id="MJXp-Span-85" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mn" id="MJXp-Span-86"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span class="MJXp-mo" id="MJXp-Span-87" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mn" id="MJXp-Span-88"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span class="MJXp-mo" id="MJXp-Span-89" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mn" id="MJXp-Span-90"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span class="MJXp-mo" id="MJXp-Span-91" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mn" id="MJXp-Span-92"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20 </font></font></span><span class="MJXp-mo" id="MJXp-Span-93" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mn" id="MJXp-Span-94"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">72 </font></font></span><span class="MJXp-mo" id="MJXp-Span-95" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-10"> [1, 1, 1, 1, 1, 1, 1, 1, 20, 72] </script></p><br>  Now Sharikov‚Äôs ‚ÄúSelect and Divide!‚Äù Method is applied to a person with an income of ‚Äú20‚Äù, redistributing his income proportionally among the rest of the society.  In this case, the Gini coefficient will not change and will remain at 0.772, we simply pulled the ‚Äúfixed‚Äù Lorenz curve to the x-axis and changed its shape: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-96"><span class="MJXp-mo" id="MJXp-Span-97" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-98">1</span><span class="MJXp-mo" id="MJXp-Span-99" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-100">11.1</span><span class="MJXp-mrow" id="MJXp-Span-101"><span class="MJXp-mo" id="MJXp-Span-102" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-103">20</span><span class="MJXp-mo" id="MJXp-Span-104" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-105">1</span><span class="MJXp-mo" id="MJXp-Span-106" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-107">11.1</span><span class="MJXp-mrow" id="MJXp-Span-108"><span class="MJXp-mo" id="MJXp-Span-109" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-110">20</span><span class="MJXp-mo" id="MJXp-Span-111" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-112">1</span><span class="MJXp-mo" id="MJXp-Span-113" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-114">11.1</span><span class="MJXp-mrow" id="MJXp-Span-115"><span class="MJXp-mo" id="MJXp-Span-116" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-117">20</span><span class="MJXp-mo" id="MJXp-Span-118" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-119">1</span><span class="MJXp-mo" id="MJXp-Span-120" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-121">11.1</span><span class="MJXp-mrow" id="MJXp-Span-122"><span class="MJXp-mo" id="MJXp-Span-123" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-124">20</span><span class="MJXp-mo" id="MJXp-Span-125" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mspace" id="MJXp-Span-126" style="width: 0em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-127">1</span><span class="MJXp-mo" id="MJXp-Span-128" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-129">11.1</span><span class="MJXp-mrow" id="MJXp-Span-130"><span class="MJXp-mo" id="MJXp-Span-131" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-132">20</span><span class="MJXp-mo" id="MJXp-Span-133" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-134">1</span><span class="MJXp-mo" id="MJXp-Span-135" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-136">11.1</span><span class="MJXp-mrow" id="MJXp-Span-137"><span class="MJXp-mo" id="MJXp-Span-138" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-139">20</span><span class="MJXp-mo" id="MJXp-Span-140" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-141">1</span><span class="MJXp-mo" id="MJXp-Span-142" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-143">11.1</span><span class="MJXp-mrow" id="MJXp-Span-144"><span class="MJXp-mo" id="MJXp-Span-145" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-146">20</span><span class="MJXp-mo" id="MJXp-Span-147" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-148">1</span><span class="MJXp-mo" id="MJXp-Span-149" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-150">11.1</span><span class="MJXp-mrow" id="MJXp-Span-151"><span class="MJXp-mo" id="MJXp-Span-152" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-153">20</span><span class="MJXp-mo" id="MJXp-Span-154" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-155">1</span><span class="MJXp-mo" id="MJXp-Span-156" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-157">11.1</span><span class="MJXp-mrow" id="MJXp-Span-158"><span class="MJXp-mo" id="MJXp-Span-159" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-160">20</span><span class="MJXp-mo" id="MJXp-Span-161" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-162">72</span><span class="MJXp-mo" id="MJXp-Span-163" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-164">8.9</span><span class="MJXp-mrow" id="MJXp-Span-165"><span class="MJXp-mo" id="MJXp-Span-166" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-167">20</span><span class="MJXp-mo" id="MJXp-Span-168" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-11"> [1 + 11.1 / 20, 1 + 11.1 / 20, 1 + 11.1 / 20, 1 + 11.1 / 20, \\ 1 + 11.1 / 20, 1 + 11.1 / 20, 1 + 11.1 / 20, 1 + 11.1 / 20, 1 + 11.1 / 20, 72 + 8.9 / 20] </script></p><br>  Let's look at another important point: calculating the Gini coefficient, we do not classify people into poor and rich, it does not depend on whom we consider to be poor or oligarch.  But suppose that we faced such a task, for this, depending on what we want to get, what our goals are, we will need to set the income threshold to clearly divide people into poor and rich.  If you saw in this the analogy with the Threshold of the problems of binary classification, then it is time for us to move to machine learning. <br><br><h2>  Machine learning </h2><br><h3>  1. General understanding </h3><br>  Immediately it is worth noting that, having come to machine learning, the Gini coefficient has changed a lot: it is calculated differently and has a different meaning.  Numerically, the coefficient is equal to the area of ‚Äã‚Äãthe figure formed by the line of absolute equality and the Lorenz curve.  There are also similarities with a relative from the economy, for example, we still need to build the Lorenz curve and calculate the area of ‚Äã‚Äãthe figures.  And most importantly, the curve construction algorithm has not changed.  The Lorenz curve has also undergone changes, it has received the name Lift Curve and is a mirror image of the Lorenz curve with respect to the line of absolute equality (due to the fact that the ranking of probabilities does not occur in ascending but descending).  Let's sort it all out on the next toy example.  To minimize the error in calculating the areas of the figures, we will use the functions scipy <em>interp1d</em> (interpolation of a one-dimensional function) and <em>quad</em> (calculation of a definite integral). <br><br>  Suppose we solve the problem of binary classification for 15 objects and we have the following distribution of classes: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-169"><span class="MJXp-mo" id="MJXp-Span-170" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-171">1</span><span class="MJXp-mo" id="MJXp-Span-172" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-173">1</span><span class="MJXp-mo" id="MJXp-Span-174" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-175">1</span><span class="MJXp-mo" id="MJXp-Span-176" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-177">1</span><span class="MJXp-mo" id="MJXp-Span-178" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-179">1</span><span class="MJXp-mo" id="MJXp-Span-180" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-181">1</span><span class="MJXp-mo" id="MJXp-Span-182" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-183">0</span><span class="MJXp-mo" id="MJXp-Span-184" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-185">0</span><span class="MJXp-mo" id="MJXp-Span-186" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-187">0</span><span class="MJXp-mo" id="MJXp-Span-188" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-189">0</span><span class="MJXp-mo" id="MJXp-Span-190" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-191">0</span><span class="MJXp-mo" id="MJXp-Span-192" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-193">0</span><span class="MJXp-mo" id="MJXp-Span-194" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-195">0</span><span class="MJXp-mo" id="MJXp-Span-196" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-197">0</span><span class="MJXp-mo" id="MJXp-Span-198" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-199">0</span><span class="MJXp-mo" id="MJXp-Span-200" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-12"> [1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0] </script></p><br>  Our trained algorithm predicts the following attitudes towards the class ‚Äú1‚Äù on these objects: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0aa/823/4fc/0aa8234fc33931b13bca9cd1a4434528.png"><br><br>  We calculate the Gini coefficient for two models: our trained algorithm and an ideal model that accurately predicts classes with a probability of 100%.  The idea is as follows: instead of ranking the population by income level, we rank the predicted probabilities of the model in descending order and substitute into the formula the cumulative fraction of the true values ‚Äã‚Äãof the target variable corresponding to the predicted probabilities.  In other words, we sort the table by the line ‚ÄúPredict‚Äù and consider the cumulative share of classes instead of the cumulative share of income. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a6f/f7d/b9d/a6ff7db9da129966059a34df3748bcde.png"><br><br><div class="spoiler">  <b class="spoiler_title">Python code</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy.interpolate <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> interp1d <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy.integrate <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> quad actual = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>] predict = [<span class="hljs-number"><span class="hljs-number">0.9</span></span>, <span class="hljs-number"><span class="hljs-number">0.3</span></span>, <span class="hljs-number"><span class="hljs-number">0.8</span></span>, <span class="hljs-number"><span class="hljs-number">0.75</span></span>, <span class="hljs-number"><span class="hljs-number">0.65</span></span>, <span class="hljs-number"><span class="hljs-number">0.6</span></span>, <span class="hljs-number"><span class="hljs-number">0.78</span></span>, <span class="hljs-number"><span class="hljs-number">0.7</span></span>, <span class="hljs-number"><span class="hljs-number">0.05</span></span>, <span class="hljs-number"><span class="hljs-number">0.4</span></span>, <span class="hljs-number"><span class="hljs-number">0.4</span></span>, <span class="hljs-number"><span class="hljs-number">0.05</span></span>, <span class="hljs-number"><span class="hljs-number">0.5</span></span>, <span class="hljs-number"><span class="hljs-number">0.1</span></span>, <span class="hljs-number"><span class="hljs-number">0.1</span></span>] data = zip(actual, predict) sorted_data = sorted(data, key=<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> d: d[<span class="hljs-number"><span class="hljs-number">1</span></span>], reverse=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) sorted_actual = [d[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> d <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> sorted_data] cumulative_actual = np.cumsum(sorted_actual) / sum(actual) cumulative_index = np.arange(<span class="hljs-number"><span class="hljs-number">1</span></span>, len(cumulative_actual)+<span class="hljs-number"><span class="hljs-number">1</span></span>) / len(predict) cumulative_actual_perfect = np.cumsum(sorted(actual, reverse=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)) / sum(actual) x_values = [<span class="hljs-number"><span class="hljs-number">0</span></span>] + list(cumulative_index) y_values = [<span class="hljs-number"><span class="hljs-number">0</span></span>] + list(cumulative_actual) y_values_perfect = [<span class="hljs-number"><span class="hljs-number">0</span></span>] + list(cumulative_actual_perfect) f1, f2 = interp1d(x_values, y_values), interp1d(x_values, y_values_perfect) S_pred = quad(f1, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, points=x_values)[<span class="hljs-number"><span class="hljs-number">0</span></span>] - <span class="hljs-number"><span class="hljs-number">0.5</span></span> S_actual = quad(f2, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, points=x_values)[<span class="hljs-number"><span class="hljs-number">0</span></span>] - <span class="hljs-number"><span class="hljs-number">0.5</span></span> fig, ax = plt.subplots(nrows=<span class="hljs-number"><span class="hljs-number">1</span></span>,ncols=<span class="hljs-number"><span class="hljs-number">2</span></span>, sharey=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">14</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>)) ax[<span class="hljs-number"><span class="hljs-number">0</span></span>].plot(x_values, y_values, lw = <span class="hljs-number"><span class="hljs-number">2</span></span>, color = <span class="hljs-string"><span class="hljs-string">'blue'</span></span>, marker=<span class="hljs-string"><span class="hljs-string">'x'</span></span>) ax[<span class="hljs-number"><span class="hljs-number">0</span></span>].fill_between(x_values, x_values, y_values, color = <span class="hljs-string"><span class="hljs-string">'blue'</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.1</span></span>) ax[<span class="hljs-number"><span class="hljs-number">0</span></span>].text(<span class="hljs-number"><span class="hljs-number">0.4</span></span>,<span class="hljs-number"><span class="hljs-number">0.2</span></span>,<span class="hljs-string"><span class="hljs-string">'S = {:0.4f}'</span></span>.format(S_pred),fontsize = <span class="hljs-number"><span class="hljs-number">28</span></span>) ax[<span class="hljs-number"><span class="hljs-number">1</span></span>].plot(x_values, y_values_perfect, lw = <span class="hljs-number"><span class="hljs-number">2</span></span>, color = <span class="hljs-string"><span class="hljs-string">'green'</span></span>, marker=<span class="hljs-string"><span class="hljs-string">'x'</span></span>) ax[<span class="hljs-number"><span class="hljs-number">1</span></span>].fill_between(x_values, x_values, y_values_perfect, color = <span class="hljs-string"><span class="hljs-string">'green'</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.1</span></span>) ax[<span class="hljs-number"><span class="hljs-number">1</span></span>].text(<span class="hljs-number"><span class="hljs-number">0.4</span></span>,<span class="hljs-number"><span class="hljs-number">0.2</span></span>,<span class="hljs-string"><span class="hljs-string">'S = {:0.4f}'</span></span>.format(S_actual),fontsize = <span class="hljs-number"><span class="hljs-number">28</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">2</span></span>): ax[i].plot([<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>],[<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>],linestyle = <span class="hljs-string"><span class="hljs-string">'--'</span></span>,lw = <span class="hljs-number"><span class="hljs-number">2</span></span>,color = <span class="hljs-string"><span class="hljs-string">'black'</span></span>) ax[i].set(title=<span class="hljs-string"><span class="hljs-string">' '</span></span>, xlabel=<span class="hljs-string"><span class="hljs-string">'  '</span></span>, ylabel=<span class="hljs-string"><span class="hljs-string">'   '</span></span>, xlim=(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>), ylim=(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)) plt.show();</code> </pre><br></div></div><br><img src="https://habrastorage.org/getpro/habr/post_images/327/e90/1a7/327e901a76707f2e640307bfe903f2ea.png"><br><br>  The Gini coefficient for a trained model is 0.1889.  Is it a little or a lot?  How accurate is the algorithm?  Without knowing the exact value of the coefficient for an ideal algorithm, we cannot say anything about our model.  Therefore, the metric of quality in machine learning is the <b>normalized Gini coefficient</b> , which is equal to the ratio of the coefficient of the trained model to the coefficient of the ideal model.  Further, under the term "Gini Coefficient" we will mean just that. <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-201"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-202">G</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204">n</span><span class="MJXp-msubsup" id="MJXp-Span-205"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-206" style="margin-right: 0.05em;">i</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-207" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-208">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-209">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-213">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-214">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-215">z</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-216">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-217">d</span></span></span><span class="MJXp-mo" id="MJXp-Span-218" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-219">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-220">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-221">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-223">c</span><span class="MJXp-mrow" id="MJXp-Span-224"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-225">G</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-226">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-227">n</span><span class="MJXp-msubsup" id="MJXp-Span-228"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-229" style="margin-right: 0.05em;">i</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-230" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-231">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-232">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-233">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-234">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-235">l</span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-236"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-237">G</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-238">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-239">n</span><span class="MJXp-msubsup" id="MJXp-Span-240"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241" style="margin-right: 0.05em;">i</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-242" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-243">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-244">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-245">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-246">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-247">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-248">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-249">t</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-250" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-251">1</span><span class="MJXp-mo" id="MJXp-Span-252" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-13"> Gini_ {normalized} = \ frac {Gini_ {model}} {Gini_ {perfect}} (1) </script></p><br>  Looking at these two graphs, we can draw the following conclusions: <br><br><ul><li>  The prediction of the ideal algorithm is the maximum Gini coefficient for the current data set and depends only on the true distribution of classes in the problem. </li><li>  The area of ‚Äã‚Äãthe shape for an ideal algorithm is: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-253"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-254">S</span><span class="MJXp-mo" id="MJXp-Span-255" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-256">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-257">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-258">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-259">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-260">c</span><span class="MJXp-mrow" id="MJXp-Span-261"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-262">N</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-263">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-264">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-265">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-266">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-267">r</span><span class="MJXp-mtext" id="MJXp-Span-268">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-269">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-270">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-271">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-272">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-273">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-274">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-275">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-276">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-277">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-278">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-279">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-280">j</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-281">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-282">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-283">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-284">s</span><span class="MJXp-mtext" id="MJXp-Span-285">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-286">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-287">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-288">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-289">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-290">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-291">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-292">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-293">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-294">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-295">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-296">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-297">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-298">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-299">s</span><span class="MJXp-mtext" id="MJXp-Span-300">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-301">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-302">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-303">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-304">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-305">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-306">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-307">e</span><span class="MJXp-mn" id="MJXp-Span-308">0</span><span class="MJXp-mtext" id="MJXp-Span-309">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-310">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-311">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-312">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-313">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-314">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-315">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-316">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-317">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318">n</span><span class="MJXp-mtext" id="MJXp-Span-319">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-320">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-321">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-322">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-323">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-324">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-325">c</span><span class="MJXp-msubsup" id="MJXp-Span-326"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-327" style="margin-right: 0.05em;">e</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-328" style="vertical-align: -0.4em;">s</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-329">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-330">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-331">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-332">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-333">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-334">n</span></span><span class="MJXp-mrow" id="MJXp-Span-335"><span class="MJXp-mn" id="MJXp-Span-336">2</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-14"> S = \ frac {Number \ enspace of objects \ enspace of class \ enspace 0 \ enspace in \ enspace_section} {2} </script></p></li><li>  The predictions of the trained models can not be greater than the value of the coefficient of an ideal algorithm. </li><li>  With a uniform distribution of classes of the target variable, the Gini coefficient of an ideal algorithm will always be equal to 0.25 </li><li>  For an ideal algorithm, the shape of the shape formed by the Lift Curve and the line of absolute equality will always be a triangle. </li><li>  The Gini coefficient of the random algorithm is 0, and the Lift Curve coincides with the line of absolute equality. </li><li>  The Gini coefficient of a trained algorithm will always be less than the coefficient of an ideal algorithm. </li><li>  The values ‚Äã‚Äãof the normalized Gini coefficient for the trained algorithm are in the interval <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-337"><span class="MJXp-mo" id="MJXp-Span-338" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-339">0</span><span class="MJXp-mo" id="MJXp-Span-340" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-341">1</span><span class="MJXp-mo" id="MJXp-Span-342" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-15"> [0, 1] </script>  . </li><li>  The normalized Gini coefficient is a metric of quality that needs to be maximized. </li></ul><br><h3>  2. Algebraic representation.  Proof of linear connection with AUC ROC </h3><br>  We come to the most interesting point - the algebraic representation of the Gini coefficient.  How to calculate this metric?  She is not equal to her relative from the economy.  It is known that the coefficient can be calculated by the following formula: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-343"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-344">G</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-345">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-346">n</span><span class="MJXp-msubsup" id="MJXp-Span-347"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-348" style="margin-right: 0.05em;">i</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-349" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-350">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-351">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-352">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-353">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-354">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-355">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-356">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-357">z</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-358">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-359">d</span></span></span><span class="MJXp-mo" id="MJXp-Span-360" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-361">2</span><span class="MJXp-mo" id="MJXp-Span-362" style="margin-left: 0.267em; margin-right: 0.267em;">‚àó</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-363">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-364">U</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-365">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-366">R</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-367">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-368">C</span><span class="MJXp-mo" id="MJXp-Span-369" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-370">1</span><span class="MJXp-mtext" id="MJXp-Span-371">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-372">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-373">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-374">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-375">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-376">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-377">e</span><span class="MJXp-mrow" id="MJXp-Span-378"><span class="MJXp-mn" id="MJXp-Span-379">15</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-380">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-381">t</span></span><span class="MJXp-mo" id="MJXp-Span-382" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-383">2</span><span class="MJXp-mo" id="MJXp-Span-384" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-16"> Gini_ {normalized} = 2 * AUCROC - 1 \ hspace {15pt} (2) </script></p><br>  I honestly tried to find the conclusion of this formula on the Internet, but did not find anything.  Even in foreign books and scientific articles.  But on some questionable sites of statistics lovers there was a phrase: <i>‚ÄúIt is so obvious that there is nothing to discuss.</i>  <i>It‚Äôs enough to compare the Lift Curve and ROC Curve charts so that everything becomes clear at once</i> . <i>‚Äù</i>  A little later, when I myself derived the connection formula for these two metrics, I realized that this phrase was an excellent indicator.  If you hear or read it, it is obvious only that the author of the phrase has no understanding of the Gini coefficient.  Let's take a look at the Lift Curve and ROC Curve charts for our example: <br><br><div class="spoiler">  <b class="spoiler_title">Python code</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.metrics <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> roc_curve, roc_auc_score aucroc = roc_auc_score(actual, predict) gini = <span class="hljs-number"><span class="hljs-number">2</span></span>*roc_auc_score(actual, predict)<span class="hljs-number"><span class="hljs-number">-1</span></span> fpr, tpr, t = roc_curve(actual, predict) fig, ax = plt.subplots(nrows=<span class="hljs-number"><span class="hljs-number">1</span></span>,ncols=<span class="hljs-number"><span class="hljs-number">3</span></span>, sharey=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>)) fig.suptitle(<span class="hljs-string"><span class="hljs-string">'Gini = 2 * AUCROC - 1 = {:0.2f}\n\n'</span></span>.format(gini),fontsize = <span class="hljs-number"><span class="hljs-number">18</span></span>, fontweight=<span class="hljs-string"><span class="hljs-string">'bold'</span></span>) ax[<span class="hljs-number"><span class="hljs-number">0</span></span>].plot([<span class="hljs-number"><span class="hljs-number">0</span></span>]+fpr.tolist(), [<span class="hljs-number"><span class="hljs-number">0</span></span>]+tpr.tolist(), lw = <span class="hljs-number"><span class="hljs-number">2</span></span>, color = <span class="hljs-string"><span class="hljs-string">'red'</span></span>) ax[<span class="hljs-number"><span class="hljs-number">0</span></span>].fill_between([<span class="hljs-number"><span class="hljs-number">0</span></span>]+fpr.tolist(), [<span class="hljs-number"><span class="hljs-number">0</span></span>]+tpr.tolist(), color = <span class="hljs-string"><span class="hljs-string">'red'</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.1</span></span>) ax[<span class="hljs-number"><span class="hljs-number">0</span></span>].text(<span class="hljs-number"><span class="hljs-number">0.4</span></span>,<span class="hljs-number"><span class="hljs-number">0.2</span></span>,<span class="hljs-string"><span class="hljs-string">'S = {:0.2f}'</span></span>.format(aucroc),fontsize = <span class="hljs-number"><span class="hljs-number">28</span></span>) ax[<span class="hljs-number"><span class="hljs-number">1</span></span>].plot(x_values, y_values, lw = <span class="hljs-number"><span class="hljs-number">2</span></span>, color = <span class="hljs-string"><span class="hljs-string">'blue'</span></span>) ax[<span class="hljs-number"><span class="hljs-number">1</span></span>].fill_between(x_values, x_values, y_values, color = <span class="hljs-string"><span class="hljs-string">'blue'</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.1</span></span>) ax[<span class="hljs-number"><span class="hljs-number">1</span></span>].text(<span class="hljs-number"><span class="hljs-number">0.4</span></span>,<span class="hljs-number"><span class="hljs-number">0.2</span></span>,<span class="hljs-string"><span class="hljs-string">'S = {:0.2f}'</span></span>.format(S_pred),fontsize = <span class="hljs-number"><span class="hljs-number">28</span></span>) ax[<span class="hljs-number"><span class="hljs-number">2</span></span>].plot(x_values, y_values_perfect, lw = <span class="hljs-number"><span class="hljs-number">2</span></span>, color = <span class="hljs-string"><span class="hljs-string">'green'</span></span>) ax[<span class="hljs-number"><span class="hljs-number">2</span></span>].fill_between(x_values, x_values, y_values_perfect, color = <span class="hljs-string"><span class="hljs-string">'green'</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.1</span></span>) ax[<span class="hljs-number"><span class="hljs-number">2</span></span>].text(<span class="hljs-number"><span class="hljs-number">0.4</span></span>,<span class="hljs-number"><span class="hljs-number">0.2</span></span>,<span class="hljs-string"><span class="hljs-string">'S = {:0.2f}'</span></span>.format(S_actual),fontsize = <span class="hljs-number"><span class="hljs-number">28</span></span>) ax[<span class="hljs-number"><span class="hljs-number">0</span></span>].set(title=<span class="hljs-string"><span class="hljs-string">'ROC-AUC'</span></span>, xlabel=<span class="hljs-string"><span class="hljs-string">'False Positive Rate'</span></span>, ylabel=<span class="hljs-string"><span class="hljs-string">'True Positive Rate'</span></span>, xlim=(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>), ylim=(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>): ax[i].plot([<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>],[<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>],linestyle = <span class="hljs-string"><span class="hljs-string">'--'</span></span>,lw = <span class="hljs-number"><span class="hljs-number">2</span></span>,color = <span class="hljs-string"><span class="hljs-string">'black'</span></span>) ax[i].set(title=<span class="hljs-string"><span class="hljs-string">' '</span></span>, xlabel=<span class="hljs-string"><span class="hljs-string">'  '</span></span>, ylabel=<span class="hljs-string"><span class="hljs-string">'   '</span></span>, xlim=(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>), ylim=(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)) plt.show();</code> </pre><br></div></div><br><img src="https://habrastorage.org/getpro/habr/post_images/b53/87a/4eb/b5387a4eb1ebc8c4d3a2477d07da79b9.png"><br><br>  It is clearly seen that it is impossible to catch a connection from the graphical representation of metrics, therefore we will prove equality algebraically.  I managed to do it in two ways - parametrically (by integrals) and non-parametrically (through Wilcoxon-Mann-Whitney statistics).  The second method is much simpler and without multi-storey fractions with double integrals, so we‚Äôll dwell on it in detail.  For further consideration of the evidence, we define the terminology: the cumulative share of true classes is none other than the True Positive Rate.  The cumulative share of objects is in turn the number of objects in the ranked row (when scaling by interval <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-385"><span class="MJXp-mo" id="MJXp-Span-386" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-387">0</span><span class="MJXp-mo" id="MJXp-Span-388" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-389">1</span><span class="MJXp-mo" id="MJXp-Span-390" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-17"> (0, 1) </script>  - respectively, the proportion of objects). <br><br>  Understanding the proof requires a basic understanding of the ROC-AUC metric - what it is all about, how the graph is constructed and in which axes.  I recommend an article from Alexander Dyakonov <a href="https://alexanderdyakonov.wordpress.com/2017/07/28/auc-roc-%25D0%25BF%25D0%25BB%25D0%25BE%25D1%2589%25D0%25B0%25D0%25B4%25D1%258C-%25D0%25BF%25D0%25BE%25D0%25B4-%25D0%25BA%25D1%2580%25D0%25B8%25D0%25B2%25D0%25BE%25D0%25B9-%25D0%25BE%25D1%2588%25D0%25B8%25D0%25B1%25D0%25BE%25D0%25BA/">‚Äôs</a> blog <a href="https://alexanderdyakonov.wordpress.com/2017/07/28/auc-roc-%25D0%25BF%25D0%25BB%25D0%25BE%25D1%2589%25D0%25B0%25D0%25B4%25D1%258C-%25D0%25BF%25D0%25BE%25D0%25B4-%25D0%25BA%25D1%2580%25D0%25B8%25D0%25B2%25D0%25BE%25D0%25B9-%25D0%25BE%25D1%2588%25D0%25B8%25D0%25B1%25D0%25BE%25D0%25BA/">‚ÄúAUC ROC (area under the error curve)‚Äù</a> <br><br>  We introduce the following notation: <br><br><ul><li><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-391"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-392">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-18"> n </script>  - The number of objects in the sample </li><li><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-393"><span class="MJXp-msubsup" id="MJXp-Span-394"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-395" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-396" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-19"> n_0 </script>  - The number of objects of class "0" </li><li><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-397"><span class="MJXp-msubsup" id="MJXp-Span-398"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-399" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-400" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-20"> n_1 </script>  - The number of objects of class "1" </li><li><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-401"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-402">T</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-403">p</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-21"> Tp </script>  - True Positive (the correct answer of the model on the true class "1" at a given threshold) </li><li><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-404"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-405">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-406">P</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-22"> FP </script>  - False Positive (incorrect response of the model on the true class "0" at a given threshold) </li><li><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-407"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-408">T</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-409">P</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-410">R</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-23"> TPR </script>  - True Positive Rate (ratio <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-411"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-412">T</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-413">p</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-24"> Tp </script>  to <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-414"><span class="MJXp-msubsup" id="MJXp-Span-415"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-416" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-417" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-25"> n_1 </script>  ) </li><li><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-418"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-419">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-420">P</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-421">R</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-26"> FPR </script>  - False Positive Rate (ratio <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-422"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-423">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-424">P</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-27"> FP </script>  to <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-425"><span class="MJXp-msubsup" id="MJXp-Span-426"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-427" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-428" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-28"> n_0 </script>  ) </li><li><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-429"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-430">i</span><span class="MJXp-mo" id="MJXp-Span-431" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-432">j</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-29"> i, j </script>  - the current index of the item. </li></ul><br><h4>  Parametric method </h4><br>  The parametric equation for ROC curve can be written as follows: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-433"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-434">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-435">U</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-436">C</span><span class="MJXp-mo" id="MJXp-Span-437" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-438">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-439">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-440">n</span><span class="MJXp-msubsup" id="MJXp-Span-441"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-442" style="margin-right: 0.05em;">t</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-445"><span class="MJXp-mn" id="MJXp-Span-446">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-443"><span class="MJXp-mn" id="MJXp-Span-444">0</span></span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-447">T</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-448">P</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-449">R</span><span class="MJXp-mtext" id="MJXp-Span-450">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-451">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-452">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-453">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-454">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-455">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-456">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-457">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-458">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-459">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-460">P</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-461">R</span><span class="MJXp-mo" id="MJXp-Span-462" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-463">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-464">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-465">n</span><span class="MJXp-msubsup" id="MJXp-Span-466"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-467" style="margin-right: 0.05em;">t</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-470"><span class="MJXp-mn" id="MJXp-Span-471">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-468"><span class="MJXp-mn" id="MJXp-Span-469">0</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-472">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-473">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-474">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-475">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-476">c</span><span class="MJXp-mrow" id="MJXp-Span-477"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-478">T</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-479">P</span></span><span class="MJXp-mrow" id="MJXp-Span-480"><span class="MJXp-msubsup" id="MJXp-Span-481"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-482" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-483" style="vertical-align: -0.4em;">1</span></span></span><span class="MJXp-mtext" id="MJXp-Span-484">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-485">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-486">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-487">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-488">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-489">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-490">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-491">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-492">d</span><span class="MJXp-mtext" id="MJXp-Span-493">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-494">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-495">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-496">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-497">c</span><span class="MJXp-mrow" id="MJXp-Span-498"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-499">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-500">P</span></span><span class="MJXp-mrow" id="MJXp-Span-501"><span class="MJXp-msubsup" id="MJXp-Span-502"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-503" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-504" style="vertical-align: -0.4em;">0</span></span></span><span class="MJXp-mo" id="MJXp-Span-505" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-506">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-507">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-508">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-509">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-510">c</span><span class="MJXp-mrow" id="MJXp-Span-511"><span class="MJXp-mn" id="MJXp-Span-512">1</span></span><span class="MJXp-mrow" id="MJXp-Span-513"><span class="MJXp-msubsup" id="MJXp-Span-514"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-515" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-516" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-517" style="margin-left: 0.267em; margin-right: 0.267em;">‚àó</span><span class="MJXp-msubsup" id="MJXp-Span-518"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-519" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-520" style="vertical-align: -0.4em;">0</span></span></span><span class="MJXp-mtext" id="MJXp-Span-521">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-522">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-523">n</span><span class="MJXp-msubsup" id="MJXp-Span-524"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-525" style="margin-right: 0.05em;">t</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-528"><span class="MJXp-mn" id="MJXp-Span-529">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-526"><span class="MJXp-mn" id="MJXp-Span-527">0</span></span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-530">T</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-531">P</span><span class="MJXp-mtext" id="MJXp-Span-532">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-533">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-534">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-535">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-536">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-537">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-538">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-539">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-540">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-541">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-542">P</span><span class="MJXp-mtext" id="MJXp-Span-543">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-544">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-545">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-546">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-547">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-548">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-549">e</span><span class="MJXp-mrow" id="MJXp-Span-550"><span class="MJXp-mn" id="MJXp-Span-551">35</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-552">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-553">t</span></span><span class="MJXp-mo" id="MJXp-Span-554" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-555">3</span><span class="MJXp-mo" id="MJXp-Span-556" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-30"> AUC = \ int_ {0} ^ {1} TPR \ enspace dFPR = \ int_ {0} ^ {1} \ frac {TP} {n_1} \ enspace d \ frac {FP} {n_0} = \ frac {1 } {n_1 * n_0} \ int_ {0} ^ {1} TP \ enspace dFP \ hspace {35pt} (3) </script></p><br>  When plotting the Lift Curve plot <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-557"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-558">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31"> X </script>  we postponed the proportion of objects (their number) previously sorted in descending order.  Thus, the parametric equation for the Gini coefficient will be as follows: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-559"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-560">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-561">U</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-562">C</span><span class="MJXp-mo" id="MJXp-Span-563" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-564">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-565">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-566">n</span><span class="MJXp-msubsup" id="MJXp-Span-567"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-568" style="margin-right: 0.05em;">t</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-571"><span class="MJXp-mn" id="MJXp-Span-572">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-569"><span class="MJXp-mn" id="MJXp-Span-570">0</span></span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-573">T</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-574">P</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-575">R</span><span class="MJXp-mtext" id="MJXp-Span-576">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-577">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-578">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-579">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-580">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-581">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-582">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-583">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-584">d</span><span class="MJXp-mtext" id="MJXp-Span-585">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-586">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-587">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-588">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-589">c</span><span class="MJXp-mrow" id="MJXp-Span-590"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-591">T</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-592">P</span><span class="MJXp-mo" id="MJXp-Span-593" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-594">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-595">P</span></span><span class="MJXp-mrow" id="MJXp-Span-596"><span class="MJXp-msubsup" id="MJXp-Span-597"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-598" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-599" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-600" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-601"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-602" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-603" style="vertical-align: -0.4em;">0</span></span></span><span class="MJXp-mo" id="MJXp-Span-604" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-605">0.5</span><span class="MJXp-mtext" id="MJXp-Span-606">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-607">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-608">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-609">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-610">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-611">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-612">e</span><span class="MJXp-mrow" id="MJXp-Span-613"><span class="MJXp-mn" id="MJXp-Span-614">35</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-615">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-616">t</span></span><span class="MJXp-mo" id="MJXp-Span-617" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-618">4</span><span class="MJXp-mo" id="MJXp-Span-619" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-32"> AUC = \ int_ {0} ^ {1} TPR \ enspace d \ frac {TP + FP} {n_1 + n_0} - 0.5 \ hspace {35pt} (4) </script></p><br><br>  Substituting expression (4) into expression (1) for both models and transforming it, we will see that expression (3) can be substituted into one of the parts, which ultimately gives us a beautiful formula of a normalized Gini (2) <br><br><h4>  Nonparametric method </h4><br>  In the proof, I relied on the elementary postulates of the Theory of Probability.  It is known that the numerical value of the AUC ROC is equal to the statistics of Wilcoxon-Mann-Whitney: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-620"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-621">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-622">U</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-623">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-624">R</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-625">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-626">C</span><span class="MJXp-mo" id="MJXp-Span-627" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-628">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-629">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-630">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-631">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-632">c</span><span class="MJXp-mrow" id="MJXp-Span-633"><span class="MJXp-mtext" id="MJXp-Span-634">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-635">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-636">u</span><span class="MJXp-msubsup" id="MJXp-Span-637"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-638" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.59em;"><span class="MJXp-mrow" id="MJXp-Span-643"><span class="MJXp-msubsup" id="MJXp-Span-644"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-645" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-646" style="vertical-align: -0.4em;">1</span></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-639"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-640">i</span><span class="MJXp-mo" id="MJXp-Span-641">=</span><span class="MJXp-mn" id="MJXp-Span-642">1</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-647">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-648">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-649">u</span><span class="MJXp-msubsup" id="MJXp-Span-650"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-651" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.59em;"><span class="MJXp-mrow" id="MJXp-Span-656"><span class="MJXp-msubsup" id="MJXp-Span-657"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-658" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-659" style="vertical-align: -0.4em;">0</span></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-652"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-653">j</span><span class="MJXp-mo" id="MJXp-Span-654">=</span><span class="MJXp-mn" id="MJXp-Span-655">1</span></span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-660">S</span><span class="MJXp-mo" id="MJXp-Span-661" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-662"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-663" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-664" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-665" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-666"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-667" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-668" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-669" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mrow" id="MJXp-Span-670"><span class="MJXp-msubsup" id="MJXp-Span-671"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-672" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-673" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-674" style="margin-left: 0.267em; margin-right: 0.267em;">‚àó</span><span class="MJXp-msubsup" id="MJXp-Span-675"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-676" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-677" style="vertical-align: -0.4em;">0</span></span></span><span class="MJXp-mtext" id="MJXp-Span-678">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-679">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-680">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-681">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-682">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-683">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-684">e</span><span class="MJXp-mrow" id="MJXp-Span-685"><span class="MJXp-mn" id="MJXp-Span-686">15</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-687">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-688">t</span></span><span class="MJXp-mo" id="MJXp-Span-689" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-690">5</span><span class="MJXp-mo" id="MJXp-Span-691" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-33"> AUCROC = \ frac {\ sum_ {i = 1} ^ {n_1} \ sum_ {j = 1} ^ {n_0} S (x_i, x_j)} {n_1 * n_0} \ hspace {15pt} (5) </script></p><br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-692"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-693">S</span><span class="MJXp-mo" id="MJXp-Span-694" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-695"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-696" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-697" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-698" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-699"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-700" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-701" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-702" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-703" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-704">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-705">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-706">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-707">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-708">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-709">n</span><span class="MJXp-mrow" id="MJXp-Span-710"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-711">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-712">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-713">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-714">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-715">s</span></span><span class="MJXp-mn" id="MJXp-Span-716">1</span><span class="MJXp-mo" id="MJXp-Span-717" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-718">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-719">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-720">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-721">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-722">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-723">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-724">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-725">e</span><span class="MJXp-msubsup" id="MJXp-Span-726"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-727" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-728" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-729" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-msubsup" id="MJXp-Span-730"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-731" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-732" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mspace" id="MJXp-Span-733" style="width: 0em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-734">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-735">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-736">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-737">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-738">c</span><span class="MJXp-mrow" id="MJXp-Span-739"><span class="MJXp-mn" id="MJXp-Span-740">1</span></span><span class="MJXp-mrow" id="MJXp-Span-741"><span class="MJXp-mn" id="MJXp-Span-742">2</span></span><span class="MJXp-mo" id="MJXp-Span-743" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-744">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-745">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-746">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-747">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-748">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-749">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-750">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-751">e</span><span class="MJXp-msubsup" id="MJXp-Span-752"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-753" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-754" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-755" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-756"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-757" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-758" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mspace" id="MJXp-Span-759" style="width: 0em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-760">0</span><span class="MJXp-mo" id="MJXp-Span-761" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-762">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-763">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-764">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-765">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-766">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-767">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-768">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-769">e</span><span class="MJXp-msubsup" id="MJXp-Span-770"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-771" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-772" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-773" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-msubsup" id="MJXp-Span-774"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-775" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-776" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mtext" id="MJXp-Span-777">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-778">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-779">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-780">d</span><span class="MJXp-mrow" id="MJXp-Span-781"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-782">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-783">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-784">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-785">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-786">s</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-34"> S (x_i, x_j) = \ begin {cases} 1, \ enspace x_i> x_j \\ \ frac {1} {2}, \ enspace x_i = x_j \\ 0, \ enspace x_i <x_j \ end {cases} </script></p><br><br>  Where <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-787"><span class="MJXp-msubsup" id="MJXp-Span-788"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-789" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-790" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-35"> x_i </script>  - the answer of the algorithm on the i-th object from the distribution "1", <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-791"><span class="MJXp-msubsup" id="MJXp-Span-792"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-793" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-794" style="vertical-align: -0.4em;">j</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-36"> x_j </script>  - the response of the algorithm on the j-th object from the distribution of "0" <br><br>  The proof of this formula can, for example, be found <a href="https://stats.stackexchange.com/questions/272314/how-does-auc-of-roc-equal-concordance-probability">here.</a> <br><br>  This is interpreted very intuitively: if you randomly extract a pair of objects, where the first object will be from the distribution "1" and the second from the distribution "0", then the probability that the first object will have a predicted value greater or equal than the predicted value of the second object, equal to the value of the AUC ROC.  Combinatorial it is easy to calculate that the number of pairs of such objects will be: <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-795"><span class="MJXp-msubsup" id="MJXp-Span-796"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-797" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-798" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-799" style="margin-left: 0.267em; margin-right: 0.267em;">‚àó</span><span class="MJXp-msubsup" id="MJXp-Span-800"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-801" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-802" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-37"> n_1 * n_0 </script>  . <br><br>  Let the model predict <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-803"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-804">k</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-38"> k </script>  possible values ‚Äã‚Äãfrom the set <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-805"><span class="noError" id="MJXp-Span-806" style="display: inline-block;">S&nbsp;=&nbsp;\&nbsp;{s_1,&nbsp;\&nbsp;dots,&nbsp;s_k&nbsp;\}</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-39"> S = \ {s_1, \ dots, s_k \} </script>  where <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-807"><span class="MJXp-msubsup" id="MJXp-Span-808"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-809" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-810" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-811" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-mtext" id="MJXp-Span-812">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-813">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-814">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-815">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-816">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-817">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-818">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-819">e</span><span class="MJXp-mo" id="MJXp-Span-820" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-821" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-822" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mtext" id="MJXp-Span-823">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-824">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-825">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-826">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-827">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-828">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-829">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-830">e</span><span class="MJXp-mo" id="MJXp-Span-831" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-msubsup" id="MJXp-Span-832"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-833" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-834" style="vertical-align: -0.4em;">k</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-40"> s_1 <\ enspace ... \ enspace <s_k </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-835"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-836">S</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-41"> S </script>  - some probability distribution, the elements of which take values ‚Äã‚Äãon the interval <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-837"><span class="MJXp-mo" id="MJXp-Span-838" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-839">0</span><span class="MJXp-mo" id="MJXp-Span-840" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-841">1</span><span class="MJXp-mo" id="MJXp-Span-842" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-42"> [0,1] </script>  . <br>  Let be <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-843"><span class="MJXp-msubsup" id="MJXp-Span-844"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-845" style="margin-right: 0.05em;">S</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-846" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-847"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-848" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-849" style="vertical-align: -0.4em;">1</span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-43"> S_ {n_1} </script>  set of values ‚Äã‚Äãthat objects take <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-850"><span class="MJXp-msubsup" id="MJXp-Span-851"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-852" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-853" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-44"> n_1 </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-854"><span class="MJXp-msubsup" id="MJXp-Span-855"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-856" style="margin-right: 0.05em;">S</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-857" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-858"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-859" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-860" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-861">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-862">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-863">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-864">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-865">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-866">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-867">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-868">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-869">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-870">S</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-45"> S_ {n_1} \ subseteq S </script>  .  Let be <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-871"><span class="MJXp-msubsup" id="MJXp-Span-872"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-873" style="margin-right: 0.05em;">S</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-874" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-875"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-876" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-877" style="vertical-align: -0.4em;">0</span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-46"> S_ {n_0} </script>  set of values ‚Äã‚Äãthat objects take <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-878"><span class="MJXp-msubsup" id="MJXp-Span-879"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-880" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-881" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-47"> n_0 </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-882"><span class="MJXp-msubsup" id="MJXp-Span-883"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-884" style="margin-right: 0.05em;">S</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-885" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-886"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-887" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-888" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-889">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-890">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-891">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-892">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-893">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-894">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-895">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-896">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-897">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-898">S</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-48"> S_ {n_0} \ subseteq S </script>  .  Obviously, the sets <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-899"><span class="MJXp-msubsup" id="MJXp-Span-900"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-901" style="margin-right: 0.05em;">S</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-902" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-903"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-904" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-905" style="vertical-align: -0.4em;">1</span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-49"> S_ {n_1} </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-906"><span class="MJXp-msubsup" id="MJXp-Span-907"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-908" style="margin-right: 0.05em;">S</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-909" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-910"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-911" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-912" style="vertical-align: -0.4em;">0</span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-50"> S_ {n_0} </script>  may intersect. <br><br>  Denote <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-913"><span class="MJXp-msubsup" id="MJXp-Span-914"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-915" style="margin-right: 0.05em;">p</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-921"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-922">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-916"><span class="MJXp-msubsup" id="MJXp-Span-917"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-918" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-919" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-920">0</span></span></span></span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-51"> p_ {n_ {0}} ^ {i} </script>  like the probability that the object <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-923"><span class="MJXp-msubsup" id="MJXp-Span-924"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-925" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-926" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-52-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-52"> n_0 </script>  will take value <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-927"><span class="MJXp-msubsup" id="MJXp-Span-928"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-929" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-930" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-53-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-53"> s_i </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-931"><span class="MJXp-msubsup" id="MJXp-Span-932"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-933" style="margin-right: 0.05em;">p</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-939"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-940">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-934"><span class="MJXp-msubsup" id="MJXp-Span-935"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-936" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-937" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-938">1</span></span></span></span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-54"> p_ {n_ {1}} ^ {i} </script>  like the probability that the object <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-941"><span class="MJXp-msubsup" id="MJXp-Span-942"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-943" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-944" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-55"> n_1 </script>  will take value <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-945"><span class="MJXp-msubsup" id="MJXp-Span-946"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-947" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-948" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-56"> s_i </script>  .  Then <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-949"><span class="MJXp-mtext" id="MJXp-Span-950">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-951">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-952">u</span><span class="MJXp-msubsup" id="MJXp-Span-953"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-954" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-959"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-960">k</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-955"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-956">i</span><span class="MJXp-mo" id="MJXp-Span-957">=</span><span class="MJXp-mn" id="MJXp-Span-958">1</span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-961"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-962" style="margin-right: 0.05em;">p</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-968"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-969">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-963"><span class="MJXp-msubsup" id="MJXp-Span-964"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-965" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-966" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-967">0</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-970" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-971">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-57"> \ sum_ {i = 1} ^ {k} p_ {n_ {0}} ^ {i} = 1 </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-972"><span class="MJXp-mtext" id="MJXp-Span-973">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-974">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-975">u</span><span class="MJXp-msubsup" id="MJXp-Span-976"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-977" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-982"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-983">k</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-978"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-979">i</span><span class="MJXp-mo" id="MJXp-Span-980">=</span><span class="MJXp-mn" id="MJXp-Span-981">1</span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-984"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-985" style="margin-right: 0.05em;">p</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-991"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-992">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-986"><span class="MJXp-msubsup" id="MJXp-Span-987"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-988" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-989" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-990">1</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-993" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-994">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-58-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-58"> \ sum_ {i = 1} ^ {k} p_ {n_ {1}} ^ {i} = 1 </script><br><br>  Having a prior probability <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-995"><span class="MJXp-mtext" id="MJXp-Span-996">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-997">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-998">i</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-59-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-59"> \ pi </script>  for each sample object, we can write a formula that determines the probability that the object will take the value <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-999"><span class="MJXp-msubsup" id="MJXp-Span-1000"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1001" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1002" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-60-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-60"> s_i </script>  : <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1003"><span class="MJXp-msubsup" id="MJXp-Span-1004"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1005" style="margin-right: 0.05em;">p</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1008"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1009">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1006"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1007">n</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1010" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1011">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1012">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1013">i</span><span class="MJXp-msubsup" id="MJXp-Span-1014"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1015" style="margin-right: 0.05em;">p</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1021"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1022">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1016"><span class="MJXp-msubsup" id="MJXp-Span-1017"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1018" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1019" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1020">0</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1023" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-1024" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-1025">1</span><span class="MJXp-mo" id="MJXp-Span-1026" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-1027">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1028">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1029">i</span><span class="MJXp-mo" id="MJXp-Span-1030" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-1031"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1032" style="margin-right: 0.05em;">p</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1038"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1039">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1033"><span class="MJXp-msubsup" id="MJXp-Span-1034"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1035" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1036" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1037">1</span></span></span></span></span></span></span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-61-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-61"> p_ {n} ^ {i} = \ pi p_ {n_ {0}} ^ {i} + (1- \ pi) p_ {n_ {1}} ^ {i} </script></p><br><br>  We define three distribution functions: <br>  - for objects of class "1" <br>  - for objects of class "0" <br>  - for all sample objects <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1040"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1041">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1042">D</span><span class="MJXp-msubsup" id="MJXp-Span-1043"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1044" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1050"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1051">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1045"><span class="MJXp-msubsup" id="MJXp-Span-1046"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1047" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1048" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1049">1</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1052" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1053">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1054">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1055">u</span><span class="MJXp-msubsup" id="MJXp-Span-1056"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1057" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1062"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1063">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1058"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1059">j</span><span class="MJXp-mo" id="MJXp-Span-1060">=</span><span class="MJXp-mn" id="MJXp-Span-1061">1</span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-1064"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1065" style="margin-right: 0.05em;">p</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1071"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1072">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1066"><span class="MJXp-msubsup" id="MJXp-Span-1067"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1068" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1069" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1070">1</span></span></span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1073">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1074">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1075">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1076">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1077">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1078">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1079">e</span><span class="MJXp-mrow" id="MJXp-Span-1080"><span class="MJXp-mn" id="MJXp-Span-1081">10</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1082">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1083">t</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1084">i</span><span class="MJXp-mo" id="MJXp-Span-1085" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-1086">1</span><span class="MJXp-mo" id="MJXp-Span-1087" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-1088">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1089">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1090">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1091">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1092">s</span><span class="MJXp-mo" id="MJXp-Span-1093" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1094">k</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-62-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-62"> CDF_ {n_ {1}} ^ {i} = \ sum_ {j = 1} ^ {i} p_ {n_ {1}} ^ {i} \ hspace {10pt} i = 1, \ dots, k </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1095"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1096">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1097">D</span><span class="MJXp-msubsup" id="MJXp-Span-1098"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1099" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1105"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1106">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1100"><span class="MJXp-msubsup" id="MJXp-Span-1101"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1102" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1103" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1104">0</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1107" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1108">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1109">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1110">u</span><span class="MJXp-msubsup" id="MJXp-Span-1111"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1112" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1117"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1118">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1113"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1114">j</span><span class="MJXp-mo" id="MJXp-Span-1115">=</span><span class="MJXp-mn" id="MJXp-Span-1116">1</span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-1119"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1120" style="margin-right: 0.05em;">p</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1126"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1127">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1121"><span class="MJXp-msubsup" id="MJXp-Span-1122"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1123" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1124" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1125">0</span></span></span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1128">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1129">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1130">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1131">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1132">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1133">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1134">e</span><span class="MJXp-mrow" id="MJXp-Span-1135"><span class="MJXp-mn" id="MJXp-Span-1136">10</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1137">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1138">t</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1139">i</span><span class="MJXp-mo" id="MJXp-Span-1140" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-1141">1</span><span class="MJXp-mo" id="MJXp-Span-1142" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-1143">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1144">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1145">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1146">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1147">s</span><span class="MJXp-mo" id="MJXp-Span-1148" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1149">k</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-63-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-63"> CDF_ {n_ {0}} ^ {i} = \ sum_ {j = 1} ^ {i} p_ {n_ {0}} ^ {i} \ hspace {10pt} i = 1, \ dots, k </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1150"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1151">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1152">D</span><span class="MJXp-msubsup" id="MJXp-Span-1153"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1154" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1157"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1158">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1155"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1156">n</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1159" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1160">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1161">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1162">u</span><span class="MJXp-msubsup" id="MJXp-Span-1163"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1164" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1169"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1170">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1165"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1166">j</span><span class="MJXp-mo" id="MJXp-Span-1167">=</span><span class="MJXp-mn" id="MJXp-Span-1168">1</span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-1171"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1172" style="margin-right: 0.05em;">p</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1175"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1176">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1173"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1174">n</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1177">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1178">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1179">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1180">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1181">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1182">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1183">e</span><span class="MJXp-mrow" id="MJXp-Span-1184"><span class="MJXp-mn" id="MJXp-Span-1185">10</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1186">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1187">t</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1188">i</span><span class="MJXp-mo" id="MJXp-Span-1189" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-1190">1</span><span class="MJXp-mo" id="MJXp-Span-1191" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-1192">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1193">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1194">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1195">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1196">s</span><span class="MJXp-mo" id="MJXp-Span-1197" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1198">k</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-64-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-64"> CDF_ {n} ^ {i} = \ sum_ {j = 1} ^ {i} p_ {n} ^ {i} \ hspace {10pt} i = 1, \ dots, k </script></p><br><br>  An example of how the distribution functions for two classes may look like in a credit scoring task: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5b7/9f3/5ff/5b79f35ffad235787d2e15c79fd2c0b2.png"><br><br>  The figure also shows the statistics of Kolmogorov-Smirnov, which is also used to evaluate models. <br><br>  We write the Wilcoxon formula in a probabilistic form and transform it: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1199"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1200">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1201">U</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1202">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1203">R</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1204">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1205">C</span><span class="MJXp-mo" id="MJXp-Span-1206" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1207">P</span><span class="MJXp-mo" id="MJXp-Span-1208" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1209"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1210" style="margin-right: 0.05em;">S</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1211" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-1212"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1213" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1214" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1215" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-msubsup" id="MJXp-Span-1216"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1217" style="margin-right: 0.05em;">S</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1218" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-1219"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1220" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1221" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1222" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1223" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-1224">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1225">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1226">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1227">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1228">c</span><span class="MJXp-mrow" id="MJXp-Span-1229"><span class="MJXp-mn" id="MJXp-Span-1230">1</span></span><span class="MJXp-mrow" id="MJXp-Span-1231"><span class="MJXp-mn" id="MJXp-Span-1232">2</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1233">P</span><span class="MJXp-mo" id="MJXp-Span-1234" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1235"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1236" style="margin-right: 0.05em;">S</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1237" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-1238"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1239" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1240" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1241" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1242"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1243" style="margin-right: 0.05em;">S</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1244" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-1245"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1246" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1247" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1248" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1249" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mspace" id="MJXp-Span-1250" style="width: 0em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-1251">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1252">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1253">u</span><span class="MJXp-msubsup" id="MJXp-Span-1254"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1255" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1260"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1261">k</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1256"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1257">i</span><span class="MJXp-mo" id="MJXp-Span-1258">=</span><span class="MJXp-mn" id="MJXp-Span-1259">1</span></span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1262">P</span><span class="MJXp-mo" id="MJXp-Span-1263" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1264"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1265" style="margin-right: 0.05em;">S</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1266" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-1267"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1268" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1269" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1270">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1271">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1272">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1273">q</span><span class="MJXp-msubsup" id="MJXp-Span-1274"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1275" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1276" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1277">i</span><span class="MJXp-mo" id="MJXp-Span-1278">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1279">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-1280" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1281">P</span><span class="MJXp-mo" id="MJXp-Span-1282" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1283"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1284" style="margin-right: 0.05em;">S</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1285" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-1286"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1287" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1288" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1289" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1290"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1291" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1292" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1293">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-1294" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1295" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-1296">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1297">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1298">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1299">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1300">c</span><span class="MJXp-mrow" id="MJXp-Span-1301"><span class="MJXp-mn" id="MJXp-Span-1302">1</span></span><span class="MJXp-mrow" id="MJXp-Span-1303"><span class="MJXp-mn" id="MJXp-Span-1304">2</span></span><span class="MJXp-mtext" id="MJXp-Span-1305">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1306">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1307">u</span><span class="MJXp-msubsup" id="MJXp-Span-1308"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1309" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1314"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1315">k</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1310"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1311">i</span><span class="MJXp-mo" id="MJXp-Span-1312">=</span><span class="MJXp-mn" id="MJXp-Span-1313">1</span></span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1316">P</span><span class="MJXp-mo" id="MJXp-Span-1317" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1318"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1319" style="margin-right: 0.05em;">S</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1320" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-1321"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1322" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1323" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1324" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1325"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1326" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1327" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1328">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-1329" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1330">P</span><span class="MJXp-mo" id="MJXp-Span-1331" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1332"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1333" style="margin-right: 0.05em;">S</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1334" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-1335"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1336" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1337" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1338" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1339"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1340" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1341" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1342">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-1343" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1344" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mspace" id="MJXp-Span-1345" style="width: 0em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-1346">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1347">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1348">u</span><span class="MJXp-msubsup" id="MJXp-Span-1349"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1350" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1355"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1356">k</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1351"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1352">i</span><span class="MJXp-mo" id="MJXp-Span-1353">=</span><span class="MJXp-mn" id="MJXp-Span-1354">1</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1357">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1358">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1359">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1360">g</span><span class="MJXp-mo" id="MJXp-Span-1361" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-1362" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1363">P</span><span class="MJXp-mo" id="MJXp-Span-1364" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1365"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1366" style="margin-right: 0.05em;">S</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1367" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-1368"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1369" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1370" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1371">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1372">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1373">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1374">q</span><span class="MJXp-msubsup" id="MJXp-Span-1375"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1376" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1377" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1378">i</span><span class="MJXp-mo" id="MJXp-Span-1379">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1380">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-1381" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1382" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-1383">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1384">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1385">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1386">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1387">c</span><span class="MJXp-mrow" id="MJXp-Span-1388"><span class="MJXp-mn" id="MJXp-Span-1389">1</span></span><span class="MJXp-mrow" id="MJXp-Span-1390"><span class="MJXp-mn" id="MJXp-Span-1391">2</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1392">P</span><span class="MJXp-mo" id="MJXp-Span-1393" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1394"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1395" style="margin-right: 0.05em;">S</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1396" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-1397"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1398" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1399" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1400" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1401"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1402" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1403" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1404">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-1405" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-1406">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1407">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1408">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1409">g</span><span class="MJXp-mo" id="MJXp-Span-1410" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1411">P</span><span class="MJXp-mo" id="MJXp-Span-1412" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1413"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1414" style="margin-right: 0.05em;">S</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1415" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-1416"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1417" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1418" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1419" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1420"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1421" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1422" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1423">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-1424" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1425" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mspace" id="MJXp-Span-1426" style="width: 0em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-1427">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1428">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1429">u</span><span class="MJXp-msubsup" id="MJXp-Span-1430"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1431" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1436"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1437">k</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1432"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1433">i</span><span class="MJXp-mo" id="MJXp-Span-1434">=</span><span class="MJXp-mn" id="MJXp-Span-1435">1</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1438">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1439">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1440">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1441">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1442">c</span><span class="MJXp-mrow" id="MJXp-Span-1443"><span class="MJXp-mn" id="MJXp-Span-1444">1</span></span><span class="MJXp-mrow" id="MJXp-Span-1445"><span class="MJXp-mn" id="MJXp-Span-1446">2</span></span><span class="MJXp-mtext" id="MJXp-Span-1447">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1448">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1449">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1450">g</span><span class="MJXp-mo" id="MJXp-Span-1451" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-1452" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1453">P</span><span class="MJXp-mo" id="MJXp-Span-1454" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1455"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1456" style="margin-right: 0.05em;">S</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1457" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-1458"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1459" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1460" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1461">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1462">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1463">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1464">q</span><span class="MJXp-msubsup" id="MJXp-Span-1465"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1466" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1467" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1468">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-1469" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1470" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-1471" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1472">P</span><span class="MJXp-mo" id="MJXp-Span-1473" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1474"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1475" style="margin-right: 0.05em;">S</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1476" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-1477"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1478" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1479" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1480">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1481">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1482">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1483">q</span><span class="MJXp-msubsup" id="MJXp-Span-1484"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1485" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1486" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1487">i</span><span class="MJXp-mo" id="MJXp-Span-1488">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1489">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-1490" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-1491">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1492">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1493">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1494">g</span><span class="MJXp-mo" id="MJXp-Span-1495" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1496">P</span><span class="MJXp-mo" id="MJXp-Span-1497" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1498"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1499" style="margin-right: 0.05em;">S</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1500" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-1501"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1502" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1503" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1504" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1505"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1506" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1507" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1508">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-1509" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1510" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mspace" id="MJXp-Span-1511" style="width: 0em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-1512">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1513">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1514">u</span><span class="MJXp-msubsup" id="MJXp-Span-1515"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1516" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1521"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1522">k</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1517"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1518">i</span><span class="MJXp-mo" id="MJXp-Span-1519">=</span><span class="MJXp-mn" id="MJXp-Span-1520">1</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1523">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1524">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1525">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1526">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1527">c</span><span class="MJXp-mrow" id="MJXp-Span-1528"><span class="MJXp-mn" id="MJXp-Span-1529">1</span></span><span class="MJXp-mrow" id="MJXp-Span-1530"><span class="MJXp-mn" id="MJXp-Span-1531">2</span></span><span class="MJXp-mo" id="MJXp-Span-1532" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1533">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1534">D</span><span class="MJXp-msubsup" id="MJXp-Span-1535"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1536" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1542"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1543">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1537"><span class="MJXp-msubsup" id="MJXp-Span-1538"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1539" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1540" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1541">1</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1544" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1545">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1546">D</span><span class="MJXp-msubsup" id="MJXp-Span-1547"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1548" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1554"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1555">i</span><span class="MJXp-mo" id="MJXp-Span-1556">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1557">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1549"><span class="MJXp-msubsup" id="MJXp-Span-1550"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1551" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1552" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1553">1</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1558" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1559" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1560">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1561">D</span><span class="MJXp-msubsup" id="MJXp-Span-1562"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1563" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1569"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1570">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1564"><span class="MJXp-msubsup" id="MJXp-Span-1565"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1566" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1567" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1568">0</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1571" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1572">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1573">D</span><span class="MJXp-msubsup" id="MJXp-Span-1574"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1575" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1581"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1582">i</span><span class="MJXp-mo" id="MJXp-Span-1583">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1584">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1576"><span class="MJXp-msubsup" id="MJXp-Span-1577"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1578" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1579" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1580">0</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1585" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-1586">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1587">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1588">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1589">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1590">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1591">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1592">e</span><span class="MJXp-mrow" id="MJXp-Span-1593"><span class="MJXp-mn" id="MJXp-Span-1594">15</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1595">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1596">t</span></span><span class="MJXp-mo" id="MJXp-Span-1597" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-1598">6</span><span class="MJXp-mo" id="MJXp-Span-1599" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-65-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-65"> AUCROC = P (S_ {n_1}> S_ {n_1}) + \ frac {1} {2} P (S_ {n_1} = S_ {n_1}) = \\ \ sum_ {i = 1} ^ {k} P (S_ {n_1} \ geq s_ {i-1}) P (S_ {n_0} = s_ {i}) + \ frac {1} {2} \ sum_ {i = 1} ^ {k} P (S_ {n_1} = s_ {i}) P (S_ {n_0} = s_ {i}) = \\ \ sum_ {i = 1} ^ {k} \ big ((P (S_ {n_1} \ geq s_ {i -1}) + \ frac {1} {2} P (S_ {n_1} = s_ {i}) \ big) P (S_ {n_0} = s_ {i}) = \\ \ sum_ {i = 1} ^ {k} \ frac {1} {2} \ big ((P (S_ {n_1} \ geq s_ {i}) + (P (S_ {n_1} \ geq s_ {i-1}) \ big) P (S_ {n_0} = s_ {i}) = \\ \ sum_ {i = 1} ^ {k} \ frac {1} {2} (CDF_ {n_ {1}} ^ {i} + CDF_ {n_ { 1}} ^ {i-1}) (CDF_ {n_ {0}} ^ {i} - CDF_ {n_ {0}} ^ {i-1}) \ hspace {15pt} (6) </script></p><br><br>  We can write a similar formula for the area under the Lift Curve (remember that it consists of the sum of two areas, one of which is always 0.5): <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1600"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1601">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1602">U</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1603">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1604">L</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1605">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1606">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1607">t</span><span class="MJXp-mo" id="MJXp-Span-1608" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1609">G</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1610">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1611">n</span><span class="MJXp-msubsup" id="MJXp-Span-1612"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1613" style="margin-right: 0.05em;">i</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1614" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1615">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1616">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1617">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1618">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1619">l</span></span></span><span class="MJXp-mo" id="MJXp-Span-1620" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-1621">0.5</span><span class="MJXp-mo" id="MJXp-Span-1622" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1623">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1624">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1625">u</span><span class="MJXp-msubsup" id="MJXp-Span-1626"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1627" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1632"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1633">k</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1628"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1629">i</span><span class="MJXp-mo" id="MJXp-Span-1630">=</span><span class="MJXp-mn" id="MJXp-Span-1631">1</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1634">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1635">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1636">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1637">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1638">c</span><span class="MJXp-mrow" id="MJXp-Span-1639"><span class="MJXp-mn" id="MJXp-Span-1640">1</span></span><span class="MJXp-mrow" id="MJXp-Span-1641"><span class="MJXp-mn" id="MJXp-Span-1642">2</span></span><span class="MJXp-mo" id="MJXp-Span-1643" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1644">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1645">D</span><span class="MJXp-msubsup" id="MJXp-Span-1646"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1647" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1653"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1654">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1648"><span class="MJXp-msubsup" id="MJXp-Span-1649"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1650" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1651" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1652">1</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1655" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1656">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1657">D</span><span class="MJXp-msubsup" id="MJXp-Span-1658"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1659" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1665"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1666">i</span><span class="MJXp-mo" id="MJXp-Span-1667">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1668">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1660"><span class="MJXp-msubsup" id="MJXp-Span-1661"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1662" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1663" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1664">1</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1669" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1670" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1671">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1672">D</span><span class="MJXp-msubsup" id="MJXp-Span-1673"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1674" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1677"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1678">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1675"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1676">n</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1679" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1680">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1681">D</span><span class="MJXp-msubsup" id="MJXp-Span-1682"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1683" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1686"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1687">i</span><span class="MJXp-mo" id="MJXp-Span-1688">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1689">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1684"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1685">n</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1690" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-1691">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1692">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1693">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1694">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1695">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1696">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1697">e</span><span class="MJXp-mrow" id="MJXp-Span-1698"><span class="MJXp-mn" id="MJXp-Span-1699">15</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1700">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1701">t</span></span><span class="MJXp-mo" id="MJXp-Span-1702" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-1703">7</span><span class="MJXp-mo" id="MJXp-Span-1704" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-66-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-66"> AUC Lift = Gini_ {model} + 0.5 = \ sum_ {i = 1} ^ {k} \ frac {1} {2} (CDF_ {n_ {1}} ^ {i} + CDF_ {n_ {1}} ^ {i-1}) (CDF_ {n} ^ {i} - CDF_ {n} ^ {i-1}) \ hspace {15pt} (7) </script></p><br><br>  And now we will transform it: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1705"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1706">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1707">U</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1708">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1709">L</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1710">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1711">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1712">t</span><span class="MJXp-mo" id="MJXp-Span-1713" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1714">G</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1715">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1716">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1717">i</span><span class="MJXp-mo" id="MJXp-Span-1718" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-1719">0.5</span><span class="MJXp-mo" id="MJXp-Span-1720" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1721">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1722">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1723">u</span><span class="MJXp-msubsup" id="MJXp-Span-1724"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1725" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1730"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1731">k</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1726"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1727">i</span><span class="MJXp-mo" id="MJXp-Span-1728">=</span><span class="MJXp-mn" id="MJXp-Span-1729">1</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1732">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1733">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1734">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1735">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1736">c</span><span class="MJXp-mrow" id="MJXp-Span-1737"><span class="MJXp-mn" id="MJXp-Span-1738">1</span></span><span class="MJXp-mrow" id="MJXp-Span-1739"><span class="MJXp-mn" id="MJXp-Span-1740">2</span></span><span class="MJXp-mo" id="MJXp-Span-1741" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1742">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1743">D</span><span class="MJXp-msubsup" id="MJXp-Span-1744"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1745" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1751"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1752">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1746"><span class="MJXp-msubsup" id="MJXp-Span-1747"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1748" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1749" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1750">1</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1753" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1754">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1755">D</span><span class="MJXp-msubsup" id="MJXp-Span-1756"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1757" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1763"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1764">i</span><span class="MJXp-mo" id="MJXp-Span-1765">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1766">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1758"><span class="MJXp-msubsup" id="MJXp-Span-1759"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1760" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1761" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1762">1</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1767" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1768" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1769">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1770">D</span><span class="MJXp-msubsup" id="MJXp-Span-1771"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1772" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1775"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1776">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1773"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1774">n</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1777" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1778">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1779">D</span><span class="MJXp-msubsup" id="MJXp-Span-1780"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1781" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1784"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1785">i</span><span class="MJXp-mo" id="MJXp-Span-1786">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1787">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1782"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1783">n</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1788" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1789" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mspace" id="MJXp-Span-1790" style="width: 0em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-1791">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1792">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1793">u</span><span class="MJXp-msubsup" id="MJXp-Span-1794"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1795" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1800"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1801">k</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1796"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1797">i</span><span class="MJXp-mo" id="MJXp-Span-1798">=</span><span class="MJXp-mn" id="MJXp-Span-1799">1</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1802">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1803">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1804">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1805">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1806">c</span><span class="MJXp-mrow" id="MJXp-Span-1807"><span class="MJXp-mn" id="MJXp-Span-1808">1</span></span><span class="MJXp-mrow" id="MJXp-Span-1809"><span class="MJXp-mn" id="MJXp-Span-1810">2</span></span><span class="MJXp-mo" id="MJXp-Span-1811" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1812">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1813">D</span><span class="MJXp-msubsup" id="MJXp-Span-1814"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1815" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1821"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1822">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1816"><span class="MJXp-msubsup" id="MJXp-Span-1817"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1818" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1819" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1820">1</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1823" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1824">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1825">D</span><span class="MJXp-msubsup" id="MJXp-Span-1826"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1827" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1833"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1834">i</span><span class="MJXp-mo" id="MJXp-Span-1835">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1836">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1828"><span class="MJXp-msubsup" id="MJXp-Span-1829"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1830" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1831" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1832">1</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1837" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-1838">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1839">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1840">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1841">g</span><span class="MJXp-mo" id="MJXp-Span-1842" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-1843">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1844">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1845">i</span><span class="MJXp-mo" id="MJXp-Span-1846" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1847">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1848">D</span><span class="MJXp-msubsup" id="MJXp-Span-1849"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1850" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1856"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1857">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1851"><span class="MJXp-msubsup" id="MJXp-Span-1852"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1853" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1854" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1855">1</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1858" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1859">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1860">D</span><span class="MJXp-msubsup" id="MJXp-Span-1861"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1862" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1868"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1869">i</span><span class="MJXp-mo" id="MJXp-Span-1870">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1871">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1863"><span class="MJXp-msubsup" id="MJXp-Span-1864"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1865" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1866" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1867">1</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1872" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1873" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-1874" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-1875">1</span><span class="MJXp-mo" id="MJXp-Span-1876" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-1877">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1878">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1879">i</span><span class="MJXp-mo" id="MJXp-Span-1880" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1881" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1882">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1883">D</span><span class="MJXp-msubsup" id="MJXp-Span-1884"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1885" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1891"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1892">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1886"><span class="MJXp-msubsup" id="MJXp-Span-1887"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1888" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1889" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1890">0</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1893" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1894">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1895">D</span><span class="MJXp-msubsup" id="MJXp-Span-1896"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1897" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1903"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1904">i</span><span class="MJXp-mo" id="MJXp-Span-1905">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1906">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1898"><span class="MJXp-msubsup" id="MJXp-Span-1899"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1900" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1901" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1902">0</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1907" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-1908">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1909">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1910">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1911">g</span><span class="MJXp-mo" id="MJXp-Span-1912" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1913" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mspace" id="MJXp-Span-1914" style="width: 0em; height: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-1915" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-1916">1</span><span class="MJXp-mo" id="MJXp-Span-1917" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-1918">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1919">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1920">i</span><span class="MJXp-mo" id="MJXp-Span-1921" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-1922">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1923">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1924">u</span><span class="MJXp-msubsup" id="MJXp-Span-1925"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1926" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1931"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1932">k</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1927"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1928">i</span><span class="MJXp-mo" id="MJXp-Span-1929">=</span><span class="MJXp-mn" id="MJXp-Span-1930">1</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1933">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1934">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1935">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1936">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1937">c</span><span class="MJXp-mrow" id="MJXp-Span-1938"><span class="MJXp-mn" id="MJXp-Span-1939">1</span></span><span class="MJXp-mrow" id="MJXp-Span-1940"><span class="MJXp-mn" id="MJXp-Span-1941">2</span></span><span class="MJXp-mo" id="MJXp-Span-1942" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1943">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1944">D</span><span class="MJXp-msubsup" id="MJXp-Span-1945"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1946" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1952"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1953">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1947"><span class="MJXp-msubsup" id="MJXp-Span-1948"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1949" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1950" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1951">1</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1954" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1955">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1956">D</span><span class="MJXp-msubsup" id="MJXp-Span-1957"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1958" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1964"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1965">i</span><span class="MJXp-mo" id="MJXp-Span-1966">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1967">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1959"><span class="MJXp-msubsup" id="MJXp-Span-1960"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1961" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1962" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1963">1</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1968" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1969" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1970">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1971">D</span><span class="MJXp-msubsup" id="MJXp-Span-1972"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1973" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1979"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1980">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1974"><span class="MJXp-msubsup" id="MJXp-Span-1975"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1976" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1977" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1978">0</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1981" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1982">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1983">D</span><span class="MJXp-msubsup" id="MJXp-Span-1984"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1985" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1991"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1992">i</span><span class="MJXp-mo" id="MJXp-Span-1993">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1994">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1986"><span class="MJXp-msubsup" id="MJXp-Span-1987"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1988" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1989" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1990">0</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1995" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1996" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mspace" id="MJXp-Span-1997" style="width: 0em; height: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-1998" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-1999">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2000">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2001">i</span><span class="MJXp-mtext" id="MJXp-Span-2002">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2003">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2004">u</span><span class="MJXp-msubsup" id="MJXp-Span-2005"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2006" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2011"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2012">k</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-2007"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2008">i</span><span class="MJXp-mo" id="MJXp-Span-2009">=</span><span class="MJXp-mn" id="MJXp-Span-2010">1</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2013">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2014">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2015">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2016">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2017">c</span><span class="MJXp-mrow" id="MJXp-Span-2018"><span class="MJXp-mn" id="MJXp-Span-2019">1</span></span><span class="MJXp-mrow" id="MJXp-Span-2020"><span class="MJXp-mn" id="MJXp-Span-2021">2</span></span><span class="MJXp-mo" id="MJXp-Span-2022" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2023">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2024">D</span><span class="MJXp-msubsup" id="MJXp-Span-2025"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2026" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2032"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2033">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-2027"><span class="MJXp-msubsup" id="MJXp-Span-2028"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2029" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2030" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-2031">1</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-2034" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2035">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2036">D</span><span class="MJXp-msubsup" id="MJXp-Span-2037"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2038" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2044"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2045">i</span><span class="MJXp-mo" id="MJXp-Span-2046">‚àí</span><span class="MJXp-mn" id="MJXp-Span-2047">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-2039"><span class="MJXp-msubsup" id="MJXp-Span-2040"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2041" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2042" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-2043">1</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-2048" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2049" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2050">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2051">D</span><span class="MJXp-msubsup" id="MJXp-Span-2052"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2053" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2059"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2060">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-2054"><span class="MJXp-msubsup" id="MJXp-Span-2055"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2056" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2057" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-2058">1</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-2061" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2062">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2063">D</span><span class="MJXp-msubsup" id="MJXp-Span-2064"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2065" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2071"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2072">i</span><span class="MJXp-mo" id="MJXp-Span-2073">‚àí</span><span class="MJXp-mn" id="MJXp-Span-2074">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-2066"><span class="MJXp-msubsup" id="MJXp-Span-2067"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2068" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2069" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-2070">1</span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-2075" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2076" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mspace" id="MJXp-Span-2077" style="width: 0em; height: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-2078" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-2079">1</span><span class="MJXp-mo" id="MJXp-Span-2080" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-2081">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2082">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2083">i</span><span class="MJXp-mo" id="MJXp-Span-2084" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2085">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2086">U</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2087">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2088">R</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2089">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2090">C</span><span class="MJXp-mo" id="MJXp-Span-2091" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-2092">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2093">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2094">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2095">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2096">c</span><span class="MJXp-mrow" id="MJXp-Span-2097"><span class="MJXp-mn" id="MJXp-Span-2098">1</span></span><span class="MJXp-mrow" id="MJXp-Span-2099"><span class="MJXp-mn" id="MJXp-Span-2100">2</span></span><span class="MJXp-mtext" id="MJXp-Span-2101">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2102">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2103">i</span><span class="MJXp-mtext" id="MJXp-Span-2104">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2105">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2106">u</span><span class="MJXp-msubsup" id="MJXp-Span-2107"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2108" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2113"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2114">k</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-2109"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2110">i</span><span class="MJXp-mo" id="MJXp-Span-2111">=</span><span class="MJXp-mn" id="MJXp-Span-2112">1</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2115">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2116">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2117">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2118">g</span><span class="MJXp-mo" id="MJXp-Span-2119" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-2120" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2121">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2122">D</span><span class="MJXp-msubsup" id="MJXp-Span-2123"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2124" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2130"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2131">i</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-2125"><span class="MJXp-msubsup" id="MJXp-Span-2126"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2127" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2128" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-2129">1</span></span></span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-2132"><span class="MJXp-mo" id="MJXp-Span-2133" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-script-box" style="height: 1.62em; vertical-align: -0.4em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2135"><span class="MJXp-mn" id="MJXp-Span-2136">2</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-2134"></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-2137" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mo" id="MJXp-Span-2138" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2139">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2140">D</span><span class="MJXp-msubsup" id="MJXp-Span-2141"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2142" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.132em; vertical-align: -0.912em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2148"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2149">i</span><span class="MJXp-mo" id="MJXp-Span-2150">‚àí</span><span class="MJXp-mn" id="MJXp-Span-2151">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-2143"><span class="MJXp-msubsup" id="MJXp-Span-2144"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2145" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2146" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-2147">0</span></span></span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-2152"><span class="MJXp-mo" id="MJXp-Span-2153" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-script-box" style="height: 1.62em; vertical-align: -0.4em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2155"><span class="MJXp-mn" id="MJXp-Span-2156">2</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-2154"></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2157">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2158">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2159">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2160">g</span><span class="MJXp-mo" id="MJXp-Span-2161" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2162" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mspace" id="MJXp-Span-2163" style="width: 0em; height: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-2164" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-2165">1</span><span class="MJXp-mo" id="MJXp-Span-2166" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-2167">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2168">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2169">i</span><span class="MJXp-mo" id="MJXp-Span-2170" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2171">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2172">U</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2173">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2174">R</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2175">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2176">C</span><span class="MJXp-mo" id="MJXp-Span-2177" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-2178">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2179">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2180">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2181">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2182">c</span><span class="MJXp-mrow" id="MJXp-Span-2183"><span class="MJXp-mn" id="MJXp-Span-2184">1</span></span><span class="MJXp-mrow" id="MJXp-Span-2185"><span class="MJXp-mn" id="MJXp-Span-2186">2</span></span><span class="MJXp-mtext" id="MJXp-Span-2187">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2188">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2189">i</span><span class="MJXp-mtext" id="MJXp-Span-2190">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2191">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2192">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2193">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2194">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2195">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2196">e</span><span class="MJXp-mrow" id="MJXp-Span-2197"><span class="MJXp-mn" id="MJXp-Span-2198">15</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2199">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2200">t</span></span><span class="MJXp-mo" id="MJXp-Span-2201" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-2202">8</span><span class="MJXp-mo" id="MJXp-Span-2203" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-67-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-67"> AUC Lift = Gini + 0.5 = \ sum_ {i = 1} ^ {k} \ frac {1} {2} (CDF_ {n_ {1}} ^ {i} + CDF_ {n_ {1}} ^ {i -1}) (CDF_ {n} ^ {i} - CDF_ {n} ^ {i-1}) = \\ \ sum_ {i = 1} ^ {k} \ frac {1} {2} (CDF_ { n_ {1}} ^ {i} + CDF_ {n_ {1}} ^ {i-1}) \ big (\ pi (CDF_ {n_ {1}} ^ {i} - CDF_ {n_ {1}} ^ {i-1}) + (1- \ pi) (CDF_ {n_ {0}} ^ {i} - CDF_ {n_ {0}} ^ {i-1}) \ big) = \\ (1- \ pi) \ sum_ {i = 1} ^ {k} \ frac {1} {2} (CDF_ {n_ {1}} ^ {i} + CDF_ {n_ {1}} ^ {i-1}) (CDF_ {n_ {0}} ^ {i} - CDF_ {n_ {0}} ^ {i-1}) + \\ + \ pi \ sum_ {i = 1} ^ {k} \ frac {1} {2} (CDF_ {n_ {1}} ^ {i} + CDF_ {n_ {1}} ^ {i-1}) (CDF_ {n_ {1}} ^ {i} - CDF_ {n_ {1}} ^ {i -1}) = \\ (1- \ pi) AUCROC + \ frac {1} {2} \ pi \ sum_ {i = 1} ^ {k} \ big ((CDF_ {n_ {1}} ^ {i }) _ {} ^ {2} - (CDF_ {n_ {0}} ^ {i-1}) _ {} ^ {2} \ big) = \\ (1- \ pi) AUCROC + \ frac {1 } {2} \ pi \ hspace {15pt} (8) </script></p><br><br>  For an ideal model, the formula is written simply: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-2204"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2205">G</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2206">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2207">n</span><span class="MJXp-msubsup" id="MJXp-Span-2208"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2209" style="margin-right: 0.05em;">i</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2210" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2211">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2212">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2213">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2214">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2215">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2216">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2217">t</span></span></span><span class="MJXp-mo" id="MJXp-Span-2218" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-2219">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2220">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2221">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2222">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2223">c</span><span class="MJXp-mrow" id="MJXp-Span-2224"><span class="MJXp-mn" id="MJXp-Span-2225">1</span></span><span class="MJXp-mrow" id="MJXp-Span-2226"><span class="MJXp-mn" id="MJXp-Span-2227">2</span></span><span class="MJXp-mo" id="MJXp-Span-2228" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-2229">1</span><span class="MJXp-mo" id="MJXp-Span-2230" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-2231">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2232">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2233">i</span><span class="MJXp-mo" id="MJXp-Span-2234" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-2235">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2236">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2237">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2238">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2239">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2240">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2241">e</span><span class="MJXp-mrow" id="MJXp-Span-2242"><span class="MJXp-mn" id="MJXp-Span-2243">15</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2244">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2245">t</span></span><span class="MJXp-mo" id="MJXp-Span-2246" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-2247">9</span><span class="MJXp-mo" id="MJXp-Span-2248" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-68-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-68"> Gini_ {perfect} = \ frac {1} {2} (1- \ pi) \ hspace {15pt} (9) </script></p><br><br>  Hence from (8) and (9), we get: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-2249"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2250">G</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2251">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2252">n</span><span class="MJXp-msubsup" id="MJXp-Span-2253"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2254" style="margin-right: 0.05em;">i</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2255" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2256">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2257">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2258">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2259">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2260">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2261">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2262">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2263">z</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2264">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2265">d</span></span></span><span class="MJXp-mo" id="MJXp-Span-2266" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-2267">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2268">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2269">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2270">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2271">c</span><span class="MJXp-mrow" id="MJXp-Span-2272"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2273">G</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2274">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2275">n</span><span class="MJXp-msubsup" id="MJXp-Span-2276"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2277" style="margin-right: 0.05em;">i</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2278" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2279">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2280">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2281">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2282">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2283">l</span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2284"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2285">G</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2286">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2287">n</span><span class="MJXp-msubsup" id="MJXp-Span-2288"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2289" style="margin-right: 0.05em;">i</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2290" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2291">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2292">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2293">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2294">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2295">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2296">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2297">t</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-2298" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-2299">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2300">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2301">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2302">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2303">c</span><span class="MJXp-mrow" id="MJXp-Span-2304"><span class="MJXp-mo" id="MJXp-Span-2305" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-2306">1</span><span class="MJXp-mo" id="MJXp-Span-2307" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-2308">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2309">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2310">i</span><span class="MJXp-mo" id="MJXp-Span-2311" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2312">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2313">U</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2314">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2315">R</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2316">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2317">C</span><span class="MJXp-mo" id="MJXp-Span-2318" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-2319">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2320">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2321">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2322">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2323">c</span><span class="MJXp-mrow" id="MJXp-Span-2324"><span class="MJXp-mn" id="MJXp-Span-2325"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span></span><span class="MJXp-mrow" id="MJXp-Span-2326"><span class="MJXp-mn" id="MJXp-Span-2327"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></span></span></span><font style="vertical-align: inherit;"><span class="MJXp-mrow" id="MJXp-Span-2328"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2330"><font style="vertical-align: inherit;"> f </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2328"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2331"><font style="vertical-align: inherit;">r </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2328"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2332"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2328"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2333"><font style="vertical-align: inherit;">c </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2328"><span class="MJXp-mrow" id="MJXp-Span-2334"><span class="MJXp-mn" id="MJXp-Span-2335"><font style="vertical-align: inherit;">1 </font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2328"><span class="MJXp-mrow" id="MJXp-Span-2336"><span class="MJXp-mn" id="MJXp-Span-2337"><font style="vertical-align: inherit;">2</font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2328"><span class="MJXp-mo" id="MJXp-Span-2338" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"> ( </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2328"><span class="MJXp-mn" id="MJXp-Span-2339"><font style="vertical-align: inherit;">1 </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2328"><span class="MJXp-mo" id="MJXp-Span-2340" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;">- </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2328"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2342"><font style="vertical-align: inherit;">p </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2328"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2343"><font style="vertical-align: inherit;">i </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2328"><span class="MJXp-mo" id="MJXp-Span-2344" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;">)</font></span></span><span class="MJXp-mo" id="MJXp-Span-2345" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"> =</font></span><span class="MJXp-mn" id="MJXp-Span-2346"><font style="vertical-align: inherit;">2</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2347"><font style="vertical-align: inherit;">A</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2348"><font style="vertical-align: inherit;">U</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2349"><font style="vertical-align: inherit;">C</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2350"><font style="vertical-align: inherit;">R</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2351"><font style="vertical-align: inherit;">O</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2352"><font style="vertical-align: inherit;">C</font></span><span class="MJXp-mo" id="MJXp-Span-2353" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;">-</font></span><span class="MJXp-mn" id="MJXp-Span-2354"><font style="vertical-align: inherit;">1</font></span></font><span class="MJXp-mrow" id="MJXp-Span-2328"><span class="MJXp-mtext" id="MJXp-Span-2329">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2330"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2331"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2332"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2333"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-2334"><span class="MJXp-mn" id="MJXp-Span-2335"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mrow" id="MJXp-Span-2336"><span class="MJXp-mn" id="MJXp-Span-2337"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mo" id="MJXp-Span-2338" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mn" id="MJXp-Span-2339"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-2340" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mtext" id="MJXp-Span-2341">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2342"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2343"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-2344" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mo" id="MJXp-Span-2345" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mn" id="MJXp-Span-2346"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2347"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2348"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2349"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2350"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2351"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2352"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-2353" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mn" id="MJXp-Span-2354"><font style="vertical-align: inherit;"></font></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-69-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-69"> Gini_ {normalized} = \ frac {Gini_ {model}} {Gini_ {perfect}} = \ frac {(1- \ pi) AUCROC + \ frac {1} {2}} {\ frac {1} {2} (1- \ pi)} = 2AUCROC - 1 </script></p><br><br>  As they said in school, that was required to prove. <br><br><h3>  3. Practical application </h3><br>  As mentioned at the beginning of the article, the Gini coefficient is used to evaluate models in many areas, including in banking lending, insurance and targeted marketing.  And this is quite a reasonable explanation.  This article does not aim to elaborate on the practical application of statistics in a particular area.  Many books have been written on this topic, we will only briefly go over this topic. <br><br><h4>  Credit scoring </h4><br>  Worldwide, banks receive thousands of loan applications every day.  Of course, it is necessary to somehow assess the risks that the client may simply not repay the loan, therefore, predictive models are developed that assess the probability that the client does not pay the loan, and these models first need to be somehow assessed and If the model is successful, then choose the optimal threshold (threshold) of probability.  The choice of the optimal threshold is determined by the policy of the bank.  The task of analysis in the selection of the threshold is to minimize the risk of loss of profits associated with the refusal to issue a loan.  But in order to choose a threshold, one must have a qualitative model.  The main metrics of quality in the banking sector: <br><br><ul><li>  Gini coefficient </li><li>  Kolmogorov-Smirnov statistics (calculated as the maximum difference between the cumulative distribution functions of "bad" and "good" borrowers. Above in the article, a picture with distributions and these statistics was cited) </li><li>  The divergence coefficient (is an estimate of the difference in mathematical expectations of scoring points distributions for ‚Äúbad‚Äù and ‚Äúgood‚Äù borrowers, normalized by the variances of these distributions. The greater the value of the divergence coefficient, the better the quality of the model.) </li></ul><br>  I don‚Äôt know how things are in Russia, although I live here, but in Europe the Gini coefficient is the most widely used, in North America - the Kolmogorov-Smirnov statistics. <br><br><h4>  Insurance </h4><br>  In this area, everything is similar to the banking sector, with the only difference being that we need to divide customers into those who submit insurance claims and those who do not.  Consider a practical example from this area, in which one feature of the Lift Curve will be clearly visible - with highly unbalanced classes in the target variable, the curve almost perfectly coincides with the ROC curve. <br><br>  A few months ago, Kaggle hosted the Porto Seguro's Safe Driver Prediction competition, in which the task was just predicting Insurance Claim - filing an insurance claim.  And in which I, on my own stupidity, missed silver, choosing the wrong submission. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a38/725/dc9/a38725dc95acba66da02c66e75f6b650.png"><br><br>  It was a very strange and at the same time incredibly informative competition.  And with a record number of participants - 5169. The winner of the competition, <a href="https://www.kaggle.com/c/porto-seguro-safe-driver-prediction/discussion/44629">Michael Jahrer,</a> wrote code only in C ++ / CUDA, and this causes admiration and respect. <br><br>  Porto Seguro is a Brazilian auto insurance company. <br>  Dataset consisted of 595207 lines in the train, 892816 lines in the test and 53 anonymized characters.  The ratio of classes in the target is 3% and 97%.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's write a simple baseline, since this is done in a couple of lines, and we will build graphs. </font><font style="vertical-align: inherit;">Please note that the curves almost perfectly match, the difference in the areas under the Lift Curve and the ROC Curve is 0.005.</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python code</font></font></b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.model_selection <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> train_test_split <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> xgboost <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> xgb <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy.interpolate <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> interp1d <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy.integrate <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> quad df = pd.read_csv(<span class="hljs-string"><span class="hljs-string">'train.csv'</span></span>, index_col=<span class="hljs-string"><span class="hljs-string">'id'</span></span>) unwanted = df.columns[df.columns.str.startswith(<span class="hljs-string"><span class="hljs-string">'ps_calc_'</span></span>)] df.drop(unwanted,inplace=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>,axis=<span class="hljs-number"><span class="hljs-number">1</span></span>) df.fillna(<span class="hljs-number"><span class="hljs-number">-999</span></span>, inplace=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) train, test = train_test_split(df, stratify=df.target, test_size=<span class="hljs-number"><span class="hljs-number">0.25</span></span>, random_state=<span class="hljs-number"><span class="hljs-number">1</span></span>) estimator = xgb.XGBClassifier(seed=<span class="hljs-number"><span class="hljs-number">1</span></span>, n_jobs=<span class="hljs-number"><span class="hljs-number">-1</span></span>) estimator.fit(train.drop(<span class="hljs-string"><span class="hljs-string">'target'</span></span>, axis=<span class="hljs-number"><span class="hljs-number">1</span></span>), train.target) pred = estimator.predict_proba(test.drop(<span class="hljs-string"><span class="hljs-string">'target'</span></span>, axis=<span class="hljs-number"><span class="hljs-number">1</span></span>))[:, <span class="hljs-number"><span class="hljs-number">1</span></span>] test[<span class="hljs-string"><span class="hljs-string">'predict'</span></span>] = pred actual = test.target.values predict = test.predict.values data = zip(actual, predict) sorted_data = sorted(data, key=<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> d: d[<span class="hljs-number"><span class="hljs-number">1</span></span>], reverse=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) sorted_actual = [d[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> d <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> sorted_data] cumulative_actual = np.cumsum(sorted_actual) / sum(actual) cumulative_index = np.arange(<span class="hljs-number"><span class="hljs-number">1</span></span>, len(cumulative_actual)+<span class="hljs-number"><span class="hljs-number">1</span></span>) / len(predict) cumulative_actual_perfect = np.cumsum(sorted(actual, reverse=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)) / sum(actual) aucroc = roc_auc_score(actual, predict) gini = <span class="hljs-number"><span class="hljs-number">2</span></span>*roc_auc_score(actual, predict)<span class="hljs-number"><span class="hljs-number">-1</span></span> fpr, tpr, t = roc_curve(actual, predict) x_values = [<span class="hljs-number"><span class="hljs-number">0</span></span>] + list(cumulative_index) y_values = [<span class="hljs-number"><span class="hljs-number">0</span></span>] + list(cumulative_actual) y_values_perfect = [<span class="hljs-number"><span class="hljs-number">0</span></span>] + list(cumulative_actual_perfect) fig, ax = plt.subplots(nrows=<span class="hljs-number"><span class="hljs-number">1</span></span>,ncols=<span class="hljs-number"><span class="hljs-number">3</span></span>, sharey=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">18</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>)) fig.suptitle(<span class="hljs-string"><span class="hljs-string">'Gini = {:0.3f}\n\n'</span></span>.format(gini),fontsize = <span class="hljs-number"><span class="hljs-number">26</span></span>, fontweight=<span class="hljs-string"><span class="hljs-string">'bold'</span></span>) ax[<span class="hljs-number"><span class="hljs-number">0</span></span>].plot([<span class="hljs-number"><span class="hljs-number">0</span></span>]+fpr.tolist(), [<span class="hljs-number"><span class="hljs-number">0</span></span>]+tpr.tolist(), lw=<span class="hljs-number"><span class="hljs-number">2</span></span>, color = <span class="hljs-string"><span class="hljs-string">'red'</span></span>) ax[<span class="hljs-number"><span class="hljs-number">0</span></span>].plot([<span class="hljs-number"><span class="hljs-number">0</span></span>]+fpr.tolist(), [<span class="hljs-number"><span class="hljs-number">0</span></span>]+tpr.tolist(), lw = <span class="hljs-number"><span class="hljs-number">2</span></span>, color = <span class="hljs-string"><span class="hljs-string">'red'</span></span>) ax[<span class="hljs-number"><span class="hljs-number">0</span></span>].fill_between([<span class="hljs-number"><span class="hljs-number">0</span></span>]+fpr.tolist(), [<span class="hljs-number"><span class="hljs-number">0</span></span>]+tpr.tolist(), color = <span class="hljs-string"><span class="hljs-string">'red'</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.1</span></span>) ax[<span class="hljs-number"><span class="hljs-number">0</span></span>].text(<span class="hljs-number"><span class="hljs-number">0.4</span></span>,<span class="hljs-number"><span class="hljs-number">0.2</span></span>,<span class="hljs-string"><span class="hljs-string">'S = {:0.3f}'</span></span>.format(aucroc),fontsize = <span class="hljs-number"><span class="hljs-number">28</span></span>) ax[<span class="hljs-number"><span class="hljs-number">1</span></span>].plot(x_values, y_values, lw = <span class="hljs-number"><span class="hljs-number">2</span></span>, color = <span class="hljs-string"><span class="hljs-string">'blue'</span></span>) ax[<span class="hljs-number"><span class="hljs-number">1</span></span>].fill_between(x_values, x_values, y_values, color = <span class="hljs-string"><span class="hljs-string">'blue'</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.1</span></span>) ax[<span class="hljs-number"><span class="hljs-number">1</span></span>].text(<span class="hljs-number"><span class="hljs-number">0.4</span></span>,<span class="hljs-number"><span class="hljs-number">0.2</span></span>,<span class="hljs-string"><span class="hljs-string">'S = {:0.3f}'</span></span>.format(S_pred),fontsize = <span class="hljs-number"><span class="hljs-number">28</span></span>) ax[<span class="hljs-number"><span class="hljs-number">2</span></span>].plot(x_values, y_values_perfect, lw = <span class="hljs-number"><span class="hljs-number">2</span></span>, color = <span class="hljs-string"><span class="hljs-string">'green'</span></span>) ax[<span class="hljs-number"><span class="hljs-number">2</span></span>].fill_between(x_values, x_values, y_values_perfect, color = <span class="hljs-string"><span class="hljs-string">'green'</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.1</span></span>) ax[<span class="hljs-number"><span class="hljs-number">2</span></span>].text(<span class="hljs-number"><span class="hljs-number">0.4</span></span>,<span class="hljs-number"><span class="hljs-number">0.2</span></span>,<span class="hljs-string"><span class="hljs-string">'S = {:0.3f}'</span></span>.format(S_actual),fontsize = <span class="hljs-number"><span class="hljs-number">28</span></span>) ax[<span class="hljs-number"><span class="hljs-number">0</span></span>].set(title=<span class="hljs-string"><span class="hljs-string">'ROC-AUC XGBoost Baseline'</span></span>, xlabel=<span class="hljs-string"><span class="hljs-string">'False Positive Rate'</span></span>, ylabel=<span class="hljs-string"><span class="hljs-string">'True Positive Rate'</span></span>, xlim=(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>), ylim=(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)) ax[<span class="hljs-number"><span class="hljs-number">1</span></span>].set(title=<span class="hljs-string"><span class="hljs-string">'Gini XGBoost Baseline'</span></span>) ax[<span class="hljs-number"><span class="hljs-number">2</span></span>].set(title=<span class="hljs-string"><span class="hljs-string">'Gini Perfect'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>): ax[i].plot([<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>],[<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>],linestyle = <span class="hljs-string"><span class="hljs-string">'--'</span></span>,lw = <span class="hljs-number"><span class="hljs-number">2</span></span>,color = <span class="hljs-string"><span class="hljs-string">'black'</span></span>) ax[i].set(xlabel=<span class="hljs-string"><span class="hljs-string">'Share of clients'</span></span>, ylabel=<span class="hljs-string"><span class="hljs-string">'True Positive Rate'</span></span>, xlim=(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>), ylim=(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)) plt.show();</code> </pre><br></div></div><br><img src="https://habrastorage.org/getpro/habr/post_images/b8a/4b0/4fe/b8a4b04fee9df1c6966dd17e647e51ef.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Gini coefficient of the winning model is 0.29698. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For me, there is still a mystery about what the organizers wanted to achieve by zonimizing the signs and making an incredible data preprocessing. </font><font style="vertical-align: inherit;">This is one of the reasons why all models, including the winners, in fact turned out to be garbage. </font><font style="vertical-align: inherit;">Probably just PR, before no one in the world knew about Porto Seguro except Brazilians, now many people know.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Targeted marketing </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In this area, you can best understand the true meaning of the Gini and Lift Curve coefficient. For some reason, almost all books and articles provide examples of email marketing campaigns, which in my opinion is an anachronism. Create an artificial business problem from the scope of </font></font><a href="https://ru.wikipedia.org/wiki/Free-to-play"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">free2play games</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . We have a database of users who once played our game and for some reason fell off. We want to return them to our game project, for each user we have a certain indicative space (time in the project, how much he spent, what level he reached, etc.) on the basis of which we build the model. Evaluate the model by the Gini coefficient and build the Lift Curve:</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/4eb/7ed/c9b/4eb7edc9bddad7053ff6cd98160b9f99.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suppose that as part of a marketing campaign, we in one way or another make contact with the user (email, social networks), the price of contact with one user is 2 rubles. We know that </font></font><a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D0%25BE%25D0%25B6%25D0%25B8%25D0%25B7%25D0%25BD%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25B0%25D1%258F_%25D1%2586%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25BE%25D1%2581%25D1%2582%25D1%258C_%25D0%25BA%25D0%25BB%25D0%25B8%25D0%25B5%25D0%25BD%25D1%2582%25D0%25B0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lifetime Value</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is 5 rubles. It is necessary to optimize the effectiveness of the marketing campaign. Suppose there are a total of 100 users in the sample, of which 30 will return. Thus, if we establish contact with 100% of users, then we will spend 200 rubles on a marketing campaign and will receive an income of 150 rubles. This is a campaign failure. Consider the Lift Curve chart. It is seen that in contact with 50% of users, we are in contact with 90% of users who return. campaign costs - 100 rubles, income 135. We are in the black. Thus, Lift Curve allows us to optimize our marketing company in the best possible way.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 4. Bubble Sort </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Gini coefficient has a rather amusing but very useful interpretation, with the help of which we can also easily calculate it. </font><font style="vertical-align: inherit;">It turns out that it is numerically equal to:</font></font><br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-2355"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2356"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2357"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2358"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-2359"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2360" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2361" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2362"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2363"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2364"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2365"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2366"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2367"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2368"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2369"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2370"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2371"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-2372" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><span class="MJXp-mfrac" id="MJXp-Span-2373" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2374"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2375"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2376"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2377"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-2378"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2379" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2380" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2381"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2382"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2383"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2384"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2385"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2386"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m</font></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-2387" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2388"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2389"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2390"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2391"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-2392"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2393" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2394" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2395"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2396"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2397"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2398"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2399"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2400"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></span></span></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2401"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2402"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2403"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2404"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-2405"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2406" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2407" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2408"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2409"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2410"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2411"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2412"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2413"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m</font></font></span></span></span></span></span></span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-70-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-70">Gini_{normalized} = \frac{Swaps_{random} - Swaps_{sorted}}{Swaps_{random}}</script></p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Where, </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2414"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2415"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2416"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2417"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2418"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-2419"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2420" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2421" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2422"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2423"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2424"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2425"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2426"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2427"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d the</font></font></span></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> number of permutations that must be made in the ranked list in order to obtain a true list of the target variable</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-71-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-71">Swaps_{sorted}</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2428"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2429"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2430"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2431"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2432"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-2433"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2434" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2435" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2436"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2437"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2438"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2439"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2440"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2441"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m</font></font></span></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is the number of permutations for the predictions of the random algorithm. </font><font style="vertical-align: inherit;">We write an elementary bubble sort and show it:</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-72-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-72">Swaps_{random}</script><font style="vertical-align: inherit;"></font><br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-2442"><span class="MJXp-mo" id="MJXp-Span-2443" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-2444">1</span><span class="MJXp-mo" id="MJXp-Span-2445" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2446">1</span><span class="MJXp-mo" id="MJXp-Span-2447" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2448">1</span><span class="MJXp-mo" id="MJXp-Span-2449" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2450">1</span><span class="MJXp-mo" id="MJXp-Span-2451" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2452">1</span><span class="MJXp-mo" id="MJXp-Span-2453" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2454">1</span><span class="MJXp-mo" id="MJXp-Span-2455" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2456">0</span><span class="MJXp-mo" id="MJXp-Span-2457" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2458">0</span><span class="MJXp-mo" id="MJXp-Span-2459" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2460">0</span><span class="MJXp-mo" id="MJXp-Span-2461" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2462">0</span><span class="MJXp-mo" id="MJXp-Span-2463" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2464">0</span><span class="MJXp-mo" id="MJXp-Span-2465" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2466">0</span><span class="MJXp-mo" id="MJXp-Span-2467" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2468">0</span><span class="MJXp-mo" id="MJXp-Span-2469" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2470">0</span><span class="MJXp-mo" id="MJXp-Span-2471" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2472">0</span><span class="MJXp-mo" id="MJXp-Span-2473" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mspace" id="MJXp-Span-2474" style="width: 0em; height: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-2475" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-2476">1</span><span class="MJXp-mo" id="MJXp-Span-2477" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2478">1</span><span class="MJXp-mo" id="MJXp-Span-2479" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2480">0</span><span class="MJXp-mo" id="MJXp-Span-2481" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2482">1</span><span class="MJXp-mo" id="MJXp-Span-2483" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2484">0</span><span class="MJXp-mo" id="MJXp-Span-2485" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2486">1</span><span class="MJXp-mo" id="MJXp-Span-2487" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2488">1</span><span class="MJXp-mo" id="MJXp-Span-2489" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2490">0</span><span class="MJXp-mo" id="MJXp-Span-2491" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2492">0</span><span class="MJXp-mo" id="MJXp-Span-2493" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2494">0</span><span class="MJXp-mo" id="MJXp-Span-2495" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2496">1</span><span class="MJXp-mo" id="MJXp-Span-2497" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2498">0</span><span class="MJXp-mo" id="MJXp-Span-2499" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2500">0</span><span class="MJXp-mo" id="MJXp-Span-2501" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2502">0</span><span class="MJXp-mo" id="MJXp-Span-2503" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2504">0</span><span class="MJXp-mo" id="MJXp-Span-2505" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-73-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-73">[1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0]\\ [1, 1, 0, 1, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0]</script></p><br><br><div class="spoiler"> <b class="spoiler_title">  Python</b> <div class="spoiler_text"><pre> <code class="python hljs">actual = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>] predict = [<span class="hljs-number"><span class="hljs-number">0.9</span></span>, <span class="hljs-number"><span class="hljs-number">0.3</span></span>, <span class="hljs-number"><span class="hljs-number">0.8</span></span>, <span class="hljs-number"><span class="hljs-number">0.75</span></span>, <span class="hljs-number"><span class="hljs-number">0.65</span></span>, <span class="hljs-number"><span class="hljs-number">0.6</span></span>, <span class="hljs-number"><span class="hljs-number">0.78</span></span>, <span class="hljs-number"><span class="hljs-number">0.7</span></span>, <span class="hljs-number"><span class="hljs-number">0.05</span></span>, <span class="hljs-number"><span class="hljs-number">0.4</span></span>, <span class="hljs-number"><span class="hljs-number">0.4</span></span>, <span class="hljs-number"><span class="hljs-number">0.05</span></span>, <span class="hljs-number"><span class="hljs-number">0.5</span></span>, <span class="hljs-number"><span class="hljs-number">0.1</span></span>, <span class="hljs-number"><span class="hljs-number">0.1</span></span>] data = zip(actual, predict) sorted_data = sorted(data, key=<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> d: d[<span class="hljs-number"><span class="hljs-number">1</span></span>], reverse=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) sorted_actual = [d[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> d <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> sorted_data] swaps=<span class="hljs-number"><span class="hljs-number">0</span></span> n = len(sorted_actual) array = sorted_actual <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">1</span></span>,n): flag = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> j <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(ni): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> array[j]&gt;array[j+<span class="hljs-number"><span class="hljs-number">1</span></span>]: array[j], array[j+<span class="hljs-number"><span class="hljs-number">1</span></span>] = array[j+<span class="hljs-number"><span class="hljs-number">1</span></span>], array[j] flag = <span class="hljs-number"><span class="hljs-number">1</span></span> swaps+=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> flag == <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> print(<span class="hljs-string"><span class="hljs-string">" : "</span></span>, swaps)</code> </pre><br></div></div><br><blockquote>  : 10 </blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> It is easy to combinatorially count the number of permutations for a random algorithm: </font></font><br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-2506"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2507"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2508"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2509"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2510"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-2511"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2512" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2513" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2514"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2515"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2516"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2517"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2518"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2519"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m</font></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-2520" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><span class="MJXp-mfrac" id="MJXp-Span-2521" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mn" id="MJXp-Span-2522"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 </font></font></span><span class="MJXp-mo" id="MJXp-Span-2523" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àó </font></font></span><span class="MJXp-mn" id="MJXp-Span-2524"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mn" id="MJXp-Span-2525"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-2526" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> =</font></font></span><span class="MJXp-mn" id="MJXp-Span-2527"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">27</font></font></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-74-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-74">Swaps_{random} = \frac{6*9}{2} = 27</script></p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> In this way: </font></font><br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-2528"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2529"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2530"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2531"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-2532"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2533" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2534" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2535"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2536"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2537"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2538"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2539"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2540"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2541"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2542"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2543"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2544"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-2545" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><span class="MJXp-mfrac" id="MJXp-Span-2546" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mn" id="MJXp-Span-2547"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">27 </font></font></span><span class="MJXp-mo" id="MJXp-Span-2548" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font></span><span class="MJXp-mn" id="MJXp-Span-2549"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mn" id="MJXp-Span-2550"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">27</font></font></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-2551" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> =</font></font></span><span class="MJXp-mn" id="MJXp-Span-2552"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.63</font></font></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-75-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-75">Gini_{normalized} = \frac{27 - 10}{27} = 0.63</script></p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We see that we have obtained the value of the coefficient, as in the toy example considered above. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I hope the article was helpful and dispelled some myths about this quality metric.</font></font></div><p>Source: <a href="https://habr.com/ru/post/350440/">https://habr.com/ru/post/350440/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../350430/index.html">Making payments by cryptocurrency with your own hands</a></li>
<li><a href="../350432/index.html">Theory of the decrepit laptop</a></li>
<li><a href="../350434/index.html">Reasoning on the game design of VR games</a></li>
<li><a href="../350436/index.html">FastTrack Training. "Network Basics". "Basics of a wireless LAN". Part two. Eddie Martin December 2012</a></li>
<li><a href="../350438/index.html">Validation of strings with validate.it.js</a></li>
<li><a href="../350442/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ304 (February 26 - March 4, 2018)</a></li>
<li><a href="../350444/index.html">Implement java promises</a></li>
<li><a href="../350446/index.html">Container Run Environments (container runtimes) Part 1: Introduction to Container Run Environments</a></li>
<li><a href="../350448/index.html">RegExp Unicode Property Escapes in JavaScript: Portrait Strokes</a></li>
<li><a href="../350452/index.html">Load testing "non-HTTP". Part 2 Gatling</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>