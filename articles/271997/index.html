<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Configuration management in a software project</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At first everything was simple. Youth, enthusiasm. The project was sawed by several programmers. All the codes, as soon as they were ready, copied the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Configuration management in a software project</h1><div class="post__text post__text-html js-mediator-article">  At first everything was simple.  Youth, enthusiasm.  The project was sawed by several programmers.  All the codes, as soon as they were ready, copied the code to a common virtual machine, occasionally they kicked the admin on the subject to deliver some package or fix the config.  As soon as they understood that everyone was going to make a release.  First, backup, then the older one collected all his fistfulness into a fist, copied the project on the production server and, with the assistance of the administrator, ensured that it worked there.  The team waited two days, made sure that the queues of grateful users with hatchets did not form, and, with a sense of pride for the work done, went to drink beer. <br><br>  Then they all matured a bit.  Redmine / jira / etc, git / svn, jenkins, spinx-docs / rubydoc / doxygen / etc, wiki, unit tests appeared and began to be used somehow.  There were subprojects, the stand grew.  Production servachkov became several.  The admin picked up salt / puppet / etc, monitored, sat in his den like a spider, ruled the configs on the salt-master and pulled the state.highstate out of there. <br><a name="habracut"></a><br><h2>  A life </h2><br>  And this is the right time to sit down and think a little about life (of the project). <br><br>  Stages life cycle of only seven. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  Conceptual design.  At this stage, you need to understand <b>what</b> to do. </li><li>  Architectural design.  At this stage, you need to understand <b>how</b> to do it. </li><li>  Implementation.  This is direct coding and unit testing. </li><li>  Verification.  Check that the program performs all its intended functions. </li><li>  Validation.  Check that the program can still be used.  From the preceding paragraph, this does not suddenly follow. </li><li>  Commissioning.  It usually includes rolling out the release, data migration, user training. </li><li>  Actually the operation itself. </li><li>  Removal from service </li></ol><br>  Eight.  Everybody forgets about the last item.  But it is also very important (and not only for the nuclear power plant).  For a software project you need to take care of the data.  At the stages prior to commissioning, it is necessary to ensure that all the necessary data from it can be retrieved, and at the stage of decommissioning that the data have actually been extracted. <br><br>  This is the basic scheme adopted in system engineering.  Depending on the scale, specifics of the industry and religious beliefs of the PMA, the stages can be renamed, glued together or, on the contrary, split up, but you can always relate the sane process to this scheme.  If agile is accepted in the team, the diagram describes the life cycle of the individual story. <br><br>  What is it all about?  In this context, configuration management is the process of maintaining the product in a holistic state.  It begins somewhere in the region where the first stage is completed and ends only with the death of the project.  Moreover, if this process is neglected, death can be sudden. <br><br><h2>  What could break? </h2><br>  Versions of libraries.  Gathered, sketched a diagram of classes, agreed to use libcrutch.  One team had been sitting on libcrutch-1.0 for a long time, the second had only learned about it and downloaded libcrutch-2.0 from the Internet.  And it turns out this is only on integration testing.  You can even catch a bug on the differences between libcrutch-1.2.14 and libcrutch-1.2.15.  And any LD_PRELOAD or docker only add fuel to the fire.  Even if the project is all from itself on microservices, the interfaces can be exchanged with data received from libcrutch and having different formats in different versions. <br><br>  Component version mismatch.  Some are sawing libbase, others libManagementFacade.  In the process it turned out that in libbase-1.14.3 there is a small but treacherous bug.  We talked, corrected, forgot.  We tested on libbase-1.14.4, and libbase-1.14.3 was released. <br><br>  Changing the configuration of the environment.  One POST request suddenly began to work for a long time.  We looked, it is not so important, let it work. Increased in nginx timeout waiting for a response backend'a.  Admin on the stand straightened and forgotten.  Rolled out and again the old bugs to catch, but now in combat conditions. <br><br>  Change design decisions.  We started doing it under Windows, then imbued with the ideas of RMS, decided to switch to Ubuntu, but they didn‚Äôt get the solution.  They started to collect, all brought deb packages, and someone who was in the tank, exe'shnik. <br><br>  Loss of user-relevant functionality.  They brought a new version, talked for a long time about the change of design, about new frameworks, about advanced algorithms.  Users listened, nodded their heads, and said: ‚ÄúIt's all good, but you made a mold for us at our request.  Previously, it was the fifth sub-item in the third menu item, where is it now? ‚ÄùLost at some merge request. <br><br><h2>  What to do </h2><br>  Programmers are very lucky to have git.  He takes the brunt of the blow and requires a little bit from them. <br><br><ol><li>  Determine all the components that are needed for the project to function, make sure that they are correctly versioned.  The configuration in the first approximation is a list of components and their versions. </li><li>  Understand how to transfer configuration from the stand in production. </li><li>  Begin Requirements Management.  Generally speaking, requirements management is a separate process.  As part of configuration management, you need to make sure that for each component that is included in the release set, documentation is attached that accurately describes the requirements for this component and their statuses: completed, not met, partially fulfilled, with reservations. </li><li>  Anyway, each component should have documentation that describes what and how it does. </li></ol><br>  At the stage of completing the <b>conceptual design</b> , when the subject specialists say: ‚ÄúWe need such a system!‚Äù, - the techies unanimously say, ‚ÄúWe will do it!‚Äù, - the managers give the go-ahead: ‚ÄúWe will allocate resources - do it!‚Äù - we need to make sure that The agreed description of the system was taken out of the experts' head, cut to requirements, and put into documentation.  During the development process, this description will change.  You need to make sure that the description is versioned.  A good option, if it's text, pick it up in git. <br><br>  At the stage of <b>architectural design</b> , when the architect said how he sees it, you need to make sure that this vision is taken out of his head, the documentation with the version label is pasted.  If it is a tetrad sheet with a diagram, it must be scanned, put into the file (or wiki) and link to it. <br><br>  At the <b>design</b> stage <b>,</b> you need to make sure that the code is documented.  Not bad on modules to get separate documents (in git), which describe requirements to them and their features of behavior.  Leaving a lot of information in redmine / jira is not worth it.  After finishing the big feature, before merge to master, you need to make sure that its description from the task tracker is correctly transferred to the documentation.  Just because after some time within another task, the behavior can change and it will be difficult to collect documentation for several tasks.  Task tracker does not provide a complete picture. <br><br>  User documentation is good to do at the design stage.  Keep (if possible) in git and edit in parallel with the code.  If there are no special technical writers for this, the context will go away, everyone will forget, there will definitely be no documentation. <br><br>  During <b>verification</b> , the program is checked for compliance with the requirements.  At the end you need to make sure that all requirements are assigned the status of completed / not fulfilled. <br><br>  At the <b>validation</b> stage, it is checked whether the program can be used.  You need to make sure that all changes made to the behavior of the program are immediately reflected in the documentation. <br><br>  During the <b>commissioning</b> phase, the correctness of the preparation and rolling of the release is checked.  We must make sure that all components of the correct versions are stitched into it.  The main punch here is holding salt / puppet.  You can without them, simply by issuing instructions for installation, but with them easier.  Prepare them properly and ahead of time. <br><br>  About the stage of <b>operation</b> everything is clear.  You just need to follow the manufacturer's instructions. <br><br>  At the decommissioning stage, it is necessary to make sure that all the necessary data has been removed. <br><br>  About the assembly and salt / puppet.  This is the second line of defense (immediately after git). The working scheme of the application is approximately as follows: <br><br><ol><li>  Make sure that the situation with each third-party package is clear: where it came from, which version, which patches were superimposed.  If some kind of radish (a bad person) sticks the same versions to physically different files, you need to convince him that he is wrong, or to attach an additional version to all his products. </li><li>  If all rpm's are dumped into one repository, you need to make sure that it is clear which version will be rolled up.  A good option is to have the script rebuild the entire repository and paste the version on the entire repository as a whole.  The other is that the version must be explicitly indicated in the manifest of the / sls file.  By the way, puppet has a bug, the package resource does not know how to lower the version.  Why they are not ashamed, I do not know. </li><li>  All manifests / sls files are stored in git.  In pillar for salt or class parameters for puppet, only what distinguishes the stand from production is made.  Such things, for example, are ulr web services, parameters like shared_buffers for postgres, flags that include debug mode.  Everything else is ruthlessly hard'koditsya.  Parameters are set once when the bench is deployed and rarely change later.  sls files are perceived as code, it rolls onto the stand, is tested and in unchanged form is transferred to production. </li></ol><br>  That's all.  Manage the configuration correctly, and do not forget that a good process is one that bypasses all the rakes and gives an excellent result the first time. </div><p>Source: <a href="https://habr.com/ru/post/271997/">https://habr.com/ru/post/271997/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../271985/index.html">Quarterly site security check</a></li>
<li><a href="../271987/index.html">IBM Bluemix Business Quest - Special Project for Application Developers</a></li>
<li><a href="../271989/index.html">Welcome to PGConf 2016 - Russian PostgreSQL conference</a></li>
<li><a href="../271991/index.html">Covering graphs in software testing, part 1</a></li>
<li><a href="../271993/index.html">Experimental version of PVS-Studio supporting C #</a></li>
<li><a href="../271999/index.html">Successful implementation of SIEM. Part 2</a></li>
<li><a href="../272003/index.html">Check Digit by Damme Method</a></li>
<li><a href="../272005/index.html">Swift! Protocol Oriented</a></li>
<li><a href="../272007/index.html">NextCastle Party 2015: how I showed my game</a></li>
<li><a href="../272009/index.html">About the report of Kirill Tolkachev and Alexander Tarasov about microservices on jug.msk.ru</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>