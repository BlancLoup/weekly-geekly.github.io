<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Dagaz: Looking for talents</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Do with us 
 do as we do 
 do better than us! 

 80's telecast 

 I must admit, I am not very good at developing bots. I am sure there are people who ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Dagaz: Looking for talents</h1><div class="post__text post__text-html js-mediator-article"><img align="left" src="https://habrastorage.org/getpro/habr/post_images/43e/794/3a3/43e7943a3e289a281570ab8b68d347b8.png" alt="image">  <b><i>Do with us</i></b> <b><i><br></i></b>  <b><i>do as we do</i></b> <b><i><br></i></b>  <b><i>do better than us!</i></b> <b><i><br><br></i></b>  <b><i>80's telecast</i></b> <br><br>  I must admit, I am not very good at developing bots.  I am sure there are people who can do this much better than me.  And I would really like such people to join the <a href="https://glukkazan.github.io/">project</a> .  In terms of material incentives, I can offer little.  Dagaz was conceived as a free and open-source alternative to <a href="http://www.zillions-of-games.com/">Zillions of Games</a> .  I myself <a href="https://github.com/GlukKazan/Dagaz/blob/master/LICENSE.txt">do not mind</a> its commercial use, just have not yet figured out how to do it. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The project will certainly continue to evolve and remain free (at its core).  Any person who has contributed to its development, I will consider my friend and co-author.  Of course, attribution, for all modules in the development of which these people took part, will be mandatory.  In addition, I am ready to provide any feasible technical assistance for the project.  For example, I can talk about how to develop game bots. <br><a name="habracut"></a><br>  First of all, it is worth noting that far from all games the issue of developing bots is acute.  In the case of puzzles, a bot who can find a solution is more a luxury than a vital necessity.  In addition, there are games, for objective reasons, much more difficult for a person than for a computer.  This fully applies to various <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B0%25D0%25BD%25D0%25BA%25D0%25B0%25D0%25BB%25D0%25B0">mankalam</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qi/z1/ln/qiz1lnlnc1ozddwvwrrwflmyaue.png"></div><br>  Winning at the computer in such a game is hard.  And this is not because you can not play it!  I know a man <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25BA%25D0%25B8%25D1%2580%25D1%258E%25D0%25BA,_%25D0%2594%25D0%25BC%25D0%25B8%25D1%2582%25D1%2580%25D0%25B8%25D0%25B9_%25D0%2598%25D0%25B3%25D0%25BE%25D1%2580%25D0%25B5%25D0%25B2%25D0%25B8%25D1%2587">who can</a> .  So, he won far from the first attempt and with a very small margin.  And this is despite the fact that it uses far from the most successful <a href="">bot</a> , which is much more modest in <a href="https://glukkazan.github.io/shogi/mini-shogi.htm">other games</a> .  Mancala seemed to be specially created for computers!  But it's not just them. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fg/gm/g0/fggmg0kr1urxyhydfdfg0ybb4hs.png"></div><br>  Here the bot is even <a href="">simpler</a> , but the <a href="https://ru.wikipedia.org/wiki/%25D0%259B%25D0%25B8%25D1%2581%25D0%25B0_%25D0%25B8_%25D0%25B3%25D1%2583%25D1%2581%25D0%25B8">game</a> itself <a href="https://ru.wikipedia.org/wiki/%25D0%259B%25D0%25B8%25D1%2581%25D0%25B0_%25D0%25B8_%25D0%25B3%25D1%2583%25D1%2581%25D0%25B8">is</a> asymmetric.  The task of the ‚Äúfox‚Äù (there is everything that is possible) is much simpler than the task of the ‚Äúgeese‚Äù (to hold down the ‚Äúfox‚Äù, depriving it of its course) and a computer plays for the ‚Äúfox‚Äù.  If someone will be able to win it, inform.  Because I have not succeeded yet.  The process itself seems to be understandable, but you constantly lose sight of some ‚Äútrifle‚Äù. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/6ZeUV8cH8sI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Also, there are games that bots do quite well, although they could play much better.  <a href="https://glukkazan.github.io/custodian/reversi.htm">Reversi</a> is a great example.  I am sure that it will not be difficult for a person who plays this game well to cope with a bot, but for me, for example, this is an impossible task.  Alas, my bots cannot cope with most of the most popular games at all.  Here is a list of those for which this problem is most relevant: <br><br><ol><li>  Checkers - first of all " <a href="https://glukkazan.github.io/checkers/russian-checkers.htm">Russian</a> ", " <a href="https://glukkazan.github.io/checkers/international-checkers.htm">International</a> " and " <a href="https://glukkazan.github.io/checkers/frisian-checkers.htm">Frisian</a> ".  Bots with them, in principle, work, but they play at the level of a very weak beginner.  Also very interesting are the " <a href="https://glukkazan.github.io/checkers/turkish-dama.htm">Turkish checkers</a> ", here the bots play even worse.  The closest attention should be paid to the ‚Äú <a href="https://glukkazan.github.io/checkers/column-checkers.htm">Pillars</a> ‚Äù and ‚Äú <a href="https://glukkazan.github.io/checkers/laska.htm">Weasel</a> ‚Äù.  These are really challenging and very interesting games! </li><li>  <a href="https://glukkazan.github.io/checkmate/chess.htm">Chess</a> and everything <a href="">like</a> them.  In these games, all my bots are playing absolutely disgusting.  The same applies to the " <a href="">Chinese</a> " and, to an even greater extent, the " <a href="">Japanese</a> " chess.  Here, I'm not talking about the " <a href="https://glukkazan.github.io/shogi/tenjiku-shogi.htm">big</a> <a href="https://glukkazan.github.io/shogi/ko-shogi-board.htm">games</a> ", the development of bots for which is quite specific and in which few people play (I know such people).  First of all, the most popular options are interesting for me.  <a href="https://glukkazan.github.io/checkers/cheskers.htm">Shashmatas are</a> also a priority.  They generally should be put in a separate category, since they took the most difficult "of both worlds."  First of all, I am interested in " <a href="https://glukkazan.github.io/checkmate/belarusian-chess.htm">Belarusian chess</a> " and " <a href="https://glukkazan.github.io/checkers/shatra-board.htm">Altai tent</a> ".  Fans of very hardcore exotics can try their hand at <a href="https://glukkazan.github.io/checkmate/platform-chess.htm">Platform Chess</a> . </li><li>  Staged games, above all " <a href="https://glukkazan.github.io/renju/renju-board.htm">Renju</a> " and " <a href="https://glukkazan.github.io/go/go-19x19-board.htm">Go</a> ".  This is a very fresh topic, in the sense that I have just begun them.  In general, games with resetting pieces to the board (on a par with mancala) are the theme of the current iteration of the project, so there will be more such games soon.  And now it is clear that some of them (Guo for example) require a special approach when developing AI.  But there are even more <a href="https://glukkazan.github.io/go/three-color-go-board.htm">confused games</a> . </li><li>  The most diverse games fall into this category.  Here are the children‚Äôs ‚Äú <a href="https://glukkazan.github.io/breakthrough/jungle-board.htm">Jungle</a> ‚Äù and the French ‚Äú <a href="https://glukkazan.github.io/custodian/agon-board.htm">Agon</a> ‚Äù of the 18th century.  Games are <a href="https://glukkazan.github.io/custodian/alea-evangeli-board.htm">big</a> and <a href="https://glukkazan.github.io/breakthrough/epaminondas-8x8.htm">smaller</a> .  The games are completely <a href="https://glukkazan.github.io/races/hanga-roa-board.htm">insane</a> .  One thing unites them all.  I have no idea how to approach the development of their AI.  And, of course, I will be just happy if someone helps bring to mind the AI ‚Äã‚Äãfor my " <a href="https://glukkazan.github.io/elimination/spock-board.htm">Spock</a> ". </li></ol><br>  So how can you write your bot?  As a very first step, it is worth downloading the contents of <a href="https://github.com/GlukKazan/Dagaz">this</a> or <a href="">this</a> repository to your computer (without which to write, and even less to debug, which will be hard).  Although the second of the listed repositories is, in fact, a release, it does not currently use any obfuscation or minification.  All applications are very simple.  From a html-file several js-scripts are loaded sequentially. <br><br><div class="spoiler">  <b class="spoiler_title">Like this</b> <div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">META</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">http-equiv</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Content-Type"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/html; charset=utf-8"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Turkish Dama<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Board"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display:none"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"images/turkish.png"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WhiteMan"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display:none"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"images/wman.png"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"BlackMan"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display:none"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"images/bman.png"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WhiteKing"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display:none"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"images/wdamone.png"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"BlackKing"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display:none"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"images/bdamone.png"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Table"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"margin:auto; font-family:sans-serif; font-size:14px"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span>Traditional - Turkish <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"turkish-dama-board.htm"</span></span></span><span class="hljs-tag">&gt;</span></span>no AI<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"height:548px; vertical-align:top"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"CanvasCell"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"width:548px"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">canvas</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Canvas"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"548"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"548"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cursor:default"</span></span></span><span class="hljs-tag">&gt;</span></span>Broken canvas...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">canvas</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"width:300px;"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ScrollDiv"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"height:510px; overflow:auto"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"GlyphImage"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"HelpText"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"GameSession"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"height:100px; width:500px; margin-left:auto; margin-right:auto"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"PieceInfo"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display:none"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"PieceInfoImage"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"PieceInfoText"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"../common-scripts/dagaz.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"../common-scripts/zrf-model.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"../common-scripts/zobrist.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"../common-scripts/common-setup.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"../common-scripts/2d-view-v2.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"../common-scripts/move-list-v2.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"../common-scripts/maxmin-ai-v2.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"../common-scripts/sgf-parser.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"data/turkish.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"../common-scripts/sgf-ai.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"scripts/maximal-captures.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"scripts/turkish-dama.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"../common-scripts/app-v2.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"../common-scripts/analytics.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><br>  You may notice that from among third-party libraries, I use only very convenient <a href="http://underscorejs.ru/">Underscore</a> for me (I do not insist on using it).  All bot scripts contain "-ai" in their name.  It is they who are interesting to us now.  But before you move on, you should tell a little about: <br><br><div class="spoiler">  <b class="spoiler_title">What is game design?</b> <div class="spoiler_text">  First of all, Dagaz separates the design of the game (ZrfDesign) from its state (ZrfBoard).  The design defines the topology of the board and the rules for moving the pieces, and the state determines which pieces are and where they are at this particular moment.  ZrfDesign object is created once for the whole game, ZrfBoard objects can be created (including, for the needs of bots) an unlimited number.  At the beginning of the game, the design is initialized by calling the <b>Dagaz.Model.BuildDesign</b> function: <br><br><div class="spoiler">  <b class="spoiler_title">turkish-dama.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs">Dagaz.Model.BuildDesign = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">design</span></span></span><span class="hljs-function">) </span></span>{ design.checkVersion(<span class="hljs-string"><span class="hljs-string">"z2j"</span></span>, <span class="hljs-string"><span class="hljs-string">"2"</span></span>); design.checkVersion(<span class="hljs-string"><span class="hljs-string">"zrf"</span></span>, <span class="hljs-string"><span class="hljs-string">"2.0"</span></span>); design.checkVersion(<span class="hljs-string"><span class="hljs-string">"animate-captures"</span></span>, <span class="hljs-string"><span class="hljs-string">"false"</span></span>); design.checkVersion(<span class="hljs-string"><span class="hljs-string">"smart-moves"</span></span>, <span class="hljs-string"><span class="hljs-string">"true"</span></span>); design.checkVersion(<span class="hljs-string"><span class="hljs-string">"maximal-captures"</span></span>, <span class="hljs-string"><span class="hljs-string">"true"</span></span>); design.addDirection(<span class="hljs-string"><span class="hljs-string">"w"</span></span>); design.addDirection(<span class="hljs-string"><span class="hljs-string">"e"</span></span>); design.addDirection(<span class="hljs-string"><span class="hljs-string">"s"</span></span>); design.addDirection(<span class="hljs-string"><span class="hljs-string">"n"</span></span>); design.addPlayer(<span class="hljs-string"><span class="hljs-string">"White"</span></span>, [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>]); design.addPlayer(<span class="hljs-string"><span class="hljs-string">"Black"</span></span>, [<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>]); design.addPosition(<span class="hljs-string"><span class="hljs-string">"a8"</span></span>, [<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>]); design.addPosition(<span class="hljs-string"><span class="hljs-string">"b8"</span></span>, [<span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>]); ... design.addPosition(<span class="hljs-string"><span class="hljs-string">"h1"</span></span>, [<span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">-8</span></span>]); design.addZone(<span class="hljs-string"><span class="hljs-string">"promotion"</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, [<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>]); design.addZone(<span class="hljs-string"><span class="hljs-string">"promotion"</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, [<span class="hljs-number"><span class="hljs-number">56</span></span>, <span class="hljs-number"><span class="hljs-number">57</span></span>, <span class="hljs-number"><span class="hljs-number">58</span></span>, <span class="hljs-number"><span class="hljs-number">59</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-number"><span class="hljs-number">61</span></span>, <span class="hljs-number"><span class="hljs-number">62</span></span>, <span class="hljs-number"><span class="hljs-number">63</span></span>]); design.addCommand(<span class="hljs-number"><span class="hljs-number">0</span></span>, ZRF.FUNCTION, <span class="hljs-number"><span class="hljs-number">24</span></span>); <span class="hljs-comment"><span class="hljs-comment">// from design.addCommand(0, ZRF.PARAM, 0); // $1 design.addCommand(0, ZRF.FUNCTION, 22); // navigate design.addCommand(0, ZRF.FUNCTION, 2); // enemy? design.addCommand(0, ZRF.FUNCTION, 20); // verify design.addCommand(0, ZRF.FUNCTION, 26); // capture design.addCommand(0, ZRF.PARAM, 1); // $2 design.addCommand(0, ZRF.FUNCTION, 22); // navigate design.addCommand(0, ZRF.FUNCTION, 1); // empty? design.addCommand(0, ZRF.FUNCTION, 20); // verify design.addCommand(0, ZRF.IN_ZONE, 0); // promotion design.addCommand(0, ZRF.IF, 4); design.addCommand(0, ZRF.MODE, 0); // jump-type design.addCommand(0, ZRF.FUNCTION, 25); // to design.addCommand(0, ZRF.JUMP, 3); design.addCommand(0, ZRF.PROMOTE, 1); // King design.addCommand(0, ZRF.FUNCTION, 25); // to design.addCommand(0, ZRF.FUNCTION, 28); // end ... design.addPriority(0); // jump-type design.addPriority(1); // normal-type design.addPiece("Man", 0, 1); design.addMove(0, 0, [3, 3], 0); design.addMove(0, 0, [0, 0], 0); design.addMove(0, 0, [1, 1], 0); design.addMove(0, 1, [3], 1); design.addMove(0, 1, [0], 1); design.addMove(0, 1, [1], 1); ... design.setup("White", "Man", 48); design.setup("White", "Man", 49); ... }</span></span></code> </pre></div></div><br>  All this code is generated from a <a href="">zrf</a> file automatically and you don‚Äôt need to touch it.  What is worth paying attention to?  The <b>addPlayer</b> calls define players and, in the simplest case, the order of their moves (we will not be distracted by the second argument of the function).  The <b>addPosition</b> function defines a single position on the board, and <b>addDirection defines</b> a direction.  At the very end, the <b>setup</b> calls <b>define the</b> initial placement of figures. <br><br>  Positions and directions are simply two linear arrays, indexed from scratch.  Thus, the position of a piece on the board is always determined by a non-negative integer number.  Such a numerical value, at any time, can be turned into a position name using the <b>Dagaz.Model.posToString</b> function.  The inverse transform is performed by <b>Dagaz.Model.stringToPos</b> . <br><br>  With directions a little harder.  As well as positions, they are encoded with non-negative integers (according to the order of the <b>addDirection</b> call when configuring the game design).  You can get the direction code from the name using the <b>design</b> object's <b>getDirection</b> method.  The <b>allDirections</b> method allows you to get an array of all available directions (there is a similar <b>allPositions</b> method for obtaining a list of all positions).  But what is the direction itself? <br><br>  Remember the second argument to <b>addPosition</b> ?  In fact, this is an array of offsets within a linear list of all positions, one for each direction.  If the corresponding value is zero, moving in the specified direction from this position is prohibited (there is no such direction).  Navigation itself is carried out by the following method: <br><br><pre> <code class="javascript hljs">ZrfDesign.prototype.navigate = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">player, pos, dir</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_.isUndefined(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.players[player])) { dir = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.players[player][dir]; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.positions[pos][dir] != <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> + pos + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.positions[pos][dir]; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } }</code> </pre><br>  As you can see, simply add an offset to the position index or return null if such a move is prohibited.  All movements must be formulated in the first player‚Äôs ‚Äúcoordinate system‚Äù.  This means that, for example, in Chess, black pawns, as well as white, move "north".  The correct argument of the directions is the second argument of the <b>addPlayer</b> method. <br><br>  It remains to talk about gaming areas.  These are simply lists of ‚Äúspecial‚Äù positions on the board, determined by the <b>addZone</b> method.  Zones are individual for each player.  This means that the same (by name) zone, for different players, may contain different positions.  To check <b>whether a</b> position is in a given zone, the <b>inZone</b> method is <b>used</b> .  All definitions of the listed functions can be found in the source code of the <a href="">zrf-model.js module.</a> <br></div></div><br>  Thus, we have a design that does not change during the game, and a set of game states encoding the arrangement of figures at the time of the start of each turn, but a legitimate question arises: <br><br><div class="spoiler">  <b class="spoiler_title">How to change the game state?</b> <div class="spoiler_text">  Generally speaking, no way, because you should never change it yourself!  Of course, the <a href="">zrf-model</a> has a <b>setPiece</b> method that allows you to place a piece on the board, but you don‚Äôt need to call it directly!  The game state is immune.  The new state is created from the old by applying a stroke to it (an object of type ZrfMove), using the <b>apply</b> method. <br><br>  Where do these very moves come from?  They are generated by the game state itself when calling the <b>generate</b> method.  At the same time, the design and expansion of the game ensure that only the moves allowed by the rules of the game are included in the list of formed moves!  As well as the game state, the moves should not be changed directly by the bot developer, but you can at any time generate admissible moves, get a new game state using the move and, of course, <b>read</b> any information contained in these objects. <br><br>  So how can ZrfBoard please us?  First of all, we can always find out whose move is now by turning to the member <b>player</b> (in contrast to the positions and directions, the players in Dagaz are indexed starting from one).  The integer <b>zSign</b> member contains a <a href="https://en.wikipedia.org/wiki/Zobrist_hashing">zobrist-hash</a> value <a href="https://en.wikipedia.org/wiki/Zobrist_hashing">that</a> identifies an <a href="https://en.wikipedia.org/wiki/Zobrist_hashing">array of</a> shapes.  The <b>getPiece</b> method allows you to get a figure located at a specified position (a numeric index is accepted).  If the method returns null, then the polled position is empty. <br><br>  The figure itself (ZrfPiece) contains two members: <b>type</b> - the type of the figure (the numerical value is indexable from zero) and the owner, the <b>player</b> .  In addition, ZrfPiece objects can contain attribute values ‚Äã‚Äã(indexed by numeric keys).  The <b>getValue</b> method allows you to get this value by specifying an index.  As usual, null means the absence of the desired value.  It is allowed to store values ‚Äã‚Äãof both string and numeric types. <br><br>  It remains to deal with the moves (ZrfMove).  This is the hardest part.  In many games, such as Chess and Checkers, ‚Äúcomplex‚Äù moves are allowed, including the simultaneous movement of several pieces, the successive taking of pieces, one after the other, etc.  Since a move translates the game from one consistent state to another, all these actions are encoded in <b>one</b> move and are applied atomically (all or nothing). <br><br>  The sequence of all actions performed is contained in the <b>actions</b> array.  Each elementary action is a four-element array containing the following elements: <br><br>  0 - <b>Array of</b> starting positions of movement <br>  1 - <b>Array of</b> end positions of displacement <br>  2 - <b>Array of</b> figures (objects of type ZrfPiece) placed on the board <br>  3 - An <b>integer</b> containing the partial stroke number within the composite <br><br>  Each of the listed arrays usually consists of one element.  Larger arrays are rarely used for non-deterministic moves used in some games.  The number of the partial move determines the sequence of actions.  If for two actions this value is the same, they are executed simultaneously.  Otherwise, an action with a lower partial stroke number is performed first.  Three types of actions are used: <br><br><ol><li>  Take a shape - the zero item is filled, the first item contains null </li><li>  Reset (adding a shape to the board) - the null element is null, the first and second elements are filled </li><li>  Moving - zero and first elements are filled, the second element can also be filled (if the figure turns in the process of making a turn) </li></ol><br>  The <b>toString</b> method allows you to get a textual description (notation) of the move.  Sometimes it helps a lot in the debugging process. <br></div></div><br>  The whole game is, in essence, a repeating cycle, consisting of the generation of permissible moves and their subsequent application to the game state.  The iterations are repeated (with the alternation of moves of the players, given by the rules of the game) until one of the following events occurs. <br><br><ol><li>  The list of moves generated by one of the players turns out to be empty (depending on the game, this can be regarded as a defeat, a draw or even a player's victory) </li><li>  The <b>Dagaz.Model.checkGoals</b> function returns a non-null value. </li></ol><br>  The second point allows you to program the correct completion for almost any game. <br><br><div class="spoiler">  <b class="spoiler_title">Here, for example, how it looks for Reversi</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> isValid = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">design, board, player, pos</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dir = <span class="hljs-number"><span class="hljs-number">0</span></span>; dir &lt; design.dirs.length; dir++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> p = design.navigate(player, pos, dir); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (p === <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> piece = board.getPiece(p); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((piece === <span class="hljs-literal"><span class="hljs-literal">null</span></span>) || (piece.player == player)) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (p !== <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { p = design.navigate(player, p, dir); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (p !== <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { piece = board.getPiece(p); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (piece === <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (piece.player == player) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> checkGoals = Dagaz.Model.checkGoals; Dagaz.Model.checkGoals = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">design, board, player</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fc = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ec = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> positions = []; _.each(design.allPositions(), <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">pos</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> piece = board.getPiece(pos); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (piece === <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { positions.push(pos); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (piece.player == player) { fc++; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { ec++; } } }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> f = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; _.each(positions, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">pos</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (f) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isValid(design, board, player, pos)) f = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isValid(design, board, design.nextPlayer(player), pos)) f = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } }); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (f) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fc == ec) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fc &gt; ec) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> checkGoals(design, board, player); }</code> </pre><br>  Pay attention to the <b>isValid</b> function.  With it, the presence of moves allowed by the rules of the game is determined, and only if no player can make such a move is the winner determined (just the player who has more pieces on the board). </div></div><br>  The <b>checkGoals</b> function is an integral part of the game design.  At the time of the development of the bot, it is already defined and it is quite enough just to be able to call it, to correctly determine the positions that complete the game.  The function can be called for any game state and takes three arguments: the design of the game, the current state of the game and the player's identifier from the point of view of which the position is evaluated.  The result of the call is interpreted as follows: <br><br>  <b>1</b> - player win <br>  <b>-1</b> - player loss <br>  <b>0</b> - draw <br>  <b>null</b> - not a terminal position (the game can be continued) <br><br>  Another important thing that you need to know before you start developing any bots is an evaluation function.  I have already <a href="https://habrahabr.ru/post/349516/">written</a> about it in some detail before, but I repeat once again.  The objective of the evaluation function is the numerical evaluation of the position, from the point of view of one of the players (the greater the value, the better the position). <br><br><div class="spoiler">  <b class="spoiler_title">Here's what she might look like.</b> <div class="spoiler_text"><pre> <code class="javascript hljs">Dagaz.AI.eval = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">design, params, board, player</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = <span class="hljs-number"><span class="hljs-number">0</span></span>; _.each(design.allPositions(), <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">pos</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> piece = board.getPiece(pos); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (piece !== <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> v = design.price[piece.type]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (piece.player != player) { v = -v; } r += v; } }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r; }</code> </pre></div></div><br>  Usually (but not necessarily) the assessment of the position, from the point of view of one of the players, coincides with the assessment of the same position by his opponent, taken with the opposite sign.  Without compliance with this condition will not work, for example, <a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D0%25BB%25D1%258C%25D1%2584%25D0%25B0-%25D0%25B1%25D0%25B5%25D1%2582%25D0%25B0-%25D0%25BE%25D1%2582%25D1%2581%25D0%25B5%25D1%2587%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5">minimax algorithms</a> .  There are games (for example, those in which <a href="https://glukkazan.github.io/shogi/yonin-shogi.htm">more than two players</a> participate) in which it is not possible to comply with this condition.  Also, there are games in which the use of the minimax is difficult, for other reasons (for example, a complex sequence of passing a turn). <br><br><div style="text-align:center;"> <a href="https://glukkazan.github.io/stalemate/virus-wars.htm"><img src="https://habrastorage.org/webt/5r/cr/cb/5rcrcbn0roz8k3ussmkwnaouucc.png"></a> </div><br>  In these cases, heuristics come to the fore (when using a minimax, they are also very useful, since they allow you to pre-sort possible moves by their potential "strength").  Unlike the evaluation function, heuristics evaluate the move itself, and not the position on the board after it has been completed.  Heuristics can be both very <a href="">complex</a> and as simple as possible. <br><br><div class="spoiler">  <b class="spoiler_title">Such, for example</b> <div class="spoiler_text"><pre> <code class="javascript hljs">Dagaz.AI.heuristic = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ai, design, board, move</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> move.actions.length; }</code> </pre><br>  In the Tibetan game " <a href="https://glukkazan.github.io/custodian/ming-mang-small.htm">Ming-Mang</a> ", the more we take the enemy pieces per turn, the better.  Since the move in Ming-Mang consists of moving one's figure and an arbitrary number of takes, in order to get a good heuristic, it is enough just to estimate the number of elements in the <b>move.actions</b> array (I told about the structure of the move in Dagaz above). <br></div></div><br>  Not for all games to build a qualitative evaluation function is easy.  In particularly difficult cases, ‚Äúlittle tricks‚Äù are good at helping.  About the "cover", very useful in chess-type games, I wrote <a href="https://habrahabr.ru/post/349516/">earlier</a> .  Another possibility is to store auxiliary values ‚Äã‚Äãin the attributes of the shapes. <br><br><div style="text-align:center;"> <a href="https://glukkazan.github.io/renju/renju.htm"><img src="https://habrastorage.org/webt/i1/x1/sx/i1x1sxuzdnqmtwml8plwwpbgcak.png"></a> </div><br>  In <a href="https://www.gambler.ru/%25D0%25A0%25D1%258D%25D0%25BD%25D0%25B4%25D0%25B7%25D1%258E">Rendzu</a> , the most important aspect is the presence of ‚Äútriples‚Äù and ‚Äúfours‚Äù on the board, oriented in four different directions.  This information is used not only by AI, but also to identify situations of various ‚Äúfouls‚Äù (long rows and ‚Äúforks‚Äù) prohibited for the first player, as well as to determine the end of the game (5 stones ‚Äúin a row‚Äù).  Meanwhile, the search for such configurations on the board is quite a resource-intensive task. <br><br>  On the other hand, if we already store counters with row lengths, for all stones previously placed on the board, the task of updating these counters, when adding a new stone, becomes <a href="">trivial</a> .  Slightly more complicated (but quite <a href="">realizable</a> ) is the calculation of the number of " <a href="http://go-igo.ru/dictionary-go/dame.html">dame</a> " for groups of stones in the games of the " <a href="https://ru.wikipedia.org/wiki/%25D0%2593%25D0%25BE">Go</a> " family.  In any case, it is much easier to store these values ‚Äã‚Äãthan to calculate again and again, whenever they are needed.  Of course, these little things, by themselves, will not turn a bot into <a href="https://ru.wikipedia.org/wiki/AlphaGo">AlphaGo</a> , but can make its development much more comfortable. <br><br>  So we come to talk about bots.  The task of the bot, in Dagaz is the selection of the best (in a sense) move from the list of all allowable moves generated by the game state.  Here is the simplest bot: <br><br><div class="spoiler">  <b class="spoiler_title">random-ai.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RandomAi</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">params</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.params = params; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_.isUndefined(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.params.rand)) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.params.rand = _.random; } } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> findBot = Dagaz.AI.findBot; Dagaz.AI.findBot = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">type, params, parent</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((type == <span class="hljs-string"><span class="hljs-string">"random"</span></span>) || (type == <span class="hljs-string"><span class="hljs-string">"solver"</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RandomAi(params); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> findBot(type, params, parent); } } RandomAi.prototype.setContext = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ctx, board</span></span></span><span class="hljs-function">) </span></span>{ ctx.board = board; } RandomAi.prototype.getMove = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ctx</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> moves = Dagaz.AI.generate(ctx, ctx.board); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (moves.length == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">done</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">ai</span></span>: <span class="hljs-string"><span class="hljs-string">"nothing"</span></span> }; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (moves.length == <span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">done</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">move</span></span>: moves[<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-attr"><span class="hljs-attr">ai</span></span>: <span class="hljs-string"><span class="hljs-string">"once"</span></span> }; } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ix = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.params.rand(<span class="hljs-number"><span class="hljs-number">0</span></span>, moves.length - <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">done</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">move</span></span>: moves[ix], <span class="hljs-attr"><span class="hljs-attr">ai</span></span>: <span class="hljs-string"><span class="hljs-string">"random"</span></span> }; } })();</code> </pre> <br>  Yes, yes, just the choice of a random move from all available.  By the way, do not think that this is a completely useless bot.  He has his own very important applications. <br></div></div><br>  Already on this listing you can understand the following: <br><br><ol><li>  Any bot must ‚Äúintegrate‚Äù into the <b>Dagaz.AI.findBot</b> call <b>chain</b> (so that the <a href="">controller</a> can find it. The bot is searched by its type. There are three main types: <b>‚Äúopening‚Äù</b> , <b>‚Äúcommon‚Äù</b> and <b>‚Äúrandom‚Äù</b> . Found bots also lining up ‚Äúin a chain.‚Äù This is done so that the best move first <a href="">looks</a> for a bot destined for debuts ( <a href="">sgf-ai</a> , for example), followed by the main bot ( <a href="">maxmin-ai</a> , in most cases), and if it is not found (found it all moves too bad), the game turned on <a href="">random-ai</a> , just to go at least as a something. For the decision of the head  Omoko uses a special type of bot <b>"solver".</b> </li><li>  For each player with whom the bot works, a ‚Äúcontext‚Äù is created (this is done so that one bot can serve several different players simultaneously).  Inside the context, you can store any data shared between successive calls to the bot (for example, a tree of game states).  Before requesting the ‚Äúbest‚Äù move from the bot, the controller sends the bot the current state of the game (by calling the <b>setContext</b> method). </li><li>  The bot's move is requested by the <b>getMove</b> method.  The method returns a hash containing the <b>move</b> field (the desired move).  Also, if the bot has completed the search for a move, it must pass <b>true</b> to the <b>done</b> field of the returned hash.  Currently, this functionality is not used, but it is understood that the controller may request the bot to move several times in a row.  If the bot did not manage to find the best move in the allotted time, it can return the best move from those already reviewed, but not set the <b>done</b> field for the controller to continue polling. </li></ol><br>  Let's look at a slightly more complicated bot: <br><br><div class="spoiler">  <b class="spoiler_title">heuristic-ai.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ Dagaz.AI.NOISE_FACTOR = <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Ai</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">params, parent</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.params = params; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.parent = parent; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_.isUndefined(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.params.NOISE_FACTOR)) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.params.NOISE_FACTOR = Dagaz.AI.NOISE_FACTOR; } } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> findBot = Dagaz.AI.findBot; Dagaz.AI.findBot = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">type, params, parent</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((type == <span class="hljs-string"><span class="hljs-string">"heuristic"</span></span>) || (type == <span class="hljs-string"><span class="hljs-string">"common"</span></span>) || (type == <span class="hljs-string"><span class="hljs-string">"1"</span></span>) || (type == <span class="hljs-string"><span class="hljs-string">"2"</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Ai(params, parent); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> findBot(type, params, parent); } } Ai.prototype.setContext = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ctx, board</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.parent) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.parent.setContext(ctx, board); } ctx.board = board; ctx.timestamp = <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>.now(); } Ai.prototype.getMove = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ctx</span></span></span><span class="hljs-function">) </span></span>{ ctx.board.moves = Dagaz.AI.generate(ctx, ctx.board); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ctx.board.moves.length == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">done</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">ai</span></span>: <span class="hljs-string"><span class="hljs-string">"nothing"</span></span> }; } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> nodes = _.chain(ctx.board.moves) .map(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">m</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">move</span></span>: m, <span class="hljs-attr"><span class="hljs-attr">weight</span></span>: Dagaz.AI.heuristic(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, ctx.design, ctx.board, m) }; }, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) .filter(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">n</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n.weight &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>; }).value(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.params.NOISE_FACTOR &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>) { _.each(nodes, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">n</span></span></span><span class="hljs-function">) </span></span>{ n.weight *= <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.params.NOISE_FACTOR; n.weight += _.random(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.params.NOISE_FACTOR - <span class="hljs-number"><span class="hljs-number">1</span></span>); }, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nodes.length &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { nodes = _.sortBy(nodes, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">n</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> -n.weight; }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">done</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">move</span></span>: nodes[<span class="hljs-number"><span class="hljs-number">0</span></span>].move, <span class="hljs-attr"><span class="hljs-attr">time</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>.now() - ctx.timestamp, <span class="hljs-attr"><span class="hljs-attr">ai</span></span>: <span class="hljs-string"><span class="hljs-string">"heuristic"</span></span> }; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.parent) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.parent.getMove(ctx); } } })();</code> </pre></div></div><br>  This is not so much "artificial intelligence" as "artificial instincts."  Just choosing the course with the maximum heuristics, without any use of the evaluation function.  This bot is fast and transparent in debugging, but this is where its merits end.  The depth of his intellect, you can appreciate the current level of the game " <a href="https://glukkazan.github.io/renju/renju.htm">Renju</a> ", " <a href="https://glukkazan.github.io/stalemate/virus-wars.htm">Wars of viruses</a> " and especially " <a href="https://glukkazan.github.io/go/atari-go.htm">Atari Go</a> ".  Ideally, I would like to achieve normal operation of something like <a href="">this</a> (my implementation of a minimax with alpha-beta clipping is, alas, not working yet). <br><br>  Speaking of debugging bots, it is worth noting that this is a painstaking, tedious thing and does not have much fun.  Any tool to facilitate this process is definitely worth using.  First of all it concerns the <a href="">common-setup</a> module.  It is enough to add it to the list of loaded scripts and in the log (how to enable the log in the browser, I think it is not necessary to explain), after each turn, records like this will start to appear: <br><br><pre> <code class="hljs">Setup: ?setup=+19;0:1=4;+2;0:1=4;+5;0:2=3;+7;0:1=2;0:2=5;+7;0:2=5;+29;</code> </pre><br>  By adding this entry to the address bar of the browser (like <a href="https://glukkazan.github.io/go/atari-go-board.htm%3Fsetup%3D%2B19%3B0:1%3D4%3B%2B2%3B0:1%3D4%3B%2B5%3B0:2%3D3%3B%2B7%3B0:1%3D2%3B0:2%3D5%3B%2B7%3B0:2%3D5%3B%2B29%3B">this</a> ), you can recreate the corresponding position immediately, without tedious playing of the previous moves.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And with some skill, you can make yourself ready to read this notation and even edit it directly in the address bar. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Another useful feature is provided by the controller. If you replace </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">app-v2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> with </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">app-auto</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in the htm-file </font><font style="vertical-align: inherit;">, you can make bots fight each other without being distracted by clicking on the board with the mouse. Remember the weird numeric bots in </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">heuristic-ai.js</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ?</font></font><br><br><pre> <code class="javascript hljs">... Dagaz.AI.findBot = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">type, params, parent</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((type == <span class="hljs-string"><span class="hljs-string">"heuristic"</span></span>) || (type == <span class="hljs-string"><span class="hljs-string">"common"</span></span>) || (type == <span class="hljs-string"><span class="hljs-string">"1"</span></span>) || (type == <span class="hljs-string"><span class="hljs-string">"2"</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Ai(params, parent); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> findBot(type, params, parent); } } ...</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A bot with type " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " will be loaded for the first player, and with type " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " for the second. This is certainly not an </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">autoplay</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> from the </font></font><a href="http://zillions-of-games.com/cgi-bin/zilligames/submissions.cgi%3Fdo%3Dshow%3Bid%3D1452"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Axiom</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , but also a very useful thing. In addition, unlike </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">autoplay</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">app-auto is</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> not limited to </font><font style="vertical-align: inherit;">only two players </font><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debug-ai</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> module </font><font style="vertical-align: inherit;">is another useful tool worth adopting. Sometimes, when debugging game logic, it is not enough just to reproduce the position. In such cases, it is sometimes necessary that the bot play the moves on a given list and </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debug-ai</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> knows how to do it. It was with his help that I debugged the </font></font><a href="https://glukkazan.github.io/elimination/apocalypse.htm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apocalypse</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Well, in general, and all wisdom. </font><font style="vertical-align: inherit;">As I said, the tedious thing, but not supernatural. </font><font style="vertical-align: inherit;">And I will be glad if anyone joins me in this matter. </font><font style="vertical-align: inherit;">By the way, literally two days ago, the first letter arrived at the project mail. </font><font style="vertical-align: inherit;">Garrick Wells great help to me with </font></font><a href="https://github.com/GlukKazan/Dagaz/blob/master/src/debug/games/shogi-family/data/micro-shogi.txt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debuts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for </font></font><a href="https://glukkazan.github.io/shogi/micro-shogi.htm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Micro Shogi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Along the way, I discovered and </font></font><a href="https://github.com/GlukKazan/Dagaz/commit/55235fdaab840198c26e89c45a01255b6b69c98e"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fixed a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> serious bug that affected this and several other games. </font><font style="vertical-align: inherit;">This is exactly the form of cooperation I seek.</font></font><br></div><p>Source: <a href="https://habr.com/ru/post/353116/">https://habr.com/ru/post/353116/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../353104/index.html">Procedural maze generation in Unity</a></li>
<li><a href="../353108/index.html">Is it possible to enter the closed door, or how patches vulnerabilities</a></li>
<li><a href="../353110/index.html">Mitap Cocoaheads in Tutu.ru office</a></li>
<li><a href="../353112/index.html">Security violations of mobile applications as a result of insufficient attention of the developers</a></li>
<li><a href="../353114/index.html">Kubernetes 1.10: a review of major innovations</a></li>
<li><a href="../353118/index.html">Sberbank Business Online on Windows 10 - a new solution for customers, or why UWP applications are driving</a></li>
<li><a href="../353120/index.html">How we did a project about the presidential elections in Russia in 2018</a></li>
<li><a href="../353122/index.html">Figma web-API - an interface that allows you to connect to other tools</a></li>
<li><a href="../353124/index.html">UL 3223: New Data Center Certification Standard introduced</a></li>
<li><a href="../353126/index.html">What's New in PostgreSQL 11: INCLUDE Indexes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>