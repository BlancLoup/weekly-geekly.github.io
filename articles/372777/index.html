<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>IoT-solution for transport: the path from idea to production</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today we will talk about the rapid development of IoT-system, which is designed for refrigerated trucks. It helps to monitor the temperature in the re...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>IoT-solution for transport: the path from idea to production</h1><div class="post__text post__text-html js-mediator-article">  Today we will talk about the rapid development of IoT-system, which is designed for refrigerated trucks.  It helps to monitor the temperature in the refrigerating chamber and behind the doors of the cargo compartment. <br><br>  Work on the project is divided into two phases.  First, with the use of the Grove IoT Commercial Development Kit, a prototype was created that allowed to confirm the performance of the system.  After this, the prototype was converted into a solution suitable for practical use. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/1b7/e7f/342/1b7e7f342a0a4c08996fb3ce2303cc39.jpg"></div><br><a name="habracut"></a><br>  The main software and hardware components of the ready-made solution are the Intel Gateway for the Internet of Things, industrial-grade sensors and Intel System Studio.  During operation, the gateway that collects sensor readings generates events based on the recorded changes in monitored parameters.  The data comes in a mobile application that allows the truck driver to monitor the temperature in the cold store, and, in response to alerts, take measures that allow you to save the load. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This project was first shown at <a href="https://software.intel.com/en-us/articles/intel-iot-commercial-dev-kit-path-to-product">IDF 2015</a> , and later at a similar event in 2016. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/411/14b/0b4/41114b0b4f5d4d38a5cd6de9428ed9a7.png"><br>  <i><font color="#999999">Demonstration of the ready decision</font></i> <br><br>  Developments in the field of the Internet of things are aimed at equipping familiar devices with intellectual functions and communication capabilities.  Based on the information collected and transmitted by these devices, you can create systems that ultimately improve the quality of life.  This also applies to our project aimed at automating trucks that transport perishable goods.  We focused on only one of the possible aspects of such automation.  Namely, on the temperature control in the refrigerator.  If the temperature is outside the specified range, the system alerts the driver, and he can take measures in time to ensure that the load does not deteriorate.  This helps to reduce financial losses in the field of transportation, which means that our project may well become a promising commercial product. <br><br><h2>  <font color="#0071c5">Preliminary Information</font> </h2><br>  In the course of the project, it was planned to build a prototype, and after it was proven to work, to create a commercial solution that can be implemented in fleets of various sizes. <br><br>  The prototype was created quite quickly thanks to the Grove IoT Commercial Developer Kit, which includes a computer from the Intel NUC series, Intel IoT Gateway Software Suite software, a set of sensors and auxiliary components of the Grove Starter Kit Plus (manufactured by Seeed).  In addition, the Arduino 101 board is involved in the project. Usually this board is called in the USA, in other countries it is known as Genuino 101. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/7b4/020/fd1/7b4020fd1280341155489d4bf1d339b6.jpg"><br>  <i><font color="#999999">Computer Intel NUC Kit DE3815TYKHE</font></i> <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/06f/4c1/399/06f4c13991878ddb98215b1a9342e38b.jpg"><br>  <i><font color="#999999">Arduino 101 board</font></i> <br><br>  Here are the characteristics of the computer and the board. <br><table><tbody><tr><td></td><td>  <a href="http://ark.intel.com/products/78577/Intel-NUC-Kit-DE3815TYKHE"><b>Intel NUC Kit DE3815TYKHE</b></a> <br></td><td>  <a href="https://www.arduino.cc/en/Main/ArduinoBoard101"><b>Arduino 101</b></a> <br></td></tr><tr><td>  <b>Processor / Microcontroller</b> <br></td><td>  Intel Atom E3815 processor (512 KB cache, 1.46 GHz) <br></td><td>  Intel Curie 32 MHz Compute Module <br></td></tr><tr><td>  <b>Memory</b> <br></td><td>  Up to 8 GB DDR3L-1066 SODIMM <br></td><td>  196 KB of flash memory <br>  24 KB SRAM <br></td></tr><tr><td>  <b>Network capabilities, I / O ports</b> <br></td><td>  Integrated 10/100/1000 Mbps network controller <br></td><td>  14 digital and 6 analog outputs <br></td></tr><tr><td>  <b>Dimensions</b> <br></td><td>  190 mm x 116 mm x 40 mm <br></td><td>  68.6 mm x 53.4 mm <br></td></tr></tbody></table><br>  We believe that the ‚Äúfrom idea to production‚Äù approach, which is applied when working on this project, is valuable in that it allows you to first build a prototype, spending relatively little time and money, and then quickly move on to a solution suitable for commercial use.  The use of pre-assembled operating systems and ready-made RPM packages allows you to avoid unnecessary time spent on downloading additional materials, setting up the operating system and searching for the libraries necessary to make the software part of the solution work. <br><br>  The global goal of the project is to supplement the existing knowledge in the field of similar innovative solutions that are being created and brought to the market.  While only basic functionality is incorporated into our development, its architecture is quite flexible and extensible, which allows you to add many additional features to it.  This applies to hardware components, software functions, interaction with cloud services.  For example, it is relatively easy to add the ability to remotely monitor the condition of a refrigerator to the existing functionality. <br><br>  In the early stages of the project, the team decided on the potential functions of the prototype and the finished product.  Among them is the collection of information on the status of loading doors (they are open or closed), data on the temperature in the refrigerator.  Based on the collected data, the system should notify the driver about situations dangerous for the cargo using a mobile application. <br><br>  The initial stage of work includes the creation of a prototype.  In order to pass this stage without wasting time and money, the team decided to limit the set of materials for prototyping to the contents of the Grove IoT Commercial Developer Kit. <br><br><h2>  <font color="#0071c5">Prototype</font> </h2><br>  In order to ensure separation of duties and organize effective work on the project, the team divided the solution into three main components: <br><br><ul><li>  <b>User interface</b>  Part of the team started working on the user interface, which was planned to be used both in the prototype and in the finished product. <br><br></li><li>  <b>Business logic application.</b>  Another part of the team started working on a prototype application.  In the course of the work it became clear that, in the transition to a commercial solution, changes in the code might be necessary. <br><br></li><li>  <b>The hardware part of the solution</b> .  Another part of the team took up the hardware part of the solution.  In particular, the issue of the interaction of sensors and the main system.  In the course of work, the libraries UPM / MRAA were used.  This allowed us to do everything as quickly as possible. <br></li></ul><br>  Dividing the project into several parts allowed us to go faster through the stages of developing a prototype, rather than without such separation, using the set of skills that the team members have.  In particular, although the user interface could have been dispensed with in the early stages of the project, it was expected that its development, in comparison with other tasks, would take the most time.  An early start of work allowed us, at the later stages of the project, to get an almost ready user interface. <br><br>  In terms of application logic, the team, correctly predicting the desired capabilities of the finished product, was able, at the initial stages of work, to make decisions taking into account future needs.  In general, the team expected that work with door sensors would be relatively simple, which allowed us to pay more attention to the correct use of temperature sensors, first in the prototype, and then in the finished solution. <br><br>  Through the use of sensors from the Grove kit, the team was able to quickly create a prototype that fully simulates the system.  The user interface team was able to work with the prototype.  This approach, among other things, allowed us to quickly create an interface layout and design elements.  The prototype, in software and hardware sense, became the basis for the finished product.  The configuration of the prototype, which involves the Intel NUC, Arduino 101 board and sensors, is shown below. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/7e2/efc/29d/7e2efc29d7093138e1559d55f66de6e8.jpg"><br>  <i><font color="#999999">Prototype</font></i> <br><br>  Here are the details about the used components. <br><br>  Main system: <br><br><ul><li>  <a href="http://www.intel.com/content/www/us/en/support/boards-and-kits/intel-nuc-kits/intel-nuc-kit-de3815tykhe.html">Intel NUC Kit DE3815TYKHE</a> . <br></li><li>  <a href="http://www.arduino.cc/en/Main/ArduinoBoard101">Arduino 101</a> . <br></li><li>  AB USB cable for connecting the Arduino 101 board to the NUC. <br></li></ul><br>  Components from the Grove IoT Commercial Developer Kit. <br><br><ul><li>  <a href="http://www.seeedstudio.com/depot/Base-Shield-V2-p-1378.html">Base Shield V2</a> (base expansion card). <br></li><li>  <a href="http://www.seeedstudio.com/depot/Grove-Touch-Sensor-p-747.html">Touch Sensor Module</a> . <br></li><li>  <a href="http://www.seeedstudio.com/depot/Grove-Button-p-766.html">Button Module</a> . <br></li><li>  <a href="http://www.seeedstudio.com/depot/Grove-Temperature-Sensor-p-774.html">Temperature Sensor Module</a> <br></li><li>  <a href="http://www.seeedstudio.com/depot/Grove-Buzzer-p-768.html">Buzzer Module</a> (buzzer). <br></li><li>  <a href="http://www.seeedstudio.com/depot/Grove-Red-LED-p-1142.html">Red LED</a> (red LED). <br></li><li>  <a href="http://www.seeedstudio.com/depot/Grove-LCD-RGB-Backlight-p-1643.html">LCD with RGB Backlight Module</a> (LCD with color backlight). <br></li></ul><br><h2>  <font color="#0071c5">Experiments</font> </h2><br>  Here is the scenario of working with the system, imitating the real situation.  It uses an administrative application and a prototype. <br><br><ol><li>  Press the button that symbolizes the opening of the door. <br><br>  - Let's set the alarm threshold when the ambient temperature rises by 5 degrees. <br>  - In the "cab" turns on the red LED. <br>  - The LCD displays the current temperature and door status (open), as shown in the figure below. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/c1e/96b/092/c1e96b0926d5d266e17d468ab4980595.png"><br>  <i><font color="#999999">Display of temperature in the refrigerator and door status information</font></i> <br><br></li><li>  Let us touch the temperature sensor so that the temperature recorded by it rises by five degrees. <br><br>  - The buzzer sounds. <br>  - The red LED flashes continuously. <br>  - The LCD turns on a red light and displays the current temperature and the status of the door (it is still open). <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/b74/5ba/983/b745ba98321ef03dd9fb8578398abe09.png"><br>  <i><font color="#999999">System response to temperature increase with the door open</font></i> <br><br></li><li>  We touch the touch sensor in order to inform the system that we are ready to rectify the situation.  This turns off the buzzer. <br><br></li><li>  Click on the button that simulates closing the door. <br><br>  - The red LED continues to flash until the temperature falls below the set threshold. <br><br>  - LCD display shows temperature and door status (closed). <br><br>  - When the temperature falls below the threshold value, the flashing LED turns off, the green backlight turns on on the LCD. <br><br>  - LCD displays temperature and door status (closed). <br></li></ol><br>  This is what the refrigerator temperature monitoring log looks like during our experiments.  Descriptions of events located below the graph indicate that it took the driver a little more than a minute to respond to an abnormal situation that led to an increase in temperature.  In reality, even if the reaction time increases slightly, it will mean a reduction in the potential loss of perishable products. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/f9c/e9c/758/f9ce9c75855cb2dca8029e7d6941ace1.png"><br>  <i><font color="#999999">The event log</font></i> <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/d76/475/cf4/d76475cf4fe4d81dad7546565d482316.png"><br>  <i><font color="#999999">System OK</font></i> <br><br><h2>  <font color="#0071c5">Commercial solution</font> </h2><br>  After the prototype has been tested, it‚Äôs time to move to a commercial solution.  This transition begins by determining which software and hardware components that are suitable for actual use correspond to different parts of the prototype. <br><table><tbody><tr><td></td><td>  <b>Prototype</b> <br></td><td>  <b>Commercial solution</b> <br></td></tr><tr><td>  <b>Buzzer</b> <br></td><td>  Grove Kit Buzzer <br></td><td>  Notification on the phone (mobile application) <br></td></tr><tr><td>  <b>LCD display</b> <br></td><td>  Grove LCD <br></td><td>  Phone screen (mobile app) <br></td></tr><tr><td>  <b>Red led</b> <br></td><td>  Grove Kit LED <br></td><td>  Programmable phone LED (mobile app) <br></td></tr><tr><td>  <b>Button</b> <br></td><td>  Grove Kit Button Module <br></td><td>  Industrial magnetic door opener sensor <br></td></tr><tr><td>  <b>Touch sensor</b> <br></td><td>  Grove Kit Touch Sensor <br></td><td>  Touchscreen phone (mobile app) <br></td></tr><tr><td>  <b>Temperature sensor</b> <br></td><td>  Grove Kit Temperature Sensor <br></td><td>  Industrial temperature sensor <br></td></tr><tr><td>  <b>Heat source</b> <br></td><td>  The heat of the person touching the sensor <br></td><td> 20 watt halogen spotlight <br></td></tr><tr><td>  <b>Gateway</b> <br></td><td>  Intel NUC computer and Arduino 101 board <br></td><td>  Intel Gateway for IoT <br></td></tr></tbody></table><br>  There are many gateways available, they are quite diverse, which allows you to choose a device suitable for any application.  The key gateway capability required for this project was the wide range of available I / O methods.  This is the requirement of the current version of the project, connected with the connection of sensors, and the pledge of its expansion possibilities in the future.  In our case, the Intel Gateway for the Internet of Things was chosen for the production phase of the project.  The I / O methods supported by it and its computational capabilities were considered sufficient for commercial use. <br><br>  To collect information about the temperature, which is made at intervals of a few seconds, a Comet wired sensor was chosen that supports the Modbus protocol.  In general, the interaction with the sensors is carried out either by their direct connection to the gateway, or, for sensors with advanced capabilities, over the network.  The project used the standard libraries MRAA / UPM, they did not make any changes.  The UPM library for Java uses libmodbus to read data from a temperature sensor. <br><br>  The gateway works as a web server (Tomcat), stores data, polls the temperature sensor, keeping the information up to date. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/c67/044/4d6/c670444d6d9d3b0e90a02b33cf8f194f.png"><br>  <i><font color="#999999">Gateway and temperature sensor, a demo version of the finished project</font></i> <br><br><h2>  <font color="#0071c5">Moving the application to the gateway</font> </h2><br>  Usually the transition to using a gateway involves the need to recycle the code in such a way as to make it compatible with the new system.  In this case, programming for the prototype was conducted in Java, HTML, and JavaScript, which made the transition to a ready-made solution relatively simple.  In addition, the transition has simplified the use of the same MRAA / UPM libraries at all stages of the project. <br><br><h2>  <font color="#0071c5">Transition to industrial sensors</font> </h2><br>  Using the MRAA and UPM libraries can quickly bring a project to a working state.  The following steps show the process of porting an application to a commercial version of a product. <br><br><ol><li>  Schedule the desired industrial hardware: <br><br>  - Determine if the hardware support needs additional libraries or other software. <br><br>  - If necessary, integrate these libraries and software into the system and create a system level for deploying project software. <br><br></li><li>  After the new hardware is successfully integrated into the prototype, remove the code that is no longer needed. <br><br>  ‚ÄîUse the existing levels of abstraction created during the work on the prototype to establish the dependencies of the solution. <br><br>  - Make the changes necessary to support the new hardware. <br></li><li>  Build a commercial version of software based on current developments. <br><br></li><li>  Install and test the solution using hardware designed for the commercial version of the project. <br></li></ol><br><h2>  <font color="#0071c5">Custom application</font> </h2><br>  The application, whose screenshots are shown below, is intended for the driver.  It was created to replace the LCD, LED, buzzer and touch sensor from the Grove kit.  In the finished solution, the user application is installed on the mobile device that the driver is wearing.  This allows the system to easily inform him of important events, and for him to quickly respond to alerts.  In this example, the application is very simple, but, if necessary, it can be easily expanded.  Its interface provides two status indicators.  They help to control the temperature in the refrigerator and the condition of the doors.  There are also a couple of buttons - ALERT, an alarm button, and ACKNOWLEDGE, which allows the driver to show that he saw the alert and is ready to take action to save valuable cargo. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/ef6/d5b/4b6/ef6d5b4b645c1c3e22b2262a003439fe.png"><br>  <i><font color="#999999">Main screen</font></i> <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/22e/10a/47f/22e10a47f42e946309c0dca58fd85880.png"><br>  <i><font color="#999999">Alert</font></i> <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/363/515/660/363515660c8d1fe66a09dafc9498cc7b.png"><br>  <i><font color="#999999">Situation requiring driver intervention</font></i> <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/845/110/0c4/8451100c4507fbc64e5231155f55eea0.png"><br>  <i><font color="#999999">Configure Gateway Connection</font></i> <br><br><h2>  <font color="#0071c5">Results</font> </h2><br>  We talked about how to use the Grove IoT Commercial Developer Kit for quick, easy and inexpensive prototyping.  The software part of the solution, based on multifunctional libraries for working with sensors, facilitates the development process and ensures high compatibility of the code written for the prototype with the components of the commercial version of the product.  In the prototype, the role of the gateway was played by the Intel NUC computer, and the gateway from Intel was used in the ready solution.  This ensured compatibility of the prototype code and the turnkey solution at the operating system level. <br><br>  The main goal of Intel when working on this project was to explore the possibilities for creating IoT solutions for transport.  We hope that our research will help the development of similar innovative developments in the field of the Internet of Things. <br><br>  Additional details regarding the technical part of the project can be found <a href="https://software.intel.com/en-us/articles/iot-path-to-product-how-to-build-a-connected-transportation-solution">here</a> .  The code and documentation are stored on <a href="https://github.com/intel-iot-devkit/path-to-product/tree/master/transportation/java">GitHub</a> . </div><p>Source: <a href="https://habr.com/ru/post/372777/">https://habr.com/ru/post/372777/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../372767/index.html">Nobel Week: Why did the medal become a prize for scientific achievements?</a></li>
<li><a href="../372769/index.html">Physics in the animal world: sea turtles and their "compass"</a></li>
<li><a href="../372771/index.html">More fun and efficient: how to use music for work and where to look for it</a></li>
<li><a href="../372773/index.html">We write our firmware for Sonoff TH10 / 16 modules</a></li>
<li><a href="../372775/index.html">In memory of Churyumov Klim Ivanovich dedicated: "His among the stars and comets"</a></li>
<li><a href="../372779/index.html">Six Real-life ThinkPad Survival Stories</a></li>
<li><a href="../372781/index.html">Microsoft's speech recognition system has reached the human level</a></li>
<li><a href="../372783/index.html">The book "Ontogenesis. From cell to person "</a></li>
<li><a href="../372785/index.html">Nintendo Shows New Switch Console Trailer</a></li>
<li><a href="../372787/index.html">Top 10 most highly paid occupations in IT security</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>