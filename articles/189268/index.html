<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Tricky network issues</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It has long been the idea to put together interesting questions about networks. 

 What unites them is that they are all fairly simple, but sometimes ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Tricky network issues</h1><div class="post__text post__text-html js-mediator-article">  It has long been the idea to put together interesting questions about networks. <br><br>  What unites them is that they are all fairly simple, but sometimes we don‚Äôt think about them (I didn‚Äôt think about them anyway). <br>  In general, I collected them, knocked them out, and found the answers. <br>  So, blitz poll: <br><br><h2>  Let's start with the lowest levels and the simplest questions. </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h6>  IN 1.  Why is such a strange order chosen for the twisted pair: the blue pair by 4-5, breaking the green one, which is 3, 6? </h6><br><br><img src="https://habrastorage.org/getpro/habr/post_images/a61/6df/78c/a616df78cce784acf11ea9a67ce0fad6.jpg"><br><br><div class="spoiler">  <b class="spoiler_title">Answer</b> <div class="spoiler_text">  <b>O1</b> : This is done for the sake of a two-pin telephone connector.  Thus, for example, both a telephone cable and a twisted pair cable can be inserted into the patch panel. <br>  <i>It is possible even to bring the network and telephony through one cable, but I did not tell you that!</i> <br><br>  <a href="http://habrahabr.ru/post/158177/">habrahabr.ru/post/158177</a> . <br></div></div><br><br><h6>  AT 2.  In the Ethernet standard, there is always a gap between frames called the IFG (Inter Frame Gap) that is 12 bytes long.  What is it for, and why is it present in modern standards? </h6><br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Answer</b> <div class="spoiler_text">  <b>O2</b> : IFG was used extensively in the heyday of CSMA / CD.  This is a pause that the sending device must make before sending the frame to avoid collisions. <br>  The fact is that when several hosts are connected to the hub, there is a high probability that they will start sending data at one time, and a collision will occur or one station will occupy the monopoly channel. <br>  When using IFG while one host is waiting, the other can send. <br>  Generally speaking, IFG is measured in microseconds.  Its duration for Fast Ethernet is 0.96 microseconds. <br><br>  Already in gigabit CSMA / CD is only conditionally, but in 10G it is not at all.  This is because the collision domain of modern switches is limited to a single interface / cable, plus they work in full duplex mode. <br>  So why are we still losing the precious 12 bytes? <br>  Just no one wants to change the standard. <br><br>  Colorful description <a href="http://www.tamos.net/~rhay/wp/overhead/overhead.htm">Search by words <i>"Now what is not shown"</i></a> <br></div></div><br><br><h6>  IN 3.  What caused the limit on the length of the Ethernet segment and the minimum frame size? </h6><br><div class="spoiler">  <b class="spoiler_title">Answer</b> <div class="spoiler_text">  <b>O3</b> : Usually this fact is explained by the fact that attenuation and <br><br>  The true reason lies in the same CSMA / CD mechanism. <br>  In order for a line collision to be successfully detected, at the moment when the first bit is received on the remote side, the station must not yet finish transmitting the current portion of data. <br>  I will explain on the fingers.  We take a half-duplex network.  Suppose station 1 starts transmitting data.  Behind her, station 2 is trying to transmit something. It has not yet received a signal from Station 1 and therefore it can.  The signal from station 2 will reach station 1 before it finishes transmitting its data.  Both stations detect a collision and stop the transmission.  All perfectly.  The data is not lost and the next time they will definitely succeed. <br><br>  Now suppose another situation.  Station 1 transmitted a portion of the data and is preparing for the next one.  But the signal has not reached station 2 yet, she understands that it is possible to transmit. <br>  Yeah, somewhere in the middle they crossed.  Station 2 understood this and stopped the transmission, and Station 1 received the corrupted data, while continuing to think that it had fulfilled its signal transmission task, and therefore undertakes the next batch. <br>  As a result, the frame was lost, because they failed to collect it on the back side - they did not receive everything.  Yes, higher protocols can detect this, re-request them again, but how many vain milliseconds will be spent for this? <br><br>  This situation is excluded if the condition stated at the beginning is fulfilled: when the first bit at the end of the segment is received, the sender has not yet transmitted the last bit.  Then nothing will be lost. <br><br>  But back to the length of the segment.  You probably already started to guess what the salt?  The length must be such that this condition is satisfied. <br>  So, discarding tricky ways of counting, 100 m is exactly the distance at which the distant side has not yet sent the last sending when receiving the first bit. <br><br>  It remains to determine the size of this data block. <br>  The minimum portion of data for the Fast Ethernet standard is 512 bits or 64 bytes - this is the so-called Slot time.  Nothing this figure resembles?  The minimum size of an Ethernet frame, perhaps?  (For Gigabit Ethernet, this value is increased to 512 bytes). <br>  Exactly these 64 bytes and should stretch the entire length of the segment. <br><br>  I tried to understand this topic in more detail and prepared a separate material to make it easier for you to understand: <a href="http://nag.ru/articles/article/23464/100-metrov-ethernet.html">100 meters of Ethernet</a> . <br><br>  <a href="http://www.ixbt.com/comm/tech-fast-ethernet.shtml">www.ixbt.com/comm/tech-fast-ethernet.shtml#_Toc91050385</a> <br></div></div><br><br><h6>  AT 4.  How Ethernet Overhead is Computed </h6><br>  According to the 802.3 standard, we have: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1f2/ea4/ab9/1f2ea4ab98b12534cbafa954199860ba.png"><br><br>  Why, when calculating overhead, Ethernet overhead is taken as 14 bytes, not 38 or 18 (Dest + Source + Legth + FCS). <br><br><div class="spoiler">  <b class="spoiler_title">Answer</b> <div class="spoiler_text">  <b>4</b> : It is easy to understand why the Preamble and the IFG do not count.  As you know, Ethernet combines the functions of the link and the physical layer of the OSI model.  And while MAC DST, MAC SRC, Type, and FCS are the data link layer attributes, the preamble and the IFG are physical.  It is logical that when processing a frame, the device focuses only on its <i>useful</i> length, without overhead bytes of the physical layer. <br>  At the same time note that when calculating bandwidth capacity, the full length is still taken into account: 38 bytes + payload. <br><br>  Good, but what about FCS?  After all, it is most often not taken into account when calculating overhead costs (overhead) and only 14 bytes are added to the length of the payload (MAC DST + MAC SRC + Type). <br>  Here the devil is in the details and to find the answer, you need to turn to the very essence of FCS - Frame Check Sequence.  IP does not have built-in controls for the integrity of the source information, so these functions are assumed by TCP (general control - whether all data is delivered correctly) and Ethernet.  The latter checks for damage every particular frame, calculate the checksum.  That is, it takes the entire frame with the exception of the FCS field, processes it and compares the result with the original value of the checksum, if not the same, discards it.  If it matches, the FCS field is cleared first, then the remaining frame is transmitted to higher authorities.  In fact, this processing takes place in the gland at an early stage, and those processes that deal with the actual frame and calculate its size actually receive only 14 redundant bytes of the header. <br>  Such an interesting arithmetic. <br>  <a href="http://forum.nil.com/viewtopic.php%3Ff%3D12%26p%3D582">forum.nil.com/viewtopic.php?f=12&amp;p=582</a> <br></div></div><br><br><h6>  AT 5.  Did you know that the real bit rate of fast ethernet is 125 Mb / s?  Why is that? </h6><br><br><div class="spoiler">  <b class="spoiler_title">Answer</b> <div class="spoiler_text">  <b>O5</b> : Ethernet borrows from FDDI the 4B / 5B encoding method, when any four bits of the MAC sublayer are represented by five physical bits with <b>alternating</b> zeros and ones.  For what it is done - already deep physics. <br>  In this case, the source data should be transmitted at a speed of 100 Mb / s according to the Ethernet standard.  Because of this excess bit, the actual speed is 25% more (5 more than 4 to 25%), which is, of course, 125 MB / s. <br>  <a href="http://citforum.ru/nets/lvs/glava_5.shtml">citforum.ru/nets/lvs/glava_5.shtml</a> <br></div></div><br><br><h6>  AT 6.  Everyone knows that the 802 committee deals with LAN standards.  Also, it is well known that Ethernet is 802.3 </h6><br>  On the other hand, Ethernet II is now generally accepted. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b68/645/d31/b68645d310f56f1550785136e8b802e2.png"><br><br>  What is the difference between Ethernet II frames and 802.3 frames and why is it even II? <br><br><div class="spoiler">  <b class="spoiler_title">Answer</b> <div class="spoiler_text"> <b>O6</b> : 802.3 frames contain the Length field instead of the Type (EtherType) we are used to.  Historically, there are several standards for Ethernet frames (besides those listed). <br>  Then DEC, Intel and Xerox refined them to a universal, beautiful Ethernet II solution (Ethernet DIX by the first letters of the companies), which has become extremely popular - IP works on top of it. <br>  The Length field has previously spoken about the total size of the payload, which was generally not very informative, and all the more such a frame could carry only one type of higher protocol.  Length values ‚Äã‚Äãcan be up to 1500 (0x05dc). <br>  In the Ethernet II frame, the Length field was abandoned and the rest 2 bytes were used under the Type (EtherType) field, which defines the type of the upstream protocol.  To clearly distinguish them from 802.3, values ‚Äã‚Äãabove 1536 (0x0600) are taken. <br>  For example, if the frame carries IPv4, the type will be 0x0800, ARP - 0x0806, VLAN (802.1q) - 0x8100, IPv6 - 0x86DD, QinQ - 0x9100, etc. <br>  <a href="http://pascal.tsu.ru/other/frames.html">pascal.tsu.ru/other/frames.html#as-h4-2325214</a> <br></div></div><br><br><h2>  We rise a little higher </h2><br><br><h6>  AT 7.  LACP is used to manage interfaces in the LAG.  Can he track this situation </h6><br><img src="https://habrastorage.org/getpro/habr/post_images/59f/a6f/422/59fa6f42215f22221e1289b8828a5c96.png"><br>  Here the switches are connected by two optical interfaces integrated into the LAG.  Two optical cables are used as the medium - one for reception and the other for transmission.  What happens after a single cable breaks? <br><br><div class="spoiler">  <b class="spoiler_title">Answer</b> <div class="spoiler_text">  <b>A7</b> : Generally speaking LACP is the most efficient protocol.  It decides whether to add or remove an interface from the LAG almost exclusively on the basis of what state the interface has - Up or Down. <br>  If only one cable is broken, transmission in one direction will stop - the laser signal will disappear.  As a rule, the switch, as soon as it stops seeing the signal from the remote side, switches the interface to the Down state.  In the situation as in the figure, the SW2 signal stops seeing, because the cable is damaged, and translates the Gi0 / 0/1 interface into Down.  At the same time, the SW1 signal also sees its Gi0 / 0/1 interface in Up. <br><br>  On SW2, LACP removes Gi0 / 0/1 from the LAG, but not on SW1.  Thus, there is a problem with data transfer. <br>  To avoid such situations, you must use one of the UDLD (UniDirectional Link Detection) protocols, such as BFD or EFM OAM. <br>  <b>UPD:</b> User <a href="https://habrahabr.ru/users/karroplan/" class="user_link">Karroplan</a> amended this question: <br><blockquote>  LACP perfectly identifies unidirectional links.  Timeout is either 1 or 30 seconds - there are two mechanisms in lacp, fast and slow transmission. <br>  UDLD / BFD is needed only to reduce the reaction time.  Moreover, at one time I had to issue a separate RFC for BFD over LACP, since  BFD is initially L3 protocol and perceives the entire PortChannel as one aggregated link and can determine only the fall of the entire link. <br></blockquote><br></div></div><br><br><h2>  More higher </h2><br><br><h6>  AT 8.  Can ping each other two computers in such conditions </h6><br><img src="https://habrastorage.org/getpro/habr/post_images/130/0d9/3c7/1300d93c7cc1a21c72f3dd9682cd861c.png"><br><br><div class="spoiler">  <b class="spoiler_title">Answer</b> <div class="spoiler_text">  <b>O8</b> : Yes, they can.  Although the default gateway is on a different subnet, ARP requests will be sent in search of it. <br>  That is, PC1 sends a broadcast ARP request, "Who is there 192.168.0.1?".  PC2 gets it and, of course, replies that this is it.  PC1 receives the ARP reply and inserts its MAC address and IP address into its table.  Further, nothing prevents them from sharing data. <br>  <b>UPD: The</b> user <a href="http://habrahabr.ru/users/merlin-vrn/">merlin-vrn</a> gave a more accurate, comprehensive answer to this question: <br><br><blockquote>  How should PC1 get to 192.168.0.1? <br><br>  1. We look, whether not the local address it.  No, not local. <br>  2. We look, whether there is no it in any of local area networks (here 192.168.1.0/24).  No, it is not. <br>  3. We are looking for a gateway and make an ARP request to it.  And through which interface?  Op-pa.  Where to look for 192.168.0.1?  We do not know. <br><br>  You will say that "once the network card in the settings indicated 1, then through it and look for."  Good.  This is equivalent to the route ‚Äú192.168.0.1/32 via network card1‚Äù, which, in fact, Windows will do. <br><br>  Those.  the configuration given in the example is actually arranged as follows: <br>  PC1: 192.168.1.1/32, 192.168.0.1/32 via e0, <br>  PC2: 192.168.0.1/32, 192.168.1.1/32 via e0. <br><br>  Those.  we have two computers and local routes ‚Äúdirectly‚Äù to each other, even though it is on different subnets.  Of course, will ping. <br></blockquote><br>  The bottom line is that before adding such a route by default (not on the same subnet), you need to have a route to it in the routing table, which, of course, is not there initially.  But Windows hidden adds it, so ping works. <br></div></div><br><br><h6>  AT 9.  What is the difference between Directed Broadcast (192.168.0.255) and Limited broadcast (255.255.255.255) </h6><br><br><div class="spoiler">  <b class="spoiler_title">Answer</b> <div class="spoiler_text">  <b>A9</b> : The packet sent to 255.255.255.255 is limited only by the network where it originated - the MAC address is set in ffff-ffff-ffff.  If the packet is sent to 192.168.0.255, then first, according to all the routing rules, the packet reaches the destination network 192.168.0.0, and only then it is sent to all the hosts on this network. <br></div></div><br><br><h6>  Q10: Can the address 10.0.1.0 be used for the host address? </h6><br><br><div class="spoiler">  <b class="spoiler_title">Answer</b> <div class="spoiler_text">  <b>A10</b> : Yes, of course, it can, if for example, on the interface you have a configuration of 10.0.0.0/23.  Then the range of available addresses will be 10.0.0.1-10.0.1.254 and all of them can be used.  Including 10.0.0.255. <br>  <b>UPD: The</b> second example is the use of the / 31 mask, when the network address and the broadcast address can be assigned to nodes. <br></div></div><br><br><h6>  AT 11.  What is fundamentally different from the usual reverse mask? </h6><br><br><div class="spoiler">  <b class="spoiler_title">Answer</b> <div class="spoiler_text">  <b>O11</b> : Naturally, a noticeable difference in the inversion of this mask, that is, zeros denotes the part that should be unchanged.  But it does not matter in principle. <br>  The significant difference is that here zeros can alternate with ones.  That is, if the subnet mask cannot contain such a set: 10110001, then the reverse mask can. <br><br>  Thus, for example, you can select hosts with the address 10.5..123 in all subnets, for example, and allow them access to the Internet.  Or separate all even and odd even addresses and implement traffic distribution exactly in half based on the sender's address. <br><br>  <b>UPD:</b> The difference also lies in the fact that the direct mask operates with networks, and the reverse - with hosts. <br></div></div><br><br><h6>  AT 12.  What are the addresses for 169.254.0.0/16 (auto-tuning APIPA in Windows and nonzeroconf in unix) </h6><br>  And why such a ping does not work: <br><img src="https://habrastorage.org/getpro/habr/post_images/9ea/f9a/76b/9eaf9a76b290b2a37760d3f459b40f9a.png"><br><br><div class="spoiler">  <b class="spoiler_title">Answer</b> <div class="spoiler_text">  <b>A12</b> : Network 169.254.0.0/16 was originally conceived as a Link-Local network. <br>  Its essence lies in the fact that if the host does not have a static IP address and cannot receive it automatically, for example, from a DHCP server, then it itself assigns an address from the range 169.254.0.1-169.254.255.254.  After that, he will be able to communicate with other hosts on this network that have the same addresses. <br>  The address is chosen randomly due to the random number generator so that it does not match the already existing address (checked by ARP request). <br>  An example of an application would be some kind of Ad-Hoc network, where stations have a task to communicate with each other. <br><br>  But the key feature of such a network is that relationships are possible only between stations located in this segment, hence the Link-local phrase in the definition.  Packets cannot be forwarded on the router.  Moreover, even if the gateway‚Äôs address is specified by the hosts, according to the standard, it should not send packets to it under any circumstances. <br>  This explains the fact that ping, as in the picture does not work.  All according to <a href="http://tools.ietf.org/html/rfc3927">RFC</a> . <br></div></div><br><br><h6>  B13.  Do you know how many addresses <i>disappear</i> except for the well-known private and 127/8 addresses? </h6><br><br><div class="spoiler">  <b class="spoiler_title">Answer</b> <div class="spoiler_text">  <b>O13</b> : In fact, we lose: <br>  One class A network: 127.0.0.0/8 <br>  Single Class B Network: 169.254.0.0/16 <br>  One network / 10: <a href="https://tools.ietf.org/html/rfc6598">100.64.0.0/10</a> <br>  One network / 15: 198.18.0.0/15 <br>  Five networks of class C: 192.0.0.0/24, 192.0.2.0/24, 192.88.99.0/24, 198.51.100.0/24, 203.0.113.0/24. <br>  And one network / 4: 240.0.0.0/4 <br><br>  Total 285410560 addresses. <br><br>  Here we are <a href="http://tools.ietf.org/html/rfc5735">wasteful</a> . <br></div></div><br><br><h2>  Why during the trace there can be such situations </h2><br><br><h6>  B14  On one of the hops for all three tracing results, the delay is higher than the next </h6><br>
<br>
<code>[eucariot]$ traceroute 8.8.8.8<br>
traceroute to 8.8.8.8 (8.8.8.8), 30 hops max, 40 byte packets<br>
...<br>
 6 vl545.mag02.lon01.atlas.cogentco.com (149.6.3.153) <b>11.464 ms 11.378 ms 11.347 ms</b><br>
 7 te0-7-0-5.ccr21.lon01.atlas.cogentco.com (154.54.74.109) <b>5.653 ms 4.725 ms 6.209 ms</b><br>
 8 te3-2.ccr01.lon18.atlas.cogentco.com (154.54.62.66) 4.951 ms te2-1.ccr01.lon18.atlas.cogentco.com (154.54.61.214) 5.050 ms te3-2.ccr01.lon18.atlas.cogentco.com (154.54.62.66) 5.086 ms<br>
</code><br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text"><b>14</b>:    , ,  ,   /. ,    . <br>
<b>UPD:</b>  <a href="http://habrahabr.ru/users/JDima/">JDima</a>     :<br>
<blockquote>: <br>
     time exceeded     ,    .<br>
<br>
: <br>
     Cat6500.  ¬´¬ª (,    ,  ,  ssh   ..)     MSFC. MSFC    PFC (  DFC   ),        .  ,         MSFC.<br>
  TTL 0     PFC,       ,  ,     (  time exceeded      (     MPLS,   )).     MSFC.        , ICMP     ,         ,       .<br>
</blockquote><br>
<br>
  ,    .   ,  3 , ,     ,  2.     ?<br>
   ,           .          .      ,    ,      .<br>
,   ,    ‚Äî  Round Trip Timer,        .<br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/ae8/bd6/1f4/ae8bd61f45edfde3148c1ee91d18f8e0.png"><br>
<br>
   TTL=3    R4  ,   .  R3 ‚Äî    26- ,        90 /.            .<br>
,  traceroute      TTL=4         . <br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/dc0/675/170/dc0675170bec8a3cb019ddf71f22bfda.png"><br>
<br>
</div></div><br>
<br>
<h6>15.       (     ).  ,      ?</h6><br>
 <br>
<img src="https://habrastorage.org/getpro/habr/post_images/67f/05c/214/67f05c214a17e41a157ddffa14e0b0ae.png"><br>
<br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text"><b>15</b>:  RFC        ,       AS.<br>
 ,  -   ,        ,     .   ,       TTL expired        ,       traceroute. <br>
,        .<br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/8ef/ed7/8fd/8efed78fd18d0115db34c6862499051c.png"><br>
<br>
         .<br>
</div></div><br>
<br>
<h6>16.      ?</h6><br>
 <br>
1. te2-4 PAO2 bl (69 22 1 3 209) 1 160 1 060 1 029 4.ar5.PAO2.gblx.net (69.22.153.209) 1.160 ms 1.060 ms 1.029 ms<br>
2. 192.205.34.245 (192.205.34.245) 3.984 ms 3.810 ms 3.786 ms<br>
3. tbr1 sffca ip att net (12 123 12 25) 74 848 ms 74 859 ms 74 936 ms tbr1.sffca.ip.att.net (12.123.12.25) 74.848 ms 74.859 ms 74.936 ms<br>
4. cr1.sffca.ip.att.net (12.122.19.1) 74.344 ms 74.612 ms 74.072 ms<br>
5. cr1.cgp ( ) cil.ip.att.net (12.122.4.122) 74.827 ms 75.061 ms 74.640 ms<br>
6. cr2.cgcil.ip.att.net (12.122.2.54) 75.279 ms 74.839 ms 75.238 ms<br>
7. cr1.n54ny.ip.att.net (12.122.1.1) 74.667 ms 74.501 ms 77.266 ms<br>
8. gbr7.n54ny.ip.att.net (12.122.4.133) 74.443 ms 74.357 ms 75.397 ms<br>
9. ar3.n54ny.ip.att.net (12.123.0.77) 74.648 ms 74.369 ms 74.415 ms<br>
10.12 126 0 29 (12 126 0 29) 76 104 76 283 76 174 12.126.0.29 (12.126.0.29) 76.104 ms 76.283 ms 76.174 ms<br>
11.route-server.cbbtier3.att.net (12.0.1.28) 74.360 ms 74.303 ms 74.272 ms<br>
 <br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text"><b>16</b>:     ,     MPLS-.<br>
  ,       MPLS,   IP-,     . <br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b83/127/513/b83127513c66cf27242e9d51b8a6dd74.png"><br>
<br>
   CE1    CE2.  PE1  PE2  LSP.<br>
  CE1    TTL=2.     P  MPLS-,  2000. TTL     1, P    ,     ,     TTL-expired   CE1.   ICMP-,     CE1, !    MPLS  2000     3000  ,     FE0/1.       .<br>
   E2,       2   IP. <br>
2           MPLS .<br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/004/c3e/62b/004c3e62bd062d5f0c439a4936b4e49f.png"><br>
<br>
    ,      2   ,          .<br>
  TTL=3,  PE2     2  ,     1 ‚Äî    .<br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/c55/967/a32/c55967a3294597fbd8552f7e55bf603e.png"><br>
<br>
          ‚Äî -   .<br>
<br>
<b>UPD:</b>      , ¬´¬ª  TTL exceed  2,     .<br>
<br>
</div></div><br>
<br>
<h6>17.     cisco   .   ?</h6><br>
<img src="https://habrastorage.org/getpro/habr/post_images/b51/ee8/28d/b51ee828d293e651dc33d96b32f5fa9b.png"><br>
<img src="https://habrastorage.org/getpro/habr/post_images/5a7/e09/678/5a7e09678e0b52b4949e6f4471fa0e12.png"><br>
<br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text"><b>17</b>:  ,    ICMP- ,   ICMP-,  .  ICMP- ,  ,       ARP.<br>
!          :<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f1f/203/833/f1f203833e43e05287f60a57d9d19768.png"><br>
<br>
 ,     ICMP-   . ARP   ,  ICMP .    ,   4 ICMP-  4 .<br>
<a href="http://blog.ipspace.net/2007/04/why-is-first-ping-lost.html">blog.ipspace.net/2007/04/why-is-first-ping-lost.html</a><br>
</div></div><br>
<br>
<h6>18. ,           : A, B, C.    10/8, 172.16/12, 192.168/16?</h6><br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text"><b>18</b>:  , ,         ‚Äî       ,    .       .      IANA.<br>
<i>Dear YYY,<br>
<br>
Thanks for contacting us.<br>
<br>
We do not have the answer to your question and suggest you contact the authors of ¬´Address Allocation for Private Internets¬ª (RFC 1597), the document first setting these ranges aside. You can find details about the document here: <a href="http://www.rfc-editor.org/info/rfc1597">www.rfc-editor.org/info/rfc1597</a><br>
<br>
Kind regards,<br>
</i><br>
</div></div><br>
   1597   )     .<br>
      :<br>
<blockquote><i>Dear YYY,<br>
<br>
Thank you for your inquiry.<br>
<br>
For more information about the private use space, see <a href="http://www.rfc-editor.org/rfc/rfc1918.txt">www.rfc-editor.org/rfc/rfc1918.txt</a>.<br>
<br>
As to why those specific blocks were chosen, we believe 10/8 was chosen because sri-nic.arpa (10.0.0.51) was embedded in pretty much every unix and multics system as the hardcoded source of hosts.txt and various other files. For the others, the decision was made that since a class A was allocated, there should be blocks of class Bs and Cs too. It could just be that those blocks were available. <br>
<br>
Hope that helps.<br>
<br>
Best regards,<br>
<br>
Michelle Cotton<br>
Manager, IANA Services<br>
ICANN<br>
</i><br>
<br>
 -  .    .<br>
</blockquote><br>
 <br>
 <br>
 <br>
 <br>
    , , ,  .     ,   ,      .<br>
<br>
    ?     ?<br>
   ‚Äî   .   ,       ? 192.168.1.110/24      ,   192.168.1.0/24.           . <br>
  ‚Äî     .    ,  ,    .  .<br>
    ,           ,     ?<br>
<br>
   ,      ,  , ,  . <br>
<br>
 :<br>
     ?        .<br>
<br>
<b>UPD</b>         :<br>
<blockquote>  ,     4  ¬´Interworking with TCP/IP¬ª   .        ,      .   ,        UNIX'   , ..      (192.168.1.255/24),    ‚Äî ,      ¬´¬ª .<br>
  .       ,  , ,     .     ,       ? (     192.168.1/24,    192.168.1.110/24)<br>
</blockquote><br>
.</div><p>Source: <a href="https://habr.com/ru/post/189268/">https://habr.com/ru/post/189268/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../189254/index.html">SMS module for Elastix (part 2)</a></li>
<li><a href="../189256/index.html">+1 billion downloads from the Windows Phone Store in six months</a></li>
<li><a href="../189258/index.html">How I studied on my own wishes</a></li>
<li><a href="../189262/index.html">How to record an electric guitar in Cubase 5</a></li>
<li><a href="../189266/index.html">Dissent - an anonymous communication protocol for small closed communities</a></li>
<li><a href="../189276/index.html">Google, IBM, Mellanox, NVIDIA and Tyan form the data center solution development team</a></li>
<li><a href="../189280/index.html">Battle for conversion</a></li>
<li><a href="../189282/index.html">Runetology (205): Igor Magazin, co-founder of Viber</a></li>
<li><a href="../189286/index.html">JQuery Russia Conference: First Topics and Speakers</a></li>
<li><a href="../189288/index.html">UNIGINE Open Air 2013. Photo report</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>