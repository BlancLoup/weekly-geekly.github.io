<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Minimize apps to dock for lazy using AppleScript</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="How often do you use the options of some programs (iTerm 2, Total Finder, Adium), which allow you to show the application window by pressing the globa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Minimize apps to dock for lazy using AppleScript</h1><div class="post__text post__text-html js-mediator-article">  How often do you use the options of some programs (iTerm 2, Total Finder, Adium), which allow you to show the application window by pressing the global hotkey and hide this application when you lose focus?  Personally, I - constantly.  And what if a certain program does not have such functionality and constantly looms before your eyes?  The same Skype, for example.  Under the cut option to bring your workspace in order. <br><a name="habracut"></a><br><br><h2>  Open and hide the application by hotkey </h2><br>  Let's start with the simplest.  Task: by clicking on the global hotkey from any program, transfer the focus to Skype and hide it with the same action.  There is <a href="http://superuser.com/a/309144">a whole fleet of</a> programs that allow you to do this very simply.  However, we are not looking for simple ways and are not ready to install additional programs for these purposes.  In this case, Automator comes to the rescue with the ability to create a service and hang up a hotkey to call it from any application. <br><br>  Launch Automator, select the document type <b>Service</b> .  In the list the <b>service gets we</b> select <i>no input data</i> in the adjacent list is left <i>in any program</i> .  Add the action <b>Launch AppleScript</b> to our service and insert the following code: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="ruby hljs">set appName to <span class="hljs-string"><span class="hljs-string">"Skype"</span></span> set startIt to <span class="hljs-literal"><span class="hljs-literal">false</span></span> tell application <span class="hljs-string"><span class="hljs-string">"System Events"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> (exists process appName) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> set startIt to <span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> frontmost of process appName <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> set visible of process appName to <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> set frontmost of process appName to <span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> tell <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> startIt <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> tell application appName to activate <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">What it looks like</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/e4b/da9/98a/e4bda998a66956be75ee9d10b8f627c7.png"><br></div></div><br>  This code is honestly borrowed <a href="http://brettterpstra.com/2011/01/22/quick-tip-applescript-application-toggle/">from here</a> . <br>  Everything is simple here: the script checks whether the application is running, if not, then launches it, otherwise it minimizes it (if the application window is in focus), or gives it focus (if another application is currently active). <br><br>  We save our service, go to <b>System Preferences&gt; Keyboard&gt; Shortcut</b> in the list on the left, select <b>Services</b> , in the list on the right we find the service we just created and assign a hotkey to it.  The goal is achieved, but without one, <i>but</i> there will not be. <br><br>  The problem is that the service call does not bind to the global hotkey.  Services are called from each application "locally".  For example, being in Safari at the moment, in the program menu we find the <b>Services</b> submenu (i.e. <i>Safari&gt; Services</i> ), where our service will be available for us to run.  Accordingly, we can manually launch it from any application, and the hotkey we assign has a lower priority than the settings of a particular application.  From here we have two choices: either assign a keyboard shortcut to call our service, which is not used anywhere else in the system, in any program, or resort to using <a href="http://superuser.com/a/309144">those</a> third-party programs that will give the opportunity to hang a global hotkey to call the service.  Personally, I went through the third way and used the possibilities of Alfred, which allows not to resort to the above described actions and gives the opportunity to show and hide the application by clicking on a given global hotkey. <br><br><h2>  What is there with autochipping? </h2><br>  So, we learned how to show and hide the application by clicking on the global hotkey, but pressing the button before switching to another application is stressful.  Solve this problem. <br><br>  Open <b>AppleScript Editor</b> and paste the following code: <br><br><pre> <code class="ruby hljs">property appName : <span class="hljs-string"><span class="hljs-string">"Skype"</span></span> on idle tell application <span class="hljs-string"><span class="hljs-string">"System Events"</span></span> set focusedApp to (name of the first process whose frontmost is <span class="hljs-literal"><span class="hljs-literal">true</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (focusedApp is <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> appName) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> (exists process appName) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> (visible of process appName) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> set visible of process appName to <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> tell <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> idle</code> </pre><br>  Click <b>File&gt; Save</b> , select <i>the file format</i> - <b>Program</b> , put a check mark next to <b>Leave open after starting the handler</b> , save the program.  After that, the <b>Package Contents</b> button is available in the editor, clicking on it will crawl to the right of the window in which we are looking for a button with a gear, in the menu that appears, select <b>Show in Finder</b> : <br><br><div class="spoiler">  <b class="spoiler_title">What it looks like</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/598/101/6d1/5981016d18afca6ce4024b4726758418.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b65/b0c/18c/b65b0c18ca7958fa545b1f820e4c6a49.png"><br></div></div><br>  In the opened folder there will be an <b>Info.plist</b> file, open it in a text editor, after the fourth line insert: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>LSBackgroundOnly<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br><div class="spoiler">  <b class="spoiler_title">This is what should happen.</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plist</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.0"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>LSBackgroundOnly<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>CFBundleAllowMixedLocalizations<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">true</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>CFBundleDevelopmentRegion<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>English<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>CFBundleExecutable<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>applet<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>CFBundleIconFile<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>applet<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>CFBundleIdentifier<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>com.apple.ScriptEditor.id.HideSkype<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>CFBundleInfoDictionaryVersion<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>6.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>CFBundleName<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>HideSkype<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>CFBundlePackageType<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>APPL<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>CFBundleShortVersionString<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>1.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>CFBundleSignature<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>aplt<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>LSMinimumSystemVersionByArchitecture<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>x86_64<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>10.6<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>LSRequiresCarbon<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">true</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>WindowState<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>dividerCollapsed<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">false</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>eventLogLevel<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">integer</span></span></span><span class="hljs-tag">&gt;</span></span>2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">integer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>name<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>ScriptWindowState<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>positionOfDivider<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">real</span></span></span><span class="hljs-tag">&gt;</span></span>333<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">real</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>savedFrame<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>55 281 602 597 0 0 1440 878 <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>selectedTabView<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>event log<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plist</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br>  Save the file. <br><br>  That's all, run our application, add to autoload and enjoy the result.  From now on, Skype eyes do not callous. <br>  If you are interested in the implementation features, then read on. <br><br><h2>  Debriefing </h2><br>  AppleScript turned out to be a discovery for me, so just a couple of days ago I didn‚Äôt know about the existence of this ‚Äúmiracle‚Äù (it looks like a language for housewives).  But it provides enough opportunities to automate processes in your work environment.  For the above described actions, installation of developer tools was not needed, and given the result, we can talk about the presence of a powerful tool that is always at hand. <br><br>  I will try to decompose the solution to the problem of the application auto-hide. <br><br>  First, let's learn how to determine whether a particular application is in focus or not: <br><br><pre> <code class="ruby hljs">set appName to <span class="hljs-string"><span class="hljs-string">"Skype"</span></span> --,    tell application <span class="hljs-string"><span class="hljs-string">"System Events"</span></span> --    application,      System Events set focusedApp to (name of the first process whose frontmost is <span class="hljs-literal"><span class="hljs-literal">true</span></span>) --  focusedApp  ,       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> focusedApp is appName <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> --  ,     appName    <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> tell</code> </pre><br>  It is very unusual to read such a code, but it‚Äôs nice to have a self-documented code. <br><br>  If the application‚Äôs focus is lost, then hide it: <br><br><pre> <code class="ruby hljs">set appName to <span class="hljs-string"><span class="hljs-string">"Skype"</span></span> tell application <span class="hljs-string"><span class="hljs-string">"System Events"</span></span> set focusedApp to (name of the first process whose frontmost is <span class="hljs-literal"><span class="hljs-literal">true</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (focusedApp is <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> appName) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> (exists process appName) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> (visible of process appName) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> set visible of process appName to <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> tell</code> </pre><br>  That's the solution to the problem.  It remains to wrap it in an infinite loop. <br><br><pre> <code class="ruby hljs">set appName to <span class="hljs-string"><span class="hljs-string">"Skype"</span></span> repeat <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> tell application <span class="hljs-string"><span class="hljs-string">"System Events"</span></span> set focusedApp to (name of the first process whose frontmost is <span class="hljs-literal"><span class="hljs-literal">true</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (focusedApp is <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> appName) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> (exists process appName) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> (visible of process appName) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> set visible of process appName to <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> tell delay <span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span> --        <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> repeat</code> </pre><br><br>  And this is a working decision.  However, if we leave it in this form, the script simply hangs, although it will work correctly.  The solution is to put the cycle into a separate thread.  But alas, there are no threads in AppleScript.  Go to the documentation and discover the <b>idle</b> handler.  Handlers in AppleScript are called, in fact, familiar to us procedures.  The idle handler‚Äôs peculiarity is that it is called by the system every 30 seconds, if it does not return any value, if it returns, say, 5, it will be called every 5 seconds. <br><br><pre> <code class="ruby hljs">on idle set appName to <span class="hljs-string"><span class="hljs-string">"Skype"</span></span> tell application <span class="hljs-string"><span class="hljs-string">"System Events"</span></span> set focusedApp to (name of the first process whose frontmost is <span class="hljs-literal"><span class="hljs-literal">true</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (focusedApp is <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> appName) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> (exists process appName) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> (visible of process appName) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> set visible of process appName to <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> tell <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> idle</code> </pre><br><br>  You can also stop using idle and work with <b>run</b> and <b>quit</b> handlers: <br><br><pre> <code class="ruby hljs">property <span class="hljs-symbol"><span class="hljs-symbol">appName:</span></span> <span class="hljs-string"><span class="hljs-string">"Skype"</span></span> property <span class="hljs-symbol"><span class="hljs-symbol">running:</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> on run repeat <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> running tell application <span class="hljs-string"><span class="hljs-string">"System Events"</span></span> set focusedApp to (name of the first process whose frontmost is <span class="hljs-literal"><span class="hljs-literal">true</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (focusedApp is <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> appName) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> (exists process appName) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> (visible of process appName) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> set visible of process appName to <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> tell delay <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> repeat <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> run on quit set running to <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> quit</code> </pre><br><br><h2>  I want one handler for several programs </h2><br>  No problem: <br><br><pre> <code class="ruby hljs">property <span class="hljs-symbol"><span class="hljs-symbol">appsToHide:</span></span> {<span class="hljs-string"><span class="hljs-string">"Skype"</span></span>, <span class="hljs-string"><span class="hljs-string">"Adium"</span></span>, <span class="hljs-string"><span class="hljs-string">"Sublime Text 2"</span></span>} on idle tell application <span class="hljs-string"><span class="hljs-string">"System Events"</span></span> set focusedApp to name of the first process whose frontmost is <span class="hljs-literal"><span class="hljs-literal">true</span></span> repeat with appToHide <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> appsToHide <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (focusedApp is <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> appToHide) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> (exists process appToHide) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> (visible of process appToHide) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> set visible of process appToHide to <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> repeat <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> tell <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> idle</code> </pre><br><br>  The following point is worth noting: <code>focusedApp is not in appToHide</code> .  It checks whether the value of <code>focusedApp</code> in <code>appToHide</code> , although it would be correct to simply compare strings (operators <code>=, is equal, equals, [is] equal to, is not <br> isn't, isn't equal [to], is not equal [to], doesn't equal, does not equal</code> <code>=, is equal, equals, [is] equal to, is not <br> isn't, isn't equal [to], is not equal [to], doesn't equal, does not equal</code>  <code>=, is equal, equals, [is] equal to, is not <br> isn't, isn't equal [to], is not equal [to], doesn't equal, does not equal</code> .  But in this example, the strings (data type <code>text</code> ) did not want to be compared correctly. <br><br>  On this I finish my story.  Many details about AppleScript can be found <a href="https://developer.apple.com/library/mac/documentation/AppleScript/Conceptual/AppleScriptLangGuide/introduction/ASLR_intro.html">in the official documentation</a> .  If anyone doubts the relevance of this tool, then look at the <a href="https://developer.apple.com/library/mac/releasenotes/AppleScript/RN-AppleScript/Introduction/Introduction.html">release notes</a> - the language expands with each release of OS X. Also, search engines are full of ready-made howto to solve problems using AppleScript. <br><br>  Thanks for attention. </div><p>Source: <a href="https://habr.com/ru/post/202864/">https://habr.com/ru/post/202864/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../202852/index.html">JS color eyedropper, 399 characters (not strings)</a></li>
<li><a href="../202854/index.html">Overview of expansion boards of the communication platform Aastra A400 (A470)</a></li>
<li><a href="../202856/index.html">Managerial tools: 16 concepts for each day</a></li>
<li><a href="../202858/index.html">Create a galaxy in 30 lines.</a></li>
<li><a href="../202860/index.html">Another Tetris on JS (~ 30 "conditional" lines)</a></li>
<li><a href="../202866/index.html">Meet Dependency Injection with the Dagger example</a></li>
<li><a href="../202868/index.html">Testing: a clear career choice</a></li>
<li><a href="../202870/index.html">Automate subtitle uploading from * .mkv files</a></li>
<li><a href="../202874/index.html">Tiny Tron on JS (30 lines of code)</a></li>
<li><a href="../202876/index.html">Upgrading Nexus 4 to Android 4.4 on Linux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>