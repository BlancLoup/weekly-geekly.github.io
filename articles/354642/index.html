<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Conclusion of the Telegram channel on your website</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We will hammer one more nail in a cover of a coffin of Roskomnadzor. 

 You cannot directly access the messages of your channel to display them on a w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Conclusion of the Telegram channel on your website</h1><div class="post__text post__text-html js-mediator-article">  We will hammer one more nail in a cover of a coffin of Roskomnadzor. <br><br>  You cannot directly access the messages of your channel to display them on a web page.  But you can write a bot, which will send incoming messages to where you need to process them and display them on the site.  And you can use ready. <br><br>  It is strange that this wonderful bot - <a href="http://journali.st/">Journalist</a> (@JournalistBot) has not yet been mentioned on Habr√©.  The site indicated that beta, but works more than stable. <br><a name="habracut"></a><br>  After a simple installation of the bot and setting up a new journalist channel in it, you get the widget code from it, which you need to put on your website in some kind of div or something like this, which will output the adaptive vertical tape of your messages: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"center"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://t.me/channelname"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_blank"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"journalist-broadcast-353945930"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">async</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">defer</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://journali.st/broadcasts/353945930-widget-10.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Where <i>353945930</i> is your channel id in JournalistBot.  The number <i>10</i> in ‚Äúwidget-10‚Äù is the number of last displayed messages.  It can be changed. <br><br>  New messages for your channel are added to JournalistBot either directly or by redirecting to it from other channels.  Sometimes (the only bug noticed) message, in which there is both a picture and text, does not reach completely - either a picture or a text.  Otherwise, everything is quite on the level.  Channels can be done several. <br><br>  The main charms of the widget: <br><br><ul><li>  the code is deployed directly, without iframes. </li><li>  appearance (in itself is nice and stylish) is easily reconfigured by its css </li><li>  online automatic uploading of new messages from the channel as they arrive (appear at the top) </li></ul><br>  You can make a small hack - proxy channel data (https://journali.st/broadcasts/353945930-widget-10.js) through your website.  Then there will be an opportunity to edit them a little. <br><br>  For example, I have implemented such a proxy caching for 5 minutes, which reduces the size of all pictures with a separate /misc/image.php script. <br><br><div class="spoiler">  <b class="spoiler_title">Code journalist proxy</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $file = <span class="hljs-string"><span class="hljs-string">"journalist.cache.js"</span></span>; $LastModified_unix = filemtime($file); $LastModified = gmdate(<span class="hljs-string"><span class="hljs-string">"D, d MYH:i:s \G\M\T"</span></span>, $LastModified_unix); $IfModifiedSince = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_ENV[<span class="hljs-string"><span class="hljs-string">'HTTP_IF_MODIFIED_SINCE'</span></span>])) $IfModifiedSince = strtotime(substr($_ENV[<span class="hljs-string"><span class="hljs-string">'HTTP_IF_MODIFIED_SINCE'</span></span>], <span class="hljs-number"><span class="hljs-number">5</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_SERVER[<span class="hljs-string"><span class="hljs-string">'HTTP_IF_MODIFIED_SINCE'</span></span>])) $IfModifiedSince = strtotime(substr($_SERVER[<span class="hljs-string"><span class="hljs-string">'HTTP_IF_MODIFIED_SINCE'</span></span>], <span class="hljs-number"><span class="hljs-number">5</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($IfModifiedSince &amp;&amp; $IfModifiedSince &gt;= $LastModified_unix) { header($_SERVER[<span class="hljs-string"><span class="hljs-string">'SERVER_PROTOCOL'</span></span>] . <span class="hljs-string"><span class="hljs-string">' 304 Not Modified'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>; } header(<span class="hljs-string"><span class="hljs-string">'Last-Modified: '</span></span>. $LastModified); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!file_exists($file) || (time() - filemtime($file)) &gt; <span class="hljs-number"><span class="hljs-number">1200</span></span>) { $data = file_get_contents(<span class="hljs-string"><span class="hljs-string">"https://journali.st/broadcasts/353945930-widget-10.js"</span></span>); $data = str_replace(<span class="hljs-string"><span class="hljs-string">"https://images-onepick-opensocial.googleusercontent.com/gadgets/proxy?container=onepick&amp;url="</span></span>, <span class="hljs-string"><span class="hljs-string">"/misc/image.php?size=310&amp;url="</span></span>, $data); file_put_contents($file, $data); } readfile($file); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre> <br></div></div><br>  In the above script src you need to change the link to our proxy.  New messages come to the client, of course, directly, bypassing the proxy. <br><br>  Another recommended file tweaking: scrollbar (standard or jQuery plugin) for blocks with limited height, hook to lightbox images (or on the server side by adding a class-a, or client-side javascript), folding the block with click messages (so as not to interfere). <br><br>  For lightbox, one should take into account the dynamic flow of new pictures (messages).  For this case, you can run image processing in the channel block every 10 seconds, for example, or hang an event handler on the journalist code. <br><br>  In general, Journalist is a very pleasant and stable application that allows you to quickly and conveniently add information to your site from a computer or phone ‚Äî broadcast, for example.  As a separate telegram channel, the channel in journalist does not work, therefore, if necessary, it is necessary to duplicate messages. <br><br>  Free, no ads. </div><p>Source: <a href="https://habr.com/ru/post/354642/">https://habr.com/ru/post/354642/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../354630/index.html">Saving JS and CSS resources in the browser's local storage</a></li>
<li><a href="../354632/index.html">Installing and configuring OpenVPN server using docker-compose</a></li>
<li><a href="../354636/index.html">Visualization in CAD: why we wrote another 3D engine and how it works</a></li>
<li><a href="../354638/index.html">FIDO2 - Passwords must die</a></li>
<li><a href="../354640/index.html">The history of moving the system administrator in Germany. Part Two: Moving and First Steps</a></li>
<li><a href="../354646/index.html">On the topic of the day: a cross-platform client for Telegram on .NET Core and Avalonia</a></li>
<li><a href="../354648/index.html">Software creation of a type library</a></li>
<li><a href="../354650/index.html">Snake layout and "quantum" particles in Android applications (Part 2)</a></li>
<li><a href="../354652/index.html">Developing mobile games is no longer a Padawan, not yet a master</a></li>
<li><a href="../354654/index.html">Positive Hack Days CTF 2018 task seekers: mnogorock, sincity, wowsuchchain, event0</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>