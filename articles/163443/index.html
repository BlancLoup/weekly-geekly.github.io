<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Introduction to the development of WinRT applications in HTML / JavaScript. From template to data application</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="With this article we are opening a series of materials on the basics of developing WinRT applications on HTML / JS for Windows 8. We will consistently...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Introduction to the development of WinRT applications in HTML / JavaScript. From template to data application</h1><div class="post__text post__text-html js-mediator-article">  <i>With this article we are opening a series of materials on the basics of developing WinRT applications on HTML / JS for Windows 8. We will consistently go from the starting almost empty template to the full-fledged application with the server part and live tiles.</i> <br><br>  The first part is devoted to creating a simple version of an application that reads external data through RSS feeds based on a standard template.  The result should be a working prototype of the application that can display news from several RSS feeds and display them on three types of pages: hub (first page), group and details. <br><br><h2>  Creating an application from a template </h2><br>  Open Visual Studio 2012, select create a new project ( <b>File</b> -&gt; <b>New</b> -&gt; <b>Project ...</b> ).  Next, in the templates, select the project in <b>JavaScript</b> -&gt; <b>Windows Store</b> .  Indicate that you will use the <b>Grid App</b> template. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <a href="http://img-fotki.yandex.ru/get/4120/25193168.15/0_5fe97_ef26a5d3_orig"><img src="https://habrastorage.org/getpro/habr/post_images/de2/22a/a80/de222aa80da9246a9fd4098a8b419007.png"></a> <br><a name="habracut"></a><br>  Enter any project name, for example, <b>Reader App</b> . <br><br>  Study the project structure: <br><ol><li>  <b>package.appxmanifest</b> - application manifest that describes key settings, used features, application name, tiles, and other parameters; </li><li>  <b>default.html</b> - the formal start page of the application; </li><li>  <b>pages \ groupedItems</b> - folder with html-, js- and css-files for the page of the content groups (loaded into the start page); </li><li>  <b>pages \ groupDetail</b> - folder with html-, js- and css-files for the page of displaying a newsgroup (entries in the rss-stream) corresponding to one stream; </li><li>  <b>pages \ itemDetail</b> - a folder with html-, js- and css-files for the page for displaying each news item separately; </li><li>  <b>js \ data.js</b> - a js-file describing work with data (contains in-box demonstration data); </li><li>  <b>js \ default.js</b> - describes the events required to initialize the application; </li><li>  <b>js \ navigator.js</b> - describes the logic of transitions between pages and the necessary events and objects for this; </li><li>  <b>images \ logo.png</b> - image used for square tile; </li><li>  <b>images \ smalllogo.png</b> - image used when listing an application in the operating system, for example, when searching or selecting applications for search or sharing; </li><li>  <b>images \ splashscreen.png</b> - boot image shown when opening an application; </li><li>  <b>images \ storelogo.png</b> - image used in the application store interface (Windows Store). </li></ol><br><br>  Also, by default, the WinJS library is included in the project, which contains style sets for dark and light themes and auxiliary functions and objects in JavaScript. <br><br>  Try running the application by pressing <b>F5</b> , the green arrow or choosing <b>Debug</b> -&gt; <b>Start Debugging</b> . <br><br> <a href="http://img-fotki.yandex.ru/get/5642/25193168.15/0_5fe98_1697aabb_orig"><img src="https://habrastorage.org/getpro/habr/post_images/332/a06/bff/332a06bff6bb205fe7426e94395c87ea.png"></a> <br><br>  Examine the operation of the application: <br><ul><li>  Try clicking on a single gray tile or group title. </li><li>  Try clicking on the back button in the internal pages. </li><li>  Try to transfer the application to Snapped-mode. </li></ul><br><br>  Return to Visual Studio and stop debugging ( <b>Shift + F5</b> , red square, or select <b>Debug</b> -&gt; <b>Stop Debugging</b> from the menu). <br><br><h2>  Replacing data sources </h2><br>  Open the <b>js \ data.js file</b> .  It announces several important functions and objects that we will also use. <br><br>  First of all it is necessary to get rid of the lines of the code generating examples of data.  To do this, <i>delete the</i> following lines: <br><br><ol><li>  Insert data into the list: <br><br><pre><code class="hljs haskell">// <span class="hljs-type"><span class="hljs-type">You</span></span> can add <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> from asynchronous sources whenever it becomes available. generateSampleData().forEach(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">function</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">item</span></span></span><span class="hljs-class">) { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">list</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">push</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">item</span></span></span><span class="hljs-class">); });</span></span></code> </pre> <br><br></li><li>  Generating sample data: <br><pre> <code class="javascript hljs"> <span class="hljs-comment"><span class="hljs-comment">// Returns an array of sample data that can be added to the application's // data list. function generateSampleData() { var itemContent = "&lt;p&gt;Curabitur class ‚Ä¶ "; var itemDescription = "Item Description: Pellente‚Ä¶"; var groupDescription = "Group Description: Lorem ‚Ä¶"; ‚Ä¶ return sampleItems; }</span></span></code> </pre> </li></ol><br><br>  If you start the application, it will continue to work, only there will be no data in it.  Stop debugging and return to the <b>data.js</b> file.  Let's briefly go through its structure so that further actions are clear: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> list = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WinJS.Binding.List();</code> </pre> <br><br>  A list is created that will be used to link the data to the display.  In it, we will enter those blocks of information that we want to display. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> groupedItems = list.createGrouped( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">groupKeySelector</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> item.group.key; }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">groupDataSelector</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> item.group; } );</code> </pre> <br>  Based on the list, a grouped collection is created, and when it is created using special functions, it is indicated how to divide the elements of the collection into separate groups. <br><br><pre> <code class="javascript hljs">WinJS.Namespace.define(<span class="hljs-string"><span class="hljs-string">"Data"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">items</span></span>: groupedItems, <span class="hljs-attr"><span class="hljs-attr">groups</span></span>: groupedItems.groups, <span class="hljs-attr"><span class="hljs-attr">getItemReference</span></span>: getItemReference, <span class="hljs-attr"><span class="hljs-attr">getItemsFromGroup</span></span>: getItemsFromGroup, <span class="hljs-attr"><span class="hljs-attr">resolveGroupReference</span></span>: resolveGroupReference, <span class="hljs-attr"><span class="hljs-attr">resolveItemReference</span></span>: resolveItemReference });</code> </pre> <br><br>  Through the <b>define</b> function in the WinJS library (Namespace), a global Data object is written, which will be accessible from other parts of the program for working with our data.  Inside the object, there are references to the grouped collection, the list of groups inside it, and a number of functions described in the data.js file used to work with the collection and retrieve data. <br><br>  The remaining 4 functions ( <b>getItemReference</b> , <b>getItemsFromGroup</b> , <b>resolveGroupReference,</b> and <b>resolveItemReference</b> ) are used to compare objects, retrieve subsets of items belonging to one group, define groups by key and item by a set of unique identifiers. <br><br>  Now is the time to start adding our own data.  We will use external RSS feeds as sources. <br><br><blockquote>  <b>Important</b> : in this article, in order to simplify the code, we will use only RSS feeds for data retrieval, however, adding support for Atom feeds should not be difficult, since they have a similar structure and the key difference will be in addressing the desired data fields. </blockquote><br><br>  Go back to the beginning of the file and after the line ‚Äúuse strict‚Äù <i>describe the blogs</i> from which you will display information: <br><br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> blogs = [ { <span class="hljs-attr"><span class="hljs-attr">key</span></span>: <span class="hljs-string"><span class="hljs-string">"ABlogging"</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">"http://blogs.windows.com/windows/b/bloggingwindows/rss.aspx"</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'Blogging Windows'</span></span>, <span class="hljs-attr"><span class="hljs-attr">rsstitle</span></span>: <span class="hljs-string"><span class="hljs-string">'tbd'</span></span>, <span class="hljs-attr"><span class="hljs-attr">updated</span></span>: <span class="hljs-string"><span class="hljs-string">'tbd'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataPromise</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">key</span></span>: <span class="hljs-string"><span class="hljs-string">"BExperience"</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">'http://blogs.windows.com/windows/b/windowsexperience/rss.aspx'</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'Windows Experience'</span></span>, <span class="hljs-attr"><span class="hljs-attr">rsstitle</span></span>: <span class="hljs-string"><span class="hljs-string">'tbd'</span></span>, <span class="hljs-attr"><span class="hljs-attr">updated</span></span>: <span class="hljs-string"><span class="hljs-string">'tbd'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataPromise</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">key</span></span>: <span class="hljs-string"><span class="hljs-string">"CExtreme"</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">'http://blogs.windows.com/windows/b/extremewindows/rss.aspx'</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'Extreme Windows'</span></span>, <span class="hljs-attr"><span class="hljs-attr">rsstitle</span></span>: <span class="hljs-string"><span class="hljs-string">'tbd'</span></span>, <span class="hljs-attr"><span class="hljs-attr">updated</span></span>: <span class="hljs-string"><span class="hljs-string">'tbd'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataPromise</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }];</code> </pre><br><br>  For the description of each blog (content group), we specify: <br><ul><li>  key - <b>key</b> (since the sorting of groups will be by key, we also added Latin letters at the beginning of the group for an explicit sorting task - in a real project this can be done in a more elegant way), </li><li>  link to the RSS feed - <b>url</b> , </li><li>  stream <b>title</b> - <b>title</b> , </li><li>  several stubs: <br><ul><li>  The real name of the blog is <b>rsstitle</b> , </li><li>  update date ( <b>updated</b> ) </li><li>  pointer to <b>dataPromise</b> - ‚Äúpromise‚Äù to load this stream and process it. </li></ul><br></li></ul><br><br>  To turn links into data on a computer, information on them must be downloaded.  To do this, after the line <b>var list = new WinJS.Binding.List ();</b>  <i>Add a</i> new function <b>getBlogPosts</b> , which will just be engaged in the download: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getBlogPosts</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">postsList</span></span></span><span class="hljs-function">) </span></span>{ blogs.forEach(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">feed</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  Promise feed.dataPromise = WinJS.xhr( { url: feed.url } ).then( function (response) { if (response) { var syndicationXML = response.responseXML || (new DOMParser()).parseFromString(response.responseText, "text/xml"); processRSSFeed(syndicationXML, feed, postsList); } } ); }); return postsList; }</span></span></code> </pre><br><br>  In this function, we loop through all the blogs, create a asynchronous Promise wrapper around an XMLHttpRequest request for each link through the <b>WinJS.xhr</b> function, and after receiving the result (then), we transfer the resulting response to the <b>processRSSFeed</b> function, which we describe below. <br><br><blockquote>  <b>Note</b> : for the blogs we use there is no need for additional verification that we received a response in the form of XML (the presence of responseXML), however, in general, this is incorrect: some blogs due to incorrect settings of the server / engine give the RSS feed as text content, which needs to be further processed if we want to work with it as with an XML file. </blockquote><br><br>  To process the stream, <i>add</i> another function to the <b>bottom</b> ‚Äî <b>processRSSFeed</b> : <br><br><pre> <code class="javascript hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">processRSSFeed</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">articleSyndication, feed, postsList</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   feed.rsstitle = articleSyndication.querySelector("rss &gt; channel &gt; title").textContent; //         var published = articleSyndication.querySelector("rss &gt; channel &gt; item &gt; pubDate").textContent; //      var date = new Date(published); var dateFmt = new Windows.Globalization.DateTimeFormatting.DateTimeFormatter( "day month.abbreviated year.full"); var blogDate = dateFmt.format(date); feed.updated = ": " + blogDate; //   getItemsFromRSSFeed(articleSyndication, feed, postsList); }</span></span></code> </pre><br><br>  In this function, we use the fact that we have an XML file with a known structure (RSS 2.0), which can be navigated using the DOM model, in particular, the <b>querySelector</b> function, which can be used to pull out the necessary data from the received document. <br><br>  We convert the resulting text value of the latest update date into the required format using the globalization functions available through the WinRT API. <br><br>  At the end, we pass the document for further processing to the <b>getItemsFromRSSFeed</b> function, which selects individual posts and puts them into the <b>posts</b> collection. <br><br>  <i>Add the</i> following function below: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getItemsFromRSSFeed</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">articleSyndication, feed, postsList</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> posts = articleSyndication.querySelectorAll(<span class="hljs-string"><span class="hljs-string">"item"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//       var length = posts.length; for (var postIndex = 0; postIndex &lt; length; postIndex++) { var post = posts[postIndex]; //   var postPublished = post.querySelector("pubDate").textContent; var postDate = new Date(postPublished); var monthFmt = new Windows.Globalization.DateTimeFormatting.DateTimeFormatter("month.abbreviated"); var dayFmt = new Windows.Globalization.DateTimeFormatting.DateTimeFormatter("day"); var yearFmt = new Windows.Globalization.DateTimeFormatting.DateTimeFormatter("year.full"); var timeFmt = new Windows.Globalization.DateTimeFormatting.DateTimeFormatter("shorttime"); var postContent = toStaticHTML(post.querySelector("description").textContent); var postItem = { index: postIndex, group: feed, //   title: post.querySelector("title").textContent, //     postDate: postDate, month: monthFmt.format(postDate).toUpperCase(), day: dayFmt.format(postDate), year: yearFmt.format(postDate), time: timeFmt.format(postDate), //   content: postContent, //    link: post.querySelector("link").textContent }; postsList.push(postItem); } }</span></span></code> </pre><br><br>  In this function, we loop through all posts in the received stream, select the required fields from the XML description (title, publication date, content, etc.), and then collect the necessary information into one object ( <b>postItem</b> ), which we add to list of posts. <br><br>  Pay attention to the formatting of dates and the binding of each post to the corresponding group.  Also note that for increased security, we retrieve the received post content to a static form using the <b>toStaticHTML</b> function. <br><br><blockquote>  <b>Note</b> : in general, working with RSS feeds from uncontrolled sources needs to be carefully monitored (and investigated) the data obtained.  In practice, part of the data on the required fields may be absent, so before extracting text content (textContent), you must make sure that the previous operation returned a non-null value.  In some cases, the full content of the post may be hidden behind elements of encoded or full-text or be completely absent.  There are also cases when the server gives the date in the wrong format, with the result that the standard parser throws an exception. </blockquote><br><br>  <i>Add the</i> following line below to start reading blogs: <br><br><pre> <code class="javascript hljs">list = getBlogPosts(list);</code> </pre> <br><br>  Run the application for debugging: <br> <a href="http://img-fotki.yandex.ru/get/5643/25193168.15/0_5fe99_80cc47db_orig"><img src="http://img-fotki.yandex.ru/get/5643/25193168.15/0_5fe99_80cc47db_L.jpg"></a> <br><br>  As you can see, it already uses our new data, however, there are several ‚Äúproblem‚Äù areas that need to be corrected: <br><br><ul><li>  no pictures </li><li>  Strange "undefined" is displayed in separate lines, </li><li>  the main page displays the entire list from the stream at once, but I want to limit it to several entries. </li></ul><br><br>  We will deal with these tasks in the following articles. <br><br><h3>  Continuation </h3><br><ul><li>  <a href="http://habrahabr.ru/company/microsoft/blog/163813/">Styling applications</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/163443/">https://habr.com/ru/post/163443/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../163431/index.html">Printer Wars: Epson vs. Epson, or the difference of mentalities</a></li>
<li><a href="../163433/index.html">Earth through the eyes of an asteroid</a></li>
<li><a href="../163435/index.html">Writing a clone game Super Mario Brothers (part 2)</a></li>
<li><a href="../163437/index.html">Unity Web API, or how to integrate your site in Ubuntu</a></li>
<li><a href="../163439/index.html">Working with Perl encodings</a></li>
<li><a href="../163445/index.html">Jetbrains gives 75% discount on all products. 4 more hours!</a></li>
<li><a href="../163451/index.html">What to do if a RAID controller fails?</a></li>
<li><a href="../163465/index.html">Mobile application rewards users for not using the phone while watching a film</a></li>
<li><a href="../163467/index.html">How prone are you to stupid, and a bit holywar</a></li>
<li><a href="../163477/index.html">A tool for planning and control of scrap materials</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>