<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Security Week 28: NetSpectre, attack on third-party channels through a network</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Again! Just two weeks ago, we talked about Specter‚Äôs new attack options using the speculative recording method. The most important news of last week i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Security Week 28: NetSpectre, attack on third-party channels through a network</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/iw/e9/np/iwe9np98lk-1jmulfkzb-narqc8.png" align="right">  Again!  Just two weeks ago, we <a href="https://habr.com/company/kaspersky/blog/417331/">talked</a> about Specter‚Äôs new attack options using the speculative recording method.  The most important news of last week is once again devoted to the Specter family, and now everything is much better.  Researchers from the Technical University of Graz in Austria have found a way to extract data from a third-party channel remotely, hence the name of the attack. <br><br>  I would like to say that the NetSpectre attack does not require the execution of any code on the system being attacked (unlike, for example, the browser-based attack on JavaScript), but this is not quite so.  In the context of NetSpectre, the ‚Äúcode‚Äù is routine work with other computers on a network that the attacker does not directly control, but can influence it.  The ability to remotely detect the microscopic difference between the different modes of operation of the processor is impressive.  As in the case of other Specter studies, the work is (so far) theoretical, and the new attack has an incredibly slow data extraction rate: units of bits per minute.  A review of the new attack (in human language) has been published <a href="https://threatpost.ru/netspectre-attack-does-not-require-code-execution/27456/">here</a> , although it is still better to read the <a href="https://misc0110.net/web/files/netspectre.pdf">original research</a> . <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/u2/ht/am/u2htamkpopozzb4drqgrlhung8u.png"><br>  Prior to the publication of the NetSpectre study, a typical example of a remote attack on a speculative code execution engine was usually JavaScript code that was executed in the browser.  This method, according to the authors of the new work, provided the possibility of a fairly accurate measurement of the delays between the request and the receipt of data.  As it happens in principle in Specter attacks (there are already a lot of them), the difference in response time allows you to reconstruct data that the program you are running does not have access to. <br><br>  NetSpectre does not require an attacker to directly execute code on the target system.  Instead, the usual data exchange over the network is used, for example, downloading files from the attacked server and sending single network packets.  The researchers created an artificial design from a vulnerable server (in one example, this was a computer with an Intel Core i5-6200U processor), in the network software of which two gadgets were present.  Gadgets mean a certain mechanism that implements certain properties we need, the software part of the vulnerability.  The "leak gadget" created the conditions for the speculative inquiry of secret data in a more or less standard for Specter-like attacks by: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="https://habrastorage.org/webt/bo/7a/vc/bo7avcqqjd1pfxej-vsch1ykjlq.png"></div><br>  The term for the second gadget is a bit confusing.  Naturally, the ‚Äútransfer gadget‚Äù is not a vulnerability that directly transfers secrets from the RAM or CPU cache to an attacker, as happens in the simpler <a href="http://heartbleed.com/">Heartbleed</a> attack (four years have passed, wow!).  The ‚Äútransfer gadget‚Äù creates conditions when an attacker can analyze the delay in data transfer from which you can reconstruct the necessary information. <br><br>  Researchers have proposed two third-party data leakage channels for the NetSpectre attack.  The first almost completely repeats the mechanism of the original Specter and uses the processor cache.  The second one does not use the cache at all: instead, the block of calculations of instructions from the <a href="https://en.wikipedia.org/wiki/Advanced_Vector_Extensions">AVX2</a> set is <a href="https://en.wikipedia.org/wiki/Advanced_Vector_Extensions">activated</a> .  Since these blocks are characterized by high energy consumption, they are switched off in the absence of a load.  Upon receipt of instructions from the set, their inclusion occurs with a slight delay, which can also be measured remotely.  This method turns out to be several times faster than ‚Äútraditional‚Äù cache manipulations: the data was reconstructed through the cache under the conditions of a gigabit local network at 4 bits per minute, and using AVX2 in a minute it was possible to transfer 8 bytes. <br><br>  Why so slow?  You can understand, for example, on this picture from the study: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yw/ja/2_/ywja2_uhmzkk4hie3_knrdbwuzi.png"></div><br>  The original Specter attack, which runs directly on the attacked system, requires measuring the delays in the processor‚Äôs response to instructions of the order of milliseconds.  It is also rather slow - data theft is possible at speeds in units of kilobits per second.  Anything can affect the delay in the transmission of network packets, so NetSpectre ‚Äúmeasures‚Äù ‚Äîthat is, in essence, conducts a successful attack ‚Äî many times in a row in order to obtain the required bit or byte from the averaged values ‚Äã‚Äãwith high confidence. <br><br>  So, reasonable accuracy of attack is achieved with <i>hundreds of thousands and millions of measurements</i> .  In <i>each</i> of them you need to carry out a complex operation, which includes, for example, resetting the cache memory by loading a 590 kilobyte file.  By the way, when processing data, machine learning algorithms were not used: they, obviously, will help reduce the number of measurements necessary for accurate data reconstruction.  When the attacker and the victim are not in the same local network, such algorithms will be needed, otherwise one byte will be ‚Äútransmitted‚Äù in 160 million measurements (!) Within 8 hours (3 hours using the AVX2 method). <br><br>  The researchers successfully carried out the attack using computers and laptops on Intel processors, devices on processors with the ARM Cortex A75 core, as well as on the Google Cloud Platform (between two virtual machines).  I repeat once again, the attack is completely theoretical.  To implement it in real conditions, you need to find the appropriate "gadgets" in a particular software version (for example, the Linux kernel) installed on a specific server.  It is necessary to provide conditions for interaction with the server, which are not always feasible.  In particular, the researchers directly indicate that any means to protect against DDoS attacks will ban an attacker almost instantly - due to the number of requests and the amount of data transferred.  Even the processor model inside the line does matter: for the cache used in the Core i5, with three megabytes of cache, it will work for some other (with a different cache size). <br><br>  But still impressive!  This is more awesome than some kind of ‚Äúlaser‚Äù microphones that take vibrations from windows in a room.  NetSpectre does not bring additional risks: Intel commented on the work in the vein that Specter‚Äôs already known mitigation methods work for network incarnations.  I will proceed from the speed of developing new methods of attack - and suppose that the most interesting ways to <i>steal data through an open window is</i> still ahead.  No matter how much they cost us all, in the context of a forced drop in productivity and the need for capital expenditures on the part of vendors. <br><br>  <i>Disclaimer: The opinions expressed in this digest may not always coincide with the official position of Kaspersky Lab.</i>  <i>Dear editors generally recommend to treat any opinions with healthy skepticism.</i> </div><p>Source: <a href="https://habr.com/ru/post/418669/">https://habr.com/ru/post/418669/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../418659/index.html">Discover Quantum Programming with Quantum Katas</a></li>
<li><a href="../418661/index.html">Development of mixed reality: did you put the speaker in the virtual living room?</a></li>
<li><a href="../418663/index.html">How sound is created for another reality</a></li>
<li><a href="../418665/index.html">Adaptation of the project MR under HoloLens</a></li>
<li><a href="../418667/index.html">Benchmarking HDFS 3 with HDFS 2</a></li>
<li><a href="../418673/index.html">Why the ERP market is growing: statistics and trends</a></li>
<li><a href="../418675/index.html">How I went to Droidcon Berlin</a></li>
<li><a href="../418677/index.html">The whole truth about the RTOS. Article # 6. Other RTOS services</a></li>
<li><a href="../418679/index.html">Writing a component with ‚Äúmaterial‚Äù buttons for Svelte</a></li>
<li><a href="../418681/index.html">On Friendship Day - 50% discount on all IDE JetBrains for our friends</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>