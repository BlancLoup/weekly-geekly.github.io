<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Unity3d We play with the mesh. Part 2 - Deformation of the mesh with a height map</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the first part, we looked at how to generate a mesh using a height map. Enough time has passed, so I think it's time to consider ways to deform the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Unity3d We play with the mesh. Part 2 - Deformation of the mesh with a height map</h1><div class="post__text post__text-html js-mediator-article"><p>  In the <a href="https://habrahabr.ru/post/328498/">first part,</a> we looked at how to generate a mesh using a height map.  Enough time has passed, so I think it's time to consider ways to deform the mesh using the same height map.  I ask all interested under cat. </p><br><p><img src="https://habrastorage.org/web/43a/f62/1d2/43af621d2b2b4e42966149a43e79bc88.jpg"></p><a name="habracut"></a><br><h1>  Content </h1><br><ol><li>  <a href="https://habrahabr.ru/post/328498/">Unity3d</a>  <a href="https://habrahabr.ru/post/328498/">We play with the mesh.</a>  <a href="https://habrahabr.ru/post/328498/">Part 1 - Generating a mesh using an elevation map</a> </li><li>  <a href="https://habrahabr.ru/post/328564/">Unity3d</a>  <a href="https://habrahabr.ru/post/328564/">We play with the mesh.</a>  <a href="https://habrahabr.ru/post/328564/">Part 2 - Deformation of the mesh with a height map</a> </li><li>  <a href="https://habrahabr.ru/post/329146/">Unity3d</a>  <a href="https://habrahabr.ru/post/329146/">We play with the mesh.</a>  <a href="https://habrahabr.ru/post/329146/">Part 3 - Collision Based Mesh Warp</a> </li></ol><br><p>  Here we will need a deeper understanding of the mesh, so ... </p><br><h1>  Consider the mesh in more detail. </h1><br><p>  From the previous article, we learned what attributes the mesh owns and what they are for, but superficially.  Now let's clarify in more detail what they are for and what they are responsible for. </p><br><p>  In order not to run back and forth, here‚Äôs a list of what the mesh owns: </p><br><ul><li>  vertices - vertices </li><li>  triangles - triangles </li><li>  normals - normals </li><li>  uv - texture coordinates </li><li>  tangents - tangents </li></ul><br><p>  Tangents are not a necessary part, so we will not touch them.  For the deformation on the height map, we will need UV coordinates and normals.  Well, to deal with all of this, let's try to understand the simplest figure. </p><br><p><img src="https://habrastorage.org/web/698/2b9/40d/6982b940d5c2497e8fafcf25cd874bef.png"></p><br><p> What do you think, what is this figure?  Plane?  This is not true.  Plane has many more triangles, vertices, uv coordinates, etc.  To verify this, you can create a Plane and turn on a display of the <code>Wireframe</code> type.  So what is it?  You can say it's a testing ground. </p><br><p>  He has: </p><br><ul><li>  4 vertices {0, 1, 2, 3} </li><li>  4 edges </li><li>  4 normals {Vector3 (0, 1, 0) x 4} (although there may be others) </li><li>  4 UVs {Vector2 (0, 0), Vector2 (1, 0), Vector2 (0, 1), Vector2 (1, 1)} (order depends on triangles) </li><li>  2 triangles {(0, 2, 3), (3, 1, 0)} (you specify the order) </li><li>  1 face </li><li>  1 surface (usually and a good surface.Length = face.Length) </li></ul><br><p>  We will translate into Unity the amount of this total </p><br><ul><li>  mesh.triangles.Length = 6 </li><li>  mesh.vertices.Length = 4 </li><li>  mesh.normals.Length = 4 </li><li>  mesh.uv.Length = 4 </li></ul><br><p>  And now we will try to create it in Unity by means of a code.  Create 4 spheres and place them in the parent with the name "vertices".  Let's write the <code>TestPoly</code> script, which we will hang on the "vertices" object or wherever. </p><br><div class="spoiler">  <b class="spoiler_title">TestPoly.cs</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">TestPoly</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-comment"><span class="hljs-comment">//   public GameObject v0; public GameObject v1; public GameObject v2; public GameObject v3; public Material mat; // ,      GameObject poly; Mesh mesh; void Start() { poly = new GameObject("poly"); mesh = new Mesh(); Vector3[] vertices = new Vector3[] { //    v0.transform.position, v1.transform.position, v2.transform.position, v3.transform.position, }; Vector3[] normals = new Vector3[] { //  ,       ? new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 1, 0), }; Vector2[] UVs = new Vector2[] { // UV new Vector2(0, 0), new Vector2(1, 0), new Vector2(0, 1), new Vector2(1, 1), //  X  Y,   U  V,    }; int[] triangles = new int[] { 0, 2, 3, //   3, 1, 0, //   }; mesh.vertices = vertices; mesh.normals = normals; mesh.uv = UVs; mesh.triangles = triangles; poly.AddComponent&lt;MeshRenderer&gt;().material = mat; //    ;    poly.AddComponent&lt;MeshFilter&gt;().sharedMesh = mesh; //    ;    } }</span></span></code> </pre> </div></div><br><p>  Great, we see our mesh. </p><br><p><img src="https://habrastorage.org/web/def/253/ce7/def253ce726b46c3bc17bb7c28c8957d.PNG"></p><br><p>  Let's add to <code>Update</code> ability to change it by vertices to make it a little more interesting. </p><br><div class="spoiler">  <b class="spoiler_title">Update to TestPoly.cs</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//     Raycast' //      Vector3[] vertices = new Vector3[] { //      v0.transform.position, v1.transform.position, v2.transform.position, v3.transform.position, }; mesh.vertices = vertices; //      }</span></span></code> </pre> </div></div><br><p>  The mesh is deformed as planned.  And the display remains unchanged. </p><br><p><img src="https://habrastorage.org/web/b3b/096/05e/b3b09605e18b4197abcfc2287aaff6cd.PNG"></p><br><p>  If you decide to rotate the mesh and notice a lag, then you are doing it wrong.  To avoid a break in a coup, you need to rotate the vertices.  That is the object "verticies".  After all, the script sets vertices on these points. </p><br><p>  <strong>Any mesh consists roughly of such polygons.</strong>  From personal experience, I know that the best understanding comes from personal interaction, so try changing the array of UVs, triangles and normals and watch the result.  If you are ready, let's move on. </p><br><h1>  Small interactive </h1><br><p>  Surely you are already tired, so why not digress?  How about a little game?  :) </p><br><p>  <b>How many do you think vertices have a cube?</b> </p><br><p>  Just think before you open the spoilers :) </p><br><div class="spoiler">  <b class="spoiler_title">eight</b> <div class="spoiler_text"><p>  Almost true!  You have selected the number of edge vertices.  4 below and 4 above. </p><br><p><img src="https://habrastorage.org/web/55b/3e2/2e6/55b3e22e604441dab7f6b4d52e5dd6b7.png"></p></div></div><br><div class="spoiler">  <b class="spoiler_title">sixteen</b> <div class="spoiler_text"><p>  No, unfortunately, it is not.  Try creating a cube in Unity and look at it from all sides. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">24</b> <div class="spoiler_text"><p>  Yes that's right.  The cube has 24 vertices. <br>  In total, the cube has 8 edge vertices and each of the vertices has 3 normals, each of which is perpendicular to the surface (surface) and vertex (top), respectively. <br> <code>8 * 3 = 24</code> </p> <br><p><img src="https://habrastorage.org/web/690/037/830/69003783049c4a96b85e8afebb859b5d.png"><br>  <em>Yellow displays normal vectors for one of the vertices.</em> </p></div></div><br><div class="spoiler">  <b class="spoiler_title">32</b> <div class="spoiler_text"><p>  No, you made a mistake in the calculations.  The logic is correct, but think again.  Creating a cube in Unity can help you. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">48</b> <div class="spoiler_text"><p>  No, this is clearly a bust ... </p></div></div><br><h1>  Theory of Deformation with a Height Map </h1><br><p>  In theory, I would like to deform the mesh by traversing each pixel of the height map, taking a grayscale and changing the height of the vertex of the mesh relative to the resulting grayscale value multiplied by some constant. </p><br><p>  But in practice ... As we can remember, the height map contains a maximum of 65025 pixels, which we can convert to vertices, the minimum is 1. What if the deformable mesh contains not the same number of vertices?  This is where the UV coordinates will help us. </p><br><p>  We will need to go through all the vertices.  And move each along its normal to the grayscale value obtained from the height map, which we will obtain by texture coordinates and multiply by a constant. </p><br><p>  If nothing is clear, reread it thoughtfully.  If again, nothing is clear, let's write the code.  Logic sometimes helps. </p><br><h1>  We write expansion </h1><br><p>  By tradition, create a class that inherits from <code>ParentEditor</code> .  It can be found in the <a href="https://habrahabr.ru/post/328498/">previous article</a> .  Fill the class with variables and make the base <code>OnGUI</code> . </p><br><div class="spoiler">  <b class="spoiler_title">MeshDeformator</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEditor; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MeshDeformator</span></span> : <span class="hljs-title"><span class="hljs-title">ParentEditor</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject sourceGameObject; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> mname = <span class="hljs-string"><span class="hljs-string">"Enter name: "</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Texture2D heightMap; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> height = <span class="hljs-number"><span class="hljs-number">35f</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   [MenuItem("Tools/Mesh Deformator")] static void Init() { MeshDeformator md = (MeshDeformator)GetWindow(typeof(MeshDeformator)); md.Show(); } void OnGUI() { sourceGameObject = (GameObject)EditorGUILayout.ObjectField("Game Object to deform", sourceGameObject, typeof(GameObject), true); mname = EditorGUILayout.TextField("Mesh name", mname); heightMap = (Texture2D)EditorGUILayout.ObjectField("Height Map", heightMap, typeof(Texture2D), false); height = EditorGUILayout.Slider("Height scale", height, -100, 100); } }</span></span></code> </pre> </div></div><br><p>  Add the <code>DeformMesh</code> method to the class <code>DeformMesh</code> </p><br><div class="spoiler">  <b class="spoiler_title">DeformMesh</b> <div class="spoiler_text"><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DeformMesh</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Mesh temp_mesh = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Mesh(); <span class="hljs-comment"><span class="hljs-comment">//      ParentEditor temp_mesh = CopyMesh(sourceGameObject.GetComponent&lt;MeshFilter&gt;().sharedMesh); GameObject temp_go = new GameObject(sourceGameObject.name + ".clone"); temp_go.transform.position = sourceGameObject.transform.position; //      UV  Vector3[] vertices = temp_mesh.vertices; Vector2[] UVs = temp_mesh.uv; for (int i = 0; i &lt; vertices.Length; i++) { //       float pixelHeight = heightMap.GetPixel((int)(UVs[i].x * (heightMap.width - 1) + 0.5), (int)(UVs[i].y * (heightMap.height - 1) + 0.5)).grayscale; //      vertices[i] += (temp_mesh.normals[i] * pixelHeight) * height; } temp_mesh.vertices = vertices; //   temp_mesh.RecalculateNormals(); //   temp_mesh.RecalculateBounds(); //  bounds temp_go.AddComponent&lt;MeshFilter&gt;().sharedMesh = temp_mesh; temp_go.AddComponent&lt;MeshRenderer&gt;().material = sourceGameObject.GetComponent&lt;MeshRenderer&gt;().sharedMaterial; sourceGameObject = temp_go; }</span></span></code> </pre> </div></div><br><p>  You could see that we used two methods: <code>RecalculateNormals()</code> and <code>RecalculateBounds()</code> .  We have already used the first one, but <code>RecalculateBounds()</code> is not yet available.  What does he do?  Roughly speaking, it does recalculation of mesh.bounds (mesh boundaries).  That is, it updates the data about our frame. </p><br><p>  Let's combine everything into one script and add the ability to save our mesh and the resulting object to the prefab. </p><br><div class="spoiler">  <b class="spoiler_title">MeshDeformator.cs</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEditor; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MeshDeformator</span></span> : <span class="hljs-title"><span class="hljs-title">ParentEditor</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject sourceGameObject; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> mname = <span class="hljs-string"><span class="hljs-string">"Enter mesh name: "</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Texture2D heightMap; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> height = <span class="hljs-number"><span class="hljs-number">35f</span></span>; [MenuItem(<span class="hljs-string"><span class="hljs-string">"Tools/Mesh Deformator"</span></span>)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Init</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { MeshDeformator md = (MeshDeformator)GetWindow(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(MeshDeformator)); md.Show(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnGUI</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { sourceGameObject = (GameObject)EditorGUILayout.ObjectField(<span class="hljs-string"><span class="hljs-string">"Game Object to deform"</span></span>, sourceGameObject, <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(GameObject), <span class="hljs-literal"><span class="hljs-literal">true</span></span>); mname = EditorGUILayout.TextField(<span class="hljs-string"><span class="hljs-string">"Mesh name"</span></span>, mname); heightMap = (Texture2D)EditorGUILayout.ObjectField(<span class="hljs-string"><span class="hljs-string">"Height Map"</span></span>, heightMap, <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(Texture2D), <span class="hljs-literal"><span class="hljs-literal">false</span></span>); height = EditorGUILayout.Slider(<span class="hljs-string"><span class="hljs-string">"Height scale"</span></span>, height, <span class="hljs-number"><span class="hljs-number">-100</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (GUILayout.Button(<span class="hljs-string"><span class="hljs-string">"Deform Mesh"</span></span>, GUILayout.Height(<span class="hljs-number"><span class="hljs-number">20</span></span>))) { DeformMesh(); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (GUILayout.Button(<span class="hljs-string"><span class="hljs-string">"Save"</span></span>, GUILayout.Height(<span class="hljs-number"><span class="hljs-number">20</span></span>))) { CreatePaths(); <span class="hljs-comment"><span class="hljs-comment">//  ParentEditor Mesh updated_mesh = sourceGameObject.GetComponent&lt;MeshFilter&gt;().sharedMesh; AssetDatabase.CreateAsset(updated_mesh, "Assets/MeshTools/Meshes/Updated/" + mname + ".asset"); PrefabUtility.CreatePrefab("Assets/MeshTools/Prefabs/Updated/" + mname + ".prefab", sourceGameObject); //      Assets/MeshTools/Updated/Meshes/mname // Assets/MeshTools/Updated/Prefabs/mname  } } public void DeformMesh() { Mesh temp_mesh = new Mesh(); temp_mesh = CopyMesh(sourceGameObject.GetComponent&lt;MeshFilter&gt;().sharedMesh); GameObject temp_go = new GameObject(mname + ".clone"); temp_go.transform.position = sourceGameObject.transform.position; Vector3[] vertices = temp_mesh.vertices; Vector2[] UVs = temp_mesh.uv; for (int i = 0; i &lt; vertices.Length; i++) { float pixelHeight = heightMap.GetPixel((int)(UVs[i].x * (heightMap.width - 1) + 0.5), (int)(UVs[i].y * (heightMap.height - 1) + 0.5)).grayscale; vertices[i] += (temp_mesh.normals[i] * pixelHeight) * height; } temp_mesh.vertices = vertices; temp_mesh.RecalculateNormals(); temp_mesh.RecalculateBounds(); temp_go.AddComponent&lt;MeshFilter&gt;().sharedMesh = temp_mesh; temp_go.AddComponent&lt;MeshRenderer&gt;().material = sourceGameObject.GetComponent&lt;MeshRenderer&gt;().sharedMaterial; sourceGameObject = temp_go; } }</span></span></code> </pre> </div></div><br><h1>  We are testing </h1><br><p>  I took a high-poly sphere, the number of vertices: 1324. And I deformed it with different height scale factors. </p><br><p>  In the image below you can see: </p><br><ul><li>  Standard Sphere with Scale = (10, 10, 10) </li><li>  Undeformed sphere </li><li>  Lightly deformed sphere (Height scale = 1.5) </li><li>  Very deformed sphere (Height scale = 10) </li></ul><br><p><img src="https://habrastorage.org/web/bcf/900/f17/bcf900f1762248008f573e2b2e13aa60.PNG"></p><br><h1>  What's next? </h1><br><p>  What awaits us with you further in the course of the articles "Unity3D. We dabble with the mesh."? </p><br><ul><li>  If the articles are met well, then we will learn how to deform the mesh based on collisions.  And then if everything goes according to plan, then, perhaps, we will write our <code>ZBrash</code> extension of the type <code>ZBrash</code> . </li><li>  If not, this will be the last article. </li></ul><br><h1>  Attention, a mistake </h1><br><p>  After reading the article, I found an error related to the object positioning and vector algebra.  This does not affect the main focus of the article, but nevertheless ... </p><br><p>  If within a week someone guesses about the error, the article will be updated and the first one who guessed it will be mentioned in it.  If someone corrects the error within a week, the article will be updated to mention this user already. </p><br><h1>  Error found </h1><br><p>  The article is corrected and the plus to karma and reputation for finding and correcting an error is received by the user <a href="https://habrahabr.ru/users/mrshoor/" class="user_link">MrShoor</a> .  My congratulations, and most importantly respect for efficiency! </p><br><h1>  What I would like to add </h1><br><p>  What I would like to add, so that there is still some omission regarding the normals.  I mis-configured the normals for my polygon.  I indicated <code>Vector3.up</code> , and it would be correct if my polygon lay (looked at the sky).  But my polygon stands and looks into the camera, and therefore the normal (0, 0, -1), that is, directed in the opposite direction from the camera or <code>Vector3.back</code> . </p><br><p>  For ease of understanding, the image below shows the correct normal displayed in green, the incorrect one in red, and the tangents to the normal in blue. </p><br><p><img src="https://habrastorage.org/web/308/d7d/2d7/308d7d2d7a614531867a899cb996d64e.png"></p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/328564/">https://habr.com/ru/post/328564/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../328554/index.html">Dark LinkedIn Patterns or Why You are Spammed by Friends, Encouraging You to Join LinkedIn</a></li>
<li><a href="../328556/index.html">Problems of Modern Data Science</a></li>
<li><a href="../328558/index.html">The best way to upload files to Ruby is with Shrine. Part 1</a></li>
<li><a href="../328560/index.html">Corporate telephone directory with a map</a></li>
<li><a href="../328562/index.html">How to design programs (HtDP)</a></li>
<li><a href="../328566/index.html">MIPS SIMD technology and Baikal-T1 processor</a></li>
<li><a href="../328568/index.html">The evolution of fractal monsters</a></li>
<li><a href="../328570/index.html">2017: Hitchhiker's Guide to the Galaxy Javascript</a></li>
<li><a href="../328572/index.html">The growth of autonomous data processing platforms or again about Big Data</a></li>
<li><a href="../328576/index.html">Print server on RaspberryPI 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>