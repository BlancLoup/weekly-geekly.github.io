<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A couple of words about Header Map in Xcode</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The C / Objective C / C ++ language family needs a preprocessor. The preprocessor passes the compiled source through itself, before giving the text to...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A couple of words about Header Map in Xcode</h1><div class="post__text post__text-html js-mediator-article"> The C / Objective C / C ++ language family needs a preprocessor.  The preprocessor passes the compiled source through itself, before giving the text to the input to the compiler.  Perhaps the most important part of the preprocessor‚Äôs work is to replace the <code>#include&lt;-&gt;</code> directives with the contents of the specified file.  Usually indicate the relative path (ex: <code>stdio.h</code> , <code>sys/stat.h</code> ).  A natural question arises - how does the preprocessor find the header files? <br><br>  The classic answer is this: the preprocessor sequentially enumerates the paths in INCLUDE_PATH from the first.  A relative path from the include directive is allowed relative to the (sic) folder from the INCLUDE_PATH.  If the file is not found, go to the next item INCLUDE_PATH.  If INCLUDE_PATH is exhausted, the compiler reports an error. <br><br>  But Apple, as always, makes its own adjustments.  When building in Xcode, so-called additionally are used.  <em>header map</em> .  This is the index of all header files in the project.  If XCode "knows" about foobar.h, then this file will be accessible simply by name ( <code>#include&lt;foobar.h&gt;</code> ), regardless of the actual placement on the file system. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This is a great solution - as long as it works as intended.  Unfortunately, the header map mechanism is poorly documented, which does not contribute to quick resolution of problems.  I will try to fill this gap. <br><br><a name="habracut"></a><br><h4>  Header map </h4><blockquote>  <b>definition</b> <br>  Header Map is an index file generated by Xcode.  The file is named for the current target and has the extension " <code>.hmap</code> ".  An index is a set of string pairs of key ‚Äî value.  The index is used to match the full path to the header file by the argument of the <code>include</code> directive.  Index search is case insensitive.  Search in the index has a higher priority than INCLUDE_PATH.  This is done to speed up the build. <br><br>  By default, the header map is active.  To disable, you need to create a variable <code>USE_HEADERMAP=NO</code> in the project configuration. </blockquote><br>  And what if the project uses several header files with the same name?  With the default settings, only one of these files gets into the index - which one is impossible to predict.  The same problem occurs when the file name in the project matches the system header file, case insensitive (ex: <code>Time.h</code> ). <br><br><habracut><br><h4>  View Header Map </h4><br>  To diagnose it is useful to look at the generated header map.  This is a binary file, with confused optimization of common substrings.  It's good that good people wrote a <a href="http://opensource.apple.com/source/distcc/distcc-2503/distcc_dist/include_server/headermap.py">program</a> for converting to text format. <br><br><pre> <code class="bash hljs">python headermap.py build/hmap.build/Debug/primary.build/primary.hmap</code> </pre> <br>  Here <code>primary</code> is the name of the target. <br><br><pre> <code class="bash hljs">bar.h /Users/nickz/hmap/bar.h foo.h /Users/nickz/hmap/foo.h primary/foo.h /Users/nickz/hmap/foo.h</code> </pre><br>  If with <code>foo.h</code> and <code>bar.h</code> everything is more or less clear, then <code>primary/foo.h</code> raises questions.  As it turned out, Xcode creates such entries for header files that are members of the current target.  (In order for Xcode to allow target files to be made into target files, you need to add the copy headers build phase to it.) <br><br>  PRODUCT_NAME is used as a prefix, and if you change it, the old map prefix will still appear in the header map (it appears on 3.2.5, possibly fixed in new versions).  It is treated by closing-opening the project. <br><br><habracut><br><h4>  Settings </h4><br><blockquote>  USE_HEADERMAP = [YES] / NO </blockquote>  On off. <br><br><blockquote>  HEADERMAP_INCLUDES_FLAT_ENTRIES_FOR_TARGET_BEING_BUILT = [YES] / NO </blockquote>  Include header files that are members of the active target in the header map.  <em>On 3.2.5 is ignored</em> . <br><br><blockquote>  HEADERMAP_INCLUDES_FRAMEWORK_ENTRIES_FOR_ALL_PRODUCT_TYPES = [YES] / NO </blockquote>  Include header files that are members of the active target in the header map.  Files get the prefix <code>$(PRODUCT_NAME)/</code> .  If the setting value is <code>YES</code> , such records are created for any type of purpose;  otherwise, only if the target type is Framework. <br><br><blockquote>  HEADERMAP_INCLUDES_PROJECT_HEADERS = [YES] / NO </blockquote>  Include in header maps all header files from project without target.  <em>On 3.2.5 is ignored</em> . <br><br>  <a href="http://developer.apple.com/library/mac/">Full list of settings</a> . </habracut></habracut></div><p>Source: <a href="https://habr.com/ru/post/144834/">https://habr.com/ru/post/144834/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../144828/index.html">Fedora 17 Beefy Miracle</a></li>
<li><a href="../144829/index.html">Digital Sound Museum</a></li>
<li><a href="../144830/index.html">Create syntax highlighting in Notepad ++</a></li>
<li><a href="../144831/index.html">Effect of Glow Gaussian Blur on Android</a></li>
<li><a href="../144832/index.html">Experiment Opera Mini. Episode 2: Insidious Invasion</a></li>
<li><a href="../144835/index.html">Overview of the HP Folio 13-2000 Ultrabook</a></li>
<li><a href="../144836/index.html">UI State Management for Windows Phone Development</a></li>
<li><a href="../144837/index.html">Herrmann Dominanz Instrument (HDI). Part I</a></li>
<li><a href="../144838/index.html">Miguel de Icaza about ASP.NET MVC, Moonlight and the trial of Android</a></li>
<li><a href="../144839/index.html">Runetology (149): publisher Woman.ru Inessa Gaevskaya</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>