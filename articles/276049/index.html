<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>5 common mistakes with working with Amazon Web Services</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We at Latera are creating billing for telecom operators . In a blog on Habr√©, we not only talk about the features of our system and the details of its...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>5 common mistakes with working with Amazon Web Services</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/company/latera/blog/276049/"><img src="https://habrastorage.org/files/1f8/685/591/1f8685591ae440cca06ab4a63852fd73.png"></a> <br><br>  We at Latera are creating <a href="http://www.hydra-billing.ru/">billing for telecom operators</a> .  In a blog on Habr√©, we not only talk about the features of our system and the details of its development (for example, <a href="http://habrahabr.ru/company/latera/blog/267083/">ensuring fault tolerance</a> ), but also publish materials about working with the infrastructure as a whole.  The developer and system architect Michael Wittig (Michael Wittig) wrote in the blog Cloudonout interesting <a href="https://cloudonaut.io/5-aws-mistakes-you-should-avoid/">material</a> about the most common mistakes when working with AWS (Amazon Web Services).  We present to your attention the main points of this note. <a name="habracut"></a><br><br>  Wittig works as an AWS consultant and has seen many software deployment options, regardless of size - for the most part, these are standard web applications.  The engineer has compiled a list of the 5 most common user mistakes that should be avoided. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  What does a typical web application look like? </h4><br>  A standard web application consists of: <br><br><ul><li>  load balancer; </li><li>  scalable server part (web backend); </li><li>  repositories. </li></ul><br>  On the diagram, it looks like this: <br><br><img src="https://habrastorage.org/files/05f/1b6/3b8/05f1b63b8cf645a5a5b0c2c1ccd5f190.png"><br><br>  This is a common scheme.  There are good reasons for using some other way of constructing an application. <br><br><h4>  Error 1. Managing infrastructure manually </h4><br>  If installations in AWS were made using clicks on the console, then the infrastructure is managed manually.  The main problem with this type of control is that these settings cannot be reproduced, they are not registered anywhere.  As a result, a lot of errors are likely.  Fortunately, there is <a href="https://aws.amazon.com/cloudformation/">AWS CloudFormation</a> , with which you can solve this problem for free. <br><br>  Instead of creating resources (EC2 instances, security groups, subnets), you can manually describe them in a template, create your own or use ready-made ones.  CloudFormation will take care of how to integrate them into the current stack.  The service will create resources in the correct order, as shown in the picture: <br><br><img src="https://habrastorage.org/files/d8b/606/8c0/d8b6068c0608412cbe155d2d21b8409a.png"><br><br>  The template can be updated.  See an example of a standard template for a web application <a href="">here</a> .  Wittig is convinced that managing the infrastructure manually is unprofessional ‚Äî too many problems can bring this way of working. <br><br><h4>  Error 2. Failure to use Auto Scaling Groups </h4><br>  Some naively believe that they can scale resources on their own, without resorting to the help of a special function.  Each EC2 instance must be running in the Auto Scaling Group.  Even if it is a separate instance.  Auto Scaling Group controls the launch of the required number of instances.  In essence, it behaves like a logical group of virtual machines.  The function can be used for free. <br><br>  In a standard web application, servers run on virtual machines inside the Auto Scaling Group.  It is possible to vary the amount of computing resources, based on the load, focusing on the increase or decrease in demand.  The administrator can set the conditions under which the automatic scaling will be launched.  This may be the threshold of the CPU performance of a logical group or the number of requests in load balancing. <br><br><h4>  Error 3. Disregard of Amazon Cloud Watch analytics </h4><br>  Interesting data on the work of AWS services can be obtained through <a href="https://aws.amazon.com/cloudwatch/">Cloud Watch</a> .  Virtual machines announce CPU, network, and disk usage.  Stores provide information on memory usage and number of I / O operations.  You just have to correctly use these statistics.  Let's look at the CPU work schedule for the day: <br><br><img src="https://habrastorage.org/files/537/fbd/289/537fbd289f854db798acd9ad70904871.png"><br><br>  See peak downloads?  Wittig is convinced that this jump occurred every day at the same time: <br><br><blockquote>  Looks like a trick of a task scheduler.  The way it is.  Note that a web server has been started from this machine.  This means that every day the waiting time increased due to the scheduler.  Run it on a separate virtual machine, and the problem will be solved.  Without Cloud Watch, finding it would be difficult. </blockquote><br>  As soon as the data is analyzed, you should put alert markers of limit values.  Not the other way around! <br><br><h4>  Error 4. Ignoring Trusted Advisor </h4><br>  The <a href="https://aws.amazon.com/ru/premiumsupport/trustedadvisor/)%3F">Trusted Advisor</a> tool checks the AWS environment for compliance with best practices for working with the service.  Checked parameters: <br><br><ul><li>  cost optimization; </li><li>  performance; </li><li>  security; </li><li>  resistance to failure. </li></ul><br>  If the Trusted Advisor Management Console looks like this: <br><br><img src="https://habrastorage.org/files/c6e/b9a/c91/c6eb9ac910fa4a66b4db171497b0ad20.png"><br><br>  We can safely begin to optimize the processes in the environment right now, says Wittig. <br><br><blockquote>  I would advise, first of all, to pay attention to safety.  You can try the weekly feedback feature, and Trusted Advisor will report all current and resolved issues.  You can activate the free version of the program.  Paid support will open additional options for verification. </blockquote><br><h4>  Error 5. Underestimating the capabilities of virtual machines </h4><br>  It makes no sense not to reduce the size of the instance (the number of machines or the category from c3.xlarge to c3.large) if it turns out that the existing EC2 instances are underutilized.  You can learn about this by checking with the data from Cloud Watch.  If the project uses Auto Scaling Groups, its administrators need to reconfigure the parameters of automatic scaling, scale resources in favor of increasing later, and in the direction of decreasing earlier. <br><br><blockquote><h5>  Other interesting articles on the Latera blog: </h5></blockquote><br><ul><li>  <a href="http://habrahabr.ru/company/latera/blog/267083/">How to improve resiliency of billing: The experience of "Hydra"</a> </li><li>  <a href="http://habrahabr.ru/company/latera/blog/273627/">Corporate GitHub: how Azure increased the number of employees on GitHub to two thousand</a> </li><li>  <a href="http://habrahabr.ru/company/latera/blog/273283/">Open source application architecture: How nginx works</a> </li><li>  <a href="http://habrahabr.ru/company/latera/blog/266447/">LinkedIn's brief history of scaling</a> </li><li>  <a href="http://habrahabr.ru/company/latera/blog/266111/">Large-scale migration of records in the database: how it does Stripe</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/276049/">https://habr.com/ru/post/276049/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../276035/index.html">BEM methodology: how it all began and why it is all needed</a></li>
<li><a href="../276037/index.html">Prime numbers: history and facts</a></li>
<li><a href="../276039/index.html">The largest hackathon in the history of software development with a prize fund of $ 140,000</a></li>
<li><a href="../276041/index.html">Updates in the service ViaLatM</a></li>
<li><a href="../276047/index.html">Backup: Google Case</a></li>
<li><a href="../276051/index.html">Measurement of ore weight by stator current. Practice. Part 2. Software implementation at MK</a></li>
<li><a href="../276053/index.html">Remote reflection in .NET runtime</a></li>
<li><a href="../276055/index.html">Speed ‚Äã‚Äãup a SELECT COUNT (*) query for large tables in PostgreSQL</a></li>
<li><a href="../276057/index.html">‚ÄúWhy is it possible for everyone, but I can't?‚Äù Or reverse the API and get data from eToken</a></li>
<li><a href="../276059/index.html">Uninstalling / restoring Metro applications in Windows 10</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>