<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>2D rendering in SDL</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For a long time I did not want to write this article - I thought how to submit the material. But, it can be seen today, stars have successfully formed...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>2D rendering in SDL</h1><div class="post__text post__text-html js-mediator-article"><img src="http://www.atlasgeo.net/FOTW/images/b/ba!91a.gif" alt="image" align="left">  For a long time I did not want to write this article - I thought how to submit the material.  But, it can be seen today, stars have successfully formed and there is an article about SDL.  Although this is just a draft.  In the future, this article will be broken down into several separate ones - there is enough material and code. <br><br>  For those who are not familiar with this old, but very good cross-platform graphics library, I would advise you to read <a href="http://gcc.habrahabr.ru/blog/83927/">this post</a> . <br>  You can download the library from the <a href="http://www.libsdl.org/">official site</a> , I think it will not be difficult.  I will not go into details, since the result will be simply immense, they can be found <a href="http://plg.lrn.ru/doc/sdl/index.html">here</a> . <br><br>  Today we will write a program from scratch that will fill the screen with three colors. <br><a name="habracut"></a><br>  So let's start: <br>  We will have 3 auxiliary classes and the main part of the program, which will ‚Äúlight‚Äù the pixels on the screen with any colors.  I repeat once again that only the very basics will be described here, which should be of interest to the reader. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      First of all, you need to declare a class that will directly load the library and operate with all its functions.  Such as (once) the screen lock, work with pixels and the surface on which we will ‚Äúdraw‚Äù.  The main part of the code located in this class is in the reference files of our library.  Although how it works and why the pixels are lit it would still be useful to know, it seems to me, but this is beyond the scope of the article. <br><br>  <b>SDL_Interface.cpp</b> <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">#include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } }</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <ol><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { /*  SDL */ <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ /*       */ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } /*        */ <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> #include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> </ol> <code><font color="gray"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">#include &lt;SDL.h&gt; #include <font color="#A31515">"Vector_2D.cpp"</font> #include <font color="#A31515">"Color.h"</font> <font color="#0000ff">class</font> SDL_Interface{ <font color="#0000ff">public</font> : SDL_Interface( <font color="#0000ff">int</font> , <font color="#0000ff">int</font> , <font color="#0000ff">int</font> ); ~SDL_Interface(); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">void</font> putpixel( <font color="#0000ff">const</font> Vector_2D&amp;, <font color="#0000ff">const</font> Color&amp;); <font color="#0000ff">int</font> <font color="#0000ff">const</font> h(); <font color="#008000">/*  */</font> <font color="#0000ff">int</font> <font color="#0000ff">const</font> w(); <font color="#008000">/* */</font> <font color="#0000ff">bool</font> <font color="#0000ff">const</font> key_wait( <font color="#0000ff">int</font> ); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_unlock(); <font color="#0000ff">int</font> <font color="#0000ff">const</font> screen_lock(); <font color="#0000ff">void</font> <font color="#0000ff">const</font> screen_update(Sint32, Sint32, Sint32, Sint32); <font color="#0000ff">protected</font> : SDL_Surface *screen; SDL_Event <font color="#0000ff">event</font> ; }; SDL_Interface::SDL_Interface( <font color="#0000ff">int</font> width, <font color="#0000ff">int</font> height, <font color="#0000ff">int</font> color_depth) { <font color="#008000">/*  SDL */</font> <font color="#0000ff">if</font> ( SDL_Init(SDL_INIT_VIDEO) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Couldn't initialize SDL: %s\n"</font> , SDL_GetError()); exit(1); } screen = SDL_SetVideoMode(width, height, color_depth, SDL_SWSURFACE); <font color="#0000ff">if</font> ( screen == NULL ) { fprintf(stderr, <font color="#A31515">"Couldn't set video mode: %s\n"</font> , SDL_GetError()); exit(1); } } SDL_Interface::~SDL_Interface(){ SDL_Quit(); } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::w(){ <font color="#0000ff">return</font> screen-&gt;w; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::h(){ <font color="#0000ff">return</font> screen-&gt;h; } <font color="#0000ff">int</font> <font color="#0000ff">const</font> SDL_Interface::screen_lock(){ <font color="#008000">/*       */</font> <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { <font color="#0000ff">if</font> ( SDL_LockSurface(screen) &lt; 0 ) { fprintf(stderr, <font color="#A31515">"Can't lock screen: %s\n"</font> , SDL_GetError()); <font color="#0000ff">return</font> 0; } } <font color="#0000ff">return</font> 0; } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_unlock(){ <font color="#0000ff">if</font> ( SDL_MUSTLOCK(screen) ) { SDL_UnlockSurface(screen); } } <font color="#0000ff">void</font> <font color="#0000ff">const</font> SDL_Interface::screen_update(Sint32 x, Sint32 y, Sint32 w, Sint32 h){ SDL_UpdateRect(screen, x, y, w, h); } <font color="#0000ff">bool</font> <font color="#0000ff">const</font> SDL_Interface::key_wait( <font color="#0000ff">int</font> key_id){ <font color="#0000ff">while</font> ( SDL_WaitEvent(&amp; <font color="#0000ff">event</font> ) &gt;= 0 ) { Uint8 *keys; keys = SDL_GetKeyState(NULL); <font color="#0000ff">if</font> ( keys[key_id] == SDL_PRESSED ) { <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; } <font color="#0000ff">if</font> ( <font color="#0000ff">event</font> .type == SDL_QUIT){ exit(0); } } <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; } <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">const</font> Vector_2D&amp; vector_2d, <font color="#0000ff">const</font> Color&amp; color) { putpixel(vector_2d.x_coord, vector_2d.y_coord, color); } <font color="#008000">/*        */</font> <font color="#0000ff">void</font> SDL_Interface::putpixel( <font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y, <font color="#0000ff">const</font> Color&amp; color) { Uint32 pixel = SDL_MapRGB(screen-&gt;format, color.R, color.G, color.B); SDL_Surface *surface = screen; <font color="#0000ff">int</font> bpp = surface-&gt;format-&gt;BytesPerPixel; Uint8 *p = (Uint8 *)surface-&gt;pixels + y * surface-&gt;pitch + x * bpp; <font color="#0000ff">switch</font> (bpp) { <font color="#0000ff">case</font> 1: *p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 2: *(Uint16 *)p = pixel; <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 3: <font color="#0000ff">if</font> (SDL_BYTEORDER == SDL_BIG_ENDIAN) { p[0] = (pixel &gt;&gt; 16) &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = pixel &amp; 0xff; } <font color="#0000ff">else</font> { p[0] = pixel &amp; 0xff; p[1] = (pixel &gt;&gt; 8) &amp; 0xff; p[2] = (pixel &gt;&gt; 16) &amp; 0xff; } <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> 4: *(Uint32 *)p = pixel; <font color="#0000ff">break</font> ; } }</font> * This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  The class for working with color will be trivial and very small, of course you can add arithmetic operations with colors to it, your own color palettes, but we will not do that. <br><br>  <b>Color.h</b> <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">class</font> Color { </li><li>  <font color="#0000ff">public</font> : </li><li>  Color (Uint8 red, Uint8 green, Uint8 blue): R (red), G (green), B (blue) {}; </li><li>  double R, G, B; </li><li>  }; </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><br>  And so, gradually, we get to the most interesting class, which will lead our points.  As we know, each pixel on the screen has two coordinates, that‚Äôs what we will pass to the class constructor.  We agree to call a specific point of the screen a vector, and we define arithmetic operations between vectors (it is worth noting that all these operations are performed along the coordinate axis).  This is done so that in the future geometric operations on vectors do not cause problems. <br><br>  <b>Vector_2D.cpp</b> <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">class</font> Vector_2D { </li><li>  <font color="#0000ff">public</font> : </li><li>  Vector_2D ( <font color="#0000ff">void</font> ): x_coord (0), y_coord (0) {}; </li><li>  Vector_2D ( <font color="#0000ff">int</font> X, <font color="#0000ff">int</font> Y); </li><li>  Vector_2D <font color="#0000ff">operator</font> - ( <font color="#0000ff">const</font> Vector_2D &amp;) <font color="#0000ff">const</font> ; </li><li>  Vector_2D <font color="#0000ff">operator</font> + ( <font color="#0000ff">const</font> Vector_2D &amp;) <font color="#0000ff">const</font> ; </li><li>  Vector_2D <font color="#0000ff">operator</font> * ( <font color="#0000ff">const</font> Vector_2D &amp;) <font color="#0000ff">const</font> ; </li><li></li><li>  <font color="#0000ff">int</font> x_coord, y_coord; </li><li>  }; </li><li></li><li>  Vector_2D :: Vector_2D ( <font color="#0000ff">int</font> X, <font color="#0000ff">int</font> Y) { </li><li>  x_coord = X; </li><li>  y_coord = Y; </li><li>  } </li><li></li><li>  Vector_2D Vector_2D :: <font color="#0000ff">operator</font> - ( <font color="#0000ff">const</font> Vector_2D &amp; rhs) <font color="#0000ff">const</font> </li><li>  { </li><li>  Vector_2D Point; </li><li>  Point.x_coord = ( <font color="#0000ff">this</font> -&gt; x_coord - rhs.x_coord); </li><li>  Point.y_coord = ( <font color="#0000ff">this</font> -&gt; y_coord - rhs.y_coord); </li><li></li><li>  <font color="#0000ff">return</font> point; </li><li>  } </li><li></li><li>  Vector_2D Vector_2D :: <font color="#0000ff">operator</font> + ( <font color="#0000ff">const</font> Vector_2D &amp; rhs) <font color="#0000ff">const</font> </li><li>  { </li><li>  Vector_2D Point; </li><li>  Point.x_coord = ( <font color="#0000ff">this</font> -&gt; x_coord + rhs.x_coord); </li><li>  Point.y_coord = ( <font color="#0000ff">this</font> -&gt; y_coord + rhs.y_coord); </li><li></li><li>  <font color="#0000ff">return</font> point; </li><li>  } </li><li></li><li>  Vector_2D Vector_2D :: <font color="#0000ff">operator</font> * ( <font color="#0000ff">const</font> Vector_2D &amp; rhs) <font color="#0000ff">const</font> </li><li>  { </li><li>  Vector_2D Point; </li><li>  Point.x_coord = ( <font color="#0000ff">this</font> -&gt; x_coord * rhs.x_coord); </li><li>  Point.y_coord = ( <font color="#0000ff">this</font> -&gt; y_coord * rhs.y_coord); </li><li></li><li>  <font color="#0000ff">return</font> point; </li><li>  } </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><br>  And here is the most important part of our program.  Here lies the whole logic of drawing and control. <br>  <b>test.cpp</b> <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  #include &lt;iostream&gt; </li><li>  #include <font color="#A31515">"SDL_Interface.cpp"</font> </li><li></li><li>  <font color="#0000ff">int</font> main ( <font color="#0000ff">int</font> argc, <font color="#0000ff">char</font> ** argv) { </li><li></li><li>  <font color="#008000">// Declare the surface on which we will draw with the screen size and color depth</font> </li><li>  SDL_Interface * mySDL = <font color="#0000ff">new</font> SDL_Interface (800, 600, 32); </li><li></li><li>  <font color="#008000">// Determine the colors</font> </li><li>  Color blue (0x00, 0x00, 0xff); </li><li>  Color red (0xff, 0x00, 0x00); </li><li>  Color green (0x00, 0xff, 0x00); </li><li></li><li>  mySDL-&gt; screen_lock ();  <font color="#008000">// Lock Screen Before Drawing</font> </li><li></li><li>  <font color="#008000">/ * We draw by flooding the screen in three colors * /</font> </li><li>  <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> x = 0; x &lt;mySDL-&gt; w (); x ++) { </li><li>  <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> y = 0; y &lt;mySDL-&gt; h (); y ++) { </li><li>  <font color="#0000ff">if</font> (y &lt;(mySDL-&gt; h ()) / 3) </li><li>  mySDL-&gt; putpixel (Vector_2D (x, y), green); </li><li>  <font color="#0000ff">else</font> <font color="#0000ff">if</font> (y &lt;((mySDL-&gt; h ()) / 3) * 2) </li><li>  mySDL-&gt; putpixel (Vector_2D (x, y), red); </li><li>  <font color="#0000ff">else</font> </li><li>  mySDL-&gt; putpixel (Vector_2D (x, y), blue); </li><li>  } </li><li>  } </li><li></li><li>  mySDL-&gt; screen_unlock (); </li><li>  mySDL-&gt; screen_update (0,0,0,0); </li><li></li><li>  <font color="#0000ff">if</font> (mySDL-&gt; key_wait (SDLK_ESCAPE)) exit (0);  <font color="#008000">// Exit if ESC</font> </li><li></li><li>  <font color="#0000ff">return</font> 0; </li><li>  } </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><br>  In conclusion, I‚Äôll say that this library won me over with room for action.  Yes, much of what you have to write yourself has long been implemented, but for beginners and for those who just want to play or create their own game ‚ÄúLife‚Äù in c ++ it will be a great choice! </div><p>Source: <a href="https://habr.com/ru/post/100842/">https://habr.com/ru/post/100842/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../100828/index.html">Himself gzip: compress scripts 20% better</a></li>
<li><a href="../100833/index.html">Microsoft Ribbon Release for WPF Released</a></li>
<li><a href="../100835/index.html">A few words about usability</a></li>
<li><a href="../100838/index.html">Healing Potion for IE5 + or IE7.js</a></li>
<li><a href="../100841/index.html">A week of free playing Heroes of Newerth</a></li>
<li><a href="../100843/index.html">Eight-Bit Wikipedia for $ 20</a></li>
<li><a href="../100845/index.html">Bulletin "antirao.pdf" pilot issue</a></li>
<li><a href="../100846/index.html">Droider Chart. Release 12</a></li>
<li><a href="../100848/index.html">Kodak PlaySport - extreme video? I do not think</a></li>
<li><a href="../100849/index.html">Little nettop IdeaCentre Q150</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>