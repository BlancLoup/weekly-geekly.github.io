<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Communication channels L2 and L3 VPN - Differences between physical and virtual channels of different levels</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="With a good smile, I now recall how humanity anxiously awaited the end of the world in 2000. Then this did not happen, but a completely different even...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Communication channels L2 and L3 VPN - Differences between physical and virtual channels of different levels</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/lg/ng/s9/lgngs9y4ii1hv6-lfsnnneyqmve.png"><br><br>  With a good smile, I now recall how humanity anxiously awaited the end of the world in 2000.  Then this did not happen, but a completely different event took place and it was also very significant. <br><br>  Historically, at that time, the world entered a real computer revolution v.  3.0  - start of cloud technologies for distributed data storage and processing.  Moreover, if the previous ‚Äúsecond revolution‚Äù was a massive transition to ‚Äúclient-server‚Äù technologies in the 80s, the first one can be considered the beginning of simultaneous work of users using separate terminals connected to the so-called.  "Mainframe" (in the 60s of the last century).  These revolutionary changes took place peacefully and imperceptibly to users, but they touched the whole business world together with information technologies. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      When transferring IT infrastructure to cloud platforms and remote data centers (data centers), the organization of reliable communication channels from the client to data centers immediately becomes a key issue.  On the Web, there are often offers from providers: ‚Äúphysical leased line, fiber‚Äù, ‚ÄúL2 channel‚Äù, ‚ÄúVPN‚Äù, and so on ... Let's try to figure out what is behind this in practice. <br><a name="habracut"></a><br><h2>  Communication channels - physical and virtual </h2><br><img src="https://habrastorage.org/webt/f7/ti/ud/f7tiudsavcij6jpi25ynfzly-tm.png"><br><br>  <b>1. The</b> organization of a ‚Äúphysical line‚Äù or ‚Äúsecond-level channel, L2‚Äù is usually called a service of providing a dedicated cable (copper or fiber-optic) by the provider, or a radio channel between offices and those sites where the data center equipment is deployed.  When ordering this service, in practice, most likely you will receive a dedicated fiber-optic channel for rent.  This solution is attractive because the provider is responsible for reliable communication (and in case of cable damage, the channel can be restored by itself).  However, in real life, the cable throughout is not solid - it consists of many connected (welded) to each other fragments, which somewhat reduces its reliability.  On the way of laying the fiber-optic cable, the provider has to use amplifiers, splitters, and end-points - modems. <br><br>  In marketing materials, this solution is conditionally referred to as L2 (Data-Link) of the OSI or TCP / IP network model: it allows you to work as if at the Ethernet frame switching level on the LAN, without worrying about many packet routing problems at the following IP network level.  There is, for example, the ability to continue to use their so-called ‚Äúprivate‚Äù IP addresses in client virtual networks instead of registered unique public addresses.  Since it is very convenient to use private IP addresses in local networks, special ranges from the main addressing classes were allocated to users: <br><br><ul><li>  10.0.0.0 - 10.255.255.255 in class A (with a mask of 255.0.0.0 or / 8 in an alternative mask recording format); </li><li>  100.64.0.0 - 100.127.255.255 in class A (with a mask of 255.192.0.0 or / 10); </li><li>  172.16.0.0 - 172.31.255.255 in class B (with a mask of 255.240.0.0 or / 12); </li><li>  192.168.0.0 - 192.168.255.255 in class C (with a mask of 255.255.0.0 or / 16). </li></ul><br>  Such addresses are chosen by users for their own "internal use" and can be repeated at the same time in thousands of client networks, so data packets with private addresses in the header are not routed on the Internet - to avoid confusion.  To access the Internet, you have to apply NAT (or another solution) on the client side. <br><blockquote>  Note: NAT - Network Address Translation (a mechanism for replacing network addresses of transit packets on TCP / IP networks, is used to route packets from a client's local network to other networks / Internet and in the opposite direction - inside the client's LAN, to the addressee). </blockquote>  This approach (and we are talking about a dedicated channel) has an obvious disadvantage - in case of moving the client‚Äôs office, there may be serious difficulties with connecting to a new place and the need for a change of provider is possible. <br><br>  The assertion that such a channel is much safer, better protected from attacks by intruders and the mistakes of low-skilled technical staff, upon close inspection, is a myth.  In practice, security problems often arise (or are created by a hacker intentionally) directly on the client side, with the participation of the human factor. <br><br><img src="https://habrastorage.org/webt/bb/fp/wa/bbfpway9nrdqkuzeemjdozapsri.png"><br><br>  <b>2.</b> Virtual channels and private networks built on them VPN (Virtual Private Network) are widely distributed and allow to solve most of the client‚Äôs tasks. <br><br>  Providing by the provider "L2 VPN" involves the choice of several possible services of the "second level", L2: <br><br>  <b>VLAN</b> - a client receives a virtual network between its offices and branches (in fact, client traffic goes through the active equipment of the provider, which limits the speed); <br><br>  <b>The PWE3 point-to-point connection</b> (in other words, end-to-end pseudo <b>-pipe</b> emulation in packet-switched networks) allows Ethernet frames to be transferred between two nodes as if they were directly connected by cable.  For a client in such a technology, it is essential that all transmitted frames are delivered to the remote point unchanged.  The same thing happens in the opposite direction.  This is possible due to the fact that the client‚Äôs frame arriving at the provider's router is further encapsulated (added) into a higher-level data block (MPLS packet), and is retrieved at the end point; <br><blockquote>  Note: PWE3 - Pseudo-Wire Emulation Edge to Edge (the mechanism by which, from the user's point of view, he gets a dedicated connection). <br><br>  MPLS - MultiProtocol Label Switching (data transmission technology in which transport / service labels are assigned to packets and the transmission path of data packets in networks is determined only on the basis of the value of labels, regardless of the transmission medium, using any protocol. During routing, new labels can be added (with necessary) or be deleted when their function is completed. The contents of the packets are not analyzed or changed). </blockquote>  <b>VPLS</b> is a local area network simulation technology with multipoint connections.  In this case, the provider‚Äôs network looks from the client‚Äôs side similar to a single switch storing a table of MAC addresses of network devices.  Such a virtual "switch" distributes the Ethernet frame coming from the client's network, according to its intended purpose - for this, the frame is encapsulated in an MPLS packet, and then retrieved. <br><blockquote>  Note: VPLS is the Virtual Private LAN Service (the mechanism by which, from the user's point of view, its geographically separated networks are connected by virtual L2 connections). <br><br>  MAC - Media Access Control (medium access control method - a unique 6-byte address-identifier of a network device (or its interfaces) on Ethernet networks). </blockquote><img src="https://habrastorage.org/webt/ao/vg/kh/aovgkhzjrqqpz_720ypgoqxvmle.png"><br><br>  <b>3.</b> In case of ‚ÄúL3 VPN‚Äù deployment, the provider‚Äôs network looks like a single router with several interfaces in the eyes of the client.  Therefore, the client‚Äôs local network‚Äôs junction with the provider‚Äôs network occurs at the L3 level of the OSI or TCP / IP network model. <br><br>  Public IP addresses for network interface points can be determined by agreement with the provider (belong to the client or be obtained from the provider).  IP addresses are configured by the client on their routers on both sides (private ones from their local network, public ones from the provider), and the provider will further route the data packets.  Technically, to implement such a solution, MPLS (see above) is used, as well as GRE and IPSec technologies. <br><blockquote>  Note: GRE - Generic Routing Encapsulation (tunneling protocol, network packet packaging, which allows you to establish a secure logical connection between two endpoints - using protocol encapsulation at the L3 network layer). <br><br>  IPSec - IP Security (a set of data protection protocols that are transmitted using IP. Authentication, encryption, and packet integrity checking are used). </blockquote>  It is important to understand that the modern network infrastructure is built so that the client sees only that part of it, which is defined by the contract.  Dedicated resources (virtual servers, routers, storage of operational data and backup), as well as running programs and memory contents are completely isolated from other users.  Several physical servers can work together and simultaneously for one client, from the point of view of which they will look like one powerful server pool.  Conversely, multiple virtual machines can be simultaneously created on one physical server (each will look to the user like a separate computer with an operating system).  In addition to standard solutions, individual solutions are offered that also comply with accepted requirements regarding the security of processing and storing customer data. <br><br>  At the same time, the configuration of the ‚ÄúL3 level‚Äù network deployed in the cloud allows scaling to almost unlimited sizes (according to this principle, the Internet and large data centers are built).  Dynamic routing protocols, such as OSPF, and others in L3 cloud networks, allow you to select the shortest routing paths for data packets, send packets at the same time in several ways to better load and expand channel capacity. <br><br>  At the same time, it is possible to deploy a virtual network at the ‚ÄúL2 level‚Äù, which is typical for small data centers and outdated (or narrowly specific) client applications.  In some such cases, even ‚ÄúL2 over L3‚Äù technology is used to ensure network compatibility and application performance. <br><br><h3>  Let's sum up </h3><br>  Today, user / client tasks in most cases can be effectively solved by organizing virtual private VPNs using GRE and IPSec security technologies. <br><br>  There is not much point in contrasting L2 and L3, just as there is no sense in considering the L2 channel proposal to be the best solution for building reliable communication in your network as a panacea.  Modern communication channels and equipment providers allow you to skip a huge amount of information, and many of the dedicated channels leased by users, in fact - even underused.  It is reasonable to use L2 only in special cases when the specificity of the task requires it, take into account the limitations of the possibility of future expansion of such a network and consult with a specialist.  On the other hand, L3 VPN virtual networks, other things being equal, are more versatile and easy to use. <br><br>  This overview briefly lists the current typical solutions that are used to transfer local IT infrastructure to remote data centers.  Each of them has its consumer, advantages and disadvantages, the correctness of the choice of solution depends on the specific task. <br><br>  In real life, both levels of the network model L2 and L3 work together, each is responsible for his task and opposing them in advertising, providers are frankly cunning. </div><p>Source: <a href="https://habr.com/ru/post/354408/">https://habr.com/ru/post/354408/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../354394/index.html">How to improve performance using serverless architecture</a></li>
<li><a href="../354396/index.html">Open source and mentoring: writing code that saves lives</a></li>
<li><a href="../354398/index.html">rholang - programming language for distributed systems</a></li>
<li><a href="../354400/index.html">Epic Growth Story with Denis Pushkin: how does Growth Hacking work in Skyeng?</a></li>
<li><a href="../354406/index.html">You can not leave: about the difficult and often false choice</a></li>
<li><a href="../354410/index.html">The last step to the "Spring"</a></li>
<li><a href="../354412/index.html">7 best reports Mobius: version of EastBanc Technologies</a></li>
<li><a href="../354414/index.html">Bits and Atoms (fundamental article on the digital economy for 1995, part 1)</a></li>
<li><a href="../354416/index.html">Frontend like my mom's son's friend</a></li>
<li><a href="../354418/index.html">Being Digital (Nicolas Negroponet's fundamental article on the digital economy for 1995, part 2)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>