<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Subjective vision of an ideal programming language</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Further text is my point of view. Perhaps it will allow someone to take a fresh look at the design of programming languages ‚Äã‚Äãor to see some advantage...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Subjective vision of an ideal programming language</h1><div class="post__text post__text-html js-mediator-article"><p>  Further text is my point of view.  Perhaps it will allow someone to take a fresh look at the design of programming languages ‚Äã‚Äãor to see some advantages and disadvantages of specific features.  I will not go into private details like "there should be a while construct in the language," but I will simply describe the general approaches.  PS I once had the idea to create my own programming language, but it turned out to be a rather complicated process that I haven‚Äôt mastered yet. </p><br><h2 id="vliyanie-predyduschego-opyta">  Impact of previous experience </h2><br><p>  This article inspired me to write <a href="https://habr.com/post/434966/">an article</a> .  The author came up with his own programming language, and this language, with its syntax and peculiarities, turned out to be suspiciously similar to Free Pascal, in which the VM implementation for the language was written.  And this is no coincidence.  Programming languages ‚Äã‚Äãin which we previously wrote, drive thinking into the framework of the language.  We ourselves may not notice this, but an outsider with a different experience may advise something unexpected or learn something new. </p><br><p>  The framework of thinking moves apart a bit after mastering several languages.  Then in language A, you may want to have a feature from B and vice versa, and there will be an awareness of the strengths and weaknesses of each language. </p><br><p>  For example, when I tried to invent and create my own language, my thoughts were completely different from those described in the article above.  I thought about completely different things within completely different terms.  Below I will describe the features of the language that I would like to see in the "ideal" programming language. </p><br><p>  My experience: I once started with Pascal, later I became acquainted with Java, Kotlin, C ++, Python, Scheme, and I consider Scala to be the main language.  As in the above case, my "perfect" language has a lot in common with Scala.  At least, I am aware of this similarity) </p><a name="habracut"></a><br><h2 id="vliyanie-sintaksisa-na-stil-koda">  The effect of syntax on code style </h2><br><p>  "You can write in Fortran in any language" </p><br><p>  It would seem that in any programming language you can express almost any idea and the syntax of the language is not important.  But a typical program is written in as simple and short a way as possible, and some possibilities of the language may prevail over others.  Examples with the code (I did not check them for correctness, it is just a demonstration of the idea) </p><br><p>  Python: </p><br><pre><code class="python">filtered_lst = [elem for elem in lst if elem.y &gt; 2]
filtered_lst = list(filter(lambda elem: elem.y &gt; 2, lst))</code></pre><br>
<p>  ,    .      ,        .</p><br>
<p>Scala:</p><br>
<pre><code class="scala">val filteredLst = lst.filter(_.y &gt; 2)</code></pre><br>
<p>,    .  .           ,   <code>it =&gt; it.y &gt; 2</code>,        .</p><br>
<p> ,            <code>lst.map(_.x).filter(_&gt;0).distinct()</code>       ,        ,    . ,         .</p><br>
<p>    <code>[elem for elem in</code>      ,     .      , -          .</p><br>
<pre><code class="python">... = set(filter(lambda it: it &gt; 2, map(lambda it: it.x, lst))))</code></pre><br>
<p>  !</p><br>
<p>  lst.filter(...).map(...)     ,            ,        .  ,   numpy   max ‚Äî  .           ,      ,     - .</p><br>
<p>  ,   java:</p><br>
<pre><code class="java">int x = func();
final int x = func();</code></pre><br>
<p>    ,     ,       ,   .  Rust       ,     .</p><br>
<pre><code class="rust">let x = 1;
let mut x = 1;</code></pre><br>
<p>,     ,        .        .    ++,          ,             <code>template, typename, inline, virtual, override, const, constexpr</code>    ""   .</p><br>
<h2 id="staticheskaya-tipizaciya"> </h2><br>
<p>,       ,   ,           ,      .</p><br>
<p>   .     ,      ,    ,   .      ,             .     ,  - ,   ,     .</p><br>
<p>   ,     ,  . ,              hashmap   -.</p><br>
<p>           ,    .     -   ,           . (,      -  ,     ,    )</p><br>
<p>    ‚Äî must have   .         ,     ,          .   ‚Äî    ,      .</p><br>
<h2 id="unit-void-i-otlichiya-funkcii-ot-procedury">Unit, void     </h2><br>
<p> /delphi     (  )   (- ).       ,     . .         ?    ,   .  ,   Java, ++    .  : "  void!"    ,  void      ,       ,     . ,  Java <code>HashSet&lt;T&gt;</code> <a href="https://stackoverflow.com/questions/50855561/why-the-internal-implementation-of-hashset-create-a-hashmap-to-store-its-values"></a>  HashMap&lt;T, Boolean&gt;.  boolean ‚Äî  , .    ,  HashMap   ,  ,   .  /++     sizeof(void).</p><br>
<p> ,       Unit,   0       (  ,  ,      Unit,   ).      ,     ,      .       <code>HashSet&lt;T&gt;</code>  <code>HashMap&lt;T, Unit&gt;</code>         .</p><br>
<h2 id="kortezhi"></h2><br>
<p>    -  , , ,  .     ,    .   ?!     ,     :</p><br>
<ul>
<li>        ‚Äî  .   -  .</li>
<li>    ,          .  .</li>
</ul><br>
<p> ,     ""    ‚Äî  ,        ,        .</p><br>
<p>     <code>std::tuple</code>  ++,    ,       ,         , ,  <code>(T1, T2)</code>. (,   Unit       ).      <code>T =&gt; U</code>,  T  U ‚Äî - . , -   Unit, , .  ,  ,       . ,  .</p><br>
<p>     Union,      /  ,      - .         scala/kotlin/rust ‚Äî   .</p><br>
<pre><code class="scala">val a = 10 * 24 * 60 * 60
val b = {
    val secondsInDay = 24 * 60 * 60
    val daysCount = 10
    daysCount * secondsInDay
}</code></pre><br>
<h2 id="enums-union-i-tagged-union">Enums, Union  Tagged Union</h2><br>
<p>    ,    ,   ,              <code>, </code>   go.</p><br>
<p>-,      -. ,                .       ,     0      ,     true (1)    false (0)  .   .       ,        ,    -  <code>success | fail</code>  <code>ok|failReason1 | failReason2</code>.</p><br>
<p> ,    -,    . , <code>ok | error(code)</code>  <code>Pointer[MyAwesomeClass] |null</code>        .</p><br>
<p>      -.      .   Union  Tagged Union   ,        ,  <code>int | int</code>.     Union <code>int | int == int</code>,        .  -  union     .    <code>int | int</code> tagged union   ,    int ‚Äî   .</p><br>
<h3 id="malenkoe-otstuplenie"> </h3><br>
<p> ,     - (Union),         .</p><br>
<pre><code class="plaintext">List(x) = Unit | (x, List(x))</code></pre><br>
<p>     .<br>
  -   (    ),    ,  :</p><br>
<pre><code class="scala">f(x) = 1 + x * f(x)</code></pre><br>
<p>   , <code>f(x) = 1 + x + x*x + x*x*x + ...</code>,     - ()  -   </p><br>
<pre><code class="plaintext">List(x) = Unit | (x, Unit) | (x, (x, Unit)) | ...  = Unit | x | (x, x) | (x, x, x) | ...</code></pre><br>
<p>C  x =   ,    x,    ,  ...</p><br>
<p> ,  <code>(x, Unit) == x</code>,      <code>x * 1 = x</code>,   <code>(x, (x, (x, Unit)))</code>    <code>(x, x, x)</code>.</p><br>
<p> ,   ,          , ,  ,      (  ),       . ,        . ,      ‚Äî ,    ++  -,        .</p><br>
<p>, -   ,        ,     - ().        <code>(A, B | C) == (A, B) | (A, C)</code></p><br>
<h2 id="konstanty"></h2><br>
<p>,   ,      .      .</p><br>
<ol>
<li> </li>
<li>,  ""   ,  -   (,       )</li>
<li>,       .</li>
<li>,       .</li>
</ol><br>
<p>   2  3   ,  : ,  ++        .   -     ,      ,           .<br>
         ‚Äî ,          -,     .        -  .   ‚Äî final   java.</p><br>
<p>  ,     1-2         /. ,     ,      .  ,      ""    ‚Äî  ,        , , ,     .<br>
(  ,     jvm ,     const)</p><br>
<p>,     ‚Äî    .   ,      D.  -  <code>static value = func(42);</code>        .</p><br>
<h2 id="fishechki-kotlina"> </h2><br>
<p> -  gradle, , ,     build      "wtf?   ?"</p><br>
<pre><code class="plaintext">android {
    compileSdkVersion 28
}</code></pre><br>
<p>     Groovy.  android    <code>{ compileSdkVersion 28}</code>,  -   -    ,        .      groovy ‚Äî      ,             .</p><br>
<p> ,     ,       - </p><br>
<pre><code class="plaintext">class UnderlyingAndroid(){
     compileSdkVersion: Int = 42
}

fun android(func: UndelyingAndroid.() -&gt; Unit) ....</code></pre><br>
<p>     ,   -,   /  UnderlyingAndroid,       .</p><br>
<p> ,          :</p><br>
<pre><code class="plaintext">android { it =&gt;
    it.compileSdkVersion = 28
}</code></pre><br>
<p>   !          ?     +         DSL. ,     gradle   ,     .         ,     .</p><br>
<p> extension .  ,   .     ,      .         -       .     ‚Äî       . ,      T,      ,      sum,      ,  T  .</p><br>
<h2 id="call-by-name-semantika">Call-by-name </h2><br>
<p>    ,   ,      . ,    <code>map.getOrElse(key, new Smth())</code>      ,            . ,   <code>assert(cond, makeLogMessage())</code>     .</p><br>
<p>,         ‚Äî ,    assert       <code>if (cond) { log(makeLogMessage())}</code>,   .</p><br>
<p>  ,   must have  ,     .</p><br>
<h2 id="ko-kontr-in-non-variantnost-shablonnyh-parametrov">----  </h2><br>
<p>  . ""    , ""   ,      ,    . ,           .</p><br>
<h2 id="yavnye-neyavnye-preobrazovaniya">  </h2><br>
<p>  ,           .  ,     ,       . ,         ,         . ,     int  long.</p><br>
<h2 id="gde-hranit-tipy-obektov">   ?</h2><br>
<p>    . ,  <code></code>                .      (      ,        ++).       ,   (    )    .</p><br>
<h2 id="znacheniya-ssylki-ukazateli">, , </h2><br>
<p>      .  ++     ,   <code>T</code>     -  .    , ,   rvalue-,    const.   ,   ,   ,    . -        Scala  Kotlin,    "" ,                 .</p><br>
<h2 id="minimum-suschnostey"> </h2><br>
<p>     # ‚Äî     ,   -      . (     ,    #        Unity) ,    ,   . 3 !       ,       ,   ,  -       .       ,        ‚Äî     .</p><br>
<p> kotlin/scala   ‚Äî   ,       .        ,       . ,  .</p><br>
<p>  ‚Äî  inline  C++/Kotlin.      !      inline      ,    inline    ,        (++)    return       (kotlin).     forced_inline__, noinline, crossinline,   -      .  ,       ,    <a href="https://habr.com/users/inline/" class="user_link">inline</a>   ,           .</p><br>
<h2 id="makrosy"></h2><br>
<p>    ,         .                  .  ,     ++        , ,           .    lisp  scheme,         ,      .</p><br>
<h2 id="funkcii-vnutri-funkciy">  </h2><br>
<p>  .  -    - ,         ‚Äî ,     -    .   :    ,         "" .</p><br>
<h2 id="substructural-type-system">Substructural type system</h2><br>
<p>   ,     . ,       , ,   .<br>
   ? Move-      ,        .  ,          . ,    , - /,    .       ,     ()          .</p><br>
<p>-        , -  ,      .</p><br>
<h2 id="zavisimye-tipy"> </h2><br>
<p>  ,      ,    ,   . ,      , ,         ,    5,     3,    ,        .</p><br>
<h2 id="sborka"></h2><br>
<p>-,        . -,       (,    ),          .  ,         ( ++   ).<br>
,         ,   ,     .     -   ,              .</p><br>
<h1 id="vyvody"></h1><br>
<p>,   ,      :</p><br>
<ul>
<li>  ,    <br>
<ul>
<li>-  </li>
<li>         </li>
<li>,       .</li>
</ul></li>
<li> <br>
<ul>
<li></li>
<li>       .</li>
<li>        ()</li>
<li>   </li>
<li>  ide       .</li>
</ul></li>
<li>    extension-    .</li>
<li>      </li>
<li>,    AST</li>
<li>     </li>
</ul><br>
<p>   /     ,         ,   . </p><br>
<p>  ,          .      ,       . </p><br>
<p> ,    ‚Äî    .</p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/435300/">https://habr.com/ru/post/435300/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../435290/index.html">Learning English is an unpopular opinion.</a></li>
<li><a href="../435292/index.html">What did the PDP-11 teach us?</a></li>
<li><a href="../435294/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ346 (January 1 - 6, 2019)</a></li>
<li><a href="../435296/index.html">Hall of Fame Consumer Electronics: Stories of the Best Gadgets of the Last 50 Years, Part 3</a></li>
<li><a href="../435298/index.html">"Radar" Google Soli continues to evolve</a></li>
<li><a href="../435302/index.html">Prototype code. Lecture on FrontTalks</a></li>
<li><a href="../435306/index.html">Monorepositions: please do not</a></li>
<li><a href="../435308/index.html">Electronic books and their formats: we tell about PDF - its history, pluses and minuses</a></li>
<li><a href="../435310/index.html">Widevine L3 DRM protection hacked</a></li>
<li><a href="../435312/index.html">Electric Polestar 2 - the first electric car with native Android Android OS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>