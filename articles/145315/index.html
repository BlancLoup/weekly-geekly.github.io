<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Algorithm for modeling a multidimensional array of data distributed according to the normal law</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When developing or researching ready-made algorithms, it is often required to determine the quality of their work. It is not always possible to use da...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Algorithm for modeling a multidimensional array of data distributed according to the normal law</h1><div class="post__text post__text-html js-mediator-article">  When developing or researching ready-made algorithms, it is often required to determine the quality of their work.  It is not always possible to use data from real sources for this purpose, since their properties are often unknown and therefore it is impossible to predict the result of the execution of the investigated algorithms.  In this case, data modeling using one of the well-known distribution laws is used.  Applying the studied algorithm to the model data, it is possible to assume in advance what the result of its implementation will be.  If it is satisfactory, you can try to apply it to real data.  Naturally, this applies only to non-parametric algorithms, that is, independent of the data distribution law. <br><br>  The most commonly used data modeling is distributed according to the normal law.  Unfortunately, MS Excel and common statistical packages (SPSS, Statistica) allow to model only one-dimensional statistical distributions.  Of course, you can make a multidimensional distribution of several one-dimensional, but only if the variables are independent.  If you need to investigate data with variables dependent on each other, you will have to write a program. <br><a name="habracut"></a><br>  Usually indicate that the multidimensional normal distribution <img src="https://habrastorage.org/storage2/1a4/b9c/69d/1a4b9c69d02ead502665e74f035a89ac.gif">  described by the vector of mathematical expectations <img src="https://habrastorage.org/storage2/307/496/2fa/3074962fa82b2f9350171747f802f2b3.gif">  and positively defined covariance matrix <img src="https://habrastorage.org/storage2/f18/6ca/d63/f186cad6370f3f390ae678ac70a9c53c.gif">  : <br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/0d8/d9c/5f1/0d8d9c5f123a0cb834a1d9d26c82f543.gif"></div><br>  where <img src="https://habrastorage.org/storage2/e57/d1d/a94/e57d1da9464ac27460f31bd9e6bce958.gif">  ; <br>  i = 1,2,3, ... m, j = 1,2,3, ..., m; <br>  m is the number of signs of a multidimensional normal sample. <br><br>  However, instead of the covariance matrix, it is more convenient to use the correlation matrix. <img src="https://habrastorage.org/storage2/7de/54e/a8a/7de54ea8a6bebf74b48853c0c7872e0e.gif">  and dispersion vector <img src="https://habrastorage.org/storage2/d7c/6b2/667/d7c6b2667acfe2eb583d6fc58078ca66.gif">  because the correlation coefficient shows the degree of connection between variables, in contrast to the covariance coefficient.  The correlation matrix is: <br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/8b6/29d/f45/8b629df450ca4bb7c5c6815b388eec3b.gif"></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Transform matrix coefficients <img src="https://habrastorage.org/storage2/7de/54e/a8a/7de54ea8a6bebf74b48853c0c7872e0e.gif">  to matrix coefficients <img src="https://habrastorage.org/storage2/f18/6ca/d63/f186cad6370f3f390ae678ac70a9c53c.gif">  occurs according to the formula: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/a5a/9c8/fda/a5a9c8fda7d5a85c1eb0e0f542e72ae0.gif"></div><br><br>  To model the vector <img src="https://habrastorage.org/storage2/7a0/d7f/737/7a0d7f7377a85f8d17aaea36e63f64d7.gif">  linear vector transform can be used <img src="https://habrastorage.org/storage2/c0d/10e/d29/c0d10ed295606f44144bd66b9327eb10.gif">  whose components are normally distributed random variables with the parameters of the expectation equal to zero and the variance equal to one (i.e. <img src="https://habrastorage.org/storage2/7ff/529/45f/7ff52945f025114a2a3307c2198167f3.gif">  ).  To simulate a one-dimensional normal random variable, there are many ways, for example, the Box-Muller transform: using two random numbers <img src="https://habrastorage.org/storage2/b9a/8a6/949/b9a8a6949c7e6d93c8aaf99cdcf1ecae.gif">  and <img src="https://habrastorage.org/storage2/995/813/f4c/995813f4c498aa32e44d02e653ad207f.gif">  distributed on the interval (0; 1], at which two numbers are obtained simultaneously, distributed according to the normal law with parameters <img src="https://habrastorage.org/storage2/7ff/529/45f/7ff52945f025114a2a3307c2198167f3.gif">  : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/f11/173/c32/f11173c3249e05ce98cc986fd5a6d044.gif"></div><div style="text-align:center;"><img src="https://habrastorage.org/storage2/362/7fb/899/3627fb899b7e4d1ca0237b699533e98a.gif"></div><br><br>  Transformation <img src="https://habrastorage.org/storage2/86e/ac4/e2d/86eac4e2daea605061384b52c6934ab8.gif">  at <img src="https://habrastorage.org/storage2/7a0/d7f/737/7a0d7f7377a85f8d17aaea36e63f64d7.gif">  produced by the formula: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/0df/4d2/0ff/0df4d20ff29b35710736af9b73afed51.gif"></div><br><br>  In this conversion <img src="https://habrastorage.org/storage2/be4/713/4c3/be47134c37378babbc322f40b6bfdab7.gif">  there is a lower triangular matrix that derives from the matrix <img src="https://habrastorage.org/storage2/f18/6ca/d63/f186cad6370f3f390ae678ac70a9c53c.gif">  Cholesky decomposition <img src="https://habrastorage.org/storage2/783/4ee/33c/7834ee33cef1020548d599c3da281325.gif">  : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/2b0/463/e6b/2b0463e6b5359a4455535025c266f659.gif"></div><br><br>  Each element of the matrix <img src="https://habrastorage.org/storage2/be4/713/4c3/be47134c37378babbc322f40b6bfdab7.gif">  determined by a recurrent procedure: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/41c/8d9/ece/41c8d9ece5660aa0a029d67aa2f98319.gif"></div><br><br>  where indexes vary in range <img src="https://habrastorage.org/storage2/6e6/34b/722/6e634b72220c931aca962900cfc6729d.gif">  , and the sums with the upper zero limit are equal to zero (that is, if <img src="https://habrastorage.org/storage2/b3a/216/3a8/b3a2163a84e305a3db524c9543386abe.gif">  then <img src="https://habrastorage.org/storage2/404/19c/e9e/40419ce9e240e334c1a42f92c69ff610.gif">  , <img src="https://habrastorage.org/storage2/99a/68e/a13/99a68ea136eab0006d0995210e3a807b.gif">  ). <br><br>  The described transformation can be implemented as two functions in C ++: the main function normal_model (), which implements the algorithm and the auxiliary matrix_determinant (), which returns the determinant of the matrix. <br><br>  The normal_model () function determines the number of required variables and values ‚Äã‚Äãfrom the dimension of the matrix with the result.  Returns true on success, false on failure. <br><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//   ,    . //double MatrixMath [mq] -  .  //double MatrixDisp [mq] -   //vector&lt;vector&lt;double&gt; &gt; &amp;correlation_matrix -   //vector&lt;vector&lt;double&gt; &gt; &amp;MatrixRes -    bool normal_model (double MatrixMath[], double MatrixVar[], vector&lt;vector&lt;double&gt; &gt; &amp;correlation_matrix, vector&lt;vector&lt;double&gt; &gt; &amp;MatrixRes){ int mq =MatrixRes[0].size();//  int count=MatrixRes.size();//  double MatrixA[mq][mq]; //   A double MatrixN[count][mq]; //  ,       0, 1 int i,j,k; double suma, sumaa; double alfa1, alfa2; //.  ,    (0;1] vector&lt;vector&lt;double&gt; &gt; MatrixK(mq); //  K for (i=0;i&lt;mq;i++){ MatrixK[i].resize(mq); } //     for (i=0; i&lt;mq; i++){ for (j=0; j&lt;mq; j++){ MatrixK[i][j]= correlation_matrix[i][j]* sqrt(MatrixVar[i]*MatrixVar[j]); } } if (matrix_determinant(MatrixK)&lt;=0) return false; // .      ; //  A for (i=0; i&lt;mq; i++){ for (j=0; j&lt;=i; j++){ sumA=0; sumAA=0; for (k=0; k&lt;j; k++){ sumA+= MatrixA[i][k] * MatrixA[j][k]; sumAA+= MatrixA[j][k] * MatrixA[j][k]; } MatrixA[i][j]=(MatrixK[i][j] - sumA)/ sqrt(MatrixK[j][j] - sumAA); } } //  ,       0, 1 srand(time(NULL)); for (i=0; i&lt;count; i+=2){ for (j=0; j&lt;mq; j++){ alfa1 = (double)rand()/(RAND_MAX+1.0); alfa2 = (double)rand()/(RAND_MAX+1.0); if (!alfa1 || !alfa2){ j--; }else{ MatrixN[i][j] = sqrt(-2*log(alfa1))*sin(2*M_PI*alfa2); if (i+1&lt;count) MatrixN[i+1][j] = sqrt(-2*log(alfa1))*cos(2*M_PI*alfa2); } } } //   ,       0, 1      for (i=0; i&lt;count; i++){ for (j=0; j&lt;mq; j++){ MatrixRes[i][j]=MatrixMath[j]; for (k=0; k&lt;mq; k++){ MatrixRes[i][j]+=MatrixA[j][k] * MatrixN[i][k]; } } } return true; } //    m  N x N double matrix_determinant (vector&lt;vector&lt;double&gt; &gt; &amp; m){ double result=0; if (m.size()==1){ return m[0][0]; }else if(m.size()==2){ return m[0][0] * m[1][1] - m[0][1] * m[1][0]; }else if(m.size()==3){ return m[0][0] * m[1][1] * m[2][2] + m[0][1] * m[1][2] * m[2][0] + m[0][2] * m[1][0] * m[2][1] - m[2][0] * m[1][1] * m[0][2] - m[1][0] * m[0][1] * m[2][2] - m[0][0] * m[2][1] * m[1][2]; }else{ vector&lt;vector&lt;double&gt; &gt; m1(m.size()-1);// N-1 x N-1,     N-1 for (int i=0; i&lt;m.size()-1; i++){ m1[i].resize(m.size()-1); } for (int i=0; i&lt; m.size(); i++){ for (int j=1; j&lt;m.size(); j++){ for (int k=0; k&lt;m.size(); k++){ if (k&lt;i){ m1[j-1][k] = m[j][k]; }else if(k&gt;i){ m1[j-1][k-1] = m[j][k]; } } } result+= pow(-1,i) *m[0][i] * matrix_determinant(m1); } } return result; }</span></span></code> </pre> <br>  The result of the work can be found <a href="http://janalyser.org/index.php/ru/component/analytics/%3Fview%3Dselected_model_algorithm%26maid%3D5">here</a> .  The function is accessed via the fastcgi mechanism. <br><br>  Used Books: <br><ol><li>  Martyshenko S.N., Martyshenko N.S., Kustov D.A.  Simulation of multidimensional data and computer experiment.  Technique and technology, 2007. - ‚Ññ2.  Pp. 47‚Äì52. </li><li>  Ermakov SM, Mikhailov GA, Statistical modeling. M .: Nauka, 1982. </li><li>  V. Feller, Introduction to Probability Theory and Its Applications, trans.  from English, t. 1-2, M., 1964-67. </li><li>  Rencher, Alvin C. (2002), Methods of Multivariate Analysis, Second Edition, John Wiley &amp; Sons. </li></ol></div><p>Source: <a href="https://habr.com/ru/post/145315/">https://habr.com/ru/post/145315/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../145309/index.html">Fundamentals of the approach to the construction of universal intelligence. Part 1</a></li>
<li><a href="../145310/index.html">Time in phones: what and how it works</a></li>
<li><a href="../145311/index.html">New line from Lenovo</a></li>
<li><a href="../145312/index.html">Worldwide Start IPv6 Day</a></li>
<li><a href="../145313/index.html">Runetology (150): Founder Championship.com Dmitry Sergeyev</a></li>
<li><a href="../145317/index.html">A good example of using closures in PHP</a></li>
<li><a href="../145318/index.html">Fix client Last.FM or how to get a free radio</a></li>
<li><a href="../145321/index.html">Ultrabooks on Computex 2012</a></li>
<li><a href="../145322/index.html">Development of Metro-application Evernote for Windows 8</a></li>
<li><a href="../145324/index.html">Search Engine Shodan Risks Industrial Control Systems</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>