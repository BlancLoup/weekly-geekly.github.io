<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>RailsStuff - development kit on rails</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We recently published the RailsStuff gem. This is a collection of small modules and utilities for performing a variety of common tasks: from organizin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>RailsStuff - development kit on rails</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/3ce/2fe/a1e/3ce2fea1e154197aa7d9b1a252e890ca.png" alt="image"><br><br>  We recently published the <a href="https://github.com/printercu/rails_stuff">RailsStuff</a> gem.  This is a collection of small modules and utilities for performing a variety of common tasks: from organizing controllers and generating unique random values ‚Äã‚Äãto the parameter parser and translation helpers.  In this post I will tell about some of them: <br><br><ul><li>  ResourcesController - a lightweight and modern version of InheritedResources; </li><li>  Type tracker; </li><li>  Unique random value generator; </li><li>  Helpers translations and basic links. </li></ul><a name="habracut"></a><br><h3>  Installation </h3><br>  Most of the modules are too small to be a separate gem, and for convenience it was decided to combine them into one gem.  It uses lazy loading: if you don‚Äôt use a module, it will not be loaded.  Some modules are used directly through include / extend, others add class methods for activation and configuration.  For the second, the gem has Rails :: Engine, which automatically loads them into the base classes of models and controllers (ActiveRecord :: Base and ActionController :: Base).  You can select individual modules or disable automatic loading completely by adding initializer: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment">#    : RailsStuff.load_modules = [] #    : RailsStuff.load_modules = %i(sort_scope statusable)</span></span></code> </pre> <br>  Heme has no dependencies, but for some modules (or even individual methods) you will need to install something else.  For such modules, dependencies are listed in the documentation. <br><br><h3>  ResourcesController </h3><br>  This is one of the core modules in RailsStuff.  In fact, it is a simplified and updated version of InheritedResources. <br><br>  InheritedResources showed me a great approach to writing controllers.  He implemented many of the functions that I was looking for or did myself, for example: <br><br><ul><li>  Access to resources in different controllers by one name.  It's good when you have the <code>@user</code> variable, but it's worse if <code>@payment_transaction</code> .  Worse, if <code>@recurring_payment_transaction</code> .  Someone then begins to abbreviate names, but this usually makes it even worse. </li><li>  No duplicate <code>before_action :set_user</code> / <code>before_action :find_manager</code> .  With long lists of <code>only</code> or <code>except</code> , which must not be forgotten to keep up to date. </li><li>  And, of course, there is less duplication of the action and fader code.  Yes, the rails generate it for you, but it still remains the code in your repository, and it repeats.  When editing, you have to read all the code: it's hard to say right away that before you is the original code from the generator, or it has already been edited. </li></ul><br>  InheritedResources allows you to avoid these problems and focus on the business logic of the application.  Ho the library is too overloaded, and quite often you have to look for suitable combinations of settings or go into the source code for the name of the method that needs to be overridden, or to look at exactly how something is implemented.  In addition, the library has been deprecated for about a year.  Therefore, it was decided to start new projects without using InheritedResources. <br><br>  So, after using our modules in several new applications, we selected them in ResourcesController, which is the main part of RailsStuff.  This is a lightweight version of InheritedResources, providing basic capabilities, and lacks some complex features.  But this allows us to make the code simpler and clearer both in the library and in the applications.  All methods in the library as simply as possible perform individual functions.  The basic principle is not to provide a lot of settings for all possible cases, but to provide a simple, extensible basic functionality.  If special behavior is required, simply write the method as you would have done without the ResourcesController. <br><br>  Here are the main differences: <br><br><ul><li>  Same variable names for all controllers: <code>@_resource</code> and <code>@_collection</code> .  No need for bulky constructs from <code>set_collection_ivar</code> and <code>get_resource_ivar</code> . </li><li>  Missing <code>belongs_to</code> and relationship chains.  But there is a <code>resource_helper</code> and a quick way to set <code>source_relation</code> : <br><br><pre> <code class="ruby hljs">resources_controller <span class="hljs-symbol"><span class="hljs-symbol">source_relation:</span></span> -&gt; { manager.projects } <span class="hljs-comment"><span class="hljs-comment">#    #manager,     params[:manager_id]: resource_helper :manager</span></span></code> </pre><br></li><li>  Improved integration with StrongParameters (helper instead of strange <code>def permited_params</code> ): <br><br><pre> <code class="ruby hljs">permit_attrs <span class="hljs-symbol"><span class="hljs-symbol">:name</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">project_attributes:</span></span> [<span class="hljs-symbol"><span class="hljs-symbol">:id</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:_destroy</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:name</span></span>]</code> </pre><br></li><li>  <code>respond_with</code> used only in create, update, destroy.  In general, this should not be a problem: redefining <code>.to_json</code> is not a good idea for formatting responses for the API. But if it is really necessary, you can add a module and add the necessary actions. </li><li>  Helpers for STI-models: white list of types available for creation, automatic class definition by name from parameters and separate allowed parameters for each type. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Examples of controllers from specs RailsStuff</b> <div class="spoiler_text"><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Site</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UsersController</span></span></span><span class="hljs-class"> &lt; SiteController </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">resources_controller</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">permit_attrs</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">email</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ProjectsController</span></span></span><span class="hljs-class"> &lt; SiteController </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">resources_controller</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sti</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">true</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">resource_helper</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">user</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">permit_attrs</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">permit_attrs_for</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Project::External</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">company</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">permit_attrs_for</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Project::Internal</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">department</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">create</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">super</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">action</span></span></span><span class="hljs-class">: :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">index</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">protected</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">after_save_url</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">url_for</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">action</span></span></span><span class="hljs-class">: :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">index</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">user_id</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">resource</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">user_id</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">source_relation</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">params</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">key?</span></span></span><span class="hljs-class">(:</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">user_id</span></span></span><span class="hljs-class">) ? </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">user</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">projects</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">self</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">resource_class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre><br></div></div><br><h3>  Type tracker </h3><br>  Often, when using STI models in the interface, it is necessary to list all possible types.  In such situations, lazy loading gets in the way, and you need to explicitly call <code>require_dependency/eager_load</code> for all inheriting models.  Yes, and DescendantsTracker for getting a list of all inherited classes in this case is not the best solution.  For such tasks we use TypesTracker.  It contains a helper for loading all types for the model and stores a separate array with all the inherited classes: the list is ready and available at any time.  In this case, you can selectively remove some classes from this list. <br><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Project</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">extend</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RailsStuff::TypesTracker</span></span></span><span class="hljs-class"> </span><span class="hljs-comment"><span class="hljs-class"><span class="hljs-comment"># ... eager_load_types! #   .rb  app/models/project #    : eager_load_types! 'lib/path/to/projects' end class Project::Big &lt; Project unregister_type #      end class Project::Internal &lt; Project::Big; end class Project::External &lt; Project::Big; end class Project::Small &lt; Project; end Project.types_list # [Internal, External, Small]</span></span></span></span></code> </pre><br>  If the array is replaced with a custom storage, then you can set flags for each class and filter / sort them by output: <br><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Project</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">extend</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RailsStuff::TypesTracker</span></span></span><span class="hljs-class"> </span><span class="hljs-comment"><span class="hljs-class"><span class="hljs-comment"># MyTaggedArray   #add(klass, *args). #   *args -  *tags. self.types_list_class = MyTaggedArray end class Project::Internal &lt; Project::Big #  types_list.add Project::Internal, :tag_1 register_type :tag_1 end class Project::External &lt; Project::Big register_type :tag_2 end Project.types_list.with(:tag_1)</span></span></span></span></code> </pre><br><h3>  Random Unique Value Generator </h3><br>  Sometimes it is required for the created record to generate a unique value.  Theoretically, the UUID provides such an opportunity, but sometimes the value must be generated in accordance with the pattern, and collisions are possible.  RandomUniqAttr uses database restrictions and automatically regenerates the value if the entry fails.  This allows the use of such a generator even when collisions are quite likely.  Here is how it works: <br><br><ol><li>  The recording is saved as usual. </li><li>  If the field already matters, then nothing happens. </li><li>  Generates a value and tries to save a record. </li><li>  If a <code>RecordNotUnique</code> error <code>RecordNotUnique</code> , repeat the previous step. </li></ol><br>  This approach has a condition: the field must be declared nullable.  Despite this, the field will not have NULL after the completion of the transaction. <br><br><pre> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment"># -  SecureRandom.hex(32) random_uniq_attr :token #   : random_uniq_attr(:code) { |instance| my_random(instance) }</span></span></code> </pre><br><h3>  Helper </h3><br>  For multilingual interfaces, RailsStuff has helpers for translating action names and confirmations.  These methods cache translations for the duration of the query, and for large lists and tables, translation searches will be performed only once.  Before use, add <code>helpers.actions</code> and / or <code>helpers.confirmations</code> translation files: <br><br><pre> <code class="hljs sql">ru: helpers: actions: edit:  <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span>:  <span class="hljs-keyword"><span class="hljs-keyword">confirm</span></span>: ? confirmations: <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span>:  ?</code> </pre><br>  Now in all templates, you can start translating actions in the same way: <br><br><pre> <code class="hljs pgsql">#    : # <span class="hljs-keyword"><span class="hljs-keyword">include</span></span> RailsStuff::Helpers::Translation = translate_action(:edit) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> translate_action(:<span class="hljs-keyword"><span class="hljs-keyword">delete</span></span>) - collection.<span class="hljs-keyword"><span class="hljs-keyword">each</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> |resource| tr td= resource.name td= link_to <span class="hljs-string"><span class="hljs-string">'x'</span></span>, url_for(resource), <span class="hljs-keyword"><span class="hljs-keyword">method</span></span>: :<span class="hljs-keyword"><span class="hljs-keyword">delete</span></span>, data: {confirm: translate_confirmation(:<span class="hljs-keyword"><span class="hljs-keyword">delete</span></span>)} = translate_confirmation(:purge_all) # : <span class="hljs-string"><span class="hljs-string">'?'</span></span></code> </pre><br>  In order for the application to contain all references to the main actions in the same way, there are helpers for RailsStuff for them: <br><br><pre> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment">#   . #      rails_stuff/helpers/links include RailsStuff::Helpers::Links ICONS = { destroy: '&lt;span class="glyphicon glyphicon-trash"&gt;&lt;/span&gt;'.html_safe, edit: '', new: -&gt; { translate_action(:new) }, } def basic_link_icons ICONS end # : link_to_edit([:edit, :scope, resource]) or link_to_edit(edit_path) link_to_edit('url', class: 'text-info') #  url  ,  url_for(action: edit). #    /users/1 link_to_edit #    '/users/1/edit' #     : link_to_destroy or link_to_new</span></span></code> </pre><br>  By default, action text is used as the text for references.  For users of Bootstrap or Glyphicon, there is a RailsStuff :: Helpers :: Bootstrap helper that uses icons for these links. <br><br><h3>  What else can you find? </h3><br><ul><li>  "Nullify blanks"; </li><li>  module for working with statuses / transfers (as AR :: Enum, only better); </li><li>  handling of parameters for sorting; </li><li>  helper <code>response.json_body</code> for testing API; </li><li>  even a helper for debug <code>Net::HTTP</code> ; </li><li>  and other. </li></ul><br>  You can try <code>gem 'rails_stuff', '~&gt; 0.4.0'</code> adding <code>gem 'rails_stuff', '~&gt; 0.4.0'</code> in the Gemfile.  More details, documentation in English and source codes are available in <a href="https://github.com/printercu/rails_stuff">the githaba repository</a> . </div><p>Source: <a href="https://habr.com/ru/post/268359/">https://habr.com/ru/post/268359/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../268347/index.html">I will give the domain and site pastebin.ru</a></li>
<li><a href="../268349/index.html">Saving electricity on thin clients</a></li>
<li><a href="../268351/index.html">Calculation of formulas in office editors. Part 1</a></li>
<li><a href="../268355/index.html">DEV Labs 2015. Online conference for .NET developers. 17 October</a></li>
<li><a href="../268357/index.html">Um, but our fault is what? Do we issue these sim cards or what? (c) Vkontakte</a></li>
<li><a href="../268361/index.html">Jii: A complete application with Yii2 architecture in the browser</a></li>
<li><a href="../268363/index.html">Experience in the development of a simulator program for the practical work of students</a></li>
<li><a href="../268365/index.html">Building Unity3D builds on Jenkins on Mac OS X. Part 2</a></li>
<li><a href="../268369/index.html">The secret arrow in the address bar and other surprises in the assembly Vivaldi 1.0.291.18</a></li>
<li><a href="../268371/index.html">DTO vs POCO vs Value Object</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>