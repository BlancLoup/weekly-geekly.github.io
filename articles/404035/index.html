<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Solar panel on the balcony: charge controller testing</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello geektimes! 

 In the previous part , the operation of the BMS board was examined and verified, ensuring the correct charge of the lithium-ion ba...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Solar panel on the balcony: charge controller testing</h1><div class="post__text post__text-html js-mediator-article">  Hello geektimes! <br><br>  In the <a href="https://geektimes.ru/post/289141/">previous part</a> , the operation of the BMS board was examined and verified, ensuring the correct charge of the lithium-ion battery.  The Chinese mail finally delivered the Solar charge controller, so it's time to test it. <br><br><img src="https://habrastorage.org/web/2a1/30e/214/2a130e21463042b8968e73f5defde666.jpg" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Test results under the cut. <br><a name="habracut"></a><br><h2>  Solar charge controller </h2><br>  This device is basic throughout the system - it is the controller that provides the interaction of all components - the solar panel, the load and the battery (it is needed only if we want to store energy in the battery, if we give energy directly to the electricity grid, we need a different type of grid tie controller). <br><br>  There are quite a lot of controllers for small currents (10-20A) on the market, but since  In our case, a lithium battery is used instead of a lead one, then we need to choose a controller with adjustable parameters.  A controller was purchased, as in the photo, the issue price from $ 13 on eBay to $ 20-30, depending on the greed of local sellers.  The controller is proudly called the ‚ÄúIntelligent PWM Solar Panel Charge Controller‚Äù, although in fact all its ‚Äúintelligence‚Äù is the ability to set charge and discharge thresholds, and it is not structurally very different from the usual DC-DC converter. <br><br>  Connecting the controller is quite simple, it has only 3 connectors - for the solar panel, the load and the battery, respectively.  As a load in my case, a 12V LED strip was connected, the battery is still the same test one with Hobbyking.  Also on the controller there are 2 USB-connectors from which you can charge various devices. <br><br>  Everything together looked like this: <br><br><img src="https://habrastorage.org/web/d82/009/c09/d82009c09d07497fa8647f149c5c77e8.jpg"><br><br>  Before using the controller, it must be configured.  The controllers of this model are sold in different versions for different types of batteries, the differences are likely only in the preset parameters.  For my three-cell lithium battery (3S1P), I set the following values: <br><br><img src="https://habrastorage.org/web/9e1/b82/bcb/9e1b82bcb91c46619ed6d076a8291f6b.jpg"><br><br>  As you can see, the charge disconnect voltage (PV OFF) is set to 12.5V (based on 4.2V, 12.6 could be put per cell, but a small undercharging has a positive effect on the number of battery cycles).  The next 2 parameters are load disconnection, in my case it is set to 10V, and re-enable the charge to 10.5V.  The minimum value could be set lower, to 9.6V, a small margin was left for the controller itself, which is powered by the same battery. <br><br><h2>  Testing </h2><br>  With the discharge of problems was not expected.  The battery charge was enough to charge the tablet, the LED strip also burned, and at a threshold voltage of 10V, the tape went out - the controller disconnected the load so as not to discharge the battery below a predetermined threshold. <br><br>  But with the charge, everything went wrong.  At first, everything was fine, and the maximum wattmeter power was about 50W, which is quite good.  But towards the end of the charge, the tape connected as a load began to flicker strongly.  The reason is clear and without an oscilloscope - the two BMS are not very friendly with each other.  As soon as the voltage on one of the cells reaches the threshold, the BMS turns off the battery, which causes the load and the controller to turn off, then the process repeats.  And considering that the threshold voltages are already set in the controller, the second protection card is not needed at all. <br><br>  I had to go back to plan ‚ÄúB‚Äù - put only the balance board on the battery, leaving the charge control to the controller.  The 3S balance board looks like this: <br><br><img src="https://habrastorage.org/web/c9f/84d/61c/c9f84d61c514435eb36d7d2e7203ad22.jpg"><br><br>  The bonus of this balancer is also in the fact that it is 2 times cheaper. <br><br>  The design turned out to be even simpler and more beautiful - the balancer took its "legitimate" place on the balancing connector of the battery, the battery is connected to the controller through the power connector. <br>  All together looks like this: <br><br><img src="https://habrastorage.org/web/d40/b49/226/d40b4922689b42439bb86f6917385331.jpg"><br><br>  No more surprises there.  When the voltage on the battery rose to 12.5V, the power consumed from the panels dropped to almost zero and the voltage increased to the maximum ‚Äúidle‚Äù (22V), i.e.  the charge no longer goes. <br><br><img src="https://habrastorage.org/web/595/6e9/d6a/5956e9d6a5114b879157281a5f6f52aa.jpg"><br><br>  The voltage on the 3 cells of the battery at the end of the charge was 4.16V, 4.16V and 4.16V, which is a total of 12.48V, there are no complaints about the charge control, as well as the balancer. <br><br><h2>  Conclusion </h2><br>  The system works, almost as expected.  During the day, electricity can accumulate, in the evening it can be used.  In the final version, the battery will be replaced by a block of 18650 cells, which were already described in the previous section.  The battery capacity can be increased up to 20 Ah, more for the balcony system is already redundant.  If you buy another balancer, you can use LiFePo4 batteries, it is enough to set the required voltage thresholds in the controller.  However, in my case, there is probably no point in this - the cost of LiFePo4 for 10-20 Ah is $ 80-100, which is already comparable to the cost of the Grid Tie controller, which I am going to test in the future. <br><br>  Continued in the <a href="https://geektimes.ru/post/289525/">next part</a> . <br><br>  Still exclusively for tests (it is clear that there is no economic sense in this) a 12V ionistor battery was ordered, since prices are falling and now they are relatively cheap.  It will be interesting to check how long their charge is.  Stay tuned. <br><br>  <b>Note</b> : The Hobbyking battery shown in the photo was supplied exclusively for the test.  These batteries have not been tested for permanent use in such systems, nor are they recommended to be left unattended. <br><br>  More or less, the final version of the battery looks like this: <br><img src="https://habrastorage.org/web/0e5/25e/c4b/0e525ec4bb0e4e499b5ebab84df05503.jpg"><br><br>  These are 12 cells 18650, connected in groups in parallel by 4. The approximate battery capacity is about 12 hours, this is enough for charging various gadgets and for evening lighting of the room with LED tape.  The battery uses the elements of Panasonic, the same as in cars Tesla S, the reliability of these cells can be considered quite good. <br><br>  For those who want to watch the video version, the <a href="https://youtu.be/TlYU91qqhmY">video is uploaded to youtube</a> . </div><p>Source: <a href="https://habr.com/ru/post/404035/">https://habr.com/ru/post/404035/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../404023/index.html">‚ÄúGive Two!‚Äù Apple iPhone 7 and Samsung Galaxy S7 Replicas Review</a></li>
<li><a href="../404025/index.html">Waiting for the launch of the electric "Electron"</a></li>
<li><a href="../404029/index.html">Patents for the mp3 format have expired, but few have noticed</a></li>
<li><a href="../404031/index.html">Upgrading Google Maps through in-depth training and Street View</a></li>
<li><a href="../404033/index.html">Rostelecom calls on giving in Russian networks priority to the traffic of those telecom companies that paid for it</a></li>
<li><a href="../404037/index.html">Tesla workers in the US complain about working conditions</a></li>
<li><a href="../404039/index.html">William Coley - the founder of cancer immunotherapy</a></li>
<li><a href="../404043/index.html">Bitcoin cost exceeded $ 2000</a></li>
<li><a href="../404045/index.html">Xiaomi Electric Scooter through the eyes of the owner</a></li>
<li><a href="../404047/index.html">This is Science: 4 common vaccination myths and their roots</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>