<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Announcement Rust 1.9</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We are pleased to introduce the new version of Rust 1.9. Rust is a system programming language aimed at safe work with memory, speed and parallel code...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Announcement Rust 1.9</h1><div class="post__text post__text-html js-mediator-article"><p>  We are pleased to introduce the new version of Rust 1.9.  Rust is a system programming language aimed at safe work with memory, speed and parallel code execution. </p><br><p>  As usual, you can <a href="https://www.rust-lang.org/install.html">install Rust 1.9</a> from the corresponding page of the official site, and also get acquainted with the <a href="">detailed list of changes</a> in this version on GitHub.  This release included about 1400 patches. </p><br><h3>  What is included in the stable version 1.9 </h3><br><h4>  Managed Stack Unwind </h4><br><p> The biggest change in Rust 1.9 is the stabilization of the <code>std::panic</code> module, which provides methods for stopping the process of unwinding a stack triggered by panic: </p><a name="habracut"></a><br><pre> <code class="rust hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> std::panic; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> result = panic::catch_unwind(|| { <span class="hljs-built_in"><span class="hljs-built_in">println!</span></span>(<span class="hljs-string"><span class="hljs-string">"!"</span></span>); }); <span class="hljs-built_in"><span class="hljs-built_in">assert!</span></span>(result.is_ok()); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> result = panic::catch_unwind(|| { <span class="hljs-built_in"><span class="hljs-built_in">panic!</span></span>(<span class="hljs-string"><span class="hljs-string">" !"</span></span>); }); <span class="hljs-built_in"><span class="hljs-built_in">assert!</span></span>(result.is_err());</code> </pre> <br><p>  This interface was defined in <a href="https://github.com/rust-lang/rfcs/pull/1236">RFC 1236</a> . </p><br><p>  In general, Rust distinguishes between two types of error situations: </p><br><ul><li>  <em>Expected problem</em> , for example, the file was not found. </li><li>  <em>An unexpected problem</em> , for example, accessing an array out of bounds. </li></ul><br><p>  Expected problems usually occur due to circumstances that the program cannot control;  reliable code must be ready for any trouble arising in its environment.  Expected problems are handled in Rust using the <a href="http://static.rust-lang.org/doc/master/std/result/index.html"><code>Result</code> type</a> , which allows the function to return the problem information to the caller, and the caller can already handle the error.  This is a fairly accurate way to handle errors. </p><br><p>  Unexpected problems are <em>bugs</em> : they occur because of a breach of contract or assertion.  Since their occurrence is unexpected, there is not much point in accurately processing such errors.  Instead, Rust uses the "fail fast" approach ‚Äî such errors cause panic, which by default starts unwinding the stack of a thread that has encountered an error.  In this case, only destructors are executed - no other code is executed.  Other threads will continue to run, but they will find a panic when trying to exchange data with a panic stream (through channels or through shared memory).  Thus, panic interrupts execution, down to some kind of "isolation boundary".  The code on the other side of the border can continue to work, and if desired, restore the program from a state of panic, in a "rude" way.  For example, the server does not necessarily fall due to a failed assert in one of its threads. </p><br><p>  The new <code>catch_unwind</code> interface provides a way to introduce additional isolation boundaries <em>within the stream</em> .  There are a couple of examples where this is useful: </p><br><ul><li>  Embedding Rust into other languages </li><li>  Flow control abstractions </li></ul><br><p>  The first case was a potentially undefined behavior.  In practice, unwinding to another language often leads to segfault.  By allowing us to catch a panic, we simplify exporting a code to Rust as an API C - now we can catch a panic on the border of the transition to C and convert it into a return code. </p><br><p>  The second case is motivated by thread pool libraries.  If a thread in a pool is panicking, it‚Äôs usually not necessary to kill the thread itself.  Instead, you need to catch a panic and report it to the client pool.  The <code>catch_unwind</code> interface has a <code>resume_unwind</code> function <code>resume_unwind</code> , which can be used to restart the panic process on the client side of the pool, to which it belongs. </p><br><p>  In both cases, we introduce an additional isolation boundary within the stream, and then convert the panic into another kind of error. </p><br><p>  <code>catch_unwind</code> final note: why is <code>catch_unwind</code> , not <code>catch_panic</code> ?  <a href="https://github.com/rust-lang/rfcs/pull/1513">Work is underway</a> to add another strategy for panicking: interrupting the entire process (abort).  In this case, it is possible that a common <a href="https://github.com/rust-lang/rfcs/pull/1328">hook</a> will be executed.  For some applications, this is the most reasonable way to handle programming errors, and preventing stack unwinding can provide improved performance and smaller code size. </p><br><h4>  Obsolete interface warnings (deprecation warnings) </h4><br><p>  A new attribute has become available for authors of libraries: <code>#[deprecated]</code> .  This attribute allows you to mark an outdated interface, and library users will receive a warning when using it.  In this case, you can specify a new recommended replacement interface.  Obsolete interface warnings have long been used in the standard library, and now, thanks to <a href="">RFC 1270</a> , they can be used throughout the entire Rust ecosystem. </p><br><h4>  New compilation platforms </h4><br><p>  Now compiled standard libraries for several new platforms are published: </p><br><ul><li>  <code>mips-unknown-linux-musl</code> , </li><li>  <code>mipsel-unknown-linux-musl</code> , and </li><li>  <code>i586-pc-windows-msvc</code> . </li></ul><br><p>  The first two platforms are particularly interesting in terms of cross-compiling;  See the <a href="http://blog.rust-lang.org/2016/05/13/rustup.html">recent publication for <code>rustup</code> for <code>rustup</code></a> . </p><br><h4>  Compile acceleration </h4><br><p>  <a href="https://github.com/rust-lang/rust/pull/32062">The time complexity of checking variables for equivalence</a> during type unification is reduced from O (n!) To O (n).  As a result, some code samples are compiled much faster. </p><br><h4>  We roll out the use of specialization </h4><br><p>  In this release, <a href="https://github.com/rust-lang/rfcs/pull/1210">specialization is</a> first used in the standard library.  Currently specialization is only available at <a href="http://blog.rust-lang.org/2014/10/30/Stability.html">nightly</a> .  It allows you to specialize generic code for more specific types. </p><br><p>  One example where this happens in the standard library is the conversion from the string slice ( <code>&amp;str</code> ) to the owned string ( <code>String</code> ).  The <code>to_string</code> method is taken from a generic interface, which was previously slower than the special <code>to_owned</code> method.  Now these functions are <a href="https://github.com/rust-lang/rust/pull/32586">equivalent</a> . </p><br><p>  By implementing this simple case, we will proceed to other places where you can improve performance with the help of specialization. </p><br><h4>  Library stabilization </h4><br><p>  In 1.9 about 80 library functions are stabilized.  The most noticeable change is the <code>std::panic</code> module described earlier.  Besides him there are several other things. </p><br><p>  <strong>Work with network</strong> </p><br><ul><li>  <code>TcpStream</code> , <code>TcpListener</code> and <code>UdpSocket</code> have methods for configuring the connection. </li><li>  <code>SocketAddr</code> and its variants have gotten convenient <code>set_ip()</code> and <code>set_port()</code> methods. </li></ul><br><p>  <strong>Collections</strong> </p><br><ul><li>  <code>BTreeSet</code> and <code>HashSet</code> have got the methods <code>take()</code> , <code>replace()</code> , and <code>get()</code> , which allow you to get back ownership of the original key. </li><li>  <code>OsString</code> received several new methods and became more like a <code>String</code> . </li><li>  The slices received <code>copy_from_slice()</code> , a secure form of <code>memcpy</code> . </li></ul><br><p>  <strong>Encodings</strong> </p><br><ul><li>  <code>char</code> can now be decoded to UTF-16. </li></ul><br><p>  <strong>Pointers</strong> </p><br><ul><li>  Raw pointers received <code>as_ref()</code> and <code>as_mut()</code> , which return <code>Option&lt;&amp;T&gt;</code> , converting null pointers to <code>None</code> . </li><li>  <code>ptr::{read,write}_volatile()</code> allows volatile reading and writing on a raw pointer. </li></ul><br><p>  Finally, many types in <code>libcore</code> did not have the <code>Debug</code> type implementation.  This is <a href="https://github.com/rust-lang/rust/pull/32054">fixed</a> in release 1.9. </p><br><p>  <a href="">See here for more details</a> . </p><br><h4>  Cargo features </h4><br><p>  Cargo has two big changes. </p><br><p>  First, now several Cargo processes can work <a href="https://github.com/rust-lang/cargo/pull/2486">simultaneously</a> . </p><br><p>  Secondly, a new <a href="https://github.com/rust-lang/cargo/pull/2241">flag has been</a> added <a href="https://github.com/rust-lang/cargo/pull/2241">- <code>RUSTFLAGS</code></a> .  This flag allows you to specify arbitrary flags that will be passed to <code>rustc</code> through the environment.  This is useful, for example, for packers. </p><br><p>  <a href="">See here for more details</a> . </p><br><h3>  Developers version 1.9 </h3><br><p>  127 people participated in the release of version 1.9.  Thank you very much! </p><br><div class="spoiler">  <b class="spoiler_title">Developer List</b> <div class="spoiler_text"><ul><li>  Aaron turon </li><li>  Abhishek chanda </li><li>  Adolfo ochagav√≠a </li><li>  Aidan hobson sayers </li><li>  Alan somers </li><li>  Alejandro wainzinger </li><li>  Aleksey Kladov </li><li>  Alex Burka </li><li>  Alex Crichton </li><li>  Amanieu d'anthras </li><li>  Andrea Canciani </li><li>  Andreas Linz </li><li>  Andrew Cantino </li><li>  Andrew horton </li><li>  Andrew Paseltiner </li><li>  Andrey Cherkashin </li><li>  Angus lees </li><li>  Ariel Ben-Yehuda </li><li>  Benjamin herr </li><li>  Bj√∂rn steinbrink </li><li>  Brian anderson </li><li>  Brian bowman </li><li>  Christian wesselhoeft </li><li>  Christopher Serr </li><li>  Corey farwell </li><li>  Craig M. Brandenburg </li><li>  Cyryl P≈Çotnicki-Chudyk </li><li>  Daniel J Rollins </li><li>  Dave huseby </li><li>  David Ao Lozano </li><li>  David Henningsson </li><li>  Devon hollowood </li><li>  Dirk gadsden </li><li>  Doug goldstein </li><li>  Eduard burtescu </li><li>  Eduard-Mihai Burtescu </li><li>  Eli friedman </li><li>  Emanuel czirai </li><li>  Erick tryzelaar </li><li>  Evan </li><li>  Felix S. Klock II </li><li>  Florian berger </li><li>  Geoff catlin </li><li>  Guillaume gomez </li><li>  G√∂khan Karabulut </li><li>  JP Sugarbroad </li><li>  James miller </li><li>  Jeffrey seyfried </li><li>  John talling </li><li>  Jonas schievink </li><li>  Jonathan s </li><li>  Jorge aparicio </li><li>  Joshua holmer </li><li>  Kai noda </li><li>  Kamal Marhubi </li><li>  Katze </li><li>  Kevin brothaler </li><li>  Kevin butler </li><li>  Manish goregaokar </li><li>  Markus westerlind </li><li>  Marvin lobel </li><li>  Masood Malekghassemi </li><li>  Matt brubeck </li><li>  Michael Huynh </li><li>  Michael Neumann </li><li>  Michael Woerister </li><li>  Ms2ger </li><li>  NODA, Kai </li><li>  Nathan Kleyn </li><li>  Nick cameron </li><li>  Niko Matsakis </li><li>  Noah </li><li>  Novotnik, Petr </li><li>  Oliver middleton </li><li>  Oliver schneider </li><li>  Philipp Oppermann </li><li>  Piotr czarnecki </li><li>  Pyfisch </li><li>  Richo healey </li><li>  Ruud van Asseldonk </li><li>  Scott olson </li><li>  Sean McArthur </li><li>  Sebastian wicki </li><li>  Seo sanghyeon </li><li>  Simon sapin </li><li>  Simonas kazlauskas </li><li>  Steve klabnik </li><li>  Steven allen </li><li>  Steven fackler </li><li>  Stu black </li><li>  Sebastien marie </li><li>  Tang chenglong </li><li>  Ted horst </li><li>  Ticki </li><li>  Tim Montague </li><li>  Tim neumann </li><li>  Timon van overveldt </li><li>  Tobias bucher </li><li>  Tobias m√ºller </li><li>  Todd lucas </li><li>  Tom Tromey </li><li>  Tshepang Lekhonkhobe </li><li>  Ulrik sverdrup </li><li>  Vadim Petrochenkov </li><li>  Valentin lorentz </li><li>  Varun vats </li><li>  Wang xuerui </li><li>  Wangshan Lu </li><li>  York xiang </li><li>  arcnmx </li><li>  ashleysommer </li><li>  bors </li><li>  ggomez </li><li>  gohyda </li><li>  ituxbag </li><li>  mitaa </li><li>  nicholasf </li><li>  petevine </li><li>  pierzchalski </li><li>  pravic </li><li>  srinivasreddy </li><li>  tiehuis </li><li>  ubsan </li><li>  vagrant </li><li>  vegai </li><li>  vlastachu </li><li>  Valery Lashmanov </li></ul></div></div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/301994/">https://habr.com/ru/post/301994/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../301984/index.html">How to build a sales channel for startups. Part one, theoretical</a></li>
<li><a href="../301986/index.html">Dell Compellent Storage QoS</a></li>
<li><a href="../301988/index.html">May 28, Russia celebrates SEO Day</a></li>
<li><a href="../301990/index.html">Go profiling and optimization</a></li>
<li><a href="../301992/index.html">Chronic non-openers. How to return a client is not too late ...</a></li>
<li><a href="../301996/index.html">Automation with the help of a bot or how to make a useful decision from hysteria about robots</a></li>
<li><a href="../301998/index.html">Is it time to switch to Swift?</a></li>
<li><a href="../302000/index.html">Setting up Laravel relationships - counting comments (free translation)</a></li>
<li><a href="../302002/index.html">Push notifications to Android using Firebase Cloud Messaging for beginners</a></li>
<li><a href="../302006/index.html">New release candidate for CAD system Qucs-0.0.19S-RC6</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>