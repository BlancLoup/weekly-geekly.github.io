<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Introduction to Nashorn</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 Nashorn * is a JavaScript engine developed entirely in the Java programming language by Oracle. Based on Da Vinci Machine (JSR 292) and...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Introduction to Nashorn</h1><div class="post__text post__text-html js-mediator-article"><h4>  Introduction </h4><br><img align="left" src="https://habrastorage.org/storage3/8c5/9e2/a12/8c59e2a12282f67c3ba9bec58bf649ee.jpg" alt="image">  Nashorn <sup>*</sup> is a JavaScript engine developed entirely in the Java programming language by Oracle.  Based on <a href="http://en.wikipedia.org/wiki/Da_Vinci_Machine">Da Vinci Machine</a> (JSR 292) and will be available as part of Java 8 (which is expected to be released in March 2014).  It is worth noting that the execution of JavaScript (and <a href="http://en.wikipedia.org/wiki/JSR_223">support for scripts in general</a> ) was already in Java 6, but it used the <a href="http://ru.wikipedia.org/wiki/Rhino">Rhino</a> engine, also written in Java, but supported by the <a href="http://ru.wikipedia.org/wiki/Mozilla_Foundation">Mozilla Foundation</a> . <br><br>  On the list of innovations in Java 8 already <a href="http://habrahabr.ru/post/188850/">written earlier</a> .  This article will provide a couple of simple examples that will give you an idea of ‚Äã‚Äãusing Nashorn. <br><a name="habracut"></a><br><br><h4>  Application </h4><br>  Why do I need javascript in java?  For example: <br><ul><li>  Describe business logic in a simpler than Java language (involving domain specialists with basic programming skills) </li><li>  Provide a modular, extensible at the expense of plug-ins application architecture and integration into the application of previously existing scripts </li><li>  <a href="http://justmy2bits.com/2013/09/08/javafx-with-nashorn-canvas-example/">Use with Java FX</a> </li><li>  <a href="http://tech.kinja.com/a-simple-realtime-webapp-using-nashorn-scripting-1059181159">Use in web applications</a> in <a href="http_server_written_in_nashorn">various ways.</a> </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Examples of using </h4><br><h5>  Preparatory stage </h5><br>  Install <a href="https://jdk8.java.net/download.html">JDK 8 Early Access</a> .  Further, the text implies that the <code>javac</code> and <code>java</code> commands are executed for Java 8. <br><br><h5>  Hello, World! </h5><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.script.*; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EvalScript</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// create a script engine manager ScriptEngineManager factory = new ScriptEngineManager(); // create a Nashorn script engine ScriptEngine engine = factory.getEngineByName("nashorn"); // evaluate JavaScript statement try { engine.eval("print('Hello, World!');"); } catch (final ScriptException se) { se.printStackTrace(); } } }</span></span></code> </pre><br>  Compile the class: <br><pre> <code class="dos hljs">./javac EvalScript.java</code> </pre> <br>  And we execute it: <br><pre> <code class="dos hljs">./java EvalScript</code> </pre> <br>  We see the conclusion: <br><pre> <code class="dos hljs">Hello, World!</code> </pre> <br><h5>  Javascript + java </h5><br>  Nashorn allows <a href="http://download.java.net/jdk8/docs/technotes/guides/scripting/nashorn/api.html">you</a> to <a href="http://download.java.net/jdk8/docs/technotes/guides/scripting/nashorn/api.html">use Java classes</a> to create programs.  Consider the following example: <br><br><h6>  MyScript.js </h6><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> MyClass = Java.type(<span class="hljs-string"><span class="hljs-string">"EvalScript.MyClass"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> my = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyClass(); my.printMsg(<span class="hljs-string"><span class="hljs-string">"Hello!"</span></span>);</code> </pre><br><h6>  EvalScript.java </h6><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.script.*; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.*; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EvalScript</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// create a script engine manager ScriptEngineManager factory = new ScriptEngineManager(); // create a Nashorn script engine ScriptEngine engine = factory.getEngineByName("nashorn"); // evaluate JavaScript statement try { BufferedReader br = new BufferedReader(new InputStreamReader(System.in)); engine.eval(br); } catch (final ScriptException se) { se.printStackTrace(); } } public static class MyClass { public void printMsg(String msg) { System.out.println("printMsg : "+msg); } } }</span></span></code> </pre><br>  For example, I created my own inner class (which is not a limitation, I could have created a separate class), and called it from JavaScript code.  It remains to compile the class and run it by passing our js code to the input: <br><pre> <code class="dos hljs">./java EvalScript &lt; MyScript.js</code> </pre> <br>  We see the conclusion: <br><pre> <code class="dos hljs">printMsg : Hello!</code> </pre> <br><br><h4>  Conclusion </h4><br>  Decide for yourself how to use this feature.  I became interested when I had the need to introduce automation into an existing Java project, which could be configured not by the programmer, but by the application administrator, directly through the application interface (and this would not require recompilation of the application components). <br><br><h4>  Materials used: </h4><br><ul><li>  <a href="http://download.java.net/jdk8/docs/technotes/guides/scripting/nashorn/">http://download.java.net/jdk8/docs/technotes/guides/scripting/nashorn/</a> </li><li>  <a href="http://ru.wikipedia.org/wiki/Nashorn_%2528%25D0%25B4%25D0%25B2%25D0%25B8%25D0%25B6%25D0%25BE%25D0%25BA_JavaScript%2529">http://ru.wikipedia.org/wiki/Nashorn_ (Java Script Engine)</a> </li><li>  <a href="https://blogs.oracle.com/nashorn/">https://blogs.oracle.com/nashorn/</a> </li></ul><br><hr><br>  <sup>*</sup> Nashorn is the German word that translates into Russian as ‚Äúrhino‚Äù, and into English as ‚Äúrhinoceros‚Äù, which echoes <a href="http://ru.wikipedia.org/wiki/Rhino">Rhino</a> , the name of the JavaScript engine implemented in Java and supported by the Mozilla Foundation.  Rhino, in turn, was named after the animal depicted on the cover of a book on JavaScript published by O'Reilly Media. </div><p>Source: <a href="https://habr.com/ru/post/195870/">https://habr.com/ru/post/195870/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../195856/index.html">Team Meat Co-Founder on Steam Controller</a></li>
<li><a href="../195860/index.html">For video VKontakte - 5 days of administrative arrest</a></li>
<li><a href="../195862/index.html">Can we weave new electronics from the web covered with nanotubes?</a></li>
<li><a href="../195864/index.html">Hello World on Derby.js</a></li>
<li><a href="../195866/index.html">Caterham F1 Team & Dell @ Moscow City Racing 2013</a></li>
<li><a href="../195872/index.html">Google Play Music service is finally available in Russia</a></li>
<li><a href="../195874/index.html">Petrovich declines Russian names</a></li>
<li><a href="../195876/index.html">A tale of how the Dell PowerEdge server Hurricane Sandy survived</a></li>
<li><a href="../195878/index.html">New Brief: Samsung announces new pixel CMOS technology - ISOCELL</a></li>
<li><a href="../195880/index.html">Google has released an HTML5 editor for web design.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>