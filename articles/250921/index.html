<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Selenium for Python. Chapter 2. First Steps</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Continuation of the translation of the unofficial Selenium documentation for Python. 
 The translation was made with the permission of the author Baij...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Selenium for Python. Chapter 2. First Steps</h1><div class="post__text post__text-html js-mediator-article">  Continuation of the translation of the unofficial Selenium documentation for Python. <br>  The translation was made with the permission of the author Baiju Muthukadan. <br>  The original can be found <a href="http://selenium-python.readthedocs.org/index.html">here</a> . <br><br><h2>  Content: </h2><br>  1. <a href="https://habr.com/ru/post/248559/">Installation</a> <br>  2. First Steps <br>  3. <a href="https://habr.com/ru/post/250947/">Navigation</a> <br>  4. <a href="https://habr.com/ru/post/250975/">Search for Items</a> <br>  5. <a href="https://habr.com/ru/post/273089/">Expectations</a> <br>  6. Page <a href="https://habr.com/ru/post/273115/">Objects</a> <br>  7. WebDriver API <br>  8. Appendix: Frequently Asked Questions <br><a name="habracut"></a><br><h1>  2. First steps </h1><br><h2>  2.1.  Simple use </h2><br>  If you set a Selenium binding to Python, you can start using it with the Python interpreter. <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> selenium <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> webdriver <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> selenium.webdriver.common.keys <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Keys driver = webdriver.Firefox() driver.get(<span class="hljs-string"><span class="hljs-string">"http://www.python.org"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> <span class="hljs-string"><span class="hljs-string">"Python"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> driver.title elem = driver.find_element_by_name(<span class="hljs-string"><span class="hljs-string">"q"</span></span>) elem.send_keys(<span class="hljs-string"><span class="hljs-string">"pycon"</span></span>) elem.send_keys(Keys.RETURN) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> <span class="hljs-string"><span class="hljs-string">"No results found."</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> driver.page_source driver.close()</code> </pre> <br>  The code above can be saved to a file (for example, python_org_search.py), and run: <br><blockquote><pre>  python python_org_search.py </pre></blockquote>  The Python you are running must have the selenium module installed. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  2.2.  Step by Step Case Study </h2><br>  The module selenium.webdriver provides all the functionality of WebDriver.  At the moment, WebDriver supports implementations of Firefox, Chrome, Ie and Remote.  The Keys class provides interaction with keyboard commands such as RETURN, F1, ALT, etc ... <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> selenium <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> webdriver <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> selenium.webdriver.common.keys <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Keys</code> </pre><br>  Next, an element of the Firefox WebDriver class is created. <br><br><pre> <code class="python hljs">driver = webdriver.Firefox()</code> </pre><br>  The driver.get method redirects to the page the URL in the parameter.  WebDriver will wait until the page has completely loaded (that is, the ‚Äúonload‚Äù event is ignored) before transferring control to your test or script.  It is worth noting that if the page uses a lot of AJAX code when loading, then WebDriver may not recognize whether it has completely loaded: <br><br><pre> <code class="python hljs">driver.get(<span class="hljs-string"><span class="hljs-string">"http://www.python.org"</span></span>)</code> </pre><br>  The next line is a statement (assertion) that the header contains the word ‚ÄúPython‚Äù [assert allows you to check assumptions about the values ‚Äã‚Äãof arbitrary data in an arbitrary place in the program.  At its core, assert resembles a statement of fact located in the middle of the program code.  In cases where a pronounced statement is not true, assert throws an exception.  This behavior allows you to control the program in a strictly defined way.  The difference between assert and conditions is that a program with assert does not accept a different course of events, considering the further execution of a program or function to be meaningless.  lane]: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> <span class="hljs-string"><span class="hljs-string">"Python"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> driver.title</code> </pre><br>  WebDriver provides a number of ways to get items using the find_element_by_ * methods.  For example, an input text input element can be found by its name attribute using the find_element_by_name method.  A detailed description of the element search methods can be found in the chapter Searching Items: <br><br><pre> <code class="python hljs">elem = driver.find_element_by_name(<span class="hljs-string"><span class="hljs-string">"q"</span></span>)</code> </pre><br>  After that we send keystrokes (similar to keystroke input).  Special commands can be passed using the Keys class imported from selenium.webdriver.common.keys: <br><br><pre> <code class="python hljs">elem.send_keys(<span class="hljs-string"><span class="hljs-string">"pycon"</span></span>) elem.send_keys(Keys.RETURN)</code> </pre><br>  After the page is answered, you will get a result, if one is expected.  To make sure that we got any result, add a statement: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> <span class="hljs-string"><span class="hljs-string">"No results found."</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> driver.page_source</code> </pre><br>  Finally, the browser window closes.  You can also call the quit method instead of close.  The quit method closes the browser completely, while close closes one tab.  However, in the case when only one tab is open, by default most browsers close completely: <br><br><pre> <code class="python hljs">driver.close()</code> </pre><br><h2>  2.3.  Using Selenium to write tests </h2><br>  Selenium is most often used for writing test situations.  The selenium package itself does not provide any test utilities or development tools.  You can write tests using the unittest Python module.  Your other choice as test utilities / development tools can be py.test and nose. <br>  In this chapter, unittest will be used as the selected utility.  The following is a modified example using this module.  This script tests the search functionality on the python.org site: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> unittest <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> selenium <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> webdriver <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> selenium.webdriver.common.keys <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Keys <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PythonOrgSearch</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(unittest.TestCase)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.driver = webdriver.Firefox() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_search_in_python_org</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> driver = self.driver driver.get(<span class="hljs-string"><span class="hljs-string">"http://www.python.org"</span></span>) self.assertIn(<span class="hljs-string"><span class="hljs-string">"Python"</span></span>, driver.title) elem = driver.find_element_by_name(<span class="hljs-string"><span class="hljs-string">"q"</span></span>) elem.send_keys(<span class="hljs-string"><span class="hljs-string">"pycon"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> <span class="hljs-string"><span class="hljs-string">"No results found."</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> driver.page_source elem.send_keys(Keys.RETURN) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tearDown</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.driver.close() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">"__main__"</span></span>: unittest.main()</code> </pre><br>  You can run the test above from the command line with the following command: <br><blockquote><pre>  python test_python_org_search.py
 .
 -------------------------------------------------- --------------------
 Ran 1 test in 15.566s

 Ok </pre></blockquote>  The result above shows that the test completed successfully. <br><br><h2>  2.4.  Step by Step Case Study </h2><br>  First all the essential modules were imported.  The <a href="http://docs.python.org/library/unittest.html">unittest</a> module <a href="http://docs.python.org/library/unittest.html">is</a> built into Python and implemented on Java's JUnit.  This module provides a utility for organizing tests. <br><br>  The module selenium.webdriver provides all the functionality of WebDriver.  At the moment, WebDriver supports implementations of Firefox, Chrome, Ie and Remote.  The Keys class provides interaction with keyboard commands such as RETURN, F1, ALT, etc ... <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> unittest <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> selenium <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> webdriver <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> selenium.webdriver.common.keys <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Keys</code> </pre><br>  The test class is inherited from unittest.TestCase.  Inheriting the TestCase class is a way of telling the unittest module that it is a test: <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PythonOrgSearch</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(unittest.TestCase)</span></span></span><span class="hljs-class">:</span></span></code> </pre><br>  The setUp is part of the initialization; this method will be called before each test method that you are going to write inside the test class.  Here we create an element of the Firefox WebDriver class. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.driver = webdriver.Firefox()</code> </pre><br>  The following describes our test method.  The test method must always begin with the phrase test.  The first line of the method creates a local reference to the driver object created by the setUp method. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_search_in_python_org</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> driver = self.driver</code> </pre><br>  The driver.get method redirects to the page the URL in the parameter.  WebDriver will wait until the page has completely loaded (that is, the ‚Äúonload‚Äù event is ignored) before transferring control to your test or script.  It is worth noting that if the page uses a lot of AJAX code when loading, then WebDriver may not recognize whether it has completely loaded: <br><br><pre> <code class="python hljs">driver.get(<span class="hljs-string"><span class="hljs-string">"http://www.python.org"</span></span>)</code> </pre><br>  The next line is the statement that the header contains the word ‚ÄúPython‚Äù: <br><br><pre> <code class="python hljs">self.assertIn(<span class="hljs-string"><span class="hljs-string">"Python"</span></span>, driver.title)</code> </pre><br>  WebDriver provides a number of ways to get items using the find_element_by_ * methods.  For example, an input text input element can be found by its name attribute using the find_element_by_name method.  A detailed description of the element search methods can be found in the chapter Searching Items: <br><br><pre> <code class="python hljs">elem = driver.find_element_by_name(<span class="hljs-string"><span class="hljs-string">"q"</span></span>)</code> </pre><br>  After that we send keystrokes (similar to keystroke input).  Special commands can be passed using the Keys class imported from selenium.webdriver.common.keys: <br><br><pre> <code class="python hljs">elem.send_keys(<span class="hljs-string"><span class="hljs-string">"pycon"</span></span>) elem.send_keys(Keys.RETURN)</code> </pre><br>  After the page is answered, you will get a result, if one is expected.  To make sure that we got any result, add a statement: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> <span class="hljs-string"><span class="hljs-string">"No results found."</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> driver.page_source</code> </pre><br>  The tearDown method will be called after each test method.  This is a method for cleansing actions.  The current method implements closing the browser window.  You can also call the quit method instead of close.  The quit method closes the browser completely, while close closes one tab.  However, in the case when only one tab is open, by default most browsers close completely: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tearDown</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.driver.close()</code> </pre><br>  The final code is the standard code insertion for running the test suite [Comparing __name__ with "__main__" means that the module (program file) is launched as a separate program ("main" (English) - "main", "main") (and not imported from another module).  If you import a module, the module attribute __name__ will be equal to the file name without a directory and extension - Approx.  lane]: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">"__main__"</span></span>: unittest.main()</code> </pre><br><h2>  2.5.  Using Selenium with remote WebDriver </h2><br>  To use remote WebDriver (remote web driver) you need to run a Selenium server.  To start the server use the command: <br><blockquote><pre>  java -jar selenium-server-standalone-2.xxjar </pre></blockquote>  While the Selenium server is running, you can see messages like this: <br><blockquote><pre>  15: 43: 07.541 INFO - RemoteWebDriver instances should connect to: http://127.0.0.1:4444/wd/hub </pre></blockquote>  The line above indicates that you can use the specified URL to connect remote WebDriver.  The following are some examples: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> selenium.webdriver.common.desired_capabilities <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> DesiredCapabilities driver = webdriver.Remote( command_executor=<span class="hljs-string"><span class="hljs-string">'http://127.0.0.1:4444/wd/hub'</span></span>, desired_capabilities=DesiredCapabilities.CHROME) driver = webdriver.Remote( command_executor=<span class="hljs-string"><span class="hljs-string">'http://127.0.0.1:4444/wd/hub'</span></span>, desired_capabilities=DesiredCapabilities.OPERA) driver = webdriver.Remote( command_executor=<span class="hljs-string"><span class="hljs-string">'http://127.0.0.1:4444/wd/hub'</span></span>, desired_capabilities=DesiredCapabilities.HTMLUNITWITHJS)</code> </pre><br>  The variable desired_capabilities is a dictionary.  Instead of using default dictionaries, you can explicitly set values: <br><br><pre> <code class="python hljs">driver = webdriver.Remote( command_executor=<span class="hljs-string"><span class="hljs-string">'http://127.0.0.1:4444/wd/hub'</span></span>, desired_capabilities={<span class="hljs-string"><span class="hljs-string">'browserName'</span></span>: <span class="hljs-string"><span class="hljs-string">'htmlunit'</span></span>, <span class="hljs-string"><span class="hljs-string">'version'</span></span>: <span class="hljs-string"><span class="hljs-string">'2'</span></span>, <span class="hljs-string"><span class="hljs-string">'javascriptEnabled'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>})</code> </pre><br>  <a href="https://habr.com/ru/post/250947/">Go to the next chapter.</a> </div><p>Source: <a href="https://habr.com/ru/post/250921/">https://habr.com/ru/post/250921/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../250907/index.html">Custom login button on the Twitter SDK (Fabric kit)</a></li>
<li><a href="../250911/index.html">New Journal "Mathematical Modeling and Numerical Methods"</a></li>
<li><a href="../250913/index.html">Data Management with the OData Protocol</a></li>
<li><a href="../250915/index.html">Wassenaar agreement will limit the indiscriminate sale of exploits</a></li>
<li><a href="../250917/index.html">Implementing a single source DITA technology in a software development company</a></li>
<li><a href="../250927/index.html">Payment to a Yandex.Money account with a VISA / MasterCard card or how to block an arbitrary wallet</a></li>
<li><a href="../250929/index.html">Running two or more MySQL instances on the same Linux server</a></li>
<li><a href="../250931/index.html">Moving to HTTPS on Nginx: cheat sheet</a></li>
<li><a href="../250933/index.html">Supercomputer in NArFU: the development of the Arctic by numerical methods</a></li>
<li><a href="../250935/index.html">Analysis of audio analysis algorithms</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>