<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How sound is created for another reality</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We continue the cycle of articles on Windows Mixed Reality and develop from scratch the application with mixed reality on Unity in lab work format (la...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How sound is created for another reality</h1><div class="post__text post__text-html js-mediator-article">  We continue the cycle of articles on Windows Mixed Reality and develop from scratch the application with mixed reality on Unity in lab work format (lab work).  You can, in parallel with the publication of articles, create such an application.  Today we will talk about spatial sound and how to create the feeling of being in another reality. <br><br><img src="https://habrastorage.org/webt/ke/kg/b_/kekgb_00qolqefovcn5ceg6qhca.jpeg"><a name="habracut"></a><br><br><blockquote>  The entire manual will consist of 5 parts.  It will be updated every week.  Below you can go to the part you need. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Part 1:</b> <a href="https://habr.com/company/microsoft/blog/418655/">Export a UWP for Windows Mixed Reality application from Unity</a> ; <br>  <b>Part 2:</b> <a href="https://habr.com/company/microsoft/blog/418657/">Setting up the environment (VR)</a> ; <br>  <b>Part 3:</b> <a href="https://habr.com/company/microsoft/blog/418661/">Controllers</a> ; <br>  <b>Part 4:</b> <a href="https://habr.com/company/microsoft/blog/418663/">Spatial sound</a> ; <br>  <b>Part 5:</b> <a href="https://habr.com/company/microsoft/blog/418665/">HoloLens and graphics</a> . </blockquote><br><h2>  Spatial sound </h2><br>  The speaker is ready, now we try to start and stop the reproduction of spatial sound.  In this section, we will add a sound source and sound playback controls. <br><br>  Since some of the tasks that confront us are similar to those performed earlier, we will provide instructions in the form of lists in order to speed up the process. <br><br>  Verify your actions with screenshots that are at the end of each major stage, and for additional reference materials, see the links in the instructions. <br><br><h4>  Add sound source </h4><br>  To play sound from the speaker, you need to add the Unity <a href="https://docs.unity3d.com/ScriptReference/AudioSource.html">AudioSource</a> component (Sound Source) to it. <br><br><ol><li>  Select the Speaker object on the stage and click Add Component -&gt; Audio -&gt; Audio Source (Add Component -&gt; Sound -&gt; Sound Source). </li><li>  Click the small sight icon to the right of the Audio Clip property of the Audio Source component and select Chill Blue Lagoon. </li><li>  Uncheck the Play On Awake checkbox, as we will control the playback using the buttons.  We will change the settings for spatial sound support later. </li></ol><br><img src="https://habrastorage.org/webt/cn/zx/ip/cnzxipbc1kkhvgn1o8nae7qag4o.png"><br><br><h4>  Adding playback controls to the speaker </h4><br>  To add a play button to the speaker, follow these steps: <br><br>  1. On the Project panel, find the CircleButton prefab in the Assets folder -&gt; HoloToolkit -&gt; UX -&gt; Prefabs -&gt; Buttons (Resources -&gt; HoloToolkit -&gt; UX -&gt; Prefabs -&gt; Buttons) and drag it to the Hierarchy panel (Hierarchy) by adding this prefab to the scene as a child of the Speaker object. <br><br>  2. Give the added button the name PlayButton. <br><br><img src="https://habrastorage.org/webt/ok/hf/nj/okhfnjeigy1qyag3lhgnvorqtvy.png"><br><br>  3. Increase the size of the PlayButton object by setting its Transform Scale property to (90, 90, 90). <br><br>  4. After selecting the PlayButton object, click Add Component -&gt; Event -&gt; Event Trigger (Add Component -&gt; Event -&gt; Event Trigger). <br><br>  5. Click Add New Event Type -&gt; Pointer Click (Add New Event Type -&gt; Pointer Click). <br><br>  6. Click the "+" button at the bottom of the empty event list. <br><br>  7. Drag the Speaker object from the Hierarchy panel onto the field to reset the events labeled None (Object). <br><br>  8. In the No Function drop-down list, select AudioSource-&gt; Play (). <br><br><img src="https://habrastorage.org/webt/nk/kp/bs/nkkpbsy1nyvw0hmehubsopb743w.png"><br><br>  To add a pause button to the speaker, follow these steps: <br><br>  1. Duplicate the PlayButton object by pressing the Ctrl + D keys or right-clicking a resource in the Hierarchy panel and selecting Duplicate, and then rename it to PauseButton. <br><br>  2. Set the PauseButton object's Event Trigger function to AudioSource-&gt; Pause (). <br><br><img src="https://habrastorage.org/webt/qb/51/jp/qb51jp8q68yhqt_rrmhd9bt-wow.png"><br><br>  Now these buttons should work, but they are difficult to use as they overlap each other.  Another problem is that the user does not see them when the speaker is turned away.  To solve this problem, do the following: <br><br>  1. For the Transform Position property of the PlayButton object, set the values ‚Äã‚Äã(-6, 18, 0). <br><br>  2. For the Transform Position property of the PauseButton object, set the values ‚Äã‚Äã(6, 18, 0). <br><br>  3. In the Hierarchy panel, right-click the Speaker object and select Create Empty to create an empty child object.  Rename the added GameObject to ButtonBillboard.  To rename an object, right-click the object and select Rename. <br><br>  4. Drag both buttons onto the ButtonBillboard object, making them child objects of this object. <br><br>  5. With the ButtonBillboard object selected in the Inspector panel, click Add Component -&gt; Billboard (Add component -&gt; Billboard).  The Billboard component can be found using the search bar.  The Billboard script from the Mixed Reality Toolkit toolkit makes an object constantly facing the camera and is often used for user interface elements. <br><br>  6. You need to get the following structure for a billboard: <br><br><img src="https://habrastorage.org/webt/di/ss/mp/dissmpodb2t3kjsvyzoqbbetgwq.png"><br><br>  To make the play and pause buttons easier to distinguish, you can replace their standard icons with others.  This can be done in several ways, but we will use the simplest, given the size of our project. <br><br>  1. After selecting the PlayButton object, scroll the Inspector panel to the Compound Button Icon component. <br><br>  2. Select the Override Icon checkbox. <br><br>  3. Drag the Start sprite from the Assets-&gt; Textures folder to the Icon Override property of the Compound Button Icon component. <br><br>  4. Repeat these steps for the PauseButton object using the Pause sprite. <br><br><img src="https://habrastorage.org/webt/qr/jv/b7/qrjvb7jcqgghi6fwjphmrfpozas.png"><br><br><h4>  Adding spatial sound </h4><br>  Now we have a speaker that can be turned on, off and moved around the virtual living room.  However, we do not have a spatial sound that would enhance the effect of presence in our application. <br><br>  In Unity, spatial sound is implemented using a spatial sound plug-in (Spatializer).  The plug-in files are part of Unity, so it‚Äôs easy to implement spatial sound. <br><br>  1. Go to Edit -&gt; Project Settings -&gt; Audio (Edit -&gt; Project Settings -&gt; Sound). <br><br>  2. For the Spatializer Plugin parameter, change the value from None to MS HRTF Spatializer. <br><br>  Since Microsoft's spatial audio system currently only supports a sampling frequency of 48,000 Hz, the System Sample Rate parameter should also be set to 48,000 (if not already done) to prevent the HRTF module from crashing. <br><br><img src="https://habrastorage.org/webt/n2/7q/yn/n27qynrk3pzwurymeq1osjzq9gw.png"><br><br>  Now you need to make settings for the sound clip itself. <br><br>  1. In the Hierarchy panel, select the Speaker object. <br><br>  2. Scroll the Inspector panel to the Audio Source component and select the Spatialize option. <br><br>  3. For the Spatial Blend parameter, select the 3D value (numerical value is 1). <br><br>  4. Expand the 3D Sound Settings menu. <br><br>  5. To set the optimal three-dimensional sound settings for our application, set the Logarithmic Rolloff value for the Volume Rolloff parameter and set the Min Distance parameter to 3. <br><br>  6. With the Speaker object selected, click Add Component -&gt; Audio Emitter (Add Component -&gt; Sound Emitter).  This is a class from the Mixed Reality Toolkit, which uses the connected AudioSource component and the Unity sound filter subgroup to apply and control sound effects, such as absorption. <br><br><img src="https://habrastorage.org/webt/uh/ig/ee/uhigeemafxooal5ujxngtiewgri.png"><br><br><h4>  Save and Run </h4><br>  Now our speaker is completely ready.  Let's turn it into a prefab. <br><br>  1. Drag the Speaker object into the Assets -&gt; Prefabs folder (Resources -&gt; Prefabs) to turn it into a prefab. <br><br>  By turning the speaker into a prefab, we will make an object of it that can be reused.  After that we will be able to create any number of instances of the speaker for our scene or other scenes of this project. <br><br>  Now let's save the scene (by pressing Ctrl + S) and run it to see the results of our work. <br><br>  Now we can do a lot of interesting things: <br><br><ul><li>  play and stop sound; </li><li>  move the speaker closer to you, noting that the sound is getting louder and clearer; </li><li>  move the speaker away from you, noting that the volume of the sound is decreasing. </li></ul><br>  Do not forget that you can teleport yourself to different points in the room by pressing the "Forward" button on the jumpstick and selecting the point on the floor that you want to go to.  In this way, you can move further away from the speaker. <br><br>  <a href="https://docs.microsoft.com/en-us/labs/insiderdevtour2018/mixedreality/">Original</a> <br>  Authors: Eric Ahlstrom, cbarkerms, Madison Hight </div><p>Source: <a href="https://habr.com/ru/post/418663/">https://habr.com/ru/post/418663/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../418653/index.html">Is WebAssembly returning Java and Flash applets?</a></li>
<li><a href="../418655/index.html">Windows Mixed Reality: Developer Guide (Part 1)</a></li>
<li><a href="../418657/index.html">Available mixed reality: how to create a virtual space</a></li>
<li><a href="../418659/index.html">Discover Quantum Programming with Quantum Katas</a></li>
<li><a href="../418661/index.html">Development of mixed reality: did you put the speaker in the virtual living room?</a></li>
<li><a href="../418665/index.html">Adaptation of the project MR under HoloLens</a></li>
<li><a href="../418667/index.html">Benchmarking HDFS 3 with HDFS 2</a></li>
<li><a href="../418669/index.html">Security Week 28: NetSpectre, attack on third-party channels through a network</a></li>
<li><a href="../418673/index.html">Why the ERP market is growing: statistics and trends</a></li>
<li><a href="../418675/index.html">How I went to Droidcon Berlin</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>