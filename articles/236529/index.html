<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>News DerbyJS 09.2014</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article describes the latest Derby-related events. I will also share my thoughts and useful links. 

 Lever 
 Lever - the company that created De...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>News DerbyJS 09.2014</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/5d6/ec8/a47/5d6ec8a47f6b4be892ca9f398f2b414f.png" align="left"><br><br>  This article describes the latest Derby-related events.  I will also share my thoughts and useful links. <br><a name="habracut"></a><br><h2>  Lever </h2><br>  <a href="http://lever.co/">Lever</a> - the company that created Derby, passed the next (second, second, third?) Round of investment and secured a stable existence for at least the next two years.  With what we congratulate them. <br>  Also, after Derby 0.6 was released, Lever makes some efforts to promote the framework: <br><ul><li>  Every Thursday at 9 am PST (8 pm Moscow time) video conferences are held.  Announcements and links to google hangout catch in <a href="https://groups.google.com/forum/">google groups mailing list</a> (called Office Hours).  We asked to spend at such a time, because there are a lot of Russians.  Usually conferences are led by <a href="https://github.com/enjalot">Ian</a> (Lever developer), you can often see <a href="https://github.com/nateps">Nate</a> (CEO Lever, creator of Derby) and <a href="https://github.com/josephg">Joseph</a> (creator of ShareJS).  Stupid and smart questions are asked, concepts and plans are discussed, everyone shares their thoughts and experiences.  Join now.  Records of past video conferences with a brief description of the main topics can be found <a href="https://blog.lever.co/">on the Lever blog</a> . </li><li>  updated <a href="http://derbyjs.com/">website</a> design.  Now there is a solid FAQ (including Russian) and links to useful resources.  The only thing missing is (and this is the main problem at the moment) - documentation for 0.6.  Workaround: <a href="http://derbyjs.com/0.5/model">Documentation 0.5 is</a> relevant for Racer, and the <a href="https://habrahabr.ru/users/zag2art/" class="user_link">zag2art</a> series of articles (starting with <a href="http://habrahabr.ru/post/221027/">this one</a> ) will cover a significant portion of the documentation for Derby 0.6. </li><li>  participation in conferences: Joseph was on <a href="http://forwardjs.com/2014/speakers/">ForwardJS</a> (unfortunately did not find the video).  Initially, Nate had to go and talk about the subtleties and problems of Agnostic Rendering (a template engine that works on both the client and the server), but for some reason could not, I hope to hear this report.  Ian was at a <a href="https://blog.lever.co/building-lever-with-derbyjs-components/">JS meeting</a> in San Francisco. </li></ul><br><br><h2>  Github </h2><br>  Derby moved to a new <a href="https://github.com/derbyjs">group</a> .  This is due to the fact that much rubbish has accumulated in the old one and the name Codeparty did not reflect the essence. <br>  The active part of the community has created its own <a href="https://github.com/derbyparty">group</a> , where modules are being sawn slowly. <br>  Lever also spreads his <a href="https://github.com/lever">work</a> .  You should also pay attention to the developments of the company <a href="https://github.com/dmapper">Decision Mapper</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Community </h2><br>  The community is slowly but surely arriving.  Often the path looks like this: client framework (AngularJS, Ember, etc.) -&gt; <a href="https://www.meteor.com/">Meteor</a> -&gt; Derby.  Meteor helps to penetrate the concepts of realtime, full-stack, database on the client, isomorphism, and so on, but does not satisfy everyone due to various reasons.  In general, <a href="https://blog.lever.co/open-source-office-hours-718/">here</a> Nate very interestingly told about the main frameworks. <br>  Recently created a chat on <a href="https://gitter.im/derbyjs/derby">gitter</a> . <br><br><h2>  Ideas </h2><br>  There are a few thoughts on what can be added or changed in Derby: <br><br><h5>  Use <a href="https://foundationdb.com/">FoundationDB</a> as a repository. </h5><br>  In the current implementation of <a href="https://github.com/share/livedb">livedb,</a> document change events are caught by the Redis pub-sub (for one node of the process, it is possible without Redis).  And this part of the functionality is built-in.  To store the log of operations (oplog) and current versions of documents (snapshots) an external driver is used, which can be written, in general, for any database, for example, for <a href="https://github.com/share/livedb-mongo">Mongo</a> . <br><br>  Problems in the current implementation: <br>  - the use of two DB, instead of one. <br>  - the use of sequential execution of single-threaded Lua scripts as an alternative to transactions, leads to the fact that Redis potentially becomes a bottleneck (although so far no one has encountered this).  Also, theoretically, with high collaboration (many clients served by different node processes change one document), Redis will need significantly more than one attempt to apply an operation to data, since the current version of the data will vary from other node processes, which can affect performance (no one has yet had any problems here either). <br>  - for cases when the client is subscribed to a sorted query to the collection (Query), there is no possibility of cheaply understanding how changing the next document will affect its position in the given query.  At the moment, this is done in a rather clumsy way: the request is applied to the collection, all documents for this request are retrieved, the difference is calculated and sent to the client (for applications with a large number of such requests, this causes performance problems).  In this case, the problem could be solved with the help of events to change the index in the database.  Unfortunately, there is no DB with events to change the index (if you know, share it).  Perhaps it is not so difficult to add to most of the database, but there was never a need (as an option, you can ask to add it to Mongu). <br><br>  FoundationDB has a Pub-Sub and can replace both Redis and Mongo.  The presence of embedded transactions will simplify the logic of the application operations. <br>  Also on top of FoundationDB you can write your Document Model layer, for example <a href="https://github.com/OptimalBits/fowl">fowl</a> , in which you can implement events on index changes.  Such an adapter will solve the problem of sorted queries. <br><br>  Cons FoundationDB - closed source, not free. <br><br>  Joseph has already <a href="https://github.com/josephg/livedb-foundation">livedb-foundation</a> .  The case for the adapter. <br><br><h5>  Client cache </h5><br>  The idea of ‚Äã‚ÄãOffline web applications implies that the client stores data downloaded from the server, even when the application is not running.  And uses this cache if you can not connect to the server.  The client also stores changes to the data and, when connected to the server, synchronizes the data in the client cache with the data in the database, while conflict situations are resolved.  Ideally, the user should be able to open the application without connecting to the Internet, work in it, close it and be sure that the next time he opens the application and has access to the Internet, all the results of his work will go to the server. <br><br>  Derby / ShareJS seems like a good platform for this.  All you need to synchronize the data in the model with IndexedDB, teach Derby to look for data in the client cache first, and then (if the server is available) request the difference from it (new versions).  You also need to store operations in IndexedDB when offline, and send them to the server when a connection appears. <br><br><h5>  Access-control </h5><br>  The first access-control module - <a href="https://github.com/codeparty/racer-access">racer-access</a> has vulnerabilities with access to queries and is currently not recommended for use.  At the moment, it is recommended to perform access control at the ShareJS level <a href="https://gist.github.com/nateps/02d0b0293880905476bd">manually</a> or using the <a href="https://github.com/dmapper/share-access">share-access</a> module. <br><br>  There is an idea to combine the validation module and access-control, adding to the <a href="https://github.com/derbyparty/racer-schema">racer-schema schema a</a> similarity to <a href="https://www.firebase.com/docs/security/guide.html">Firebase Security</a> . <br><br><h5>  Afterword </h5><br>  Anyone who has questions on Derby / Racer / ShareJS, write me on Skype vmakhaev. <br>  Do not miss the Open Hours in less than an hour.  Good luck! </div><p>Source: <a href="https://habr.com/ru/post/236529/">https://habr.com/ru/post/236529/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../236511/index.html">Introduction to the Content Delivery Network</a></li>
<li><a href="../236513/index.html">Conversion optimization: where is the best place to place a call to action? [case]</a></li>
<li><a href="../236515/index.html">About blocking the Yota mobile application by MTS</a></li>
<li><a href="../236519/index.html">Convenient downloading from Books.ru or attaching to WWW :: Mechanize</a></li>
<li><a href="../236523/index.html">Disadvantages of RDBMS or RDBMS vs NoSQL</a></li>
<li><a href="../236531/index.html">What is ‚ÄúDark web‚Äù?</a></li>
<li><a href="../236533/index.html">ASUS Gladius - review of the game mouse from the Republic Of Gamers series</a></li>
<li><a href="../236535/index.html">Sys.adminstvo as leisure or "Son, make already at home wi-fi"</a></li>
<li><a href="../236537/index.html">How ApplePay was created - the revolutionary mobile payment system</a></li>
<li><a href="../236543/index.html">Gaming Notebook ASUS G550JK Review</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>