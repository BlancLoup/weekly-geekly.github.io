<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We create a game for the smallest on Phaser in Intel XDK</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kids love modern technology. I‚Äôm sure you‚Äôve all watched, either on your own or on video , how the kids use smartphones and tablets. These children ar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We create a game for the smallest on Phaser in Intel XDK</h1><div class="post__text post__text-html js-mediator-article">  Kids love modern technology.  I‚Äôm sure you‚Äôve all watched, either on your own or on <a href="https://www.youtube.com/watch%3Fv%3DMGMsT4qNA-c">video</a> , how the kids use smartphones and tablets.  These children are aptly called the ‚Äú <a href="http://www.wired.com/2014/06/generation-moth/">moth generation</a> ‚Äù.  They "flock" to the light displays of mobile devices like butterflies in the night.  Many kids play games are very easy to create.  But even such simple applications can grow into serious projects. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/765/a67/c99/765a67c99d994f89b91a6ce05c11ddb8.jpg"></div><br><a name="habracut"></a><br><h2>  <font color="#0071c5">Phaser</font> </h2><br>  In this guide, I'm going to talk about how to make a slider game about animals and birds that live on a farm, using the <a href="http://phaser.io/">Phaser</a> HTML5 library.  The source of inspiration for this project was the game for Android <a href="https://play.google.com/store/apps/details%3Fid%3Dair.fisherprice.com.animalsounds%26hl%3Den">Animal Sounds for Baby</a> from the company Fisher-Price. <br>  Phaser is a free, interesting and easy-to-use HTML5 framework for developing 2D games.  It was created by Richard Davey (Richard Davey), around Phaser formed a wonderful community of developers.  Usually they chat on the <a href="http://www.html5gamedevs.com/">HTML5 Game Devs forums</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3c6/095/bf5/3c6095bf598d140d1299feb191ac3dc5.png"></div><br>  <i><font color="#999999">Game screen</font></i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  <font color="#0071c5">Code and game resources</font> </h2><br>  You can download the code and resources of the project, which we will be developing here, <a href="">from here</a> .  And here is the <a href="https://github.com/fariazz/farm-animals">GitHub repository</a> . <br><br>  It should be noted that the graphics for the game was created by my company, <a href="https://zenva.com/">Zenva</a> .  You can use images for commercial and non-commercial projects, no attribution is required (although if you make the next hit like Candy Crash out of all of this, please buy me a big mansion). <br><br><h2>  <font color="#0071c5">Project Background and Prerequisites</font> </h2><br>  In this guide, we will create a cross-platform game for kids using the Phaser.  Also consider the export of applications for the Android platform using Apache Cordova and <a href="https://software.intel.com/en-us/intel-xdk">Intel XDK</a> . <br><br>  It is assumed that you, starting reading, have the basic skills of developing in JavaScript.  If this is not the case, then first it is advisable to understand the basics of JS.  You can, for example, take my <a href="https://academy.zenva.com/product/programming-for-entrepreneurs-javascript/%3Fzva_src%3Didd-farmanimals">JavaScript course</a> at <a href="https://academy.zenva.com/%3Fzva_src%3Didd-farmanimals">Zenva Academy</a> and quickly get the necessary knowledge. <br><br>  In order to master this manual, no experience with Phaser, Cordova, Android is required.  The same goes for game development knowledge. <br><br>  Games based on Phaser cannot be started simply by opening the Index.html file in a browser.  For their normal operation, you need a web server.  Phaser games, if you do not use the Cordova API in them, can be run using regular local web servers.  For example, WAMP for Windows, MAMP on Mac.  You can use a simple HTTP server in Python or the http-server package for Node.js. <br><br>  In addition, some development environments, such as <a href="https://software.intel.com/en-us/intel-xdk">Intel XDK</a> and <a href="http://brackets.io/">Brackets</a> editor, come with an embedded web server, so you don‚Äôt need to install a separate server using these tools. <br><br><h2>  <font color="#0071c5">Hello World!</font> </h2><br>  The basis of the considered Phaser-project is presented in the form of an Index.html file, to which the Phaser library and the script are connected, which will contain the game code.  This is what the Index.html file looks like. <br><br><pre><code class="hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"utf-8"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"viewport"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Learn Game Development at ZENVA.com<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"js/phaser.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">body</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">padding</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">0px</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">margin</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">0px</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">background</span></span></span><span class="css">: black; } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--     --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"js/main.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Here is the code for the main.js file.  Here, for the time being, only billet methods. <br><br><pre> <code class="hljs lua">//         var GameState = { //   init: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { }, //      <span class="hljs-built_in"><span class="hljs-built_in">preload</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { }, //    ,      <span class="hljs-built_in"><span class="hljs-built_in">create</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { }, //       update: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { } }; // Phaser var game = new Phaser.Game(<span class="hljs-number"><span class="hljs-number">640</span></span>, <span class="hljs-number"><span class="hljs-number">360</span></span>, Phaser.AUTO); //     game.state.add(<span class="hljs-string"><span class="hljs-string">'GameState'</span></span>, GameState); //  game.state.start(<span class="hljs-string"><span class="hljs-string">'GameState'</span></span>);</code> </pre> <br>  If you are using the latest version of Intel XDK, you can generate a start-up project using the Phaser pattern.  To do this, on the Projects tab, execute the Start a new project command, expand the Templates group, select Games, select Phaser from the list of templates.  What we start working with looks a little different than in the Intel XDK, but this does not change the essence of what is happening. <br><br>  If you load Index.html in a browser using a local web server (we talked about this above), and open the browser console, you can see information about the successful initialization of Phaser. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2b7/3db/451/2b73db45193d683cb47863eb0a7a424f.png"></div><br>  <i><font color="#999999">Successful Phaser Initialization</font></i> <br><br><h2>  <font color="#0071c5">Sprites</font> </h2><br>  Images, or, as they are called in the gaming industry, "sprites" - this is the daily bread of 2D games.  Phaser uses sprites to display the background, the characters of the game, and almost all of the game graphics.  Consider a few examples of working with sprites. <br><br><h2>  <font color="#0071c5">Texture preloading</font> </h2><br>  Before you bring the sprite to the screen, you need to download the image file that is associated with this sprite.  Downloading a file from the disk takes some time, but loading an image from the device‚Äôs RAM is almost instantaneous.  Preloading game resources is loading everything you need from the disk and placing it in RAM.  As a result, when an image or something else is needed, it can be displayed on the screen, or, in the case of a sound, reproduced in no time. <br><br>  Noticed how sometimes web pages are not fully loaded, but so that you can see the text and only some images?  This is due to the fact that the images, before they become visible, must be downloaded from the server.  This is normal for websites, everyone is used to it, but in games like this is simply unacceptable!  Imagine your favorite game with a black rectangle instead of a character whose image did not have time to load. <br><br>  Therefore, let's start with the preloading of images and other game resources, such as sounds, in the preload () method of the GameState object.  Here is what it looks like. <br><br><pre> <code class="hljs lua"><span class="hljs-built_in"><span class="hljs-built_in">preload</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { this.<span class="hljs-built_in"><span class="hljs-built_in">load</span></span>.image(<span class="hljs-string"><span class="hljs-string">'background'</span></span>, <span class="hljs-string"><span class="hljs-string">'assets/images/background.png'</span></span>); this.<span class="hljs-built_in"><span class="hljs-built_in">load</span></span>.image(<span class="hljs-string"><span class="hljs-string">'chicken'</span></span>, <span class="hljs-string"><span class="hljs-string">'assets/images/chicken.png'</span></span>); }</code> </pre> <br>  The this.load command calls an object called the Loader, initialized with the Phaser engine.  This object is equipped with various methods for loading game resources of different types.  See the <a href="http://phaser.io/docs/2.4.6/Phaser.Loader.html">documentation for</a> details.  The first parameter is the key (key) of the resource.  The key can be any, the main thing is not to set the same key to different resources.  The keys will be used in the game code in order to access specific resources. <br><br><h2>  <font color="#0071c5">Sprite output to screen</font> </h2><br>  In order to display sprites on the screen, you need to add the corresponding code to the create () method of the GameState object.  This method is executed once after all the necessary game resources are loaded. <br><br><pre> <code class="hljs pgsql">//    ,      <span class="hljs-keyword"><span class="hljs-keyword">create</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>() { this.background = this.game.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>.sprite(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'background'</span></span>); this.chicken = this.game.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>.sprite(<span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-string"><span class="hljs-string">'chicken'</span></span>); },</code> </pre> <br>  Sprites on the screen are located in given coordinates, determined by the values ‚Äã‚Äãof X and Y. The coordinate system begins in the upper left corner of the game world.  Y values ‚Äã‚Äãincrease from top to bottom, X - from left to right. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c32/f84/810/c32f848102da01af278b74b0c63a513a.png"></div><br>  <i><font color="#999999">The origin is in the upper left corner.</font></i> <br><br>  Displaying sprites, which are initialized by the above code, looks like this. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/220/be5/149/220be5149d7241f0cd7f5150e99528b4.png"></div><br>  <i><font color="#999999">Sprites are displayed on the Intel XDK emulator</font></i> <br><br><h2>  <font color="#0071c5">Pivot point</font> </h2><br>  The point of the sprite, which is placed in the coordinate (x, y) given to it, is called the anchor point.  By default, the sprite's anchor point corresponds to its upper left corner.  Thus, setting the position of the sprite, for example, in (10.10), means that its left upper corner will be in the specified position. <br><br>  If the sprite is rotated, the pivot point will be the center of rotation.  In addition, if you change the size of the sprite, scale it, the sprite will increase or decrease, but the pivot point will remain where it was before the start of the transformation. <br><br>  Sometimes the sprite's anchor point needs to be changed.  For example, if it became necessary to set the position of the sprite with reference to its center.  This can be done as shown below (after showing the sprite). <br><br><pre> <code class="hljs coffeescript"><span class="hljs-regexp"><span class="hljs-regexp">//</span></span>      <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>     : <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.chicken.achor.setTo(<span class="hljs-number"><span class="hljs-number">0.5</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.chicken.anchor.setTo(<span class="hljs-number"><span class="hljs-number">0.5</span></span>, <span class="hljs-number"><span class="hljs-number">0.5</span></span>);</code> </pre> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c4e/9f7/03f/c4e9f703fcca5552e93b86f6d6aba89e.png"></div><br>  <i><font color="#999999">Sprite after changing the pivot point</font></i> <br><br><h2>  <font color="#0071c5">Sprite Rotation</font> </h2><br>  Rotate the sprite is very simple.  To do this, it is enough to change its angle property (rotation angle).  Rotation is performed around the pivot point (in our case, around the center of the sprite).  The angle of rotation is given in degrees.  Here, for example, how to rotate the sprite by 90 degrees. <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.chicken.angle = <span class="hljs-number"><span class="hljs-number">90</span></span>;</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/404/d59/bec/404d59bece2973c450cfd9a6c20de6da.png"></div><br>  <i><font color="#999999">90 degree rotation of the sprite</font></i> <br><br><h2>  <font color="#0071c5">Sprite resizing</font> </h2><br>  The scale sprite property allows you to resize it.  Below are examples of scaling (the sprite was previously returned to the state in which it was before the turn). <br><br>  Stretch the sprite vertically. <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.chicken.scale.setTo(<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-comment"><span class="hljs-comment">//    X        Y</span></span></code> </pre> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c34/8b4/b7d/c348b4b7dfbcf97c01e7ee9b7f9e9f95.png"></div><br>  <i><font color="#999999">Sprite stretched vertically</font></i> <br><br>  Reduce the size of the sprite in half: <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.chicken.scale.setTo(<span class="hljs-number"><span class="hljs-number">0.5</span></span>) <span class="hljs-comment"><span class="hljs-comment">//   50%    x,    y</span></span></code> </pre> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b4c/ecb/fbb/b4cecbfbbd1d130e367562dbb34336e3.png"></div><br>  <i><font color="#999999">Sprite reduced by half</font></i> <br><br><h2>  <font color="#0071c5">Sprite reflection</font> </h2><br>  If the sprite needs to be reflected along the X or Y axis, this can be done by setting negative values ‚Äã‚Äãwhen setting its scale property.  If, for example, to give a value of -1 on the X axis, the sprite will be reflected on this axis, but the size will not change.  If you use negative values ‚Äã‚Äãthat are different from -1, this will have a double effect: reflection and resizing. <br><br>  Reflect the sprite on the X axis. <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.chicken.scale.setTo(-<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   x</span></span></code> </pre> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/587/99c/07e/58799c07ecb62b3cd05963fd35d1f8c1.png"></div><br>  <i><font color="#999999">Sprite reflected along the X axis</font></i> <br><br><h2>  <font color="#0071c5">Sprite placement in the center of the game world.</font> </h2><br>  The easiest way to place the sprite in the center of the game world is to set the reference point of the sprite in its center and specify the center of the screen as the new coordinates of the sprite.  For example, you can do it like this. <br><br><pre> <code class="hljs coffeescript"><span class="hljs-regexp"><span class="hljs-regexp">//</span></span>      <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.chicken = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game.add.sprite(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game.world.centerX, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game.world.centerY, <span class="hljs-string"><span class="hljs-string">'chicken'</span></span>); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>      <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.chicken.anchor.setTo(<span class="hljs-number"><span class="hljs-number">0.5</span></span>, <span class="hljs-number"><span class="hljs-number">0.5</span></span>);</code> </pre> <br>  The location of the sprite on the screen can always be changed by editing the value of its x and y properties. <br><br>  Details about the Sprite class and its methods and properties, some of which we discussed above, can be found in the <a href="http://phaser.io/docs/2.4.6/Phaser.Sprite.html">documentation</a> . <br><br><h2>  <font color="#0071c5">Adjusting the size of the game screen to the screen size of the device</font> </h2><br>  No matter for which platform or platforms the game is being developed, in any case you will have to deal with different resolutions and aspect ratios of the screens.  That is the reality.  In the recent past, this was a real nightmare for developers of HTML5 games, but most of the game engines take on the problems associated with different screens.  Phaser is not an exception, it contains built-in capabilities for supporting various screens and allows you to create games that work correctly on various devices.  All this in the Phaser is the <a href="http://phaser.io/docs/2.4.6/Phaser.ScaleManager.html">Scale Manager</a> object. <br>  Our game screen will resize to fit the screen size of the device, keeping the aspect ratio.  This mode in the scaling manager is called SHOW_ALL.  Settings are made in the init () method. <br><br><pre> <code class="hljs lua">//   init: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { //   this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL; //       this.scale.pageAlignHorizontally = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; this.scale.pageAlignVertically = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; },</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ac8/a06/769/ac8a06769853ac2d9a659b83a8ea55d2.png"></div><br>  <i><font color="#999999">The game on the screen, the parameters of which are different from the parameters of the game screen</font></i> <br><br><h2>  <font color="#0071c5">Add arrows</font> </h2><br>  Add arrows to the game screen, with which you can switch between the inhabitants of the farm.  When the user touches the arrow, the creature displayed on the screen moves to the right or left, and his place, in the center of the screen, takes a new one. <br><br>  Now add sprites arrows and configure some of their properties.  First, let's preload the texture in the preload () method. <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.load.image(<span class="hljs-string"><span class="hljs-string">'arrow'</span></span>, <span class="hljs-string"><span class="hljs-string">'assets/images/arrow.png'</span></span>);</code> </pre> <br>  Now, in the create () method, let's do the following. <br><br><pre> <code class="hljs coffeescript"><span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.leftArrow = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game.add.sprite(<span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game.world.centerY, <span class="hljs-string"><span class="hljs-string">'arrow'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.leftArrow.anchor.setTo(<span class="hljs-number"><span class="hljs-number">0.5</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.leftArrow.scale.x = <span class="hljs-number"><span class="hljs-number">-1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.leftArrow.customParams = {direction: <span class="hljs-number"><span class="hljs-number">-1</span></span>}; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rightArrow = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game.add.sprite(<span class="hljs-number"><span class="hljs-number">580</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game.world.centerY, <span class="hljs-string"><span class="hljs-string">'arrow'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rightArrow.anchor.setTo(<span class="hljs-number"><span class="hljs-number">0.5</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rightArrow.customParams = {direction: <span class="hljs-number"><span class="hljs-number">1</span></span>};</code> </pre> <br>  Here we create a couple of sprites - one for each arrow.  Both of them use the same texture that we loaded, indicating ‚Äúarrow‚Äù as the key.  Notice how the sprites are placed strictly along the center of the Y axis of the game world, that their pivot points are set on the center of the sprite, and how the first arrow has been flipped so that it points to the left using the scale property. <br><br><h2>  <font color="#0071c5">Additional sprite options</font> </h2><br>  I want to create an additional parameter for arrows sprites, which contains information about the direction of the arrow along the X axis. In order to set your own, not provided by the system property, you can use the construction of this.rightArrow.anythingHere.  However, I prefer to keep these additional properties in a separate object, giving it the name "customParams".  Why am I doing this?  For example, what if someone is not familiar enough with Phaser and decides to create an additional property of an object called ‚Äúscale‚Äù?  As we know, scale is one of the standard properties of sprites, and creating another one is the same, we will simply replace the standard one, giving it some value.  As a result, incomprehensible problems and errors that are very difficult to detect.  That is why I prefer to save all the additional data in a separate object, with full confidence that its name does not match anything that the sprite object already has. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ae5/115/61d/ae511561d5691be9c6029bda0b071f18.png"></div><br>  <i><font color="#999999">Arrows on the game screen</font></i> <br><br><h2>  <font color="#0071c5">Input processing</font> </h2><br>  Now the screen has a pair of arrows and a fixed chicken.  Later, instead of her there will be a whole farm.  But we‚Äôll leave the chicken where it is and figure out the input processing. <br><br>  To begin, let's make the bird interactive, responsive to touch and mouse clicks. <br><br><pre> <code class="hljs coffeescript"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.chicken = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game.add.sprite(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game.world.centerX, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game.world.centerY, <span class="hljs-string"><span class="hljs-string">'chicken'</span></span>); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>      <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.chicken.anchor.setTo(<span class="hljs-number"><span class="hljs-number">0.5</span></span>, <span class="hljs-number"><span class="hljs-number">0.5</span></span>); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> ,   ‚Äì       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.chicken.inputEnabled = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>        <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.chicken.input.pixelPerfectClick = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>      <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.chicken.events.onInputDown.add(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.animateAnimal, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);</code> </pre> <br>  Now we need to create the animateAnimal method in the GameState object.  This is where the animation will start and the sound will play. <br><br><pre> <code class="hljs lua">//     animateAnimal: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(sprite, event)</span></span></span></span> { console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(<span class="hljs-string"><span class="hljs-string">'animate animal and play sound'</span></span>); },</code> </pre> <br>  Enable input event handling for both arrows. <br><br><pre> <code class="hljs coffeescript"><span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.leftArrow = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game.add.sprite(<span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game.world.centerY, <span class="hljs-string"><span class="hljs-string">'arrow'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.leftArrow.anchor.setTo(<span class="hljs-number"><span class="hljs-number">0.5</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.leftArrow.scale.x = <span class="hljs-number"><span class="hljs-number">-1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.leftArrow.customParams = {direction: <span class="hljs-number"><span class="hljs-number">-1</span></span>}; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.leftArrow.inputEnabled = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.leftArrow.input.pixelPerfectClick = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.leftArrow.events.onInputDown.add(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.switchAnimal, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rightArrow = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game.add.sprite(<span class="hljs-number"><span class="hljs-number">580</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game.world.centerY, <span class="hljs-string"><span class="hljs-string">'arrow'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rightArrow.anchor.setTo(<span class="hljs-number"><span class="hljs-number">0.5</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rightArrow.customParams = {direction: <span class="hljs-number"><span class="hljs-number">1</span></span>}; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rightArrow.inputEnabled = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rightArrow.input.pixelPerfectClick = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rightArrow.events.onInputDown.add(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.switchAnimal, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);</code> </pre> <br>  Add the switchAnimal method while it is empty. <br><br><pre> <code class="hljs lua">//     ,  sprite    ,    switchAnimal: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(sprite, event)</span></span></span></span> { console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(<span class="hljs-string"><span class="hljs-string">'switch animal'</span></span>); }</code> </pre> <br>  Now, if you click on the arrows or on the chicken, the corresponding messages will appear in the console. <br><br><h2>  <font color="#0071c5">Groups</font> </h2><br>  Working with sets of sprites is a common technique used in game development.  For example, a game about a spacecraft, in which there are many enemies.  New enemies appear on the screen, they are destroyed, enemy ships interact in the same way with the game world.  It is logical to assume that it is more convenient to perform many operations not for each enemy individually, but immediately for some of their groups. <br><br>  The game has a set of animals and birds.  Using the arrow keys, you can switch to the next farm occupant or return to the previous one.  In order to work with game objects, we will use groups. <br><br>  The data unique for each creature (name, texture, sound, animation) will be represented in the game as an array of objects.  Such an array, theoretically, can be downloaded already in finished form from a certain web server or from local storage.  Using this data, we create sprites and merge them into a group. <br><br>  Say goodbye to the chicken, with a separate sprite, and move on to working with a group of objects.  Let's start with preloading images for them. <br><br><pre> <code class="hljs kotlin">preload: function() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.load.image(<span class="hljs-string"><span class="hljs-string">'background'</span></span>, <span class="hljs-string"><span class="hljs-string">'assets/images/background.png'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.load.image(<span class="hljs-string"><span class="hljs-string">'arrow'</span></span>, <span class="hljs-string"><span class="hljs-string">'assets/images/arrow.png'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.load.image(<span class="hljs-string"><span class="hljs-string">'chicken'</span></span>, <span class="hljs-string"><span class="hljs-string">'assets/images/chicken.png'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.load.image(<span class="hljs-string"><span class="hljs-string">'horse'</span></span>, <span class="hljs-string"><span class="hljs-string">'assets/images/horse.png'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.load.image(<span class="hljs-string"><span class="hljs-string">'pig'</span></span>, <span class="hljs-string"><span class="hljs-string">'assets/images/pig.png'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.load.image(<span class="hljs-string"><span class="hljs-string">'sheep'</span></span>, <span class="hljs-string"><span class="hljs-string">'assets/images/sheep.png'</span></span>); },</code> </pre> <br>  In the create method, you need to remove everything, up to the code related to the arrows, and insert the following into it. <br><br><pre> <code class="hljs pgsql">//     this.background = this.game.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>.sprite(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'background'</span></span>); //    var animalData = [ {key: <span class="hljs-string"><span class="hljs-string">'chicken'</span></span>, <span class="hljs-type"><span class="hljs-type">text</span></span>: <span class="hljs-string"><span class="hljs-string">'CHICKEN'</span></span>,}, {key: <span class="hljs-string"><span class="hljs-string">'horse'</span></span>, <span class="hljs-type"><span class="hljs-type">text</span></span>: <span class="hljs-string"><span class="hljs-string">'HORSE'</span></span>}, {key: <span class="hljs-string"><span class="hljs-string">'pig'</span></span>, <span class="hljs-type"><span class="hljs-type">text</span></span>: <span class="hljs-string"><span class="hljs-string">'PIG'</span></span>}, {key: <span class="hljs-string"><span class="hljs-string">'sheep'</span></span>, <span class="hljs-type"><span class="hljs-type">text</span></span>: <span class="hljs-string"><span class="hljs-string">'SHEEP'</span></span>} ]; //      ‚Äì    this.animals = this.game.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">group</span></span>(); //   var self = this; var animal; animalData.<span class="hljs-keyword"><span class="hljs-keyword">forEach</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(element){ //    ,   animal = self.animals.<span class="hljs-keyword"><span class="hljs-keyword">create</span></span>(<span class="hljs-number"><span class="hljs-number">-1000</span></span>, self.game.world.centerY, element.key, <span class="hljs-number"><span class="hljs-number">0</span></span>); //  ,     Phaser,    animal.customParams = {<span class="hljs-type"><span class="hljs-type">text</span></span>: element.text, sound: <span class="hljs-string"><span class="hljs-string">'to be added..'</span></span>}; //      animal.anchor.setTo(<span class="hljs-number"><span class="hljs-number">0.5</span></span>); // ,         animal.inputEnabled = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; animal.<span class="hljs-keyword"><span class="hljs-keyword">input</span></span>.pixelPerfectClick = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; animal.events.onInputDown.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(self.animateAnimal, this); }); //      this.currentAnimal = this.animals.next(); this.currentAnimal.position.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>(this.game.world.centerX, this.game.world.centerY);</code> </pre> <br>  Here is what we have done. <br><br><ol><li>  We gave all the data of the inhabitants of the farm in the form of a JSON object.  Such an object can be downloaded from a web server or from local storage, or, for some games, generate software </li><li>  Created a group of objects. </li><li>  We went through the cycle according to the inhabitants of the farm, created a sprite for each of them and added what we had to the group. </li><li>  For each of the sprites included input processing and set the callback function, which should work when the user interacts with the game object. </li><li>  We got the first creature from the group using the next () method and placed it in the center of the screen.  The group allows you to access objects included in it using the next () and previous () commands. </li></ol><br>  Details about the Group class we use can be found <a href="http://phaser.io/docs/2.4.6/Phaser.Group.html">here</a> . <br><br><h2>  <font color="#0071c5">Interpolation animation</font> </h2><br>  Interpolation animation, which is often referred to as ‚Äútweening‚Äù, is an approach to animation, which consists in defining a start and end frame, and intermediate frames are generated by the system automatically.  Hence the term ‚Äútweening‚Äù, which is derived from ‚Äúin-between‚Äù, which can be translated as ‚Äúin between‚Äù. <br><br>  For example, the ball is in the position x = 10.  We decided that at the end of the 10-second animated movement it should be in the position x = 100.  As a result, the ball for the specified time will smoothly move from the initial position to the final one.  At the same time, we set only its initial and final position, as well as the duration of the animation. <br><br>  Phaser contains an embedded interpolation animation subsystem (take a look at the <a href="http://phaser.io/docs/2.4.6/Phaser.Tween.html">Tween</a> class description from the documentation).  You can animate almost any property of an object of the Sprite class, or even several properties at the same time. <br><br>  We will animate the movement of the inhabitants of the farm from the initial to the final position.  In addition, you can specify a callback function that will be executed when the animation ends. <br><br>  Turn off the ability to click on the arrows while moving an animal or bird on the screen.  As a result, the user will not be able to click on the arrows during the animation (although if this is not done, it turns out quite funny, you can try). <br>  The switchAnimal method, the skeleton of which is created above, will now look like this. <br><br><pre> <code class="hljs pgsql">//    switchAnimal: <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(sprite, event) { //  ,    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(this.isMoving) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } this.isMoving = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; var newAnimal, endX; //,     ,    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(sprite.customParams.direction &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { newAnimal = this.animals.next(); newAnimal.x = -newAnimal.width/<span class="hljs-number"><span class="hljs-number">2</span></span>; endX = <span class="hljs-number"><span class="hljs-number">640</span></span> + this.currentAnimal.width/<span class="hljs-number"><span class="hljs-number">2</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { newAnimal = this.animals.previous(); newAnimal.x = <span class="hljs-number"><span class="hljs-number">640</span></span> + newAnimal.width/<span class="hljs-number"><span class="hljs-number">2</span></span>; endX = -this.currentAnimal.width/<span class="hljs-number"><span class="hljs-number">2</span></span>; } //   ,    x var newAnimalMovement = game.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>.tween(newAnimal); newAnimalMovement.<span class="hljs-keyword"><span class="hljs-keyword">to</span></span>({ x: this.game.world.centerX }, <span class="hljs-number"><span class="hljs-number">1000</span></span>); newAnimalMovement.onComplete.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">function</span></span>() { this.isMoving = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; }, this); newAnimalMovement.<span class="hljs-keyword"><span class="hljs-keyword">start</span></span>(); var currentAnimalMovement = game.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>.tween(this.currentAnimal); currentAnimalMovement.<span class="hljs-keyword"><span class="hljs-keyword">to</span></span>({ x: endX }, <span class="hljs-number"><span class="hljs-number">1000</span></span>); currentAnimalMovement.<span class="hljs-keyword"><span class="hljs-keyword">start</span></span>(); this.currentAnimal = newAnimal; },</code> </pre> <br>  As you can see from the code, the usual procedure for working with interpolation animation consists of several steps. <br><br><ol><li>  Create a Tween object that will do the animation. </li><li>  Set animation properties and, if necessary, a callback function. </li><li>  Run the animation in the right place of the program. </li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/de5/afb/4ec/de5afb4ecc6f1a2c1a0e1fb7d18d8153.png"></div><br>  <i><font color="#999999">Interpolation animation</font></i> <br><br><h2>  <font color="#0071c5">Frame animation</font> </h2><br>  Another type of animation that can be used in the game is called frame-by-frame animation.  With this approach, we need the so-called spritesheet (spritesheet), containing various animation frames.  Sprite lists involved in this project are in the materials for it. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7fc/c79/7e2/7fcc797e22cc20e532ccb28a8d028237.png"></div><br>  <i><font color="#999999">Sprite list</font></i> <br><br>  Let's start with the preloading of sprite lists.  Instead of uploading individual images, we load the sprite lists and set their sizes and the number of frames. <br><br><pre> <code class="hljs lua">//      <span class="hljs-built_in"><span class="hljs-built_in">preload</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { this.<span class="hljs-built_in"><span class="hljs-built_in">load</span></span>.image(<span class="hljs-string"><span class="hljs-string">'background'</span></span>, <span class="hljs-string"><span class="hljs-string">'assets/images/background.png'</span></span>); this.<span class="hljs-built_in"><span class="hljs-built_in">load</span></span>.image(<span class="hljs-string"><span class="hljs-string">'arrow'</span></span>, <span class="hljs-string"><span class="hljs-string">'assets/images/arrow.png'</span></span>); this.<span class="hljs-built_in"><span class="hljs-built_in">load</span></span>.spritesheet(<span class="hljs-string"><span class="hljs-string">'chicken'</span></span>, <span class="hljs-string"><span class="hljs-string">'assets/images/chicken_spritesheet.png'</span></span>, <span class="hljs-number"><span class="hljs-number">131</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>); this.<span class="hljs-built_in"><span class="hljs-built_in">load</span></span>.spritesheet(<span class="hljs-string"><span class="hljs-string">'horse'</span></span>, <span class="hljs-string"><span class="hljs-string">'assets/images/horse_spritesheet.png'</span></span>, <span class="hljs-number"><span class="hljs-number">212</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>); this.<span class="hljs-built_in"><span class="hljs-built_in">load</span></span>.spritesheet(<span class="hljs-string"><span class="hljs-string">'pig'</span></span>, <span class="hljs-string"><span class="hljs-string">'assets/images/pig_spritesheet.png'</span></span>, <span class="hljs-number"><span class="hljs-number">297</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>); this.<span class="hljs-built_in"><span class="hljs-built_in">load</span></span>.spritesheet(<span class="hljs-string"><span class="hljs-string">'sheep'</span></span>, <span class="hljs-string"><span class="hljs-string">'assets/images/sheep_spritesheet.png'</span></span>, <span class="hljs-number"><span class="hljs-number">244</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>); },</code> </pre> <br>    ,        <a href="http://phaser.io/docs/2.4.6/Phaser.Loader.html">Loader</a> . <br><br>   create()      .     .  ,    ,  ,  ,      (   0).     ,     -  .    ¬´0¬ª ‚Äî   ,     . <br><br><pre> <code class="hljs php">animalData.<span class="hljs-keyword"><span class="hljs-keyword">forEach</span></span>(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(element)</span></span></span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    ,   animal = self.animals.create(-1000, self.game.world.centerY, element.key, 0); //</span></span></code> </pre><br>   ,     Phaser,   : <br><br><pre> <code class="hljs pgsql">animal.customParams = {<span class="hljs-type"><span class="hljs-type">text</span></span>: element.text}; //       animal.anchor.setTo(<span class="hljs-number"><span class="hljs-number">0.5</span></span>); //  animal.animations.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(<span class="hljs-string"><span class="hljs-string">'animate'</span></span>, [<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); //  ,         animal.inputEnabled = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; animal.<span class="hljs-keyword"><span class="hljs-keyword">input</span></span>.pixelPerfectClick = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; animal.events.onInputDown.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(self.animateAnimal, this); });</code> </pre> <br>    ,   : <br><br><pre> <code class="hljs cs">animal.animations.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(<span class="hljs-string"><span class="hljs-string">'animate'</span></span>, [<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>);</code> </pre> <br> B  ,      ¬´animal¬ª.         (¬´animate¬ª   ),       .   ‚Äì  ,  ,     . ,      ,   ,  ‚Äì .   ‚Äì     .    (3   )     .  , ¬´false¬ª,    ,       ,   .      ¬´true¬ª, , ,    .     ‚Äì  ¬´false¬ª,     ,   ,    ,   ,     . <br><br>        .       animateAnimal. <br><br><pre> <code class="hljs lua">//     animateAnimal: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(sprite, event)</span></span></span></span> { sprite.play(<span class="hljs-string"><span class="hljs-string">'animate'</span></span>); },</code> </pre> <br><h2> <font color="#0071c5"></font> </h2><br>              . ,  ,         preload(). <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.load.audio(<span class="hljs-string"><span class="hljs-string">'chickenSound'</span></span>, [<span class="hljs-string"><span class="hljs-string">'assets/audio/chicken.ogg'</span></span>, <span class="hljs-string"><span class="hljs-string">'assets/audio/chicken.mp3'</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.load.audio(<span class="hljs-string"><span class="hljs-string">'horseSound'</span></span>, [<span class="hljs-string"><span class="hljs-string">'assets/audio/horse.ogg'</span></span>, <span class="hljs-string"><span class="hljs-string">'assets/audio/horse.mp3'</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.load.audio(<span class="hljs-string"><span class="hljs-string">'pigSound'</span></span>, [<span class="hljs-string"><span class="hljs-string">'assets/audio/pig.ogg'</span></span>, <span class="hljs-string"><span class="hljs-string">'assets/audio/pig.mp3'</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.load.audio(<span class="hljs-string"><span class="hljs-string">'sheepSound'</span></span>, [<span class="hljs-string"><span class="hljs-string">'assets/audio/sheep.ogg'</span></span>, <span class="hljs-string"><span class="hljs-string">'assets/audio/sheep.mp3'</span></span>]);</code> </pre> <br>      mp3    ogg.       ,      ,  HTML5,  .  MP3  OGG        .  ,       ,    <a href="http://audacity.sourceforge.net/">Audacity</a> .     Linux, Windows  Mac. <br><br>       animalData       .      customParams  . <br><br><pre> <code class="hljs pgsql">//    var animalData = [ {key: <span class="hljs-string"><span class="hljs-string">'chicken'</span></span>, <span class="hljs-type"><span class="hljs-type">text</span></span>: <span class="hljs-string"><span class="hljs-string">'CHICKEN'</span></span>, audio: <span class="hljs-string"><span class="hljs-string">'chickenSound'</span></span>}, {key: <span class="hljs-string"><span class="hljs-string">'horse'</span></span>, <span class="hljs-type"><span class="hljs-type">text</span></span>: <span class="hljs-string"><span class="hljs-string">'HORSE'</span></span>, audio: <span class="hljs-string"><span class="hljs-string">'horseSound'</span></span>}, {key: <span class="hljs-string"><span class="hljs-string">'pig'</span></span>, <span class="hljs-type"><span class="hljs-type">text</span></span>: <span class="hljs-string"><span class="hljs-string">'PIG'</span></span>, audio: <span class="hljs-string"><span class="hljs-string">'pigSound'</span></span>}, {key: <span class="hljs-string"><span class="hljs-string">'sheep'</span></span>, <span class="hljs-type"><span class="hljs-type">text</span></span>: <span class="hljs-string"><span class="hljs-string">'SHEEP'</span></span>, audio: <span class="hljs-string"><span class="hljs-string">'sheepSound'</span></span>} ]; //        this.animals = this.game.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">group</span></span>(); var self = this; var animal; animalData.<span class="hljs-keyword"><span class="hljs-keyword">forEach</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(element){ //</code> </pre> <br> C   ,  : <br><br><pre> <code class="hljs ruby">animal = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.animals.create(-<span class="hljs-number"><span class="hljs-number">1000</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.game.world.centerY, element.key, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  ,     Phaser,    animal.customParams = {<span class="hljs-symbol"><span class="hljs-symbol">text:</span></span> element.text, <span class="hljs-symbol"><span class="hljs-symbol">sound:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.game.add.audio(element.audio)}; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>      animal.anchor.setTo(<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span>); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>   animal.animations.add(<span class="hljs-string"><span class="hljs-string">'animate'</span></span>, [<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  ,         animal.inputEnabled = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; animal.input.pixelPerfectClick = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; animal.events.onInputDown.add(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.animateAnimal, this); });</code> </pre> <br> , ,     ,   ,   animateAnimal. <br><br><pre> <code class="hljs lua">//      animateAnimal: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(sprite, event)</span></span></span></span> { sprite.play(<span class="hljs-string"><span class="hljs-string">'animate'</span></span>); sprite.customParams.sound.play(); },</code> </pre> <br>     ! <br><br><h2> <font color="#0071c5">    ?</font> </h2><br>        <a href="https://freesound.org/">Freesound.org</a> ,     .          <a href="http://audacity.sourceforge.net/">Audacity</a> . Freesound.org ‚Äì   ,       .      ,      .         ,       . <br><br><h2> <font color="#0071c5">  </font> </h2><br>   :      ,       . <br><br>     ,   ,  ,              animalData,     . <br><br>  ,        .      . <br><br><pre> <code class="hljs coffeescript">showText: function(animal) { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>          <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.animalText) { var style = {font: <span class="hljs-string"><span class="hljs-string">"bold 30pt Arial"</span></span>, fill: <span class="hljs-string"><span class="hljs-string">"#D0171B"</span></span>, align: <span class="hljs-string"><span class="hljs-string">"center"</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.animalText = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game.add.text(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game.width/<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game.height * <span class="hljs-number"><span class="hljs-number">0.85</span></span>, <span class="hljs-string"><span class="hljs-string">'asdfasfd'</span></span> , style); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.animalText.anchor.setTo(<span class="hljs-number"><span class="hljs-number">0.5</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.animalText.setText(animal.customParams.text); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.animalText.visible = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br>     ,       .  ,     ,     Text,     ,   <a href="http://phaser.io/docs/2.4.6/Phaser.Text.html"></a> . <br><br>  create ‚Äì  ,      .       .     ,     currentAnimal,   ,   . <br><br><pre> <code class="hljs coffeescript"><span class="hljs-regexp"><span class="hljs-regexp">//</span></span>      <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentAnimal = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.animals.next(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentAnimal.position.set(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game.world.centerX, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game.world.centerY); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.showText(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentAnimal);</code> </pre> <br>       ,   ,  .       visibility.          . <br><br><pre> <code class="hljs coffeescript"><span class="hljs-regexp"><span class="hljs-regexp">//</span></span>     switchAnimal: function(sprite, event) { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>   ,    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.isMoving) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.isMoving = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.animalText.visible = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; var newAnimal, endX; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> ,     ,    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(sprite.customParams.direction &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { newAnimal = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.animals.next(); newAnimal.x = -newAnimal.width<span class="hljs-regexp"><span class="hljs-regexp">/2; endX = 640 + this.currentAnimal.width/2; } else { newAnimal = this.animals.previous(); newAnimal.x = 640 + newAnimal.width/2; endX = -this.currentAnimal.width/2; } /</span></span>/    ,    x var newAnimalMovement = game.add.tween(newAnimal); newAnimalMovement.to({ x: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game.world.centerX }, <span class="hljs-number"><span class="hljs-number">1000</span></span>); newAnimalMovement.onComplete.add(function() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.isMoving = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.showText(newAnimal); }, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); newAnimalMovement.start(); var currentAnimalMovement = game.add.tween(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentAnimal); currentAnimalMovement.to({ x: endX }, <span class="hljs-number"><span class="hljs-number">1000</span></span>); currentAnimalMovement.start(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentAnimal = newAnimal; },</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f2f/bcb/30a/f2fbcb30a970b3905556999a5eed40b3.png"></div><br> <i><font color="#999999"> </font></i> <br><br>  !    .    ,  ‚Äì      .  ,     <a href=""></a> . <br><br><h2> <font color="#0071c5">    </font> </h2><br>  HTML5-    :      ,   ,   . ,    ,     ,      . ,    ‚Äì  ,       ,          . <br><br>   ,       Android-   Cordova  <a href="https://software.intel.com/en-us/intel-xdk">Intel XDK</a> .   Cordova           ¬´ <a href="https://software.intel.com/en-us/html5/hub/blogs/how-to-make-a-mobile-virtual-pet-game-with-html5-and-cordova/">How to Build a Virtual Pet Game with HTML5 and Cordova</a> ¬ª.      API Cordova. <br><br>    Intel XDK,   ,         .       ,    Projects ()     Start a New Project &gt; Import Your HTML5 Code Base (   &gt;   HTML5-). <br><br>  ,   ,      .  ,       ,    Test () (        Intel, App Preview,    ). <br><br>  ,     Android,      ,    Build ().   Android,     .    ¬´Android¬ª,  ‚Äì ¬´Crosswalk for Android¬ª.      ,             ,     <a href="https://crosswalk-project.org/">Crosswalk</a> ,  ,   webview,   Chrome.            Android-,     ( ,    Android 4+).  ‚Äì   Crosswalk. ,    .     ‚Äì   APK . ,  Android-,  Intel XDK,    APK-  1 ,     ,     Crosswalk,   20 . <br><br>     ,    Android   ,   APK-           Google  Amazon. <br><br><h2> <font color="#0071c5"></font> </h2><br> ,   ,   . <br><br><ul><li>    .    ,  , , ,  . </li><li>    . </li><li>          . </li><li>      Phaser. </li><li>      . </li><li>      . </li><li>   . </li><li>   HTML5-    Android-. </li></ul><br>           .     Phaser,      ,       ,   . <a href="https://software.intel.com/en-us/html5/hub/blogs/how-to-make-a-mobile-virtual-pet-game-with-html5-and-cordova/">How to Make a Virtual Pet Game with HTML5 and Cordova</a> , <a href="https://software.intel.com/en-us/html5/hub/blogs/how-to-make-a-sidescroller-game-with-html5/">How to Make a Sidescroller Game with HTML5</a> , <a href="https://gamedevacademy.org/html5-phaser-tutorial-spacehipster-a-space-exploration-game/">HTML5 Phaser Tutorial ‚Äì SpaceHipster</a> , <a href="https://gamedevacademy.org/html5-phaser-tutorial-top-down-games-with-tiled/">HTML5 Phaser Tutorial ‚Äì Top-down Games</a> .     ‚Äì  <u></u> HTML5-  Zenva Academy. <br><br> ,    -       ,       ‚Äì  !  ,           ‚Äì <a href="https://zenva.com/en/contact">  </a>        <a href="https://gamedevacademy.org/">GameDev Academy</a> .      . </div><p>Source: <a href="https://habr.com/ru/post/282536/">https://habr.com/ru/post/282536/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../282524/index.html">Message system or ‚Äúsoft coupling‚Äù between components for Unity3D</a></li>
<li><a href="../282528/index.html">Multiphone in FreePBX: full connection automation</a></li>
<li><a href="../282530/index.html">Certified FSTEK version of Veeam Backup and Replication: backing up confidential information</a></li>
<li><a href="../282532/index.html">We are looking for free IPv4 in BGP full-view</a></li>
<li><a href="../282534/index.html">Yandex Font - Yandex Sans</a></li>
<li><a href="../282538/index.html">Welcome to Moscow CocoaHeads Meetup April 29</a></li>
<li><a href="../282542/index.html">El-get, ELPA, MELPA and automatic package installation</a></li>
<li><a href="../282544/index.html">Garbage Collector & C ++</a></li>
<li><a href="../282546/index.html">Intel ME. How to avoid the uprising of cars?</a></li>
<li><a href="../282548/index.html">How to test antivirus software</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>