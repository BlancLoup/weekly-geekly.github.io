<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Differentiation of information systems in the protection of personal data</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The subject of this article is the delineation of information systems in the protection of personal data using CyberSafe Firewall. The article will sh...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Differentiation of information systems in the protection of personal data</h1><div class="post__text post__text-html js-mediator-article">  The subject of this article is the delineation of information systems in the protection of personal data using CyberSafe Firewall.  The article will show an example of program deployment and access control of PC groups in a real company. <br><br><img src="https://habrastorage.org/files/e19/3d3/8d5/e193d38d5c8f4cfaafeb494edd176c38.png"><br><a name="habracut"></a><br><br><h4>  Requirements for the protection of personal data information systems </h4><br>  ISPDN (Personal Data Information System) is an information system that is a collection of personal data contained in a database, as well as information technologies and technical means that allow the processing of such personal data using automation tools or without using such tools. <br>  According to the order of the FSTEC of Russia No. 21 dated February 18, 2013, to ensure 3 levels of personal data protection, apply (clause 12b): 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>firewalls of at least class 3 in the case of urgency of type 2 threats or interaction of an information system with information and telecommunications networks of international information exchange and firewalls of at least class 4 in case of relevance of threats of type 3 and the lack of interaction of information systems with information and telecommunications networks of international information exchange;</i> <br><br>  This article will discuss the practical use of the <a href="http://cybersafesoft.com/rus/products/cybersafe-firewall/">CyberSafe Firewall</a> program, which is currently certified for Level 4 security, but will be certified for Level 3 for a month (the certificate is already signed by FSTEC).  The corresponding certificate can be found on the <a href="http://cybersafesoft.com/rus/products/cybersafe-firewall/certificate/">CyberSoft</a> company <a href="http://cybersafesoft.com/rus/products/cybersafe-firewall/certificate/">website</a> .  A link to the state register of certified software will be given at the end of the article. <br><br><h4>  Formulation of the problem </h4><br>  The structure of the company, in which we recently introduced the Cybersafe Firewall program, is shown in Fig.  one. <br><br><img src="https://habrastorage.org/files/697/0cb/6cf/6970cb6cfaee4b2981cd9f4083c5da5d.png"><br>  Fig.  1. Company structure <br><br>  The company in question contains five departments (Agrootdel, IT-department, legal department, department of management, ISPDn ‚ÄúAtlant PD‚Äù) and three branches.  Communication with remote branches via the Internet.  On the gateway, as well as on other computers on the network, the Cybersafe Firewall program is installed. <br>  The rest of this article will show how to deploy the Cybersafe Firewall program on all computers on the network using Active Directory, as well as setting group rules. <br>  Our task is to protect the ISPDN group from the outside world (that is, to close its access to the Internet) and from the rest of the local network.  Thus, computers in ISPDn can ‚Äúcommunicate‚Äù only with each other.  <b>It should be noted that this product was specially created for the fastest possible solution of tasks to restrict access to groups of PCs.</b>  <b>In other products, the solution of the task takes much more time or is impossible at all (if the system of dynamic distribution of network addresses is used).</b>  <b>If you do not take into account the time required to deploy the program using Active Directory, you can restrict the access of one group of computers to another within minutes.</b> <b><br></b>  <b>This scheme does not claim originality or novelty.</b>  <b>The task was to make the product as convenient as possible for distinguishing several IPs or to limit one IP with confidential information from other sectors of the local network and the Internet in strict accordance with the legislation of the Russian Federation.</b> <b><br></b> <br><br><h4>  Creating a Transformation File </h4><br>  First of all, you need to create a transformation file (MST file) in order to be able to deploy the Cyber ‚Äã‚ÄãSafe Firewall to all computers on the network with the same settings.  After that, you do not have to manually configure the firewall, for example, create a user to enter the program, specify the IP address of the remote server, its port, etc. <br>  Install the program on the computer that will be used as a remote Cybersafe Firewall server, and which you will use to control the firewalls of the entire network.  You can install the program on your own computer, or you can install the program directly to the gateway, which will provide other computers with access to the Internet. <br>  To create a deployment script, follow these steps: <br><ul><li>  Open the Cyber ‚Äã‚ÄãSafe Remote Server program (included in the Cyber ‚Äã‚ÄãSafe Firewall software package). </li><li>  Select the menu command <b>Tools, Installation Script File</b> . </li><li>  Fill in the settings that will be entered into the deployment script, namely the port on which the firewall will work (usually 50001), the port of the remote server, the IP address of the remote server, the activation key, the administrator's e-mail, the user and the default password (Fig. 2). </li><li>  Click the <b>Save Script</b> button. </li><li>  In the file saving window, select the script format ‚Äî to be deployed using Active Directory, you need to select the format * .mst (Fig. 3) </li></ul><br><br><img src="https://habrastorage.org/files/ee9/a35/78e/ee9a3578e1434fa19e2ad0dc7bbf2916.png"><br>  Fig.  2. Creating a deployment script <br><br><img src="https://habrastorage.org/files/21d/469/0b6/21d4690b69d6408ba4ede55700ad3cd4.png"><br>  Fig.  3. Saving Deployment Script <br><br>  The Cyber ‚Äã‚ÄãSafe Remote Server program is described in detail in the Cyber ‚Äã‚ÄãSafe Firewall program guide (http://cybersafesoft.com/eng/products/cybersafe-firewall/). <br>  If your organization does not use Active Directory, you can create a batch file (* .bat) using the Cyber ‚Äã‚ÄãSafe Remote Server program.  To deploy the program on all computers on the network, it will suffice to copy it to each computer along with the program installer (MSI file) and run it (batch file).  If for each computer you need unique users, then you can manually run the installer of the program (MSI file) on each computer, and you do not need a transformation file or a batch file. <br><br><h4>  Deploying CyberSafe Firewall with Active Directory </h4><br>  Now consider the process of deploying CyberSafe Firewall using ActiveDirectory.  All the illustrations for this section were created in Microsoft Windows Server 2012 R2, but all of the above instructions will work in older versions (Microsoft Windows Server 2003/2008), and the illustrations may differ slightly. <br>  The first step is to create a folder for software deployment.  It will contain all MSI packages that you need to deploy (you do not need to create a separate folder for the CyberSafe Firewall program). <br>  Let it be the folder C: \ Install.  In this folder, create a subfolder of CSFirewall.  You need to place the csfirewall.msi installation file and the csfirewall.mst transformation file that you created in the previous section into it. <br>  The folder C: \ Install must be shared.  To do this, right-click the folder and select the <b>Properties</b> command.  On the <b>Access</b> tab, click the <b>Share</b> button and grant read and write access to the administrator and read-only access to all other users on the network. <br>  Next, start the gpmc.msc Group Policy Editor.  We assume that the CyberSafe Firewall program should be installed on all computers on the network.  Therefore, right-click on the domain and select the <b>Create</b> Group Policy <b>Object</b> in this domain and link it (Fig. 4). <br><br><img src="https://habrastorage.org/files/a96/cbc/8b3/a96cbc8b3f754cb2ac3d4a736b1bfa43.png"><br>  Fig.  4. Group Policy Editor <br><br>  Name the new group policy object CS_Firewall (Figure 5).  In the <b>Security Filters</b> section <b>,</b> delete the <b>Authenticated</b> Users group and add computers, groups and users to which the settings of this GPO will be applied (Figure 6).  In other words, add the computers on which the program should be installed. <br><br><img src="https://habrastorage.org/files/f51/1dd/41e/f511dd41ed7d463b80b57e0967ae335c.png"><br>  Fig.  5. Creating a new GPO <br><br><img src="https://habrastorage.org/files/cc4/dd5/43e/cc4dd543ea904cf3ae5d48654965af63.png"><br>  Fig.  6. Created GPO <br><br>  Right-click on the newly created GPO (CS Firewall) and select the <b>Edit</b> command.  Go to <b>User Configuration, Policies, Software Configuration, Install Programs</b> (Figure 7). <br><br><img src="https://habrastorage.org/files/309/62c/88d/30962c88d20d4c43a3ed3dc6f346fb8e.png"><br>  Fig.  7. Section User Configuration, Policies, Software Configuration, Software Installation <br><br>  Right-click on the <b>Install Software</b> section and select <b>New, Package</b> .  In the window that appears, select the path to the MSI file of the program.  Note that you need to enter not a local path, but a network one, since users will access the package over the network. <br>  The next step is to choose a deployment method.  Since we want to provide a transformation file (mst file created by the Cybersafe Remote Server program), we need to choose a specific deployment method (Figure 8).  This will open the deployment package configuration window (Figure 9).  Then go to the <b>Modifications</b> tab, click the <b>Add</b> button and select the transformation file (.mst file), fig.  ten. <br><br><img src="https://habrastorage.org/files/8bc/fd6/b22/8bcfd6b2249b44bc92c59e63df964af9.png"><br>  Fig.  8. Choosing a deployment method <br><br><img src="https://habrastorage.org/files/7ea/196/318/7ea196318f9043258b05108f9c195b32.png"><br>  Fig.  9. Configure Deployment Package <br><br><img src="https://habrastorage.org/files/90b/dcc/d6a/90bdccd6abf7420e99693a9d112e7645.png"><br>  Fig.  10. Specify the transformation file <br><br>  Click <b>OK</b> . <br><br>  <b>Note</b>  After clicking the <b>OK</b> button, the package and the transformation file (the .msi and .mst files, respectively) will be cached.  If you need to change the transformation file after creating the package, you will have to create the deployment package again. <br><br>  This completes the work with the Group Policy Editor.  Close all windows, open a command prompt (or at least the <b>Run</b> window by pressing the key combination Win + R) and enter the command: <br><br><pre><code class="bash hljs">gpupdate /force</code> </pre> <br>  That's all.  The program will be automatically installed on the computers after they are rebooted and before the login window is displayed.  The user can not affect anything and nothing can be wrong. <br>  Sometimes the program is not installed automatically.  Most often, this problem is observed on workstations running Windows XP.  To install it, you need to manually enter the gpupdate / force command on it. <br><br><h4>  Configure Firewall Rules </h4><br>  Using the CyberSafe Firewall administration panel, you can set global and group rules for all Cybersafe firewalls installed on your network.  Global rules apply to all computers on which the Cybersafe firewall is installed, and group rules determine the behavior of the Cybersafe firewall installed on a specific group of computers. <br>  Before you can set up global and group rules, you need to assign a user as an administrator.  This can be done only with the help of the Cyber ‚Äã‚ÄãSafe Remote Server program. <br>  The administrator can control the remote firewall using the administration panel.  So, in the Cyber ‚Äã‚ÄãSafe Remote Server program, expand the <b>Users</b> node and select the user you want to make the administrator and turn on the <b>Administrator</b> check box (Fig. 11). <br><br><img src="https://habrastorage.org/files/60d/cfa/ca9/60dcfaca9ce642888f833f31dff4ad1c.png"><br>  Fig.  11. Assigning a user as administrator <br><br>  Now we are going to solve our problem.  Let me remind you that we need to deny access to ISPD ‚ÄúAtlant‚Äù computers access to the Internet and to other computers on the network. <br>  Enter the Cybersafe Firewall program and select the <b>Firewall</b> menu command <b>, Administration Panel</b> . <br>  Create different groups of computers that will correspond to the departments on the network (see Figure 1).  To create a group, right-click on the workspace and select <b>Add Group</b> .  To add a computer to a group, simply drag its icon onto the group icon.  The end result is shown in Fig.  12. Be sure to click the <b>Apply</b> button for the program to ‚Äúremember‚Äù the created groups. <br>  It should be noted that if the IP addresses of the computers in the group are changed, the composition of the created group will not change.  Therefore, do not worry about group membership if you use a DHCP server in your organization. <br><br><img src="https://habrastorage.org/files/939/d3b/a08/939d3ba082c849e69dd596a8718e5734.png"><br>  Fig.  12. Created groups <br><br>  Highlight <b>ISPD "Atlant PD"</b> and click the <b>Set rules</b> button.  So you can set group rules.  To set global rules, select the <b>All</b> node and click the <b>Set rules</b> button. <br>  So, we set the rules for the group <b>ISPDn "Atlant PD"</b> .  In the window that appears, go to the <b>Security Rules</b> section and click the <b>Add</b> button (Fig. 13). <br><br><img src="https://habrastorage.org/files/29a/978/9fb/29a9789fbc344557a7d06ce804252115.png"><br>  Fig.  13. Safety rules: not set yet. <br><br>  On the <b>General</b> tab (fig. 14), set the description of the rule - ‚ÄúProhibition of data exchange with the group &lt;Group name&gt;‚Äù. <br>  Set the rule type - <b>Deny packets</b> , select the direction of the packets - <b>For all packets</b> and the protocol - <b>Any</b> . <br><br><img src="https://habrastorage.org/files/9ee/91e/20f/9ee91e20f74442c3977e3b8bdd60c0e4.png"><br>  Fig.  14. <b>General</b> tab <br><br>  As a source, indicate <b>ISPDN ‚ÄúAtlant PD‚Äù</b> , and as the recipient - one of the groups of your enterprise, for example, IT-department.  Click <b>OK</b> . <br>  What makes this rule?  It prohibits the computers of <b>ISPDn "Atlant PD" to</b> transfer any packets to the group IT-department.  Even if some computer from the IT department group tries to establish a connection with the computer of the <b>ISPDn</b> group <b>‚ÄúAtlant PD‚Äù</b> , the computers of the <b>ISPDn</b> group <b>‚ÄúAtlant PD‚Äù</b> will still not be able to answer it, since the rule prohibits it. <br><br><img src="https://habrastorage.org/files/5b2/093/73b/5b209373b69e4981aad8ddf783ac0c9f.png"><br>  Fig.  15. <b>Source</b> tab <br><br><img src="https://habrastorage.org/files/7cd/c27/dd6/7cdc27dd6e9b4c57a1e930fa3f2fa203.png"><br>  Fig.  16. <b>Recipient</b> tab <br><br>  Repeat this process for the other groups in your network.  You should have a set of rules, shown in Fig.  17 <br><br><img src="https://habrastorage.org/files/6f3/fe0/855/6f3fe08559614b34a560596fa410c6f7.png"><br>  Fig.  17. Created rules for the ISPDn group ‚ÄúAtlant PD‚Äù <br><br>  It remains to deny access to the Internet.  For this, it is enough to prohibit any communication with the gateway.  To do this, we will create another security rule for ISPD "Atlant PD".  On the General tab, set the parameters as follows: <br><ol><li>  Description - Prohibition of access to the Internet </li><li>  Rule Type - Forbid Packages </li><li>  Package direction - For all packages </li><li>  Protocol - Any </li></ol><br><br>  On the <b>Source</b> tab, select the source <b>‚ÄúAtlant PD‚Äù</b> as the source (Fig. 15).  On the <b>Recipient</b> tab, set the server‚Äôs IP address (internal), for example, 192.168.1.1 (Fig. 18). <br><br><img src="https://habrastorage.org/files/2f6/880/e2d/2f6880e2d1b144768d7ffde1fab4bc2d.png"><br>  Fig.  18. Prohibition of access to the Internet <br><br>  Click <b>OK</b> .  By default, all rules are disabled.  To enable them, right-click on each rule and select <b>Enable</b> .  The final version of the rules is shown in Fig.  19. Note the status of the rule - <b>Enabled</b> . <br><br><img src="https://habrastorage.org/files/938/5d5/088/9385d50880fa45b0aa409b798ac07707.png"><br>  Fig.  19. The final version of the rules <br><br>  Close the window for editing security rules, and in the <b>Administration Panel</b> window click the <b>Apply</b> button, and then close the window itself. <br><br><h4>  Conclusion </h4><br>  The task is solved and now the computers of the <b>ISPDN</b> group <b>‚ÄúAtlant PD‚Äù</b> cannot interact with other computers of the local network and they do not have access to the Internet.  Through the CyberSafe Firewall software, the personal data information system was completely isolated from the rest of the network. <br><br><h4>  Links </h4><br>  <a href="http://cybersafesoft.com/rus/about/">CyberSoft LLC</a> <br>  <a href="http://cybersafesoft.com/rus/products/cybersafe-firewall/">CyberSafe Firewall Program</a> <br>  <a href="http://fstec.ru/normotvorcheskaya/akty/53-prikazy/691-prikaz-fstek-rossii-ot-18-fevralya-2013-g-n-21">Order FSTEK Russia ‚Ññ21</a> <br>  <a href="http://fstec.ru/tekhnicheskaya-zashchita-informatsii/dokumenty-po-sertifikatsii/153-sistema-sertifikatsii/591-gosudarstvennyj-reestr-sertifitsirovannykh-sredstv-zashchity-informatsii-n-ross-ru-0001-01bi00">State register of certified information security tools</a> </div><p>Source: <a href="https://habr.com/ru/post/250127/">https://habr.com/ru/post/250127/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../250115/index.html">Automate and speed up the process of setting up cloud servers with Ansible. Part 2: output, debug, and reuse the playbook</a></li>
<li><a href="../250117/index.html">ANT +</a></li>
<li><a href="../250121/index.html">Books for "pumping" the brain</a></li>
<li><a href="../250123/index.html">PIC16F1503. Wheelbarrow for pumping - 1. Sound</a></li>
<li><a href="../250125/index.html">Trends 2015: 5 ways to put the API to serve the business</a></li>
<li><a href="../250129/index.html">Use SVG (Part One)</a></li>
<li><a href="../250135/index.html">Thoughts</a></li>
<li><a href="../250137/index.html">Creating a view with an animated property change</a></li>
<li><a href="../250141/index.html">Installing Redmine on Windows 7 as a service, with sqlite3 database</a></li>
<li><a href="../250145/index.html">Stages of birth of new functionality in the software product</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>