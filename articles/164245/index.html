<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Simple security check on your servers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 

 I suggest to make a simple security check on your servers. 

 The essence of verification is very simple. We switch to the user from which s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Simple security check on your servers</h1><div class="post__text post__text-html js-mediator-article">  Hello! <br><br>  I suggest to make a simple security check on your servers. <br><br>  The essence of verification is very simple.  We switch to the user from which services are running, such as a web server or database, and look at which files in the system it can read and write.  It is necessary to run from under all users, from under which work looking into the world of services.  If you have never done before, the abysses may open, but do not panic and quickly correct everything. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I note that, for example, the Apachev user should not have rights to modify and delete Apache logs. <br><br>  Happy New Year! <br><a name="habracut"></a><br><h2>  Linux </h2><br><h5>  Read check </h5><br><pre><code class="bash hljs">su -l www-data find / -<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> d \( -wholename <span class="hljs-string"><span class="hljs-string">'/dev/*'</span></span> -o -wholename <span class="hljs-string"><span class="hljs-string">'/sys/*'</span></span> -o -wholename <span class="hljs-string"><span class="hljs-string">'/proc/*'</span></span> \) -prune -o -<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> -r {} \; -<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> {} is readable \; 2&gt;/dev/null</code> </pre> <br><h5>  Check on record </h5><br><pre> <code class="bash hljs">su -l www-data find / -<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> d \( -wholename <span class="hljs-string"><span class="hljs-string">'/dev/*'</span></span> -o -wholename <span class="hljs-string"><span class="hljs-string">'/sys/*'</span></span> -o -wholename <span class="hljs-string"><span class="hljs-string">'/proc/*'</span></span> \) -prune -o -<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> -w {} \; -<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> {} is writable \; 2&gt;/dev/null</code> </pre> <br><h2>  Freebsd </h2><br><h5>  Read check </h5><br><pre> <code class="bash hljs">su -m www -c /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/bash find / -<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> d \( -name dev \) -prune -o -<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> -r {} \; -<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> {} is readable \; 2&gt;/dev/null</code> </pre><br><h5>  Check on record </h5><br><pre> <code class="bash hljs">su -m www -c /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/bash find / -<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> d \( -name dev \) -prune -o -<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> -w {} \; -<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> {} is writable \; 2&gt;/dev/null</code> </pre><br><br>  PS <br>  The output of these commands can be redirected to a file and then viewed by convenient means, for example <br><pre> <code class="bash hljs">cut -d<span class="hljs-string"><span class="hljs-string">'/'</span></span> -f1,2,3 &lt; write.out | sort -u</code> </pre><br><br>  UPDATE <br>  <a href="http://habrahabr.ru/users/timukas/" class="user_link">timukas</a> suggested that in newer versions of gnu find, you can check it even easier: <br><pre> <code class="bash hljs">su -l user find / ! -writable find / -writable</code> </pre></div><p>Source: <a href="https://habr.com/ru/post/164245/">https://habr.com/ru/post/164245/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../164231/index.html">What makes it a natural bullshit in the current investment model</a></li>
<li><a href="../164233/index.html">Designing applications: how to get closer to the user?</a></li>
<li><a href="../164237/index.html">Happy New Year 2013!</a></li>
<li><a href="../164239/index.html">AWS: Good, bad, angry</a></li>
<li><a href="../164243/index.html">Generating avatars with PHP, eyes</a></li>
<li><a href="../164247/index.html">Video call to Santa Claus and Snow Maidens</a></li>
<li><a href="../164249/index.html">rCons - quake-style console wrapper for Windows</a></li>
<li><a href="../164253/index.html">PowerShell Web Access: Installation Guide</a></li>
<li><a href="../164257/index.html">Android in numbers</a></li>
<li><a href="../164261/index.html">Windows RT running ... on HD2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>