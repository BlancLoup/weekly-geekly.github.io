<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Stupid sorting and some others, smarter</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the last article, we pushed away from the so-called stupid sort, and through simple metamorphoses, we got everyone a well-known bubble sort . Trans...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Stupid sorting and some others, smarter</h1><div class="post__text post__text-html js-mediator-article"> <a href="http://habrahabr.ru/post/204968/"><img align="right" src="https://habrastorage.org/getpro/habr/post_images/2b4/63e/4d9/2b463e4d9fba9d7964248b77d91f6a45.png"></a> <br clear="left">  In the <a href="http://habrahabr.ru/post/204600/">last article,</a> we pushed away from the so-called <strong>stupid sort,</strong> and through simple metamorphoses, we got everyone a well-known <strong>bubble sort</strong> .  Transforming the latter came to a whole heap of exchange methods of ordering arrays.  One of which, by the way, on structures up to several thousand elements, even works faster than <strong>quick sorting</strong> . <br><br>  Today we will again take the <strong>stupid sort</strong> as a basis and make another small but significant change to it.  As a result, we obtain a completely different evolutionary series of sorting algorithms. <br><br>  <em>image: evolution</em> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br><h1>  Stupid sorting </h1><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/7ae/81a/1aa/7ae81a1aa491bd3514e5dabdc68028ae.gif"></a> <br><br>  Who is too lazy to watch the <a href="http://habrahabr.ru/post/204600/">first series</a> , I remind you what a silly sort is.  We go around the array in order and, having met two unsorted neighbors, we swap them.  Then we return to the start and ‚Äúour song is good, start over‚Äù.  If in this sorting, instead of returning, just go on, then we get a ‚Äúbubble‚Äù, which, as it turned out, can also be improved to <strike>infinity</strike> <strong>O</strong> ( <strong>n</strong> log <strong>n</strong> ). <br><br>  Now we will act differently.  Having exchanged two elements, we changed the order in the array, and we need to somehow find out whether the new arrangement enters into discord with those elements that we checked earlier.  We will not jump into the beginning of the array, we will not go forward, but take a step back.  If there is now also not sorted, then we set a strict order of precedence and take another step back.  And so we will retreat until we reach the sorted part of the array.  After that, you can move on again. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/c0a/88f/ddc/c0a88fddce17f418536fa1a6152e0a4f.gif"></a> <br><br>  Well, congratulations to those who did not know about this method.  You have just met a method whose name is ... <br><br><img align="left" src="https://habrastorage.org/getpro/habr/post_images/843/e7e/44c/843e7e44c50cae38bbbec283a79ecdc0.png"><br clear="right"><h1>  Dwarf sort </h1><br>  <em>image: dutch garden gnome</em> <br><br>  Although the gnomes have known this method for many centuries, the human race has learned about it quite recently.  Already 55 years since humanity used <strong>merge sorting</strong> , 40 years have passed since <strong>fast sorting</strong> became known, already 35 years later, as a <strong>pyramid sorting was</strong> developed - and only in 2000, this unsophisticated, practically childish technique was investigated by <strong>Dick Grun</strong> : <br><br><blockquote>  Dwarf sorting is based on a technique used by the usual Dutch garden gnome (niderl. Tuinkabouter).  This is the method by which a garden gnome sorts a line of flower pots.  Essentially, he looks at the next and previous garden pots: if they are in the correct order, he walks forward one pot, otherwise he swaps them and walks back one pot.  Boundary conditions: if there is no previous pot, he strides forward;  if there is no next pot, he is finished. </blockquote><br><br>  Of course, people offered a way to improve, which the conservative Lilliputians did not think of.  If you memorize the place in which you encountered an unsorted misunderstanding and did a few corrective iterations back, then after restoring order in the rear, you can jump right to where you left off and follow the array further. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/5fe/6d2/e25/5fe6d2e257bc65da5c0f387695042e1e.gif"></a> <br><br>  So a little faster, although in principle this temporary complexity does not improve, it both was and remains <strong>O</strong> ( <strong>n <sup>2</sup></strong> ).  But this brings us not only to a new sorting method, but even to a whole new sorting class.  And the name of this group of algorithms is ‚Äú <strong>Insertion Sorts</strong> ‚Äù. <br><br><h1>  Sort by simple inserts </h1><br>  Here the array segments are progressively processed, starting from the first element and then expanding the subarray, we insert the next unsorted element into its place. <br><br>  For insertion, a buffer area of ‚Äã‚Äãmemory is used in which an element is stored that has not yet appeared in its place (the so-called <em>key element</em> ).  In the sub-array, starting from the right edge, the elements are viewed and compared with the key.  If more key, then the next element is shifted one position to the right, making room for subsequent elements.  If as a result of this search, an element less than or equal to the key is found, then the key element can be inserted into the current free cell. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/dce/d5e/54d/dced5e54d0db3424d95cffbb6dcbe9f5.gif"></a> <br><br>  The same optimized "gnome", but only for the exchange buffer is used. <br><br>  The time complexity of this sorting is <strong>O</strong> ( <strong>n <sup>2</sup></strong> ), but this is not the main thing.  Sorting inserts, apparently - the most effective option for almost sorted arrays.  This fact is used in some complex sorting algorithms.  I remember that I once talked about <a href="http://habrahabr.ru/post/195968/">FlashSort</a> , where, using a <strong>probability distribution</strong> , an almost sorted array is quickly created, which is then reordered by sorting inserts.  <a href="http://en.wikipedia.org/wiki/JSort">Insertion</a> sorting is used in the final part of <a href="http://en.wikipedia.org/wiki/JSort">JSort</a> , where by building an <strong>incomplete heap, the</strong> array is almost sorted operatively.  <a href="http://habrahabr.ru/company/infopulse/blog/133303/">Timsort</a> begins to sort the array by finding almost ordered segments in it, they are also sorted by the insertion method, and then combined by the modified <strong>merge sort</strong> . <br><br>  As you please, although the sorting by inserts itself is slow, its scope is very wide. <br><br>  Well, since so many letters are written about <strong>insertion sort</strong> , the story will not be complete, if not a few kind words about the algorithm, which is called ... <br><br><h1>  Shell sort </h1><br>  About sorting Shell already have <a href="http://habrahabr.ru/post/133996/">an article on Habr√©</a> , so I will be very brief. <br><br>  The day before yesterday already <a href="http://habrahabr.ru/post/204600/">wrote</a> how a very fast ‚Äúcomb‚Äù can be made from a very slow ‚Äúbubble‚Äù.  To do this, you first need to compare not the neighbors, but the elements between which there is a rather impressive distance.  This allows at the initial stage, small values ‚Äã‚Äãto throw closer to the beginning of the array, large - closer to the end.  Then, reducing the gap, we will already impose local orders in the array. <br><br>  <strong>Shell sort</strong> uses the same strategy.  We sort by inserting subgroups of elements, but only in a subgroup they do not go in a row, but are uniformly selected with a certain delta by index.  By systematically reducing the distance between the elements of these disconnected subsets, we sort already much faster. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/681/b84/22f/681b8422f7abd536ddb2b0391727937c.gif"></a> <br><br>  The time complexity of the "shell" - a rather complicated question.  The fact is that so far there is no strict formula by which the optimal numerical series of varying distances between elements in subgroups is built.  The sequence is built empirically, based on numerous tests with various inputs, and the last best refinement for the above-mentioned ‚Äúdeltas‚Äù was determined in 2001: <br><br>  1, 4, 10, 23, 57, 132, 301, 701. <br><br>  Sorting Shell invented, oddly enough, <strong>Donald Shell</strong> in 1959.  In 2014, the author, by the way, turns 90 years old, lives and lives to this day, recently got married for the third time.  So, invent algorithms, keep your brains in good shape - and <strike>outlive the 3 wives of a</strike> full-fledged many years of creative activity you provided. <br><br><h1>  Links </h1><br>  <a href="http://ru.wikipedia.org/wiki/%25D0%2590%25D0%25BB%25D0%25B3%25D0%25BE%25D1%2580%25D0%25B8%25D1%2582%25D0%25BC_%25D1%2581%25D0%25BE%25D1%2580%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25BA%25D0%25B8">Wikipedia sorting algorithms</a> <br>  <a href="http://en.wikipedia.org/wiki/Sorting_algorithm">Sorting Algorithm on Wikipedia</a> <br>  <a href="http://habrahabr.ru/post/204600/">Bubble sort and all-all-all</a> <br>  <a href="http://habrahabr.ru/post/133996/">And again about sorting: choose the best algorithm</a> <br>  <a href="http://rosettacode.org/wiki/Category:Sorting_Algorithms">Implementing sortings on Rosette</a> </div><p>Source: <a href="https://habr.com/ru/post/204968/">https://habr.com/ru/post/204968/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../204956/index.html">Math Focus for MP3, JPEG and Homer Simpson</a></li>
<li><a href="../204958/index.html">Back to the Upper Paleolithic technologies, from everyone's favorite REST, STATEless, CRUD, CGI, Fast–°GI and MVC</a></li>
<li><a href="../204960/index.html">Tesla Model S car was sold in California using Bitcoin as a means of payment</a></li>
<li><a href="../204964/index.html">The final of the open competition in programming artificial intelligence Russian AI Cup 2013</a></li>
<li><a href="../204966/index.html">Windows Azure Blob-storage: CORS support</a></li>
<li><a href="../204970/index.html">We decided to change the operator? Do not forget to find a favorable rate with the help of Dr. Tariff</a></li>
<li><a href="../204972/index.html">Gifts from geeks to relatives and friends</a></li>
<li><a href="../204976/index.html">Bank of America responded to a statement by the Central Bank of China and calculated the fair price for Bitcoin</a></li>
<li><a href="../204978/index.html">Wireless VoIP with Escene WS320-N IP Phone</a></li>
<li><a href="../204980/index.html">EMC Product Update: Webinar Records</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>