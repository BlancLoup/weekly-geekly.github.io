<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Configuring CCBoot v.3 to work in Active Directory</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 

 This article will cover the CCBoot technology from Youngzsoft, which allows diskless booting of the operating system from a remotely located...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Configuring CCBoot v.3 to work in Active Directory</h1><div class="post__text post__text-html js-mediator-article">  Hello! <br><br>  This article will cover the CCBoot technology from Youngzsoft, which allows diskless booting of the operating system from a remotely located machine and working in Active Directory. <br><a name="habracut"></a><br><br><h4>  Prehistory </h4><br>  Hello, I am a system administrator, and I am lazy.  I am tired of suffering, adjusting the work of the operating system every time when a user accidentally deletes any system file or crashes program settings.  Therefore, I wondered if it was possible to load the operating system every time from the reference image, and so that the user's profile and documents were stored on the network, and all changes in the operating system itself were respectively lost after each reboot.  This would be the perfect solution for an internet cafe or gaming club. <br>  A little googling, I found a solution that would suit me one hundred percent. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Youngzsoft has developed a <a href="http://www.ccboot.com/">CCBoot</a> product that allows diskless booting of operating systems with iSCSI.  The diskless computer is connected to the hard disk through a network and loads the operating system from a remotely located machine.  CCBoot uses the fast-paced iSCSI protocol with gPXE diskless boot technology. <br><br>  Not trivial is the task of setting up a CCBoot solution for diskless clients and their work in Active Directory. <br><br><h4>  What is necessary? </h4><br>  To work, we need a raised and configured domain controller, as well as a server with CCBoot, a client reference machine and diskless machines with PXE support that will perform diskless booting over the network. <br><br>  If you install the CCBoot server on a domain controller, then in the CCBoot server, click ‚ÄúOptions‚Äù -&gt; "DHCP Settings" and make sure that the address of the CCBoot server matches the address of the DNS server. <br><br><img src="https://habrastorage.org/storage2/318/468/9be/3184689beb7885cfa73951f6bc3afad7.png"><br><br>  In my test environment, the CCBoot server was raised on a virtual machine running Windows Server 2008 Ent R2 SP1 (IP: 10.7.1.19) on a Hyper-V server.  A domain controller is a physical server running Windows Server 2003 Ent R2 SP2 (IP: 10.0.0.11), where DHCP and DNS services were taken up.  Accordingly, my DHCP Settings settings are as follows: <br><br><img src="https://habrastorage.org/storage2/d9f/60a/170/d9f60a1701314a2c55246b1a504fa683.png"><br><br>  Next you need to add our client CCBoot to the reservation on our DHCP server.  We open the DHCP snap-in, create a reservation to the address 10.7.1.51, and in the right-hand part of the snap-in window we indicate points 066 and 067 according to the figure below, where 10.7.1.19 is the address of our CCBoot server. <br><br><img src="https://habrastorage.org/storage2/0be/b44/3d6/0beb443d6a2af70a3cbefeb1cd0e9894.png"><br><br>  On the CCBoot server, we select the desired client (IP: 10.7.1.51), from which we want to log in to our domain, go to its properties, tick the ‚ÄúEnable Upload Image‚Äù box.  Make sure that the address of the CCBoot server is correct: 10.7.1.19. <br><br><img src="https://habrastorage.org/storage2/dd6/350/929/dd6350929c6caacf2bdf504b669c3193.png"><br><br>  We set up our reference machine, install drivers and necessary software. <br>  Do not forget to optimize both the client and the server for the purpose of faster operation of this solution, using the <a href="http://www.ccboot.com/wiki-quick-start-preparation.htm">recommendations</a> offered by Youngzsoft. <br>  Install the latest version of the CCBoot client with support for Active Directory, click "Install Client". <br><br><img src="https://habrastorage.org/storage2/2db/064/130/2db064130d09870b3828c6fd9de105f3.png"><br><br>  We agree to the installation of drivers for an unverified publisher. <br><br><img src="https://habrastorage.org/storage2/e03/48c/ca2/e0348cca2d18f183c2d742fb31db5c20.png"><br><br>  After installing the client restart the computer. <br><br><img src="https://habrastorage.org/storage2/ce3/ab5/fbf/ce3ab5fbf510da9e06d2de87a3fa8282.png"><br><br>  After loading the operating system, run CCBootPNP.exe, which is located in the folder with the installed client.  Click "Install Known NIC", set the checkbox "Select All", then restart the computer. <br><br><img src="https://habrastorage.org/storage2/4d2/e72/d59/4d2e72d5968e48165872941ace8c5c0d.png"><br><br>  We launch CCBootClient, set the name of our image in the field ‚ÄúImage File Name‚Äù, in the field ‚ÄúServer IP Address‚Äù we indicate the address of our CCBoot server: 10.7.1.19.  Click the ‚ÄúUpload Image‚Äù button and wait for the image upload to our server. <br>  Next, go to the properties of the client machine on the CCBoot server and set a tick in front of ‚ÄúKeep Write-back‚Äù.  In the pop-up window to the question ‚ÄúDo you want to write-back?  ¬ªWe answer in the affirmative. <br><br><img src="https://habrastorage.org/storage2/a32/019/a32/a32019a32b47822248300a46cfe91328.png"><br><br>  Launch CCBootClient, click ‚ÄúInstall AD‚Äù and wait for confirmation.  Next, enter this machine in the domain.  After confirming that the machine has been entered into the domain, turn it off. <br><br>  Go to the CCBoot server, in the installation folder, find the file "CCBootAD.exe" and run it.  Click ‚ÄúAdd‚Äù and add our computer.  My test machine name is CCBOOTWIN7TEST. <br>  After the manipulations with the CCBootAD.exe utility in the ADUC snap-in, we will see the CCBoot Domain User in the machine description. <br><br><img src="https://habrastorage.org/storage2/042/04d/439/04204d4395ffe592686d54fd1571ed9d.png"><br><br>  In the properties of the machine on the CCBoot server, we change the name of the machine from PC051 to CCBOOTWIN7TEST. <br><br><img src="https://habrastorage.org/storage2/46e/330/edb/46e330edb042f2e7082b92573d25b15d.png"><br><br>  After downloading the image from the reference test machine to the CCBoot server, open Disk Manager on the server.  It is seen that the new image appeared in the group New upload disk group. <br><br><img src="https://habrastorage.org/storage2/f79/75a/6cc/f7975a6cc5c624dbbec33157e56996c6.png"><br><br>  Next, we need to specify that our machine will have to boot from the newly created image.  Open the Client Manager and in the properties of the client machine, in the Disk Group field, specify the group we need - New upload disk group. <br><br><img src="https://habrastorage.org/storage2/a1a/a34/aed/a1aa34aedc30cdffd6f13507d389146b.png"><br><br>  If we have several groups, when loading, the server will ask us which image to load from which group.  Click the button ‚Äú&gt;&gt;‚Äù and make sure that in our group one image is win7x86.vhd. <br><br><img src="https://habrastorage.org/storage2/c72/8c2/8d8/c728c28d8af867f225f5b48981459ef5.png"><br><br>  Next you need to specify the machine that it can join the domain. <br>  Starting from version 3, CCBoot allows us to run commands from batch files automatically when the client loads. <br>  Go to the folder on the server where CCBoot is installed, then to the ‚ÄúCmd‚Äù folder.  Here we can create a batch file that clients will use when they download.  If the file name is ‚Äúpublic.txt‚Äù, all clients will use it.  If the file name matches the client's IP address, this client will use the commands from this batch file.  If both files are in the ‚ÄúCmd‚Äù folder, the client will use the file with the name corresponding to its IP address. <br>  Create a file 10.7.1.51.txt and add the line ‚ÄúJoin domain.com‚Äù, where domain.com is our domain name. <br><br><img src="https://habrastorage.org/storage2/cdc/53a/f46/cdc53af465d17087c76a4321d40d2a6c.png"><br><br>  Go to the properties of the server and make sure that a check is checked against ‚ÄúRun batch Command at Client‚Äù. <br><br><img src="https://habrastorage.org/storage2/a01/d6a/194/a01d6a1944654cbbf86e20ccd5033ebb.png"><br><br>  Now we disconnect the hard drive from the test computer, in the BIOS we set the network boot.  The CCBoot server sees our machine, Windows 7 starts booting. You will be prompted to either load the recovery console or select the normal Windows boot.  We select the normal download, wait for the login window to appear, log in as a domain user and make sure that the domain is visible and the available network resources.  Shut down the system. <br>  Go to the client properties on the CCBoot server, click the ‚ÄúSave to Image‚Äù button, confirm, uncheck ‚ÄúKeep Write-back‚Äù, save the changes. <br><br><img src="https://habrastorage.org/storage2/2d3/cd1/fd2/2d3cd1fd2ee82e08b0ed66cec0abc729.png"><br><br><h4>  Result </h4><br>  Now every time the operating system boots, the client gets a reference image with customized software, which we can change at any time.  Personal data can be stored through roaming profiles by configuring group policies accordingly.  The loading speed of the operating system over the network is comparable to the speed of loading the system from the hard disk.  However, you can significantly increase the speed of network boot, if you store images on SSD-hard drives using a gigabit network, etc. </div><p>Source: <a href="https://habr.com/ru/post/172481/">https://habr.com/ru/post/172481/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../172467/index.html">Intel division has released an Android version optimized for Intel chips (with UEFI support)</a></li>
<li><a href="../172469/index.html">Shooting Time Lapse video for Android</a></li>
<li><a href="../172473/index.html">Distributed rendering</a></li>
<li><a href="../172475/index.html">Check input parameters or indirect references to BASH</a></li>
<li><a href="../172479/index.html">How I used Google Glass: the future, but with monthly updates (part 1)</a></li>
<li><a href="../172485/index.html">The collective mind HabraHabra chose the best games of all times and peoples for 2013</a></li>
<li><a href="../172487/index.html">We generate on .Net</a></li>
<li><a href="../172489/index.html">CRUD matrix technology. Practical experience</a></li>
<li><a href="../172491/index.html">Connecting Android sources to Eclipse</a></li>
<li><a href="../172495/index.html">PayPal received a license of the Central Bank of the Russian Federation?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>