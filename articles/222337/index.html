<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Bleeding Heart Status: Upgrade to Broken</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For information: In many references to this article, the authors mistakenly call me an employee of Opera Software. In fact, I left Opera more than a y...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Bleeding Heart Status: Upgrade to Broken</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/27f/111/3a4/27f1113a491c7e171b273860a951073d.jpg"></div><br><br>  <i>For information: In many references to this article, the authors mistakenly call me an employee of Opera Software.</i>  <i>In fact, <a href="https://vivaldi.net/blogs/entry/end-of-a-personal-era">I left Opera</a> more than a year ago and today I work in a new company - <a href="https://vivaldi.net/blogs/entry/i-m-still-a-techie-not-a-nettie">Vivaldi Technologies AS</a></i> <br><br>  <b>May 12 Update</b> <br>  After a more thorough investigation of the problem in conjunction with F5, it turned out that the test used to detect the F5 BigIP servers showed higher numbers than it should be, therefore the number of such servers turned out to be overestimated.  This means that the corresponding BigIP server information and conclusions are incorrect, so I‚Äôll delete the chapter on BigIP servers.  I apologize to the F5 and their customers for this error. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Prehistory</b> <br><br>  As I <a href="http://cve.mitre.org/cgi-bin/cvename.cgi%3Fname%3DCVE-2014-0160">mentioned</a> in my <a href="https://vivaldi.net/blogs/entry/the-heartbleed-vulnerability-or-why-you-should-change-your-vivaldi-net-password">previous article</a> , a few weeks ago, a vulnerability was discovered in the <a href="http://www.openssl.org/">OpenSSL</a> library ( <a href="http://cve.mitre.org/cgi-bin/cvename.cgi%3Fname%3DCVE-2014-0160">CVE-2014-0160</a> ), which received the loud name " <a href="http://heartbleed.com/">Heartbleed</a> ".  This vulnerability allowed attackers to extract such important information as, for example, user passwords or private site encryption keys, penetrating vulnerable "protected" web servers (an <a href="http://xkcd.ru/1354/">explanatory comic</a> ). <br><br>  As a result, all affected websites had to patch their servers, as well as perform other actions in order to protect their users.  It is worth noting that the level of danger has increased significantly after information about the vulnerability spread through the network (several serious incidents were recorded and at least one person who tried to use Heartbleed for personal gain was under arrest). <br><a name="habracut"></a><br>  <b>Slow down patch usage</b> <br><br>  For several weeks from the day the vulnerability was discovered, I monitored the activity of the patch application using my own TLS Prober tester.  Currently, the tester scans approximately 500,000 individual servers using changes to host names in different domains (a total of 23 million) with a sample of about a million websites from the Alexa Top. <br><br>  According to the six scans that I carried out from April 11, the number of vulnerable servers dropped sharply from 5.36% of all servers checked to 2.33% this week.  About 20% of the scanned servers support the Heartbeat TLS Extension, this suggests that up to 75% of the vulnerable servers were patched during the first four days after the vulnerability was discovered, i.e.  before my first scan. <br><br>  However, if in the first two weeks of scanning the number of vulnerable servers was reduced by half - to 2.77%, in the next couple of weeks this figure decreased only to 2.33%, which indicates an almost complete halt in the process of ‚Äúcuring‚Äù vulnerable servers. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ab7/944/c6d/ab7944c6dd62cdb0d4b66856f20bcebd.png" alt="image"><br><br>  In general, a scan reveals that the servers of the most popular websites were patched.  About 73% of the websites scanned use certificates from the Certificate Authority that are recognized by browsers, and only 30% of vulnerable websites use such certificates.  All this slightly reduces the importance of the problem as a whole, but even if some servers look insignificant on the scale of the entire Internet, it is no easier for real users of these servers. <br><br>  There is an equally serious problem: many certificates used by vulnerable servers continue to be used on repaired servers.  In fact, if we assume that all the servers that supported Heartbeat were scanned before this for the first scan, 2/3 of the certificates were not updated after repairing the servers using a patch (because they turned out to be the same as before ).  Considering that each server patched after April 7 allegedly possessed a compromised certificate private key (after all, attackers could use Heartbleed on these servers), we can talk about a serious problem that still threatens users of such websites. <br><br>  In addition, digging in numbers revealed two more problems. <br><br>  <s><b>The number of vulnerable Big5 F5 servers remains stable</b></s> <s><br><br></s>  <s>The first problem is that the absolute number of F5 BigIP servers (powerful SSL / TLS accelerators) with a specific configuration using vulnerable versions of OpenSSL remains unchanged.</s>  <s>To identify BigIP servers today is very easy, because</s>  <s>they have problems with certain types of TLS handshaking.</s> <s><br><br></s>  <s>True, the schedule looks a bit strange, because</s>  <s>These types of BigIP servers were actually patched even better than most servers that support Heartbeat.</s> <s><br><br></s>  <s>The reason that the absolute number of vulnerable BigIP servers remained unchanged lies in the following: the number of BigIP servers, including those using OpenSSL version 1.0.1 (with Heartbeat support), was doubled in the last month (after a slow decline in the last couple of years), and many newer servers use the vulnerable version of the OpenSSL library.</s> <s><br><br></s>  <s>I assume that part of the problem was created by the new owners of BigIP servers: perhaps they simply forgot to update the original server software after its installation.</s> <s><br><br></s>  <s>Given that BigIP servers are typically used to serve a large number of users, it can be assumed that all of them have quite serious security problems.</s> <br><br>  <b>Upgrade to Broken Heart</b> <br><br>  The second problem is also related to the number of vulnerable BigIP servers, but it looks much worse: during my last scan, 20% of currently vulnerable servers (sampled by IP) were detected, <s>and 32% (!) Of BigIP vulnerable servers</s> that were <b>not vulnerable</b> during previous checks.  This means that thousands of sites that previously had no problems with Heartbleed, now these problems got! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ed6/fef/647/ed6fef6479009411052ab3b3a40634b6.png" alt="image"><br><br>  One would assume that the identified numbers are wrong, because  the analysis assumes the immutability of the IP addresses of the servers, which is not always the case.  However, using the same methodology for verifying server certificates shows the same trend. <br><br>  It is hard to say exactly where this problem came from, but one of the possibilities is that the heightened attention to the topic from the media has led server administrators to doubt that their servers are safe enough.  To this could be added pressure from the authorities with the requirement ‚Äúnot to be idle‚Äù, as a result, the software was updated completely protected from the misfortune of the servers to the new version, which at that time was not yet fixed by the developers themselves. <br><br>  To fix this problem, owners of vulnerable servers will have to go through the entire patch application procedure again, which will lead to monetary costs, which could in fact be avoided.  Roughly, applying a patch, replacing a certificate, and carrying out appropriate testing will require three system administrators to work for four hours.  With the cost of each admin hour at $ 40, the approximate total amount of extra costs for correcting 2500 ‚Äúdiseased‚Äù servers (in my example) can be about $ 1.2 million. And considering that my testing covers only about 10% of all servers in the network, the total contingency costs will be $ 12 million. <br><br>  Heartbleed is a very serious problem and fixing this vulnerability needs to be made to all affected servers, but I begin to think that the activity of the thematic press, suffering from inaccuracies and giving early advice (such as ‚Äúchange your password immediately!‚Äù without waiting for the server software update or ‚Äúcertificate revocation due to Heartbleed to significantly slow down the speed of the network‚Äù), is, to some extent, counterproductive. <br><br>  The aforementioned data on servers that have been ‚Äúupdated‚Äù and thus become vulnerable to a problem that had not been addressed before, may be the result of a distorted press coverage of the problem. <br><br>  My recommendations remain the same: first we install the patching patch, then we update the certificates, and only then we change the passwords (in that order).  Thematic journalists should concentrate on this, and all panic should be eliminated completely.  Observe actual accuracy when discussing a problem, offer readers ways to check (can they become a victim of a vulnerability), for example, tell us about existing software tools, such as SSL Labs <a href="https://www.ssllabs.com/ssltest/">Server Tester</a> , and do not forget to tell you how to get rid of the problem. </div><p>Source: <a href="https://habr.com/ru/post/222337/">https://habr.com/ru/post/222337/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../222319/index.html">Connect your Macbook Pro to a 10G Ethernet network</a></li>
<li><a href="../222321/index.html">What is meant by apt?</a></li>
<li><a href="../222323/index.html">Mobile application analytics. Webinar recording</a></li>
<li><a href="../222325/index.html">AniJS is a library for declarative description of CSS animations.</a></li>
<li><a href="../222327/index.html">Oracle wins appeal against google</a></li>
<li><a href="../222343/index.html">Cross compilation of libraries under iOS, doing it right</a></li>
<li><a href="../222345/index.html">Two projects of mass online collaboration</a></li>
<li><a href="../222347/index.html">Headset AfterShokz Bluez. Sound directly to the brain</a></li>
<li><a href="../222353/index.html">Comprehensive analytics of an online project using Google Analytics and Google Docs</a></li>
<li><a href="../222355/index.html">Strategy (Translated from the English chapter of "Strategy" from the book "Pro Objective-C Design Patterns for iOS" by Carlo Chung)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>