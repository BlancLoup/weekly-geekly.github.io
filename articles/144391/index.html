<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The principle of the SIP client in the browser</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After talking in the comments to the post , I realized that not everyone fully understands the principle of SIP in the browser. Therefore, I decided i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The principle of the SIP client in the browser</h1><div class="post__text post__text-html js-mediator-article">  After talking in the comments to the <a href="http://habrahabr.ru/post/144293/">post</a> , I realized that not everyone fully understands the principle of SIP in the browser.  Therefore, I decided impromptu to write a small article, where in general to reveal this topic. <br><img src="https://habrastorage.org/storage2/f34/994/b01/f34994b01b65c9a40b4add379643f15c.png"><br><br><a name="habracut"></a><br><br>  Characters: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  HTTP server </h4><br>  Nothing special is required from it, only support for the HTTP protocol. <br><br><h4>  SIP server </h4><br>  In addition to the usual SIP protocols - UDP, TCP, TLS, support for <a href="http://tools.ietf.org/html/rfc6455">WebSocket</a> is required.  WebSocket is a very simple protocol, it works as follows: <br><ul><li>  client connects to server via TCP or TLS </li><li>  sends an HTTP request, in which there is a sign that the client wants to switch to WebSocket </li><li>  the server is responsible 101 Protocol Switching </li><li>  WebSocket connection is ready for data transmission in full duplex mode; it is practically TCP with a small header for each block of transmitted data. </li></ul><br>  Some SIP message headers contain information about the transport layer protocol, for example: <br><br> <code>Via: SIP/2.0/UDP 192.168.1.1;branch=z9hG4bKyQz1234567</code> <br> <br>  And since WebSocket is not described in the main <a href="http://www.ietf.org/rfc/rfc3261.txt">SIP</a> document, an <a href="http://tools.ietf.org/html/draft-ibc-sipcore-sip-websocket-02">extension was</a> required, this is not yet a standard, but it can already be used.  This document does not contain any fundamental changes to rfc3261, for the most part it simply resolves obvious things, such as the following heading: <br><br> <code>Via: SIP/2.0/ <b>WS df7jal23ls0d.invalid</b> ;branch=z9hG4bKyQz1234567</code> <br> <br><h4>  Browser </h4><br>  It is more complicated here, a whole bunch of technologies are required: WebSocket to connect to the SIP server;  SIP stack, which can be implemented in JavaScript;  WebRTC to transfer audio and video. <br><br><h4>  How does it work </h4><br>  It is probably already clear, the beauty of the whole scheme is that no protocol matching agents are required.  The client in the browser is a full participant and interacts directly with any SIP server, and any clients, for example, with a hardware IP phone.  The only requirement is support for WebRTC codecs. <br><br><h4>  How to test </h4><br>  Information about whether Asterisk can communicate via WebSocket could not be found.  But there are other SIP servers with WebSocket support, of course they are inferior in functionality, but enough to test it.  For example, a <a href="http://www.officesip.com/">server</a> for Windows starting from version 3.2 supports WebSocket and even has a built-in HTTP server. </div><p>Source: <a href="https://habr.com/ru/post/144391/">https://habr.com/ru/post/144391/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../144386/index.html">Putting the vigilance of users to notice Vkontakte</a></li>
<li><a href="../144387/index.html">The application Mamba Hiring: IT-specialists need to look for IT-methods</a></li>
<li><a href="../144388/index.html">How and why to measure FLOPS</a></li>
<li><a href="../144389/index.html">DevConf 2012 - generated alpha version of the conference program</a></li>
<li><a href="../144390/index.html">Home wireless network for viewing HD video: a dream or a reality?</a></li>
<li><a href="../144392/index.html">Informational space</a></li>
<li><a href="../144393/index.html">JSZip six months later: unpacking archives, working on Node.js</a></li>
<li><a href="../144395/index.html">Meizu MX smartphones are now officially in Russia</a></li>
<li><a href="../144398/index.html">Remaking the power supply in pictures</a></li>
<li><a href="../144399/index.html">Interview with the main developer Dr.Web –°ureIt! 7.0</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>