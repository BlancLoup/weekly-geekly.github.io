<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Custom targeting - what is it and why is it needed?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="What is it? 

 Custom targeting is an ad serving setting based on some internal website parameters. For example, on the website of classmates. Ru, suc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Custom targeting - what is it and why is it needed?</h1><div class="post__text post__text-html js-mediator-article"><h4>  What is it? </h4><br><br>  <b>Custom targeting</b> is an ad serving setting based on some internal website parameters.  For example, on the website of classmates. Ru, such parameters can be a school, an institute or a military unit specified in a user profile.  on Habr√©, user targeting could take into account the user's karma, or any data from the <a href="http://webmechanics.habrahabr.ru/resume/">summary</a> . <br><br><h4>  Why do you need it? </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The main purpose of user targeting, in my opinion, is the ability to create the most personalized advertising messages.  Then I will talk about setting up and using custom targeting using the example of the <a href="http://www.adfox.ru/">AdFox</a> banner system and our website <a href="http://www.maindoor.ru/">maindoor.ru</a> . <br><br><a name="habracut"></a><br><br><h4>  Two words about the project </h4><br><br>  Maindoor.ru is a website about foreign real estate.  In short, the site consists of several large sections - countries, catalogs and texts (news and articles).  Objects in the catalog, news and texts may belong to a particular country.  For objects this attribute is obligatory, for texts it is not. <br><br>  From time to time we have advertisers who want to place different banners on sites from different countries.  For example, a hypothetical British Airways wants to see banners on flights to London on the pages of objects from England, and on the pages of American objects - banners on flights to New York. <br><br>  In addition, our site is bilingual, so there is a natural desire to place English banners on the English version (for the sense of banners in Russian for the English-speaking public is zero). <br><br>  For Russian and English versions, we use the same templates, and all the inscriptions are in the localization files. <br><br><h4>  Custom targeting setting </h4><br><br>  In the AdFox interface, custom targeting parameters are entered, a new call code is generated, in which these parameters are taken into account, and further in the template from which the banner is called, the required values ‚Äã‚Äãare transferred to the call code. <br><br>  Let me explain in more detail on the example of language targeting.  Go to the interface AdFox, click on the tab "Settings", then click "Custom targeting." <br><br><img src="http://banners.maindoor.ru/adfox_article/01.gif" alt="image"><br><br>  We see there something like this: <br><br><img src="http://banners.maindoor.ru/adfox_article/02.gif" alt="image"><br><br>  The first two parameters will be empty for you too, but we will fix it now :) press the pencil opposite the topmost parameter, an editing window will open, like this (you will have number 1 instead of number 3): <br><br><img src="http://banners.maindoor.ru/adfox_article/03.gif" alt="image"><br><br>  Fill out the form like this: <br><br><img src="http://banners.maindoor.ru/adfox_article/04.gif" alt="image"><br><br>  The name is the name of the variable, ‚ÄúTargeting Name‚Äù is how you see this targeting when you set up a campaign.  What is the "name of the report" I will explain later.  Click "Change" and return to the window with variables. <br><br>  Now, when generating the call code for all your banner types, the code will set the variable puid1, which stores the language identifier.  Now we are just these identifiers and we will get ... We press the "Values" button, then the "Add" button.  Fill out the form like this: <br><br><img src="http://banners.maindoor.ru/adfox_article/06.gif" alt="image"><br><br>  Save the changes, doing the same for the English language.  We get something like this: <br><br><img src="http://banners.maindoor.ru/adfox_article/07.gif" alt="image"><br><br>  The banner call code will now look something like this: <br><br><pre>
 &lt;! - AdFox START -&gt;
 &lt;! - maindoor.ru -&gt;
 &lt;! - Site: Maindoor.Ru / News -&gt;
 &lt;! - Category: &lt;not set&gt; -&gt;
 &lt;! - Banner Type: Padding 100% -&gt;
 &lt;script type = "text / javascript"&gt;
 &lt;! -
 if (typeof (pr) == 'undefined') {var pr = Math.floor (Math.random () * 1000000);  }
 if (typeof (document.referrer)! = 'undefined') {
   if (typeof (afReferrer) == 'undefined') {
     afReferrer = escape (document.referrer);
   }
 } else {
   afReferrer = ";
 }
 var addate = new Date ();
 document.write ('&lt;scr' + 'ipt type = "text / javascript" src = "http://ads.adfox.ru/42644/prepareCode?p1=bgye&amp;amp;amp;amp;amp;p2=y&amp;amp;amp ; amp; pucn = a &amp; amp; amp; amp; pfc = a &amp; amp &amp; amp; amp; amp; pfb = a &amp; amp; amp; amp; pr = '+ pr +' &amp; amp; amp &amp; amp; pt = b &amp; amp; amp; pd = '+ addate.getDate () +' &amp; amp &amp; amp; amp; pw = '+ addate.getDay () +' &amp; amp &amp; amp; p &amp; amp; pv = '+ addate.getHours () +' &amp; amp. amp &amp; amp; py = a &amp; amp &amp; amp; amp; prr = '+ afReferrer +' &amp; amp &amp; amp; amp; puid1 = "&gt; &lt;\ / scr '+' ipt&gt; ');
 // -&gt;
 &lt;/ script&gt;
 &lt;! - AdFox END -&gt;

</pre><br><br>  Now all that's left is to insert a new code for the call to the page and pass the value of the puid1 variable.  With the insertion of the code, I think you can handle without my explanation :) Two words about how you can assign the value of the JS variable puid1. <br><br>  The language identifier for the material is stored in the database along with the title, the main text and other things.  We can transfer it to the template and further modify the call code like this: <br><br><pre>  rr = '+ afReferrer +' &amp; puid1 = &lt;? = $ language_id?&gt; " </pre><br><br>  When you create a campaign, or edit an existing one, on the Targeting tab, you will have the Targeting by Language tab. <br><br><img src="http://banners.maindoor.ru/adfox_article/10.gif" alt="image"><br><br>  Pay attention to the tick "unknown, not set."  A check mark indicates that a campaign should be shown if, for some reason, the system cannot determine the language (this happens). <br><br>  Now I‚Äôll say a few words about the reports.  After some time after using the language targeting, in the General Reports traffic statistics will appear on the Russian and English versions of the site.  Go to the general reports, select among the reports "Targeting by language": <br><br><img src="http://banners.maindoor.ru/adfox_article/08.gif" alt="image"><br><br>  Click "Show" and see the distribution of traffic by language: <br><br><img src="http://banners.maindoor.ru/adfox_article/09.gif" alt="image"><br><br>  Here's a sneak that I wanted to talk about custom targeting.  I will be happy to talk in the comments :) </div><p>Source: <a href="https://habr.com/ru/post/81320/">https://habr.com/ru/post/81320/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../81312/index.html">Anti-spam: IronPort C360</a></li>
<li><a href="../81315/index.html">Opera Mini Browser Nominated for Two GSMA Awards</a></li>
<li><a href="../81316/index.html">Toshiba Satellite E205 - Wireless Display-Enabled Laptop</a></li>
<li><a href="../81317/index.html">British police are interested in the photo of "smoking" baby</a></li>
<li><a href="../81318/index.html">Budget 19 "rack for home</a></li>
<li><a href="../81321/index.html">Released the first Russian application of augmented reality AlterGeo for iPhone</a></li>
<li><a href="../81322/index.html">Three rock climbing robots from Israel</a></li>
<li><a href="../81323/index.html">buggy Opera.com site</a></li>
<li><a href="../81324/index.html">Teac G2 - musical shout for home</a></li>
<li><a href="../81325/index.html">The known universe</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>