<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Threads in C # .NET first steps</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dear readers, in this article I want to talk about such an important means of multitasking programming environment. NET, as multithreading. This artic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Threads in C # .NET first steps</h1><div class="post__text post__text-html js-mediator-article">  Dear readers, in this article I want to talk about such an important means of multitasking programming environment. NET, as multithreading.  This article contains basic information, and is intended for the rapid development of the basics of multithreading in the C # language.  However, I will not rant about the benefits of parallel execution of tasks, and move on to the sample code. <br><a name="habracut"></a><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Threading; <span class="hljs-comment"><span class="hljs-comment">//      namespace ConsoleApplication1 { class Program { static void Main(string[] args) { Thread myThread = new Thread(func); //    (Thread) myThread.Start(); //  for (int i = 0; i &lt; 10; i++ ) { Console.WriteLine(" 1  " + i); Thread.Sleep(0); } Console.Read(); //   } //     static void func() { for (int i = 0; i &lt; 10; i++) { Console.WriteLine(" 2  " + i.ToString()); Thread.Sleep(0); }</span></span></code> </pre>  What you should pay attention to in this program.  Primarily this is the <b>System.Threading</b> namespace.  This namespace contains classes that support multi-threaded programming.  And it is there that contains the class <b>Thread</b> , which we use later in the code. <br>  Next, we create a stream object. <br><pre> <code class="cs hljs">Thread myThread = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Thread(func);</code> </pre> <br>  The constructor of this class must pass the name of the function returning <b>void</b> , which itself will be called in a parallel thread.  Then we start our thread with the <b>Start ()</b> method defined inside the newly created thread. <br><br>  So, the main and minor streams in parallel execute an almost identical code, they count to 9 (as it was customized, from scratch), before that calling their own number.  Pay attention to the static method <b>Thread.Sleep (0)</b> .  It suspends the thread causing it for the number of milliseconds specified in the parameter.  But in this case the parameter 0 is passed to it. This means that the thread must pause in order to allow the execution of another thread. <br><br>  And in order for the console not to close ahead of time, we will expect keyboard input ( <b>Console.Read</b> ). As a result, your program will output the following to the console: <br>  Stream 1 prints 0 <br>  Stream 2 prints 0 <br>  Stream 1 outputs 1 <br>  Stream 1 outputs 2 <br>  Stream 1 outputs 3 <br>  Stream 2 outputs 1 <br>  &lt;...&gt; etc. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Although the output will be different each time.  It depends on many factors. It is worth taking into account that there are two types of flows: priority and background.  Background threads automatically end when priority is completed.  By default, the <b>Main</b> function in the priority stream is started and the remaining streams are created as background threads.  That is why we must ensure that the main thread does not terminate before the end of the derivatives.  In order to prevent this, we can use the <b>IsAlive</b> field, which returns true if the stream is active.  Either the <b>Join ()</b> method, which forces the thread in which it is called to wait for the completion of the thread to which it belongs. <br><br>  However, we can change the types of flows ourselves.  The <b>IsBackground</b> property of the stream determines whether the stream is background.  Thus, we can make the thread a priority. <code>myThread.IsBackground = false;</code>  However, we do not need to create a new thread inside the <b>Main</b> method.  Let's create a class that will open a new thread in its own constructor.  The class created by us will continue to deal with the account, but this time it will count to the specified number, due to the transfer of parameters to the stream. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Threading; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">ConsoleApplication1</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Program</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">myThread</span></span> { Thread thread; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">myThread</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> name, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> num</span></span></span><span class="hljs-function">) </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">//          { thread = new Thread(this.func); thread.Name = name; thread.Start(num);//    } void func(object num)// ,   { for (int i = 0;i &lt; (int)num;i++ ) { Console.WriteLine(Thread.CurrentThread.Name + "  " + i); Thread.Sleep(0); } Console.WriteLine(Thread.CurrentThread.Name + " "); } } static void Main(string[] args) { myThread t1 = new myThread("Thread 1", 6); myThread t2 = new myThread("Thread 2", 3); myThread t3 = new myThread("Thread 3", 2); Console.Read(); } } }</span></span></span></span></code> </pre>  Let us consider this example.  The constructor of our <b>myThread</b> class takes 2 parameters: a string in which we define the name of the stream, and the number to which the count will be kept in the loop.  In the constructor, we create a stream associated with the <b>func</b> function of this object.  Next, we assign a name to our stream using the <b>Name</b> field of the created stream.  And we start our thread by passing the <b>Start</b> function an argument. <br><br>  Note that a function called by a thread can take only 1 argument, and only of type object.  In the <b>func</b> function, the <b>for</b> loop counts to the number passed to it as an argument, and the thread ends.  In the <b>Main</b> function, we create 3 test objects, whose operation will output approximately the following text to the console. <br><br>  Thread 1 prints 0 <br>  Thread 1 prints 1 <br>  Thread 2 prints 0 <br>  Thread 2 prints 1 <br>  Thread 2 prints 2 <br>  Thread 2 has ended <br>  &lt;...&gt; <br><br>  With this example, I want to finish my article.  And although many means of working with threads have remained unaffected by me, I dare to hope that the information presented by me will be useful. </div><p>Source: <a href="https://habr.com/ru/post/126495/">https://habr.com/ru/post/126495/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../126486/index.html">Distortion (waveshaping) effects in Max / MSP</a></li>
<li><a href="../126488/index.html">Script convenient work with WebDAV in Ubuntu</a></li>
<li><a href="../126489/index.html">Competition for children habravchan</a></li>
<li><a href="../126492/index.html">In Yandex.Money, new limits and special commission</a></li>
<li><a href="../126493/index.html">Personal computers: in the prime of life!</a></li>
<li><a href="../126496/index.html">Backup in FreeNas</a></li>
<li><a href="../126497/index.html">Neural network data compression</a></li>
<li><a href="../126498/index.html">Another project that gave way to MSTU. Bauman</a></li>
<li><a href="../126499/index.html">User rights in information systems through the lens of CMS Bitrix</a></li>
<li><a href="../126500/index.html">A group of 27,612 South Koreans sued Apple</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>