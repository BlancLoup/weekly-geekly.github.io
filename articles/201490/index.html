<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We create the first application on NancyFX. Part Five. Super Simple View Engine</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In a previous article, Create the first application on NancyFX. Part Four We continue to work with the modules, we continued to study the modules. In ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We create the first application on NancyFX. Part Five. Super Simple View Engine</h1><div class="post__text post__text-html js-mediator-article">  In a previous article, <a href="http://habrahabr.ru/post/200632/">Create the first application on NancyFX.</a>  <a href="http://habrahabr.ru/post/200632/">Part Four</a>  <a href="http://habrahabr.ru/post/200632/">We continue to work with the modules,</a> we continued to study the modules.  In this article, we will examine the Super Simple View Engine graphics engine coming with Nancy out of the box. <br><a name="habracut"></a><br>  So let's create a new module: <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Nancy; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">NancyFxApplication</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ViewModule</span></span> : <span class="hljs-title"><span class="hljs-title">NancyModule</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ViewModule</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">base</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"/views"</span></span></span></span></span><span class="hljs-function">)</span></span> { Get[<span class="hljs-string"><span class="hljs-string">"/"</span></span>] = param =&gt; View[<span class="hljs-string"><span class="hljs-string">"View.html"</span></span>]; } } }</code> </pre> <br>  And we will add the View.html file to the root of our project, which will look like this: <br><br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/1999/xhtml"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Super Simple View Engine Rule!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>Hello! I'm super Simple View Engine!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Run the application and get the following result: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/653/777/7d6/6537777d630a6a034bda52c157640273.png"><br><br>  Nancy supports the following file allocation and file naming conventions for submissions: <br><ul><li>  The presentation file can be placed in the project root. </li><li>  The view file can be placed in the Views folder. </li><li>  The file can be placed in the folder with the module name, which in turn is in the Views folder. </li><li>  The file may be in the root of the module folder. </li><li>  The file can have a name like a model and be anywhere in the project. </li><li>  You can also specify the location of the file manually or define your own agreement on the placement of the submission. </li></ul><br>  You can specify the name of the file without the extension, Nancy simply selects the first available view file with the name passed to View. <br><br>  Now that we‚Äôve figured out the layout of the view files, let's take a closer look at the Super Simple View Engine. <br>  Super Simple View Engine uses syntax similar to Razor syntax.  You can find a project on GitHub by clicking on the <a href="https://github.com/grumpydev/SuperSimpleViewEngine">Super Simple View Engine</a> link.  SSVE does not support nested collections.  When displaying complex data types, it is much more efficient to use Razor. <br><br>  So, now we use the fake repository from the previous article to get data.  The repository code looks like this: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">NancyFxApplication</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">DishesRepository</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> List&lt;Dish&gt; Dishes = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;Dish&gt; { <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dish { Id=<span class="hljs-number"><span class="hljs-number">1</span></span>, Name = <span class="hljs-string"><span class="hljs-string">"Porridge"</span></span>, IsSpicy = <span class="hljs-literal"><span class="hljs-literal">false</span></span>, Ingridientses = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;Ingridients&gt;{<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Ingridients{Id = <span class="hljs-number"><span class="hljs-number">1</span></span>, Name = <span class="hljs-string"><span class="hljs-string">"Porridge"</span></span>}}}, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dish {Id = <span class="hljs-number"><span class="hljs-number">2</span></span>, Name = <span class="hljs-string"><span class="hljs-string">"Chili"</span></span>, IsSpicy = <span class="hljs-literal"><span class="hljs-literal">true</span></span>}, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dish {Id = <span class="hljs-number"><span class="hljs-number">3</span></span>, Name = <span class="hljs-string"><span class="hljs-string">"Icecream"</span></span>, IsSpicy = <span class="hljs-literal"><span class="hljs-literal">false</span></span>}, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dish {Id = <span class="hljs-number"><span class="hljs-number">3</span></span>, Name = <span class="hljs-string"><span class="hljs-string">"Taco"</span></span>, IsSpicy = <span class="hljs-literal"><span class="hljs-literal">false</span></span>}, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dish {Id = <span class="hljs-number"><span class="hljs-number">3</span></span>, Name = <span class="hljs-string"><span class="hljs-string">"Burito"</span></span>, IsSpicy = <span class="hljs-literal"><span class="hljs-literal">true</span></span>} }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> List&lt;Dish&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetAllDishes</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Dishes; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AddDish</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Dish dish</span></span></span><span class="hljs-function">)</span></span> { Dishes.Add(dish); } } }</code> </pre><br>  Modify the ViewModule module: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Nancy; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">NancyFxApplication</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ViewModule</span></span> : <span class="hljs-title"><span class="hljs-title">NancyModule</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ViewModule</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">base</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"views"</span></span></span></span></span><span class="hljs-function">)</span></span> { Get[<span class="hljs-string"><span class="hljs-string">"/"</span></span>] = param =&gt; { List&lt;Dish&gt; dishes = DishesRepository.GetAllDishes(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> View[<span class="hljs-string"><span class="hljs-string">'View.html'</span></span>, dishes]; }; } } }</code> </pre><br><br>  And in turn, we modify the view. <br><br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/1999/xhtml"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Super Simple View Engine Rule!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>List of dishes:<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> @Each <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span>@Current.Name<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> @EndEach <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  Run our application and get the following result. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dad/59f/32a/dad59f32a0eb20db4900d4776092e4cc.png"><br><br>  The presentation engine provides the possibility of using @If operators, however, I would like to note that nested SSVE operators are not supported.  It is also possible to add Partial View. <br><br>  In conclusion, I would like to add once again that using SSVE only in cases when you need to display simple data, it is recommended to use other presentation engines to display complex types. <br><br>  The next final article in the series will focus on testing applications for NancyFX.  Waiting for feedback and comments. </div><p>Source: <a href="https://habr.com/ru/post/201490/">https://habr.com/ru/post/201490/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../201468/index.html">AngularJS 1.2.0: Timely Delivery</a></li>
<li><a href="../201470/index.html">Programming Language J. Why love?</a></li>
<li><a href="../201472/index.html">rusEfi: opensource DIY injector project</a></li>
<li><a href="../201474/index.html">We draw a map with one select or about the benefits of multi-indexes</a></li>
<li><a href="../201486/index.html">Google says ‚ÄúF * ck You, NSA‚Äù and starts encrypting traffic between data centers</a></li>
<li><a href="../201492/index.html">3 myths about management</a></li>
<li><a href="../201494/index.html">Microsoft CEO candidate Stephen Elop may be considering selling Xbox and closing Bing</a></li>
<li><a href="../201496/index.html">Product management: from a good idea to the appropriate feature</a></li>
<li><a href="../201498/index.html">AdMob allowed to block unwanted ads</a></li>
<li><a href="../201500/index.html">Zabbix 2.2 released</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>