<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>RailsClub 2016: Interview with Vladimir Dementyev</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! We are preparing for RailsClub 2016 . Most of the reports have already been posted on the site - we advise you to look! Almost 400 participants...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>RailsClub 2016: Interview with Vladimir Dementyev</h1><div class="post__text post__text-html js-mediator-article"> Hello!  We are preparing for <a href="http://railsclub.ru/">RailsClub 2016</a> .  Most of the reports have already been posted on the site - we advise you to look!  Almost 400 participants have already registered, join us, not so much time is left until October 22! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/127/4f4/ad5/1274f4ad5be0fea04076475d14c41814.jpg" alt="image" align="left">  We continue to post interviews with our speakers in the RubyNoName podcast.  Today‚Äôs conversation with <a href="https://github.com/palkan">Vladimir Dementiev</a> , developer at Evil Martians. <br><br>  You can listen to the audio on <a href="http://rubynoname.ru/posts/2016/S08E03.html">the podcast site</a> , and here we share the decoding. <br><a name="habracut"></a><br>  <b>Today our guest is Vova Dementiev, also known as palkan.</b>  <b>Tell me a little about yourself?</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I came to the Ruby community not long ago.  About 4 years ago I tried rails for the first time, played.  I liked it, but the project I was working on did not use them.  Therefore, we had to postpone until the next reincarnation of the project <a href="http://teachbase.ru/">Teachbase</a> , our startup.  Teachbase is a SaaS system for organizing learning management, it allows you to make your own Coursera within a company or project.  When I came, it was a terrible PHP project, and then I was not able to do much.  Codil, what they said.  Then I got acquainted with the rails and from the moment I became the technical director, I began to carry the idea of ‚Äã‚Äãwriting a new, cool version of the system on advanced technology.  This opportunity presented itself in 2014, and then we completely switched to the rail stack in the part of the web application.  Since then, I began to actively engage in this. <br><br>  <b>How could you convince a customer to switch to Rails?</b> <br><br>  It's very simple - I'm my own customer.  I am one of the founders of this startup, two of my partners did not have sufficient technical expertise, so they trusted me.  I hope they were not mistaken and do not regret it :) The choice of technology was mine.  The question was only to find the time to switch from one version to another.  Well, the money, of course.  When the moment came, we rewrote everything on the rails, and now this third (or fourth) version of the system worked quickly, clearly, everyone was happy - both we and the customers. <br><br>  <b>Does she still work?</b> <br><br>  Yes, she continues to work.  We have brought the project to a very good state, when it makes sense to make a new version not for technological reasons, but rather ideological.  I do not know what the guys plans at the moment.  While they are engaged in the support of this system, selling.  Everything is going well, the project is alive and working. <br><br>  Teachbase is quite a big project on rails.  And it was the rails 4.1, we did not go to 4.2, although we had planned.  A year ago, it was announced about the release of 5 rails in the fall of 2015, at this moment we decided that there is no point in switching to 4.2, when you can immediately switch to 5. Everyone knows what happened next.  Another year has passed, the fifth rails have already come out, but now it is probably still dangerous to switch to them.  We must wait at least 5.0.1, and better than 5.1, then we can proceed.  We hoped for the release plans of the rail development team, they didn‚Äôt come true, so our project still hangs at 4.1.  And there are no special problems with this. <br><br>  <b>That is, from the point of view of technology, the project is completed, and you do something new when you realize that the business needs it?</b> <br><br>  Yes.  There are plans to remake a significant part of the logic, and this is likely to be a new project on new rails, and maybe not rails.  Erlang has always been in our stack, since we were engaged in videoconferences, respectively, we needed a streaming service that would work with the RTMP protocol.  It is needed so that people, using flash technology (which everyone hates), can communicate in a browser, hold webinars for a large number of people, and so on.  A backend for all of this was Erlang service, which buds off a fairly well-known <a href="https://github.com/erlyvideo">Erlyvideo</a> project. <br><br>  <b>Have you taken fork, which was still in open source?</b> <br><br>  Yes, it was open source, version about 2.18.  It happened in 2011.  At first we just used it, then we began to open bugs and edit them, adapt everything to our history.  And then Max Lapshin closed the code and began to develop paid <a href="http://erlyvideo.ru/">Flussonic.</a>  This, in principle, did not bother us.  So we had experience in Erlang, and we started doing some other minor services for the Erlang system.  Our stack has gained a second main language. <br><br>  But finding a developer on an erlang is not very easy.  The only erlangist we had came as a student, he knew C and knew mathematics well, he had an olympiad past and he wanted to work.  As an erlangist, we raised him from scratch.  He, by the way, is still working in the project. <br><br>  But there were no more such people, so at the beginning of this year, when I was still working at Teachbase, we started the Elixir introduction program (both for those who programmed in Ruby and for those who programmed for Erlang).  There was a separate subproject in which there were 2 developers: a rubist and an erlangist.  They had to master the technology together, each using their own strengths.  One knows Ruby and his paradigm better, knows Rails, which are similar with Phoenix in MVC.  And the second person who knows Erlang did some things closer to this paradigm on Elixir.  The project has not been completed yet, but it is very interesting.  We began to move to this stack, rather because of its popularity, to make it easier to continue to live and hire new employees. <br><br>  <b>Didn't you want to translate everything to Phoenix?</b>  <b>Completely abandon Ruby, leave Erlang, on top of it Elixir, and on top still Phoenix?</b> <br><br>  When there was a question about switching to Rails, there was an alternative option to immediately switch to Erlang.  I was ready to do it.  Perhaps we would have started longer, but it would probably be better in terms of efficiency.  It‚Äôs good that we didn‚Äôt do this: our workloads do not require any terrible optimizations, and the rail copes well, and the speed of development gives a lot more.  Now I do not think that Phoenix can completely replace the rails from the point of view of building a business logic, data processing layer. <br>  As far as requests are concerned, sockets (this is a separate conversation, we will return to it) - this is not bad with Phoenix.  But Active Record (or its alternatives) and the ecosystem around it is far more convenient than everything in Elixir.  This is logical, there is another paradigm, it is not so easy to make a convenient tool for use.  Therefore, in my opinion, Elixir and others, with or without Phoenix, are rather technologies for the ideology of microservices.  It is necessary to use them in some kind of hard part, in which a lot of clients are knocking, with some tasks, inquiries.  Such parts can be written Elixir, solve them with several different services.  And the main logic should, it seems to me, remain in the tracks, if it was originally written on them.  But even if I started the project from scratch now, I still would not do everything on Elixir. <br><br>  <b>You talk about Teachbase and your CTO role in it, like a past story.</b>  <b>Now, as far as I know, you work at <a href="https://evilmartians.com/">Evil Martians</a> , you just work as a developer.</b>  <b>Why did you move from management to development?</b>  <b>More often on the contrary, people want to go from a developer to a manager.</b>  <b>Do you think this is a step backwards, or is it some kind of intermediate stage?</b> <br><br>  First, for a long time, I was at Teachbase the only developer.  I started to recruit a team only in the last couple of years, when we had such an opportunity.  The problem for me, as a developer, was that I tried a lot of things, learned a lot of new things, but mostly from my own experience.  I have never worked in a team under the guidance of someone who was more experienced than me and had some knowledge that I did not have.  This was one of the reasons: I was bored, I realized that my independent growth in Teachbase would be difficult.  Especially when the project stabilized, there were no super interesting tasks, just a routine of adding features, no will to create. <br><br>  I considered the Martians in the first place, since I was familiar with some guys, I was on the <a href="https://brainwashing.pro/rails">Brainwashing</a> course, since then I have had the most pleasant impressions about this team.  I really wanted to work with such people, share experiences, and share my ideas.  When I worked at Teachbase, I had no one to discuss any technical ideas, there were no people who would have a good understanding of technical aspects.  So I wanted to get into a strong team. <br><br>  The fact that I had ‚Äúpower‚Äù in Teachbase, and now I am an ordinary employee, is not terrible.  Probably.  Although my wife says that after I stopped leading, I try to lead a little more at home.  I compensate :) <br><br>  I like the lack of vertical, you can easily communicate with everyone, talk, argue, swear sometimes.  I had to get on Wednesday, let's say. <br><br>  <b>We started talking about Rails and the long-awaited version 5, in which a lot of things appeared.</b>  <b>For example, <a href="https://github.com/rails/actioncable">Action Cable</a> , which you will talk about at the conference.</b>  <b>What else do you miss in Rails?</b> <br><br>  I would put the question differently: what is in the rail too much, what is stopping. <br><br>  <b>Yes, this is a good question.</b>  <b>In the past podcast, we talked with Alexey Taktarov about whether to throw out the front part.</b>  <b>What would you throw out?</b> <br><br>  The front part and assembly of assets with the help of Sprockets, in my opinion, is already an outdated scheme.  The front is now spelled with its collectors, its own highly developed ecosystem.  Which works, in my experience, is much nicer than Sprockets.  This is fast, convenient, a lot of additional features, tweaking, and so on ... The same autoprefixer can be inserted into Sprockets, of course.  But if you insert another 20 similar plug-ins, then the assets, most likely, will be collected for a very long time. <br><br>  I used the rail, for the most part, in a non-classical way, with server rendering, using javascript templates and similar things to update the page.  I used Rails practically in API mode, only JSON.  HTML pages were also given by rails, but there was an idea to get rid of this, loading the statics separately, since dynamic rendering was a minimum, for example,: inserting a logo on the fly.  All template-type chips, Turbolinks, that's all, should be separate gadgets for rails.  If you want - add. <br><br>  <b>At one time, Sprockets was a real breakthrough.</b>  <b>Perhaps now this technology is outdated, because the front is developing at some crazy pace.</b> <br><br>  Because at that time only <a href="http://gruntjs.com/">Grunt</a> was popular in the front, terrible and monstrous, in my opinion.  For a long time he pushed me away from using all this, until more attractive alternatives appeared.  If we talk about the current moment: if I started a new project now and would take the rail as a backend, I would, given that we have a built-in API mode in Rails 5, would immediately do so that the fronts do one project separately, separately backends.  It is very convenient from the point of view of development.  There is no need to raise the front server, dig there.  Let him do the front-line work and does not know what is on the server.  Let it simply work according to the specification given by the backends. <br><br>  <b>You raised an interesting topic: if you now do a project on the rail.</b>  <b>And if not on the rail, then what would you do?</b> <br><br>  It all depends on what project, of course. <br><br>  <b>Let's take Teachbase as an example.</b>  <b>API, JSON interaction.</b>  <b>We throw out the Action View, we throw out something else.</b>  <b>Maybe we should use alternatives on Ruby, but not Rails?</b>  <b>Or another language?</b> <br><br>  Good question.  If the question is like ‚Äúsomething else in Ruby,‚Äù then no.  First, I don't have much experience.  I tried microframe type <a href="http://cuba.is/">Cuba</a> , <a href="http://www.sinatrarb.com/">Sinatra</a> .  Such micro-microservices, just experimented and watched what it was and why.  I have not tried large alternatives, such as <a href="http://trailblazer.to/">Trailblazer</a> or <a href="http://hanamirb.org/">Hanami</a> , they, in principle, did not interest me.  I still do not understand why they need me.  Yes, I saw benchmarks, everything is cool there, fast.  But the rails and ruby ‚Äã‚Äãare not chosen to be quick, but to be comfortable.  Therefore, such an argument is not the most important for me. <br><br>  <b>Yes, Hanami has one very big drawback: nobody uses it.</b> <br><br>  Here!  It‚Äôs hard to be in Rails, where everyone writes, with many starting their way into Ruby.  Real competitors to rails are not now inside Ruby, but Elixir and Phoenix, which are gaining momentum.  In my opinion, this is partly because the Elixir is well publicized.  They learned how to sell it to the development teams, they say that Elixir is cool, everything will be quick with you.  Even in Russia, there are already people who use a hybrid stack - part of the rails, part of the elixir, everyone wants to try it.  And most importantly, everyone wants to sell the development on Elixir to the customer.  As a commercial project, Elixir is a very cool thing.  It is easier to Erlang, although personally I would still prefer Erlang.  Yes, it will be a little painful, in some places there will be more code, although this can be optimized. <br><br>  If you answer the question ‚Äúwhat if not Rails‚Äù.  I would choose Erlang, but only if I were given a couple of developers and a little more time.  Basically, everything depends on the presence of developers: they are few.  There is also a problem with Elixir: many who began to study Elixir and did something on it immediately think that they know Erlang.  This is about the same story as when people poked into the rails, then they say they know Ruby.  Most likely, the market will suffer from this.  Find a good developer on the erlang will be even more difficult, because there will be a lot of left trash.  There are now similar problems in the front: if people who have learned Angular, but do not understand what JavaScript is.  Now everywhere there is such a problem. <br><br>  <b>We started talking about Ruby alternatives.</b>  <b>You have a lot of experience with Erlang, you wrote in PHP, as far as I know, you still write to go.</b>  <b>In what other languages ‚Äã‚Äãdid you try to do something and what would you like to try?</b> <br><br>  Let's talk chronologically.  The schools and the university were Pascal, C, Basic, Assembler.  But at university I missed programming, I really didn‚Äôt like it.  I still wonder how I accidentally became a programmer.  I started with ActionScript <br><br>  <b>That is Flash?</b> <br><br>  Yes.  I started with the second ActionScript, it was terrible.  But in the third there are a lot of changes: normal classes, proxy objects that everyone is waiting for so now in JavaScript (but so far there is not very good with support).  A lot of cool, convenient.  As a language he was funny.  With its drawbacks in the form of a not very simple compilation, in which, if you do not have Flash Builder from Adobe, you have to conjure a lot.  I had a very large project within Teachbase, when we started making our solution for webinars.  It consists of two parts: client and server.  Erlang was in the server, and a large ActionScript application in the client.  It was my first big project, I thought it over from scratch, with serious architecture, there were a lot of cool ideas.  This application is still working.  There are no bugs in it, I last ruled it two years ago!  Since then, it works great.  And this is very good, because I don‚Äôt even know how I can build it now, run it, and so on, I don‚Äôt have any build systems, and I don‚Äôt remember how it all works. <br><br>  <b>Wait, the third ActionScript came out a long time ago, it's old.</b>  <b>About 10 years.</b>  <b>Does it develop at all?</b> <br><br>  Yes, he is very old, but still alive, they write on it.  Especially a lot of use in the gaming industry, made a lot of optimizations in terms of graphics, rendering, using the GPU and so on.  You can write cool games on it.  It seems that some of the popular online games, such as tanks, was originally on flash.  Now I do not know, maybe still. <br><br>  There was a period when these technologies were in all real-time, when, for example, it was necessary to do video chat, when there was no hint of other technologies, flash was everywhere.  It is now he has little one.  Flash used to implement what is now in Web RTC, peer-to-peer.  This project was eventually abandoned.  Initially it was called Stratus, we even did a side project on it - a portal for psychologists with the possibility of consulting online.  It worked through time.  Now those webinars that exist and work simply in the browser state that they use Web RTC, but in most cases this is not the case.  It is for streaming that flash, rtmp is still used.  There he is still alive. <br><br>  I knew ActionScript very well, but now I would not say that I am an expert in it.  And I do not plan to deal with them. <br><br>  <b>Now back to our question: what happened after ActionScript?</b> <br><br>  Then there was php.  I do not remember what version was there, with him were various muddied. <br><br>  <b>How did you get to know Rails?</b> <br><br>  Everything happened by chance and simply.  There is such a wonderful course Coursera, when it first appeared, there were about five courses, one of them was about SaaS development and so on.  This course, in fact, was such an introduction to Rails, then another 3. Not to say that I learned the rails for this course.  It was a very simple course, the output of one page and search for items from the database.  But there it was well told about testing, about all its levels.  After that, I wrote some kind of micro-microservice for our system.  Very scary, ugly, he was even launched through rails s in development mode.  But he worked, almost did not fall. <br><br>  It is difficult to say at what point I began to study and do something, switch.  Brainwashing was a powerful push.  When I went there, I practically knew nothing about Rails: what is there, how is it.  And on the course got a kick, let's say.  He sat down and began to develop. <br><br>  <b>Can we say that Ravil and Gazay had a great influence on you?</b> <br><br>  Yes, they threw inspirations in this direction.  If we talk further about languages, then there was Erlang.  Now I sometimes use Golang for different things.  The language is quite simple, you can choose it if you need to quickly jot down something.  It is compiled into an executable file and can be used.  I also dealt with a lot of front, now less. <br><br>  <b>Do not pull in front?</b>  <b>Go the dark side.</b> <br><br>  Good question.  Probably not.  I am so-so frontend, because I am not very strong in all that concerns styles, layout and other things.  Especially with the new muddied: some CSS modules, CSS 4, everything changes very quickly, I do not have time to follow this.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I never liked it, I always considered the layout work for some ... how to manage without racism ... I will not say :) This is a rough job. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Almost always, we gave it to outsource. They sent us a layout, we integrated it.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Once I suggested not to suffer, and do everything on my own. Then I started to do it. Thanks to Andrey Sitnik, who told all sorts of interesting things and showed how not to do it, gave some vector. And I started to do a lot of front, as a result, in Teachbase, the main logic on the client is the framework I wrote. We started even before React became popular, Angular was not very popular yet, but it already existed. I decided that I should write more quickly myself, I understood how JavaScript works, and did not want to waste time trying to figure out how Angular works. I never regret it, because Angular worked terribly in the first version, in my opinion it is too obvious. Although it may seem clear to someone. In the second version maybe something has changed. I had my bike, it still works,guys use it. In my free time, I tried to write a new version of it on es6, but there was not so much free time. Therefore, there are two unfinished versions of my framework hanging on the githaba :) There are cool ideas, but given that I spent one day on it a month, they are far behind the trends that are now in the front.</font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We started the theme of our bikes. How do you participate in open source? Are there any projects you would like guys to pay attention to? Cool project, but no one notices. Your projects or others are not important.</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> I will again promote Brainwashing :) The open source for me started there, I made my first commit in OS. As part of the course, the guys came across a </font></font><a href="https://github.com/deivid-rodriguez/pry-byebug/pull/17"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bug in pry-byebug</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , which was in extension at C. I found it, fixed it, sent it and received my first pull request, got pleasure from it and got a little hooked :) I started doing it. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If we talk about other people's projects: I worked a lot on </font></font><a href="https://github.com/bbatsov/rubocop"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rubocop</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This is the project of Bozhidar Batsov. I really like this project and the whole idea is that the code should be styled. I promote it everywhere where there is a possibility. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">But you do not use the default rubocop config?</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Of course, I always correct something there, disconnect something, turn something on. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And change the settings from project to project? Do you have existing settings that you always use or think that you need to negotiate with other developers in the project each time?</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Differently. Now, for example, I came to a project with a large code base and we screwed up a mandatory check by rubocop, but there we have a very minimal config that checks for very bad things, such as forgotten debug in code or tricks in specks and so on. And we have included several optimization cops. Things such as the length of the string, the number of rows in the method, and so on, we do not check in this project. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Are you a follower of the story about 80 characters, 120, or just turn off this check?</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I support this topic, I usually put 100. This number turned out empirically: I worked on a 21-inch iMac for a long time and developed it with splitskrinom. I made it so that in all parts of the screen entered all the lines. This is just about 100 characters. The logic of choosing the length of the string was this, because the horizontal scroll is very inconvenient. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">About the length of the methods or the length of the class ... no. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment at the beginning of the line, enter at the end ...</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I always put an empty line at the end. I do this because it is so convenient to go to the end of the file. There is some indent from the bottom, you do not need to get into the border of the display. I read somewhere what historical limitations this rule was caused in some old systems. I will definitely not reproduce what was there. And now the githab is constantly highlighted in diffs, swears when you do not have an empty string - this is not very pleasant. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In my default config on the zero project, a lot is included, but these parameters of complexity are slightly increased. If there is a very big difficulty somewhere, and I don‚Äôt want to refactor any method consciously, then I just turn off this cop locally, and that‚Äôs all. But in all the gems that I deal with, or in which I actively contributing, I introduced this business.</font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">About rubocop clear. What other projects worth paying attention to? What were you involved in?</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> I worked a lot on projects from the </font><a href="https://www.influxdata.com/"><font style="vertical-align: inherit;">InfluxDB</font></a><font style="vertical-align: inherit;"> ecosystem</font></font><a href="https://www.influxdata.com/"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. This is a database for storing time series. An interesting project, now he has grown up in InfluxData, they have their own stack, this is something like the stack from Elasticsearch, where you have a log collector, a visualizer, the base itself, but it‚Äôs not for logs, but for some time metrics . I started to use it in Teachbase, he was not very well known then, it was about a year and a half ago. Their story is very similar to the story with Rails 5: there was version 0.8, they promised to release the next one, more stable and with bug fixes, with clustering, and so on in a month. I even wrote off with them, I was told that the work is underway, the version will be soon. It was quite risky to use a not very production ready story, a couple of times everything was very scary. But in the end, the promised version came out, just like Rails, only at the beginning of this year. We lived a year on the unstable version,I had to work with her anyway.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One of my large open source projects, just known to those who work with this database. I wrote an adapter for working with this database in the style of Active Record. The project is called </font></font><a href="https://github.com/palkan/influxer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Influxer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . It is very similar to ActiveRecord: some class is defined, you say what attributes it has (these are attributes of these labels in the database), and it allows you to make queries, such syntactic sugar. InfluxDB supports SQL-like language, and instead of writing on it you can use just such a wrapper. This is convenient, there are some fictions, connections with models and so on. He was actively used in Teachbase, for this he was made. I still continue to support it, in connection with the release of new versions of the database and changing the API, everything is more or less relevant there. Someone uses the project, there are several dozens of stars.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In addition to Influxer, I worked on other projects for this ecosystem. Until a certain moment, all the code was opened, the database itself and all the secondary services that were used there. This year they introduced a commercial version. Part of the code, of course, is no longer in open source, especially with regard to clustering. Everything else is open, and developers are happy when people come there and contribute. Everything is written there on go, and my first experience with go was exactly there. I did a couple of patches in a project called </font></font><a href="https://github.com/influxdata/telegraf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telegraf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : this is a log collector, something like Logstash or new </font></font><a href="https://www.elastic.co/products/beats"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beats from Elasticsearch</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . The project is very actively developing, far from a stable version. If you want to try go and participate in open source, be aware that it‚Äôs pretty simple to make a pull request.</font></font><br><br> <b>   <a href="http://thinknetica.com/">Thinknetica</a> .     ,   ?     ?   ?</b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yes, I like the word mentor more. We used to call each other mentors, but this is somehow not in Russian. I have been working there for 1.5 years, but with interruptions. We take a group, we are engaged, then we take a break and so on. I trained 50 people, maybe a little more. Of these, 20 percent are very cool guys who are well employed after the course. Many of the graduates are then arranged for profile vacancies, but I do not really follow this. When you teach fairly simple things (we do not teach something complicated), it broadens the mind, does not let your eyes become blurred. You see a different code of very different people. You see different mistakes, first of all. Some you meet for the first time in your life, how people write, strange bugs. A lot of interesting information for the brain. Do not let yourself dry out. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Do you like to be a mentor?</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When the students are good, I like it; when the bad ones ‚Äî no. I am a very nervous person, I want to send everyone. In this regard, I am more a coach than a teacher, I am pretty hard. At the same time I like to communicate with those in whom I see interest. It doesn‚Äôt have to work, but when the guys try, it‚Äôs very cool, you can talk to them, we occasionally meet in person. They ask interesting questions that make me think. In general, any type of teaching, especially if you teach something related to your professional activity, is more pumping for someone who teaches than for those who study. In addition to the knowledge that you get from Ruby, about how to communicate with people, you can hone your oratory, communication with the public on the other side of the cable when you conduct webinars. There are a lot of advantages in this activity,cons too. There is a routine, when you are following the same course for the third time, you are not so interested. Waiting for students to come up with interesting topics so that they have something to talk about, otherwise they are doing some kind of garbage :)</font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">So we got to an interesting topic :) The keynote of our interview is RailsClub, you will talk about Action Cable there. Basically, everyone is happy for him. There are flaws, not everything is cool, it is leaking; It happens that two threads are written in one channel. But overall, everyone is very happy. And only from you I hear skepticism. Tell about what you will report? I do not want to spoil, but I feel that you have pain on this subject. Share?</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Let's go back to spring 2015. Some time before the conference took place, at which DHH announced this wonderful feature. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Is this really a great feature for you or such a ‚Äúgreat feature‚Äù in quotes?</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> I have an ambivalent attitude towards it. Something wonderful, something ‚Äúwonderful." In any case, this is a loud feature.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In Teachbase, web sockets was used. Naturally, they were supported by the Erlang, because it was our stack. We had plans for tight integration of a service that processed data from web sockets with a rail. We did not consider ready-made solutions that were on the rail, because for people who have a web socket service written in Erlang, for some reason it would be strange to shove web socket programs on Ruby. It's like giving a janitor a toy scoop. We had our own idea (it is implemented, laid out in open source and works) how to make friends rails with sockets. And so, in March or April there is Action Cable. I watched the video, watched the examples that were. The first impression was: ‚ÄúWow, wow! It's cool, it looks very cool, comfortable, beautiful - right that I would like to use. ‚Äù This was an additional argument not to migrate to 4.2,and wait for Rails 5 to do something new using the cable to make everything cool.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A good impression of Action Cable related primarily to the channels, to what was done directly in Rails, a wrapper of business logic. I really liked how everything was done: a very rails way, everything is as it should be. But there was a second thought - what will it be on? This thought occurred to me when the repository of the cable itself in the source code was separately laid out on the githab. Then it worked on Celluloid, if I remember correctly. That is, it was implemented in Ruby, which, of course, is not cool. I have a biased but widespread opinion that there is no need to write competitive Ruby programs. This is not what this language was created for, especially when it comes to scalability and efficiency in terms of resource consumption.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Then I had an idea to think about how we can take the good from Action Cable and the good from the fact that at that time it was already implemented in service to Erlang. And there was already a lot of things: horizontal scalability, various authorizations, and so on. Then I did not know about Phoenix. As it turned out, it was very similar to what Phoenix began with. But only made on live Erlang. Although in fact, under the hood, we all use the same </font></font><a href="https://github.com/ninenines/cowboy"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cowboy</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> as Erlang web server. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">During the year, of course, a lot of changes happened in the cable. All of them, perhaps, positive. First, </font><a href="https://github.com/celluloid/nio4r"><font style="vertical-align: inherit;">get</font></a><font style="vertical-align: inherit;"> rid of Celluloid in favor of </font></font><a href="https://github.com/celluloid/nio4r"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nio4r</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(which nevertheless concerns Celluloid). They added a lot of different synchronization options, adapters, and so on. But they don‚Äôt hurry to leave the main problems. Just recently, there was a sensational bug with flowing memory, unclosed connections. It is rather strange that it appeared after the release of 5.0. There are still several performance related bugs. All this suggests that Action Cable is currently not suitable for production into some big system, not a blog with a attendance of 100 people, but a really big system with a load of thousands and hundreds of thousands of people. This is not the tool that can solve the problem. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Then the question arises, what kind of problems can Action Cable solve?</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We all know that all innovations in Rails appear for the sake of one well-known project on the letter B. I checked that Action Cable is really used there, as far as possible to determine, just by looking at the browser logs. It uses the wrong Action Cable there, which is now offered in the rail, but, apparently, some previous version of it. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Or maybe it's not Action Cable at all?</font></font></b> <br><br>  May be.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">At least, the web socket protocol is signed as ActionCable, but we don‚Äôt know what server it is knocking on. The protocol is very similar. Unfortunately, there is no insider information. But I would not be surprised if some server actually works there, which simply works under the same protocol, maybe communicates with the rail, although in fact they don‚Äôt really need two scenarios for what they do. : send changes that occurred on the page (someone wrote a comment, sent a message and so on). This is Broadcast, the first script. And the script, which, on the contrary, from the client sends information to the server about what the person is doing on the page. It is transmitted in a somewhat encrypted form, but there is something like this: it has moved to a page or closed a tab, some activity tracking.</font></font><br><br> <b> ,        ?</b> <br><br>  Yes.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And in this case, Action Cable is enough. One side. On the other hand, the question arises: why is there a rail? I see the only thing that is used there exactly is authentication. We need to somehow confirm the right person to connect to the socket, subscribe to a specific channel, and so on. Here they probably interact with the application. But not a fact, maybe not. Everything else has little to do with business logic. I did something similar, I just had web sockets used for activity tracking. All these data were not written to the main application, they are not needed there at all, at least in raw form. They were written in a separate system, they were processed there and then stretched when needed. In this context, it is not very clear: is Action Cable needed there or not? Is it used or not? But since it‚Äôs croaking like Action Cable,let's say it is him. I don‚Äôt know any real examples anymore. And I think there are no known projects that use Action Cable. Probably, many want to use it, but the question is in volumes. He is very good at what all the rails are good at - quickly gather the MVP, show someone the first version of the project. You do not need to carry anything, everything is in the box, sketched in realtime and it works. But when you start developing this business, and customers appear, the load, and so on - what to do with Action Cable? You can, in principle, instantiy produce, it is made separately, as some background Sidekiq and other side services that we have in the application. But how effective it is - I don‚Äôt know, as long as I have great doubts on this score.who use action cable. Probably, many want to use it, but the question is in volumes. He is very good at what all the rails are good at - quickly gather the MVP, show someone the first version of the project. You do not need to carry anything, everything is in the box, sketched in realtime and it works. But when you start developing this business, and customers appear, the load, and so on - what to do with Action Cable? You can, in principle, instantiy produce, it is made separately, as some background Sidekiq and other side services that we have in the application. But how effective it is - I don‚Äôt know, as long as I have great doubts on this score.who use action cable. Probably, many want to use it, but the question is in volumes. He is very good at what all the rails are good at - quickly gather the MVP, show someone the first version of the project. You do not need to carry anything, everything is in the box, sketched in realtime and it works. But when you start developing this business, and customers appear, the load, and so on - what to do with Action Cable? You can, in principle, instantiy produce, it is made separately, as some background Sidekiq and other side services that we have in the application. But how effective it is - I don‚Äôt know, as long as I have great doubts on this score.everything is in the box, sketched realtime and it works. But when you start developing this business, and customers appear, the load, and so on - what to do with Action Cable? You can, in principle, instantiy produce, it is made separately, as some background Sidekiq and other side services that we have in the application. But how effective it is - I don‚Äôt know, as long as I have great doubts on this score.everything is in the box, sketched realtime and it works. But when you start developing this business, and customers appear, the load, and so on - what to do with Action Cable? You can, in principle, instantiy produce, it is made separately, as some background Sidekiq and other side services that we have in the application. But how effective it is - I don‚Äôt know, as long as I have great doubts on this score.</font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On your report, I really want to go. According to my expectations, this will be one of the coolest reports. What are your expectations from RailsClub?</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> I went to the conference for the first time last year. Something about the right is not very hooked. But there were good speakers, for example Claudio Baccigalupo, who spoke about Rails 5. The report of Koichi Sasada about the garbage collector, a story with generations, was very strong and interesting. I understood, probably, 70 percent, but it was very cool. But I think that any conference is valuable not so much by reports, but by what happens on the sidelines. Therefore, I expect such communication, considering that ‚Äústars‚Äù come here. I do not know how much they will be ready to talk to the people, but this is interesting. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">So you would ask Matz a couple of questions?</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Honestly, I have no questions for him :) I would listen that he would answer the questions of others, usually I do this, rarely ask myself. At the last conference I spoke with you, after the report on microservices (Andrey Deryabin, the host of the podcast). And talked a bit with Claudio. Even in the past RailsClub, I found out about Crystal, this is quite interesting, I am now following this project. I'm thinking about using it somewhere, writing some extension for Ruby on it, since there is such an opportunity. Any bottleneck, maybe even in the project I'm working on. I'm waiting for a free day to figure out and play with this case. About RailsClub this year has not yet published information about the reports, there are only people. Let's see what awaits us.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you want to discuss current topics with Vladimir personally, come to the conference! </font><font style="vertical-align: inherit;">All the details are </font></font><a href="http://railsclub.ru/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , the ticket price is 9000 rubles. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Traditional thanks to companies that support the conference:</font></font><br><br><blockquote>  General partner: <a href="https://www.toptal.com/">Toptal</a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gold Partners: </font></font><a href="http://rambler-co.ru/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rambler &amp; Co</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><a href="http://www.at-consulting.ru/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AT-Consulting</font></font></a> <br>  Silver Partner: <a href="https://www.jetbrains.com/">JetBrains</a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bronze Partners: </font></font><a href="https://about.gitlab.com/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gitlab</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><a href="http://www.voltmobi.com/ru/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VoltMobi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="http://www.insales.ru/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Insales</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><a href="http://www.seendex.ru/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seendex</font></font></a> <br>  Beer partner supporting traditional afterparty - <a href="https://cloudcastle.ru/">CloudCastle</a> </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stay up to date with our news by subscribing to the newsletter on the website </font></font><a href="http://railsclub.ru/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">railsclub.ru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>  See you! </div><p>Source: <a href="https://habr.com/ru/post/311414/">https://habr.com/ru/post/311414/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../311404/index.html">The framework for simple projects on jQuery</a></li>
<li><a href="../311406/index.html">For the sake of competition with Apple and Amazon, streaming service Spotify intends to buy SoundCloud</a></li>
<li><a href="../311408/index.html">Critical vulnerability of the OpenSSL library allows DoS attacks</a></li>
<li><a href="../311410/index.html">Epic CTF-battle from QIWI and Informzaschita at ZeroNights 2016 - $ 250K to the winners</a></li>
<li><a href="../311412/index.html">Flutter I - Introduction and Installation</a></li>
<li><a href="../311420/index.html">Using MS Word to manage materials in Wordpress</a></li>
<li><a href="../311422/index.html">Corporate Databases - 2016: Hot Top Ten</a></li>
<li><a href="../311426/index.html">A series of interface (un) updates - "Habrahabr joins darkside"</a></li>
<li><a href="../311428/index.html">Zerodium raises reward for jailbreak for iOS</a></li>
<li><a href="../311430/index.html">Tester vs developer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>