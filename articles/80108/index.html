<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a module for Magento - part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The popularity of Magento is constantly growing. There is a lot of new online stores, written on this wonderful engine. 
 Unfortunately, there is not ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a module for Magento - part 1</h1><div class="post__text post__text-html js-mediator-article">  The popularity of Magento is constantly growing.  There is a lot of new online stores, written on this wonderful engine. <br>  Unfortunately, there is not enough information for developers, therefore, we will correct the situation :) <br>  My plan is to write several articles on <strong>how to create a module for Magento</strong> , using the example of a blog module. <br>  The original of this article is on <a href="http://snowcore.net/">my blog</a> . <br><a name="habracut"></a><br><br>  Initially, we restrict ourselves to the minimum functionality: we will write the administrative part of the module, with the help of which it will be possible to manage blog articles in the admin panel. <br><br>  The module is created in a separate namespace.  Usually, namespace is the name of the module developer's company. <br>  In this article I will create a blog module for Magento in my namespace, Snowcore. <br>  The module name should not contain underscores.  All custom modules are created in the / app / code / local directory <br>  My module will be called <strong>Snowcore_Blog</strong> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Let's get straight to the point.  What is needed to <strong>write a module for Magento</strong> ? <br><br><h3>  Disable Magento Cache </h3><br>  First of all, disable cache in Magento, otherwise we will not be able to see our changes :) You can disable caching in the admin panel: System - Cache Management - in the first tab of the <strong>Cache Control,</strong> change the <strong>All Cache</strong> parameter to Disable, click <strong>Save cache settings</strong> <br><br><h3>  Creating directory structure </h3><br>  In the module folder, create the following structure: <br>  / app / code / local / Snowcore / Blog / <br><br><pre>     Block
     controllers
     etc
     Helper
     Model
     sql
</pre><br><br>  Add a directory for templates: <br>  / app / design / frontend / default / default / template / blog <br>  (here the first default is the interface, the second default is the theme) <br><br><h3>  Module connection </h3><br>  To connect the module, you need to create an XML configuration file: <br>  /app/etc/modules/Snowcore_Blog.xml <br><br><blockquote><code><font color="black"><font color="#0000ff">&lt;?</font> <font color="#800000">xml</font> <font color="#ff0000">version</font> <font color="#0000ff">="1.0"</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">config</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">modules</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">Snowcore_Blog</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">active</font> <font color="#0000ff">&gt;</font> true <font color="#0000ff">&lt;/</font> <font color="#800000">active</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">codePool</font> <font color="#0000ff">&gt;</font> local <font color="#0000ff">&lt;/</font> <font color="#800000">codePool</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Snowcore_Blog</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">modules</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">config</font> <font color="#0000ff">&gt;</font> <br></font> <br></code> </blockquote><br><br>  At this stage, Magento already knows about our module.  You can enable or disable it by changing the <strong>&lt;active&gt;</strong> parameter of the configuration file. <br>  You can also control the module through the admin panel: <em>System -&gt; Configuration -&gt; Advanced</em> . <br>  The <strong>local</strong> value for the <strong>&lt;codePool&gt;</strong> node indicates that our module belongs to the custom modules and is located in the / app / code / local folder <br><br><h3>  Creating XML configuration for module </h3><br>  Create a new xml file: /app/code/local/Snowcore/Blog/etc/config.xml <br><br><blockquote> <code><font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">config</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">modules</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">Snowcore_Blog</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> 0.1.0 <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Snowcore_Blog</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">modules</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">frontend</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">routers</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">blog</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">use</font> <font color="#0000ff">&gt;</font> standard <font color="#0000ff">&lt;/</font> <font color="#800000">use</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">args</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">module</font> <font color="#0000ff">&gt;</font> Snowcore_Blog <font color="#0000ff">&lt;/</font> <font color="#800000">module</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">frontName</font> <font color="#0000ff">&gt;</font> blog <font color="#0000ff">&lt;/</font> <font color="#800000">frontName</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">args</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">blog</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">routers</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">frontend</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">admin</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">routers</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">blog</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">use</font> <font color="#0000ff">&gt;</font> admin <font color="#0000ff">&lt;/</font> <font color="#800000">use</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">args</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">module</font> <font color="#0000ff">&gt;</font> Snowcore_Blog <font color="#0000ff">&lt;/</font> <font color="#800000">module</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">frontName</font> <font color="#0000ff">&gt;</font> blog <font color="#0000ff">&lt;/</font> <font color="#800000">frontName</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">args</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">blog</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">routers</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">admin</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">adminhtml</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">menu</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">blog</font> <font color="#ff0000">module</font> =‚Äú <font color="#ff0000">blog</font> ‚Äù <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> Blog <font color="#0000ff">&lt;/</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">sort_order</font> <font color="#0000ff">&gt;</font> 77 <font color="#0000ff">&lt;/</font> <font color="#800000">sort_order</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">children</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">article</font> <font color="#ff0000">module</font> =‚Äú <font color="#ff0000">blog</font> ‚Äù <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> Manage Articles <font color="#0000ff">&lt;/</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">sort_order</font> <font color="#0000ff">&gt;</font> 0 <font color="#0000ff">&lt;/</font> <font color="#800000">sort_order</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">action</font> <font color="#0000ff">&gt;</font> blog/adminhtml_article <font color="#0000ff">&lt;/</font> <font color="#800000">action</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">article</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">children</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">blog</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">menu</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">acl</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">resources</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">all</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> Allow Everything <font color="#0000ff">&lt;/</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">all</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">admin</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">children</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">blog</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> Blog Module <font color="#0000ff">&lt;/</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">sort_order</font> <font color="#0000ff">&gt;</font> 200 <font color="#0000ff">&lt;/</font> <font color="#800000">sort_order</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">blog</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">children</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">admin</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">resources</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">acl</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">layout</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">updates</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">blog</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">file</font> <font color="#0000ff">&gt;</font> blog.xml <font color="#0000ff">&lt;/</font> <font color="#800000">file</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">blog</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">updates</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">layout</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">adminhtml</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">global</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">models</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">blog</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">class</font> <font color="#0000ff">&gt;</font> Snowcore_Blog_Model <font color="#0000ff">&lt;/</font> <font color="#800000">class</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">resourceModel</font> <font color="#0000ff">&gt;</font> blog_mysql4 <font color="#0000ff">&lt;/</font> <font color="#800000">resourceModel</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">blog</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">blog_mysql4</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">class</font> <font color="#0000ff">&gt;</font> Snowcore_Blog_Model_Mysql4 <font color="#0000ff">&lt;/</font> <font color="#800000">class</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">entities</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">article</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">table</font> <font color="#0000ff">&gt;</font> blog_articles <font color="#0000ff">&lt;/</font> <font color="#800000">table</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">article</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">entities</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">blog_mysql4</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">models</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">resources</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">blog_setup</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">setup</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">module</font> <font color="#0000ff">&gt;</font> Snowcore_Blog <font color="#0000ff">&lt;/</font> <font color="#800000">module</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">setup</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">connection</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">use</font> <font color="#0000ff">&gt;</font> core_setup <font color="#0000ff">&lt;/</font> <font color="#800000">use</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">connection</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">blog_setup</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">blog_write</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">connection</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">use</font> <font color="#0000ff">&gt;</font> core_write <font color="#0000ff">&lt;/</font> <font color="#800000">use</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">connection</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">blog_write</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">blog_read</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">connection</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">use</font> <font color="#0000ff">&gt;</font> core_read <font color="#0000ff">&lt;/</font> <font color="#800000">use</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">connection</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">blog_read</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">resources</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">blocks</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">blog</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">class</font> <font color="#0000ff">&gt;</font> Snowcore_Blog_Block <font color="#0000ff">&lt;/</font> <font color="#800000">class</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">blog</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">blocks</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">helpers</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">blog</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">class</font> <font color="#0000ff">&gt;</font> Snowcore_Blog_Helper <font color="#0000ff">&lt;/</font> <font color="#800000">class</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">blog</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">helpers</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">global</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">config</font> <font color="#0000ff">&gt;</font> <br></font> <br></code> </blockquote><br><br>  This file defines the basic settings of the module. <br>  The <strong>&lt;adminhtml&gt;</strong> section is responsible for setting the menu and accessing different resources in the admin part of the application. <br>  The <strong>&lt;global&gt; part</strong> stores information about the used models and resources, helpers and blocks. <br><br><h3>  Creating Helper </h3><br>  The helper contains only a couple of lines of code /app/code/local/Snowcore/Blog/Helper/Data.php <br><br><blockquote> <code><font color="black">&lt;?php <br> <font color="#0000ff">class</font> Snowcore_Blog_Helper_Data extends Mage_Core_Helper_Abstract <br> { <br> <br> } <br></font> <br></code> </blockquote><br><br>  This helper is needed for the translation system to work. <br>  At this stage, we should have a new item in the main admin menu: <br><img src="http://snowcore.net/wp-includes/images/mage_module/menu-item.jpg" alt="Magento admin menu" title="New item in the admin menu Magento"><br><br><br>  Immediately create a <em>helper for articles</em> : <br>  /app/code/local/Snowcore/Blog/Helper/Article.php <br><br><blockquote> <code><font color="black">&lt;?php <br> <font color="#0000ff">class</font> Snowcore_Blog_Helper_Article extends Mage_Core_Helper_Abstract <br> { <br> <br> } <br></font> <br></code> </blockquote><br><br><h3>  Creating models </h3><br>  Magento uses <strong>thin models</strong> .  There are two types of models: <br><ul><li>  Ordinary model: responsible for business logic </li><li>  Resource model that works with the base </li></ul><br>  First we need <strong>models for the articles</strong> . <br><br>  Create a regular model: <br>  /app/code/local/Snowcore/Blog/Model/Article.php <br><br><blockquote> <code><font color="black">&lt;?php <br> <font color="#0000ff">class</font> Snowcore_Blog_Model_Article extends Mage_Core_Model_Abstract <br> { <br> <font color="#0000ff">public</font> <font color="#0000ff">function</font> _construct() <br> { <br> parent::_construct(); <br> $ <font color="#0000ff">this</font> -&gt;_init('blog/article'); <br> } <br> }</font> <br></code> </blockquote><br><br>  In it we indicate the <strong>resource model</strong> with which this model will work. <br><br>  Create a <strong>resource model</strong> : <br>  /app/code/local/Snowcore/Blog/Model/Mysql4/Article.php <br><br><blockquote> <code><font color="black">&lt;?php <br> <font color="#0000ff">class</font> Snowcore_Blog_Model_Mysql4_Article extends Mage_Core_Model_Mysql4_Abstract <br> { <br> <font color="#0000ff">public</font> <font color="#0000ff">function</font> _construct() <br> { <br> $ <font color="#0000ff">this</font> -&gt;_init( <font color="#A31515">'blog/article'</font> , <font color="#A31515">'article_id'</font> ); <br> } <br> } <br></font> <br></code> </blockquote><br><br>  The second parameter of the _init method is the primary key of the articles table. <br><br>  Create a <strong>collection</strong> for articles: <br>  /app/code/local/Snowcore/Blog/Model/Mysql4/Article/Collection.php <br>  The <strong>grid</strong> works with collections, which shows a list of entities (articles). <br><br><blockquote> <code><font color="black">&lt;?php <br> <font color="#0000ff">class</font> Snowcore_Blog_Model_Mysql4_Article_Collection extends Mage_Core_Model_Mysql4_Collection_Abstract <br> { <br> <font color="#0000ff">public</font> <font color="#0000ff">function</font> _construct() <br> { <br> parent::_construct(); <br> $ <font color="#0000ff">this</font> -&gt;_init( <font color="#A31515">'blog/article'</font> ); <br> } <br> } <br></font> <br></code> </blockquote><br><br><h3>  SQL installer for module </h3><br>  The installation of the module (the creation of tables in the database) occurs automatically. <br>  Here the main thing is to correctly specify the version for the module, it must match the version that is assigned in the XML configuration. <br>  /app/code/local/Snowcore/Blog/sql/blog_setup/mysql4-install-0.1.0.php <br><br><blockquote> <code><font color="black">&lt;?php <br> $installer = $ <font color="#0000ff">this</font> ; <br> <br> $installer-&gt;startSetup(); <br> <br> $installer-&gt;run( <font color="#A31515">" <br> <br> ‚Äì DROP TABLE IF EXISTS {$this-&gt;getTable('blog_articles')}; <br> CREATE TABLE {$this-&gt;getTable('blog_articles')} ( <br> `article_id` int(10) unsigned NOT NULL AUTO_INCREMENT, <br> `title` varchar(150) NOT NULL, <br> `slug` varchar(150) NOT NULL, <br> `content` text, <br> `meta_keywords` varchar(255) NOT NULL DEFAULT '', <br> `meta_description` varchar(160) NOT NULL DEFAULT '', <br> `created_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, <br> PRIMARY KEY (`article_id`) <br> ) ENGINE=InnoDB DEFAULT CHARSET=utf8 <br> "</font> ); <br> <br> $installer-&gt;endSetup(); <br></font> <br></code> </blockquote><br><br>  The installation of the module (the creation of the necessary tables) occurs automatically - when accessing any page.  If there are problems with the installation of the module (the tables were not created) - look at the base table of the <strong>core_resource</strong> , there should be an entry with the value code = blog_setup.  Delete the entry, the module will be reinstalled. <br><br><h3>  Creating a Layout Module </h3><br>  Create new XML: <br>  /app/design/adminhtml/default/default/layout/blog.xml <br><br><blockquote> <code><font color="black"><font color="#0000ff">&lt;?</font> <font color="#800000">xml</font> <font color="#ff0000">version</font> <font color="#0000ff">="1.0"</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">layout</font> <font color="#ff0000">version</font> <font color="#0000ff">="0.1.0"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">blog_adminhtml_article_index</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">reference</font> <font color="#ff0000">name</font> <font color="#0000ff">="content"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">block</font> <font color="#ff0000">type</font> <font color="#0000ff">="blog/adminhtml_article"</font> <font color="#ff0000">name</font> <font color="#0000ff">="article"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">reference</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">blog_adminhtml_article_index</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">layout</font> <font color="#0000ff">&gt;</font> <br></font> <br></code> </blockquote><br><br><h3>  Creating blocks </h3><br>  Blocks are responsible for displaying the module.  In the first article create blocks for the admin. <br>  Initially, we will need a block to display the list of existing records - the grid. <br><br>  Create a container for the grid: <br>  /app/code/local/Snowcore/Blog/Block/Adminhtml/Article.php <br><br><blockquote> <code><font color="black">&lt;?php <br> <font color="#0000ff">class</font> Snowcore_Blog_Block_Adminhtml_Article extends Mage_Adminhtml_Block_Widget_Grid_Container <br> { <br> <font color="#0000ff">public</font> <font color="#0000ff">function</font> __construct() <br> { <br> $ <font color="#0000ff">this</font> -&gt;_controller = <font color="#A31515">'adminhtml_article'</font> ; <br> $ <font color="#0000ff">this</font> -&gt;_blockGroup = <font color="#A31515">'blog'</font> ; <br> $ <font color="#0000ff">this</font> -&gt;_headerText = Mage::helper( <font color="#A31515">'blog/article'</font> )-&gt;__( <font color="#A31515">'Articles Manager'</font> ); <br> $ <font color="#0000ff">this</font> -&gt;_addButtonLabel = Mage::helper( <font color="#A31515">'blog/article'</font> )-&gt;__( <font color="#A31515">'Add Article'</font> ); <br> parent::__construct(); <br> } <br> } <br></font> <br></code> </blockquote><br><br>  Next, create the <strong>Grid</strong> itself: <br>  /app/code/local/Snowcore/Blog/Block/Adminhtml/Article/Grid.php <br><br><blockquote> <code><font color="black">&lt;?php <br> <font color="#0000ff">class</font> Snowcore_Blog_Block_Adminhtml_Article_Grid extends Mage_Adminhtml_Block_Widget_Grid <br> { <br> <font color="#0000ff">public</font> <font color="#0000ff">function</font> __construct() <br> { <br> parent::__construct(); <br> $ <font color="#0000ff">this</font> -&gt;setId( <font color="#A31515">'blogArticleGrid'</font> ); <br> $ <font color="#0000ff">this</font> -&gt;setDefaultSort( <font color="#A31515">'article_id'</font> ); <br> $ <font color="#0000ff">this</font> -&gt;setDefaultDir( <font color="#A31515">'ASC'</font> ); <br> $ <font color="#0000ff">this</font> -&gt;setSaveParametersInSession( <font color="#0000ff">true</font> ); <br> } <br> <br> <font color="#0000ff">protected</font> <font color="#0000ff">function</font> _prepareCollection() <br> { <br> $collection = Mage::getModel( <font color="#A31515">'blog/article'</font> )-&gt;getCollection(); <br> $ <font color="#0000ff">this</font> -&gt;setCollection($collection); <br> <font color="#0000ff">return</font> parent::_prepareCollection(); <br> } <br> <br> <font color="#0000ff">protected</font> <font color="#0000ff">function</font> _prepareColumns() <br> { <br> $ <font color="#0000ff">this</font> -&gt;addColumn( <font color="#A31515">'article_id'</font> , array( <br> <font color="#A31515">'header'</font> =&gt; Mage::helper( <font color="#A31515">'blog/article'</font> )-&gt;__( <font color="#A31515">'ID'</font> ), <br> <font color="#A31515">'align'</font> =&gt; <font color="#A31515">'right'</font> , <br> <font color="#A31515">'width'</font> =&gt; <font color="#A31515">'50px'</font> , <br> <font color="#A31515">'index'</font> =&gt; <font color="#A31515">'article_id'</font> , <br> )); <br> <br> $ <font color="#0000ff">this</font> -&gt;addColumn( <font color="#A31515">'title'</font> , array( <br> <font color="#A31515">'header'</font> =&gt; Mage::helper( <font color="#A31515">'blog/article'</font> )-&gt;__( <font color="#A31515">'Title'</font> ), <br> <font color="#A31515">'align'</font> =&gt; <font color="#A31515">'left'</font> , <br> <font color="#A31515">'index'</font> =&gt; <font color="#A31515">'title'</font> , <br> )); <br> <br> <font color="#0000ff">return</font> parent::_prepareColumns(); <br> } <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">function</font> getRowUrl($row) <br> { <br> <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;getUrl( <font color="#A31515">'*/*/edit'</font> , array( <font color="#A31515">'id'</font> =&gt; $row-&gt;getId())); <br> } <br> } <br></font> <br></code> </blockquote><br><br>  Briefly about the grid: <br><ul><li>  In the constructor, we set the collation </li><li>  The _prepareCollection method indicates which collection the grid will work with. </li><li>  The _prepareColumns method allows you to determine which columns will be displayed in the entity table. <br></li><li>  The getRowUrl method determines the format of a link to go to the edit form (when clicking on a specific row) <br></li></ul><br><br><h3>  Controller creation </h3><br><br>  In this article, the controller will only have index action (displaying a table with articles) <br>  /app/code/local/Snowcore/Blog/controllers/Adminhtml/ArticleController.php <br><br><blockquote> <code><font color="black">&lt;?php <br> <font color="#0000ff">class</font> Snowcore_Blog_Adminhtml_ArticleController extends Mage_Adminhtml_Controller_action <br> { <br> <font color="#0000ff">protected</font> <font color="#0000ff">function</font> _initAction() <br> { <br> $ <font color="#0000ff">this</font> -&gt;loadLayout() <br> -&gt;_setActiveMenu( <font color="#A31515">'blog/article'</font> ) <br> -&gt;_addBreadcrumb(Mage::helper( <font color="#A31515">'adminhtml'</font> )-&gt;__( <font color="#A31515">'Articles Manager'</font> ), Mage::helper( <font color="#A31515">'adminhtml'</font> )-&gt;__( <font color="#A31515">'Articles Manager'</font> )); <br> <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> ; <br> } <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">function</font> indexAction() <br> { <br> $ <font color="#0000ff">this</font> -&gt;_initAction() <br> -&gt;renderLayout(); <br> } <br> } <br></font> <br></code> </blockquote><br><br><h3>  Total </h3><br>  Our controller so far contains an index action, in which the layout and breadcrumbs initialize.  At this stage, the contents of the articles table is displayed on the <strong>Manage Articles</strong> page.  The table is still empty, but to check if the grid works, you can manually add a couple of records to the database. <br>  <strong>Mage_Adminhtml_Block_Widget_Grid</strong> provides the ability to use a filter and sort the list by specified fields. <br><br>  As a result, we got a working table with the ability to filter and sort the data.  In the next article we will make the <em>ability to manage table entries</em> . <br><br>  <a href="http://snowcore.net/category/magento" title="Instructions for the creation of modules Magento">Stay tuned for updates</a> ! <br><br>  <strong>See you soon ;-)</strong> </div><p>Source: <a href="https://habr.com/ru/post/80108/">https://habr.com/ru/post/80108/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../80102/index.html">Thick As Brick - the simplest html template for layout</a></li>
<li><a href="../80103/index.html">Keyboard character set on Mac OS X</a></li>
<li><a href="../80105/index.html">Students vs Developers</a></li>
<li><a href="../80106/index.html">iHome Introduces Portable Audio System for iPod / iPhone - iP49</a></li>
<li><a href="../80107/index.html">An easy way to restore a scratched DVD at home</a></li>
<li><a href="../80109/index.html">Microsoft Natural Ergonomic Keyboard 4000 vs Logitech Wave</a></li>
<li><a href="../80110/index.html">Learn more about the PHP Depend source code analyzer.</a></li>
<li><a href="../80111/index.html">Data Visualization on the Web 3: Flash / Flex</a></li>
<li><a href="../80112/index.html">LED display control</a></li>
<li><a href="../80115/index.html">Registration for SUN TECH DAYS 2010</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>