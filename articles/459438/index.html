<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Data is still more important</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Here is a quote from Linus Torvalds for 2006 : 

 I'm a huge supporter of developing code around data, and not vice versa, and I think this is one of ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Data is still more important</h1><div class="post__text post__text-html js-mediator-article">  Here is a <a href="https://lwn.net/Articles/193245/">quote from Linus Torvalds for 2006</a> : <br><br><blockquote>  I'm a huge supporter of developing code around data, and not vice versa, and I think this is one of the reasons why git was quite successful ... In fact, I argue that the difference between a bad programmer and a good programmer is whether he thinks more important your code or your data structures.  Bad programmers are worried about the code.  Good programmers worry about data structures and their relationships. </blockquote><br>  Which is very similar to the <a href="http://www.catb.org/~esr/writings/taoup/html/ch01s06.html">‚Äúrule of submission‚Äù by Eric Raymond of 2003</a> : <br><br><blockquote>  Roll knowledge in the data so that the logic of the program becomes stupid and reliable. </blockquote><br>  Here is just a summary of ideas similar to the <a href="http://doc.cat-v.org/bell_labs/pikestyle">thoughts of Rob Pike of 1989</a> : 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote>  Dominate the data.  If you choose the right data structures and everything is well organized, then the algorithms will almost always be self-evident.  Data structures, rather than algorithms, play a central role in programming. </blockquote><a name="habracut"></a><br>  He quotes <a href="https://archive.org/stream/mythicalmanmonth00fred/mythicalmanmonth00fred_djvu.txt">Fred Brooks from 1975</a> : <br><br><blockquote><h4>  Representation - the essence of programming </h4><br>  Behind the mastery is ingenuity, thanks to which <br>  economical and fast programs.  This is almost always the result. <br>  strategic breakthrough, not tactical skill.  Sometimes so strategic <br>  a breakthrough is an algorithm, such as the fast Fourier transform, <br>  proposed by Cooley and Tukey, or replacing <i>n</i> ¬≤ comparisons with <i>n</i> log <i>n</i> when sorting. <br><br>  More often, a strategic breakthrough comes as a result of <br>  data or tables.  Here lies the core of the program.  Show me the flowcharts, not showing the tables, and I will remain astray.  Show me your <br>  tables, and flowcharts, most likely, will not be needed: they will be obvious. </blockquote><br>  So, almost half a century, smart people say again and again: first focus on the data.  But sometimes it seems that this is the smartest advice that everyone forgets. <br><br>  I will give some real examples. <br><br><h1>  Highly scalable system that failed </h1><br>  This system was originally created with the expectation of incredible scalability with a heavy load on the CPU.  Nothing synchronous.  Everywhere callbacks, queues and work pools. <br><br>  But there were two problems.  The first was that the ‚Äúprocessor load‚Äù was not so intense - one task took a maximum of several milliseconds.  So most of the architecture did more harm than good.  The second problem was that the ‚Äúhighly scalable distributed system‚Äù actually worked on only one machine.  Why?  Because all communication between asynchronous components was carried out using files in the local file system, which has now become a bottleneck for any scaling.  The original design was not tied to the data at all, except for the protection of local files in the name of ‚Äúsimplicity‚Äù.  The main part of the project was devoted to all of this additional architecture, which ‚Äúobviously‚Äù was needed to cope with the ‚Äúheavy load‚Äù on the CPU. <br><br><h1>  Service-oriented architecture, which is still data-oriented. </h1><br>  This system followed the design of microservices from single-purpose applications with REST APIs.  One of the components was a database in which documents are stored (mainly responses to standard forms and other electronic documents).  Naturally, she exhibited an API for saving and retrieving data, but rather quickly there was a need for more complex search functionality.  The developers considered that adding this function to the existing document API contradicts the principles of microservice design.  Since 'search' is essentially different from 'get / put', the architecture should not combine them.  In addition, they planned to use a third-party tool for working with the index, so creating a new 'search' service made sense for this reason as well. <br><br>  As a result, a search API was created and a search index, which essentially became a duplicate of data in the main database.  This data was updated dynamically, so any component that changed document data through the main database API should also send a request to update the index through the search API.  Using the REST API, it is impossible to do this without a race condition, so two sets of data occasionally went out of sync. <br><br>  Despite the promise of architecture, the two APIs were closely related through their data dependencies.  Later, the developers recognized that the search index should be combined with a common document service, and this made the system much more maintainable.  ‚ÄúDoing One‚Äù works at the data level, but not at the verb level. <br><br><h1>  Fantastically modular and configurable clump of dirt </h1><br>  This system was a kind of automated deployment pipeline.  The original development team wanted to make a flexible enough tool to solve deployment problems throughout the company.  They wrote a set of plug-in components with a configuration file system that not only tuned components, but also acted as a <a href="https://martinfowler.com/books/dsl.html">domain-specific language</a> (DSL) for programming how the components fit into the pipeline. <br><br>  Fast forward a few years in advance, and the tool has become ‚Äúthat very program.‚Äù  There was a long list of known errors that no one ever corrected.  No one wanted to touch the code for fear of breaking anything.  Nobody used DSL flexibility.  All users copied and pasted the same guaranteed working configuration as everyone else. <br><br>  Something went wrong?  Although words such as ‚Äúmodular,‚Äù ‚Äúdisconnected,‚Äù ‚Äúextensible,‚Äù and ‚Äúcustomizable‚Äù were often used in the original project document, he said nothing about the data at all.  Thus, data dependencies between components were handled in an ad hoc manner using a globally common JSON blob.  Over time, the components made more and more undocumented assumptions about what is included or not included in the JSON blob.  Of course, DSL allowed you to rearrange the components in any order, but most configurations did not work. <br><br><h1>  Lessons </h1><br>  I chose these three projects, because using their example it is easy to explain the general thesis without touching the others.  One day I tried to create a website, and instead hovered over some servile XML database that didn't even solve my data problems.  There was another project that turned into a broken likeness of half the <code>make</code> functionality, again because I didn‚Äôt think I really needed to.  I already wrote about the time spent creating an <a href="https://theartofmachinery.com/2016/06/21/code_vs_data.html">infinite hierarchy of OOP classes that should be encoded in the data</a> . <br><br>  Update: <br><br>  Apparently, many still think that I'm trying to make fun of someone.  My real colleagues know that I am much more interested in correcting real problems, and not on blaming those who have generated these problems, but, okay, this is what I think of the developers involved in these projects. <br><br>  To be honest, the first situation obviously occurred because the system architect was more interested in applying scientific work than in solving a real problem.  Many of us can be blamed for this (me too), but this really annoys our colleagues.  After all, they will have to help in support when we get tired of the toy.  If you recognize yourself, do not be offended, please just stop (although I would prefer to work with a distributed system on one node than with any system on my ‚ÄúXML database‚Äù). <br><br>  In the second example there is nothing personal.  Sometimes it seems that everyone around is saying how wonderful it is to separate services, but no one talks about when it is better not to do it.  People learn all the time the hard way. <br><br>  The third story actually happened to some of the smartest people I've ever worked with. <br><br>  (End of update). <br><br>  The question ‚ÄúWhat is said about the problems created by the data?‚Äù Turns out to be a rather useful litmus test for good system design.  It is also very useful for identifying false "experts" with their advice.  Problems with the architecture of complex, entangled systems are data problems, so false experts like to ignore them.  They will show you amazingly beautiful architecture, but they will not say anything about what data it is suitable for, and (importantly) what data is not suitable. <br><br>  For example, a false expert might say that you should use the pub / sub system, because pub / sub systems are loosely coupled, and weakly coupled components are more maintainable.  It sounds beautiful and gives beautiful diagrams, but this is the opposite of thinking.  Pub / sub does not <i>make</i> your components loosely connected;  The pub / sub <i>itself is</i> loosely coupled, which may or may not correspond to the needs of your data. <br><br>  On the other hand, a well-designed data-oriented architecture is important.  Functional programming, service mesh, RPC, design patterns, event cycles, whatever, all have their merits.  But personally, I have seen that much more successful production systems work on <a href="https://theartofmachinery.com/2017/10/28/rdbs_considered_useful.html">boring old DBMSs</a> . </div><p>Source: <a href="https://habr.com/ru/post/459438/">https://habr.com/ru/post/459438/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../45943/index.html">Eclipse and SFTP without problems</a></li>
<li><a href="../459430/index.html">Mobile application with automatic generation of forms: our case</a></li>
<li><a href="../459432/index.html">RD-180: can the US make rocket engines?</a></li>
<li><a href="../459434/index.html">React Hook Router is a modern alternative to React Router.</a></li>
<li><a href="../459436/index.html">Decentralized Internet provider ‚ÄúMedium‚Äù - three months later</a></li>
<li><a href="../45944/index.html">Poppy. Survival Guide. Part 2</a></li>
<li><a href="../459442/index.html">5 open-source security event management systems</a></li>
<li><a href="../459444/index.html">Recent changes to the Linux IO stack from a DBA perspective</a></li>
<li><a href="../459446/index.html">Five frightening trends of modern development</a></li>
<li><a href="../45945/index.html">Mobile WiMAX in Russia - November results</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>