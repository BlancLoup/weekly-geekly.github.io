<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Deep Packet Inspection: Equipment and Application</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We in VAS Experts design and implement services in the field of monitoring and analyzing Internet traffic. In our blog, we decided to start talking ab...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Deep Packet Inspection: Equipment and Application</h1><div class="post__text post__text-html js-mediator-article">  We in <a href="http://vasexperts.ru/index.php">VAS Experts</a> design and implement services in the field of monitoring and analyzing Internet traffic.  In our blog, we decided to start talking about the device technologies related to our field of activity. <br><br>  In the first two materials we talked about the <a href="https://habrahabr.ru/company/vasexperts/blog/313554/">composition of the system</a> and the wiring diagram, and in the second about <a href="https://habrahabr.ru/company/vasexperts/blog/313556/">usage scenarios</a> .  Today we will look at what requirements are imposed on the hardware for the full operation of the in-depth traffic analysis systems, and where such systems are applied. <br><br> <a href="https://habrahabr.ru/company/vasexperts/blog/313558/"><img src="https://habrastorage.org/files/68d/654/f17/68d654f1763a41b9b428e99be6b08d57.png"></a> <br>  <i>/ Flickr / <a href="https://www.flickr.com/photos/smemon/">Sean MacEntee</a> / <a href="https://creativecommons.org/licenses/by/2.0/">CC</a></i> <br><a name="habracut"></a><br>  Deep packet inspection (DPI) systems are most often used to monitor and filter traffic, sometimes to block protocols.  Using DPI, you can track data generated by applications and choose the appropriate action strategy. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      DPI requires a software system installed on a suitable hardware platform.  Only properly selected equipment and optimized software in conjunction will give a high level of performance. <br><br><h3>  Servers for DPI </h3><br>  The servers for DPI are usually <a href="http://blog.vasexperts.ru/%3Fp%3D257">similar</a> to 1U servers, but they focus on network components, not RAM and hard drives.  DPI servers can have 4 to 8 ports of 1 GbE RJ45, 4 ports of 10 GbE SFP + or 2 ports 40 GE QSFP +. <br><br>  Network cards in the DPI-system must support Bypass mode - if the server turns off, the connection between the ports will continue to work using power from the built-in battery and will pass traffic without filtering.  Also on the DPI-server is usually installed a system for monitoring the status of work (Advanced Lights Out Management), with which you can manage all parameters remotely or through a graphical interface on the display.  The server's motherboard BIOS must be hardware protected from damage and support remote updates. <br><br>  One or two Intel Xeon E5-2600 V4 (Broadwell-EP) processors and two hard disks combined in RAID 1 are enough for the server to function. Usually the main device has two SSD disks to install the operating system, for example, SmartOS, they are added to 24 HDD or SSD drives, as well as network ports and ports for expansion shelves.  To increase the data storage, in addition to the device, JBOD disk arrays are connected, each of which supports up to 70 HDD or SSD disks. <br><br>  This model allows you to quickly and at low cost <a href="http://blog.vasexperts.ru/%3Fp%3D257">to expand the</a> volume of data storage, which is especially important when processing traffic statistics and content caching - images, video and other similar files. <br><br>  It is best to use ZFS file system and RAID-Z technology to control disks, maintain their integrity and high speed.  To ensure fault tolerance, it is desirable to install at least two interchangeable power supplies. <br><br>  Often, manufacturers of traffic analysis systems offer ready-made kits of hardware and software ‚Äî such servers are different from standard systems and can be additionally equipped with data storage systems or statistics collection in accordance with legal requirements. <br><br>  On the other hand, it can be much more convenient if the proposed server is a device on a standard platform that can be easily upgraded.  Such systems are more common in Russian companies - Protey, Vas Experts, Peter-Service, Napa Labs. <br><br><h3>  Categories of use </h3><br>  The company Heavy Reading <a href="http://www.qosmos.com/wp-content/uploads/2014/01/Heavy-Reading_Qosmos_DPI-SDN-NFV_White-Paper_Jan2014.pdf">conducted a</a> survey among telecom companies and collected data on the main areas of application of DPI.  The most popular direction has been quality of service (QoS) - this includes monitoring network status and solving equipment problems. <br><br>  Previously, home subscriber traffic (HSI - High Speed ‚Äã‚ÄãInternet) was hardly controlled - BitTorrent could take the entire free connection bandwidth, but now DPI allows operators to distribute the channel between different applications. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/41e/40f/1f3/41e40f1f37e143aa88d8b94d17f74d76.jpg" width="500"></div><br>  The second most important category for operators was the network subscriber policy management (PCEF).  According to research by analysts, this is the largest category of application of DPI in terms of volume and value, and it will only continue to grow.  The third most important category providers called network gateways - today DPI is often used on routers in 4G (P-GW) and 3G networks (GGSN). <br><br>  The fourth category in the survey is the use of DPI to analyze user information.  Initially, DPI was used to analyze network traffic and trends, but increasingly, companies are connecting this technology to analyzing the behavior of subscribers in real time, in order to develop more suitable sets of services and at the same time select the right load on the network. <br><br><h4>  Properties and comparison of "iron" </h4><br>  According <a href="https://www2.eecs.berkeley.edu/Pubs/TechRpts/2006/EECS-2006-156.pdf">to</a> experts from the University of California at Berkeley, for a fast and reliable DPI operation, the equipment must have certain properties.  DPI is used to check network packets by thousands of identifiers, so for high speed it is necessary to divide this process into parallel streams, that is, the equipment must support parallelism in data processing. <br><br>  The hardware must process network packets at high speed to match the bandwidth of a gigabit network channel.  In addition, the equipment should not consume a lot of energy - overheating means slowing down the work, breakdown or a large load on the cooling system. <br><br>  Also, the hardware must be flexibly customizable and provide the possibility of future expansion of functions and quick updates, for example, to protect against new viruses. <br><br>  At Vas Experts, <a href="http://blog.vasexperts.ru/%3Fp%3D203">we</a> compared the primary and middle class devices of both domestic and foreign manufacturers, which almost all operators can afford.  Based on the data we collected, we can conclude that the most expensive low-end systems were Cisco SCE1000 and Huawei SIG9800-X3, the latter having the highest performance. <br><br><img src="https://habrastorage.org/files/0a9/8b7/1ac/0a98b71acddc4195924b74bbde7ed01e.png"><br><br>  As for the middle segment, here we have observed almost complete equality in performance and equipment devices.  The only difference is that Russian systems are based on standard components, and this allows you to increase performance with much lower costs, because additional extensions for devices of foreign companies Sandvine, Allot or Procera are much more expensive and require license extensions (you can find a full analysis in our <a href="http://blog.vasexperts.ru/%3Fp%3D203">blog</a> ). <br><br><img src="https://habrastorage.org/files/78f/52c/a95/78f52ca952364282ac7218e909d07269.png"><br><br>  Based on this, we can conclude that Russian manufacturers can compete with international companies, but their solutions should be used in networks with low traffic volumes and a small number of subscribers.  Otherwise, you should pay attention to closed platforms of foreign developers, which have a little more reliability, stability and optimization. <br><br><h3>  Practical benefits </h3><br>  Unfortunately, a comparison of the specifications specified in the specification will not give a complete understanding of the practical benefits, so it is important to check the equipment on test specimens from manufacturers.  However, it is not always possible to get devices for testing, in this case, you need to focus on the experience of people who are already working with specific systems and technologies, look for information on forums and technical support specialists. <br><br>  Also, when choosing a system, integration costs are of great importance (in addition to performance and functionality) - for many it becomes a decisive factor for the installation of a DPI system.  Let us give an example of calculating the effectiveness of the implementation of such a system (ROI). <br><br>  Assume that the total volume of traffic consumed by subscribers is 20 Gbit per month, the cost of 1 Gbit is $ 3,000, and the cost of the DPI system is $ 75,000.  Then the use of the DPI system at the claimed efficiency of 35% reduction in the uplink will give 7 Gbit / s bandwidth savings per month - that‚Äôs $ 21,000 per month.  In this case, the DPI-system will pay off in 3.6 months (75000/21000 = about 3.6). <br><br>  If we take into account that adding additional functions (blocking prohibited sites, protection against viruses and attacks, CGNAT) will not have to be paid, the implementation of DPI will pay off even faster, and customers will receive higher quality services for the same price.  It is worth noting that Russian companies sell equipment at prices in rubles - this is a serious advantage for operators who receive their income in the same currency.  Buying and maintaining the system in this case will be even more profitable. <br><br><div class="spoiler">  <b class="spoiler_title">Introduction to DPI</b> <div class="spoiler_text"><ul><li>  <a href="https://habrahabr.ru/company/vasexperts/blog/313554/">System composition and wiring diagrams</a> </li><li>  <a href="https://habrahabr.ru/company/vasexperts/blog/313556/">System usage scenarios</a> </li><li>  <a href="https://habrahabr.ru/company/vasexperts/blog/313558/">Equipment and application</a> </li></ul></div></div></div><p>Source: <a href="https://habr.com/ru/post/313558/">https://habr.com/ru/post/313558/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../313546/index.html">Researchers have created an exploit to get root-access to Android-based smartphones using the Rowhammer vulnerability</a></li>
<li><a href="../313550/index.html">Customize business processes web studio in CRM</a></li>
<li><a href="../313552/index.html">Kerio Operator 2.5 improves audio and video communications for small and medium businesses</a></li>
<li><a href="../313554/index.html">Introduction to DPI: System Composition and Connection Diagrams</a></li>
<li><a href="../313556/index.html">Introduction to DPI: System Usage Scenarios</a></li>
<li><a href="../313562/index.html">A little about the types of DDoS-attacks and methods of protection</a></li>
<li><a href="../313564/index.html">Installing Jenkins and Bonobo Git Server under Windows for building Android applications</a></li>
<li><a href="../313566/index.html">Automatic Relevance Determination or machine learning when there is very little data</a></li>
<li><a href="../313568/index.html">News of Mail.Ru Group online courses on Stepik</a></li>
<li><a href="../313570/index.html">Restore a domain controller from backup using Veeam</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>