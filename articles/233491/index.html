<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Your screenshot service for a restful sleep</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quite often in development, and not only, you need to share a screenshot with someone. Therefore, it is already difficult to surprise anyone with Clip...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Your screenshot service for a restful sleep</h1><div class="post__text post__text-html js-mediator-article">  Quite often in development, and not only, you need to share a screenshot with someone.  Therefore, it is already difficult to surprise anyone with <a href="http://habrahabr.ru/post/26477/">Clip2Net</a> , Joxi or <a href="http://habrahabr.ru/post/57587/">Gyazo</a> . <br><br>  But there are several nuances that may interfere with their use.  For me, this is advertising or a lot of garbage information around the screenshot (for example, from which browser window and when I made it - I'm paranoid), a dozen clicks to the cherished link in the browser and the clipboard.  And to keep your screenshot with the image of the most important and above the secret information is not clear where - it is generally incomprehensible how. <br><br>  It should be like this: pressed the hot key for a rectangle or screen, or for a scrolling window and that's it.  The picture opened in the browser, and the link to it was copied to the clipboard.  All this on your hosting next to your sites.  Optionally, in the screenshot you can still draw different arrows and circles. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      These tasks are perfectly solved by the Fast Stone Capture program plus your FTP, where you can upload the created screenshots.  But there are nuances about which, if you think about it, you can stop sleeping peacefully.  Under the cut I tell about the nuances and how to solve them, if you also need only pictures, only on your server and to sleep well. <br><br><a name="habracut"></a><br><br>  Here is the standard option to configure the generated file name and parameters for FTP download. <br><table><tbody><tr><td><img width="350" src="https://habrastorage.org/getpro/habr/post_images/6a2/250/194/6a22501940b40d43c4e677dd302a8a00.png" alt="image"></td><td><img width="350" src="https://habrastorage.org/getpro/habr/post_images/13b/506/077/13b506077a4a57018915a00c31e91b1d.png" alt="image"></td></tr></tbody></table><br><br>  It seems all is well.  They made a screen shot, it was loaded on the FTP, the link was opened and it also got on the clipboard.  All at home, nothing superfluous, just a fairy tale. <br><br>  However, we see that the first screenshot was obtained with the name <a href="">example.com/_ss/screenshot0001.png</a> , the second <a href="">example.com/_ss/screenshot0002.png</a> , the third <a href="">example.com/_ss/screenshot0003.png</a> and all of them lie on your ftp.  I wonder how quickly someone will guess from your friends, especially developers, that it is so easy to go through all your pictures? <br><br>  After all, there is surely something that is not intended for everyone.  After a couple of years of such use of this screenshot, I'm afraid to imagine what could be.  But it‚Äôs better not to think about it.  Even if you use templates with dates, understanding this nuance will not let you fall asleep. <br><br>  <b>Idea number 1</b> <br>  For a second it even seemed that you could use a cliptunet from a yohi or a gazo.  There links are quite difficult to sort out.  I tried.  But no.  This is the only advantage did not defeat all the flaws against their own FTP with pictures.  Especially after a long-term habit of taking a screenshot with one click of a hot key and getting exactly what was intended - a screenshot without garbage, but also on your server. <br><br>  <b>Idea number 2</b> <br>  You can also write in support of the program, but this is still the answer, until it appears, if it does.  In 30 minutes you can do everything yourself. <br><br>  In general, we will tune what the soul lies. <br><br>  <b>Solution number 1</b> <br>  We make a pattern of the form H $ YE $ SL $ M01 $ D $ S $ H #### $ N $ SABC $ S - add a lot of garbage between dates, a screenshot sequence number, seconds with minutes duplicate several times in different places, etc. P.  Definitely the name of the file H2014E41L080115411600085941ABC41.png already gives much less cause for concern. <br><br>  One could dwell on this, but the thought of enumeration still does not give rest.  Although, who does they need these my pictures?  But the matter of the principle: development, security, everything.  That is, I am not calm.  Surely someone else will, too. <br><br>  <b>Decision number 2</b> <br>  We make the same non-simple name template and add our own password (salt) to it.  For example, <br>  2G35nl0OJb4FkZH $ YE $ SL $ M01 $ D $ S $ H #### $ N $ SABC $ S.  And we write our little script writer, which, when opening the link, will still shamanize over this file.  In fact, it would have been possible to get by just with the garbage in the file template; no one will know the template from the bottom line.  But you never know. <br><br>  As a result, the FTP options window began to look like this: <br><img src="https://habrastorage.org/getpro/habr/post_images/3ad/de2/b20/3adde2b2087447c31d8f0d22296d82f1.png" alt="image"><br><br>  Add to the URL a link to your script, which will be able to rename the opened file as needed and open it in the browser at a new address.  Top secret, as it should be.  Then you will first open a new screenshot, and then for all the link will already be new.  Add here the option to delete old screenshots. <br><br><div class="spoiler">  <b class="spoiler_title">Some PHP code</b> <div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span> $key = <span class="hljs-string"><span class="hljs-string">'JLWWJLjfsdlf99234ged2340'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   md5   . $folder = 'files'; //    ,     ss.php $lifetime = 86400 * 7; //     7  //     $link = ''; $cd = dirname(__FILE__) . '/'; //        if (!empty($_GET['file'])) { $file = ltrim($_GET['file'], '/'); // FS    ?file= if (preg_match('#^[0-9a-z_-]+\.(png|jpg|jpeg|gif)$#si', $file, $f)) { $dest = $cd . $folder . '/' . md5($key . $file) . '.' . $f[1]; $url = 'http://' . getEnv('HTTP_HOST') . str_replace(basename(__FILE__), '', $_SERVER['SCRIPT_NAME']) . $folder . '/'; $src = $cd . $file; $link = $url . basename($dest); if (file_exists($src)) { rename($src, $dest); } } } //    $dest = $cd . $folder . '/'; $files = scandir($dest); foreach ($files as $file) { if ($file[0] == '.') continue; $file = $dest . $file; if (time() - filectime($file) &gt; $lifetime) unlink($file); } </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span><span class="hljs-comment"> if ($link): //header('Location: ' . $link); //exit(); </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span><span class="hljs-comment"> &lt;html&gt; &lt;body&gt; &lt;button id="copy-button" data-clipboard-text="</span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span><span class="hljs-comment">= $link; </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span><span class="hljs-comment">" style="padding: 20px; margin: 50px auto; display: block;"&gt;</span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span><span class="hljs-comment">= $link; </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span><span class="hljs-comment">&lt;/button&gt; &lt;script src="zc/ZeroClipboard.js"&gt;&lt;/script&gt; &lt;script type="text/javascript"&gt; // main.js var client = new ZeroClipboard( document.getElementById("copy-button") ); client.on( "ready", function( readyEvent ) { client.on( "aftercopy", function( event ) { document.location.href = event.data["text/plain"]; }); }); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span><span class="hljs-comment"> endif; </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span></span></code> </pre> <br></div></div><br><br>  <b>There was one tremendous nuance.</b> <br>  After renaming the file, the link in the clipboard will be a curve to the name encoder.  I had to add a large button, which by browser means copies the new link to the image and opens it in the browser.  But with this really somehow have to put up.  The <a href="http://zeroclipboard.org/">zeroclipboard</a> library <a href="http://zeroclipboard.org/">helped</a> . <br><br>  As a result, press Ctrl + PrtSc, select the desired area, we get in the browser a button to copy the links to the clipboard <br><img src="https://habrastorage.org/getpro/habr/post_images/27e/67e/59a/27e67e59acd25b300c1e8fe8dca36356.png" alt="image"><br><br>  And the perfect link to the screenshot without anything extra: <a href="">www.grinkevich.by/_ss/files/9bf30316a61ee1f8caf078ebac1f7dda.png</a> which will be deleted in 7 days.  I hope someone else would benefit from such a decision. <br><br>  Perhaps it will be ridiculous to someone, and to someone, it‚Äôs also quite sad from such perversions.  But who needs it, and the program is a bit paid, and here too, who cares :) <br><br>  Take care of your screenshots and everyone on Friday! </div><p>Source: <a href="https://habr.com/ru/post/233491/">https://habr.com/ru/post/233491/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../233481/index.html">Growth Hacking - 5 rules of success</a></li>
<li><a href="../233483/index.html">The best interesting and useful for the year</a></li>
<li><a href="../233485/index.html">Twitter is going to declare war on the "Troll"</a></li>
<li><a href="../233487/index.html">As I entered the mobile gaming market, I stood and left. Yandex Workshop</a></li>
<li><a href="../233489/index.html">Checking GIMP source code with PVS-Studio</a></li>
<li><a href="../233493/index.html">How to charge a smartphone from a cat, a child and in the forest</a></li>
<li><a href="../233497/index.html">Disable full time synchronization between the virtual machine and the VMware ESXi hypervisor</a></li>
<li><a href="../233501/index.html">Understanding your own code</a></li>
<li><a href="../233503/index.html">Identification of Linux kernel loadable modules [part 1]: source code</a></li>
<li><a href="../233505/index.html">Improving Web Application UI</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>