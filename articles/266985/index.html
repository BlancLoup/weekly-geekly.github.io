<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to make friends C ++ and QML</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="They sent me as a test task. You need to write Qt chess using C ++ and QML. QML has not studied it before, only heard and read about it, so I decided ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to make friends C ++ and QML</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/217/8d9/ed2/2178d9ed26c84bb8b95f5cb69817c01b.jpg" alt="image" align="left" hspace="5" vspace="7"><br>  They sent me as a test task.  You need to write Qt chess using C ++ and QML.  QML has not studied it before, only heard and read about it, so I decided that I would write only using C ++ and the Qt library.  I wrote, sent, returned and asked to rewrite the graphic part in QML.  There is nothing to do, I sat down to study this miracle and rewrote the graphic part.  Now I want to share my experience. <br><br>  I will not describe the whole process of writing chess, I will only describe the process of understanding QML.  I think this article will help beginners in QML. <br><a name="habracut"></a><br>  <b>Let's start</b> <br>  The application window is divided into 2 parts: in the left board with figures;  in the right protocol of moves (it is necessary according to the task) and control buttons (New game, Exit, Save, etc ... e.) <br>  We need, in QML, to recreate the chessboard and the pieces on it.  All the mathematics of moves is written in C ++. <br><br>  As we work with QML and Widgets we connect <b>QT + = qml quick declarative</b> .  We will work with QML 1.1, since the <i>Declarative</i> module does not know how to work with QML 2.0.  We use <i>Declarative</i> , because only it is compatible with QWidget.  All other components for working with QML no. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Prepare a <i>QDeclarativeView</i> , override this class: <br>  <b>File decl.h</b> <br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> DECL_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> DECL_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;QtWidgets&gt; #include &lt;QtDeclarative&gt; class MyDecl : public QDeclarativeView { Q_OBJECT protected: virtual void mouseReleaseEvent(QMouseEvent *me); public: MyDecl(QWidget *parent = 0); ~MyDecl(); signals: void declMouseRelease(int x, int y); }; #endif // DECL_H</span></span></span></span></code> </pre> <br>  <b>Decl.cpp file</b> <br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"decl.h"</span></span></span><span class="hljs-meta"> MyDecl::MyDecl(QWidget *parent) : QDeclarativeView(parent) { } MyDecl::~MyDecl() { } void MyDecl::mouseReleaseEvent(QMouseEvent *me) { emit declMouseRelease(me-&gt;x(), me-&gt;y()); }</span></span></code> </pre> <br>  Why do this?  The fact is that the management of figures is carried out with the mouse.  To receive a signal from QML is difficult, so we will send a signal to the handler from this widget. <br><br>  Now we create an object in the main class of the program: <br><pre> <code class="cpp hljs">MyDecl *decl;</code> </pre> <br>  We connect our future QML file to it, set variables and display them on the window.  We do this in the constructor: <br><pre> <code class="cpp hljs"> decl = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> QDeclarativeView; decl-&gt;engine()-&gt;rootContext()-&gt;setContextProperty(<span class="hljs-string"><span class="hljs-string">"w1x"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); decl-&gt;engine()-&gt;rootContext()-&gt;setContextProperty(<span class="hljs-string"><span class="hljs-string">"w1y"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); decl-&gt;engine()-&gt;rootContext()-&gt;setContextProperty(<span class="hljs-string"><span class="hljs-string">"w1a"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); decl-&gt;engine()-&gt;rootContext()-&gt;setContextProperty(<span class="hljs-string"><span class="hljs-string">"w1c"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); decl-&gt;engine()-&gt;rootContext()-&gt;setContextProperty(<span class="hljs-string"><span class="hljs-string">"w1t"</span></span>, <span class="hljs-string"><span class="hljs-string">"texture.png"</span></span>); decl-&gt;setSource(QUrl(QStringLiteral(<span class="hljs-string"><span class="hljs-string">"qrc:/Images/main.qml"</span></span>))); connect(decl, SIGNAL(declMouseRelease(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)), SLOT(getBoardMouse(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>))); QHBoxLayout *mainWindow = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> QHBoxLayout; QVBoxLayout *boardLayout = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> QVBoxLayout; boardLayout-&gt;addWidget(decl,<span class="hljs-number"><span class="hljs-number">0</span></span>, Qt::AlignTop | Qt::AlignLeft); mainWindow-&gt;addLayout(boardLayout, <span class="hljs-number"><span class="hljs-number">4</span></span>);</code> </pre> <br>  Place the widget on which the QML part is drawn, top-left, so as not to do calculations for the mouse displacement.  The coordinates of the board (0; 0) will correspond to the coordinates of the widget (0; 0). <br>  Why we need variables <i>w1x</i> , <i>w1y</i> , <i>w1c</i> , <i>w1t</i> , <i>w1a</i> will be described below. <br><br>  Now create and connect to the project <b>main.qml</b> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> QtQuick <span class="hljs-number"><span class="hljs-number">1.1</span></span> Rectangle { <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-number"><span class="hljs-number">480</span></span> height: <span class="hljs-number"><span class="hljs-number">480</span></span> Image { <span class="hljs-attr"><span class="hljs-attr">x</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> y: <span class="hljs-number"><span class="hljs-number">0</span></span> source: <span class="hljs-string"><span class="hljs-string">"Textures/board.png"</span></span> } }</code> </pre> <br>  For now we are only loading a chessboard. <br><img src="https://habrastorage.org/files/ab1/9d0/811/ab19d08113ee41b8935ee3c6b8dbdd6d.png" alt="image" hspace="5" vspace="7"><br><br>  Now it is necessary to place figures on it. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> QtQuick <span class="hljs-number"><span class="hljs-number">1.1</span></span> Rectangle { <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-number"><span class="hljs-number">480</span></span> height: <span class="hljs-number"><span class="hljs-number">480</span></span> Image { <span class="hljs-attr"><span class="hljs-attr">x</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> y: <span class="hljs-number"><span class="hljs-number">0</span></span> source: <span class="hljs-string"><span class="hljs-string">"Textures/board.png"</span></span> Rectangle { <span class="hljs-attr"><span class="hljs-attr">x</span></span>: w1x y: w1y width: <span class="hljs-number"><span class="hljs-number">56</span></span> height: <span class="hljs-number"><span class="hljs-number">56</span></span> color: w1c ? <span class="hljs-string"><span class="hljs-string">"#8000ff80"</span></span> : <span class="hljs-string"><span class="hljs-string">"#00000000"</span></span> Image { <span class="hljs-attr"><span class="hljs-attr">x</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> y: <span class="hljs-number"><span class="hljs-number">0</span></span> source: w1t visible: w1a } } } }</code> </pre> <br>  Let's see what is written here. <br>  Inside the Image, we placed the Rectangle size 56x56 (this is exactly the size of one square on the board, in this implementation).  The coordinates will depend on some variables <i>w1x</i> and <i>w1y</i> .  Coordinates are relative to the parent object, in this case, Image (board).  Inside the cell, create an Image object - this will be a chess piece.  Set the coordinates to it (0; 0), it will move along with the parent Rectangle.  The texture for the figure will be specified in the variable <i>w1t</i> .  The variable <i>w1c is</i> needed to determine whether this shape is selected, if selected, the Rectangle is filled with a light green color.  The figure can be killed and we will not need to draw it, for this <i>w1a</i> is responsible. <br><br>  The variables <i>w1x</i> , <i>w1y</i> , <i>w1c</i> , <i>w1t</i> , <i>w1a</i> are set / changed from C ++. <br><pre> <code class="cpp hljs"> decl-&gt;engine()-&gt;rootContext()-&gt;setContextProperty(<span class="hljs-string"><span class="hljs-string">"w1x"</span></span>, piece.x); decl-&gt;engine()-&gt;rootContext()-&gt;setContextProperty(<span class="hljs-string"><span class="hljs-string">"w1y"</span></span>, piece.y); decl-&gt;engine()-&gt;rootContext()-&gt;setContextProperty(<span class="hljs-string"><span class="hljs-string">"w1c"</span></span>, piece.choice); decl-&gt;engine()-&gt;rootContext()-&gt;setContextProperty(<span class="hljs-string"><span class="hljs-string">"w1a"</span></span>, piece.active); decl-&gt;engine()-&gt;rootContext()-&gt;setContextProperty(<span class="hljs-string"><span class="hljs-string">"w1t"</span></span>, piece.source);</code> </pre> <br>  In <b>setContextProperty, the</b> first parameter is the name of the parameter in QML, it can be set dynamically using a <b>QString</b> .  The second is the value.  And according to these values, the values ‚Äã‚Äãin QML change. <br><br>  This process was described for the 1st figure, and there are only 32 of them. For such an amount, the technique is not very convenient.  Therefore, there is a slightly different solution. <br><br>  First, change the graphic part to QML.  Create a new object: <br>  <b>PieceSprite.qml</b> file <br><pre> <code class="javascript hljs">iimport QtQuick <span class="hljs-number"><span class="hljs-number">1.1</span></span> Rectangle { property string texture: <span class="hljs-string"><span class="hljs-string">""</span></span> property bool active: <span class="hljs-literal"><span class="hljs-literal">true</span></span> width: <span class="hljs-number"><span class="hljs-number">56</span></span> height: <span class="hljs-number"><span class="hljs-number">56</span></span> Image { <span class="hljs-attr"><span class="hljs-attr">x</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> y: <span class="hljs-number"><span class="hljs-number">0</span></span> source: parent.texture visible: parent.active } Behavior on x { NumberAnimation { <span class="hljs-attr"><span class="hljs-attr">duration</span></span>: <span class="hljs-number"><span class="hljs-number">500</span></span> easing.type: Easing.InOutQuad } } Behavior on y { NumberAnimation { <span class="hljs-attr"><span class="hljs-attr">duration</span></span>: <span class="hljs-number"><span class="hljs-number">500</span></span> easing.type: Easing.InOutQuad } } }</code> </pre> <br>  Added parameters <i>texture</i> and <i>active</i> .  For Image (shape), we track the change of <i>x</i> and <i>y</i> coordinates, so that the figures move smoothly (add motion animation). <br><br>  Modify <b>main.qml</b> by adding a new object to it and create all the shapes using <i>JavaScript</i> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> QtQuick <span class="hljs-number"><span class="hljs-number">1.1</span></span> Rectangle { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: appWindow width: <span class="hljs-number"><span class="hljs-number">480</span></span> height: <span class="hljs-number"><span class="hljs-number">480</span></span> Image { <span class="hljs-attr"><span class="hljs-attr">x</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> y: <span class="hljs-number"><span class="hljs-number">0</span></span> source: <span class="hljs-string"><span class="hljs-string">"Images/Textures/board.png"</span></span> Component.onCompleted: { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> component = Qt.createComponent(<span class="hljs-string"><span class="hljs-string">"PieceSprite.qml"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> compName; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sprite; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt;= <span class="hljs-number"><span class="hljs-number">16</span></span>; i++) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> c = <span class="hljs-number"><span class="hljs-number">0</span></span>; c &lt; <span class="hljs-number"><span class="hljs-number">2</span></span>; c++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (c == <span class="hljs-number"><span class="hljs-number">1</span></span>) { compName = <span class="hljs-string"><span class="hljs-string">"wp"</span></span> + i; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { compName = <span class="hljs-string"><span class="hljs-string">"bp"</span></span> + i; } sprite = component.createObject(appWindow); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sprite == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// Error Handling console.log("Error creating object"); } else { sprite.x = 0; sprite.y = 0; sprite.active = false; sprite.objectName = compName; } } } } } }</span></span></code> </pre> <br>  We give names for the objects - <i>wp</i> for white pieces and <i>bp</i> for black ones, plus a sequence number from 1 to 16. By these names we will refer to our figures. <br><br>  Now in C ++, in the constructor, we remove the definition of variables: <br><pre> <code class="cpp hljs"> decl = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> QDeclarativeView; decl-&gt;setSource(QUrl(QStringLiteral(<span class="hljs-string"><span class="hljs-string">"qrc:/Images/main.qml"</span></span>))); connect(decl, SIGNAL(declMouseRelease(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)), SLOT(getBoardMouse(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>))); QHBoxLayout *mainWindow = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> QHBoxLayout; QVBoxLayout *boardLayout = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> QVBoxLayout; boardLayout-&gt;addWidget(decl,<span class="hljs-number"><span class="hljs-number">0</span></span>, Qt::AlignTop | Qt::AlignLeft); mainWindow-&gt;addLayout(boardLayout, <span class="hljs-number"><span class="hljs-number">4</span></span>);</code> </pre> <br>  To change the parameters of objects in QML, create a function: <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Chess::setQmlPieceParametr(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> piece &amp;p, <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> setTexture) { <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> pColor = p.white ? <span class="hljs-string"><span class="hljs-string">'w'</span></span> : <span class="hljs-string"><span class="hljs-string">'b'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    / int x = offset_x + (p.cell.x() * piece_size); //     int y = offset_y + BOARD_SIZE - (p.cell.y() * piece_size); //  Y   QString compColor = p.choise ? "#8000ff80" : "#00000000"; //      ,   QString compName = QString("%1p%2").arg(pColor).arg(p.pId); //        QObject *pieceSprite = decl-&gt;rootObject()-&gt;findChild&lt;QObject*&gt;(compName); //      QML if (pieceSprite) { //   ,    pieceSprite-&gt;setProperty("x", x); pieceSprite-&gt;setProperty("y", y); pieceSprite-&gt;setProperty("active", p.active); pieceSprite-&gt;setProperty("color", compColor); if (setTexture) { //                pieceSprite-&gt;setProperty("texture", QString("Images/Textures/%1").arg(pColor) + p.texture); } } }</span></span></code> </pre> <br>  The function allows you to set parameters for a single shape.  Due to the fact that the cells on the board do not start from the edge, but the height is considered from below, it is necessary to recalculate the coordinates. <br>  The shape parameters are stored in the <i>piece</i> structure. <br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">piece</span></span></span><span class="hljs-class"> {</span></span> QPoint cell; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> type; <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> first_step; QString texture; <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> white; <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> choise; <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> active; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> pId; };</code> </pre> <br>  Here, in fact, that's all.  Link to the project in <a href="https://drive.google.com/file/d/0B9nT9i_D3MRCM2I3ZnhYN2lUYkU/view%3Fusp%3Dsharing">GoogleDocks</a> . <br>  Thanks if you read it. <br><br>  PS: It so happened that I had to use <i>Declarative</i> .  This is not good and I do not recommend using it in my applications. </div><p>Source: <a href="https://habr.com/ru/post/266985/">https://habr.com/ru/post/266985/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../266971/index.html">Log processing with monit.d</a></li>
<li><a href="../266973/index.html">How much does it cost to make a mobile game?</a></li>
<li><a href="../266975/index.html">DI in complex applications. How not to drown in addictions</a></li>
<li><a href="../266977/index.html">How to unlock Android without knowing the password</a></li>
<li><a href="../266981/index.html">Outbound mail routing using Cisco ESA</a></li>
<li><a href="../266987/index.html">ABBYY helps to digitize rare editions of the Sakhalin Library</a></li>
<li><a href="../266991/index.html">Restricting Access to Web Applications in Synology DSM</a></li>
<li><a href="../266993/index.html">Cleaning Dropbox backup storage by cron</a></li>
<li><a href="../266995/index.html">Home server for work and not only. The organization of the workplace of a lazy engineer</a></li>
<li><a href="../266997/index.html">The digest of interesting materials from the world of Drupal # 13</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>