<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>JavaScript scrollbar wrapper in the form of jQuery plugin</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The problem of styling the browser scrollbar is still relevant, despite the huge number of scripts designed to solve this problem. Consider the implem...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>JavaScript scrollbar wrapper in the form of jQuery plugin</h1><div class="post__text post__text-html js-mediator-article">  The problem of styling the browser scrollbar is still relevant, despite the huge number of scripts designed to solve this problem.  Consider the implementation of a stylized scrollbar, as close as possible to the native behavior of the browser. <br><br>  There are two main approaches for styling a scrollbar with HTML / CSS, each of which has its own pros and cons: <br><br><ul><li>  Scroll emulation with JavaScript </li><li>  Javascript wrapper over native scrolling </li></ul><br><a name="habracut"></a><br><h4>  Scroll emulation with JavaScript </h4><br>  The great advantage of this approach is that it is a fully JavaScript solution.  Thanks to this, this solution is easier to develop and is as cross-browser as possible (meaning that the scroll behavior in all browsers will be the same, regardless of the implementation of the browser scroll), having a minimal impact on the HTML structure and the applied CSS styles.  JScrollPane, FleXcroll, Tiny Scrollbar and many others use this approach. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      However, the strength of this approach is at the same time its weakness: <br><br><ul><li>  Difficulty or impossibility to emulate / intercept all events </li><li>  JavaScript emulation is slower than native scrolling </li></ul><br><br><h4>  Javascript wrapper over native scrolling </h4><br>  This approach is that the native scroll is hidden by means of HTML / CSS, while continuing to fulfill its purpose - scrolling content.  Such a solution is preferable for the reason that the native scroll works better than the emulated one anyway.  Many have tried to create plug-ins based on this approach, but due to the lack of any standards, the cross-browser implementation is very complicated, and imposes certain restrictions on the HTML structure and the used CSS styles.  For this reason, many developers create an implementation of only a vertical scroll that behaves more or less predictably in all browsers. <br><br>  One of the quite good implementations of such an approach was described quite recently in the article <a href="http://habrahabr.ru/company/2gis/blog/169359/">Crossbrowser customization of the system scrollbar</a> with a rather detailed explanation. <br><br><h5>  The invention of the tricycle </h5><br>  One of the reasons for creating the <s>next</s> bike was that the script search for styling a scroll showed more than 20 different plug-ins, none of which was suitable for the ordered project.  Most of the known plug-ins did not work due to slow work with a large number of initialized scrolls on the page.  Others did not fit due to inconvenient implementation or insufficient cross-browser compatibility. <br><br>  It was decided to make its own implementation that meets the following requirements: <br><br><ul><li>  The behavior of the scroll should be as close as possible to the native </li><li>  Vertical and horizontal scrollbar </li><li>  Minimum processor load </li><li>  Full styling with HTML / CSS </li><li>  The ability to apply your HTML structure for a scrollbar, or specify a plugin to use an already existing element as a scrollbar </li><li>  Automatic scrolling when the contents are changed or the container size is changed without the need to re-initialize the script </li><li>  The width and height of the container can be set either in pixels or as a percentage, or limited by CSS max-height / max-width </li><li>  The scroll can be located anywhere in the container or outside it. </li><li>  Automatic scrollbar size calculation, or value set via CSS styles </li><li>  Support IE7 +, Firefox, Chrome, Opera, Safari </li><li>  The ability to "out of the box" disable scrolling for mobile browsers </li></ul><br><br>  As an approach, the decision was made to make a plugin in the form of JavaScript wrappers over a native scroll - i.e.  leave the functionality of the native scroll, hide the native scroll with CSS and show a stylized scroll.  This gives the advantage that you do not need to emulate the behavior of the standard scroll, but only catch changes in positioning using JavaScript. <br><br>  It was still impossible to avoid full scrolling emulation - it is necessary to emulate the scrolling behavior when the mouse is over the styled scroll: catch the mouse scroll, drag &amp; drop, clicks on the scroll itself and arrows.  The ideal solution ‚ÄúI connected and forgot‚Äù, of course, did not work.  But almost all of the goals were achieved in full. <br><br><h5>  <a href="http://gromo.github.io/jquery.scrollbar/">Demonstration</a> </h5><br><h5>  <a href="https://github.com/gromo/jquery.scrollbar/tree/master/">Source files</a> </h5><br><h5>  <a href="https://docs.google.com/spreadsheet/ccc%3Fkey%3D0Ao4HbHsCLP0YdEhnZVh1WGZSbXloekZiNWlaNElnTnc%26usp%3Dsharing">Comparison of the functionality of popular scrollbars</a> </h5><br><br><h4>  On a note </h4><br>  It should be remembered that for a stylized scrollbar to work, a certain HTML structure is needed, for which the source javascript container is wrapped in a different container when initialized.  For this reason, there are some features of use, HTML structures and CSS styles: <br><br><ol><li>  Source container should not contain inline styles. </li><li>  You should avoid using padding / margin for the container.  If you need an indentation, it is better to add another container with the necessary indentation. </li><li>  When changing the contents of the container, you should not refer to the container by class, since  these classes will be used by the wrapper container </li></ol><br><br>  <s>The minor drawbacks include the difference in the height / width of the scroll wheel with the mouse wheel in cases where the mouse is over the contents of the container (native behavior) and when the mouse is over the scrollbar (emulated scroll).</s>  <s>There are several ideas that are quite difficult to implement, so leave them "for later."</s> <br><br>  <s>Also, until you can not get rid of the unpleasant effect of scrolling the container when you select text in WebKit browsers Chrome and Safari.</s>  <s>Partially managed to do this when using outer-scroll (there is a demonstration).</s> <br><br><h4>  Notes </h4><br>  Due to the difference in scrolling behavior not only in different browsers, but also in different versions of the same browser (yes, the browser itself), I had to try a lot of margin / padding / border / position combinations to calculate similar behavior.  During the search for a solution, several interesting features were found: <br><br><ul><li>  In IE8 - bugs using max-height: in some cases, the renderer of version 8 of IE crashes, or tries to make the height of the container equal to max-height (official bug release version) </li><li>  WebKit-browsers (Chrome, Safari) when scrolling text make the internal container scroll, ‚Äúexposing‚Äù the hidden scrollbar </li><li>  If the content exceeds the size of the container, then the display of the right and bottom padding is left to the discretion of the browser itself. </li><li>  When searching for plugins, to quickly find out whether the standard scrolling mechanism is used, just click on the mouse scrolling over the scrollable content </li></ul><br><br><h4>  Update to version 0.1.3 (20130425): </h4><br><ul><li>  scrolling emulation is improved: now the mouse wheel scrolling over the emulated scroll works almost identical to the natural scroll;  also changed the behavior when you press and hold the mouse on the substrate scrollbar </li><li>  fixed CSS positioning, in which there was an "extra" container shift when text was selected in WebKit browsers Google Chrome / Safari </li></ul><br><br><h4>  Update to version 0.1.4 (20130430): </h4><br><ul><li>  horizontal scrolling with the mouse over the horizontal scrollbar </li><li>  added a disableBodyScroll option to disable page scrolling when the container scrolls.  In this option, I had to disable the native behavior of the browser and emulate the scroll through JavaScript </li></ul><br><br><h4>  Update to version 0.1.6 (20131018): </h4><br><ul><li>  Added option to ignore scrolling initialization on mobile devices </li><li>  drag support added for scrolling on touch devices </li></ul><br><br><h4>  Update to version 0.1.7 (20140307): </h4><br><ul><li>  added a hack to correct the appearance of a scrollbar with a 1-pixel gap in the IE </li></ul><br><br><h4>  Update to version 0.1.8 (20140308): </h4><br><ul><li>  fixed bug with displaying horizontal scrollbar if the height of the contents is less than the height of the container <em>(cases with height: 100%)</em> </li></ul><br><br><h4>  Update to version 0.1.9 (20140310): </h4><br><ul><li>  fixed bug with displaying vertical scrollbar if the content contains a div with <em>height: 100%;</em>  <em>overflow: hidden;</em>  inside of which is a div with a height greater than the height of the outer container (thanks for the feedback and comments from <em>Evangeline Rei</em> ) </li><li>  added <em>autoUpdate</em> option responsible for automatic re-initialization of the scrollbar when resizing the content / container </li></ul><br><br><h4>  Update to version 0.2.0 (20140312): </h4><br><ul><li>  Added <em>onUpdate</em> option for manually recalculating the size of the scrollbar.  Thanks to this option, a scrollbar was added as a page map. </li><li>  Added <em>stepScrolling</em> option responsible for step-by-step scrolling to the place where the mouse button is held down on the scrollbar.  if the option is disabled, the contents will be scrolled immediately to the location of the mouse, otherwise step-by-step scrolling will be performed with acceleration to the mouse-holding position (scrolling behavior emulation) </li><li>  hide / show scrollbars completely transferred to CSS </li><li>  changed the behavior of <em>onInit</em> - now the function starts only once during initialization </li></ul><br><br><h4>  Update to version 0.2.1 (20140323): </h4><br><ul><li>  fixed bug with scrolling to # anchor-element when horizontal scroll becomes visible </li></ul><br><br><h4>  Update to version 0.2.2 (20140411): </h4><br><ul><li>  Fixed a bug with the initialization of several scrollbars with default settings </li><li>  Added scroll-element_corner element for easy CSS corner settings if both scrollbars are visible. </li></ul><br><br><h4>  Update to version 0.2.3 (20140703): </h4><br><ul><li>  fixed bug with visible scrollbar when zoom is changed in browser </li><li>  Fixed a bug with incorrect initialization of the size of the scrollbar for IE using CSS * {box-sizing: border-box;  } </li><li>  added callback function onScroll, which makes it easier to determine the degree of scrolling of the container </li><li>  scrollbar can be used as a directive for an excellent Angular.JS framework </li><li>  added the ability to override default values ‚Äã‚Äãvia jQueryScrollbarOptions global variable before loading the plugin </li><li>  optimized container resize check </li></ul><br><br><h4>  Update to version 0.2.4 (20140715): </h4><br><ul><li>  added the ability to stylize a scrollbar for TEXTAREA <s>finally</s> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/177399/">https://habr.com/ru/post/177399/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../177371/index.html">Economic simulation as a game for programmers</a></li>
<li><a href="../177373/index.html">Simple-Science - Simple Experiments (Digest # 21)</a></li>
<li><a href="../177377/index.html">.ORG - trusted domain</a></li>
<li><a href="../177389/index.html">These irreplaceable registration cards</a></li>
<li><a href="../177395/index.html">Making life easier, GruntJS (for beginners)</a></li>
<li><a href="../177401/index.html">Keyboard for designers - is it necessary? Or as I see the perfect keyboard.</a></li>
<li><a href="../177403/index.html">I'm writing a toy OS (about the scheduler)</a></li>
<li><a href="../177405/index.html">Self-made mechanical keyboard on a standard controller</a></li>
<li><a href="../177409/index.html">Durex created vibrating underwear that can be controlled via smartphone</a></li>
<li><a href="../177411/index.html">The digest of news from the world of mobile development for the last week ‚Ññ10 (April 15 - 21, 2013)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>