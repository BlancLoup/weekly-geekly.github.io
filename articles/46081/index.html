<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Data encryption in php with public key</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It is necessary to solve the simplest problem: write the data encryption algorithm (strings) for php using the key. 
 For example: 
 $ data = ‚ÄúText to...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Data encryption in php with public key</h1><div class="post__text post__text-html js-mediator-article">  It is necessary to solve the simplest problem: write the data encryption algorithm (strings) for php using the key. <br>  For example: <br>  $ data = ‚ÄúText to encrypt‚Äù; <br>  $ pass = "Sertny key"; <br>  print my_encrypt ($ data, $ pass) will display the encrypted text, which can only be decrypted by owning the key. <br>  Of course, I would not break headlong at Habr, climb on forums and wikipedia. <br><a name="habracut"></a><br>  Rummaged quite a lot <a href="http://yandex.ru/yandsearch%3Fclid%3D9582%26text%3Dibahfnjh%2Byf%2B%25D0%25B7%25D1%2580%25D0%25B7">and</a> <a href="http://yandex.ru/yandsearch%3Ftext%3D%25D1%2588%25D0%25B8%25D1%2584%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5%2B%25D1%2581%2B%25D0%25BA%25D0%25BB%25D1%258E%25D1%2587%25D0%25BE%25D0%25BC%2Bphp%26clid%3D9582%26stpar2%3D%252Fh0%252Ftm7%252Fs3%26stpar4%3D%252Fs3">I</a> ndek <a href="http://yandex.ru/yandsearch%3Ftext%3D%2B%25D1%2580%25D0%25B5%25D0%25B0%25D0%25BB%25D0%25B8%25D0%25B7%25D0%25B0%25D1%2586%25D0%25B8%25D1%258F%2B%25D0%25B0%25D0%25BB%25D0%25B3%25D0%25BE%25D1%2580%25D0%25B8%25D1%2582%25D0%25BC%25D0%25B0%2B%25D1%2588%25D0%25B8%25D1%2584%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F%2BDES%2B%25D0%25BD%25D0%25B0%2Bphp%26clid%3D9582%26stpar2%3D%252Fh0%252Ftm0%252Fs1%26stpar4%3D%252Fs1">with</a> <a href="http://yandex.ru/yandsearch%3Ftext%3D%2B%25D1%2580%25D0%25B5%25D0%25B0%25D0%25BB%25D0%25B8%25D0%25B7%25D0%25B0%25D1%2586%25D0%25B8%25D1%258F%2B%25D0%25B0%25D0%25BB%25D0%25B3%25D0%25BE%25D1%2580%25D0%25B8%25D1%2582%25D0%25BC%25D0%25B0%2B%25D1%2588%25D0%25B8%25D1%2584%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F%2BDES%2B%25D0%25BD%25D0%25B0%2Bphp%26clid%3D9582%26stpar2%3D%252Fh0%252Ftm0%252Fs1%26stpar4%3D%252Fs1">a</a> <a href="http://yandex.ru/yandsearch%3Ftext%3D%25D0%2593%25D0%259E%25D0%25A1%25D0%25A2%2B%25D0%25A0%2B34.10-2001%2B%25D0%25BD%25D0%25B0%2Bphp%26clid%3D9582%26stpar2%3D%252Fh0%252Ftm386%252Fs3%26stpar4%3D%252Fs3">,</a> <a href="http://yandex.ru/yandsearch%3Ftext%3D%25D0%25BA%25D1%2580%25D0%25B8%25D0%25BF%25D1%2582%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F%2B%25D0%25BD%25D0%25B0%2Bphp%26clid%3D9582%26stpar2%3D%252Fh0%252Ftm242%252Fs3%26stpar4%3D%252Fs3">and</a> Wikipedia <br>  There is a function mcrypt, but it requires the connection of additional libraries, there are also many ready-made standard algorithms, but there is no decent (or not) implementation for them in php.  Basically, they are either on c (here's <a href="">an example</a> ) or on perl. <br>  There are also modules for PEAR, which is also not. <br>  There is also a classic "University" implementation using XOR: <br>  function x_crypt ($ data, $ key) <br>  { <br>  $ strlen_key = strlen ($ key); <br>  $ sbuf = "; <br><br>  for ($ i = $ n = 0, $ strlen_data = strlen ($ data); $ i &lt;$ strlen_data; $ i ++) <br>  { <br>  if ($ n&gt; = $ strlen_key) $ n = 0; <br>  $ sbuf. = chr (ord ($ key [$ n ++]) ^ ord ($ data [$ i])); <br>  } <br><br>  return $ sbuf; <br>  } <br>  Encryption and decryption is performed by a single function.  Explicit minus: <br>  Source line: Hello, comrades !!, key: "Lol" <br>  Attempt to pick up the key "Salt", the result: <br>  ri t s looking! <br>  It is clear that part of the ciphertext is visible, so this implementation is not very good. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The beauty of the ciphertext is not important; <br>  function x_hex_decode ($ str) <br>  { <br>  for ($ i = 0, $ sbuf = null, $ strlen = strlen ($ str); $ i &lt;$ strlen; $ i = $ i + 5) <br>  { <br>  $ sbuf. = chr (hexdec (substr ($ str, $ i + 3, 2))); <br>  } <br>  return $ sbuf; <br>  } <br><br>  function x_hex_code ($ str) <br>  { <br>  for ($ i = 0, $ sbuf = null, $ strlen = strlen ($ str); $ i &lt;$ strlen; $ i ++) <br>  { <br>  $ sbuf. = chr (rand (65.70)). rand (0.9). chr (rand (65.70)). sprintf ('% X', ord (substr ($ str, $ i, 1) )) <br>  } <br>  return $ sbuf; <br>  } <br><br>  function decodex ($ data, $ key) <br>  { <br>  return x_hex_decode (x_crypt (base64_decode (gzinflate ($ data)), $ key)); <br>  } <br><br>  function codex ($ data, $ key) <br>  { <br>  return gzdeflate (base64_encode (x_crypt (x_hex_code ($ data), $ key)), 9); <br>  } <br><br>  Where x_hex_code adds random garbage, x_hex_decode removes it, base64_encode and gzdeflate confuse the result a bit for sight, without carrying a payload. <br>  In the process of searching, by the way, I found a curious <a href="http://ru.wikipedia.org/wiki/%25D0%259A%25D1%2580%25D0%25B8%25D0%25BF%25D1%2582%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D1%2584%25D0%25B8%25D1%258F">note</a> : <br><blockquote>  In the Russian Federation, commercial activities related to the use of cryptographic tools are subject to mandatory licensing.  Since January 22, 2008, the Decree of the Government of the Russian Federation of December 29, 2007 N 957 ‚ÄúOn approval of provisions on licensing certain types of activities related to encryption (cryptographic) tools‚Äù, which adopted the Regulations on licensing activities on: <br>  the distribution of encryption (cryptographic) tools <br>  maintenance of encryption (cryptographic) tools <br>  providing information encryption services <br>  development, production of encryption (cryptographic) means protected using encryption (cryptographic) means of information and telecommunication systems <br></blockquote><br>  Is it because such (innocent) code is difficult to find? <br>  Please help find such an algorithm / class / function. <br>  According to the rules of the blog "Help", I undertake to lay out a working function and, possibly, describe the work. <br>  If the habrasoobshchestvo considers the problem far-fetched or irrelevant, this habratopic will disappear, as if it did not exist. <br>  Thank. </div><p>Source: <a href="https://habr.com/ru/post/46081/">https://habr.com/ru/post/46081/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../46071/index.html">Conference "Mobile Technologies - 2"</a></li>
<li><a href="../46072/index.html">IMHO happy 3D :)</a></li>
<li><a href="../46074/index.html">Civic journalism in the blogosphere</a></li>
<li><a href="../46078/index.html">Erotic social networks Ning left month</a></li>
<li><a href="../46079/index.html">Office behind the glass - now on the Internet</a></li>
<li><a href="../46084/index.html">Zend Framework Tuning + Doctrine</a></li>
<li><a href="../46086/index.html">Non-working Enterprise 2.0 and Five Million for one comment</a></li>
<li><a href="../46087/index.html">Russian application names in Django</a></li>
<li><a href="../46091/index.html">Icons for your software products. Selected.</a></li>
<li><a href="../46096/index.html">Play Pong ... with your browser windows!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>