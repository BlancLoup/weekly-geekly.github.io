<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Directx 12</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="March 20, at the conference GDC 2014, the announcement of the next version of DirectX 12 was held. The main core of DirectX is Direct3D, which is wher...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Directx 12</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/7b9/003/e5e/7b9003e5ed9abe569cb4e82d0e1fe57d.png" align="left"><br>  March 20, at the conference GDC 2014, the announcement of the next version of DirectX 12 was held. The main core of DirectX is Direct3D, which is where the most critical components of gaming applications are created.  The development team made a number of changes to Direct3D, as a result of which the speed and efficiency of many graphical operations increased.  These changes allow you to create more detailed scenes and achieve full exploitation of the capabilities of modern GPUs.  But these opportunities will appear not only in the "high-end" gaming computers.  Direct3D 12 will work on all Microsoft devices.  Phones, tablets, laptops, desktops and of course, Xbox One, all of them will allow you to use the API Direct3D 12. <br><a name="habracut"></a><br>  What makes Direct3D 12 better than previous versions?  First and foremost, this is a lower level of abstraction of equipment.  This allows games to significantly improve streamline scalability and GPU utilization.  In addition, games will benefit from descriptor tables and pipeline status objects.  Of course, this is not all, Direct3D includes a set of new features for the render pipeline, which can significantly increase the efficiency of transparency calculations, collision detection and geometric culling. <br><br>  It goes without saying that an API is good only when there are tools that help it to use it effectively.  DirectX 12 will contain a number of excellent tools for Direct3D immediately after the release of DirectX 12 to light. <br><br>  Yes, not to forget - DirectX 12 will work on many existing video cards. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Is this a marketing ploy? </h4><br>  The development team read a lot of comments on Twitter and forums where the question is often asked - is this really a technological update or did the marketing department just get the budget for promotion of the new index to the version?  All that you read below comes directly from the team that has been developing DirectX for 20 years. <br><br>  It is our job to create an API, and we worked together with our partners, software and hardware manufacturers, in order to prove significant improvements in Direct3D 12 performance. Those new products that are included in Direct3D 12 are not hacks of any micro benchmarks.  The numbers we received are based on commercial games and recognized benchmarks tested on the alpha version.  The screenshots you see were made on real Direct3D 12 applications with real implementation of runtime and Direct3D 12 drivers. <br><br><h4>  3DMark - in-line scaling + 50% CPU utilization </h4><br>  If you are an avid gamer, you probably know about <a href="http://www.futuremark.com/benchmarks/3dmark/all">3DMark</a> .  This is a great tool for assessing performance on a wide range of devices and hardware.  3DMark running on Direct3D 11 allows you to use stream scaling, but due to some overlays associated with runtime and drivers, there is a idle waiting time for threads and cores.  After transferring 3DMark to Direct3D 12, we saw two significant improvements - a 50% increase in CPU utilization and an improvement in the distribution of work between threads. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f58/b60/cf9/f58b60cf942f5b38eb5099157a84aa73.png"><br><h5>  Direct3d11 <img src="https://habrastorage.org/getpro/habr/post_images/8e9/1c3/900/8e91c3900183c90a96bcf7ad9ecabaa2.jpg"></h5><br><h5>  Direct3D 12 </h5><img src="https://habrastorage.org/getpro/habr/post_images/f6a/2db/73b/f6a2db73b79a7af87a8bb44b5550b2a4.jpg"><br><br><h4>  Forza Motorsport 5 Tech Demo - Console Efficiency on PC </h4><br>  Forza Motorsport 5 is an example of a game that squeezes the most out of XboxOne.  Under the hood, Forza is a low-level API for interacting with the graphics subsystem of the console.  Traditionally, this level of efficiency is achievable only on a unified gland.  Now this possibility, even in the alpha version, is on the computer, and even on the phone.  When porting graphics core code based on Direct3D 11.1, the Turn 10 team achieved the same level of optimization on the PC, all thanks to the features of Direct3D 12. <br><img src="https://habrastorage.org/getpro/habr/post_images/b9d/5b7/3bf/b9d5b73bf3e22a32a0983b5980a78307.png"><br><br><h4>  Where did this performance come from? </h4><br>  Direct3D 12 departs from the old programming model Direct3D 11, allowing the application to be much closer to the hardware than ever before.  We reviewed a significant number of areas of the API, key ones of which are mechanisms for representing states of the pipeline, methods for sending tasks and access to resources. <br><br><h4>  Pipeline Status Objects </h4><br>  Direct3D11 allows you to manipulate the states of the pipeline through a large set of cross objects.  For example, the state of the input assembler, the state of the pixel shader, the state of the rasterizer and the state of the output mixer, all of which can be changed independently.  This mechanism provides a convenient, relatively high-level presentation of the graphics pipeline, but unfortunately, it does not fit well with modern hardware.  Primarily due to the fact that there are interdependencies between many states.  For example, many GPUs combine the state of a pixel shader and output mixer into one hardware representation.  The Direct3D 11 API allows you to change their state independently, but the driver cannot allow it until you know that the status is over, and this is not possible before the start of the drawing.  This leads to delays in setting the state of the iron, means costs and fewer draw calls per frame. <br><br>  Direct3D 12 solves this problem by unifying most of the state of the pipeline into an immutable pipeline state object (CCL), which is fixed immediately after its creation.  This allows the hardware and the driver to immediately turn the USC into the corresponding hardware instructions, and the state is necessary for the performance of the GPU.  At the same time, you can dynamically choose which USC should be used at the moment.  Now it only remains to copy a small amount of a pre-calculated state into the hardware registers, instead of calculating the hardware state on the fly.  This means significantly less overhead between draw calls, and more draw calls per frame. <br><br><h4>  Packages and command lists </h4><br>  In Direct3D 11, all tasks are sent using the immediate context, which represents one series of commands sent to the GPU.  For multi-threaded performance scaling, games use deferred contexts, but, as in the case of USC, deferred contexts do not correspond to the real state of things in hardware. <br>  Direct3D 12 provides a new model for sending jobs, based on command lists.  They contain all the necessary information for execution in the GPU.  The command list includes USC, texture and buffer resources, as well as arguments for the draw command.  Due to the fact that the list of commands is autonomous and does not contain a state, the driver can calculate in advance the necessary GPU commands in an independent stream.  All that is needed is the serialization process in the final sending of the list of commands to the GPU which is done through the command queue, and this process is very effective. <br><br>  In addition to the command lists, Direct3D 12 includes a mechanism for secondary precomputation using packets.  Unlike command lists, which are completely autonomous, and usually created, are sent for execution, and then destroyed, packages provide some form of state independence and imply reuse.  For example, if the game needs to display two models of characters with different textures, one approach would be to write a list of teams with two sets of identical draw calls.  Another approach is to write one package that will draw one character, and then ‚Äúrewind‚Äù the package twice in the list of commands using different resources.  In the latter case, the driver needs to calculate instructions only once, and creating a list of commands is essentially equal to two function calls with a low cost. <br><br><h4>  Heap and table descriptors </h4><br>  The snapping of resources in Direct3D 11 is well-abstracted and quite convenient, but at the same time many of the features of modern hardware remain out of work.  In Direct3D 11, the game creates ‚Äúpresentation‚Äù objects, then binds these representations to ‚Äúslots‚Äù at various stages of the shader in the pipeline.  Shaders, in turn, read data from these explicitly attached slots, which are fixed at the time of rendering.  Such a model means that if a game needs to be rendered using a different set of resources, it is necessary to rebind views to other slots and re-invoke drawing.  This is another example of overhead that can be eliminated by fully utilizing the advanced capabilities of iron. <br><br>  Direct3D 12 changes the binding model to match current capabilities and significantly increases performance.  Instead of requiring stand-alone resource views and explicit slot mapping, Direct3D 12 provides a bunch of descriptors where the game creates its own resource views.  This mechanism allows the GPU to directly and in advance write the hardware representation of the resource description into memory.  To declare which resource will be used in the pipeline for a particular draw call, the game indicates one or more descriptor tables that represent the sub-range of the full heap of descriptors.  Since this heap is pre-loaded with the necessary hardware-specific data, changing the descriptor table is a very cheap operation. <br><br>  In addition to the improvements associated with the descriptor heap and tables, Direct3D 12 allows you to dynamically index resources in shaders.  This provides unprecedented flexibility and opens the way to new render techniques.  For example, modern render engines based on the deferred approach often encode a material or object identifier of some type into a preliminary g-buffer.  In Direct3D11, such engines should be careful in using too many materials, since the inclusion of multiple g-buffers can significantly reduce the speed of the final draw of the draw.  Together with dynamically indexed resources, a scene with thousands of materials can be finalized as quickly as with ten. <br><br><h4>  Want to be one of the first? </h4><br>  If you are a professional game developer and assume that Direct3D 12 can speed up the performance of your application, you can apply <a href="http://1drv.ms/1dgelm6">for participation in a preliminary familiarization program</a> . </div><p>Source: <a href="https://habr.com/ru/post/216579/">https://habr.com/ru/post/216579/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../216565/index.html">A bold plan that could save the Columbia shuttle. Part 1</a></li>
<li><a href="../216567/index.html">By plane, train, car - what's in the future?</a></li>
<li><a href="../216571/index.html">tKC or ‚ÄúHow a deaf from Africa cracking scene captured‚Äù</a></li>
<li><a href="../216575/index.html">Published court documents on Alexey Kibkalo</a></li>
<li><a href="../216577/index.html">Guide on basis.js. Part 1: Getting Started, Views, Modules, Tools</a></li>
<li><a href="../216583/index.html">Miniature HD video translator on the virtualka: tests on 3G and 4G networks</a></li>
<li><a href="../216589/index.html">Oculus launches the new $ 350 DevKit Oculus Rift</a></li>
<li><a href="../216591/index.html">Useful for Android developer from Github</a></li>
<li><a href="../216597/index.html">The defeat of robots: the ups and downs of high-frequency trading (Part 2)</a></li>
<li><a href="../216599/index.html">Short life and one game adventures</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>