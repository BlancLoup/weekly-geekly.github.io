<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>12 more ‚ÄúMySQL recipes‚Äù in Bitrix24</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In our last article - ‚Äú11‚Äú MySQL recipes ‚Äùin Bitrix24‚Äù - we mainly considered architectural solutions: should we use cloud services (like Amazon RDS),...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>12 more ‚ÄúMySQL recipes‚Äù in Bitrix24</h1><div class="post__text post__text-html js-mediator-article"> <a href="http://www.bitrix24.ru/"><img src="https://habrastorage.org/storage2/fee/0fe/e2d/fee0fee2d0cb4c38917ed53202b03bf6.png"></a> <br><br><img src="https://habrastorage.org/storage2/85c/df6/57f/85cdf657f7d65f56b6e6377bf8476bdf.png" align="left">  In our last article - <a href="http://habrahabr.ru/company/bitrix/blog/147098/">‚Äú11‚Äú MySQL recipes ‚Äùin Bitrix24‚Äù</a> - we mainly considered architectural solutions: should we use cloud services (like Amazon RDS), which MySQL fork to use, etc. <br><br>  Judging by the reviews, the topic of competent operation of MySQL in large ‚Äúhighload‚Äù projects is very large and important.  Therefore, we decided to talk about some of the nuances of setting up and administering the database that we encountered during the development <a href="http://www.bitrix24.ru/">of Bitrix24</a> and which we use every day. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Let me remind you once again that this article (like the previous one) is not a universal ‚Äúrecipe‚Äù for the perfect MySQL setup for all occasions.  :) This does not happen.  :) But sincerely I believe that it will be useful for you to solve specific problems. <br><br>  And at the end of the article - a surprise for the most patient readers.  :) <br><a name="habracut"></a><br><br>  <b>1. Configure QUERY CACHE</b> <br><br>  There are a huge number of articles describing exactly how Query Cache works in MySQL, and how to configure and use it. <br><br>  And still, despite this, the most frequent misconception of system administrators who configure the database is " <i>The more memory we give the cache, the better</i> ." <br><br>  This is not true. <br><br>  MySQL doesn‚Äôt handle Query Cache large enough.  In practice, faced with the fact that when <i>query_cache_size is</i> more than 512M, more and more processes appear that briefly hang in the state <i>‚Äúwaiting for query cache lock‚Äù</i> (seen in SHOW PROCESSLIST). <br><br>  In addition, if all your requests are in the cache, it is unwise to increase it.  RAM in the system is precious! <br><br>  Therefore, it is always important to understand what is happening in your project and how efficiently Query Cache is used with the current settings. <br><br>  Key information for you is here: <br><br><pre><code class="sql hljs">mysql&gt; <span class="hljs-keyword"><span class="hljs-keyword">SHOW</span></span> <span class="hljs-keyword"><span class="hljs-keyword">STATUS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LIKE</span></span> <span class="hljs-string"><span class="hljs-string">'Qcache%'</span></span>; +<span class="hljs-comment"><span class="hljs-comment">-------------------------+----------+ | Variable_name | Value | +-------------------------+----------+ | Qcache_free_blocks | 10541 | | Qcache_free_memory | 36381984 | | Qcache_hits | 18888719 | | Qcache_inserts | 5677585 | | Qcache_lowmem_prunes | 1725258 | | Qcache_not_cached | 6096307 | | Qcache_queries_in_cache | 36919 | | Qcache_total_blocks | 97285 | +-------------------------+----------+ 8 rows in set (0.00 sec)</span></span></code> </pre> <br><br>  The most important are the ratios of Qcache_hits and Qcache_inserts, Qcache_inserts and Qcache_not_cached, as well as Qcache_lowmem_prunes - the number of queries that were forced out of the cache - and Qcache_free_memory. <br><br>  It is best not to look at these statistics only sporadically, but to have an analyst at hand.  It can be collected using various monitoring tools.  For example, Munin: <br><br><img src="https://habrastorage.org/storage2/f8d/1b9/c7d/f8d1b9c7dcd0e042404ff94526285b09.png"><br><br><img src="https://habrastorage.org/storage2/a3b/60d/4f6/a3b60d4f6767e2b102b92c9774e56d1f.png"><br><br>  Looking at the graphs in the dynamics - once a day, for example, we finally came to the conclusion that for us such settings for one server are enough: <br><br><pre> <code class="sql hljs">query_cache_size = 128M query_cache_limit = 2M</code> </pre> <br><br>  Of course, perhaps for your project the picture will be different. <br><br>  <b>2. innodb_buffer_pool_size</b> <br><br>  Buffer Pool size is one of the most important InnoDB settings.  This is the size of the memory buffer that MySQL uses in its work for the data cache and table indexes (just to remind you that in order to avoid double caching - by MySQL itself and the operating system, you should specify <i>innodb_flush_method = O_DIRECT</i> ). <br><br>  From the side of the MySQL developers, one of the greatest crimes is to set the default value to 8M.  :) <br><br>  In fact, ideally, the value of <i>innodb_buffer_pool_size</i> should be such that all your base is stored in memory.  At the same time, it is important to remember about the balance of the system from memory (we talked about this in the <a href="http://habrahabr.ru/company/bitrix/blog/147098/">last article</a> ) - if you ‚Äúinvert‚Äù the value of <i>innodb_buffer_pool_size</i> so that the whole system goes into a swap, nothing good will happen. <br><br>  A good indicator of the correct setting is Buffer pool hit rate: <br><br><pre> <code class="sql hljs">mysql&gt; <span class="hljs-keyword"><span class="hljs-keyword">SHOW</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ENGINE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">InnoDB</span></span> <span class="hljs-keyword"><span class="hljs-keyword">STATUS</span></span>\G ... <span class="hljs-comment"><span class="hljs-comment">---------------------- BUFFER POOL AND MEMORY ---------------------- ... Buffer pool hit rate 994 / 1000, young-making rate 6 / 1000 not 0 / 1000 ...</span></span></code> </pre> <br><br>  If the value is close to "1000/1000" - all is well.  Otherwise, it is necessary to increase <i>innodb_buffer_pool_size</i> .  If this is not enough memory - add memory. <br><br>  <b>3. innodb_buffer_pool_instances</b> <br><br>  By default, InnoDB uses one instance for the Buffer Pool. <br><br>  At the same time, it is possible to select several blocks - and in some cases MySQL works with them in InnoDB much more efficiently. <br><br>  Buffer Pool is divided into several instances if it exceeds 2 GB.  The size of each instance is worth doing 1 GB or more. <br><br>  And here is an important question that many are confused with: is <i>innodb_buffer_pool_size</i> the total pool size or the size of one instance? <br><br>  The answer is right in the documentation - this is the total size.  Therefore, for example, this is the configuration: <br><br><pre> <code class="sql hljs">innodb_buffer_pool_size = 4096M innodb_buffer_pool_instances = 4</code> </pre> <br><br>  ... says that each instance will occupy 1 GB. <br><br>  Be careful that there are no incidents (one friend, subscribing to MySQL DBA, described his MySQL operating experience with the settings innodb_buffer_pool_size = 1024M, innodb_buffer_pool_instances = 64 - planning to allocate 64 GB - and was outraged that it was somehow bad with performance ... :)) <br><br>  <b>4. innodb_io_capacity</b> <br><br>  An interesting parameter, which seems to be (if you believe the official documentation :)), and does not greatly affect the performance, however, in practice it gives some gain if it is properly configured. <br><br>  <i>innodb_io_capacity</i> sets the limit of I / O operations (in IOPS) for those InnoDB operations that are performed in the background (for example, flushing pages from the Buffer Pool to disk). <br><br>  The default is 200. <br><br>  Too small a value will result in these operations lagging behind.  Too much will cause the Buffer Pool data to be flushed too quickly. <br><br>  Ideally, you should set the value corresponding to the real performance of your disk system (again - in IOPS). <br><br>  <b>5. innodb_file_per_table</b> <br><br>  By default, MySQL in InnoDB stores the data and indexes of all tables in a single tablespace - the ibdata1 file. <br><br>  If the <i>innodb_file_per_table</i> option is used in the settings, then in this case a separate file <i>table_name.ibd</i> is created for each table, in which data and indexes are stored. <br><br>  Does this option make sense? <br><br>  In my personal opinion: if you use standard MySQL, you do not need to use it.  Storing tables in separate files can reduce performance, since the number of ‚Äúexpensive‚Äù resource-intensive file opening operations will increase dramatically in the system. <br><br>  We ourselves use Percona Server.  And use <i>innodb_file_per_table</i> . <br><br><ul><li>  If in ordinary MySQL one or several tables will be beaten for some reason, the whole database will ‚Äúget up‚Äù.  In Perkone, you can use the option <i>innodb_corrupt_table_action = assert</i> , and then when using <i>innodb_file_per_table, the</i> ‚Äúbroken‚Äù table will be marked, but the entire database will continue to work. </li><li>  Already now there is an opportunity to ‚Äúspeed up‚Äù some operations that clearly lose in performance when using <i>innodb_file_per_table</i> .  For example, deleting tables.  For such purposes, Perkone has the option <i>innodb_lazy_drop_table = 1</i> , which allows such operations to be performed in the background and does not reduce the overall system performance. </li><li>  With the <i>innodb_file_per_table</i> option <i>enabled</i> using XtraBackup, you can make quick binary import / export tables. </li></ul><br>  <b>6. max_connect_errors</b> <br><br>  Another criminal :) plot of MySQL developers.  The <i>max_connect_errors</i> value is 10 by default. <br><br>  This means that in any more or less active project in the event of any unexpected failure - even a short-term (for example, they registered the wrong password in the scripts; or there were some network problems) - after the specified number of unsuccessful attempts to establish a connection, the connection is established will be blocked.  Until the MySQL server is restarted or the FLUSH HOSTS command is executed. <br><br>  This means that prior to manual intervention (only if you did not pre-hang a script on cron that runs FLUSH HOSTS every few minutes :)) your project will not work.  It is unpleasant if this happens at night, and you do not have round-the-clock monitoring. <br><br>  It is better to protect yourself in advance and set the value of <i>max_connect_errors to</i> large.  For example: <br><br><pre> <code class="sql hljs">max-connect-errors = 10000</code> </pre> <br><br>  <b>7. Temporary tables</b> <br><br>  If the amount of RAM in the system allows - it is better to always work in memory with temporary tables. <br><br>  To organize it is quite simple.  In MySQL settings: <br><br><pre> <code class="sql hljs">tmpdir = /dev/shm</code> </pre> <br><br>  In the settings of file systems and partitions (if we are talking about Linux, in the / etc / fstab file): <br><br><pre> <code class="sql hljs"><span class="hljs-comment"><span class="hljs-comment"># &lt;file system&gt; &lt;mount point&gt; &lt;type&gt; &lt;options&gt; &lt;dump&gt; &lt;pass&gt; tmpfs /dev/shm tmpfs defaults 0 0</span></span></code> </pre> <br><br>  <b>8. Size of temporary tables</b> <br><br>  There are two similar parameters responsible for the size of tables in memory: <br><br><pre> <code class="sql hljs">max_heap_table_size = 64M tmp_table_size = 64M</code> </pre> <br><br>  <i>max_heap_table_size</i> is the maximum size of MEMORY type tables that a user can create. <br>  <i>tmp_table_size</i> - the maximum size of the temporary table that will be created in memory (more - on the disk). <br><br>  The smaller the disk activity, the better.  Therefore, if the amount of RAM in the system allows (remember memory balancing), it is better to work with all temporary tables in memory. <br><br>  <b>9. table_cache and table_definition_cache</b> <br><br><pre> <code class="sql hljs">table_cache = 4096 table_definition_cache = 4096</code> </pre> <br><br>  These two options are responsible for what the maximum number of tables will be stored in the cache of open tables. <br><br>  The value of <i>table_cache</i> directly depends on the number of tables in your system, on the number of opened tables in the query (linked through JOINs, for example) and on the number of open connections to the database. <br><br>  <i>table_definition_cache</i> determines the size of the cache for table structures (.frm) files.  The more of them in the system, the greater the value of <i>table_definition_cache</i> needs to be set. <br><br>  <b>10. Fight for long requests</b> <br><br>  In the last article, we already mentioned that Percona Server has a good tool for determining overall system performance ( <i>SELECT * FROM INFORMATION_SCHEMA.QUERY_RESPONSE_TIME</i> ). <br><br>  In addition, in any MySQL it is possible to log all ‚Äúslow‚Äù queries and separately parse them. <br><br>  When using Percona Server, the slow query log becomes much more informative. <br><br><pre> <code class="sql hljs">log_output = FILE slow_query_log = 1 slow_query_log_file = mysql_slow.log long_query_time = 1 <span class="hljs-comment"><span class="hljs-comment">#percona log_slow_verbosity = microtime,query_plan,innodb</span></span></code> </pre> <br><br>  All requests running for longer than 1 second are recorded in the mysql_slow.log file.  Unlike the standard log, it looks like this: <br><br><pre> <code class="sql hljs"><span class="hljs-comment"><span class="hljs-comment"># Time: 120712 9:43:47 # User@Host: user[user] @ [10.206.66.207] # Thread_id: 3513565 Schema: user Last_errno: 0 Killed: 0 # Query_time: 1.279800 Lock_time: 0.000053 Rows_sent: 0 Rows_examined: 1 Rows_affected: 0 Rows_read: 0 # Bytes_sent: 52 Tmp_tables: 0 Tmp_disk_tables: 0 Tmp_table_sizes: 0 # InnoDB_trx_id: 33E7689B # QC_Hit: No Full_scan: No Full_join: No Tmp_table: No Tmp_table_on_disk: No # Filesort: No Filesort_on_disk: No Merge_passes: 0 # InnoDB_IO_r_ops: 0 InnoDB_IO_r_bytes: 0 InnoDB_IO_r_wait: 0.000000 # InnoDB_rec_lock_wait: 0.000000 InnoDB_queue_wait: 0.000000 # InnoDB_pages_distinct: 4 UPDATE b_user_option SET 'COMMON' = 'N', 'VALUE' = 'a:19', 'NAME' = 'openTab', 'CATEGORY' = 'IM' WHERE ID=1719;</span></span></code> </pre> <br><br>  We see not only the query execution time, the number of ‚Äúscanned‚Äù rows, etc., but also much more detailed information ‚Äî Full Scan's, the use of temporary tables, the state of InnoDB. <br><br>  All this helps a lot in analyzing slow queries and debugging them. <br><br>  <b>11. Detailed statistics without Percona</b> <br><br>  Even if you use standard MySQL, then it has good query debugging tools (of course, if you have already ‚Äúcaught‚Äù them and identified :) - for example, using the same slow query log). <br><br>  There is such a thing as Profiles.  Do you use them?  Not?  In vain! <br><br><pre> <code class="sql hljs">mysql&gt; <span class="hljs-keyword"><span class="hljs-keyword">SHOW</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROFILES</span></span>; Empty <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> (<span class="hljs-number"><span class="hljs-number">0.02</span></span> sec) mysql&gt; <span class="hljs-keyword"><span class="hljs-keyword">SHOW</span></span> PROFILE; Empty <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> (<span class="hljs-number"><span class="hljs-number">0.00</span></span> sec)</code> </pre> <br><br>  We turn on profiling and look at any request: <br><br><pre> <code class="sql hljs">mysql&gt; <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> PROFILING=<span class="hljs-number"><span class="hljs-number">1</span></span>; Query OK, 0 rows affected (0.00 sec) mysql&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COUNT</span></span>(*) <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> mysql.user; +<span class="hljs-comment"><span class="hljs-comment">----------+ | COUNT(*) | +----------+ | 3024 | +----------+ 1 row in set (0.09 sec) mysql&gt; SHOW PROFILES; +----------+------------+---------------------------------+ | Query_ID | Duration | Query | +----------+------------+---------------------------------+ | 1 | 0.09104400 | SELECT COUNT(*) FROM mysql.user | +----------+------------+---------------------------------+ 1 row in set (0.00 sec) mysql&gt; SHOW PROFILE; +--------------------------------+----------+ | Status | Duration | +--------------------------------+----------+ | starting | 0.000018 | | Waiting for query cache lock | 0.000004 | | Waiting on query cache mutex | 0.000004 | | checking query cache for query | 0.000041 | | checking permissions | 0.000007 | | Opening tables | 0.090854 | | System lock | 0.000013 | | init | 0.000012 | | optimizing | 0.000007 | | executing | 0.000010 | | end | 0.000005 | | query end | 0.000004 | | closing tables | 0.000031 | | freeing items | 0.000029 | | logging slow query | 0.000003 | | cleaning up | 0.000004 | +--------------------------------+----------+ 16 rows in set (0.00 sec)</span></span></code> </pre> <br><br>  We immediately see that the bottleneck is the network, working with the disk, using the cache or something else. <br><br>  <b>12. How to use information from profile?</b> <br><br>  If you have learned how to find single long queries (this is not so difficult - the slow query log and <i>SHOW PROCESSLIST</i> to help), if you correctly assess the state of the system as a whole ( <i>SELECT * FROM INFORMATION_SCHEMA.QUERY_RESPONSE_TIME</i> , external monitoring of the system, for example, nagios - real time, munin - analytics), it is extremely important to understand that the system can affect performance: <br><br><ul><li>  all internal system resources - there is no ‚Äútoo much‚Äù for the base, neither CPU, nor RAM, nor disk system; </li><li>  locking (at the table level - more often in MyISAM, at the row level - InnoDB); </li><li>  internal locking (for example, ‚Äúwaiting for query cache lock‚Äù). </li></ul><br><br>  Understanding this and analyzing data from the profile or, for example, from the extended log of slow queries, you can always correctly evaluate the future strategy of working with the database - in which cases an iron upgrade will be required, in which it is necessary to change certain settings, and where - possibly, reorganization data structures and queries. <br><br>  * * * <br><br>  Successful debugging and successful operation of databases of any size and with any load!  :) <br><br>  * * * <br><br>  Thank you for reading this place!  :) <br><br><img src="https://habrastorage.org/storage2/945/8fe/349/9458fe349b81b504f90df015f223d4ba.png"><br><br>  I hope our tips on working with MySQL will be useful for you! <br><br>  And since we are talking about our experience of operating MySQL in the project <a href="http://www.bitrix24.ru/">"Bitrix24"</a> , we would like to make a small gift for all readers of our blog on Habr√©. <br><br>  Register in ‚ÄúBitrix24‚Äù at the <a href="https://www.bitrix24.ru/register/%3Fp%3Dhabr"><b>indicated link</b></a> and get twice as much disk - 10 GB - at a free rate! <br><br>  If suddenly you still do not know what ‚ÄúBitrix24‚Äù is - a <a href="https://www.bitrix24.ru/whatisthis/">detailed description is on our website</a> .  :) </div><p>Source: <a href="https://habr.com/ru/post/148874/">https://habr.com/ru/post/148874/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../148868/index.html">Variable variables Properties of properties. Initialization of data from superglobal arrays is easy and simple.</a></li>
<li><a href="../148870/index.html">Some features of Django that are well known in advance</a></li>
<li><a href="../148871/index.html">Where can google glass lead us ...</a></li>
<li><a href="../148872/index.html">Blue Map of Germany</a></li>
<li><a href="../148873/index.html">Portrait of a lawyer against the background of technological progress</a></li>
<li><a href="../148875/index.html">Display of dependent data on the example of cascading drop-down lists</a></li>
<li><a href="../148876/index.html">Developing a social network on MODx Revolution</a></li>
<li><a href="../148879/index.html">‚ÄúSimple Business‚Äù - Organization management complex. Version 1.6.6.0</a></li>
<li><a href="../148880/index.html">Moving Google Chrome profile to another folder, nuances</a></li>
<li><a href="../148881/index.html">How to speed up the scheduling algorithm</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>