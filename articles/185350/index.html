<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What we have done with the personal account</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Once we had this: 



 And now it‚Äôs like this: 



 The story began almost two years ago, when we first came to Habr . Our first topic was, in particu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What we have done with the personal account</h1><div class="post__text post__text-html js-mediator-article">  Once we had this: <br><br><img src="https://habrastorage.org/storage2/e92/76e/68a/e9276e68afe19184aeb0f22cac619677.png"><br><br>  And now it‚Äôs like this: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage2/a59/109/143/a591091436551e0c219bc35fc1803764.png"><br><br>  <b>The story began almost two years ago, when we first came to Habr</b> .  Our first topic was, in particular, about bug reports, tips and ideas.  Especially a lot of suggestions were on the old personal account.  Since it would not be limited to a quick rework there, we began an almost complete replacement of the system. <br><br>  To begin, I will tell you why you made the decision to do it from scratch.  It was an opportunity to completely sort out the architecture.  The old personal account was working on at least 10 years ago software that did not scale and had certain limitations <br><br><h4>  Technical part </h4><br>  A 32-bit platform was used, which imposed certain restrictions on the size of the RAM used, and the use of the legacy API, which was often not supported by the manufacturer, adversely affected the stability of Java applications. <a name="habracut"></a><br><br>  The old version of the personal account for load balancing used only the HTTP session balancer functionality.  At the same time, if there were any problems with one of the application servers, then the current user sessions associated with that application server were lost. <br><br>  The weak modularity of the solution and the presence of a large amount of logic on the presentation layer made the application architecture ‚Äúmonolithic‚Äù, which required considerable labor costs in developing and testing even simple changes.  It also complicated horizontal scaling and reduced the overall speed of the application.  As a result, certain operations, especially sensitive to performance, such as the output of billing and customer information, were performed unnecessarily long.  In addition, the processing of invoices for the first billing cycle at the beginning of the month could take several days.  The problem was in the processing algorithm, in which temporary data was saved to the disk array, which slowed down the work. <br><br>  We switched to the 64-bit platform, abandoned the use of legacy libraries.  Now, to increase fault tolerance and load balancing, a cluster is used both at the application server level and at the database level.  When designing and implementing a new version of the personal account, the integration with adjacent systems was greatly changed and it was quite difficult. <br><br><img src="https://habrastorage.org/storage2/56d/9b8/d65/56d9b8d65256a4551d25ad15ba9934ea.png"><br>  <i>The transition from the "engineering" interface to the "human"</i> <br><br>  Important changes have affected the functionality of the system, especially in terms of subscribers of the postpaid billing system.  There was a group operations functionality, an address book, a visual presentation of financial information using graphs and charts, a custom report designer, where users can set parameters and filters themselves. <br><br>  Compared with the previous version, the new system already at the time of launch has a capacity three times larger in terms of the number of subscribers and about five times more in the number of simultaneous transactions.  So, about 100 transactions per second are being processed.  But we can provide a large load. <br><br>  From the point of view of the amount of data, about 80 million subscribers are stored in the system and for each of them there are services, tariffs, balances, invoices, ordered details and other information. <br><br>  One of the problems of the previous version was the speed of processing invoices.  Every month about 4 TB accounts pass through the new personal account. <br>  At the same time, the bulk of accounts falls on the first billing cycle at the beginning of the month.  New solution allows you to process account data more <br>  than 3 times faster, stacking at 8 o'clock. <br><br>  In addition, and this is very important, the initial system limitations on capacity building were removed, and now, if necessary, we can gradually expand it, based on market requirements. <br><br>  In addition, a personal account is an interface to a large number of internal systems.  We have implemented integration with more than 15 information systems, including the billing system, prepaid platforms, content platforms, a website, a CRM system, etc. It is necessary to ensure fast and reliable operation of the entire complex integration chain. <br><br><h4>  Interface philosophy </h4><br><img src="https://habrastorage.org/storage2/dbd/c5e/c0e/dbdc5ec0e967cf16ada1957217c8b1ea.png"><br>  <i>Profile "before" and "after"</i> <br><br>  Look at the comparison of screenshots of the same screens of the old and the new personal account.  We regrouped the elements, maximally focused everything on the user in terms of perception of information, translated most of the terms into Russian (as subscribers call these things when they call the call center) and much more. <br><br>  The main task is to prevent the cabinet from being perceived as something that requires special knowledge.  We have an example of Europe, where any retiree can simply go and log into the personal account of his operator in order to change something in his user profile.  (In Norway, about half of the subscribers of local operators use a personal account, we have only a few percent). <br><br><img src="https://habrastorage.org/storage2/b6a/908/94b/b6a90894b19127ad5249cee6f7860fe4.png"><br>  <i>The difference in achieving the goal is almost an order of magnitude.</i> <br><br>  <b>In principle, for calls to the call center there is a basic reason - concern for the balance</b> .  More precisely, the question: ‚Äúam I not overpaying‚Äù?  For example, most likely, most of the readers of this topic do not know what is more profitable for them - their current tariff or the one advertised on TV.  For customers without technical knowledge, the easiest thing is to simply ask the operator.  Such a mechanic - a new video came out, a man saw him during a commercial break, got worried, decided to check, called us.  The same applies to checking whether the money came: ‚ÄúI put 100 rubles yesterday through the terminal, did they come?‚Äù And write-off questions.  In general, the subscriber needs control.  We tried to give this feeling of control, having collected on the main screen a maximum of the right data at once, plus, making quick statements.  Extracts allow you to accurately understand what was happening with the account, and are very pleased with many.  And here it was important to tighten the technical part (you already know why) and make the correct interface, otherwise even a quickly generated statement would simply not be found. <br><br><img src="https://habrastorage.org/storage2/de8/46c/33e/de846c33eeec7419bb242b4424fbc9b1.png"><br>  <i>Financial information</i> <br><br><h4>  How to make prototypes and tests </h4><br>  At the entrance were our data on what the user needs (we have one of the most famous usability laboratories in Russia), the vision of the Lebedev Studio specialists, plus data from technical experts on what is possible and what is not.  It turned out a prototype, which was first tested according to our methodology, and then went to the iteration of statements and tests. <br><br><img src="https://habrastorage.org/storage2/98d/0c1/66b/98d0c166b019f0586c29ab1ed8dc45f9.png"><br>  <i>Visual result of interaction with living people.</i> <br><br>  The tests were done as follows: we recruited people "from the street" in accordance with the profile of ordinary subscribers who apply to the call center.  They launched a certain prototype of their personal account and set tasks in the form in which they are facing users.  For example, not ‚ÄúMake an extract from the account for the last 15 days‚Äù, but: ‚ÄúI wonder how much the call from Ukraine you made during the last trip cost?‚Äù, Not ‚ÄúConnect the tariff option such and such‚Äù, but ‚ÄúTomorrow you are driving to Kiev, try to see how cheaper it is to call relatives. ‚Äù  The man himself studied the office and sought a solution.  We wrote his eye movements, mouse movements, clicks, plus a general video "from the side."  Such tests were run hundreds of times for each model, until it became clear that most of the ‚Äúrandom‚Äù people (we recruited them before each new iteration) did quite well. <br><br>  Then there was a very long beta testing, where Habr also helped a lot - in an hour of habraeffection there were as many errors as testers found in a week. <br><br>  We continue to refine it, and also we are going to put all personal accounts (including a home Internet account) into one in the future, as they have now reduced access to different SIM cards in one account. </div><p>Source: <a href="https://habr.com/ru/post/185350/">https://habr.com/ru/post/185350/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../185338/index.html">MSIL / PSW.LiteCoin.A steals funds in the Litecoin system</a></li>
<li><a href="../185340/index.html">Firefox OS smartphones go on sale</a></li>
<li><a href="../185342/index.html">(Kiev) Free PMBOK seminar on the example of mountain climbing - ‚ÄúSeven peaks of project management‚Äù</a></li>
<li><a href="../185346/index.html">Photo gallery and other new cloud storage features</a></li>
<li><a href="../185348/index.html">Astra: where to use?</a></li>
<li><a href="../185352/index.html">Introducing Opera 15 for computers</a></li>
<li><a href="../185354/index.html">How IT champions win: about the inside of ACM-ICPC training</a></li>
<li><a href="../185356/index.html">How to test electronics in production: an analysis of modern technology</a></li>
<li><a href="../185358/index.html">Its business on the Internet: why is it now easier than ever?</a></li>
<li><a href="../185360/index.html">JAXB and XSLT using StAX</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>