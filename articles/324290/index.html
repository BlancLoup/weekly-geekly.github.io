<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Make your anonymizer in 10 minutes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article, I will first tell the story of the not very long life of one anonymizer, and then I will teach you how to make an anonymizer from the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Make your anonymizer in 10 minutes</h1><div class="post__text post__text-html js-mediator-article">  In this article, I will first tell the story of the not very long life of one anonymizer, and then I will teach you how to make an anonymizer from the source codes, even without special programming or administration skills.  It was decided to post my source code in open access after my anonymizer got on the Roskomnadzor's list and was blocked ... But first things first. <br><a name="habracut"></a><br><h3>  How it all began </h3><br>  Back in 2013, on one of the forums, I argued with an opponent that in the evening I would write from scratch to a ++ server distributing static pages.  Stupid argument, I don‚Äôt remember where I started, but in order not to lose face I had to win this argument ... <br><br>  After this story, the server's sources were lying on the back of the hard drive for about six months, until the ever-increasing Internet censorship in Russia led to the idea of ‚Äã‚Äãmaking your own anonymizer.  But there are a lot of anonymizers and all known to me worked according to the principle: ‚Äúenter the address on our website and we will show this page‚Äù, I wanted to do something original.  The basic idea is to make visiting the anonymizer site optional ... But how to make it convenient? <br><br><h3>  Idea </h3><br>  The decision came by chance and at the beginning I didn‚Äôt even have enough technical knowledge to understand - would it work?  It turned out - it works!  The idea is simple: we take any site and we add the ending to it in the form of anonymizer domain name.  For example, instead of <a href="http://habrahabr.ru/">habrahabr.ru</a> we write <a href="http://habrahabr.ru.3s3s.org/">habrahabr.ru.3s3s.org</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      (Later completed for https: instead of <a href="https://habrahabr.ru/">habrahabr.ru</a> we write <a href="http://h_t_t_p_s.habrahabr.ru.3s3s.org/">h_t_t_p_s.habrahabr.ru.3s3s.org</a> ) <br><br>  True pioneer, I felt not for long.  Good people suggested that the idea has long been implemented and is called <a href="https://en.wikipedia.org/wiki/Coral_Content_Distribution_Network">CoralCDN</a> . <br><br>  Well, I tried this CoralCDN and he did not inspire me either with its speed or stability.  Therefore, all the same, I decided to write my own version. <br><br><h3>  Embodiment </h3><br>  1. We buy the cheapest VDS.  You can find for $ 10 a year, but I still advise something more impressive.  Personally, I chose DigitalOcean for $ 5 a month and was pleased as an elephant. <br>  2. We buy a short domain, preferably beautiful and not controlled by censorship from a foreign registrar.  I bought 3s3s.org from GoDaddy.  $ 20 per year <br>  3. Make two ‚ÄúA‚Äù entries in the DNS zone settings: <br>  times: "@ .3s3s.org -&gt; [VDS IP Address]" <br>  two: "* .3s3s.org -&gt; [VDS IP Address]" <br>  4. We write the code for the anonymizer, we load it onto our server and it‚Äôs ready ... <br><br><h3>  Crying Yaroslavna </h3><br>  Well, here I got close to the moment for which I started writing this article.  The most important thing is that only trusted people know about your anonymizer.  Because despite the fact that there is no direct prohibition in the laws of the Russian Federation on anonymizers, in fact, prosecutors, who apparently have nothing more to do, occasionally sue, and the courts decide on the blocking of these services for a pattern. <br><br>  My anonymizer lasted for two years, but two weeks ago I received a letter from the host saying that Roskomnadzor is going to block my site ... A search on the Internet showed that the site was already blacklisted due to a court decision, and the time for appeal was already out ... <br><br>  Of course, I‚Äôll try to fight and restore the term somehow, then try to file an appeal, but the site is already blocked and most likely it will remain so blocked, so it was decided to post the source code and instructions for using it <br>  in open access. <br><br><h3>  Instruction </h3><br>  So, if you decide to make your anonymizer, then after the purchase of the server and the domain you have to do quite a bit. <br><br>  4.1 Install the operating system on the server.  My anonymizer worked under CentOS 6, but I decided to sharpen the source on the githaba under Ubuntu 16 <br>  4.2 Enter the console and execute the following commands: <br><br><pre><code class="bash hljs">apt-get update
apt-get install build-essential
apt-get install zlib1g-dev
apt-get install libcurl4-openssl-dev
apt-get install openssl libssl-dev
apt-get install libc-ares-dev
git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/3s3s/3s3s.org.git
<span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> 3s3s.org
./compile.sh
</code></pre><br>
   .   ,    <code>nohup ./test_server.exe &amp;</code><br>
<br>
  .     ,      ‚Ä¶  :     ()    log.h!<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> DNS_NAME  </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"3s3s.ru"</span></span></span></span></code></pre><br>
  ,       ?   ,  <br>
<br>
<pre><code class="hljs 1c">./compile.sh
nohup ./test_server.exe <span class="hljs-meta"><span class="hljs-meta">&amp;</span></span>
</code></pre><br>
       . !<br>
<br>
P.S.      100   3s3s.ru         : <a href="http://3s3s.ru/">3s3s.ru</a><br>
<br>
P.P.S. ,       .<br>
<br>
<b>1.</b>      ,            ".3s3s.org" (  ".3s3s.ru")   <a href="http://www.kasparov.ru/">www.kasparov.ru</a>  <a href="http://www.kasparov.ru.3s3s.ru/">www.kasparov.ru.3s3s.ru</a><br>
<b>2.</b>                .<br>
<b>3.</b>       ,  <b><i></i></b>   ,           .     <b> </b>  , ..      .         ‚Äî      .<br>
<b>4.</b>  ,               . ,  <a href="http://www.kasparov.ru/">www.kasparov.ru</a>  <a href="http://kasp.3s3s.ru/">kasp.3s3s.ru</a><br>
<br>
<h3>   ...</h3><br>
<a href="https://github.com/3s3s/3s3s.org/tree/v2">   </a>     ,      VDS .     ,      ,     .<br>
     ru  100   ,     .<br>
,  ,      ,    ,  :<br>
1.  (  ) .<br>
2.  A     IP    (   104.131.65.219    ,      ).     :<br>
: "@.. -&gt; 104.131.65.219" <br>
: "*.. -&gt; 104.131.65.219" <br>
<br>
!<br>
 DNS ,            :<br>
<a href="http://xn--80aacewijeiyagc1a4o.xn--80aswg.xn--80ad1e.xn--d1acufc/%25D0%25BA%25D0%25B0%25D0%25BA%25D0%25BE%25D0%25B9-%25D1%2582%25D0%25BE/%25D0%25BF%25D1%2583%25D1%2582%25D1%258C.html">.../-/.html</a><br>
<br>
,  .    ,   -  .  ,  .      ,     IP (  ,   ),   IP ‚Äî  10 .<br>
<br>
 ,           .    ,        .</div><p>Source: <a href="https://habr.com/ru/post/324290/">https://habr.com/ru/post/324290/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../324276/index.html">Iptables: a little about the action of REDIRECT, its limitations and scope</a></li>
<li><a href="../324280/index.html">How to create music for video games</a></li>
<li><a href="../324284/index.html">Resizing images based on content</a></li>
<li><a href="../324286/index.html">easymake - ‚Äúalmost‚Äù regular task-runner for building, testing and other tasks for node.js</a></li>
<li><a href="../324288/index.html">Development of space shooter for android using the Unity3D game engine</a></li>
<li><a href="../324292/index.html">Design patterns, iOS view developer. Part 2. The Observer</a></li>
<li><a href="../324294/index.html">Browser-based WebRTC broadcasts with low latency RTSP IP cameras</a></li>
<li><a href="../324296/index.html">Again about Monty Hall or statistics as a collective intuition</a></li>
<li><a href="../324298/index.html">Experience passing certified Openstack Administrator (COA)</a></li>
<li><a href="../324300/index.html">Website creation on Yii 2 (blog, basic) - Part 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>