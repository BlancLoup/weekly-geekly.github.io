<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We are looking for the killer on the Prologue</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Every Sunday in our company it is customary to arrange fun quizzes, this is one of them. 

 Riddle 
 To find the murderer of Mr. Boddy, you need to fi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We are looking for the killer on the Prologue</h1><div class="post__text post__text-html js-mediator-article">  Every Sunday in our company it is customary to arrange fun quizzes, this is one of them. <br><br><h1>  Riddle </h1><br>  To find the murderer of Mr. Boddy, you need to find out where each person was and what weapon was in the room.  Clues are scattered throughout the quiz (you cannot answer the first question until you have read all ten). <br><br><ul><li>  For starters, imagine the suspects.  There are three men (George, John, Robert) and three women (Barbara, Christina, Yolanda).  Each person is in a separate room (bathroom, dining room, kitchen, living room, pantry, office).  A suspicious weapon was found in each room (bag, firearm, gas, knife, poison, rope).  Question: who was found in the kitchen? </li><li>  Tip 1. When a man in the kitchen there is no rope, no knife, no bag.  The weapon is not firearms.  Question: what weapons are found in the kitchen? </li></ul><a name="habracut"></a><br><ul><li>  Tip 2. Barbara, either in the office or in the bathroom, and Yolanda - in another room of the two named.  What room did you find Barbara in? </li><li>  Tip 3. The man with the bag is neither Barbara nor George, and he was neither in the bathroom nor in the dining room.  Who had the bag? </li><li>  Tip 4. A woman with a rope is found in the office.  Who is it? </li><li>  Tip 5. The weapon in the living room belongs to either John or George.  What weapons in the living room? </li><li>  Tip 6. The knife was not in the dining room.  Where was the knife? </li><li>  Tip 7. Yolanda was not in the office or in the pantry with the appropriate weapons for these rooms.  What weapons have Yolanda? </li><li>  Tip 8. George found a firearm.  In which room? </li><li>  It was discovered that Mr. Boddy was gassed in the pantry.  The suspect in that room was the killer.  Who is this? </li></ul><br>  I am dragged from such puzzles (actually almost from any puzzles).  They could take hours and hours of thinking, but Prolog always comes to the rescue!  Let's see how he helps to solve such problems on reasoning. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  Prolog 101 </h1><br><h2>  SWI-Prolog installation </h2><br><pre><code class="plaintext hljs">~&gt; swipl Welcome to SWI-Prolog (Multi-threaded, 64 bits, Version 6.6.6) Copyright (c) 1990-2013 University of Amsterdam, VU Amsterdam SWI-Prolog comes with ABSOLUTELY NO WARRANTY. This is free software, and you are welcome to redistribute it under certain conditions. Please visit http://www.swi-prolog.org for details. For help, use ?- help(Topic). or ?- apropos(Word). ?- write('Hello, World!'). Hello, World! true. ?- write('Hello,'), nl, write('world'). Hello, world true. ?- X is 3*4 + 2. X = 14.</code> </pre> <br><ul><li>  <code>swipl</code> - Prolog interpreter program </li><li>  <code>write</code> is called a functor, and the <code>write/1</code> representation means that it takes 1 argument (the same concept in Erlang and Elixir for adding the number of arguments to the function name) </li><li>  <code>nl</code> used to print a new line. </li><li>  a sequence of commands is separated by commas, which also replace the AND operator </li><li>  the assignment operator <code>is</code> followed by a mathematical expression </li><li>  variables are written in uppercase <code>X</code> , not x </li></ul><br><h2>  Knowledge base </h2><br>  The essence of Prolog is in stating facts, compiling facts and inquiring them. <br><br>  Create file <code>hello.pl</code> : <br><br><pre> <code class="plaintext hljs">friend(john, julia). friend(john, jack). friend(julia, sam). friend(julia, molly). loves(john, julia). loves(julia, sam). loves(sam, julia). male(brad). male(john). male(jim). male(alfred). female(marry). child(brad, alfred). child(john, jim). child(john, marry).</code> </pre> <br><ul><li>  to download use <code>[hello].</code>  : notice the point at the end </li><li>  <code>listing</code> lists all facts in the knowledge base. </li></ul><br><pre> <code class="plaintext hljs">?- [hello]. % hello compiled 0.00 sec, 3 clauses true. ?- listing(friend). friend(john, julia). friend(john, jack). friend(julia, sam). friend(julia, molly). true. ?- listing(loves). loves(john, julia). loves(julia, sam). loves(sam, julia). true.</code> </pre> <br><h2>  Request for Facts </h2><br>  After stating the facts in the knowledge base, we can go further and ask questions about the truth of the facts, as well as what conclusions can be drawn from them. <br><br><pre> <code class="plaintext hljs">?- friend(john, julia). true . ?- friend(john, jack). true. ?- loves(john, julia). true. ?- loves(john, sam). false.</code> </pre> <br>  We can make more complex questions.  For example, who is friends with John or who loves Julia. <br><br><pre> <code class="plaintext hljs">?- friend(john, Who). Who = julia ; Who = jack.</code> </pre> <br><pre> <code class="plaintext hljs">?- listing(child). child(brad, alfred). child(john, jim). child(john, mary). true. ?- child(john, X). X = jim ; X = mary.</code> </pre> <br><h2>  John in a friendly zone? </h2><br>  We have established a friendly relationship with John and Julia ( <code>friend(john, julia)</code> ), but for Prolog this does not mean that Julia is friends with John: you need to add another <code>friend(julia, john)</code> fact <code>friend(julia, john)</code> .  Also, we have already indicated who has what children, and obviously do not want to duplicate the code, separately indicating the parents of each child.  We don't want to write something like <br><br><pre> <code class="plaintext hljs">child(brad, alfred). child(john, jim). child(john, mary). parent(alfred, brad). parent(jim, john). parent(mary, john).</code> </pre> <br>  Prolog helps to avoid duplication with the help of logical inference rules: <br><br><pre> <code class="plaintext hljs">rule :- stmt1, stmt2,...</code> </pre> <br>  A rule is true if all internal statements are true (listed and logically folded comma-separated). <br><br><pre> <code class="plaintext hljs">friend(X, Y) :- friend(Y,X). parent(X, Y) :- child(Y,X). father(X, Y) :- child(Y,X), male(X). mother(X, Y) :- child(Y,X), female(X). friendzoned(X) :- loves(X, Y), \+ loves(Y,X).</code> </pre> <br><ul><li>  <code>friend(X,Y)</code> rule holds for <code>friend(Y,X</code> ) </li><li>  <code>parent(X,Y)</code> holds for <code>child(Y,X)</code> </li><li>  <code>father(X,Y)</code> true when <code>parent(X,Y)</code> and <code>male(X)</code> </li><li>  <code>mother(X,Y)</code> true when <code>parent(X,Y)</code> and <code>female(X)</code> </li><li>  <code>friendzoned(X)</code> valid if X loves <code>SOMEONE Y</code> , and Y dislikes X (noticed the hidden variable Y?) </li></ul><br><pre> <code class="plaintext hljs">?- friend(julia, john). true . ?- male(jim). true. ?- parent(jim,X). X = john. ?- father(jim, X). X = john. ?- mother(X, john). X = marry. ?- mother(marry,X). X = john. ?- mother(marry, john). true. ?- loves(julia, X). X = sam. ?- friendzoned(julia). false. ?- friendzoned(john). true.</code> </pre> <br>  Well, now we have all the necessary knowledge.  Let's practice on coloring the map. <br><br><h1>  Coloring card </h1><br>  Let's start with a well-known mathematical problem.  It is required that no adjacent areas have the same color. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-q/er/e5/-qere5k5aq7boize18qpehpzwze.png"></div><br><br>  Therefore, the reasoning should be such, we have three things: <br><br><ol><li>  Variables are areas that we want to color: A, B, C, D, E. </li><li>  Domain - the range of values ‚Äã‚Äãthat can be assigned to variables: red, blue, green. </li><li>  The restriction that adjacent areas cannot be the same color. </li></ol><br><h2>  Domain </h2><br>  We define the domain of our regions (red, green, blue). <br><br><pre> <code class="plaintext hljs">color(red). color(green). color(blue).</code> </pre> <br>  It's all. <br><br><h2>  Asking for a solution </h2><br><pre> <code class="plaintext hljs">colorify(A,B,C,D,E) :- color(A), color(B), color(C), color(D), color(E), \+ A=B, \+ A=C, \+ A=D, \+ A=E, \+ B=C, \+ C=D, \+ D=E.</code> </pre> <br>  Here we define a solution as a rule <code>colorify</code> with five variables A, B, C, D, E, and inside the rule we assign a domain color (red, blue, green) for variables and set restrictions that A is not equal to B, not equal to C ... and etc. <br><br><blockquote>  <code>\+ X=Y</code> means that X is not equal to Y </blockquote><br>  Prolog will continue to generate values ‚Äã‚Äãuntil it finds an option that satisfies the rule with restrictions. <br><br><pre> <code class="plaintext hljs">?- [mapcoloring] | . true. ?- colorify(A,B,C,D,E) | . A = red, B = D, D = green, C = E, E = blue ; A = red, B = D, D = blue, C = E, E = green ; A = green, B = D, D = red, C = E, E = blue ; A = green, B = D, D = blue, C = E, E = red ; A = blue, B = D, D = red, C = E, E = green ; A = blue, B = D, D = green, C = E, E = red</code> </pre> <br><pre> <code class="plaintext hljs">color(red). color(green). color(blue). colorify(A,B,C,D,E) :- color(A), color(B), color(C), color(D), color(E), \+ A=B, \+ A=C, \+ A=D, \+ A=E, \+ B=C, \+ C=D, \+ D=E.</code> </pre> <br>  ... but we are not coloring the pictures here, but are looking for the killer. <br><br><h2>  Murder </h2><br>  For starters, imagine the suspects.  There are three men (George, John, Robert) and three women (Barbara, Christina, Yolanda).  Each person is in a separate room (bathroom, dining room, kitchen, living room, pantry, office).  A suspicious weapon was found in each room (bag, firearm, gas, knife, poison, rope). <br><br>  Who was found in the kitchen? <br><br><h3>  Domain </h3><br>  From this we can conclude that we have five domains: <code>man</code> , <code>woman</code> , <code>person</code> or suspect, <code>location</code> and <code>weapons</code> , and our variables (A, B, C, D, E, F) should represent the person, the place, and the weapon with some limitations that will be revealed in the upcoming tips. <br><br><pre> <code class="plaintext hljs">man(george). man(john). man(robert). woman(barbara). woman(christine). woman(yolanda). person(X):- man(X). person(X):- woman(X). location(bathroom). location(dining). location(kitchen). location(livingroom). location(pantry). location(study). weapon(bag). weapon(firearm). weapon(gas). weapon(knife). weapon(poison). weapon(rope).</code> </pre> <br>  The <code>uniq_ppl</code> rule generates unique values ‚Äã‚Äãfor our variables. <br><br><pre> <code class="plaintext hljs">uniq_ppl(A,B,C,D,E,F):- person(A), person(B), person(C), person(D), person(E), person(F), \+A=B, \+A=C, \+A=D, \+A=E, \+A=F, \+B=C, \+B=D, \+B=E, \+B=F, \+C=D, \+C=E, \+C=F, \+D=E, \+D=F, \+E=F.</code> </pre> <br><h3>  Decision </h3><br>  We begin by defining a killer rule with unique people in places and unique people with weapons, and now will indicate the relationship between people in places with those who have weapons. <br><br>  Please note that we still have six suspects. <br><br><h4>  Introduction </h4><br><pre> <code class="plaintext hljs">murderer(X) :- uniq_ppl(Bathroom, Dining, Kitchen, Livingroom, Pantry, Study), uniq_ppl(Bag, Firearm, Gas, Knife, Poison, Rope),</code> </pre> <br>  To easily talk about variables such as bathroom, canteen, firearms, gas, we immediately determine: <br><br><ul><li>  Bathroom - is it a suspect (male or female) in the bathroom </li><li>  A firearm is the suspect (male or female) with a firearm </li><li>  and so on ... you can imagine it as a <a href="https://docs.google.com/spreadsheets/d/1pxmVaG6eMbkVg55rVYJquIVxaN3l09nrW6HJH7xdITM/edit">grid</a> </li></ul><br>  Now we continue to add restrictions after the last comma in the <code>murderer</code> rule. <br><br><h4>  Tip 1 </h4><br>  When a man in the kitchen there is no rope, knife or bag.  The weapon is not firearms.  What weapons found in the kitchen? <br><br><pre> <code class="plaintext hljs">% 2. Clue 1: The man in the kitchen was not found with the rope, knife, or bag. % Which weapon, then, which was not the firearm, was found in the kitchen? man(Kitchen), \+Kitchen=Rope, \+Kitchen=Knife, \+Kitchen=Bag, \+Kitchen=Firearm,</code> </pre> <br>  Here we say that the variable <code>Kitchen</code> satisfies the fact <code>man</code> (defined in our domain), and declare that whoever the person in the kitchen is, he has nothing of the following: <code>Rope</code> , <code>Knife</code> , <code>Bag</code> , <code>Firearm</code> . <br><br><h4>  Tip 2 </h4><br>  Tip 2. Barbara, either in the office or in the bathroom, and Yolanda - in another room of the two named.  What room did you find Barbara in? <br><br>  Thus, we can say that a <code>woman</code> is in the office and in the bathroom. And this is not Christina, and we also delete other options for Barbara and Yolanda (kitchen, dining room, living room, pantry). <br><br><pre> <code class="plaintext hljs">% % 3. Clue 2: Barbara was either in the study or the bathroom; Yolanda was in the other. % % Which room was Barbara found in? woman(Bathroom), woman(Study), \+christine=Bathroom, \+christine=Study, \+barbara=Dining, \+barbara=Kitchen, \+barbara=Livingroom, \+barbara=Pantry,</code> </pre> <br><h4>  Tip 3 </h4><br>  The man with the bag is neither Barbara nor George, and he was neither in the bathroom nor in the dining room.  Who had the bag? <br><br><pre> <code class="plaintext hljs">% % 4. Clue 3: The person with the bag, who was not Barbara nor George, was not in the bathroom nor the dining room. % % Who had the bag in the room with them? \+barbara=Bag, \+george=Bag, \+Bag=Bathroom, \+Bag=Dining,</code> </pre> <br><h4>  Tip 4 </h4><br>  A woman with a rope was found in the office.  Who is it? <br><br><pre> <code class="plaintext hljs">% % 5. Clue 4: The woman with the rope was found in the study. % % Who had the rope? woman(Rope), Rope=Study,</code> </pre> <br><h4>  Tip 5 </h4><br>  Tip 5. The weapon in the living room belongs to either John or George.  What weapons in the living room? <br><br><pre> <code class="plaintext hljs">man in Livingroom Livingroom isn't robert % % 6. Clue 5: The weapon in the living room was found with either John or George. % % What weapon was in the living room? man(Livingroom), \+Livingroom=robert,</code> </pre> <br><h4>  Tip 6 </h4><br>  The knife was not in the dining room.  Where was the knife? <br><br><pre> <code class="plaintext hljs">% % 7. Clue 6: The knife was not in the dining room. % % So where was the knife? \+Knife=Dining,</code> </pre> <br><h4>  Tip 7 </h4><br>  Tip 7. Yolanda was neither in the office nor in the pantry.  What are the weapons in Yolanda's room? <br><br><pre> <code class="plaintext hljs">% % 8. Clue 7: Yolanda was not with the weapon found in the study nor the pantry. % % What weapon was found with Yolanda? \+yolanda=Pantry, \+yolanda=Study,</code> </pre> <br><h4>  Tip 8 </h4><br>  George found a firearm. <br><br><pre> <code class="plaintext hljs">% % 9. Clue 8: The firearm was in the room with George. % % In which room was the firearm found? Firearm=george,</code> </pre> <br><h4>  Tip 9 </h4><br>  It was discovered that Mr. Boddy was gassed in the pantry.  The suspect in that room was the killer.  Who is it? <br><br><pre> <code class="plaintext hljs">% % 10. It was discovered that Mr. Boddy was gassed in the pantry. The suspect found in that room was the murderer. % % Who, then, do you point the finger towards? Pantry=Gas, Pantry=X, write("KILLER IS :"), write(X), nl, writeanswers(Bathroom, Dining, Kitchen, Livingroom, Pantry, Study, Bag, Firearm, Gas, Knife, Poison, Rope).</code> </pre> <br>  Set a match for gas, pantry, and killer, then use <code>write</code> to print <code>writeanswers</code> responses. <br><br><pre> <code class="plaintext hljs">writeanswers(Bathroom, Dining, Kitchen, Livingroom, Pantry, Study, Bag, Firearm, Gas, Knife, Poison, Rope):- write("Bathroom: "), write(Bathroom), nl, write("Dining: "), write(Dining), nl, write("Livingroom: "), write(Livingroom), nl, write("Pantry: "), write(Pantry), nl, write("Study: "), write(Study), nl, write("Kitchen: "), write(Kitchen), nl, write("Knife: "), write(Knife), nl, write("Gas: "), write(Gas), nl, write("Rope: "), write(Rope), nl, write("Bag: "), write(Bag), nl, write("Poison: "), write(Poison), nl, write("Firearm: "), write(Firearm), nl.</code> </pre> <br><h2>  Who is the killer? </h2><br><pre> <code class="plaintext hljs"> ?- [crime2]. true. ?- murderer(X). KILLER IS :christine Bathroom: yolanda Dining: george Livingroom: john Pantry: christine Study: barbara Kitchen: robert Knife: yolanda Gas: christine Rope: barbara Bag: john Poison: robert Firearm: george X = christine ;</code> </pre> <br>  The code is published <a href="https://github.com/xmonader/prolog-rands/blob/master/crime.pl">here</a> .  It could probably be much better, since I am not an expert in the Prologue :) </div><p>Source: <a href="https://habr.com/ru/post/434172/">https://habr.com/ru/post/434172/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../434054/index.html">BLACK HAT conference. How to make a spy phone. Part 2</a></li>
<li><a href="../434056/index.html">Need to know where to put zero</a></li>
<li><a href="../434058/index.html">A technical presentation of the new SpaceX spacecraft Starship / BFS from SpaceX is planned in March-April 2019</a></li>
<li><a href="../434060/index.html">Should I save the length of the array to a local variable in C #</a></li>
<li><a href="../434062/index.html">Amazon sent Alexa's 1,700 audio recordings to a random person.</a></li>
<li><a href="../434174/index.html">Genetics of the Romanesco variety: a fractal mathematical model of gene expression</a></li>
<li><a href="../434176/index.html">Getting ready to investigate incidents</a></li>
<li><a href="../434178/index.html">How the service provider did its Service Desk</a></li>
<li><a href="../434180/index.html">Droidcon sf review</a></li>
<li><a href="../434182/index.html">Inkjet printing as one of the directions of applied fluid dynamics</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>