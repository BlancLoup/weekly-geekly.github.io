<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Rating hubs and companies by posts / subscribers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At the moment, there are about 350 hubs . The functionality of the site allows you to sort them by name and by index . But according to other paramete...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Rating hubs and companies by posts / subscribers</h1><div class="post__text post__text-html js-mediator-article">  At the moment, there are <a href="http://habrahabr.ru/hubs/">about 350 hubs</a> .  The functionality of the site allows you to sort them <a href="http://habrahabr.ru/hubs/%3Forder%3Dtitle">by name</a> and <a href="http://habrahabr.ru/hubs/">by index</a> .  But according to other parameters - for example, <a href="http://habrahabr.ru/hubs/%3Forder%3Dposts">by the number of posts</a> - no, but I would like to. <br><br>  I was inspired by the article <a href="http://habrahabr.ru/post/204706/">rating hub posts</a> , and I decided to make a similar, but already make a <b>rating of the hubs themselves</b> . <br><br>  In the first half of the article I will provide you with the <b>ratings of hubs and companies</b> , as well as a small analysis of them.  And in the second - I <a href="http://jsoup.org/">will</a> sign in detail how I am using Java with the help of the <a href="http://jsoup.org/">JSoup</a> library <a href="http://jsoup.org/">to</a> parse the HTML pages of the habr, what interesting phenomena and problems I encountered.  And at the end of the article lay out the full source code of the program. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/1bd/a46/98a/1bda4698aaad8c179ed0f3aa65d063b6.png"><br><a name="habracut"></a><br>  <a href="http://kciray.com/files/htm/fullhabrastat.html">All 4 ratings (full) in the form of a web page</a> <br><br><h1>  Hub rating </h1><div class="spoiler">  <b class="spoiler_title">By the number of posts</b> <div class="spoiler_text">  <a href="http://habrahabr.ru/hub/closet/">Closet</a> <b>35 971</b> <br>  <a href="http://habrahabr.ru/hub/i_am_advertising/">I am PR</a> <b>5 461</b> <br>  <a href="http://habrahabr.ru/hub/webdev/">Web Development</a> <b>4 011</b> <br>  <a href="http://habrahabr.ru/hub/infosecurity/">Information Security</a> <b>3 385</b> <br>  <a href="http://habrahabr.ru/hub/google/">Google</a> <b>2,770</b> <br>  <a href="http://habrahabr.ru/hub/hardware/">Iron</a> <b>2 733</b> <br>  <a href="http://habrahabr.ru/hub/gadgets/">Gadgets.</a>  <a href="http://habrahabr.ru/hub/gadgets/">Devices for geeks</a> <b>2 375</b> <br>  <a href="http://habrahabr.ru/hub/programming/">Programming</a> <b>2 293</b> <br>  <a href="http://habrahabr.ru/hub/linux/">Linux</a> <b>2 235</b> <br>  <a href="http://habrahabr.ru/hub/android/">Android</a> <b>1 965</b> <br>  <a href="http://habrahabr.ru/hub/javascript/">Javascript</a> <b>1 687</b> <br>  <a href="http://habrahabr.ru/hub/apple/">Apple</a> <b>1 612</b> <br>  <a href="http://habrahabr.ru/hub/ilhh/">Habrahabr</a> <b>1 568</b> <br>  <a href="http://habrahabr.ru/hub/net/">.NET</a> <b>1,485</b> <br>  <a href="http://habrahabr.ru/hub/php/">PHP</a> <b>1,465</b> <br>  <a href="http://habrahabr.ru/hub/sys_admin/">System Administration</a> <b>1,454</b> <br>  <a href="http://habrahabr.ru/hub/DIY/">DIY or DIY</a> <b>1 442</b> <br>  <a href="http://habrahabr.ru/hub/development/">Development</a> <b>1,331</b> <br>  <a href="http://habrahabr.ru/hub/pm/">Project Management</a> <b>1 261</b> <br>  <a href="http://habrahabr.ru/hub/ui/">Interfaces</a> <b>1 257</b> <br>  <a href="http://habrahabr.ru/hub/microsoft/">Microsoft</a> <b>1,237</b> <br>  <a href="http://habrahabr.ru/hub/gdev/">Game Development</a> <b>1 218</b> <br>  <a href="http://habrahabr.ru/hub/open_source/">Open source</a> <b>1 110</b> <br>  <a href="http://habrahabr.ru/hub/smartphones/">Smartphones and communicators</a> <b>1 091</b> <br>  <a href="http://habrahabr.ru/hub/java/">JAVA</a> <b>1 020</b> <br>  <a href="http://habrahabr.ru/hub/design/">Design in IT</a> <b>996</b> <br>  <a href="http://habrahabr.ru/hub/algorithms/">Algorithms</a> <b>991</b> <br>  <a href="http://habrahabr.ru/hub/copyright/">Copyright</a> <b>982</b> <br>  <a href="http://habrahabr.ru/hub/social_networks/">Social networks and communities</a> <b>949</b> <br>  <a href="http://habrahabr.ru/hub/gtd/">GTD</a> <b>939</b> <br>  <a href="http://habrahabr.ru/hub/windows/">Windows</a> <b>919</b> <br>  <a href="http://habrahabr.ru/hub/study/">The educational process in IT</a> <b>916</b> <br>  <a href="http://habrahabr.ru/hub/python/">Python</a> <b>866</b> <br>  <a href="http://habrahabr.ru/hub/robot/">Robotics</a> <b>798</b> <br>  <a href="http://habrahabr.ru/hub/android_dev/">Development for Android</a> <b>783</b> <br>  <a href="http://habrahabr.ru/hub/ios_dev/">Development for iOS</a> <b>777</b> <br>  <a href="http://habrahabr.ru/hub/hosting/">Hosting</a> <b>749</b> <br>  <a href="http://habrahabr.ru/hub/cpp/">C ++</a> <b>711</b> <br>  <a href="http://habrahabr.ru/hub/business-laws/">Legislation and IT business new</a> <b>677</b> <br>  <a href="http://habrahabr.ru/hub/mass_media/">Media</a> <b>664</b> <br>  (...) <br>  <a href="http://habrahabr.ru/hub/Tumblr/">Tumblr</a> <b>3</b> <br>  <a href="http://habrahabr.ru/hub/cubrid/">Cubrid</a> <b>3</b> <br>  <a href="http://habrahabr.ru/hub/industrial_control_system/">Industrial programming new</a> <b>3</b> <br>  <a href="http://habrahabr.ru/hub/julia/">Julia new</a> <b>2</b> <br>  <a href="http://habrahabr.ru/hub/ms_access/">Microsoft Access</a> <b>2</b> <br>  <a href="http://habrahabr.ru/hub/growthhacking/">Growth Hacking new</a> <b>2</b> <br>  <a href="http://habrahabr.ru/hub/google_checkout/">Google Checkout</a> <b>0</b> <br>  <a href="http://habrahabr.ru/hub/MySpace/">Myspace</a> <b>0</b> <br>  <a href="http://habrahabr.ru/hub/xcode/">Xcode new</a> <b>0</b> <br>  <a href="http://habrahabr.ru/hub/scada/">SCADA new</a> <b>0</b> <br></div></div><div class="spoiler">  <b class="spoiler_title">By the number of subscribers</b> <div class="spoiler_text">  <a href="http://habrahabr.ru/hub/closet/">Closet</a> <b>124 521</b> <br>  <a href="http://habrahabr.ru/hub/i_am_advertising/">I am PR</a> <b>101 864</b> <br>  <a href="http://habrahabr.ru/hub/webdev/">Web development</a> <b>96 117</b> <br>  <a href="http://habrahabr.ru/hub/android/">Android</a> <b>95 361</b> <br>  <a href="http://habrahabr.ru/hub/gadgets/">Gadgets.</a>  <a href="http://habrahabr.ru/hub/gadgets/">Devices for geeks</a> <b>95 020</b> <br>  <a href="http://habrahabr.ru/hub/smartphones/">Smartphones and communicators</a> <b>94 376</b> <br>  <a href="http://habrahabr.ru/hub/google/">Google</a> <b>93 844</b> <br>  <a href="http://habrahabr.ru/hub/DIY/">DIY or DIY</a> <b>92 322</b> <br>  <a href="http://habrahabr.ru/hub/hardware/">Iron</a> <b>91 959</b> <br>  <a href="http://habrahabr.ru/hub/infosecurity/">Information Security</a> <b>91 729</b> <br>  <a href="http://habrahabr.ru/hub/linux/">Linux</a> <b>91 103</b> <br>  <a href="http://habrahabr.ru/hub/robot/">Robotics</a> <b>89 721</b> <br>  <a href="http://habrahabr.ru/hub/programming/">Programming</a> <b>89,668</b> <br>  <a href="http://habrahabr.ru/hub/iTablet/">Tablets</a> <b>88 757</b> <br>  <a href="http://habrahabr.ru/hub/google_chrome/">Google Chrome</a> <b>88 197</b> <br>  <a href="http://habrahabr.ru/hub/os/">Operating systems</a> <b>88,098</b> <br>  <a href="http://habrahabr.ru/hub/ui/">Interfaces</a> <b>88 064</b> <br>  <a href="http://habrahabr.ru/hub/windows/">Windows</a> <b>87 695</b> <br>  <a href="http://habrahabr.ru/hub/iphone/">iPhone</a> <b>87 609</b> <br>  <a href="http://habrahabr.ru/hub/algorithms/">Algorithms</a> <b>87 372</b> <br>  <a href="http://habrahabr.ru/hub/web_design/">Web Design</a> <b>87 341</b> <br>  <a href="http://habrahabr.ru/hub/ebooks/">Electronic books</a> <b>86 582</b> <br>  <a href="http://habrahabr.ru/hub/design/">Design in IT</a> <b>86 266</b> <br>  <a href="http://habrahabr.ru/hub/complete_code/">Perfect code</a> <b>85 525</b> <br>  <a href="http://habrahabr.ru/hub/browsers/">Browsers</a> <b>85 443</b> <br>  <a href="http://habrahabr.ru/hub/ipad/">iPad</a> <b>85 290</b> <br>  <a href="http://habrahabr.ru/hub/energy/">Energy and batteries</a> <b>84 866</b> <br>  <a href="http://habrahabr.ru/hub/popular_science/">Popular science</a> <b>84 668</b> <br>  <a href="http://habrahabr.ru/hub/php/">PHP</a> <b>84 621</b> <br>  (...) <br>  <a href="http://habrahabr.ru/hub/backup/">Backup new</a> <b>3 503</b> <br>  <a href="http://habrahabr.ru/hub/xcode/">Xcode new</a> <b>2 823</b> <br>  <a href="http://habrahabr.ru/hub/physics/">Physics new</a> <b>2 372</b> <br>  <a href="http://habrahabr.ru/hub/raspberrypi/">Raspberry Pi new</a> <b>2 274</b> <br>  <a href="http://habrahabr.ru/hub/industrial_control_system/">Industrial programming new</a> <b>2 141</b> <br>  <a href="http://habrahabr.ru/hub/ecommerce_development/">Development for e-commerce new</a> <b>2 034</b> <br>  <a href="http://habrahabr.ru/hub/scada/">SCADA new</a> <b>1 856</b> <br>  <a href="http://habrahabr.ru/hub/laravel/">Laravel new</a> <b>1 799</b> <br>  <a href="http://habrahabr.ru/hub/growthhacking/">Growth Hacking new</a> <b>1 063</b> <br>  <a href="http://habrahabr.ru/hub/julia/">Julia new</a> <b>948</b> <br></div></div><br>  When I sorted out the hubs, interesting things came to light.  For example, I did not know that there are hubs with zero posts.  And there were as many as <b>4 of them</b> !  Moreover, each of them was <b>signed by more than 500 people</b> . <br><br>  Troika hubs - <a href="http://habrahabr.ru/hub/closet/">Chulan</a> , <a href="http://habrahabr.ru/hub/i_am_advertising/">I am PR</a> and <a href="http://habrahabr.ru/hub/webdev/">Web development</a> - lead both in the number of posts and in the number of readers.  The closet is on the 1st place because the administration deletes the articles there.  Next comes <a href="http://habrahabr.ru/hub/infosecurity/">Information Security</a> , which is wildly popular in Habr√©. <br><br>  Unfortunately, I did not understand why Hub <a href="http://habrahabr.ru/hub/ilhh/">Habrahabr</a> is an offtopic.  By the number of posts, he will be <b>in 13th place</b> , and his subscribers are <b>&gt; 80K</b> .  It turns out that writing on the site about the same site is a departure from the topic? <br><br>  Grieved that the <a href="http://habrahabr.ru/hub/java/">Java</a> hub is not as high as we would like. <br><br><h1>  Company rating </h1>  Although initially I planned to build a rating only for hubs, in the comments to the article they put forward a good idea - to do the same for companies.  The code did not have to be changed much. <br><br>  There are a lot of companies - 1343. Therefore, I will post only the TOP-30 and the last 10 companies.  That's an interesting point - for some reason, the Habra shows <i>All (1331)</i> , although my program counted them 1343 - and, in fact, this is correct.  If you count them by hand - multiply the number of pages 67 by 20 companies and even 3 - it turns out 1343. <br><br><div class="spoiler">  <b class="spoiler_title">By the number of subscribers</b> <div class="spoiler_text">  <a href="http://habrahabr.ru/company/yandex/">Yandex</a> <b>11 056</b> <br>  <a href="http://habrahabr.ru/company/google/">Google</a> <b>10,999</b> <br>  <a href="http://habrahabr.ru/company/microsoft/">Microsoft</a> <b>6 797</b> <br>  <a href="http://habrahabr.ru/company/intel/">Intel</a> <b>5 463</b> <br>  <a href="http://habrahabr.ru/company/apple/">Apple</a> <b>4 124</b> <br>  <a href="http://habrahabr.ru/company/opera/">Opera Software ASA</a> <b>3 873</b> <br>  <a href="http://habrahabr.ru/company/xakep/">Journal Hacker</a> <b>3 034</b> <br>  <a href="http://habrahabr.ru/company/zfort/">Zfort Group</a> <b>2 969</b> <br>  <a href="http://habrahabr.ru/company/JetBrains/">JetBrains</a> <b>2 946</b> <br>  <a href="http://habrahabr.ru/company/mailru/">Mail.Ru Group</a> <b>2 921</b> <br>  <a href="http://habrahabr.ru/company/beeline/">VimpelCom (Beeline)</a> <b>2 730</b> <br>  <a href="http://habrahabr.ru/company/ibm/">IBM</a> <b>2 655</b> <br>  <a href="http://habrahabr.ru/company/artlebedev/">Art. Lebedev Studio</a> <b>2 640</b> <br>  <a href="http://habrahabr.ru/company/Nokia/">Nokia</a> <b>2 542</b> <br>  <a href="http://habrahabr.ru/company/tm/">TM</a> <b>2 314</b> <br>  <a href="http://habrahabr.ru/company/gtv/">Simple Science</a> <b>2 222</b> <br>  <a href="http://habrahabr.ru/company/samsung/">Samsung</a> <b>2,222</b> <br>  <a href="http://habrahabr.ru/company/2gis/">2GIS</a> <b>1 992</b> <br>  <a href="http://habrahabr.ru/company/adobe/">Adobe</a> <b>1 878</b> <br>  <a href="http://habrahabr.ru/company/abbyy/">ABBYY</a> <b>1,847</b> <br>  <a href="http://habrahabr.ru/company/boxowerview/">Box Overview</a> <b>1 844</b> <br>  <a href="http://habrahabr.ru/company/vkontakte/">Vkontakte</a> <b>1 841</b> <br>  <a href="http://habrahabr.ru/company/hp/">HP</a> <b>1 828</b> <br>  <a href="http://habrahabr.ru/company/mosigra/">Mosigra</a> <b>1 772</b> <br>  <a href="http://habrahabr.ru/company/skype/">Skype</a> <b>1 718</b> <br>  <a href="http://habrahabr.ru/company/kaspersky/">Kaspersky Lab</a> <b>1,667</b> <br>  <a href="http://habrahabr.ru/company/asus/">ASUS Russia</a> <b>1 615</b> <br>  <a href="http://habrahabr.ru/company/sonyxperia/">Sony Mobile Communications</a> <b>1 572</b> <br>  <a href="http://habrahabr.ru/company/apps4all/">Apps4All</a> <b>1 541</b> <br>  <a href="http://habrahabr.ru/company/lingualeo/">LinguaLeo</a> <b>1,493</b> <br>  (...) <br>  <a href="http://habrahabr.ru/company/angie/">Angie</a> <b>5</b> <br>  <a href="http://habrahabr.ru/company/photoplay/">Photoplay</a> <b>5</b> <br>  <a href="http://habrahabr.ru/company/florist/">Florist.ru</a> <b>5</b> <br>  <a href="http://habrahabr.ru/company/platon/">PlatOn</a> <b>5</b> <br>  <a href="http://habrahabr.ru/company/polyvizor/">Polyvizor</a> <b>5</b> <br>  <a href="http://habrahabr.ru/company/dultonmedia/">Dulton Media LLC</a> <b>5</b> <br>  <a href="http://habrahabr.ru/company/bdlp/">bdl premium</a> <b>4</b> <br>  <a href="http://habrahabr.ru/company/golovachcourses/">GolovachCourses</a> <b>4</b> <br>  <a href="http://habrahabr.ru/company/timera_inc/">timera inc.</a>  <b>four</b> <br>  <a href="http://habrahabr.ru/company/slon/">Slon.ru</a> <b>3</b> <br></div></div><div class="spoiler">  <b class="spoiler_title">By the number of posts</b> <div class="spoiler_text">  <a href="http://habrahabr.ru/company/yandex/">Yandex</a> <b>1 012</b> <br>  <a href="http://habrahabr.ru/company/microsoft/">Microsoft</a> <b>828</b> <br>  <a href="http://habrahabr.ru/company/intel/">Intel</a> <b>491</b> <br>  <a href="http://habrahabr.ru/company/google/">Google</a> <b>422</b> <br>  <a href="http://habrahabr.ru/company/mailru/">Mail.Ru Group</a> <b>317</b> <br>  <a href="http://habrahabr.ru/company/apps4all/">Apps4All</a> <b>292</b> <br>  <a href="http://habrahabr.ru/company/opera/">Opera Software ASA</a> <b>234</b> <br>  <a href="http://habrahabr.ru/company/samsung/">Samsung</a> <b>215</b> <br>  <a href="http://habrahabr.ru/company/asus/">ASUS Russia</a> <b>209</b> <br>  <a href="http://habrahabr.ru/company/eset/">ESET NOD32</a> <b>200</b> <br>  <a href="http://habrahabr.ru/company/abbyy/">ABBYY</a> <b>197</b> <br>  <a href="http://habrahabr.ru/company/ibm/">IBM</a> <b>190</b> <br>  <a href="http://habrahabr.ru/company/hp/">HP</a> <b>188</b> <br>  <a href="http://habrahabr.ru/company/evernote/">Evernote</a> <b>186</b> <br>  <a href="http://habrahabr.ru/company/webnames/">Webnames.ru</a> <b>169</b> <br>  <a href="http://habrahabr.ru/company/muk/">MUK</a> <b>154</b> <br>  <a href="http://habrahabr.ru/company/Nokia/">Nokia</a> <b>142</b> <br>  <a href="http://habrahabr.ru/company/zfort/">Zfort Group</a> <b>134</b> <br>  <a href="http://habrahabr.ru/company/pt/">Positive Technologies</a> <b>131</b> <br>  <a href="http://habrahabr.ru/company/gtv/">Simple Science</a> <b>127</b> <br>  <a href="http://habrahabr.ru/company/epam_systems/">EPAM Systems</a> <b>127</b> <br>  <a href="http://habrahabr.ru/company/sonyxperia/">Sony Mobile Communications</a> <b>116</b> <br>  <a href="http://habrahabr.ru/company/croc/">CRIC</a> <b>115</b> <br>  <a href="http://habrahabr.ru/company/turbomilk/">Turbomilk</a> <b>103</b> <br>  <a href="http://habrahabr.ru/company/selectel/">Selectlel</a> <b>101</b> <br>  <a href="http://habrahabr.ru/company/regru/">REG.RU</a> <b>97</b> <br>  <a href="http://habrahabr.ru/company/boxowerview/">Box Overview</a> <b>96</b> <br>  <a href="http://habrahabr.ru/company/Ciklum/">Ciklum</a> <b>96</b> <br>  <a href="http://habrahabr.ru/company/smartgadget/">SmartGadget</a> <b>94</b> <br>  <a href="http://habrahabr.ru/company/JetBrains/">JetBrains</a> <b>87</b> <br>  (...) <br>  <a href="http://habrahabr.ru/company/hotsupport/">HotSupport</a> <b>-2</b> <br>  <a href="http://habrahabr.ru/company/worksection/">Worksection</a> <b>-2</b> <br>  <a href="http://habrahabr.ru/company/dalee/">Next</a> <b>-2</b> <br>  <a href="http://habrahabr.ru/company/mfisoft/">MFI Soft</a> <b>-2</b> <br>  <a href="http://habrahabr.ru/company/nvidia/">NVIDIA Corporation</a> <b>-2</b> <br>  <a href="http://habrahabr.ru/company/deepartment/">DeepArtment</a> <b>-2</b> <br>  <a href="http://habrahabr.ru/company/rutube/">RuTube</a> <b>-2</b> <br>  <a href="http://habrahabr.ru/company/88005554448/">WANTED PHONE</a> <b>-3</b> <br>  <a href="http://habrahabr.ru/company/8812/">Studio 8812</a> <b>-3</b> <br>  <a href="http://habrahabr.ru/company/590/">590.com.ua</a> <b>-3</b> <br></div></div><br>  To begin with, I was surprised by the fact that there are 2 types of absence of the company - ‚Äúthe company is deactivated‚Äù and ‚Äúthe page was not found‚Äù.  Although I repeat - all companies were taken from the list.  The first type I marked the number of posts -2.  There are quite a few such companies.  And three companies, whose name consists of numbers - lead to the "page not found."  I marked them -3.  Such are the cases.  Also full of companies with zero posts - for example, <a href="http://habrahabr.ru/company/apple/">Apple</a> .  I wonder why creating an account for the company and not writing from it at all? <br><br>  Actually, if from those 1343 registered on Habr√©, delete non-existent and companies without posts, only 321 will remain. Such are the cases. <br><br><h1>  Development </h1>  For a very long time I tried to understand <b>Habrahabr Api</b> .  As it turned out, it is closed and is still in the process of development.  However, in correspondence with <i>support@habrahabr.ru</i> I was told that they have nothing against parsing their pages.  Actually, this is exactly how habraklients work for Android (at the moment). <br><br>  When it comes to projects "for myself", I choose my beloved Java.  This time she didn‚Äôt let me down either - the <b>JSoup</b> library allowed <b>me</b> to get the necessary data from the HTML page in a few lines.  But let's first discuss how the hubs are arranged. <br><br>  Pages with hubs are located at <i>habrahabr.ru/hubs/pageN/</i> , where N is a number from 1 onwards.  Therefore, if we want to get a complete list of all the hubs - we need to download and analyze these pages before they run out.  On each page there is a list of hubs.  The format of the list item is fairly simple and is easily parsed.  It looks like this: <br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hub "</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hub_50"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"habraindex"</span></span></span><span class="hljs-tag">&gt;</span></span>1 280,58<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"info"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"title"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://habrahabr.ru/hub/infosecurity/"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"profiled_hub"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" "</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"buttons"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mini blue subscribeHub"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"50"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mini hidden unsubscribeHub"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"50"</span></span></span><span class="hljs-tag"> "=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"clear"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stat"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://habrahabr.ru/hub/infosecurity/subscribers/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"members_count"</span></span></span><span class="hljs-tag">&gt;</span></span>91741 <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span>, <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://habrahabr.ru/hub/infosecurity/posts/"</span></span></span><span class="hljs-tag">&gt;</span></span>3385 <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  Let's write a method that returns us a <b>list of all the hubs</b> on the site: <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> List&lt;Hub&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getAllHubs</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ ArrayList&lt;Hub&gt; fullHubsList = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); String urlHubsIncomplete = <span class="hljs-string"><span class="hljs-string">"http://habrahabr.ru/hubs/page"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> pageNum = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { String urlHubs = urlHubsIncomplete + pageNum; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { Document doc = Jsoup.connect(urlHubs).get(); Elements hubs = doc.select(<span class="hljs-string"><span class="hljs-string">".hub"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (hubs.size() == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (Element hubElem : hubs) { Hub hub = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Hub(hubElem); fullHubsList.add(hub); } pageNum++; } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (Exception e) { e.printStackTrace(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fullHubsList; }</code> </pre> <br>  We spin an infinite while loop, forming a new URL with each iteration.  Then, using <i>Jsoup.connect (urlHubs) .get (),</i> we directly get the HTML document with the list of hubs and their parameters.  As it is easy to see - a <i>div</i> with information about the hub has a class <i>hub</i> - and by calling <i>doc.select (". Hub")</i> , we get a list of these elements.  If its size is zero, then we have passed the last page and have already analyzed all the hubs - then we exit the cycle. <br><br>  Next, we go through all the hub elements and for each we create an object of type <i>Hub</i> , passing our <i>org.jsoup.nodes.Element</i> into the constructor.  It contains the HTML code of the same format as above.  Now <b>let's abstract</b> from everything.  For this, there is the PLO.  Before us there is only that piece of HTML presented above, and the class in which you need to push it.  We write a frame for our class: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.jsoup.nodes.Element; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Hub</span></span></span><span class="hljs-class"> </span></span>{ String title; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> posts; <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> profiled; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> membersCount; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> habraindex; String url; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hub</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Element hubElem)</span></span></span><span class="hljs-function"> </span></span>{ } }</code> </pre> <br>  Let's write a constructor.  To begin with we will make the simplest - we will receive the data from a heading tag.  To do this, we first extract the view div itself. <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"title"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://habrahabr.ru/hub/infosecurity/"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"profiled_hub"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" "</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Parsim through <br><pre> <code class="java hljs">Element titleDiv = hubElem.select(<span class="hljs-string"><span class="hljs-string">".title"</span></span>).get(<span class="hljs-number"><span class="hljs-number">0</span></span>); Element tagA = titleDiv.getElementsByTag(<span class="hljs-string"><span class="hljs-string">"a"</span></span>).get(<span class="hljs-number"><span class="hljs-number">0</span></span>); title = tagA.text(); url = tagA.attr(<span class="hljs-string"><span class="hljs-string">"href"</span></span>); profiled = (hubElem.select(<span class="hljs-string"><span class="hljs-string">".profiled_hub"</span></span>).size() != <span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre> <br>  Next, we want to parse the number of subscribers and posts ‚Äî the actual parameters by which we will sort.  But we immediately encounter the first problem - the tag contains the string <b>"91741 subscriber"</b> , which we cannot just take and convert to Integer - it contains letters!  This is where <a href="http://ru.wikipedia.org/wiki/%25D0%25A0%25D0%25B5%25D0%25B3%25D1%2583%25D0%25BB%25D1%258F%25D1%2580%25D0%25BD%25D1%258B%25D0%25B5_%25D0%25B2%25D1%258B%25D1%2580%25D0%25B0%25D0%25B6%25D0%25B5%25D0%25BD%25D0%25B8%25D1%258F">regular expressions</a> come to the rescue.  We quickly write a clever method that gets a string and cuts everything out of it except numbers, and also converts the result to an int.  <i>\ D</i> is NOT a digit, but <i>+</i> - ‚Äúoccurs 1 or more times.‚Äù  Those.  we in this case replace the letters with emptiness. <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getNumbers</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String str)</span></span></span><span class="hljs-function"> </span></span>{ String numbers = str.replaceAll(<span class="hljs-string"><span class="hljs-string">"\\D+"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Integer.valueOf(numbers); }</code> </pre> <br>  Now we can receive our values ‚Äã‚Äãwith peace of mind: <br><pre> <code class="java hljs">String membersCountFullStr = hubElem.select(<span class="hljs-string"><span class="hljs-string">".members_count"</span></span>).get(<span class="hljs-number"><span class="hljs-number">0</span></span>).text(); membersCount = getNumbers(membersCountFullStr); String statFullStr = hubElem.select(<span class="hljs-string"><span class="hljs-string">".stat"</span></span>).get(<span class="hljs-number"><span class="hljs-number">0</span></span>).getAllElements().get(<span class="hljs-number"><span class="hljs-number">2</span></span>).text(); posts = getNumbers(statFullStr);</code> </pre> <br>  In principle, this could be stopped, but for the sake of interest I decided to extract all possible information about the hub.  There arose a very interesting second problem, which will be the <b>highlight of the article</b> .  How to parse habra index? <br><br>  For starters, you should replace the comma with a period and remove extra spaces.  But this is not enough!  The parser still gives an error if you copy and paste the habrax into the code - <i>Double.valueOf ("- 1.11")</i> .  And if you manually enter the same number - everything is ok.  And visually in my <a href="http://www.jetbrains.com/idea/">IDEA</a> they look absolutely identical! <br><br>  It turns out that habra designers simply used <a href="http://ru.wikipedia.org/wiki/%25D0%25A2%25D0%25B8%25D1%2580%25D0%25B5">dash</a> instead of <a href="http://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B8%25D0%25BD%25D1%2583%25D1%2581">minus</a> - with another character code, and the parser, of course, does not eat it.  Take note.  The essence of the problem is <a href="http://ideone.com/hHbLiF">as follows</a> : <br><pre> <code class="java hljs">System.out.println((<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)<span class="hljs-string"><span class="hljs-string">'-'</span></span>);<span class="hljs-comment"><span class="hljs-comment">//45 System.out.println((int)'‚Äì');//8211</span></span></code> </pre> <br>  Sometime in my article on <a href="http://habrahabr.ru/post/203796/">Cunning Java Tasks,</a> I looked at the catch when you can‚Äôt distinguish L from the little one. Actually, now I‚Äôve run into a similar problem. <br><br>  Therefore, the code for extracting Habrax will be a little more complicated: <br><pre> <code class="java hljs">String rawHabraIndex = hubElem.select(<span class="hljs-string"><span class="hljs-string">".habraindex"</span></span>).get(<span class="hljs-number"><span class="hljs-number">0</span></span>).text();<span class="hljs-comment"><span class="hljs-comment">//1 265,92 char minus = 45;//'-' char dash = 8211;//'‚Äì' String niceHabraIndex = rawHabraIndex.replaceAll(" ", "").replace(",", ".").replace(dash,minus);//1266.72 habraindex = Float.valueOf(niceHabraIndex);</span></span></code> </pre> <br>  Next, we write a comparator on the posts as a nested static class for Hub <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ComparePosts</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Comparator</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Hub</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">compare</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Hub o1, Hub o2)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> o2.posts - o1.posts; } }</code> </pre> <br>  And sort by it somewhere in main <br><pre> <code class="java hljs">List&lt;Hub&gt; hubs = getAllHubs(); Collections.sort(hubs, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Hub.ComparePosts());</code> </pre> <br>  Everything, the task is completed!  The number of subscribers is similar.  Next, I wrote code that displays two lists in the console in such a way that they can be immediately inserted into the article - and did it at the beginning. <br><br>  It takes about 10 seconds to receive all the hubs.  Source code can be <a href="">downloaded here</a> .  We compile and run it like this, not forgetting to install <a href="http://jsoup.org/">Jsoup</a> and replace the path with yours: <br><pre> <code class="hljs tex">javac -cp .;"C:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">prog</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lib</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">jsoup</span></span></span></span>-1.7.3.jar" com/kciray/habrahubs/Main.java java -cp .;"C:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">prog</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lib</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">jsoup</span></span></span></span>-1.7.3.jar" com.kciray.habrahubs.Main</code> </pre> <br>  In addition, I redid the same classes to collect statistics on companies.  There, it would seem, everything is the same - however, to find out the number of posts in the company's blog, we had to upload a page for each separately - and it took about 5 minutes.  I did a multi-threaded download to speed up.  Found that the habr does not allow to load more than 5-7 pages at a time.  Actually, I serialized <i>ArrayList &lt;CompanyBlog&gt;</i> and recorded.  This file for 100 kilobytes lies <a href="">with the second source code</a> - you can work with it. <br><br>  If you are interested in the <b>full rating</b> and in a <b>more compact form</b> - I posted it <a href="http://kciray.com/files/htm/fullhabrastat.html">in the form of a web page</a> . </div><p>Source: <a href="https://habr.com/ru/post/211775/">https://habr.com/ru/post/211775/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../211763/index.html">IT certification from an employer's perspective</a></li>
<li><a href="../211765/index.html">The first version of the Cppcheck integration module in Visual Studio with open source has been released.</a></li>
<li><a href="../211767/index.html">What bread crumbs do online stores need (68% of websites make mistakes)?</a></li>
<li><a href="../211771/index.html">Athletes in Sochi allowed to use Apple devices</a></li>
<li><a href="../211773/index.html">Image search by fragment</a></li>
<li><a href="../211777/index.html">Personalization: debunking myths</a></li>
<li><a href="../211779/index.html">Open Terminal Client - some history</a></li>
<li><a href="../211783/index.html">Applications open for Summer Research Microsoft Research</a></li>
<li><a href="../211787/index.html">Workplace Popcorn: How to become Super-productive working for yourself</a></li>
<li><a href="../211789/index.html">Visualization of floor plans or geographic information systems (GIS) in real estate</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>