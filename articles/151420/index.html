<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Simple way to protect from classic HTTP DDoS</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This solution allows you to calculate any bots, except for those that completely mimic the browser. 

 How it works 
 The bot requests a page, for exa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Simple way to protect from classic HTTP DDoS</h1><div class="post__text post__text-html js-mediator-article">  This solution allows you to calculate any bots, except for those that completely mimic the browser. <br><br><h4>  How it works </h4><br>  The bot requests a page, for example <a href="http://habrahabr.ru/search/">habrahabr.ru/search</a> .  The bot does not know how to load pictures, scripts, css, etc. along with the page. So the request to / search / will be displayed in the log and that's it. <br>  If a live person comes to <a href="http://habrahabr.ru/search/">habrahabr.ru/search</a> through a browser, then along with / search / a lot of pictures, scripts, css, etc. will go into the log. <br><a name="habracut"></a><br><h2>  Customization </h2><br><h4>  Mysql </h4><br>  /etc/my.cnf <br><pre><code class="bash hljs">[mysqld] <span class="hljs-built_in"><span class="hljs-built_in">local</span></span>-infile=1 <span class="hljs-comment"><span class="hljs-comment"># load data #    : max_heap_table_size=1024M tmp_table_size=1024M</span></span></code> </pre> <br>  Under the root: <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> <span class="hljs-string"><span class="hljs-string">`mysql`</span></span>.<span class="hljs-string"><span class="hljs-string">`user`</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> <span class="hljs-string"><span class="hljs-string">`File_priv`</span></span> = <span class="hljs-string"><span class="hljs-string">'Y'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-string"><span class="hljs-string">`user`</span></span>.<span class="hljs-string"><span class="hljs-string">`Host`</span></span> = <span class="hljs-string"><span class="hljs-string">'localhost'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-string"><span class="hljs-string">`user`</span></span>.<span class="hljs-string"><span class="hljs-string">`User`</span></span> = <span class="hljs-string"><span class="hljs-string">'__'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">flush</span></span> <span class="hljs-keyword"><span class="hljs-keyword">privileges</span></span>;</code> </pre><br><h4>  sysctl </h4><br>  <a href="http://www.opennet.ru/base/sys/sysctl_linux.txt.html">sysctl.conf in detail with comments (linux)</a> <br><br><h4>  Ram drive </h4><br>  <a href="http://ru.wikipedia.org/wiki/RAM_drive">Ram drive is</a> needed to speed up the work with the nginx logs. <br>  Add to the / etc / fstab file <br><pre> <code class="bash hljs">tmpfs /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/ram_disk tmpfs size=1024m 0 0</code> </pre><br>  Then <br><pre> <code class="bash hljs">mkdir /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/ram_disk mount -t tmpfs -o size=1024m tmpfs /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/ram_disk</code> </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Algorithm </h2><br><br><h4>  1. Choice trap </h4><br>  We take on the site any static and inconspicuous file (picture, css, js, etc.), loaded when you call any page of the dynamics, for example <a href="">habrahabr.ru/styles/fontello/css/habr.css</a> <br>  This file needs to be made uncacheable, i.e.  Add a random parameter, for example &lt;? php echo '/styles/fontello/css/habr.css?'. rand (99999999)?&gt;. <br>  For reference, by default, opera puts images in the local cache for 1 hour, css / js for 5 minutes. <br><br><h4>  2. We rule nginx config </h4><br><pre> <code class="nginx hljs"><span class="hljs-comment"><span class="hljs-comment">#      log_format ddos_log '$remote_addr\t$msec\t$status'; #   location =/styles/1347283218/highlight.css { access_log /var/log/ram_disk/hook_access.log ddos_log; } #    location ~* ^.+\.(class|htc|bmp|cur|jpg|jpeg|gif|png|svg|xls|doc|xhtml|js|css|mp3|ogg|mpe?g|avi|flv|zip|gz|bz2?|rar|ico|txt|jar|swf)$ { access_log off; } #  location / { access_log /var/log/ram_disk/dynamic_access.log ddos_log; }</span></span></code> </pre><br><br><h4>  3. Create tables for logs </h4><br>  ENGINE = MEMORY - to make it faster. <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> <span class="hljs-string"><span class="hljs-string">`dinamic_log`</span></span> ( <span class="hljs-string"><span class="hljs-string">`inc`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">bigint</span></span>(<span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> AUTO_INCREMENT, <span class="hljs-string"><span class="hljs-string">`remote_addr`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-string"><span class="hljs-string">'0'</span></span>, <span class="hljs-string"><span class="hljs-string">`time_local`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-string"><span class="hljs-string">'0'</span></span>, <span class="hljs-string"><span class="hljs-string">`status`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-string"><span class="hljs-string">'0'</span></span>, PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-string"><span class="hljs-string">`inc`</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> <span class="hljs-string"><span class="hljs-string">`remote_addr`</span></span> (<span class="hljs-string"><span class="hljs-string">`remote_addr`</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> <span class="hljs-string"><span class="hljs-string">`time_local`</span></span> (<span class="hljs-string"><span class="hljs-string">`time_local`</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">ENGINE</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">MEMORY</span></span> AUTO_INCREMENT=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CHARSET</span></span>=latin1</code> </pre><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> <span class="hljs-string"><span class="hljs-string">`hook_log`</span></span> ( <span class="hljs-string"><span class="hljs-string">`inc`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">bigint</span></span>(<span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> AUTO_INCREMENT, <span class="hljs-string"><span class="hljs-string">`remote_addr`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-string"><span class="hljs-string">'0'</span></span>, <span class="hljs-string"><span class="hljs-string">`time_local`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-string"><span class="hljs-string">'0'</span></span>, <span class="hljs-string"><span class="hljs-string">`status`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-string"><span class="hljs-string">'0'</span></span>, PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-string"><span class="hljs-string">`inc`</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> <span class="hljs-string"><span class="hljs-string">`remote_addr`</span></span> (<span class="hljs-string"><span class="hljs-string">`remote_addr`</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> <span class="hljs-string"><span class="hljs-string">`time_local`</span></span> (<span class="hljs-string"><span class="hljs-string">`time_local`</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">ENGINE</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">MEMORY</span></span> AUTO_INCREMENT=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CHARSET</span></span>=latin1</code> </pre><br><br>  The table where we put the ip search bots <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> <span class="hljs-string"><span class="hljs-string">`white`</span></span> ( <span class="hljs-string"><span class="hljs-string">`remote_addr`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">bigint</span></span>(<span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-string"><span class="hljs-string">`remote_addr`</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">ENGINE</span></span>=MyISAM <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CHARSET</span></span>=latin1</code> </pre><br>  Table locked <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> <span class="hljs-string"><span class="hljs-string">`black`</span></span> ( <span class="hljs-string"><span class="hljs-string">`remote_addr`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">bigint</span></span>(<span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">`time_local`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-string"><span class="hljs-string">'0'</span></span>, PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-string"><span class="hljs-string">`remote_addr`</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> <span class="hljs-string"><span class="hljs-string">`time_local`</span></span> (<span class="hljs-string"><span class="hljs-string">`time_local`</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">ENGINE</span></span>=MyISAM <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CHARSET</span></span>=latin1</code> </pre><br><br><h4>  4. The main script </h4><br>  For ease of understanding written in php, because  almost everyone knows this language.  And error handling is also removed - for ease of understanding. <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//    $dinamic_log = $argv[1]; //    $hook_log = $argv[2]; // -     ,    . $r_stop = $argv[3]; //      (   ) $load_time = $argv[4]; //         $wait_sec = $argv[5]; function load_log($log, $table) { $tmp = '/var/log/ram_disk/tmp_ddos_file'; //      copy ($log, $tmp); //   file_put_contents($log, "", LOCK_EX); //     mysql_query('LOAD DATA CONCURRENT INFILE "'.$tmp.'" IGNORE INTO TABLE '.$table.' FIELDS TERMINATED BY \'\t\' (`remote_addr`, `time_local`, `status`) SET `remote_addr` = INET_ATON(`remote_addr`)'); //    unlink($tmp); } //     while (true) { //    load_log($dinamic_log, 'dinamic_log'); //    load_log($hook_log, 'hook_log'); //  . nginx    $status,  200  304  . $res = mysql_query('SELECT dinamic_log.remote_addr FROM `dinamic_log` WHERE (`status` = 200 OR `status` = 304) AND`remote_addr` NOT IN (SELECT `remote_addr` FROM `hook_log`) AND`remote_addr` NOT IN (SELECT `remote_addr` FROM `white`) GROUP BY `remote_addr` HAVING count(inc)&gt;'.$r_stop); while ($row = mysql_fetch_array($res)) { //   ip mysql_query('INSERT INTO black(`remote_addr`) VALUES ('.$row['remote_addr'].')'); //  ip switch (PHP_OS) { case "FreeBSD": system('/sbin/route add -host '.$row['remote_addr'].' 127.0.0.1 -blackhole'); break; case "Linux": system('/sbin/ip route add blackhole '.long2ip($row['remote_addr'])); break; } } //      mysql_query('DELETE FROM `log` WHERE `time_local` &lt; (UNIX_TIMESTAMP() - '.$load_time.')'); //  sleep($wait_sec); }</span></span></code> </pre><br>  Run: <br><pre> <code class="bash hljs">php ddoshook.php /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/ram_disk/dynamic_access.log /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/ram_disk/hook_access.log 5 300 3</code> </pre><br><br><h4>  5. Shattered </h4><br><pre> <code class="php hljs">$block_time = $argv[<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-comment"><span class="hljs-comment">//     ip. $res = mysql_query('SELECT `remote_addr` FROM black WHERE time_local &lt; (UNIX_TIMESTAMP() - '.$block_time.')'); while ($row = mysql_fetch_array($res)) { //  ip switch (PHP_OS) { case "FreeBSD": system('/sbin/route delete '.$row['remote_addr']); break; case "Linux": system('/sbin/ip route delete '.long2ip($row['remote_addr'])); break; } }</span></span></code> </pre><br>  We put in crowns <br><pre> <code class="bash hljs">* * * * * /usr/bin/php unban.php 86400</code> </pre><br><br>  That's all, bots are banned, people are skipped. <br><br>  In the following releases: <br><ul><li>  How to withstand syn / udp / icmp flood on the server and channel. </li><li>  How to accurately identify search bots, not paying attention to user agents. </li><li>  7 methods that helped repel more than 1000 http ddos ‚Äã‚Äãattacks. </li><li>  How to get professional protection from ddos-attacks, paying only $ 5. </li></ul><br><br>  <b>upd</b> <br><h4>  How to find IP search bots? </h4><br><ol><li>  We are looking for an AS of the required search engine, for example, here: <a href="http://bgp.potaroo.net/cidr/autnums.html">bgp.potaroo.net/cidr/autnums.html</a> </li><li>  We get the IP addresses for AS: <a href="">stat.ripe.net/data/announced-prefixes/data.json?resource=AS15169</a> </li></ol><br>  AS and IP lists need to be constantly updated. <br><br>  <b>upd 2</b> <br><br>  OS: FreeBSD 8.3 <br>  CPU: E5-2620 2.00GHz <br><br><h4>  Test 1 </h4><br>  rows (dinamic_log): 100,000 (100,000 http requests to site dynamics in 3 seconds) <br>  rows (hook_log): 1000 (1000 legitimate requests from users in 3 seconds) <br><br>  # php /root/scripts/php/imgtest/ddos_hook.php /tmp/d20.log /tmp/h20.log 5 300 3 <br>  LOAD DATA time elapsed: 0.29 sec. <br>  LOAD DATA time elapsed: 0.003 sec. <br>  select time elapsed: 0.017 sec. <br>  rows (ban): 1800 <br>  full cicle time elapsed: 0.313 sec. <br><br><h4>  Test 2 </h4><br>  rows (dinamic_log): 1,000,000 (1 million http requests to site dynamics in 3 seconds) <br>  rows (hook_log): 10,000 (10,000 legitimate requests from users in 3 seconds) <br><br>  # php /root/scripts/php/imgtest/ddos_hook.php /tmp/d2.log /tmp/h2.log 5 300 3 <br>  LOAD DATA time elapsed: 2.878 sec. <br>  LOAD DATA time elapsed: 0.023 sec. <br>  select time elapsed: 0.501 sec. <br>  rows (ban): 12402 <br>  full cicle time elapsed: 3.54 sec. <br><br>  <b>PS</b> <br>  The solution described in the article is experimental.  Use at your own risk </div><p>Source: <a href="https://habr.com/ru/post/151420/">https://habr.com/ru/post/151420/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../151414/index.html">Skype switches to new Opus codec</a></li>
<li><a href="../151416/index.html">Top 10 Mac OS X Top Tips</a></li>
<li><a href="../151417/index.html">Too much information</a></li>
<li><a href="../151418/index.html">MySQL Query Killer - DBMS Overload Fuse</a></li>
<li><a href="../151419/index.html">Elastic MapReduce. Distributed implementation</a></li>
<li><a href="../151421/index.html">Compressed Prefix Trees</a></li>
<li><a href="../151422/index.html">Fujifilm stops film production</a></li>
<li><a href="../151423/index.html">Eviterra.com - smart booking form and pleasant things.</a></li>
<li><a href="../151424/index.html">Hybrid "solar" system for producing hydrogen for fuel cells</a></li>
<li><a href="../151425/index.html">What will people say if you give an iPhone 4S and say that it is the 5th</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>