<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Again, February seventeenth, we are preparing a revolutionary revolver for satellite navigation.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today, emerging industries of air and ground unmanned vehicles require reliable, high-precision positioning. Applications on mobile devices also requi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Again, February seventeenth, we are preparing a revolutionary revolver for satellite navigation.</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/files/d23/193/9a9/d231939a913e41618aa9188746161072.jpg" alt="image"></div><br><br>  Today, emerging industries of air and ground unmanned vehicles require reliable, high-precision positioning.  Applications on mobile devices also require higher positioning accuracy.  These funds should be small-sized, low-consuming and cheap.  Until now, there was a gap between these new requirements and product characteristics and prices.  The giants of the navigation industry did not want or could not offer products with the required properties. <br><br>  Now the situation is beginning to change rapidly. <br><a name="habracut"></a><br>  Roughly speaking, positioning is accurate to centimeters.  This problem can be solved in the local zone, that is, with the support of some base stations, or without support, that is, on a global scale.  Each of these tasks can be solved in real time or by recording, that is, in pending mode.  The main problem that is overcome on the path to accuracy, physical - the instability of the electromagnetic wave delay in the <a href="http://www.navipedia.net/index.php/Ionospheric_Delay">ionosphere</a> .  To compensate for the ionospheric error, which reaches two meters, they use either simultaneous reception of a satellite signal at <a href="http://www.navipedia.net/index.php/Ionosphere-free_Combination_for_Dual_Frequency_Receivers">different frequencies</a> , or corrections from base stations when receiving at the <a href="http://www.navipedia.net/index.php/Real_Time_Kinematics">same frequency</a> .  The main advantage of a dual-frequency receiver in the absence of the need for a network of base stations.  Naturally, it is possible to mix technologies, that is, for example, a two-frequency system using corrections from a base station, where two frequencies are used to accelerate the convergence of the navigation solution and to increase its reliability as satellite signals become available. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The hardware of high-precision receivers, including multi-frequency and multi-system receivers, has been tested for decades and its cost is low.  Big kilobaksy, which today are dual-frequency receivers from market leaders, are mainly obtained for the developed software. <br><br>  Despite the fact that the main complexity of high-precision equipment lies in the software plane, it all started with hardware simplification.  The Minsk company NTLab has developed and launched into serial production the NT1065 microcircuit - a multi-system multi-frequency radio receiver.  Roughly speaking, this thing turns signals from one or several antennas, up to four, into digital samples.  It covers all existing and planned frequency ranges of satellite navigation systems.  These systems and frequencies are listed in detail <a href="http://www.navipedia.net/index.php/GNSS_signal">here</a> . <br><br><img src="https://habrastorage.org/files/1c7/a1e/9d4/1c7a1e9d4a67437996984032faefe606.png"><br><br>  Option frequency plan <a href="http://www.ntlab.com/IP/NT1065/NT1065_LE_DS_v2.06.pdf">NT1065</a> <br><br>  After the introductory part of the examples of new high-precision positioning tools, I will tell you about the experience of designing a device on the NT1065. <br><br><div class="spoiler">  <b class="spoiler_title">This part about different firms may seem boring.</b>  <b class="spoiler_title">Carefully, there are no pictures there.</b> <div class="spoiler_text">  As usual, first start-up companies climbed into this adventure.  I do not know who exactly was the first of these two, I will name in the order in which I noticed their announcements.  The first one is Swift Navigation, a start-up company, but already fairly generous.  She is involved in RTK solutions (RTK is a high-precision real-time positioning system using base stations), started on Kickstarter with an open-source single-frequency RTK device.  Today they offer the Piksi Multi device, which works in the L1 and L2 ranges and provides centimeter accuracy for only $ 595.  For an amount of less than $ 2,000, you can take two sets with RTK antennas and a communication system for transmitting amendments.  I think this is a big concern for market giants. <br><br>  The second company is Tersus GNSS.  The receiver boards do not look different from the Swift Navigation boards, the same FPGA Zync is viewed.  There are also sets with antennas and a communication system.  Here are more colorful descriptions of new features that equipment provides for unmanned tractors and copters.  They have a receiver version with two antennas for building goniometric high-precision receivers.  Such receivers accurately calculate the true course of the vehicle, which is not always necessary, but it is very difficult to calculate it by other means. <br><br>  Thus, these two companies are slowly eating off a piece of the pie of the giants of the industry, while they rest on their laurels.  Both firms did not disclose the radio microchip used in the technology and made such a rapid entry into the giants' markets, but in terms of the dimensions of the devices it can be understood that this is the NT1065. <br><br>  A few months later, the industry giants realized that if they were already developing something revolutionary, then it was time to announce it all, otherwise everyone would simply assume that they had left in an unknown direction and would stop looking at their website. <br><br>  Trimble has announced the Catalyst product.  They immediately grasped the essence of the revolutionary process - there will be less and less opportunities to receive profits on iron.  Therefore, they made the positioning accuracy of the service, service.  It will be enough for the user to buy a piece of iron for $ 350 and pay a monthly fee for accuracy when it is needed.  From meter accuracy for 40 bucks from a month to a centimeter for 350. At the same time, their piece of iron already contains an antenna and is connected directly to a mobile device via USB.  Supposedly the piece of iron only transmits the digitized signal, and the smartphone or tablet is executed by a software receiver (SDR - software defined receiver).  It is not clear how they do it, a large computer shuts up from the navigation SDR.  They write about some special mobile devices on which their software should work.  One expert on GPU computing said that it could be OpenCL on mobile devices (I didn‚Äôt find much information, if someone knows, please share).  But this is a real revolution!  Though they are not the first, they have much more chances to get primacy with such a thing than the first two. <br><br>  Trimble surely has its own solutions for a radio receiving chip, but it is quite possible that it was more profitable for them to install the NT1065 too.  Although there is money to count, it turns out that it would be cheaper to make such a RPU on a payload.  But laziness is the engine of progress.  Everything stood still, until the chip appeared, which is very easy to put in the cart. <br></div></div><br>  We proceed to the manufacture of the main weapon of the revolution.  The main ingredients are two - <s>alcohol and water</s> NT1065 and USB3 controller CYUSB3014.  With the latter, many encountered on all sorts of SDR-cards, and if they did any high-speed input into the computer.  The piece is not very simple for a beginner, but if you look into it, then you can connect any sources of speed stream to the computer.  About her, if necessary, the reader can search the net.  The main thing for this venture is the GPIFII interface of this controller, which allows connecting high-speed stream sources without additional components. <br><br>  Consider what kind of beast is NT1065?  What horizons does the developer discover for himself, having such a thing?  How easy is it to learn? <br><br>  In general, this is such a thing: <br><br><img src="https://habrastorage.org/files/0f3/cd6/c2c/0f3cd6c2ca024da8ab03d8ad9330f15d.png"><br><br>  Four channels of reception with separate inputs and two local oscillator, which can flexibly record channel mixers.  You can output signals in digital and analog form.  Thus, it is possible to implement both the tuning of each channel to its own signal (with some restrictions) and the synchronous reception of one signal to spaced antennas or an antenna array. <br><br>  Now go through the details.  At first glance, the power supply is strangely made - only one leg of the chip.  But with the layout, this oddity turned into a pumpkin advantage.  Although these guys recommend four layers in datashit, I easily folded in two!  With any more or less leggy bourgeois microcircuit is so I could not. <br><br><img src="https://habrastorage.org/files/1a5/cc2/821/1a5cc28213e84b8d920f652677a13295.png"><br><br>  Further, they in the datasheet recommend dividing the lands of each channel so that the transient attenuation is greater.  I was almost killed and made such an option, but I did not see a significant increase in the junction of the channels.  Either measured wrong, or did wrong.  In general, the best is the enemy of the good. <br><br>  So, the power is from 2.8 to 3.3 Volts, the current is only 100 mA maximum.  The truth is to choose a power source with low noise.  DCDC is not suitable here.  The reference generator also needs a low-noise, with good frequency stability and temperature-compensated.  Standard settings support 10 MHz and 24.84 MHz.  To use a different nominal frequency opornika, you need to contact the developers. <br><br>  The output interface is also very simple - clocks and data.  There are only two ADC digits in each channel, a sign and a magnitude that put me into a state of swagger for a short time (at the last job I got used to 16 digits), but this turned out to be quite enough.  But the sampling rate is up to 100 MHz.  We get clocks on the clock input of the GPIFII interface of the CYUSB3014 controller, and data on the data input.  It is also necessary to get SPI to control and carefully, under the guidance of the datasheet, do the wiring and impedance matching at the input of the RPU and the revolver is ready. <br><br><img src="https://habrastorage.org/files/eb0/e3e/650/eb0e3e6507524fd98349ae67476bc766.png"><br><br>  NTLab has a complete scheme for this board. <br><br>  With software it is even easier, to take a stream from Cypress FX3 on any OS is very simple: you can use libusb for Windows and Linux.  You can also use Cypress native driver for Windows - no difference. <br><br>  At the moment I have a set of software (laid out on GitHub, look for the word NT1065). <br><br>  The main tool is a pair of programs.  One of them is able to reliably register a continuous signal from a chip to a disk, and the second one is suitable for diagnostics and demonstrations. <br><br>  It is possible to see the spectrum of the input signal (you can give a signal from the generator, who has). <br><br><img src="https://habrastorage.org/files/f8b/8ff/e30/f8b8ffe300be472a85ed898aa723dbe7.png"><br><br>  After connecting the antenna using simple methods, you can detect satellite signals. <br><br><img src="https://habrastorage.org/files/d37/c00/e94/d37c00e9448e4789b37ed8984de1f6a5.png"><br><br>  And not only GPS, but also GLONASS at L1 frequency.  And even GLONASS at L2 frequency!  Unlike the Americans, ours transmit open source standard precision on L2 too. <br><br>  So that you can choose GPS / GLONASS L1 / L2 directly from the program and see the correlation - this is what I‚Äôm going to integrate the other day, there‚Äôs half an hour to do (now I correct the code for each case with handles). <br><br>  Now we are working on the Android version. <br><br>  Now your possibilities to conquer the world are limited only by your ability to invent and realize a revolutionary satellite navigation device! <br><br>  PS <br><br>  This article is a continuation of the <a href="https://habrahabr.ru/post/320206/">previous one</a> in the sense that here the means that will be used to combat the interference with navigation receivers are considered, which I hope to write about soon on Habr√©. <br><br>  What remains unclear to me personally: how does Trimble do this navigation SDR on a mobile phone?  At first I thought it was incredible, but then they sent me a <a href="http://kyokojap.myweb.hinet.net/gpu_gflops/">sign</a> indicating the performance of modern mobile computing devices.  Therefore, I want to ask people about OpenCL-like technologies for mobile devices.  Is there someone who used them?  I found theoretical performance in parrots, but are there any tests of mobile GPUs in such tasks as, for example, FFT? <br><br>  I apologize, the previous paragraph about Trimble and OpenCL may be incomprehensible, because the text about Trimble is higher under the spoiler, as boring as possible.  If anyone was interested, read at the top. <br><br>  Well, the poster is quite aggressive and does not exactly correspond to the period in the history of Russia indicated in the title.  What can't you do for blunt words? </div><p>Source: <a href="https://habr.com/ru/post/322098/">https://habr.com/ru/post/322098/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../322084/index.html">How slyamzit Habr in a quick way</a></li>
<li><a href="../322088/index.html">Benefits of Enterprise Mobility Management with Citrix XenMobile</a></li>
<li><a href="../322092/index.html">‚ÄúProgramming as a way of creative implementation‚Äù or Corona SDK for those who want</a></li>
<li><a href="../322094/index.html">Introduction to lock-free programming</a></li>
<li><a href="../322096/index.html">Tale of a small internship in a small company [Part II]</a></li>
<li><a href="../322100/index.html">Open Data Day in Moscow</a></li>
<li><a href="../322102/index.html">Reuse of code in microservice architecture - on the example of SPRING BOOT</a></li>
<li><a href="../322104/index.html">How to reduce the number of unsubscribe from the newsletter</a></li>
<li><a href="../322106/index.html">Problems of ergonomics of the workplace. Chapter from the book ‚ÄúErgonomic workplace design‚Äù 2017</a></li>
<li><a href="../322108/index.html">Wordpress + CloudFlare - fresh move to https</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>