<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to write on Objective-C in 2018. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Most iOS-projects partially or fully switch to Swift. Swift is a great language, and the future of iOS development is up to it. But the language is in...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to write on Objective-C in 2018. Part 1</h1><div class="post__text post__text-html js-mediator-article"><p>  Most iOS-projects partially or fully switch to Swift.  Swift is a great language, and the future of iOS development is up to it.  But the language is inseparably connected with the toolkit, and there are drawbacks in the Swift toolkit. </p><br><p>  In the Swift compiler, there are still bugs that cause it to crash or generate incorrect code.  Swift does not have a stable ABI.  And, very importantly, Swift projects are going too long. </p><br><p>  In this regard, existing projects may be more profitable to continue development on Objective-C.  And Objective-C is not the same as it was before! </p><br><p>  In this series of articles, we show the useful features and improvements of Objective-C, with which writing code becomes much more pleasant.  Anyone who writes in Objective-C will find something interesting for themselves. </p><br><p><img src="https://habrastorage.org/webt/40/ah/xl/40ahxlidhdgcqetc2vg-m2dz8ja.jpeg"></p><a name="habracut"></a><br>
<h2 id="let-i-var">  <code>let</code> and <code>var</code> </h2><br><p>  In Objective-C, you no longer need to explicitly specify the types of variables: even in Xcode 8, the language extension <code>__auto_type</code> , and before Xcode 8, type inference was available in Objective-C ++ (using the <code>auto</code> keyword with the appearance of C ++ 0X). </p><br><p>  To begin with, add the <code>let</code> and <code>var</code> macros: </p><br><pre> <code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#define let __auto_type const #define var __auto_type</span></span></code> </pre> <br><pre> <code class="objectivec hljs"><span class="hljs-comment"><span class="hljs-comment">//  NSArray&lt;NSString *&gt; *const items = [string componentsSeparatedByString:@","]; void(^const completion)(NSData * _Nullable, NSURLResponse * _Nullable, NSError * _Nullable) = ^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) { // ... }; //  let items = [string componentsSeparatedByString:@","]; let completion = ^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) { // ... };</span></span></code> </pre> <br><p>  If earlier to write <code>const</code> after a pointer to an Objective-C class was an impermissible luxury, now the implicit indication of <code>const</code> (through <code>let</code> ) has become a matter of course.  The difference is especially noticeable when saving a block to a variable. </p><br><p>  For ourselves, we have developed a rule to use <code>let</code> and <code>var</code> to declare all variables.  Even when the variable is initialized to <code>nil</code> : </p><br><pre> <code class="objectivec hljs">- (<span class="hljs-keyword"><span class="hljs-keyword">nullable</span></span> JMSomeResult *)doSomething { var result = (JMSomeResult *)<span class="hljs-literal"><span class="hljs-literal">nil</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (...) { result = ...; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> <br><p>  The only exception is when it is necessary to ensure that a variable is assigned a value in each branch of the code: </p><br><pre> <code class="objectivec hljs"><span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *value; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (...) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (...) { value = ...; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { value = ...; } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { value = ...; }</code> </pre> <br><p>  Only in this way will we get a compiler warning if we forget to assign a value to one of the branches. </p><br><p>  And finally: to use <code>let</code> and <code>var</code> for variables of type <code>id</code> , you need to turn off the warning <code>auto-var-id</code> (add <code>-Wno-auto-var-id</code> to "Other Warning Flags" in the project settings). </p><br><h2 id="avtovyvod-tipa-vozvraschaemogo-znacheniya-bloka">  Auto withdrawal of block return type </h2><br><p>  Few people know that the compiler can output the return type of the block: </p><br><pre> <code class="objectivec hljs">let block = ^{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">@"abc"</span></span>; }; <span class="hljs-comment"><span class="hljs-comment">// `block`   `NSString *(^const)(void)`</span></span></code> </pre> <br><p>  It is very convenient.  Especially if you write a "reactive" code using <a href="https://github.com/ReactiveCocoa/ReactiveObjC">ReactiveObjC</a> .  But there are a number of restrictions under which you need to explicitly specify the type of the return value. </p><br><ol><li><p>  If there are several <code>return</code> in the block that return values ‚Äã‚Äãof different types. </p><br><pre> <code class="objectivec hljs">let block1 = ^<span class="hljs-built_in"><span class="hljs-built_in">NSUInteger</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">NSUInteger</span></span> value){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (value &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-comment"><span class="hljs-comment">// `NSNotFound`   `NSInteger` return NSNotFound; } }; let block2 = ^JMSomeBaseClass *(BOOL flag) { if (flag) { return [[JMSomeBaseClass alloc] init]; } else { // `JMSomeDerivedClass`   `JMSomeBaseClass` return [[JMSomeDerivedClass alloc] init]; } };</span></span></code> </pre> <br></li><li><p>  If there is a <code>return</code> in the block, it returns <code>nil</code> . </p><br><pre> <code class="objectivec hljs">let block1 = ^<span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> * _Nullable(){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">nil</span></span>; }; let block2 = ^<span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> * _Nullable(<span class="hljs-built_in"><span class="hljs-built_in">BOOL</span></span> flag) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (flag) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">@"abc"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">nil</span></span>; } };</code> </pre> <br></li><li><p>  If the block should return <code>BOOL</code> . </p><br><pre> <code class="objectivec hljs">let predicate = ^<span class="hljs-built_in"><span class="hljs-built_in">BOOL</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">NSInteger</span></span> lhs, <span class="hljs-built_in"><span class="hljs-built_in">NSInteger</span></span> rhs){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> lhs &gt; rhs; };</code> </pre> <br></li></ol><br><p>  Expressions with a comparison operator in the C language (and, therefore, in Objective-C) are of type <code>int</code> .  Therefore, it is better to follow the rule of always explicitly specifying the return type <code>BOOL</code> . </p><br><h2 id="generics-i-forin">  Generics and <code>for...in</code> </h2><br><p>  In Xcode 7, generics (more precisely, lightweight generics) appeared in Objective-C.  We hope you already use them.  But if not, then you can watch the <a href="https://developer.apple.com/videos/play/wwdc2015/401/">WWDC session</a> or read <a href="https://medium.com/ios-os-x-development/generics-in-objective-c-8f54c9cfbce7">here</a> or <a href="https://useyourloaf.com/blog/using-objective-c-lightweight-generics/">here</a> . </p><br><p>  We have developed a rule for ourselves to always specify generic parameters, even if it is <code>id</code> ( <code>NSArray&lt;id&gt; *</code> ).  This way you can easily distinguish the legacy code in which the generic parameters have not yet been specified. </p><br><p>  Having the <code>let</code> and <code>var</code> macros, we expect to be able to use them in the <code>for...in</code> loop: </p><br><pre> <code class="objectivec hljs">let items = (<span class="hljs-built_in"><span class="hljs-built_in">NSArray</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *&gt; *)@[<span class="hljs-string"><span class="hljs-string">@"a"</span></span>, <span class="hljs-string"><span class="hljs-string">@"b"</span></span>, <span class="hljs-string"><span class="hljs-string">@"c"</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (let item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> items) { <span class="hljs-built_in"><span class="hljs-built_in">NSLog</span></span>(<span class="hljs-string"><span class="hljs-string">@"%@"</span></span>, item); }</code> </pre> <br><p>  But such code will not compile.  Most likely, <code>__auto_type</code> not supported in <code>for...in</code> , because <code>for...in</code> works only with collections that implement the <code>NSFastEnumeration</code> protocol.  And for protocols in Objective-C, there is no generics support. </p><br><p>  To correct this deficiency, try to make your macro <code>foreach</code> .  The first thing that comes to mind is that all collections in Foundation have an <code>objectEnumerator</code> property, and a macro might look like this: </p><br><pre> <code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#define foreach(object_, collection_) \ for (typeof([(collection_).objectEnumerator nextObject]) object_ in (collection_))</span></span></code> </pre> <br><p>  But for <code>NSDictionary</code> and <code>NSMapTable</code> protocol <code>NSFastEnumeration</code> iterated by keys, not by values ‚Äã‚Äã(you would use <code>keyEnumerator</code> , not <code>objectEnumerator</code> ). </p><br><p>  We will need to declare a new property that will be used only to get the type in the <code>typeof</code> expression: </p><br><pre> <code class="objectivec hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">@interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSArray</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">__covariant</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ObjectType</span></span></span><span class="hljs-class">&gt; (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ForeachSupport</span></span></span><span class="hljs-class">) @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">property</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nonatomic</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">strong</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">readonly</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ObjectType</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">jm_enumeratedType</span></span></span><span class="hljs-class">; @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSDictionary</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">__covariant</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">KeyType</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">__covariant</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ObjectType</span></span></span><span class="hljs-class">&gt; (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ForeachSupport</span></span></span><span class="hljs-class">) @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">property</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nonatomic</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">strong</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">readonly</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">KeyType</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">jm_enumeratedType</span></span></span><span class="hljs-class">; @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> #</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">define</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">foreach</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">object_</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">collection_</span></span></span><span class="hljs-class">) \ </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">for</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">typeof</span></span></span><span class="hljs-class">((</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">collection_</span></span></span><span class="hljs-class">).</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">jm_enumeratedType</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">object_</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">in</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">collection_</span></span></span><span class="hljs-class">))</span></span></code> </pre> <br><p>  Now our code looks much better: </p><br><pre> <code class="objectivec hljs"><span class="hljs-comment"><span class="hljs-comment">//  for (MyItemClass *item in items) { NSLog(@"%@", item); } //  foreach (item, items) { NSLog(@"%@", item); }</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Snippet for Xcode</b> <div class="spoiler_text"><pre> <code class="objectivec hljs">foreach (&lt;<span class="hljs-meta"><span class="hljs-meta">#object#&gt;, </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;#collection#&gt;</span></span></span><span class="hljs-meta">) { </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;#statements#&gt;</span></span></span><span class="hljs-meta"> }</span></span></code> </pre> </div></div><br><h2 id="generics-i-copymutablecopy">  Generics and <code>copy</code> / <code>mutableCopy</code> </h2><br><p>  Another place where there is no typing in Objective-C is the <code>-mutableCopy</code> and <code>-mutableCopy</code> (as well as the <code>-copyWithZone:</code> and <code>-mutableCopyWithZone:</code> methods, but we don‚Äôt call them directly). </p><br><p>  To avoid the need for explicit type casting, you can redeclare methods with the return type.  For example, for <code>NSArray</code> declarations would be: </p><br><pre> <code class="objectivec hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">@interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSArray</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">__covariant</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ObjectType</span></span></span><span class="hljs-class">&gt; (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TypedCopying</span></span></span><span class="hljs-class">) - (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSArray</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ObjectType</span></span></span><span class="hljs-class">&gt; *)</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">copy</span></span></span><span class="hljs-class">; - (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSMutableArray</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ObjectType</span></span></span><span class="hljs-class">&gt; *)</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mutableCopy</span></span></span><span class="hljs-class">; @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre> <br><pre> <code class="objectivec hljs">let items = [<span class="hljs-built_in"><span class="hljs-built_in">NSMutableArray</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *&gt; array]; <span class="hljs-comment"><span class="hljs-comment">// ... //  let itemsCopy = (NSArray&lt;NSString *&gt; *)[items copy]; //  let itemsCopy = [items copy];</span></span></code> </pre> <br><h2 id="warn_unused_result"> <code>warn_unused_result</code> </h2> <br><p>  Since we have redeclared the methods -copy and <code>-mutableCopy</code> , it would be nice to guarantee that the result of calling these methods will be used.  To do this, the Clang attribute is <a href="https://clang.llvm.org/docs/AttributeReference.html"><code>warn_unused_result</code></a> . </p><br><pre> <code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#define JM_WARN_UNUSED_RESULT __attribute__((warn_unused_result))</span></span></code> </pre> <br><pre> <code class="objectivec hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">@interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSArray</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">__covariant</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ObjectType</span></span></span><span class="hljs-class">&gt; (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TypedCopying</span></span></span><span class="hljs-class">) - (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSArray</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ObjectType</span></span></span><span class="hljs-class">&gt; *)</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">copy</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JM_WARN_UNUSED_RESULT</span></span></span><span class="hljs-class">; - (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSMutableArray</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ObjectType</span></span></span><span class="hljs-class">&gt; *)</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mutableCopy</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JM_WARN_UNUSED_RESULT</span></span></span><span class="hljs-class">; @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre> <br><p>  For the following code, the compiler will generate a warning: </p><br><pre> <code class="objectivec hljs">let items = @[<span class="hljs-string"><span class="hljs-string">@"a"</span></span>, <span class="hljs-string"><span class="hljs-string">@"b"</span></span>, <span class="hljs-string"><span class="hljs-string">@"c"</span></span>]; [items mutableCopy]; <span class="hljs-comment"><span class="hljs-comment">// Warning: Ignoring return value of function declared with 'warn_unused_result' attribute.</span></span></code> </pre> <br><h2 id="overloadable"> <code>overloadable</code> </h2> <br><p>  Few know that Clang allows you to redefine functions in the C language (and, therefore, in Objective-C).  Using the <a href="https://clang.llvm.org/docs/AttributeReference.html"><code>overloadable</code></a> attribute, you can create functions with the same name, but with different types of arguments or with different numbers. </p><br><p>  <em>Overridden functions cannot differ only by the type of return value.</em> </p><br><pre> <code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#define JM_OVERLOADABLE __attribute__((overloadable))</span></span></code> </pre> <br><pre> <code class="objectivec hljs">JM_OVERLOADABLE <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> JMCompare(<span class="hljs-keyword"><span class="hljs-keyword">float</span></span> lhs, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> rhs); JM_OVERLOADABLE <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> JMCompare(<span class="hljs-keyword"><span class="hljs-keyword">float</span></span> lhs, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> rhs, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> accuracy); JM_OVERLOADABLE <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> JMCompare(<span class="hljs-keyword"><span class="hljs-keyword">double</span></span> lhs, <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> rhs); JM_OVERLOADABLE <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> JMCompare(<span class="hljs-keyword"><span class="hljs-keyword">double</span></span> lhs, <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> rhs, <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> accuracy);</code> </pre><br><h2 id="boxed-expressions">  Boxed expressions </h2><br><p>  Back in 2012, Apple introduced literals for <code>NSNumber</code> , <code>NSArray</code> and <code>NSDictionary</code> , as well as boxed expressions, in <a href="https://developer.apple.com/videos/play/wwdc2012/413/">the WWDC 413 session</a> .  Details on the literals and boxed expressions can be found in the <a href="https://clang.llvm.org/docs/ObjectiveCLiterals.html">Clang documentation</a> . </p><br><pre> <code class="objectivec hljs"><span class="hljs-comment"><span class="hljs-comment">//  @YES // [NSNumber numberWithBool:YES] @NO // [NSNumber numberWithBool:NO] @123 // [NSNumber numberWithInt:123] @3.14 // [NSNumber numberWithDouble:3.14] @[obj1, obj2] // [NSArray arrayWithObjects:obj1, obj2, nil] @{key1: obj1, key2: obj2} // [NSDictionary dictionaryWithObjectsAndKeys:obj1, key1, obj2, key2, nil] // Boxed expressions @(boolVariable) // [NSNumber numberWithBool:boolVariable] @(intVariable) // [NSNumber numberWithInt:intVariable)]</span></span></code> </pre> <br><p>  With the help of literals and boxed expressions, you can easily get an object representing a number or a boolean value.  But to get an object wrapping a structure, you need to write some code: </p><br><pre> <code class="objectivec hljs"><span class="hljs-comment"><span class="hljs-comment">//  `NSDirectionalEdgeInsets`  `NSValue` let insets = (NSDirectionalEdgeInsets){ ... }; let value = [[NSValue alloc] initWithBytes:&amp;insets objCType:@encode(typeof(insets))]; // ... //  `NSDirectionalEdgeInsets`  `NSValue` var insets = (NSDirectionalEdgeInsets){}; [value getValue:&amp;insets];</span></span></code> </pre> <br><p>  For some classes, helper methods and properties are defined (like the <code>+[NSValue valueWithCGPoint:]</code> method and <code>CGPointValue</code> properties), but this is still not as convenient as the boxed expression! </p><br><p>  And in 2015, <a href="https://twitter.com/1101_debian">Alex Denisov</a> <a href="https://lowlevelbits.org/nsvalue-and-boxed-expressions/">made a patch</a> for Clang, allowing you to use boxed expressions to wrap any structures in <code>NSValue</code> . </p><br><p>  For our structure to support boxed expressions, you just need to add the <a href="https://clang.llvm.org/docs/AttributeReference.html"><code>objc_boxable</code></a> attribute to the structure. </p><br><pre> <code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#define JM_BOXABLE __attribute__((objc_boxable))</span></span></code> </pre> <br><pre> <code class="objectivec hljs"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> JM_BOXABLE JMDimension { JMDimensionUnit unit; <span class="hljs-built_in"><span class="hljs-built_in">CGFloat</span></span> value; } JMDimension;</code> </pre> <br><p>  And we can use the <code>@(...)</code> syntax for our structure: </p><br><pre> <code class="objectivec hljs">let dimension = (JMDimension){ ... }; let boxedValue = @(dimension); <span class="hljs-comment"><span class="hljs-comment">//   `NSValue *`</span></span></code> </pre> <br><p>  You still have to <code>-[NSValue getValue:]</code> structure back through the <code>-[NSValue getValue:]</code> method or the category method. </p><br><p>  CoreGraphics defines its own <code>CG_BOXABLE</code> macro, and boxed expressions are already supported for <code>CGPoint</code> , <code>CGSize</code> , <code>CGVector</code> and <code>CGRect</code> . </p><br><p>  For the rest of the commonly used structures, we can add support for boxed expressions on our own: </p><br><pre> <code class="objectivec hljs"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> JM_BOXABLE _NSRange <span class="hljs-built_in"><span class="hljs-built_in">NSRange</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> JM_BOXABLE <span class="hljs-built_in"><span class="hljs-built_in">CGAffineTransform</span></span> <span class="hljs-built_in"><span class="hljs-built_in">CGAffineTransform</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> JM_BOXABLE <span class="hljs-built_in"><span class="hljs-built_in">UIEdgeInsets</span></span> <span class="hljs-built_in"><span class="hljs-built_in">UIEdgeInsets</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> JM_BOXABLE <span class="hljs-built_in"><span class="hljs-built_in">NSDirectionalEdgeInsets</span></span> <span class="hljs-built_in"><span class="hljs-built_in">NSDirectionalEdgeInsets</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> JM_BOXABLE <span class="hljs-built_in"><span class="hljs-built_in">UIOffset</span></span> <span class="hljs-built_in"><span class="hljs-built_in">UIOffset</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> JM_BOXABLE <span class="hljs-built_in"><span class="hljs-built_in">CATransform3D</span></span> <span class="hljs-built_in"><span class="hljs-built_in">CATransform3D</span></span>;</code> </pre> <br><h2 id="compound-literals">  Compound literals </h2><br><p>  Another useful language construct is <a href="https://en.cppreference.com/w/c/language/compound_literal">compound literal</a> .  Compound literals appeared in GCC as a language extension, and were later added to the C11 standard. </p><br><p>  If earlier, having met the <code>UIEdgeInsetsMake</code> call, we could only guess what we would get indents (we had to watch the declaration of the <code>UIEdgeInsetsMake</code> function), then with compound literals the code speaks for itself: </p><br><pre> <code class="objectivec hljs"><span class="hljs-comment"><span class="hljs-comment">//  UIEdgeInsetsMake(1, 2, 3, 4) //  (UIEdgeInsets){ .top = 1, .left = 2, .bottom = 3, .right = 4 }</span></span></code> </pre> <br><p>  It is even more convenient to use such a construction, when part of the fields are zero: </p><br><pre> <code class="objectivec hljs">(<span class="hljs-built_in"><span class="hljs-built_in">CGPoint</span></span>){ .y = <span class="hljs-number"><span class="hljs-number">10</span></span> } <span class="hljs-comment"><span class="hljs-comment">//  (CGPoint){ .x = 0, .y = 10 } (CGRect){ .size = { .width = 10, .height = 20 } } //  (CGRect){ .origin = { .x = 0, .y = 0 }, .size = { .width = 10, .height = 20 } } (UIEdgeInsets){ .top = 10, .bottom = 20 } //  (UIEdgeInsets){ .top = 20, .left = 0, .bottom = 10, .right = 0 }</span></span></code> </pre> <br><p>  Of course, in compound literals you can use not only constants, but also any expressions: </p><br><pre> <code class="objectivec hljs">textFrame = (<span class="hljs-built_in"><span class="hljs-built_in">CGRect</span></span>){ .origin = { .y = <span class="hljs-built_in"><span class="hljs-built_in">CGRectGetMaxY</span></span>(buttonFrame) + textMarginTop }, .size = textSize };</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Xcode Snippets</b> <div class="spoiler_text"><pre> <code class="objectivec hljs">(<span class="hljs-built_in"><span class="hljs-built_in">NSRange</span></span>){ .location = &lt;<span class="hljs-meta"><span class="hljs-meta">#location#&gt;, .length = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;#length#&gt;</span></span></span><span class="hljs-meta"> } (CGPoint){ .x = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;#x#&gt;</span></span></span><span class="hljs-meta">, .y = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;#y#&gt;</span></span></span><span class="hljs-meta"> } (CGSize){ .width = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;#width#&gt;</span></span></span><span class="hljs-meta">, .height = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;#height#&gt;</span></span></span><span class="hljs-meta"> } (CGRect){ .origin = { .x = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;#x#&gt;</span></span></span><span class="hljs-meta">, .y = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;#y#&gt;</span></span></span><span class="hljs-meta"> }, .size = { .width = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;#width#&gt;</span></span></span><span class="hljs-meta">, .height = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;#height#&gt;</span></span></span><span class="hljs-meta"> } } (UIEdgeInsets){ .top = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;#top#&gt;</span></span></span><span class="hljs-meta">, .left = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;#left#&gt;</span></span></span><span class="hljs-meta">, .bottom = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;#bottom#&gt;</span></span></span><span class="hljs-meta">, .right = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;#right#&gt;</span></span></span><span class="hljs-meta"> } (NSDirectionalEdgeInsets){ .top = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;#top#&gt;</span></span></span><span class="hljs-meta">, .leading = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;#leading#&gt;</span></span></span><span class="hljs-meta">, .bottom = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;#bottom#&gt;</span></span></span><span class="hljs-meta">, .trailing = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;#trailing#&gt;</span></span></span><span class="hljs-meta"> } (UIOffset){ .horizontal = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;#horizontal#&gt;</span></span></span><span class="hljs-meta">, .vertical = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;#vertical#&gt;</span></span></span><span class="hljs-meta"> }</span></span></code> </pre> </div></div><br><h2 id="nullability">  Nullability </h2><br><p>  In Xcode 6.3.2, <a href="https://clang.llvm.org/docs/AttributeReference.html">nullability-annotations</a> appeared in Objective-C.  Apple developers added them to import the Objective-C API into Swift.  But if something is added to the language, then you should try to put it in your service.  And we will tell you how to use nullability in an Objective-C project and what are the limitations. </p><br><p>  <em>To refresh your knowledge, you can watch the <a href="https://developer.apple.com/videos/play/wwdc2015/401/">WWDC session</a> .</em> </p><br><p>  The first thing we did was start writing <code>NS_ASSUME_NONNULL_BEGIN</code> / <code>NS_ASSUME_NONNULL_END</code> in all <code>.m</code> files.  In order not to do this by hand, we patch the file templates right in Xcode. </p><br><p>  We also began to properly arrange the nullability for all private properties and methods. </p><br><p>  If we add the <code>NS_ASSUME_NONNULL_BEGIN</code> / <code>NS_ASSUME_NONNULL_END</code> to an existing <code>.m</code> file, we immediately add the missing <code>nullable</code> , <code>null_resettable</code> and <code>_Nullable</code> in the entire file. </p><br><p>  All useful nullability compiler warnings are enabled by default.  But there is one extreme warning that I would like to include: <code>-Wnullable-to-nonnull-conversion</code> (set in "Other Warning Flags" in the project settings).  The compiler issues this warning when a variable or expression with a nullable type is implicitly cast to a nonnull type. </p><br><pre> <code class="objectivec hljs">+ (<span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *)foo:(<span class="hljs-keyword"><span class="hljs-keyword">nullable</span></span> <span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *)string { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> string; <span class="hljs-comment"><span class="hljs-comment">// Implicit conversion from nullable pointer 'NSString * _Nullable' to non-nullable pointer type 'NSString * _Nonnull' }</span></span></code> </pre> <br><p>  Unfortunately, for <code>__auto_type</code> (and therefore <code>let</code> and <code>var</code> ) this warning does not work.  In the type inferred through <code>__auto_type</code> , the nullability annotation is discarded.  And, judging by the comment of the Apple developer in <a href="https://openradar.appspot.com/27062504">rdar: // 27062504</a> , this behavior will not change.  It is experimentally observed that adding <code>_Nullable</code> or <code>_Nonnull</code> to <code>__auto_type</code> does not affect anything. </p><br><pre> <code class="objectivec hljs">- (<span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *)test:(<span class="hljs-keyword"><span class="hljs-keyword">nullable</span></span> <span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *)string { let tmp = string; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> tmp; <span class="hljs-comment"><span class="hljs-comment">//   }</span></span></code> </pre> <br><p>  To suppress the <code>nullable-to-nonnull-conversion</code> we wrote a macro that makes "force unwrap".  The idea is taken from the macro <a href="https://gist.github.com/robb/d55b72d62d32deaee5fa"><code>RBBNotNil</code></a> .  But due to the behavior of <code>__auto_type</code> managed to get rid of the auxiliary class. </p><br><pre> <code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#define JMNonnull(obj_) \ ({ \ NSCAssert(obj_, @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Expected `%@` not to be nil."</span></span></span><span class="hljs-meta">, @#obj_); \ (typeof({ __auto_type result_ = (obj_); result_; }))(obj_); \ })</span></span></code> </pre> <br><p>  An example of using the <code>JMNonnull</code> macro: </p><br><pre> <code class="objectivec hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">@interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JMRobot</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSObject</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">property</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nonatomic</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">strong</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nullable</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JMLeg</span></span></span><span class="hljs-class"> *</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">leftLeg</span></span></span><span class="hljs-class">; @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">property</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nonatomic</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">strong</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nullable</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JMLeg</span></span></span><span class="hljs-class"> *</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">rightLeg</span></span></span><span class="hljs-class">; @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implementation</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JMRobot</span></span></span><span class="hljs-class"> - (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">void</span></span></span><span class="hljs-class">)</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">stepLeft</span></span></span><span class="hljs-class"> </span></span>{ [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> step:JMNonnull(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.leftLeg)] } - (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)stepRight { [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> step:JMNonnull(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.rightLeg)] } - (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)step:(JMLeg *)leg { <span class="hljs-comment"><span class="hljs-comment">// ... } @end</span></span></code> </pre> <br><p>  Note that at the time of this writing, the warning <code>nullable-to-nonnull-conversion</code> works imperfectly: the compiler does not yet understand that a <code>nullable</code> variable can be regarded as <code>nonnull</code> after checking for <code>nil</code> inequality. </p><br><pre> <code class="objectivec hljs">- (<span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *)foo:(<span class="hljs-keyword"><span class="hljs-keyword">nullable</span></span> <span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *)string { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (string != <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> string; <span class="hljs-comment"><span class="hljs-comment">// Implicit conversion from nullable pointer 'NSString * _Nullable' to non-nullable pointer type 'NSString * _Nonnull' } else { return @""; } }</span></span></code> </pre> <br><p>  In Objective-C ++ code, you can get around this restriction by using the <code>if let</code> construct, since Objective-C ++ allows variable declarations in an <code>if</code> . </p><br><pre> <code class="objectivec hljs">- (<span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *)foo:(<span class="hljs-keyword"><span class="hljs-keyword">nullable</span></span> <span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *)stringOrNil { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (let string = stringOrNil) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> string; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">@""</span></span>; } }</code> </pre> <br><h2 id="poleznye-ssylki">  useful links </h2><br><p>  There are also a number of more well-known macros and key words that I would like to mention: the keyword <a href="https://clang.llvm.org/docs/LanguageExtensions.html"><code>@available</code></a> , macros <code>NS_DESIGNATED_INITIALIZER</code> , <code>NS_UNAVAILABLE</code> , <code>NS_REQUIRES_SUPER</code> , <code>NS_NOESCAPE</code> , <code>NS_ENUM</code> , <code>NS_OPTIONS</code> (or your own macros for the same attributes) and macro <a href=""><code>@keypath</code></a> of libextobjc library.  We also recommend that you look at the rest of the <a href="https://github.com/jspahrsummers/libextobjc">libextobjc</a> library. </p><br><div class="spoiler">  <b class="spoiler_title">What else to read</b> <div class="spoiler_text"><p>  <a href="https://pspdfkit.com/blog/2017/even-swiftier-objective-c/">https://pspdfkit.com/blog/2017/even-swiftier-objective-c/</a> <br>  <a href="https://medium.com/%40maicki/type-inference-with-auto-type-55a38ef56372">https://medium.com/@maicki/type-inference-with-auto-type-55a38ef56372</a> <br>  <a href="https://nshipster.com/__attribute__/">https://nshipster.com/__attribute__/</a> <br>  <a href="https://www.bignerdranch.com/blog/bools-sharp-corners/">https://www.bignerdranch.com/blog/bools-sharp-corners/</a> </p></div></div><br><p>  ‚Üí The code for the article is laid out in <a href="https://gist.github.com/artyom-stv/d14ee77734e170b8a7413ac6b3981aae">gist</a> . </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  In the first part of the article, we tried to talk about the main features and simple language enhancements that make it much easier to write and support Objective-C code.  In the next part, we will show how you can further increase your productivity with the help of enums as in Swift (they are also Case-classes; they are <a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D0%25BB%25D0%25B3%25D0%25B5%25D0%25B1%25D1%2580%25D0%25B0%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B9_%25D1%2582%25D0%25B8%25D0%25BF_%25D0%25B4%25D0%25B0%25D0%25BD%25D0%25BD%25D1%258B%25D1%2585">Algebraic data types</a> , ADT) and the possibility of implementing methods at the protocol level. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/431236/">https://habr.com/ru/post/431236/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../431226/index.html">The Snake game for FPGA Cyclone IV (with VGA & SPI joystick)</a></li>
<li><a href="../431228/index.html">Light obstacle run: liquid crystals to help</a></li>
<li><a href="../431230/index.html">Storage for HPC infrastructure, or How we collected 65 PB of storage at the Japanese research center RIKEN</a></li>
<li><a href="../431232/index.html">We generate beautiful SVG placeholders on Node.js</a></li>
<li><a href="../431234/index.html">December 11, Moscow - Alfa JS MeetUp</a></li>
<li><a href="../431238/index.html">Event digest for HR-specialists in IT in December 2018</a></li>
<li><a href="../431240/index.html">The Supreme Court of the Russian Federation clarified what ‚Äúspecial means for secretly obtaining information‚Äù is</a></li>
<li><a href="../431242/index.html">TLS and Web Certificates</a></li>
<li><a href="../431244/index.html">"Two unfiltered" or easy way to shoot a leg</a></li>
<li><a href="../431246/index.html">@OpenStack Meetup at Mail.Ru Group: November 30</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>