<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Kibana User Guide. Visualization. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day. All ElasticStack users need to visualize data sooner or later. Most use Kibana. Under the cut translation of official documentation for vers...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Kibana User Guide. Visualization. Part 1</h1><div class="post__text post__text-html js-mediator-article">  Good day.  All ElasticStack users need to visualize data sooner or later.  Most use Kibana.  Under the cut translation of official documentation for version 6.6. <br><br>  Link to original material: <a href="https://www.elastic.co/guide/en/kibana/6.6/visualize.html">Kibana User Guide [6.6] "Visualize</a> <br><a name="habracut"></a><br>  The Visualize tab allows you to create data visualization in your Elasticsearch indexes.  You can then build information panels (dashboards) that display the associated visualizations. <br><br>  Kibana visualizations are based on Elasticsearch queries.  Using a series of aggregations (samples, approx. Lane) to extract and process your data, you can create charts that display trends, bursts and drops, you need. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      You can create visualizations of a search saved in the Discover tab or start with a new search query. <br><br><h3>  Creating a visualization </h3><br>  To create a visualization: <br><br><ol><li>  Click on the <b>Visualize</b> tab in the side navigation. </li><li>  Click the <b>Create new visualization</b> button or the + button. </li><li>  Select the type of visualization. </li></ol><br><ul><li>  <b>Basic schemes</b> </li></ul><br>  <b>Line, Area and Bar charts</b> .  (Charts, areas and histograms, approx. Lane.) Compare different data sets in X / Y charts. <br>  <b>Heat maps</b> .  (Temperature maps, approx. Lane.) Darkening of the elements in the matrix. <br>  <b>Pie chart</b> .  (Diagrams, lane comment) Shows the share of each source in the total amount. <br><br><ul><li>  <b>Data</b> </li></ul><br>  <b>Data table</b> .  (Data table, note lane.) Displays the raw data of the aggregation. <br>  <b>Metric</b> .  (Metric, approx. Lane.) Displays a single number. <br>  <b>Goal and Gauge</b> .  (Aim and sensor, approx. Lane.) Displays the scale of the sensor. <br><br><ul><li>  <b>Cards</b> </li></ul><br>  <b>Coordinate map</b> .  (Coordinate map, lane comment.) It maps aggregation data and geographic location. <br><br>  <b>Region map.</b>  (Map of regions, note of the lane.) Thematic maps, where the intensity of the color of the form corresponds to the metric value. <br><br><ul><li>  <b>Time series</b> </li></ul><br>  <b>Timelion</b>  Computes and combines data from multiple time series data sets. <br>  <b>Time Series Visual Builder.</b>  (Visual time series designer, approx. Lane.) Visualizes time series data using an aggregation source. <br><br><ul><li>  <b>Rest</b> </li></ul><br>  <b>Controls</b> .  (Management, approx. Lane.) Provides the ability to add interactive input forms to Kibana dashboards. <br>  <b>Markdown widget</b> .  (Discount widget, lane comment.) Displays arbitrary information or instructions. <br>  <b>Tag cloud</b> .  (Tag cloud, note lane.) Shows words as a cloud, in which their size corresponds to importance. <br>  <b>Vega graph</b> .  (Vega graph, lane comment.) Supports user-defined graphs of external data sources, images, and user-defined interactivity. <br><br>  4. Specify the search query from which data will be received for your visualization: <br><br><ul><li>  To enter a new search criteria, select an index template for indexes that contain data that you want to visualize.  This will open the visualization constructor with an undefined query that matches all documents in the selected indexes. </li><li>  To build a visualization based on a saved search, click on the name of the saved search that you need.  This will open the visualization designer and load the selected query. </li></ul><br>  <u>Note.</u>  When you build a visualization based on a saved search, any subsequent changes to the saved search are automatically displayed in the visualization.  To disable automatic updating, you can disconnect the visualization and the saved search. <br><br>  5. In the visualization designer, select the aggregation metric for the visualization Y-axis: <br><br><ul><li>  <b>Metric aggregations:</b> calculation, average number, amount, minimum, maximum, standard deviation, calculation of unique values, median (50 percent), percentages, percentage series, top values, geo center </li><li>  <b>Aggregations of parent information sources:</b> derivative, accumulative sum, moving average, sequential differential </li><li>  <b>Related source aggregations:</b> average for a segment, amount for a segment, minimum for a segment, maximum for a segment </li></ul><br>  6. To visualize the X axis, select segment aggregation: <br><br><ul><li>  Temporal histogram, spectrum, expressions, filters, sign expressions </li></ul><br>  For example, if you indexed the Apache server logs, you can build a histogram that shows the distribution of incoming requests by geographic location, based on the specification of the aggregation expressions for the <code>geo.src field</code> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4cc/450/bc0/4cc450bc099abfa0d8cda7a39bd352ee.jpg" alt="image"><br><br>  The y-axis shows the number of requests that came from different countries, and the countries signed the x-axis. <br><br>  The histogram, graph, or area visualization uses metrics for the Y axis and segments for the X axis. Segments are similar to SQL <code>GROUP BY</code> statements.  Charts use metrics for share size and segments for the number of shares. <br><br>  You can optionally split the data by specifying subgroups.  The first aggregation sets the data set for any subsequent aggregations.  The subgroups are applied in order ‚Äî you can drag the aggregations to change the order of use. <br><br>  For example, you can add a subgroup of expressions for the <code>geo.dest</code> field to the Histogram Country of request sources to see the destination of the queries. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a76/293/6cb/a762936cbefd01ca567ed75e89263ccb.jpg" alt="image"><br><br>  For more information on working with subgroups of aggregations, see <a href="https://www.elastic.co/blog/kibana-aggregation-execution-order-and-you">Kibana, Aggregation Execution Order, and You</a> . <br><br><h3>  Charts, areas and histograms </h3><br>  Line, Area and Bar allow you to plot data on the X / Y axis. <br>  First you need to select the metrics that define the axis values. <br><br>  Metric aggregations: <br><br>  <b>Count.</b>  Counting aggregation returns the net count of the elements in the selected index pattern. <br>  <b>Average.</b>  This aggregation returns the average of a number field.  Select a field from the drop-down list. <br>  <b>Sum.</b>  Returns the total amount of a numeric field.  Select a field from the drop-down list. <br>  <b>Min.</b>  Returns the minimum value in a numeric field.  Select a field from the drop-down list. <br>  <b>Max.</b>  Returns the maximum value in a numeric field.  Select a field from the drop-down list. <br>  <b>Unique Count.</b>  Cardinal aggregation returns the number of unique values ‚Äã‚Äãin a field.  Select a field from the drop-down list. <br>  <b>Standard Deviation.</b>  Aggregation of general statistics returns the standard deviation of data in a numeric field.  Select a field from the drop-down list. <br>  <b>Top hit.</b>  Aggregation of top values ‚Äã‚Äãreturns one or more top values ‚Äã‚Äãfrom a special field in your document.  Choose the field from the drop-down list, the type of document sorting, the number of values ‚Äã‚Äãto be returned. <br>  <b>Percentiles.</b>  Percent Aggregation divides numeric field values ‚Äã‚Äãinto specified ranges.  Select a field from the drop-down list, then define one or more areas in the <b>Percentiles</b> fields.  Click the <b>X</b> to remove the percent field.  Click <b>Add</b> to add a percentage field. <br>  <b>Percentile Rank.</b>  Percentage rank aggregation returns percent ranking by selected numeric field.  Select a field from the drop-down list, then define one or more percentage rank values ‚Äã‚Äãin the <b>Values</b> fields.  Click the <b>X</b> to remove the value field.  Click <b>+ Add</b> to add a value field. <br><br>  Aggregations of parent data sources: <br><br>  For each aggregation of the parent information source, it is necessary to determine the metric for which the aggregation is calculated.  This may be one of the existing metrics or a new one.  You can also invest these aggregations (for example, to obtain a third derivative). <br><br>  <b>Derivative.</b>  Derivative aggregation counts the derivative of certain metrics. <br>  <b>Cumulative Sum.</b>  The aggregation of the cumulative sum counts the cumulative sum of certain metrics in the parent histogram. <br>  <b>Moving average.</b>  Moving average aggregation will insert a window through the data and write the average value of this window. <br>  <b>Serial Diff.</b>  Sequential differentiation is a method where values ‚Äã‚Äãin a time series are subtracted from themselves in another time period or delay. <br><br>  Related Source Aggregations: <br><br>  As in the case of aggregation of parent sources, you need to specify the metric for which the aggregation of the related source will be calculated.  In addition, you need to provide for the aggregation of segments, which will determine on which segments the aggregation will run. <br><br>  <b>Average Bucket.</b>  The segment average calculates the average value of certain metrics in the aggregation of related sources. <br>  <b>Sum Bucket.</b>  Calculates the sum of the values ‚Äã‚Äãof a specific metric in the aggregation of a related source. <br>  <b>Min Bucket.</b>  Returns the minimum value of a specific metric in a relative source aggregation. <br>  <b>Max Bucket.</b>  Returns the maximum value of a specific metric in a related source aggregation. <br><br>  You can create an aggregation by clicking on the <b>+ Add Metrics</b> button. <br>  Enter a string in the <b>Custom Label</b> field to change the label. <br><br>  Segment aggregations determine which information will be retrieved from your data. <br>  Before you select aggregation of a segment, indicate whether you divide the slices within the same schema or split them into several schemas.  The division into several schemes should be performed before any other aggregations.  When you divide a chart, you can change if splits are displayed in a row or column by clicking the <b>Rows |</b>  <b>Columns</b> . <br><br>  The X axis of this diagram is the segment axis.  You can define segments for the x-axis for a specific region of the circuit or for individual circuits. <br><br>  This X-axis of the schema supports the following aggregations.  Click the associated name of this aggregation to go to the Elasticsearch documentation for this aggregation. <br><br>  <b><a href="https://www.elastic.co/guide/en/elasticsearch/reference/6.6/search-aggregations-bucket-datehistogram-aggregation.html">Date Histogram.</a></b>  The time histogram is based on a numerical field and is organized by date.  You can define time frames for intervals in seconds, minutes, hours, days, weeks, months, or years.  You can also define a default interval by selecting <b>Custom</b> as the interval and specifying the number and unit of time in the text field.  The default time interval units are: <b>s</b> for seconds, <b>m</b> for minutes, <b>h</b> for hours, <b>d</b> for days, <b>w</b> for weeks, <b>y</b> for years.  Different units support different levels of accuracy, up to one second.  Intervals are signed at the beginning of the interval using the key-date, which is returned from Elasticsearch.  For example, the first day of the month will be displayed in the tooltip for the monthly interval. <br><br>  <b><a href="https://www.elastic.co/guide/en/elasticsearch/reference/6.6/search-aggregations-bucket-histogram-aggregation.html">Histogram.</a></b>  The standard histogram is based on a numeric field.  Determine the integer interval for this field.  Check the <b>Show empty buckets box</b> to include empty intervals in the histogram. <br>  <b><a href="https://www.elastic.co/guide/en/elasticsearch/reference/6.6/search-aggregations-bucket-range-aggregation.html">Range.</a></b>  Using rank aggregation, you can determine the ranks for the numeric field values.  Click <b>Add Range</b> to add a set of rank endpoints.  Click the red symbol <b>(x)</b> to remove the rank. <br>  <b><a href="https://www.elastic.co/guide/en/elasticsearch/reference/6.6/search-aggregations-bucket-daterange-aggregation.html">Date Range.</a></b>  Time rank aggregation reports values ‚Äã‚Äãthat are in the specified date range.  You can specify date ranges using mathematical date expressions.  Click <b>Add Range</b> to add a set of rank endpoints.  Click the red symbol <b>(x)</b> to remove the rank. <br><br>  <b><a href="https://www.elastic.co/guide/en/elasticsearch/reference/6.6/search-aggregations-bucket-iprange-aggregation.html">IPv4 Range.</a></b>  IPv4 rank aggregation allows you to define IPv4 address ranges.  Click <b>Add Range</b> to add a set of rank endpoints.  Click the red symbol <b>(x)</b> to remove the rank. <br>  <b><a href="https://www.elastic.co/guide/en/elasticsearch/reference/6.6/search-aggregations-bucket-terms-aggregation.html">Terms.</a></b>  Aggregation of values ‚Äã‚Äãallows you to define the top or bottom n elements of this field for display, ordered by number or custom metric. <br><br>  <b><a href="https://www.elastic.co/guide/en/elasticsearch/reference/6.6/search-aggregations-bucket-filters-aggregation.html">Filters.</a></b>  You can define a set of filters for data.  It is possible to specify a filter as a query string or in JSON format, as well as in the Discover search tab.  Click <b>Add Filter</b> to add another filter.  Click the <b>label</b> button to open the <b>label</b> field where you can type the name to display on the visualization. <br><br>  <b><a href="https://www.elastic.co/guide/en/elasticsearch/reference/6.6/search-aggregations-bucket-significantterms-aggregation.html">Significant Terms.</a></b>  Displays the results of experimental aggregation of signed values. <br><br>  Once you have defined the X axis aggregation, you can define aggregation subgroups to improve visualization.  Click <b>+ Add Sub Aggregation</b> to create a nested aggregation, then select <b>Split Area</b> or <b>Split Chart</b> , then select the nested aggregation from the list of types. <br><br>  When complex aggregations are defined on the schema axes, you can use the up or down arrows to the right of the aggregation type to change the aggregation priority. <br><br>  Enter a string in the <b>Custom Label</b> field to change the label. <br><br>  You can customize the colors of your visualization by clicking the colored dot next to each caption to display the color palette. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/544/c9d/a54/544c9da541dde7b35d84c7084725be10.png" alt="image"><br><br>  Enter a string in the <b>Custom Label</b> field to change the label. <br>  You can click on the <b>Advanced</b> link to display more options for your metrics or segment aggregation: <br><br>  <b>Exclude Pattern.</b>  Specify a template in this field to exclude from the results. <br>  <b>Include Pattern.</b>  Specify a template in this field to include in the results. <br>  <b>JSON Input.</b>  A text field where you can add specific properties in JSON format to merge with a specific aggregation, as in the following example: <br> <code>{ "script" : "doc['grade'].value * 1.2" }</code> <br> <br>  <u>Note.</u>  In Elasticsearch 1.4.3 and later, this functionality needs <a href="https://www.elastic.co/guide/en/elasticsearch/reference/6.6/modules-scripting.html">Groovy dynamic scripting</a> enabled <a href="https://www.elastic.co/guide/en/elasticsearch/reference/6.6/modules-scripting.html">.</a> <br><br>  The availability of these parameters depends on the aggregation you choose. <br><br><h3>  Metrics and axes </h3><br>  Select the <b>Metrics &amp; Axes</b> tab to change the way the individual metric is displayed in the diagram.  The data sets are styled in the Metrics section, while the axes are styled in the X and Y axes section. <br><br><h3>  Metrics </h3><br>  Change the way each metric is displayed in the Data pane. <br><br>  <b>Chart type.</b>  Choose between Chart, Area and Histogram. <br>  <b>Mode.</b>  Stack various metrics or display them next to each other. <br>  <b>Value Axis.</b>  Select the axis for which you want to build data (the properties of each of them are configured under the Y axis). <br>  <b>Line mode.</b>  Should the contour of the graphs or histograms be smooth, straight or stepped. <br><br><h4>  Y axis </h4><br>  The style of all y-axis scheme. <br>  <b>Position.</b>  The position of the Y axis (left or right for vertical layout and top or bottom for horizontal layout). <br>  <b>Scale type.</b>  Scaling values ‚Äã‚Äã(linear, logarithmic or quadratic). <br><br>  <b>Advanced Options:</b> <br>  <b>Labels - Show Labels.</b>  Allows you to hide axis signatures. <br>  <b>Labels - Filter Labels.</b>  If the signature filter is enabled, some signatures will be hidden if there is not enough space to display them. <br>  <b>Labels - Rotate.</b>  You can enter the number of degrees by which you want to wrap signatures. <br>  <b>Labels - Truncate.</b>  You can enter the number of pixels to which the captions fit. <br>  <b>Scale to Data Bounds.</b>  By default, the bounds of the Y axis are zero and the maximum value that is returned from the data.  Check this box to change both the upper and lower bounds according to the values ‚Äã‚Äãreturned from the data. <br>  <b>Custom Extents.</b>  You can define your own maximum and minimum values ‚Äã‚Äãfor each axis. <br><br><h4>  X axis </h4><br>  <b>Position.</b>  The position of the X axis (left or right for the horizontal layout and above or below for the vertical layout). <br>  <b>Advanced Options:</b> <br>  <b>Labels - Show Labels.</b>  Allows you to hide axis signatures. <br>  <b>Labels - Filter Labels.</b>  If the signature filter is enabled, some signatures will be hidden if there is not enough space to display them. <br>  <b>Labels - Rotate.</b>  You can enter the number of degrees by which you want to wrap signatures. <br>  <b>Labels - Truncate.</b>  You can enter the number of pixels to which the captions fit. <br><br><h4>  Settings Panel </h4><br>  Here are the parameters that apply to the entire schema, and not just to individual data series. <br><br><h4>  Common parameters </h4><br>  <b>Legend Position.</b>  Move the legend left, right, up or down. <br>  <b>Show Tooltip.</b>  Turn on or off the display of a tooltip when hovering over a schematic object. <br><br>  <b>Current Time Marker.</b>  Show current time line. <br><br><h4>  Grid options </h4><br>  You can turn on the grid in the diagram.  By default, the grid is displayed only on category axes. <br><br>  <b>X axis.</b> You can disable the category axis grid. <br>  <b>Y axis.</b> You can choose on which value axes you will display the grid lines. <br><br>  <a href="https://habr.com/ru/post/441264/">The second part of.</a> </div><p>Source: <a href="https://habr.com/ru/post/441214/">https://habr.com/ru/post/441214/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../441192/index.html">Using computational capabilities of R to test the equality hypothesis</a></li>
<li><a href="../441196/index.html">To whom and for what will messengers ‚Äúknock‚Äù</a></li>
<li><a href="../441198/index.html">Scrum and Graves' spiral dynamics: how not to fly on reefs</a></li>
<li><a href="../441202/index.html">Do service companies dream about their products? Conversation with maxilect</a></li>
<li><a href="../441208/index.html">How we reduced the loan to 2 clicks</a></li>
<li><a href="../441216/index.html">‚ÄúBlack mirror‚Äù or Picooc ad?</a></li>
<li><a href="../441218/index.html">OpenAI Gym + ROS + Gazebo: learning autonomous robot at home. Part 1</a></li>
<li><a href="../441220/index.html">Analysis of recent mass DNS capture attacks</a></li>
<li><a href="../441222/index.html">Why is it so difficult to store in Kubernetes?</a></li>
<li><a href="../441224/index.html">Build the Augmented Faces ARCore example in Unity</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>