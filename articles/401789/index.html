<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Quadcopter on MultiWii SE v2.5 - from idea to first flight</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Some time ago, when I came across articles and videos about copters on the Internet, I thought it was difficult and not accessible to everyone. But th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Quadcopter on MultiWii SE v2.5 - from idea to first flight</h1><div class="post__text post__text-html js-mediator-article">  Some time ago, when I came across articles and videos about copters on the Internet, I thought it was difficult and not accessible to everyone.  But the desire to become a copterovod was great and, after studying the mass of material on this topic, he concluded for himself that it was necessary to build a quadrocopter, namely buildings from scratch and himself, I did not want to buy the finished version.  Now I want to share with you my experience of building a quadrocopter on MultiWii SE v2.5.  In this article I will try to describe in detail the whole process of building a quadrocopter from scratch to the first flight to an absolute newcomer in this topic, as it was some time ago. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/35a/c4f/fe6/35ac4ffe6964a0e2fc9378e63f9d3686.jpg"><br><a name="habracut"></a><br>  A little theory about flying quadrocopter <br><br>  We will assemble a kopter on a classical frame of the form "X".  Driving a copter is not as easy as it may seem at first glance, it does not have a front and backside like in radio-controlled cars.  With the ‚Äúforward‚Äù command, the quadrocopter flies not where the pilot is looking, but where the quadcopter's nose is directed (there is a corresponding <a href="https://yadi.sk/i/4yujfSaj3UZJfR">arrow</a> on the flight controller), this is a great danger for beginners, since  from the ground, it is difficult to determine where the nose of the copter is, so when building it you need to somehow mark it, for example, with rays of a different color or placement of LEDs.  Manage copter, i.e.  define and set its orientation in space, we will be angles of pitch, roll and yaw + climb.  The flight of the copter in the desired direction is achieved by changing these three angles.  For example, in order to fly forward, the copter must bend its nose to the ground (pitch). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/cee/343/33d/cee34333da9ffa9431e699d42eb8ee10.gif"><img src="https://habrastorage.org/getpro/habr/post_images/14f/b14/a73/14fb14a73d90543d287955f53eb127e5.gif"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/c9d/58f/ffe/c9d58fffe5d31afa35d443f77a948418.gif"><img src="https://habrastorage.org/getpro/habr/post_images/341/09c/feb/34109cfeb1325ec11a5925410416e84e.gif"><br><br><blockquote>  Throttle - gas, climb <br>  Aileron - Roll Steering Wheel, Aileron (roll) <br>  Elevator - elevator, pitch (pitch) <br>  Rudder - rudder, yaw (yaw) <br>  Motors: <br>  LFW - Left Front, Clockwise Rotation <br>  RFC - right front, counterclockwise rotation <br>  LBC - left rear, counterclockwise rotation <br>  RBW - right rear, clockwise rotation </blockquote><br><img src="https://habrastorage.org/getpro/geektimes/post_images/838/641/d06/838641d06de20da791349c4c301e7253.png"><br><br>  Required components: <br><br><blockquote>  Flight <a href="https://yadi.sk/i/_x8uzbyD3UZK84">Controller</a> CRIUS MultiWii SE v2.5 <br>  <a href="https://yadi.sk/i/YErlx5jC3UZKE5">FTDI</a> Programmer <br>  Frame hj450 <br>  Motors 2212-1000KV - 4 pcs. <br>  Speed ‚Äã‚Äãcontrollers ESC 30A - 4 pcs. <br>  Akkum 11.1V 2200Mah 3S 40C Li-Po ( <a href="https://yadi.sk/i/vEVt5x8j3UZKHu">example</a> ) <br>  Battery Charger B3 AC 2S-3S 7.4V 11.1V Li-Po <a href="https://yadi.sk/i/LmexMLIV3UZKLe">Battery Balancer</a> <br>  T-Plug Battery Wire <br>  Plastic hose clamps <br>  Control equipment FlySky FS-T6 2.4G 6CH complete with receiver <br>  Propellers 1045 (10x4.5) CW / CCW - 2 pcs.  clockwise rotation + 2pcs.  counterclockwise rotation;  take more propellers, because  until you learn how to operate the copter, when falling, they will <a href="https://yadi.sk/i/DCsslMgQ3UZKRQ">break</a> on time </blockquote><br>  Optional: <br><br><blockquote>  Landing legs <br>  Li-Po Battery Voltage Indicator Tester Low Voltage Tester (will signal when the battery is low) </blockquote><br>  Assembly scheme: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/b95/30e/afc/b9530eafc8a0db3361fd0420d7b6e6e9.png"><br><br>  Before assembly, it is necessary to calibrate the ESC regulators, the process is as follows: we connect the motor to the regulator, connect the regulator to the gas channel on the receiver (CH3) and to the battery, raise the gas stick on the control equipment up to the stop, turn on the appu - a characteristic sound is released, lower the gas stick up to the stop - a characteristic sound is made, then we test - we raise / lower the gas stick - we check the work, we turn off the app - the regulator is calibrated;  by this analogy, we calibrate all ESC (suitable <a href="https://www.youtube.com/watch%3Fv%3D1FXVgZkePLM">video</a> for clarity). <br><br>  We assemble the frame, install MultiWii, fasten the motors, connect the ESC regulators: to the motors, to the MultiWii and to the batteries (we connect the pros and cons of the regulators to each other and connect them to the ‚Äú+‚Äù and ‚Äú-‚Äù battery).  Attention, to change the direction of rotation of the motor, you just need to swap any two wires from the three leading from the motor to the ESC.  It is desirable to install MultiWii on the frame through the platform (I did it <a href="https://yadi.sk/i/XBxaT_DP3UZKZF">myself</a> , but you can buy it) in order to avoid short circuits to the case and for accuracy of the data;  I also made a small ‚Äúcollective farm‚Äù for the barometer - I closed it with foam rubber to reduce the error in the data. <br><table><tbody><tr><td>  Motors </td><td>  MultiWii </td><td>  Receiver </td><td>  MultiWii </td></tr><tr><td>  P.L. </td><td>  D3 </td><td>  CH1 </td><td>  D4 </td></tr><tr><td>  P.P. </td><td>  D10 </td><td>  CH2 </td><td>  D5 </td></tr><tr><td>  Z.L. </td><td>  D11 </td><td>  Ch3 </td><td>  D2 </td></tr><tr><td>  Z.P. </td><td>  D9 </td><td>  CH4 </td><td>  D6 </td></tr><tr><td></td><td></td><td>  CH5 (add. Channel) </td><td>  D8 </td></tr><tr><td></td><td></td><td>  CH6 (ext. Channel) </td><td>  D7 </td></tr></tbody></table><br>  Additional channels CH5 and CH6 can be used to enable functions: hold height, return home, camera suspension control, etc., you can read more in this <a href="http://multicopterwiki.ru/index.php/MultiWii">article</a> .  My diodes are connected to ‚Äú+‚Äù and ‚Äú-‚Äù on A2.  The FTDI programmer is connected to the corresponding FTDI connector on the board. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/e61/958/c40/e61958c400eaf9cd95aa2c4946d352a0.jpg"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/1a2/f79/4ac/1a2f794ac7c33ce2b92cc264c40cf8c6.jpg"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/cb5/24e/b74/cb524eb74ff5246f9cca789a16447505.jpg"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/663/98a/32e/66398a32e2ba52771899714213b77384.jpg"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/8e1/820/5bb/8e18205bb1d48633bde44d89a8f955c4.jpg"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/928/ba5/b7e/928ba5b7ecf2578e0c0c26cd323e8530.jpg"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/c0f/a14/b86/c0fa14b8671e5847d77fc391ed672ce9.jpg"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/9ba/550/68c/9ba55068c45c1c2ab5ef42425111d597.jpg"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/923/621/d1a/923621d1a36c9f64a1568b1744566589.jpg"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/498/9bd/518/4989bd518bb9ff1c80c288634620af6e.jpg"><br><br>  After we have collected and connected everything, you need to upload the firmware to MultiWii, you need to do this through the Arduino IDE program (you can download the current version <a href="https://www.arduino.cc/en/Main/Software">here</a> ).  We connect MultiWii to PC via FTDI programmer, launch the Arduino IDE, select the COM port to which the board is connected from the menu, choose the board type in the menu, open the firmware (link at the end of the article), open the MultiWii.ino file, you will see above several tabs, we will be interested only in config.h, in it we need to configure the firmware - depending on the required settings, you need to uncomment (delete ‚Äú//‚Äù) one of the lines in the necessary section (link to the config.h file with my settings at the end articles), after setting we upload the firmware in MultiWii. <br><br>  Now we need to continue setting up the kopter through the GUI, for this we will use the MultiWiiConf program (link at the end of the article).  We connect MultiWii to PC via FTDI programmer, launch MultiWiiConf, select COM port to which the board is connected from the menu, press the START button (values ‚Äã‚Äãshould appear on the graph), before editing the parameters, click READ, to save the parameters, click WRITE.  After you have selected the port and pressed START (you saw that the graph came to life, the data is coming), you need to calibrate the sensors: to calibrate the accelerometer - set the copter parallel to the horizon and press the CALIB_ACC button, the GUI will briefly hang, after that make sure that the ROLL and PITCH axes are parallel ;  to calibrate the magnetometer (compass) - press the CALIB_MAG button and rotate the rotor on all axes or alternately place the rotor on the ribs for 30 seconds.  Also, after successfully connecting the configurator program with your copter, on the top right you will see blue bars showing the channels of your console, move the sticks to make sure that everything is working correctly.  The stick in the min position should show a value of 1000, in the center 1500 and at max 2000;  if this is not the case, frame the remote according to its instructions (link at the end of the article).  Remember that the stripes should move in accordance with the movements of the sticks, i.e.  if you raise the throttle stick up, then the strip should go up (similarly for other channels), if this is not the case, reverse the channels of your console.  Also in the GUI, you can set the functions to add.  channels, such as height retention (BARO).  The leveling horizon (LEVEL) function must be on all the time!  Here is a suitable <a href="https://youtu.be/mvQ6WAgMRaU">video</a> for visibility of the MultiWiiConf program. <br><br>  Several digressions on the topic <br><br>  Do not wait for the function of holding height (BARO) hard hovering at the point, because  for this, a barometer is used - the copter will certainly try to keep the altitude at which you activated the function, but it will float within a radius of ¬± a couple of meters, just for accuracy of the data from the barometer and for its protection from external influences I did a ‚Äúcollective farm‚Äù with foam rubber.  Remember, height hold must be activated on hover gas, i.e.  then, when you have achieved with a stick of gas that the kopter is kept at the same height and after activating the function it is not advisable to touch the gas.  For a more accurate hovering at a point, it is better to use an additional GPS module. <br><br>  The course hold function (MAG) is very capricious and its use ended pitifully for me, after activation and takeoff, the kopter began to rotate like a top and flew away from me quickly, attempts to detect the nose of the kopter and return it to the course were unsuccessful, I had no choice how to throw gas and run towards a point falling from the sky.  Here is a small <a href="https://youtu.be/hEmnctgLTTs">video</a> and <a href="https://yadi.sk/i/CMs5Z79M3UZKny">photo</a> after the fall.  Maybe this behavior was caused not by an exactly calibrated compass or magnetic interference, or something else;  In general, read the information on the Internet before use and be careful. <br><br>  For the future, it may be useful to you not to carry a laptop with the MultiWiiConf program with you ‚Äî you can connect the HC-05 Bluetooth module to the MultiWii controller (connects to the UART connector) and via Android applications ( <a href="https://play.google.com/store/apps/details%3Fid%3Dnet.xrotor.andmultiwiiconf">MultiWii Configuration</a> and <a href="https://play.google.com/store/apps/details%3Fid%3Dcom.ezio.multiwii">EZ-GUI Ground Station</a> ) via Bluetooth connects to the copter, and make the necessary settings, similar to those in MultiWiiConf. <br><br>  The procedure for starting the motors is as follows: turn on the power on the copter (squeak), turn on the app, pull the gas out of the lower position to the right - the motors are started (unset) and rotate at idle, now in order to take off smoothly add gas;  in order to stop the motors, move the gas stick from the lower position to the left - the motors stopped, turn off the power on the copter, turn off the appu. <br><br>  That's all, I hope my article will be useful to you, and now you can install propellers and go ahead, in our case up, good luck to you and fewer drops. <br><br>  A small video of my flights <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/B7z0gwuW-9k" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/NRJK2ds-q8E" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Download links: <br><br>  <a href="https://yadi.sk/d/JyBGFHa-3UZKxH">Archive</a> - MultiWii firmware + MultiWiiConf program <br>  <a href="https://yadi.sk/i/mNteOr2w3UZL3z">The</a> config.h <a href="https://yadi.sk/i/mNteOr2w3UZL3z">file</a> with my settings <br>  <a href="https://yadi.sk/i/6hVmsD083UZLAB">Manual</a> FlySky FS-T6 </div><p>Source: <a href="https://habr.com/ru/post/401789/">https://habr.com/ru/post/401789/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../401779/index.html">Hoversurf introduced the Hovierbike Scorpion-3</a></li>
<li><a href="../401781/index.html">Alma Mater of technical progress</a></li>
<li><a href="../401783/index.html">Transformers on innovative alloys can save Moscow up to 1 billion rubles a year</a></li>
<li><a href="../401785/index.html">Creative Commons launches free image search service</a></li>
<li><a href="../401787/index.html">Software for modeling STL-models suitable for 3d printing</a></li>
<li><a href="../401791/index.html">Aerospace airplanes: even in the atmosphere, even in a vacuum</a></li>
<li><a href="../401793/index.html">We test on animals: how does the GPS tracker for dogs Mishiko in Moscow work?</a></li>
<li><a href="../401795/index.html">Rocket Fuel Saga</a></li>
<li><a href="../401797/index.html">In Xinjiang Province of China, every car will be equipped with a satellite tracking system.</a></li>
<li><a href="../401799/index.html">Internet around the world - the countries with the fastest Internet in Europe</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>