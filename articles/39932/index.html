<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Let's make a fashion model in a quick way!</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I don‚Äôt know what you thought there from the title, but know that I didn‚Äôt mean it! :) 
 So, we will continue to become ‚ÄúColumbians and discover what ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Let's make a fashion model in a quick way!</h1><div class="post__text post__text-html js-mediator-article">  I don‚Äôt know what you thought there from the title, but know that I didn‚Äôt mean it!  :) <br>  So, we will continue to become ‚ÄúColumbians and discover what millions of people knew before us‚Äù, who will remember where this almost quote comes from (hint: about the Internet) to 4 points for geek karma.  So‚Ä¶ <br><br>  So, in my free time, when I don‚Äôt create crazy projects, I don‚Äôt teach people how to <a href="http://habrahabr.ru/blogs/startup/39761/">make money on startups</a> , at this time I study all kinds of geek technologies, including  one of them has become an obsession with me.  Namely - to take your town in the suburbs of a big city and turn it into a 3d-level for some game (in FarCry / Crysis I advanced most of all in this), with photogrammetric accuracy (errors of one meter or less from the actual location of houses ). <br><br>  In order to do this we need: <br><ol><li>  3d models; </li><li>  3d engine; </li><li>  science with the terrible name of photogrammetry; </li><li>  even mathematics ‚Äî and when you read about <a href="http://en.wikipedia.org/wiki/Spherical_harmonics">Spherical harmonics</a> ‚Äî you rejoice that there was a <a href="http://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25B8%25D0%25BA%25D0%25BB%25D0%25B0%25D0%25B4%25D0%25BD%25D0%25B0%25D1%258F_%25D0%25BC%25D0%25B0%25D1%2582%25D0%25B5%25D0%25BC%25D0%25B0%25D1%2582%25D0%25B8%25D0%25BA%25D0%25B0">primate</a> for a while;  sad that anyway you do not understand what is there ... </li><li>  a ton of patience (however, I would not be a world bummer if it were true); </li></ol><br>  <b>Let's start with 3D models</b> <br><img src="http://rarestblog.com/i/canoma_01.jpg"><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In the years the dust has long been erased, when the Internet was still worn by horses in teams and angry Caesar decided to be your site on Google or not, in ancient times, MetaCreations existed, which created one of the most extraordinarily convenient and logical software products that I saw , but it was destined to go the way of the eternal light bulb and be chained in Adobe's dark, raw patent dungeons and never see the light again. <br><br>  Besides, who wants to get to it now, it is necessary to ride at a speed of 5kb per second for three days, and the traveler can find her in the regions where his famous <i>Pirates of the</i> <a href="http://lingvo.yandex.ru/en%3FCardId%3DSdG9ycmVudA,,%3BL0B%3B3%3B0%3B1%3B0%3B7%3B8">Intensive Streams of the</a> <i>Swedish Bay</i> await him.  [disclaimer: there is no subtext here] <br><br>  In general, there are, my friends, such a science, photogrammetry.  She is engaged in the fact that a flat, in general, photograph (and preferably 2 or fifty) turns into a three-dimensional model.  This science is old, and the program about which I will tell is not younger (well, younger). <br><br>  In general, we meet <a href="http://en.wikipedia.org/wiki/Canoma">Canoma</a> , created 9 [!] Years ago and has not yet been surpassed!  (There is an <a href="http://imagemodeler.realviz.com/">ImageModeler</a> , <a href="http://www.photomodeler.com/">PhotoModeler</a> , but besides that they cost a lot - none of them stood side by side for simplicity and visuality. <br><br>  So, let's take a couple of photos of the area from different angles. <br><br><img src="http://rarestblog.com/i/canoma_02.jpg"><br>  Zatrem cursors caught in the field of view of the camera. <br><br><img src="http://rarestblog.com/i/canoma_03.jpg"><br>  In general, block nafig all deprived.  :) This step is optional if you are not going to publish your original photos on the Internet.  I took 3 photos, but save space - there will be many screenshots here. <br><br>  / If you have a bad imagination and the paragraph about the Swedes didn‚Äôt make you think, then the search for Canoma Demo on the Internet might tell you something.  / <br><br>  Open Canoma.  Here it is before us.  I remind you that the interface was made in 1999!  Winda B learned how to do interfaces.  By the way, much can be moved and rearranged (interface elements) by simple dragging. <br><br><img src="http://rarestblog.com/i/canoma_04.jpg"><br>  Carefully looking at the picture will allow you to find the yellow arrow, click on the "+" and add one picture.  And while you are looking for it, I will destroy one of the actors, no, not <a href="http://ru.wikipedia.org/wiki/%25D0%259D%25D1%258D%25D1%2586%25D0%25BA%25D1%258D">Netsuke</a> , but the one who promises that I will feel the effect from him on the eighth day.  Although, of course, it's better not to keep it open for eight days, otherwise the effect <i>will</i> be ... explosive ... <br><br><blockquote>  For those who want to know what the hell on the screen is, this is a bot of the Rare NewsNews going around on the Internet with Amazon EC2 - four bots more precisely - fastbot, regularbot, categorizerbot and studybot, even against the background of uploadbot, but it‚Äôs the most boring :) I told about this project in a post about earnings on startups.  Well, for those who consider it most of all, this is ‚ÄúUbuntu‚Äù, the book ‚ÄúWeb-mastering for professionals‚Äù, which serves as a stand for two cards, a torn cover from the diary and a pipka from a tripod, which I don‚Äôt know what is called.  :) </blockquote><br>  We return from thoughts about the lost Activia to the model.  For Kanoma, all the <b>usual rules of photogrammetry</b> do not work, you need to start with one shot!  It is necessary to apply as much as possible on one before moving on to the second.  In the same ImageModeler much better results are obtained if you work with 2 photos at once.  Here it is not necessary! <br><br>  Now, you see the whole market of rounded icons from below - click on the leftmost one and see the red box (well, in general, this red mesh thing).  Now let's imagine that this is a deck of cards in the photo, a front view and in this mesh we will grab the corners (with the mouse) and drag them onto the cards. <br><br><img src="http://rarestblog.com/i/canoma_05.jpg"><img src="http://rarestblog.com/i/canoma_06.jpg"><br><br><blockquote>  By the way, the <b>usual rules of photogrammetry</b> suggest that before using a photo - it needs to correct the <a href="http://keratoconus.narod.ru/k_len_01.htm">curvature of the lenses</a> (I put the first links from the Google SOAP API into links).  This is done by the <a href="http://epaperpress.com/ptlens/">PTLens</a> prog - it will make 10 photos for free, then pay (there are 10, it seems, dollars, but it‚Äôs not a pity for this program - it does everything itself and in batches, by the way if you make panoramas - it can also be very useful). </blockquote><br><br><img src="http://rarestblog.com/i/canoma_07.jpg"><br><br>  If you drag the top (where the lines are connected) - then try to put it exactly - use the "+" and "-" on the numeric keypad to move in and out;  and the space and left button - drag the image ("hand tool"). <br><br>  You can also fix and face - then instead of an inverted triangle will be a circle.  But, unfortunately, fixing faces is an order of magnitude less accurate than fixing vertices, so do all the vertices at once. <br><br><blockquote>  By the way, it is very important not to set vertices where you don‚Äôt see them - this is the so-called ‚Äúguesstimation‚Äù (‚Äúguessing‚Äù), the more precisely everything will be arranged - the more accurate the result will be.  Although, it is precisely Kanoma that is tolerated quite a bit.  As you will see later, I am very lazily dotted, but I got quite an acceptable result. </blockquote><br><br><img src="http://rarestblog.com/i/canoma_08.jpg"><br><br>  On the left, you see such a thing (hereinafter, I will call it a ‚Äúball‚Äù or ‚Äúsphere‚Äù).  She can twist the model, by the way, in my opinion it is more convenient than in many 3D programs.  Crosses - move the model.  To return to the previous mode - click "Edit" above them.  These wheels make it possible to understand - as Kanoma now thinks are located objects - sometimes it allows you to see the error. <br><br>  What is important - by default, Kanoma assumes that all objects are located on the same plane - table, floor, etc.  This is disabled via the button (i) in a circle - there is ‚ÄúUnfix Y‚Äù and other useful parameters - also Kanoma initially believes that objects are all exactly upright - you can also disable ‚ÄúUnfix all‚Äù, but these restrictions help her not to make creepy guesses about huge items.  But, on the other hand, it is easy to forget about it (which I will do later :) and think about it only when writing this topic). <br><br>  Try to put all the visible vertices of at least one ‚Äúbox‚Äù (in my case this is a deck of cards) before moving on. <br><br><img src="http://rarestblog.com/i/canoma_09.jpg"><br><br>  Then I continued to apply vertices and edges.  I fixed the table by sight.  The plane (horizontal) is done with the second from the left ‚ÄúHorizontal Rectangle‚Äù icon - see the tips on the right.  But I did not find the cylinder in Kanoma, so I had to imitate the mug through the ‚ÄúCurtain‚Äù.  Next, another ‚Äúbox‚Äù is a book.  And the sheet lying on the table.  It is not very necessary, because the texture of the table will include it, but the <b>usual rules of photogrammetry</b> suggest that the more we put clear points that we see exactly (and the sheet contrasts well with the background), the better. <br><br><img src="http://rarestblog.com/i/canoma_10.jpg"><br><br>  I made an action that fell in battles with this article through a truncated pyramid tool.  And now we will twist, we will look that turned out.  Not bad for a single photo. <br><br><img src="http://rarestblog.com/i/canoma_11.jpg"><br>  Twist the scene, and to return to normal mode - ¬´edit¬ª (which is above the ball). <br><br>  Next, with the help of one more box (‚Äúbox‚Äù) we will make the necessary part of the laptop, and with the help of a vertical rectangle - the monitor.  Now here are a couple of tricks. <br><br>  The display of the laptop does not stand on the basis of the table, but on the box that simulates the lower part (with the keyboard).  To ‚Äúhang it up‚Äù in the air - you need to click on the button (i), it is next to the inscription ‚ÄúSolo off‚Äù and there press the ‚ÄúUnfix Y‚Äù. <br><br>  The second trick is to ‚Äúglue‚Äù its lower part to the top of the box.  Simply put - to tell Kanoma that these two vertices are the same (at the junction) - so press CTRL and drag the lower left corner of the display to the upper left rear corner of the box imitating that part with the keyboard.  Now they are stuck together. <br><br>  By the way, if that - right-clicking on vertices, edges, adhesives, etc.  - they can be deleted or modified. <br><br>  The third trick - you can just put the lid on the laptop, but for this you had to press the Stack button on the bottom left before creating it.  You can also indicate that two objects in the scene are concentrically on each other or have the same orientation (hussars, be silent!) <br><br><img src="http://rarestblog.com/i/canoma_12.jpg"><br>  Twist the ball scene, let's see what happened.  Activation as if a nuclear explosion smacked into a laptop.  Well, nothing surprising in our time of the Large Colliders so surprise no one.  Of course, this is due to the fact that from a single photograph of Kanome it is not visible that there is behind this dairy plant for the production of live bacteria.  Add another photo, at the same time and more precisely arrange the objects. <br><br>  But first!  See the photo you want to add.  Now twist the sphere (the ball to the left in the interface) with the 3d model so that it turns out approximately in the same perspective as in the photo.  This is optional, but will help Kanoma to understand the location of the camera. <br><br><img src="http://rarestblog.com/i/canoma_13.jpg"><br><img src="http://rarestblog.com/i/canoma_14.jpg"><br>  I missed this step intentionally to show that Kanoma is smart enough to find the correct camera position even from the past.  I dragged all the corners that I saw in the photo to their rightful place, and fixed several edges, by the way it looks like this: <br><br><img src="http://rarestblog.com/i/canoma_15.jpg"><br>  As you can see - the picture is superimposed very well. <br>  Here it is important to tell that some lines will not coincide with what you see and this is a normal side effect of photogrammetry - there is no 100% accuracy there.  But if you start to see the ‚ÄúKanoma pulse‚Äù - this already means that you have hooked something in the wrong place.  ‚ÄúKanoma Pulse‚Äù is when the yellow lines of the outlines of objects (or the red one of the chosen) begin to beat like a heart. <br><br>  <i>[Zaum]</i> Kanoma is constantly trying to polish the solution and is constantly on the move, solving huge matrices, and if you give incorrect input data, then due to the methods for solving these matrices (equations), an oscillating motion will be obtained (in the usual case, the solution error decreases, and the case of incorrect inputs - begins to oscillate around the solution, for details on <a href="http://www.geocities.com/novedu/mnk.htm">the least squares method</a> and the <a href="">Levenberg-</a> <a href="http://www.ics.forth.gr/~lourakis/sba/">Markard</a> algorithm and <a href="http://www.ics.forth.gr/~lourakis/sba/">Sparse Bundle Ajustment</a> . <i>[/ zaum]</i> <br><br><img src="http://rarestblog.com/i/canoma_16.jpg"><br>  Well - it looks like it, at least for the purposes of a 5-minute 3d translation - not bad. <br><br><img src="http://rarestblog.com/i/canoma_17.jpg"><br>  Click on Tortilla and enjoy the results of the laziest way to make 3d photos. <br><br><img src="http://rarestblog.com/i/canoma_18.jpg"><br><img src="http://rarestblog.com/i/canoma_20.jpg"><br><br>  By the way, in Kanoma, you can do and animation - the tab on the bottom left.  In general, there help PDF is very useful and not hammered by all sorts of reasons why this button is needed.  Well done MetaCreations - a medal to them for a positive product and manual. <br><br>  We export to .obj and sit down to think further about how to make the game real.  I remind you that I had no idea what photogrammetry is and how it is eaten, and I didn‚Äôt have the aim to try to study it (although I had to), I just want to take a real city and make a 3d-level for the game.  Did it happen with Kanoma (or even at all) - not yet, but for these purposes Kanoma came closer than everyone else (ImageModeler, PhotoModeler, Leica, etc.).  I hope that someday <a href="http://www.acvt.com.au/research/videotrace/">VideoTrace</a> will <a href="http://www.acvt.com.au/research/videotrace/">finish</a> it all the same. <br><br>  Why did not work?  I have 10 thousand photos of the city.  So on the fiftieth photograph of Kanoma she began to bravely mad, although only fifty buildings were applied.  Well, in 1999 there was no GPU-support for a class of consumer video cards now, and if it were now rewritten for a GPU, I‚Äôm sure it would be thousands and a half, or even it would stand up. <br><br>  Actually, the game and the virtual city on this have not even begun, there is something to tell, but for now you can read what I <a href="http://yoihj.habrahabr.ru/blog/">have already written</a> . <br><br>  As an example of what Canoma: <a href="http://www.canoma.com/battersea/">Battersea Powerstation</a> can <a href="http://www.canoma.com/battersea/">do</a> .  And do not forget that it was made 9 years ago and has not been updated since.  :) <br><br>  By the way, it runs under Linux under Wine, as verified by Comrade.  <a href="http://habrahabr.ru/users/sovgvd/" class="user_link">SovGVD</a> . <br><br>  <b>PS</b> There is also a way to very quickly and roughly model something like <a href="http://ru.wikipedia.org/wiki/%25D0%259D%25D1%258D%25D1%2586%25D0%25BA%25D1%258D">Netske</a> - when the forms are very complex (Kanoma doesn‚Äôt do this) - the program is called <a href="http://www.3dsom.com/">3DSOM</a> ( <a href="http://www.3dsom.com/flash3d/flash-3d-gallery.html">examples here</a> ), but I don‚Äôt even know how much I need to do it, it‚Äôs too simple :) <br><br>  <b>PPS</b> Why this topic at all?  I have a feeling that in the near future the Internet and the desktop will go tightly into the sphere of 3D, where we will travel around 3D worlds, put files into 3d boxes, etc.  Taking into account where the technologies are moving - almost everyone will be able to create their own 3d world, often people (naturally) will want to recreate the place where they live or where they went on vacation.  This technology is only a small part of what will happen in the future.  It does not compete with serious 3D packages (although I cannot geo-geo in them either. One city can reproduce one building - yes, two buildings are relative to each other - something like - three - from photographs - almost unreal, three hundred? Don't be kidding ... the problem is not to model, namely to be geographically accurate). <br><br>  In general, we will (possibly) live and work in virtual 3d-worlds (these technologies are getting cheaper and why not use them) - I would for example like to spread my files around the virtual shelves in the virtual room - it‚Äôs easier to remember where (in space we have been learning to navigate since childhood, and on a plane with nesting - only behind a computer). <br><br><img src="http://habrahabr.ru/media/userpic/avatar/14/45/58/31055.png"><br>  Yoi Haji <br>  <a href="http://yoihj.habrahabr.ru/blog/">view from Habra</a> </div><p>Source: <a href="https://habr.com/ru/post/39932/">https://habr.com/ru/post/39932/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../399311/index.html">Scientists have measured the fundamental constant Œ± in the distant past (8.5 billion years)</a></li>
<li><a href="../399313/index.html">Incredibly loud sound that circled the earth four times</a></li>
<li><a href="../399315/index.html">The origins and future of the interplanetary Internet</a></li>
<li><a href="../399317/index.html">The program taught to select realistic sounds for photos</a></li>
<li><a href="../399319/index.html">Scientists have created a thermal switch for bacteria to control the delivery of drugs</a></li>
<li><a href="../399321/index.html">Eight amazing games with artificial intelligence from Google</a></li>
<li><a href="../399325/index.html">Monowheel in winter</a></li>
<li><a href="../399327/index.html">The fight against piracy in Ukraine: the removal of servers fs.to and closing ex.ua</a></li>
<li><a href="../399329/index.html">A small mechanism by which we know the exact time.</a></li>
<li><a href="../399333/index.html">How I dealt with 286m</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>