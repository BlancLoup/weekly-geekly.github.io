<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>zip extension, small hint</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="One of my projects is widely used to import various data in CSV format. Once there was little data, and everyone was comfortable with directly downloa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>zip extension, small hint</h1><div class="post__text post__text-html js-mediator-article">  One of my projects is widely used to import various data in CSV format.  Once there was little data, and everyone was comfortable with directly downloading one or two not too large files.  Over time, the data became more, the size of the imported files and their number increased.  It was decided to upload files in a ZIP-archive: we save traffic + we have only one upload instead of a few. <br><br>  To work with the archive, I used the <a href="http://php.net/zip">zip</a> extension.  I will not describe here what's what in this extension, it is described in detail in the documentation. <br><br>  I will tell only about one feature that turned out to be useful for me.  When you import a file that a user uploads in a form, the ZIP archive on the server itself is useless, and you also need to unpack it unnecessarily: after that, you will also have to delete it.  The <a href="http://ru.php.net/manual/en/function.ziparchive-getstream.php">ZipArchive-&gt; getStream ()</a> method comes to the <a href="http://ru.php.net/manual/en/function.ziparchive-getstream.php">rescue</a> .  We get with it the file handler and we can safely feed it, for example, in <a href="http://php.net/fgetcsv">fgetcsv</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>UPD.</b>  Probably not quite clear explained.  I need data from those CSV files that are in the ZIP.  And I need this data in the database, and not in the TsVShkah, and certainly not in the archive.  That is, I import data from CSVshek into the database.  Therefore, I take a warm temporary file ($ _FILES ['userfile'] ['tmp_name']).  And without directly unpacking it, I import all the TsSVshki contained in it into the database.  After this, PHP itself will take care of deleting the archive, which is no longer needed. <br><br>  <b>UPD.</b>  From the Adelf <a href="http://adelf.habrahabr.ru/">habraiser</a> : in some cases (not mine) it should be taken into account <a href="http://habrahabr.ru/blogs/php/51485/">that $ _FILES ['userfile'] ['tmp_name'] may be unavailable due to open_basedir</a> <br><br>  I hope this information will be useful to someone. </div><p>Source: <a href="https://habr.com/ru/post/51907/">https://habr.com/ru/post/51907/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../51899/index.html">Video news on the Internet</a></li>
<li><a href="../51900/index.html">Adventures with installing Windows7</a></li>
<li><a href="../51901/index.html">Icon for Habrocheloveka</a></li>
<li><a href="../51902/index.html">Separation of cake contextual advertising in 2008 year.</a></li>
<li><a href="../51905/index.html">Some restrictions are removed in Google App Engine</a></li>
<li><a href="../51909/index.html">Crisis or how to work for food</a></li>
<li><a href="../51911/index.html">Wix! American analogue narod.ru</a></li>
<li><a href="../51912/index.html">Widgets and Decorators for Last.fm</a></li>
<li><a href="../51913/index.html">OpenOffice.org pro 3.0.1 from Infra-Resource</a></li>
<li><a href="../51914/index.html">What prevents startups?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>