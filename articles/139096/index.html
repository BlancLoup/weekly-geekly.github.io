<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Simple Twitter Notification Service</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Twitter has become a daily means of communication and information for many people. Personally, I open it every day several times from the phone, and o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Simple Twitter Notification Service</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/22d/19c/288/22d19c28812d8e7938931f2faa77926d.png"><br>  Twitter has become a daily means of communication and information for many people.  Personally, I open it every day several times from the phone, and on the desktop the client is constantly running. <br>  There was an idea that it would be nice to receive some reminders through it, since I use it every day. <br>  During the evening a small bot was written to remind you. <br><a name="habracut"></a><br><br>  By itself, the first thought was to find analogues.  Several of these services can be found after a short googling. <br>  But they did not suit me for several reasons. <br><br>  Some of these services offer to fill out a form on the site and almost create an account on it.  Many are in English, which is not convenient for everyone (although it will seem like a plus to someone).  Many offer to send a notification only on a certain day, without reference to time. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Of course, there are many ways to set up notifications and reminders for yourself - a lot of calendars, such as online services with SMS reminders, as well as programs for desktops and phones (for example, the calendar from Apple, which is synchronized between devices via iCloud).  But all this makes doing extra actions - open a calendar, add an event, fill out ... But everything can be done much easier with a simple text line (lovers working in the console, I think, understand what I mean). <br><br>  If the Twitter client is constantly open on the desktop, and the mobile client opens several times a day - why not just write a tweet that will be back at the right time.  You do not need to open something else, or remember the site / look for it in the bookmarks, where you can make a reminder. <br><br>  During the evening a bot was written, so to speak.  I do not know what I wanted more - to make a convenient service for myself or to practice working with the Twitter API.  I registered an account for him - the word ‚Äúremind‚Äù on the translit, so that it was easy to remember. <br><br>  It's easy to use it, you just need to send a format tweet: <br>  <i><a href="http://twitter.com/napominau">@napominau</a> day.month hour: minute reminder message</i> <br><br>  For example: <br><img src="https://habrastorage.org/storage2/3b5/e43/f86/3b5e43f86121de56ada6dacc49113f5d.png"><br><br>  The bot is implemented as a php script on the server side.  I‚Äôll omit the Twitter API in PHP; a lot of articles are written about it.  In general, everything looks like this: <br><ul><li>  Once a minute, the script takes the last mentions through the Twitter API, while remembering the id of the last tweet previously received.  This allows us in the request parameters to use the <b>since_id</b> parameter in order not to chase unnecessary data. </li><li>  Received tweets understand regular.  If the format is incorrect, a sad tweet is sent to the sender. <br><img src="https://habrastorage.org/storage2/834/f52/f6c/834f52f6cba4776849ee3fbfc70ca5eb.png"><br>  If the format is correct, the tweet is stored in the database, waiting for his time. </li><li>  Once a minute another script goes through the database in search of reminders, the time of which has come.  If any, they are sent to the owner and erased from the base. </li></ul><br><br>  Thus, at a specified time, the user receives a reminder written by him: <br><img src="https://habrastorage.org/storage2/498/7c1/b74/4987c1b7495a81e4860ae402eae0c067.png"><br><br>  In my opinion, the advantages of this "bot" include: <br><ul><li>  convenience of creating reminders - just sending a tweet, no need to perform extra actions; </li><li>  binding reminders not only to the day, but to the time; </li><li>  reminders directly on Twitter, which is convenient if you watch the tape several times a day or do not close the client at all; </li><li>  creating reminders through your Twitter account eliminates the use of a bot for drawing :) (reminders are sent to the owner); </li><li>  Twitter clients are very much under different platforms and devices, even customers already build in TVs, that is, they can be used everywhere; </li><li>  Modern phones allow you to use notifications of new tweets, if the owner has authorized them.  For example, iPhone owners can receive push notifications about new tweets with owner references.  Owners of Android devices can also receive notifications from the client.  This makes reminders even more convenient. </li></ul><br><br>  There were not many technical difficulties - requests are chased through CURL via the REST API, the data is in JSON format.  There were problems when memorizing id tweets - on the server a large number was converted to a format like 1.0542197938321E-081, and since  the last id is used for subsequent requests - this caused problems when sending a request with the <b>since_id</b> parameter - the API returned an error.  True, then in the returned data, the <b>id_str</b> field was found - the same ID only as a text string, not a number, this solved the problem. <br><br>  The Twitter API has <a href="https://dev.twitter.com/docs/rate-limiting">restrictions</a> on the number of calls to the API - 150 unauthorized requests per hour, 350 authorized per hour.  However, this does not apply to POST requests.  Taking tweets once a minute, we use only 60 requests per hour, which is more than enough.  And sending tweets without limit.  Therefore, the bot should not rest against limits. <br><br>  The server is Moscow time, so you need to specify it.  If you specified the time before the current one - then the difference between the current and the specified time is checked - if it is less than 24 hours - then a tweet with a reminder will be sent immediately.  If more than 24 hours - then transferred to the next year. <br><br>  I would be glad if someone bot seemed useful.  The method of use is in the description of the <a href="http://twitter.com/napominau">@napominau</a> account (time, you need to specify Moscow time). <br><br>  PS I would be thinking of my bots at the site of many services - to take some applications / orders via Twitter - in my opinion, people are comfortable. </div><p>Source: <a href="https://habr.com/ru/post/139096/">https://habr.com/ru/post/139096/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../139088/index.html">Live Webcast of the Red Hat Enterprise Linux 6 Review Seminar</a></li>
<li><a href="../139089/index.html">Happy Overclocker! @ 29</a></li>
<li><a href="../139090/index.html">TPB: No more .torrents - Tracker completely switched to magnet links</a></li>
<li><a href="../139091/index.html">Application guide: what to choose</a></li>
<li><a href="../139093/index.html">Creating spring beans from regular classes and unit tests</a></li>
<li><a href="../139097/index.html">Internet Math: Results</a></li>
<li><a href="../139100/index.html">Apple shoot</a></li>
<li><a href="../139101/index.html">Startup Weekend in Kiev!</a></li>
<li><a href="../139103/index.html">Demonstration of augmented reality from Qualcomm at MWC 2012. Video</a></li>
<li><a href="../139104/index.html">Play! in the Cloud</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>