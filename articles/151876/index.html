<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Russian Code Cup 2012: a detailed analysis of the tasks from the final in pictures, video and examples</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On September 10, 2012, the Russian Code Cup 2012 Programming Championship was completed. A detailed account of how everything happened was published e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Russian Code Cup 2012: a detailed analysis of the tasks from the final in pictures, video and examples</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/3b4/f55/3d9/3b4f553d9a489b473e1d8e7202d0d68b.jpg" align="right">  On September 10, 2012, the Russian Code Cup 2012 Programming Championship was completed. A detailed account of how everything happened was <a href="http://habrahabr.ru/company/mailru/blog/151614/">published earlier</a> , and today we will examine the tasks that have been proposed to the finalists.  There were only six of them, and each of them is a separate interesting story: <br><ul><li>  <a href="http://habrahabr.ru/company/mailru/blog/151876/">about evil birds</a> running along the branch </li><li>  <a href="http://habrahabr.ru/company/mailru/blog/151876/">about the inhabitants of the planet Trisol</a> - Trisolians - with their cunning system of keeping life histories, </li><li>  <a href="http://habrahabr.ru/company/mailru/blog/151876/">about the fabulous city of Aldersberg</a> , where our finalists are waiting for a decision (citizens need to arrange their magical artifacts in order to survive the siege of enemies), </li><li>  <a href="http://habrahabr.ru/company/mailru/blog/151876/">about the hard life of a dual-core processor</a> , </li><li>  and also <a href="http://habrahabr.ru/company/mailru/blog/151876/">about the machine mixing the pack of cards</a> </li><li>  and <a href="http://habrahabr.ru/company/mailru/blog/151876/">about finding the length of the race track</a> . </li></ul><br><br>  Three hours were allocated for solving these problems.  The only one who solved five problems out of six was the winner of the Russian Code Cup 2012 <b>Vladislav Epifanov</b> .  Slightly less than half of the finalists decided on four tasks.  The first three tasks did almost everything.  The task about the deck of cards was solved correctly only by one <b>Eugene Kapun</b> .  The second place in the tournament was taken by <b>Natalya Bondarenko</b> , who solved four tasks faster than others and with a smaller number of attempts. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="birds"></a><h1>  Angry Birds </h1><br>  <b>Andrei KALININ</b> , the head of the Mail.Ru Search developers <b>department</b> , will tell about the problem statement. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/4VBicJtPr8M%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700191,15700253,15700255,15700259&amp;usg=ALkJrhjX9tg9wB0_i1ySlmhVmc04ipeEbg" frameborder="0" allowfullscreen=""></iframe><br><br>  The task is called "Angry Birds."  Its essence is simple.  There is a wire of finite length on which the birds are located.  Some birds go to the right, some to the left.  When they meet each other, they change direction.  When they reach the end of the wire, they take off.  We need to determine when each of these birds will take off.  According to the conditions of the problem there may be up to 100,000 birds marching in each direction, therefore, in total there are not more than 200,000. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/37f/9ef/53a/37f9ef53a3f0e33eaaa4ba63cc2ff81c.jpg"><br><br><div class="spoiler">  <b class="spoiler_title">Detailed statement of the problem</b> <div class="spoiler_text"><blockquote>  <i>As you know, birds love to sit on the wires.</i>  <i>In the county town of K there is one long, especially favorite wire.</i>  <i>At one point, there were several birds perched on it.</i>  <i>Everything would be fine, but here only a pig running under the wire raised such a cloud of dust that it made the birds very angry.</i> <i><br><br></i>  <i>Becoming evil, the birds began to run on this wire in different directions - someone to the left, someone to the right.</i>  <i>In this case, all the birds began to run at the same speed, equal to one meter per minute.</i>  <i>When two birds meet, moving towards each other, they immediately turn around and begin to run at the same speed in the opposite direction.</i> <i><br><br></i>  <i>This process would continue indefinitely, but only the wire was nevertheless finite, and as soon as one of the birds reaches the end of the wire, it immediately takes off, and all the other birds, stunned by this, turn around and begin to run in the opposite direction.</i>  <i>If two birds reach the edge at the same time, then two reversals take place, or, which is the same, nothing happens.</i> <i><br><br></i>  <i>You need to write a program that, according to the length of the wire, the initial positions and directions of the birds running, will find out for each bird at what point in time it will fly away from the wire.</i> <i><br><br></i>  <i><u>Input Format</u></i> <i><br><br></i>  <i>The first line contains a single integer L (1 ‚â§ L ‚â§ 109) - the length of the wire in meters.</i> <i><br><br></i>  <i>The second line contains the number n (0 ‚â§ n ‚â§ 100 000) - the number of birds running to the right.</i>  <i>The third line contains n different integers a <sub>i</sub> (0 &lt;a <sub>i</sub> &lt;L) - the distance in meters from the left end of the wire to the birds running to the right.</i> <i><br><br></i>  <i>The fourth line contains the number m (0 ‚â§ m ‚â§ 100 000) - the number of birds running to the left.</i>  <i>The fifth line contains m different integers b <sub>i</sub> (0 &lt;b <sub>i</sub> &lt;L) - the distance in meters from the left end of the wire to the birds running to the left.</i> <i><br></i>  <i>No two birds are originally in the same place.</i>  <i>It is guaranteed that at least one bird is sitting on the wire.</i> <i><br><br></i>  <i><u>Output format</u></i> <i><br><br></i>  <i>In the first line print n integers t <sub>i</sub> - in how many minutes the ith bird will fly away in the order of description in the input, running to the right.</i>  <i>In the second line print m integers u <sub>i</sub> - in how many minutes the ith bird will fly away in the order of description in the input, running to the left.</i> <i><br><br></i>  <i><u>Time limit</u> - 2 seconds</i> <i><br><br></i>  <i><u>Memory limit</u> - 256 megabytes</i> <i><br><br></i> </blockquote></div></div><br><br>  An example was given in the problem.  To explain its statement and decision, it will be useful to track the movement of the birds every minute using this example.  It provides the following introductory data: two birds are on the 8th and 9th meter and go to the right, three more birds are on the 2nd, 5th and 7th meter and go to the left.  The length of the wire is 10 meters.  This is the initial situation.  It is necessary to calculate when a bird takes off. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/207/c4c/503/207c4c50336d46d7e3fc0648eb257b31.jpg"><br><br>  As can be seen, in the first and fifth minutes the birds fly away from the right end, on the tenth two birds fly at once, and on the thirteenth the last flies. <br><br>  It is important to note here that the order of the birds never changes.  Also note that, despite the zigzags described by birds, the number of birds moving left or right does not depend on their collision, and the nature of the change in motion coordinates always remains linear.  This is clearly visible in the interval from the first to the fifth minute, when there were already three collisions. <br><br>  On the right in two columns I indicated the position of the birds.  Immediately it becomes obvious that the moment of the first take-off from the wire can be predicted - the number of minutes (= number of meters) to the end of the wire from the nearest to one of the ends of the bird. <br><br>  It also shows that after takeoff, all coordinates attached to the movement to the right become coordinates attached to the movement to the left, and vice versa. <br><br>  As a result, the solution of the problem is reduced to the management of two decks (deque) - data structures of the type ‚Äúdouble-ended queue‚Äù, in which the removal of the first or last element is carried out in O (1).  When the bird takes off, the extreme element is removed from the deck, and the decks themselves change places.  Storing couples &lt;dec;  how many it is necessary to add to the numbers in it&gt; it is possible for O (1) to find, after what time and in which direction the next bird will fly.  Since the order of the birds does not change, a sorted array of coordinates of the original location of the birds should also be stored in order to determine which bird left the wire. <br><br>  The most beautiful solution is the solution on Python3: <br><br><pre><code class="hljs vbscript">from collections import deque length = <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(input()) n = <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(input()) <span class="hljs-built_in"><span class="hljs-built_in">right</span></span> = deque(sorted(map(<span class="hljs-built_in"><span class="hljs-built_in">int</span></span>, input().<span class="hljs-built_in"><span class="hljs-built_in">split</span></span>()))) m = <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(input()) <span class="hljs-built_in"><span class="hljs-built_in">left</span></span> = deque(sorted(map(<span class="hljs-built_in"><span class="hljs-built_in">int</span></span>, input().<span class="hljs-built_in"><span class="hljs-built_in">split</span></span>()))) addLeft, addRight = <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> INF = <span class="hljs-number"><span class="hljs-number">2</span></span>*<span class="hljs-number"><span class="hljs-number">10</span></span>**<span class="hljs-number"><span class="hljs-number">9</span></span> ans = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-built_in"><span class="hljs-built_in">right</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-built_in"><span class="hljs-built_in">left</span></span>: L = <span class="hljs-built_in"><span class="hljs-built_in">left</span></span>[<span class="hljs-number"><span class="hljs-number">0</span></span>] + addLeft <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-built_in"><span class="hljs-built_in">left</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> INF R = length - (<span class="hljs-built_in"><span class="hljs-built_in">right</span></span>[<span class="hljs-number"><span class="hljs-number">-1</span></span>] + addRight) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-built_in"><span class="hljs-built_in">right</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> INF m = min(L, R) ans += m addLeft -= m addRight += m <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> L &lt; R: <span class="hljs-built_in"><span class="hljs-built_in">left</span></span>.popleft() <span class="hljs-built_in"><span class="hljs-built_in">left</span></span>, addLeft, <span class="hljs-built_in"><span class="hljs-built_in">right</span></span>, addRight = <span class="hljs-built_in"><span class="hljs-built_in">right</span></span>, addRight, <span class="hljs-built_in"><span class="hljs-built_in">left</span></span>, addLeft elif L == R: <span class="hljs-built_in"><span class="hljs-built_in">left</span></span>.popleft() <span class="hljs-built_in"><span class="hljs-built_in">right</span></span>.pop() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">right</span></span>.pop() <span class="hljs-built_in"><span class="hljs-built_in">left</span></span>, addLeft, <span class="hljs-built_in"><span class="hljs-built_in">right</span></span>, addRight = <span class="hljs-built_in"><span class="hljs-built_in">right</span></span>, addRight, <span class="hljs-built_in"><span class="hljs-built_in">left</span></span>, addLeft print (ans)</code> </pre> <br><br>  The task with the birds was first done by <b>Michael KEVER</b> by the 22nd minute since the start of the round.  A few seconds later, the task was handed over to <b>Vasil Biletsky</b> . <br><br>  In total, 40 people coped with the task, and 11 people started solving it.  The average time to solve it is 30 minutes.  Of these, the biggest time to resolve is 44 minutes (not counting situations where no decision was sent at all).  All 11 people who successfully solved the first task of the first, decided at least two more.  With the exception of 2 cases out of 11, they all went to task B, and then to task C, that is, they performed tasks in alphabetical order.  This task is in third place among all the tasks from which the contest began. <br><br><a name="trisol"></a><h1>  Trisolians </h1><br>  <b>Ilya WAISMAN</b> , technical director of Allods Online, tells us about the Trisolians problem: <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/FNHia3Wbcf4%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700191,15700253,15700255,15700259&amp;usg=ALkJrhjeBpiLBsIMm7w_GWgWgxU6iIRgaA" frameborder="0" allowfullscreen=""></iframe><br><br>  According to the condition of the problem, some inhabitants of the planet Trisol designate their age not as a single integer, as we, earthlings, but with a vector of k integers.  In a newborn Trisolian, the age vector consists of only zeros, but every year an adult grows, each positive element of each element of the age vector is added.  The life history of a Trisolian is a collection of all the age vectors that he had during his life.  It is precisely known that Trisolians with the same history do not exist.  Scientists are interested in what the maximum number of Trisolians life history ends on a vector, the sum of the elements of which is equal to n.  You need to write a program that calculates this value modulo a prime number 7340033 = 7 * 2 ^ 20 + 1. <br><br>  For example, for k = 2 there can exist 8 Trisolians, whose life history ends on a vector with the sum of 5. <br><br>  1. (0, 0) - (1, 1) - (2, 3); <br>  2. (0, 0) - (1, 1) - (3, 2); <br>  3. (0, 0) - (1, 2) - (2, 3); <br>  4. (0, 0) - (1, 4); <br>  5. (0, 0) - (2, 1) - (3, 2); <br>  6. (0, 0) - (2, 3); <br>  7. (0, 0) - (3, 2); <br>  8. (0, 0) - (4, 1). <br><br><div class="spoiler">  <b class="spoiler_title">Detailed statement of the problem</b> <div class="spoiler_text"><blockquote>  <i>Recently it became known that the inhabitants of the planet Trisol designate their age not as a single integer, as we are earthlings, but as a vector of k integers.</i>  <i>It is believed that in a newborn Trisolian the vector of its age consists of k zeros.</i>  <i>As they grow older, each year, to each element of the age vector, some positive number is added.</i> <i><br><br></i>  <i>The life history of a Trisolian is the set of all vectors of his age that he had during his life.</i>  <i>Earth scientists have found that there are no two Trisolians with the same history.</i> <i><br><br></i>  <i>Now scientists are interested in what is the maximum number of Trisolians, the life story ends on a vector whose sum of elements is equal to n.</i>  <i>Write a program that calculates this value modulo a prime number 7340033 = 7 ¬∑ 220 + 1.</i> <i><br><br></i>  <i><u>Input Format</u></i> <i><br><br></i>  <i>The first line contains two integers n and k - the sum of the elements of the last vector of age, and the number of elements in the vector (1 ‚â§ n ‚â§ 4239, 1 ‚â§ k ‚â§ 10 <sup>9</sup> ).</i> <i><br><br></i>  <i><u>Output format</u></i> <i><br><br></i>  <i>Print the maximum number of Trisolians whose life history can end on a vector whose sum of elements is equal to n.</i>  <i>The answer should be displayed modulo 7340033 = 7 ¬∑ 2 <sup>20</sup> + 1.</i> <i><br></i> </blockquote></div></div><br><br><img src="http://theinfosphere.org/images/thumb/3/3f/Trisolians2.jpg/180px-Trisolians2.jpg" align="left">  <i>A little historical background, without which the solution of the problem is probably impossible.</i>  <i>The Trisolians are the inhabitants of the planet Trisol, located deep within the Forbidden Zone in the Galaxy of Terror.</i>  <i>Consist of 100% liquid.</i>  <i>Can easily change their shape.</i>  <i>Ordinary people are peaceful, which is not the ruling elite.</i>  <i>From time to time they drink each other, moving in this way along the career ladder.</i> <br><br>  The task is relatively simple, because all its solution is reduced to combinatorics.  On the other hand, it immediately becomes not as simple as it seems when you look at the possible range of k - vector dimensions (1 ‚â§ k ‚â§ 10000000000). <br><br><table><tbody><tr><td>  N = 2 </td><td>  N = 3 </td><td>  N = 4 </td><td>  N = 5 </td><td>  N = 6 </td></tr><tr><td>  (0,0) - (1,1) </td><td>  (0,0) - (1,2) <br>  (0,0) - (2,1) </td><td>  (0,0) - (1,1) - (2,2) <br>  (0,0) - (2,2) <br>  (0,0) - (3,1) <br>  (0,0) - (1,3) <br></td><td>  (0, 0) - (1, 1) - (2, 3); <br>  (0, 0) - (1, 1) - (3, 2); <br>  (0, 0) - (1, 2) - (2, 3); <br>  (0, 0) - (2, 1) - (3, 2); <br>  (0, 0) - (2, 3); <br>  (0, 0) - (3, 2); <br>  (0, 0) - (4, 1). <br>  (0, 0) - (1, 4); <br></td><td>  (0,0) - (1,1) - (2,2) - (3,3) <br>  (0,0) - (1,1) - (4,2) <br>  (0,0) - (1,1) - (2,4) <br>  (0,0) - (1,1) - (3,3) <br>  (0,0) - (1,2) - (3,3) <br>  (0,0) - (1,2) - (2,4) <br>  (0,0) - (2,1) - (3,3) <br>  (0,0) - (2,1) - (4,2) <br>  (0,0) - (2,2) - (3,3) <br>  (0,0) - (3,1) - (4,2) <br>  (0,0) - (1,3) - (2,4) <br>  (0,0) - (5,1) <br>  (0,0) - (1,5) <br>  (0,0) - (4,2) <br>  (0,0) - (2,4) <br>  (0,0) - (3,3) <br></td></tr><tr><td>  1 option </td><td>  2 options </td><td>  4 options </td><td>  8 options </td><td>  16 options </td></tr></tbody></table><br><br><br>  The key idea to understand the solution is that the ‚Äúbushes‚Äù for large values ‚Äã‚Äãof N partially consist of solutions for smaller values, which allows you to organize calculations through recursion. <br><br>  Graphically, for the particular case of k = 2, the life history can be displayed as a set of segments connecting the zero mark with positive integer marks lying on the axis on the line f (x) = nx. <br><br>  Here is the solution for N = 4: <br><br><img src="http://content.foto.mail.ru/corp/r.aliev/193/i-219.jpg"><br><br>  For N = 4 stories - eight. <br><br>  Now add the vector (1,1) to this story and get <br><br><img src="http://content.foto.mail.ru/corp/r.aliev/193/i-220.jpg"><br><br>  Each of the stories beginning with the vector (1,1) will be part of the history for N = 7.  The other part of the story will be smaller bushes, starting with the vector (1,2), etc. <br><br>  Similar story with other vectors.  Let us give an example for the vector (1,3), which is the beginning of a part of the elements of history for N = 7.  In this case, the following will be released: <br><br><img src="http://content.foto.mail.ru/corp/r.aliev/193/i-218.jpg"><br><br>  That is, if we take the vector that was given to the Trisolian for the first year of birth, and subtract it from all vectors of the life history of the Trisolian, then after discarding this vector we will actually get some life history of the Trisolian, whose sum of the elements of the last vector is n - (the sum elements of the ejected vector). <br><br>  Thus, it can be understood that all stories in which the sum of the elements of the last vector is equal to n can be obtained from stories with the last vector having the sum of elements m for some m &lt;n, adding some vector of positive elements with a sum equal to n - m co the whole history of life. <br><br>  How many such vectors will be with a sum equal to nm?  The minimum vector includes one in each coordinate, hence the total of vectors, of the entire component k, as a result, the sum nmk appears.  It is necessary now to distribute units to k coordinates.  The number of ways to do this is the number of combinations with repetitions.  The number of combinations with repetitions is calculated as <br><br><img src="http://latex.codecogs.com/gif.latex?\frac{(n+r-1)!}{r! (r-1)!}" title="\ frac {(n + r-1)!} {r! (r-1)!}"><br><br>  And the number of combinations without repetitions is calculated as <br><br><img src="http://latex.codecogs.com/gif.latex?\frac{n!}{r! (n-r)!}" title="\ frac {n!} {r! (n-r)!}"><br><br>  From which it is easily deduced that the number of combinations with repetitions of a in b is equal to the number of combinations without repetitions of a + b - 1 in b. <br><br>  So in our case the number of ways is C out of n - m - k + k - 1 by <br>  k, i.e. C from n - m - 1 through k. <br><br><img src="http://latex.codecogs.com/gif.latex?C^k_{n-m-1}" title="C ^ k_ {n-m-1}"><br><br>  Denoting the desired value as ans <sub>n</sub> , we get the following recurrent formula :.  It is assumed that ans <sub>0</sub> = 1. The running time of the algorithm is O (n2). <br><br><img src="http://latex.codecogs.com/gif.latex?ans_n = \sum_{i=0}^{n-1} ans_i \times C^k_{n-i-1}" title="ans_n = \ sum_ {i = 0} ^ {n-1} ans_i \ times C ^ k_ {n-i-1}"><br><br><br><br>  where C (x, y) is the number of combinations of the second argument in the first, calculated as x!  / (xy)!  / y! <br><br>  The task of the Trisolians was done by almost all of those present at the final (except for two people).  It took about 18 minutes to complete the task.  The first was made by <b>Roman RIZVANOV</b> at the 11th minute, with a small margin - <b>Yevgeny KAPUN</b> . <br><br><a name="processor"></a><h1>  CPU </h1><br>  <b>Alexander GORNY</b> , CIO Mail.Ru Group will tell about the processor problem: <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/6yvoCmeE6Wo%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700191,15700253,15700255,15700259&amp;usg=ALkJrhjfyfleb_i_GX-pWxrYh4T-ajXUvg" frameborder="0" allowfullscreen=""></iframe><br><br>  The task involves a dual-core processor that can perform 26 different instructions.  Each instruction is symbolically written with the letter of the English alphabet.  Programs consist of a set of instructions.  It is necessary to calculate what minimum time the processor will need to process the specified 2n programs (which in turn consist of specific instructions consisting of the specified sequence), if it is known that due to the architecture in the two cores, only identical instructions can be executed at one time, and n - the number of such processors. <br><br>  Illustration of how a processor can process two programs at the same time: <br><br><img src="http://content.foto.mail.ru/corp/r.aliev/193/i-222.jpg"><img src="http://content.foto.mail.ru/corp/r.aliev/193/i-221.jpg"><br><br>  The task comes down to how to efficiently scatter 2n programs across n processors and two cores in each so that the number of steps is minimal. <br><br><div class="spoiler">  <b class="spoiler_title">Detailed statement of the problem</b> <div class="spoiler_text"><blockquote>  <i>As is known, most of the processors currently being manufactured are multi-core, that is, they support the execution of several instructions simultaneously.</i>  <i>Paraltel has developed a new type of dual-core processor that allows you to perform 26 different instructions, denoted by capital Latin letters.</i>  <i>Execution of each such instruction requires exactly one processor cycle.</i> <i><br><br></i>  <i>The program for this processor is a sequence of instructions.</i>  <i>The instructions of the program must be executed in the order in which they follow in the program; it is not allowed to interchange instructions.</i> <i><br><br></i>  <i>Due to the presence of two cores, the processor can simultaneously execute two programs - one on each core.</i>  <i>However, due to the nature of the architecture, only identical instructions can be executed simultaneously on two cores of the same processor.</i> <i><br><br></i>  <i>When two programs are executed on a processor, a special control device optimizes execution so as to complete the execution of both programs as early as possible.</i>  <i>For example, the programs ‚ÄúABB‚Äù and ‚ÄúABC‚Äù can be executed on the processor in 4 cycles: first, the commands ‚ÄúA‚Äù of both programs are executed simultaneously on different cores, then the commands ‚ÄúB‚Äù simultaneously, then the command ‚ÄúB‚Äù from the first program and, finally, "C" of the second.</i>  <i>Similarly, the programs "CAB" and "BAB" are executed in 4 cycles.</i> <i><br><br></i>  <i>Recently, company specialists have assembled a supercomputer from n processors, on which it is necessary to run 2n programs.</i>  <i>The organization of calculations is such that each processor must execute exactly two programs from this set, one on each core.</i> <i><br><br></i>  <i>You need to plan the execution of 2n programs on n processors so that the completion time of all programs is minimal.</i> <i><br><br></i>  <i><u>Input Format</u></i> <i><br><br></i>  <i>The first line contains the number n (1 ‚â§ n ‚â§ 10) - the number of processors.</i>  <i>Further, in 2n lines, the programs that must be executed are specified.</i>  <i>Each program contains from 1 to 100 teams.</i>  <i>Each command is given a capital Latin letter.</i> <i><br><br></i>  <i><u>Output format</u></i> <i><br><br></i>  <i>Print a single number - the minimum time for which you can run all the programs.</i> <i><br><br></i> </blockquote></div></div><br><br>  As an example, the task is a set of the following programs: ABB BAB CAB ABC <br>  and information that there are two processors. <br><br>  These four steps are needed to run the program on two processors: <br><br><table><tbody><tr><td>  Processor 1 core 1 </td><td>  Processor 1 core 2 </td><td>  Processor 2 core 1 </td><td>  Processor 2 core 2 </td></tr><tr><td>  [A] BB </td><td>  [A] BC </td><td>  [B] AB </td><td></td></tr><tr><td>  A [B] B </td><td>  A [B] C </td><td></td><td>  [C] AB </td></tr><tr><td>  AB [B] </td><td></td><td>  B [A] B </td><td>  C [A] B </td></tr><tr><td></td><td>  AB [C] </td><td>  BA [B] </td><td>  CA [B] </td></tr></tbody></table><br><br>  We divide the solution of the problem into two stages and consider each separately. <br><br>  The first step will be the construction of the graph.  The vertices of it are 2n programs that we need to execute.  The graph will be weighted, and the weight of the edge between the two programs is equal to the amount of time the processor will spend on their joint execution.  This value is equal to the sum of program lengths minus those commands that will be executed simultaneously.  And there are no more such commands than LCS (a, b), where a and b are the lines describing the programs, and LCS ( <a href="http://en.wikipedia.org/wiki/Longest_common_subsequence_problem">Longest Common Subsequence</a> , the greatest common subsequence) is the function that finds the greatest common subsequence of the two sequences. <br><br>  As a result, the function of finding the weight of the edge will look like this: <br><br><pre> <code class="hljs matlab">int dist(String a, String b) { int[][] d = new int[a.<span class="hljs-built_in"><span class="hljs-built_in">length</span></span>() + <span class="hljs-number"><span class="hljs-number">1</span></span>][b.<span class="hljs-built_in"><span class="hljs-built_in">length</span></span>() + <span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (int[] ar : d) { Arrays.fill(ar, <span class="hljs-number"><span class="hljs-number">1000000000</span></span>); } d[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (int <span class="hljs-built_in"><span class="hljs-built_in">i</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">i</span></span> &lt;= a.<span class="hljs-built_in"><span class="hljs-built_in">length</span></span>(); ++<span class="hljs-built_in"><span class="hljs-built_in">i</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (int <span class="hljs-built_in"><span class="hljs-built_in">j</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">j</span></span> &lt;= b.<span class="hljs-built_in"><span class="hljs-built_in">length</span></span>(); ++<span class="hljs-built_in"><span class="hljs-built_in">j</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">i</span></span> &lt; a.<span class="hljs-built_in"><span class="hljs-built_in">length</span></span>()) { d[<span class="hljs-built_in"><span class="hljs-built_in">i</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-built_in"><span class="hljs-built_in">j</span></span>] = Math.<span class="hljs-built_in"><span class="hljs-built_in">min</span></span>(d[<span class="hljs-built_in"><span class="hljs-built_in">i</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-built_in"><span class="hljs-built_in">j</span></span>], d[<span class="hljs-built_in"><span class="hljs-built_in">i</span></span>][<span class="hljs-built_in"><span class="hljs-built_in">j</span></span>] + <span class="hljs-number"><span class="hljs-number">1</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">j</span></span> &lt; b.<span class="hljs-built_in"><span class="hljs-built_in">length</span></span>()) { d[<span class="hljs-built_in"><span class="hljs-built_in">i</span></span>][<span class="hljs-built_in"><span class="hljs-built_in">j</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>] = Math.<span class="hljs-built_in"><span class="hljs-built_in">min</span></span>(d[<span class="hljs-built_in"><span class="hljs-built_in">i</span></span>][<span class="hljs-built_in"><span class="hljs-built_in">j</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>], d[<span class="hljs-built_in"><span class="hljs-built_in">i</span></span>][<span class="hljs-built_in"><span class="hljs-built_in">j</span></span>] + <span class="hljs-number"><span class="hljs-number">1</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">i</span></span> &lt; a.<span class="hljs-built_in"><span class="hljs-built_in">length</span></span>() &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">j</span></span> &lt; b.<span class="hljs-built_in"><span class="hljs-built_in">length</span></span>() &amp;&amp; a.charAt(<span class="hljs-built_in"><span class="hljs-built_in">i</span></span>) == b.charAt(<span class="hljs-built_in"><span class="hljs-built_in">j</span></span>)) { d[<span class="hljs-built_in"><span class="hljs-built_in">i</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-built_in"><span class="hljs-built_in">j</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>] = Math.<span class="hljs-built_in"><span class="hljs-built_in">min</span></span>(d[<span class="hljs-built_in"><span class="hljs-built_in">i</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-built_in"><span class="hljs-built_in">j</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>], d[<span class="hljs-built_in"><span class="hljs-built_in">i</span></span>][<span class="hljs-built_in"><span class="hljs-built_in">j</span></span>] + <span class="hljs-number"><span class="hljs-number">1</span></span>); } } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> d[a.<span class="hljs-built_in"><span class="hljs-built_in">length</span></span>()][b.<span class="hljs-built_in"><span class="hljs-built_in">length</span></span>()]; }</code> </pre><br><br>  The second stage of the solution will be finding a perfect matching in this graph, in which the weight of the maximum edge is minimized.  One of the simplest algorithms that solve this problem and fit into the time constraints is dynamic programming, but by subsets.  Suppose that for each set of vertices of size at most k, we know the answer.  In this case, sorting through all such sets and adding to each one all possible edges that are not yet in it, we will be able to calculate the answer for all sets of size no more than k + 2. <br><br><pre> <code class="hljs markdown"> int[<span class="hljs-string"></span><span class="hljs-string"></span>] d = new int[<span class="hljs-string"><span class="hljs-string">1 &lt;&lt; (2 * n)</span></span>]; Arrays.fill(d, 1000000000); d[<span class="hljs-string"><span class="hljs-string">0</span></span>] = 0; for (int mask = 0; mask + 1 <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;&lt; (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">2</span></span></span></span><span class="xml"><span class="hljs-tag"> * </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">n</span></span></span></span><span class="xml"><span class="hljs-tag">); ++</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">mask</span></span></span></span><span class="xml"><span class="hljs-tag">) { </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">d</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">mask</span></span></span></span><span class="xml"><span class="hljs-tag">] == </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">1000000000)</span></span></span></span><span class="xml"><span class="hljs-tag"> { </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">continue</span></span></span></span><span class="xml"><span class="hljs-tag">; } </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">0;</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">while</span></span></span></span><span class="xml"><span class="hljs-tag"> ((</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">mask</span></span></span></span><span class="xml"><span class="hljs-tag"> &amp; (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">)) != </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">0)</span></span></span></span><span class="xml"><span class="hljs-tag"> { ++</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">; } </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">for</span></span></span></span><span class="xml"><span class="hljs-tag"> (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">i</span></span></span></span><span class="xml"><span class="hljs-tag"> + </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">2</span></span></span></span><span class="xml"><span class="hljs-tag"> * </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">n</span></span></span></span><span class="xml"><span class="hljs-tag">; ++</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag">) { </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> ((</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">mask</span></span></span></span><span class="xml"><span class="hljs-tag"> &amp; (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag">)) == </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">0)</span></span></span></span><span class="xml"><span class="hljs-tag"> { </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">d</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">mask</span></span></span></span><span class="xml"><span class="hljs-tag"> | (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">) | (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag">)] = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">Math.min(d[mask</span></span></span></span><span class="xml"><span class="hljs-tag"> | (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">) | (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag">)], </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">Math.max</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">d</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">mask</span></span></span></span><span class="xml"><span class="hljs-tag">], </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">dist</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">][</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag">])); } } }</span></span></span></span></code> </pre><br><br>  Task "Processor" did almost all of those present at the finals (except for two people).  The average time to solve this problem is about 18 minutes.  The first to solve the problem was <b>Vladislav EPIFANOV</b> in the 11th minute. <br><br><a name="aldersberg"></a><h1>  Siege </h1><br><br>  <b>Pavel KROTKOV</b> , a student at the Department of ITMO, will tell you about the ‚ÄúSiege‚Äù task. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/fbNsyq2Cj2c%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700191,15700253,15700255,15700259&amp;usg=ALkJrhj5HyEpFptyMyF6OGQapHSldSrcrw" frameborder="0" allowfullscreen=""></iframe><br><br>  The task tells about the fantastic city of Aldersberg, which is about to come hordes of enemies.  In order to keep the city, you need to put a barrier of n artifacts, and activate each i-th artifact with magical energy in the amount of a [i] merlin.  After that, using b [i] merlin, the enemy will be able to destroy this artifact from a distance.  Defenders of the city have A merlin of magical energy, in the arsenal of the enemy - B merlin.  The townspeople decided to activate the artifacts so that after their destruction by the enemy magicians, the maximum number of artifacts remains active.  You need to help the defenders of the city to choose which artifacts to activate. <br><br><div class="spoiler">  <b class="spoiler_title">Detailed statement of the problem</b> <div class="spoiler_text"><blockquote>  <i>For the glorious city of Aldersberg hard times have come.</i>  <i>From minute to minute, countless hordes of enemies will go on assault.</i>  <i>Only magical barriers can help keep the city.</i> <i><br><br></i>  <i>In the arsenal of the defenders of the city there are n artifacts that allow you to put a barrier.</i>  <i>To activate the i-th artifact requires a <sub>i</sub> merlin (units of magical energy).</i>  <i>After that, using b <sub>i</sub> merlin, the enemy can destroy the artifact at a distance.</i> <i><br><br></i>  <i>The defenders of the city have A merlin of magical energy, in the arsenal of the enemy B merlin.</i>  <i>Stocks of magical energy are not replenished.</i>  <i>The townspeople decided to activate the artifacts so that after their destruction by the enemy‚Äôs mages, the maximum number remains active.</i> <i><br><br></i>  <i>Help the city defenders choose which artifacts to activate.</i> <i><br><br></i>  <i><u>Input Format</u></i> <i><br><br></i>  <i>The first line contains three integers A, B and n (0 ‚â§ A, B ‚â§ 105, 0 ‚â§ n ‚â§ 1000), separated by spaces.</i>  <i>The next n lines contain pairs of numbers ai and bi (1 ‚â§ a <sub>i</sub> , b <sub>i</sub> ‚â§ 105).</i> <i><br><br></i>  <i><u>Output format</u></i> <i><br><br></i>  <i>In the first line print the number of artifacts that will remain active under optimal actions of both parties to the conflict.</i>  <i>In the second line print the number of artifacts, which should be activated by the defenders of the city, and the numbers of these artifacts.</i>  <i>Separate the numbers in one line with spaces.</i> <i><br><br></i>  <i>The artifacts are numbered, starting from one, in the order in which they are given in the input.</i> <i><br></i> </blockquote></div></div><br><br><img src="http://images3.wikia.nocookie.net/__cb20090626120737/witcher/images/thumb/1/1c/Places_Aldersberg.png/300px-Places_Aldersberg.png" align="left">  <i>A little historical background.</i>  <i>Aldersberg is the second largest city in one of the four Northern Kingdoms, Aedirne, located on the very edge of the world.</i>  <i>The town of Aldersberg was built around the walls of the fortress that guarded the borders of Aedirna ( <a href="http://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25B0%25D0%25BF%25D0%25BA%25D0%25BE%25D0%25B2%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B9,_%25D0%2590%25D0%25BD%25D0%25B4%25D0%25B6%25D0%25B5%25D0%25B9">Andrzej Sapkowski</a> )</i> <br><br>  Suppose the defenders of the city activated some artifacts.  The optimal strategy for their enemies will be to destroy them in the order of increasing b <sub>i</sub> .  Indeed, the goal of the enemy is to destroy as many artifacts as possible.  It makes no sense to spend a lot of energy on a hard-to-destroy artifact, as long as there is an easy target. <br><br>  Renumber the artifacts in the non-decreasing order b <sub>i</sub> .  Let it be known that the first artifact, which the enemy cannot destroy at the optimal actions of the defenders, has the number k.  We describe the actions of the defenders, based on this assumption.  It is necessary to select several of the first k ‚àí 1 artifacts so that the total energy expended to destroy them is at least B ‚Äì b <sub>k</sub> +1 merlines, and the activation energy is minimal.  Activate the k-th artifact.  Finally, the last n ‚àí k artifacts are activated in order of increasing energy costs. <br><br>  Unfortunately, k is not known in advance.  We will go through the number of the first artifact that the enemy cannot destroy, and build the optimal answer for this assumption. <br><br>  Let D <sub>ij</sub> be the minimum energy required to activate artifacts with numbers no more than i (up to 1000), such that their destruction will require j merlin of magical energy (up to 100,000).  Transition: D <sub>i, j</sub> = min (D <sub>i ‚àí 1</sub> , j, D <sub>i ‚àí 1</sub> , j ‚àí b <sub>i</sub> + a <sub>i</sub> ).  These two cases correspond to whether it is necessary to activate the artifact number i in order to achieve the optimal D <sub>ij</sub> . <br><br>  In the array D we find the energy necessary for the fact that the enemy could not destroy the k-th artifact.  After that, we greedily take the rest, while there is enough energy for activation.  In the end, going through all the k we find the optimal answer. <br><br>  The working time of the described approach is O (n (B + n)).  In order to turn it into a full-fledged solution, you need to add information storage to restore the answer, which does not affect the asymptotics. <br><br>  The memory bottleneck could become a bottleneck.  Note that the array D can only store the last line.  In addition, for each pair (i, j), it is enough to know whether it is necessary to activate the artifact number i in order to achieve the optimal D <sub>ij</sub> .  In order to meet the memory constraints, it was necessary to use no more than two bytes to store this bit of information. <br><br>  The task ‚ÄúSiege‚Äù was solved by 19 people.  <b>Peter MITRICHEV</b> coped with this task the <b>fastest</b> in the 87th minute (Peter successfully passed the first three tasks before the Siege task). <br><br><a name="cards"></a><h1>  Deck shuffle </h1><br>  <b>Sergey Melnikov</b> , a student at NRU ITMO, tells about the problem of mixing the deck: <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/2Yzd4MtVocs%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700191,15700253,15700255,15700259&amp;usg=ALkJrhjInkgAncemtFSA6ZDxDkDq-7D-gw" frameborder="0" allowfullscreen=""></iframe><br><br>  In this task, you need to think about the deck mixing mechanism, which allows you to mix it ideally (that is, to make no two identical cards follow each other) for the minimum number of card block movements from the middle to the end of the deck. .  Initially, the deck is sorted by non-decreasing dignity.  Given the number of different advantages of cards, the order of cards in the deck, the number of decks. <br><br><img src="http://content.foto.mail.ru/corp/r.aliev/193/i-223.jpg"><br><br><div class="spoiler">  <b class="spoiler_title">Detailed statement of the problem</b> <div class="spoiler_text"><blockquote>  <i>Automation and computerization are rapidly entering into all spheres of our life.</i>  <i>Dishwashers, on-board computers in cars, electric fly swatches ‚Äî all these devices in one degree or another make standard habitual actions easier for a person.</i>  <i>In the same task, you will be required to automate another familiar to many action - mixing a deck of cards.</i> <i><br><br>    ,      ,       1  t.     ,           . <br><br>        . ,       1,   ‚Äî  t.              ,   ,         . <br><br>     ,          . <br><br>     ,      :   i  j  ,      i-  j-           . <br>    ,            ,        . <br><br></i>  <i><u>Input Format</u></i> <i><br><br>         x ‚Äî  ,   .    x . <br><br>       .          n ‚Äî    .     n  ,     .        ,           ,   1. <br><br>           200000. <br><br></i>  <i><u>Output format</u></i> <i><br><br>   ,   ,  ¬´-1¬ª,   ,     , .     ,        k ‚Äî   ,     .   k   ,       i  j ‚Äî  ,  ,     . <br><br></i> </blockquote></div></div><br><br>  <b></b> , ,       : <br><br><img src="http://content.foto.mail.ru/corp/r.aliev/193/i-217.jpg"><br><br>  <b></b>   ,    ,    . <b></b>    ,        . <br><br><img src="http://content.foto.mail.ru/corp/r.aliev/193/i-194.jpg"><br><br>            .        ,  .        ,      . <br><br>     K.         ,       ‚åàK / 2‚åâ  (       ‚åä‚Ä¶‚åã  ‚åà‚Ä¶‚åâ ‚Äî      ). <br><br>   M            ¬´¬ª.     ,  M = ‚åàK / 2‚åâ. <br><br>  ,         . <br><br> <i> ,   1122333344     3 (  33),    ‚Äì 6.    M = ‚åàK / 2‚åâ.</i> <br><br>    ( )   : <br><br><ol><li> <b>K ‚Äî </b> (  ).   ,  ¬´¬ª   A, ¬´¬ª    B,     ‚Äî   C. |A| + |B| + |C| = |K|,  |A| + |C| = |B| = M.        1122333344  AABBBC. <br><br>    :   (B, C), ,      ‚Äî  (A, B). ,      (B, C)* (A, B)*,  * ‚Äî    . <br><br> <i>   : <br> 1122333344 (AABBC) -&gt;1122333-4.34 (AAB) -&gt; 1-2333-4.3412 (BB) <br><br> (  ,       .  ‚Äì    )</i> <br><br> ,       .        :  |C| &gt; 0,      C   ,      B.   |C| = 0,     (A, B)*,       B   . <br><br></li><li> <b>K ‚Äî .</b>   .        A,      ,       A-.     C,       C-  ,     . </li></ol><br><br>     ,        ‚åàK / 2‚åâ. ,     ,   ¬´¬ª      (  ).     . <br><br>           .           Q. <br><br><ul><li> <b>Q = 0.</b>  ,    . </li><li> <b> Q &gt; ‚åàN / 2‚åâ, </b>    .   ,     Q‚àí1   ,        . </li><li> <b>Q = ‚åàN / 2‚åâ</b> .       ,       .      : <br><br><ul><li> a A-   , </li><li> b = Q B-   </li><li> c C-  . </li></ul><br><br>    ,   A-  C-      <br><br><ul><li> <b>a = 0</b> .  c = N ‚àí Q = ‚åäN / 2‚åã, , , b   c     ,       . </li><li> <b> = 0</b> .   . </li><li> <b>a &gt; 0, b &gt; 0</b>  - a ‚àí 1 ,  B: b ‚àí 1,  C: c ‚àí 1. (a ‚àí 1) + (c ‚àí 1) = N ‚àí Q ‚àí 2,   Q ‚àí 1     ,   ,    . </li></ul><br></li><li> <b>M &lt; ‚åä ( N + 1) / 2 ‚åã</b> .        (     ),      ,        . </li></ul><br><br>        ,    (    ) (C <sub>1</sub> , C <sub>2</sub> ).       ,   ,    .     ,   . <br><br> ,     .     Z,      (X, Z)  Z  ,      Z    Z (X <sub>1</sub> , Z) (X <sub>2</sub> , Z)‚Ä¶.  Z- ,     (X, Y) ,    (X <sub>k</sub> , Z) (X <sub>k+1</sub> , Y),  X <sub>k+1</sub> ‚â† Z. <br><br>        ,      (X, Z)  X  Z     (M).   M ‚â† Z,   Z    (X, Z) (Z, ...)  ,  Z   M,     (X, Z) (M, Z). <br><br>         ,     ,        ‚åàK / 2‚åâ . <br><br>  ,       ,         ,    .           ,       O(N log N). ,   -   ,      ,         .    ,    ,  ,      :          .         O(n),           . <br><br>  ¬´ ¬ª   <b> </b> . <br><br><a name="trassa"></a><h1>   </h1><br>      (): <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/CLZgeKtPl-4%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700191,15700253,15700255,15700259&amp;usg=ALkJrhivj6uQKiZ1M2hwbb1RW2bV9SQ1OA" frameborder="0" allowfullscreen=""></iframe><br><br>        N    .     ,         ,       . <br><br>    ,      .     ,     .  ,        ,         ,    .         ,      ,          . <br><br>        ,      . <br><br>  ,      ,       . <br><br>   ,            . <br><br>            3  258 ,       ‚Äì1000  1000,             . <br><br>       <a href="http://russiancodecup.ru/round/10/">  Russian Code Cup</a> . <br><br>   ‚Äî          . <br><br>           . <br><br>     ,       .    ,  ,   ,     .   ,           . <br><br>     ,      .   ,       . <br><br>       ,         .   ,  ,  ,    ,        . <br><br>       ,            .    ,    ,                 . <br><br><img src="http://content.foto.mail.ru/corp/r.aliev/193/i-224.jpg"><br><img src="http://content.foto.mail.ru/corp/r.aliev/193/i-225.jpg"><br><br>            ,       .        ,    .             ,         .        . <br><br><img src="http://content.foto.mail.ru/corp/r.aliev/193/i-226.jpg"><br><br>                .       ,    ‚Äî  .       . <br><br>    O(n <sup>3</sup> ) ,     O(n <sup>2</sup> )      O(n)  .        O(n)   O(n <sup>2</sup> )   O(n <sup>2</sup> ).  ,      O(n <sup>3</sup> ). <br><br>  ¬´ ¬ª    .     <b> </b> ,     93-      . <br><br> <b>   Russian Code Cup 2012</b> .  ,    ,    ,       - (   ,     <a href="http://habrahabr.ru/company/mailru/blog/144793/"></a> , <a href="http://habrahabr.ru/company/mailru/blog/145262/"></a>  <a href="http://habrahabr.ru/company/mailru/blog/145735/"></a>   ),         ‚Äì   - ( <a href="http://habrahabr.ru/company/mailru/blog/146458/"></a> )     .   ,    ,    ,    . ,             ,   ,    , ? <br><br> <i>  <br></i>  <i>Director of Research and Education</i> <i><br></i>  <i>Mail.Ru Group</i> <i><br></i> </div><p>Source: <a href="https://habr.com/ru/post/151876/">https://habr.com/ru/post/151876/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../151871/index.html">Opera Mini Smartphone - More than a Smartphone</a></li>
<li><a href="../151872/index.html">Pwn2Own members hacked Galaxy SIII and iPhone 4S</a></li>
<li><a href="../151873/index.html">Samsung continues the Galaxy SIII campaign</a></li>
<li><a href="../151874/index.html">KYOCERA made friends with the MFP with Android smartphones</a></li>
<li><a href="../151875/index.html">Artificial Intelligence in the Mail.ru service</a></li>
<li><a href="../151878/index.html">Motorola requests to ban the importation of Apple products in the US (iPhone, iPad and iPod)</a></li>
<li><a href="../151879/index.html">Top 5 most popular CMS: which one to choose?</a></li>
<li><a href="../151882/index.html">RIM and Marmalade joint action for game developers</a></li>
<li><a href="../151883/index.html">Non-canonical STI in Rails</a></li>
<li><a href="../151884/index.html">Animation with HTML + CSS + JS - Japanese Nissan Note Promotion Site</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>