<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Atari 800XL: We look, we sort, we include</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Surely many readers of Habr grew up on the computers of the ZX Spectrum and the BK-0010/0011, or at least came across them in the distant 90s. For man...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Atari 800XL: We look, we sort, we include</h1><div class="post__text post__text-html js-mediator-article">  Surely many readers of Habr grew up on the computers of the ZX Spectrum and the BK-0010/0011, or at least came across them in the distant 90s.  For many, these PCs have become the starting point for the IT world.  But, like many other things, eight-bit home computers came to our country much later than the rest of the civilized world, and not in full.  There, this era began almost 10 years earlier, at the end of the 70s, when the Atari 400/800, Commodore PET and, of course, the Apple II came out.  Home computers began to receive mass distribution in the early 80s.  In 1982, the famous ZX Spectrum 48 and the equally famous Commodore 64 saw the light, the Atari 800XL was released in 1983, and in 1984 the first Macintosh appeared on store shelves.  Like most home computers at the time, the Atari 800XL was based on a 6502C processor with a frequency of 1.79 MHz, had 64K of memory, was able to run games from tapes, pop 5.25 "diskettes, walk on the screen 61440 multi-colored pixels and a lot more. About I am going to talk to this wonderful piece of metal today, however, not only to talk! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c91/01e/aaa/c9101eaaa50879d2f63c9fc2faca8f19.png"><br><a name="habracut"></a><br><br><h4>  0. Theory </h4><br>  As I already wrote, the heart of the Atari 800XL is a 6502C processor operating at 1.79 MHz in the NTSC version and 1.77 MHz in the PAL version of the computer, respectively.  But inside it was far from the only chip.  The POKEY chip, which works with input-output devices and is responsible for the sound subsystem, and the chips responsible for the video subsystem, called ANTIC and GTIA, came to the aid of the 6502.  The ANTIC chip in conjunction with the GTIA made it possible to significantly save the RAM for displaying the image on the screen.  A total of 64KB of RAM was soldered on the board.  Of these 64 KB, only 37,902 bytes are available to the user.  The remaining volume was occupied by the BASIC interpreter.  By default, during system boot, the contents of the ROM chip with the BASIC image are rewritten into RAM.  Interpreter loading could be prevented by pressing the Optio button while turning on.  For obvious reasons, this operation required the majority of games and applications.  I will not bore you with large volumes of text, t.ch.  We will consider everything in more detail when we receive visual information. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  1. We look </h4><br>  As you can see, the computer is a small monoblock, on the upper face of which is a QWERTY keyboard, a slot for cartridges.  To the right of the main keyboard are the Reset, Option, Select, Start, Help keys and the power indicator next to it.  The Reset key is used for the so-called Warm Reset, but if ‚Äúeverything is bad‚Äù and you need a complete reset, you will have to reach for the power switch on the back edge. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3a7/a71/da4/3a7a71da477e03a08443317945914bd9.png"><br><br>  The keyboard is made on the basis of hybrid mechanical-capacitive switches.  When pressed, the spring is compressed, which causes a change in capacity and triggers.  The keys have a very soft and silent move.  Now this type of keyboards is called Topre. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0d9/a4f/de9/0d9a4fde9bb05b356bb98230584d47cd.png"><br><br>  Rear panel.  On it are the main ports of the device.  On the left is the port SIO (Serial Input / Output).  In my opinion, this is one of the most remarkable things in Atari 8-bit computers: this standard allowed us to sequentially connect more than 10 devices to a computer without any problems.  Atari SIO was developed by engineer Joe Dekair (interesting fact: Joe also participated in the development and has some patents on the USB standard).  Next, under the plug, there is a parallel port.  It was used to install extensions.  Such as the <a href="http://www.atarimuseum.com/computers/8BITS/XL/xlperipherals/1090xl.html">Atari 1090XL Expansion System</a> chassis, memory expansion and some other modules.  Closer to him, we look at the disassembly of the device.  Next comes the A / V port, there is nothing unusual here.  A little further - RF plug.  Next to it, you can see the sealed opening of the switch of TV channels, it is present only in the NTSC version.  Next - the power connector and the power switch. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/660/732/1d5/6607321d51e96c86f8363717d40e0374.png"><br><br>  On the right side are the ports of joysticks.  I could not find a native joystick, but as many know, the joysticks from the Sega Master System and the Sega Megadrive use the Atari standard.  T.ch.  the two-button joystick from Sega Master System was very helpful. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/67b/c0e/6c2/67bc0e6c2fb6911697512825c54e4ccb.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b86/e45/f3d/b86e45f3d90ae898ba060b9e98377647.png"><br><br>  The computer is powered by a weighty power supply with a voltage of 5V at 1.5A. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b8b/2b5/772/b8b2b5772ad59ba88381339a8d19e31a.png"><br><br>  And now a small comparison with the ZX Spectrum local spill.  As you can see, the dimensions of the devices are almost identical. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/045/18e/2c2/04518e2c27924438d19bd5485b04e926.png"><br><br><h4>  2. We disassemble </h4><br>  We unscrew the 6 screws and the first thing we see is a massive screen covering almost the entire board.  Metal bolted straight to the board with screws.  On the right is the port of the keyboard cable. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f00/28e/11a/f0028e11aad77b89ec23a2815b3b78b8.png"><br><br>  Surprisingly, the cartridge flap is also a screen.  Nowadays you will not see this. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/115/b64/10a/115b6410ab14e048c888771d45b12823.png"><br><br>  Turning over the board, we see a no less massive screen.  Turn off and him. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d0e/004/8ce/d0e0048cea7e1a808cdb2db8eb612b89.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/53c/bab/701/53cbab701d438fe675b11c288095ac22.png"><br><br>  Unscrewing the top screen, we see all the most interesting.  All chips at a glance. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a1b/7e7/6b1/a1b7e76b1f6f940cc52ffec96f7a5a74.png"><br><br>  For the convenience and satisfaction of readers' curiosity, all the chips were signed by me, but for even more curious ones there is also an <a href="">original photo in high resolution</a> .  The architecture of 8-bit Atari computers is very different from the ZX Spectrum, in which all functions are assigned to the Z80.  For this reason, copying Atari computers was extremely difficult, which led to the lack of popularity in our country, like many other foreign computers. <br><br>  Take a closer look at the chips. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d15/b5b/710/d15b5b7101bede278713816b5ca32471.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/c37/1b7/a4e/c371b7a4e120109544e5cc665c657b79.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/2e7/261/954/2e7261954d502a5751a53e29cb580be4.png"><br><br><h4>  3. Run </h4><br>  First of all, having found the pinout of the video port, I <s>stuck bare wires into the port and</s> ran to the nearest radio parts store, bought a DIN connector, soldered the plug for A / V wires with the usual tulips on the other end, connected the whole thing to the tuner and enjoyed the blue screen with the READY inscription on it.  The blinking cursor clearly beckoned to type a couple of lines of code on BASIC on the keyboard, which I did.  Immediately a little surprised at the process of editing the code, namely: display the listing of the program, move the cursor to the right place and edit.  For clarity, imagine how you after entering the command ls or dir move the cursor to the list of files and right there you rename them.  A new line in the code is added, oddly enough, with the insert key. <br><br><div class="spoiler">  <b class="spoiler_title">BASIC</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/eb4/197/6d3/eb41976d389447aee3da8ccb3f3f22b8.png"><br></div></div><br>  Having played enough with BASIC, I loaded 800XL into test mode, which, as I said, is also sewn into its ROM memory.  This software is nothing particularly interesting, you can check the operation of the keyboard, audio subsystem, check the integrity of the ROM and RAM memory.  The last procedure takes quite a long time - more than 10 minutes.  All tests our veteran safely passed. <br><br><div class="spoiler">  <b class="spoiler_title">SELF TEST</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/377/527/f77/377527f77d25424ac94ac420fc443611.png"><br></div></div><br>  My next goal was the so-called SIO2PC adapter, which allows you to connect SIO to the computer‚Äôs COM port and emulate up to 15 devices.  This makes it possible to connect a pair of virtual drives to our Atari and load any possible images into them, read / write.  You can even print text on a printer and emulate a cassette drive!  Interesting?  So, I was extremely impatient to run at least some disk OS on 800XL and live to enjoy the masterpieces of the demostsena. <br><br>  The adapter itself is a simple converter of logical levels COM-&gt; UART.  I used the MAX232 microcircuit that I got to hand, the circuit is quite simple, it is easily soldered on the breadboard.  But I had problems with the wire, it had a wrong wiring, and did not have a wire for the ninth pin (Ring Indicator), which is used for matching devices. <br><br><div class="spoiler">  <b class="spoiler_title">SIO and DIN board during soldering</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/7aa/6ef/e8f/7aa6efe8f0b20d87a8154f634532db11.png"><br></div></div><br>  For convenience, it was decided to cut one end by soldering the necessary wires straight to the board, and at the other end to solder the unnecessary and solder to the RI output.  The SIO plug itself is completely non-standard and it will not be possible to buy something suitable at the radio store, so it was decided to use simple pin connectors. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7dc/22d/ffc/7dc22dffc663972bc19e10b5c70a8f36.png"><br><br>  After a simple setup of software for device emulation, our hardware started up with the image of a floppy disk downloaded from the network.  A menu appeared on the screen with the choice of loading several OSs at once.  In my opinion, the most convenient, oddly enough, was something called Happy Computer II + / D.  I will not go into details, the various versions of any DOSs for 8-bit Atari PCs are just a sea.  I can only say that together with the disk manager, device drivers are also loaded into RAM.  Many disk operating systems are loaded with support for only 2 input-output devices (which is quite logical), but managers such as Happy Computer and Sparta DOS support up to 12 disk devices, which turned out to be extremely convenient in my case.  In general, all of them are very similar to the usual MS DOS, with the exception of the native Atari DOS 2-2.5, where the commands are presented as a menu. <br><br><div class="spoiler">  <b class="spoiler_title">Disk OS</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/4a9/4bf/205/4a94bf205747b82aa006691731b2a9c8.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/643/bb1/d2b/643bb1d2be1246b82892a06ce9ba0acf.png"><br></div></div><br>  And of course the game!  And there are a lot of them for Atari 8-bit computers.  The largest archive of games I found was more than 6,700 of those.  In general, the quality of many games are not far from the Atari 2600 with its angular graphics, but there are samples that deserve attention.  For example, I was very impressed with the game Encounter.  Pseudo-3D and dynamic gameplay dragged me into the game for almost an hour.  In the game we need to manage a kind of tank-spacecraft and exterminate the alien guests, although you can fantasize what your heart desires. <br><br><div class="spoiler">  <b class="spoiler_title">Zerro and Encounter Games</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/aca/a2d/254/acaa2d254c141f0caac6851eb235bfa1.png"><br></div></div><br><br>  And where without demoscene?  It is very voluminous on Atari, hundreds of demos are made with great graphics and music.  From the 6502 processor and the POKEY chip, the programmers pulled out all the juices.  Several demoscenes were recorded by me right from the iron and are in the section below, I highly recommend to look at them.  Also on pouet.net presents a huge number of different demos of different degrees of coolness.  Direct link to the section of the site will be below. <br><br><h4>  4.Video </h4><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/WNemsvUMgDM%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700253&amp;usg=ALkJrhinPKK4BQRCYhm_bGsYM0hpyjRgMQ" frameborder="0" allowfullscreen=""></iframe><br><br><div class="spoiler">  <b class="spoiler_title">Atari 8-bit power</b> <div class="spoiler_text"><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/W_rSKSrpHzI%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700253&amp;usg=ALkJrhiGYUI-BBnGJoCIgxfZki5-o_GFxw" frameborder="0" allowfullscreen=""></iframe><br>  * This demo is made by Atari itself.  It was on display in stores on display cases. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Dos os</b> <div class="spoiler_text"><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/hju-h6b5Qds%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700253&amp;usg=ALkJrhiL1DkgC5m1E5WndC7OmQb0gixhsg" frameborder="0" allowfullscreen=""></iframe><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Encounter</b> <div class="spoiler_text"><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/1JCUalByhkU%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700253&amp;usg=ALkJrhig1wEGD8UftPw2QjufynkzVn7C4w" frameborder="0" allowfullscreen=""></iframe><br></div></div><br><div class="spoiler">  <b class="spoiler_title">RGBA Demo</b> <div class="spoiler_text"><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/Av_YF4ocPpk%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700253&amp;usg=ALkJrhjmkFzcRn6oADJk6ZA4FBChAGxygA" frameborder="0" allowfullscreen=""></iframe><br></div></div><br><h4>  5.Links </h4><br>  <a href="http://en.wikipedia.org/wiki/Atari_8-bit_family">Atari 8-bit family Eng Wiki</a> <br>  <a href="http://zx-pk.ru/forumdisplay.php%3Ff%3D51">Atari section on zx-pk.ru</a> <br>  <a href="http://www.pouet.net/prodlist.php%3Forder%3Dthumbup%26platform%255B%255D%3DAtari%2BXL%252FXE%26page%3D1">Atari XL / XE section on pouet.net</a> <br>  <a href="http://rutracker.org/forum/viewtopic.php%3Ft%3D1500557">Large archive of applications and games on rutracker</a> <br>  <a href="">Customized Altirra emulator + floppy disk images and applications described in the article</a> <br>  <a href="http://mads.atari8.info/">ASM MADS Cross Compiler</a> <br>  <a href="http://gury.atari8.info/effectus/download.php">Cross-compiler Effectus</a> <br>  <a href="http://sourceforge.net/projects/aspeqt/">AspeQt Device Emulator (SIO2PC)</a> <br><br>  Thanks for attention!  I hope it was interesting. </div><p>Source: <a href="https://habr.com/ru/post/228221/">https://habr.com/ru/post/228221/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../228209/index.html">As I wrote a bot for auction AliExpress</a></li>
<li><a href="../228211/index.html">Smartwatch with Android Wear will make Google Glass a story?</a></li>
<li><a href="../228215/index.html">The digest of interesting news and materials from the world of PHP No. 43 (June 16 - 30, 2014)</a></li>
<li><a href="../228217/index.html">Apple fixes iOS 7 vulnerabilities</a></li>
<li><a href="../228219/index.html">These damn incremental aids</a></li>
<li><a href="../228223/index.html">Astrobench: JavaScript code performance testing</a></li>
<li><a href="../228225/index.html">Torrent render for 3ds max - almost everything will have to be redone</a></li>
<li><a href="../228227/index.html">Ignatius Kolesnichenko: "You will not ask for money from a bacterium"</a></li>
<li><a href="../228229/index.html">An algorithm is developed that effectively removes all the "boring" fragments from the video.</a></li>
<li><a href="../228231/index.html">HD-Voice for cellular communication - Khariton, Dmitry, Vladimir, Oleg, Irina, Glory!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>