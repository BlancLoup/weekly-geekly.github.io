<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>External - GUI for Golang</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings, colleagues! 

 About a month ago, I published here an article on GUI frameworks - to the stream where technology was proposed for creating ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>External - GUI for Golang</h1><div class="post__text post__text-html js-mediator-article">  Greetings, colleagues! <br><br>  About a month ago, I published here an article on <a href="https://habr.com/post/427429/">GUI frameworks - to the stream</a> where technology was proposed for creating GUI frameworks for different programming languages ‚Äã‚Äãbased on connecting (tcp / ip or some other) to an external process playing the role of a kind of GUI server.  Here I want to present a concrete implementation of this idea - a new GUI framework for <i>Golang</i> - <i>External</i> . <br><br>  Why was it even necessary to write a new GUI for <i>Golang</i> if there are already quite a few such tools available?  First of all, because none of them did not suit me fully.  It was necessary to create desktop applications, cross-platform, so that it looked natural for each platform.  If possible, not very cumbersome, having a minimum of dependencies - I am committed to a minimalist approach. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I was guided <a href="https://github.com/avelino/awesome-go">by this list</a> .  Two positions - <i>app</i> and <i>walk</i> were immediately deleted, as not meeting the requirements of cross-platform.  After some thought, he rejected those based on html / css / javascript.  Firstly, it seems to me somewhat unusual to build a desktop application as a web page and, secondly, they are pulling the heavy engines behind them.  For example, <i>go-astilectron</i> and <i>gowd</i> are based on <i>Electron</i> and <i>nw.js</i> , respectively, and these, in turn, on <i>node.js.</i>  Imagine how much should be installed at the end user to run even a small utility?  Is that <i>go-sctiter</i> from this point of view looks preferable: the <i>Sciter</i> behind it <i>is</i> not so monstrous. <br><br>  <i>Go-gtk</i> and <i>gotk3</i> are based on GTK.  This seems to be thoroughly made packages, but I refused them, because, in my opinion, using GTK under Windows is not the best solution.  GTK windows do not look native under Windows.  <i>Qt</i> binding is a powerful thing, of course, but quite complicated, and the size ... When I read: "You need 2.5 GB free RAM (which was used during the initial setup) and at least 5 GB free disk space", the last doubts have disappeared.  Go itself takes ten times less space.  And there are also licensing restrictions: ‚Äúthis is a rule.‚Äù <br><br>  What do we have left from the list?  <i>Ui</i> might be a good option, but he is still in the mid-alpha stage.  <i>Fyne</i> looks good too, but doesn't seem to be ready.  It was somewhat embarrassing that, on the one hand, ‚ÄúFyne is built entirely using vector graphics‚Äù, and, on the other, ‚ÄúEFL windows packages are like that.  Well, I don‚Äôt like that in order to install <i>EFL</i> under Windows (the graphical library on which <i>Fyne</i> is based), <i>MSYS is</i> needed. <br><br>  In short, with all due respect to the authors of the listed packages and to the products of their work, for myself I did not choose anything and with a clear conscience I started what I wanted to do - write a new GUI framework - <i>External</i> . <br><br>  As I wrote in the previous article, <i>External</i> does not implement GUI elements on its own, it uses a separate application for this, a separate process acting as a GUI server, this application is called <i>GuiServer</i> .  <i>External</i> launches it, joins it via tcp / ip, sends commands / requests to create windows and widgets, manipulate them, etc., and receives messages from it. <br><br>  Here is the simplest program that creates a window with the traditional Hello, world text: <br><br><pre><code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> egui <span class="hljs-string"><span class="hljs-string">"github.com/alkresin/external"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> egui.Init(<span class="hljs-string"><span class="hljs-string">""</span></span>) != <span class="hljs-number"><span class="hljs-number">0</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } pWindow := &amp;egui.Widget{X: <span class="hljs-number"><span class="hljs-number">100</span></span>, Y: <span class="hljs-number"><span class="hljs-number">100</span></span>, W: <span class="hljs-number"><span class="hljs-number">400</span></span>, H: <span class="hljs-number"><span class="hljs-number">140</span></span>, Title: <span class="hljs-string"><span class="hljs-string">"My GUI app"</span></span>} egui.InitMainWindow(pWindow) pWindow.AddWidget(&amp;egui.Widget{Type: <span class="hljs-string"><span class="hljs-string">"label"</span></span>, X: <span class="hljs-number"><span class="hljs-number">20</span></span>, Y: <span class="hljs-number"><span class="hljs-number">60</span></span>, W: <span class="hljs-number"><span class="hljs-number">160</span></span>, H: <span class="hljs-number"><span class="hljs-number">24</span></span>, Title: <span class="hljs-string"><span class="hljs-string">"Hello, world!"</span></span> }) pWindow.Activate() egui.Exit() }</code> </pre> <br>  The Init () function launches <i>GuiServer</i> and joins it.  It can be passed a string parameter that determines, if necessary, the name of <i>GuiServer</i> and the path to it, ip address and port, logging level. <br><br>  InitMainWindow () creates the main application window with the specified parameters.  The AddWidget () method adds a label widget. <br><br>  Activate () - displays a window on the screen and puts the program into standby mode. <br>  Both windows and widgets are defined in the Widget structure - I did not make separate structures for each object, since  I did not find a convenient way to implement this, given that there is no inheritance in <i>Go</i> .  This structure includes fields common to most widgets, and map [string] string, where properties specific to a particular object are collected: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Widget <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { Parent *Widget Type <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Name <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> X <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> [...] Font *Font AProps <span class="hljs-keyword"><span class="hljs-keyword">map</span></span>[<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>]<span class="hljs-keyword"><span class="hljs-keyword">string</span></span> aWidgets []*Widget }</code> </pre> <br>  The methods of this structure include the already familiar AddWidget (), as well as SetText (), SetImage (), SetParam (), SetColor (), SetFont (), GetText (), Move (), Enable (), and others. I would like to mention SetCallBackProc () and SetCallBackFunc () - for setting event handlers. <br>  To list here all the functions, structures and methods would be inappropriate, for that is, more precisely.  there must be documentation.  Let me just say a few, to give some general idea: <br><br>  Menu (), MenuContext (), EndMenu (), AddMenuItem (), AddMenuSeparator () - a set of functions for creating a menu, main or contextual. <br>  EvalProc (sCode string), EvalFunc (sCode string) transfer Harbor code fragment (can be multi-line) for execution on GuiServer - a kind of implementation of the embedded scripting language. <br>  OpenForm (sPath string) - creates a window based on the description from the xml file created by HwGui Designer. <br>  OpenReport (sPath string) - prints the report based on the description from the xml file created by HwGui Designer. <br>  MsgInfo (), ..., SelectFile (), SelectColor (), SelectFont () - a call to standard messageboxes and dialogs. <br>  InitPrinter () and the set of methods of the Printer: Say (), Box (), Line (), etc. structure provide printing to the printer with the possibility of a preview. <br><br>  Here is a complete list of currently supported widgets: <br>  label, edit, button, check, radio, radiogr, group, combo, bitmap, line, panel (designed for placing other widgets on it), paneltop, panelbot, ownbtn (ownerdrawn button), splitter, updown, tree, progress, tab, browse (table, as many call it), cedit (edit with advanced features), monthcal. <br><br>  All of them are listed in the init () function extwidg.go along with additional properties.  accessible to each of them - these properties are set via Widget.AProps.  Many of the listed widgets have other properties, browse is especially rich in them;  they can be set separately using the SetParam () method. <br><br>  <i>External</i> turned out to be small in volume, it is written in pure <i>Go</i> , it does not pull other packages with it, except for a few standard ones.  Cross-platform is provided by <i>GuiServer</i> , which can be compiled under Windows, Linux / Unix, Mac OS.  A certain inconvenience is connected with the need to use this external module, which you need to either compile from source, or download it ready from my site and place in the directory specified in the PATH.  By the way, it is small - only about one and a half megabytes for Windows and about three for Linux. <br><br>  How it looks, I will show on the example of a small application <i>ETutor</i> - Golang tutorial.  This program presents a collection of Go code snippets in the form of a tree.  The code can be edited, run.  Nothing fancy, but pretty comfortable.  The collection can be replenished, add new collections.  Now there are collected (not yet fully) A Tour of Go, Go by Example and a few examples on the <i>External</i> itself.  <i>ETutor</i> can <i>also</i> be used to, for example, streamline a set of any utilities on Go.  So, screenshots. <br><br>  Windows 10: <br><br><img src="https://habrastorage.org/webt/cv/q3/yz/cvq3yzi7n_q3qzxxr6ipdi51l9i.png"><br><br>  Debian, Gnome: <br><br><img src="https://habrastorage.org/webt/-7/7e/1q/-77e1qmycrfuqeyerqsxfplixq0.png"><br><br>  And finally, the links: <br><br>  <a href="https://github.com/alkresin/external">External on Github</a> <br>  <a href="https://github.com/alkresin/guiserver">GuiServer on Github</a> <br>  <a href="https://github.com/alkresin/etutor">ETutor on Github</a> <br>  <a href="http://www.kresin.ru/guisrv.html">A page about GuiServer on my website, where you can download ready binaries</a> <br>  <a href="https://groups.google.com/d/forum/guiserver">https://groups.google.com/d/forum/guiserver</a> - A group to discuss all issues related to GuiServer and External <br>  <a href="https://habr.com/post/427429/">Article about GuiServer on Habr√©</a> </div><p>Source: <a href="https://habr.com/ru/post/431490/">https://habr.com/ru/post/431490/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../431474/index.html">Microservice architecture on a modern stack of Java technologies</a></li>
<li><a href="../431478/index.html">Conference of Roskomnadzor "Protection of personal data"</a></li>
<li><a href="../431482/index.html">And you, Yota ...</a></li>
<li><a href="../431486/index.html">"Invisible" flies: a new method of studying the nervous system through tissue depigmentation</a></li>
<li><a href="../431488/index.html">Sound modulation</a></li>
<li><a href="../431492/index.html">Review of the React quiz competition from the HeadHunter booth at HolyJs 2018</a></li>
<li><a href="../431496/index.html">How technology helps special classes teachers</a></li>
<li><a href="../431498/index.html">WebP will soon capture the web, but the century won't be long</a></li>
<li><a href="../431500/index.html">Databases and Kubernetes (review and video report)</a></li>
<li><a href="../431502/index.html">Conference for iOS developers Kolesa Mobile 3.0. Video report</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>