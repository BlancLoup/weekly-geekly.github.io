<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Funny tabs on MAC OS X or a story about that Tab View</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello to all! 

 The story began with the fact that I needed to write an application under Mac OS X. More and more rarely, you can see articles about ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Funny tabs on MAC OS X or a story about that Tab View</h1><div class="post__text post__text-html js-mediator-article">  Hello to all! <br><br>  The story began with the fact that I needed to write an application under Mac OS X. More and more rarely, you can see articles about the development for the desktop, and even under Mac OS X, but this topic is about that. <br><br>  I already wrote a lot of things on QT, and then the challenge was to use exclusively Cocoa. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      There is a certain aura of holiness around apple products, well, I naively fell under it from my MacBook.  It seemed to me that there would be no special problems with the user interface, well, except perhaps some minor things that are everywhere (oh, how wrong I was). <br><br>  Here in the project I reached the development of the user interface and here I needed the classic Tab View template.  Continued read already under the cut. <br><br><a name="habracut"></a><br><br><h2>  <font color="#0071c5">Prehistory</font> </h2><br>  In general, the most common project in terms of user interface.  The user clicks the connect button, enters the data to log in to the server, presses OK, and a tab for this server appears, and so on.  You can login to many servers and they will be in different tabs.  What kind of server and why is it all needed? This is another subject area not related to this article, so I can tell you this information another time. <br><br><h2>  <font color="#0071c5">Naive developer</font> </h2><br>  Under Mac OS X, and even under iOS, I have never developed it, this is my first experience, maybe that is what made me even more naive. <br>  I thought that everything is easier than ever, I‚Äôll throw in the Tab View constructor or whatever it will be called in Cocoa in the window, I‚Äôll set up the display and that's it, but it wasn‚Äôt there. <br><br>  I find in the Xcode tab view, throw in the window and see this <br><img src="https://habrastorage.org/files/490/953/3a9/4909533a9bd7454aa697f60c592ff190.jpg"><br><br>  Here I already had suspicions that some difficulties might arise. <br><br>  Okay, I thought, I started looking for other widgets for tabs, they are not there.  Well, I decided to understand the settings of this Tab View.  10 minutes fiddling with the settings and realizing that Tab View to the tab view in the same Safari / Finder / Xcode and others, it does not lead, I went in search of the limitless expanses of the Internet. <br><br>  During the first few views of posts on <a href="http://stackoverflow.com/questions/27354262/safari-style-tabs-cocoa-control%3Frq%3D1">http://stackoverflow.com</a> it became clear that Tab View is not at all what I need, I'm not alone. <br><br><h2>  <font color="#0071c5">Search for an alternative solution</font> </h2><br>  Then there was such a moment in the development when not a single line of code was being written, but a lot of text was being read and a lot of coffee was being drunk. <br>  At the beginning, I tried to find something from Apple themselves, but it quickly became clear that it was useless. <br>  Then I went to various forums where this problem and ways to solve it were discussed.  Pretty quickly, I already found several options for adding tabs to applications on Mac OS X. <br><br><ul><li>  PSMTabBarControl </li><li>  MMTabBarView </li><li>  Some examples can be found on the <a href="https://www.cocoacontrols.com/search%3Fq%3Dtabs">cocoacontrols</a> website. <br><ul><li>  <a href="https://www.cocoacontrols.com/controls/sftabview">www.cocoacontrols.com/controls/sftabview</a> </li><li>  <a href="https://www.cocoacontrols.com/controls/chromium-tabs">www.cocoacontrols.com/controls/chromium-tabs</a> </li></ul><br></li><li>  Something was suggested on <a href="http://stackoverflow.com/questions/27354262/safari-style-tabs-cocoa-control%3Frq%3D1">stackoverflow</a> . <br><ul><li>  <a href="https://github.com/aaron-elkins/ENTabBarView">github.com/aaron-elkins/ENTabBarView</a> </li><li>  <a href="https://www.cocoacontrols.com/controls/litabcontrol">www.cocoacontrols.com/controls/litabcontrol</a> </li><li>  <a href="https://www.cocoacontrols.com/controls/kpctabscontrol">www.cocoacontrols.com/controls/kpctabscontrol</a> </li></ul><br></li></ul><br><br>  The first two options were the most common and with a lot of functionality, and I decided to deal with them. <br>  <b>PSMTabBarControl is a well-</b> developed project with good functionality, but has not been supported for a long time.  By the way, it is used in Adium. <br>  <b>MMTabBarView</b> is essentially a continuation and development of PSMTabBarControl, but in spite of this, its support is no better. <br>  If you look at his page on <a href="https://github.com/MiMo42/MMTabBarView">github</a> , then he has 44 fork, and all this because the developer has not committed anything to the master branch for a year, although he did some improvements in develop (but this appears to be very few people notice). <br>  44 fork and among them are a few active ones leaving the last commit in master and claiming that they fixed some bugs. <br>  Then I decided to take the one that is more actively supported by others. <br><br>  One of the forks was chosen (as it turned out later it doesn‚Äôt matter which one). <br><br>  In MMTabBarView there is a demo project that was compiled and worked without any problems: <br><br><img src="https://habrastorage.org/files/d02/f06/d38/d02f06d38fb3435285763d0ea14abb4e.jpg"><br><br>  Then I thought that everything was fine, the fork was alive and you could work with it. <br>  I included the framework in the assembly of my project, made all the settings, wrote the necessary code, run it and nothing.  Tabov no! <br><br><h2>  <font color="#0071c5">Dead end</font> </h2><br>  Tabov is not, okay, I started to understand and found out that something similar to tabs appears if I do not update the Tab View <br><br><img src="https://habrastorage.org/files/450/24d/7ca/45024d7ca3014216993b61074daaa892.jpg"><br><br>  If for example add a tab then everything disappears. <br><br><img src="https://habrastorage.org/files/948/6c8/721/9486c872114c49d1871770e1aa4cc7f1.jpg"><br><br>  Here the fun began.  I began to try everything I could, first all reasonable means, and then not reasonable ones. <br><br><ul><li>  Different forks.  I had to go through about 3-4 forks. </li><li>  Settings.  I tried different settings. </li><li>  I did a new project and tried everything in it with different forks. </li><li>  On github and in search, I found projects using MMTabBarView and dealt with them.  I was looking for differences with my code. </li><li>  Dug up the forums on the Internet on this topic. </li></ul><br>  In general, the numerous experiments took more than one day. <br><br>  At the end I had 2 projects, almost empty and completely identical.  In one tabs work, and in the other not.  Meeting with such inexplicable, our ancestors began to believe in the supernatural. <br><br>  Thought began to emerge that you need to search for another library. <br><br><h2>  <font color="#0071c5">Eureka or rather luck</font> </h2><br>  In the end, after a long search for an incomprehensible problem, I decided to find on github the simplest and smallest project using MMTabBarView and compare it with mine. <br>  Some small browser was found.  From it, I removed all unnecessary, and began to compare with your project.  Everything was identical.  He also worked with MMTabBarView assemblies from different forks without any problems. <br>  Then an idea arose in this working project to make a new window and try to connect tabs in it. <br>  And then the victory, the tabs did not work.  And here I have one project, with one xib file, the tabs work with the other not. <br>  The conclusion was obvious, it is necessary to compare these files. <br><br>  It works here: <br><pre><code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">document</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.apple.InterfaceBuilder3.Cocoa.XIB"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"3.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">toolsVersion</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"6751"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">systemVersion</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"13F1603"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">targetRuntime</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"MacOSX.Cocoa"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">propertyAccessControl</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"none"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">promptedForUpgradeToXcode5</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"NO"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  It does not work here: <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">document</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.apple.InterfaceBuilder3.Cocoa.XIB"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"3.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">toolsVersion</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"6751"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">systemVersion</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"13F1603"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">targetRuntime</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"MacOSX.Cocoa"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">propertyAccessControl</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"none"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">useAutolayout</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"YES"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">customObjectInstantitationMethod</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"direct"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  In the first tag I found the problem: <br><pre> <code class="xml hljs">customObjectInstantitationMethod="direct"</code> </pre> <br>  If you remove this attribute then MMTabBarView starts to work correctly. <br><br>  Apparently this is due to the fact that MMTabBarView is drawn just in CustomView and this attribute somehow affects it. <br><br>  We start to understand what it is: <br><img src="https://habrastorage.org/files/684/7bb/74e/6847bb74eb9e4fc48555d64b318cbe47.jpg"><br>  Google and Yandex provide a bunch of links to indexed xib files. <br><br>  I found several references to this attribute related to <a href="https://groups.google.com/forum/">other problems</a> , but why he never figured it out.  If someone knows what this attribute is and why it is needed, write it down, I will be very grateful. <br><br><h2>  <font color="#0071c5">Conclusion</font> </h2><br>  MMTabBarView is a pretty good project, it supports a different tab display, a tab counter, adding icons, adding close buttons and adding a new tab, and much more.  It is a pity that he smeared on a pile of forks and it is not clear at the moment how to put it together. <br>  Apple, of course, upset me, how can this be, in all applications there is an element of the user interface, but it is not in the library !? <br>  The funny thing is that tabs are in xcode :) <br><br>  PS <br>  Here is a small <a href="https://github.com/AlexMarlo/MMTabBarView-example">example of</a> how to connect MMTabBarView to your project. <br><br>  Useful links: <br>  <a href="http://stackoverflow.com/questions/27354262/safari-style-tabs-cocoa-control%3Frq%3D1">stackoverflow.com/questions/27354262/safari-style-tabs-cocoa-control?rq=1</a> <br>  <a href="http://stackoverflow.com/questions/2774668/does-anyone-know-a-safari-style-tab-control-for-mac-os-x-applications%3Frq%3D1">stackoverflow.com/questions/2774668/does-anyone-know-a-safari-style-tab-control-for-mac-os-x-applications?rq=1</a> <br>  <a href="http://stackoverflow.com/questions/22789341/better-psmtabbarcontrol-cocoa-tabs">stackoverflow.com/questions/22789341/better-psmtabbarcontrol-cocoa-tabs</a> <br>  <a href="http://stackoverflow.com/questions/4986920/tabs-style-in-the-cocoa%3Frq%3D1">stackoverflow.com/questions/4986920/tabs-style-in-the-cocoa?rq=1</a> </div><p>Source: <a href="https://habr.com/ru/post/278091/">https://habr.com/ru/post/278091/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../278075/index.html">How I reinvented dictionaries in Python</a></li>
<li><a href="../278083/index.html">Docker-compose switch to version 2</a></li>
<li><a href="../278085/index.html">Consul.io Part 1</a></li>
<li><a href="../278087/index.html">DIY: SQL JOIN in Java</a></li>
<li><a href="../278089/index.html">How does split-testing in Badoo work?</a></li>
<li><a href="../278095/index.html">How board and various other games are balanced - a brief overview of the ways</a></li>
<li><a href="../278099/index.html">The digest of interesting materials for the mobile developer # 142 (February 24-28)</a></li>
<li><a href="../278101/index.html">Consul.io Part 2</a></li>
<li><a href="../278103/index.html">Integrating Webpack in Visual Studio 2015</a></li>
<li><a href="../278109/index.html">Jade tutorial for beginners</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>