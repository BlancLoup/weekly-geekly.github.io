<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>JavaScript Guide, Part 6: Exceptions, Semicolon, Pattern Literals</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The themes of today's translation of the JavaScript tutorial will be exception handling, automatic semicolon features, and pattern literals. 

 ‚Üí Part...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>JavaScript Guide, Part 6: Exceptions, Semicolon, Pattern Literals</h1><div class="post__text post__text-html js-mediator-article">  The themes of today's translation of the JavaScript tutorial will be exception handling, automatic semicolon features, and pattern literals. <br><br>  ‚Üí <a href="https://habr.com/company/ruvds/blog/429552/">Part 1: first program, language features, standards</a> <br>  ‚Üí <a href="https://habr.com/company/ruvds/blog/429556/">Part 2: code style and program structure</a> <br>  ‚Üí <a href="https://habr.com/company/ruvds/blog/429838/">Part 3: Variables, Data Types, Expressions, Objects</a> <br>  ‚Üí <a href="https://habr.com/company/ruvds/blog/430382/">Part 4: Functions</a> <br>  ‚Üí <a href="https://habr.com/company/ruvds/blog/430380/">Part 5: Arrays and Loops</a> <br>  ‚Üí <a href="https://habr.com/company/ruvds/blog/430376/">Part 6: Exceptions, Semicolon, Pattern Literals</a> <br>  ‚Üí <a href="https://habr.com/company/ruvds/blog/431072/">Part 7: strict mode, this keyword, events, modules, mathematical calculations</a> <br>  ‚Üí <a href="https://habr.com/company/ruvds/blog/431074/">Part 8: ES6 feature overview</a> <br>  ‚Üí <a href="https://habr.com/company/ruvds/blog/431872/">Part 9: Overview of ES7, ES8, and ES9 Capabilities</a> <br><br> <a href="https://habr.com/company/ruvds/blog/430376/"><img src="https://habrastorage.org/webt/jf/eo/1s/jfeo1s-pygp9g5pazca5kjwvwoa.jpeg"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Exception Handling</font> </h2><br>  When a problem occurs during code execution, it is expressed as an exception in JavaScript.  If you do not take measures to handle exceptions, then, if they occur, the program execution stops, and an error message is displayed in the console. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Consider the following code snippet. <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> obj = {<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-string"><span class="hljs-string">'message text'</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> notObj <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> fn = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a</span></span></span><span class="hljs-function">) =&gt;</span></span> a.value <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(fn(obj)) <span class="hljs-comment"><span class="hljs-comment">//message text console.log('Before') //Before console.log(fn(notObj)) //,    console.log('After')</span></span></code> </pre> <br>  Here we have a function that we plan to use to process objects that have a <code>value</code> property.  It returns this property.  If you use this function according to its intended purpose, that is, you will not be given an object to work with which it is designed, when it is executed, no errors will be issued.  But if you pass something inappropriate to it, in our case, a declared but uninitialized variable, then when you try to access the <code>value</code> property of the <code>value</code> <code>undefined</code> an error will occur.  The error message will get to the console, the program will stop running. <br><br>  This is how it looks when running this code in the Node.js environment. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/42d/eec/eaa/42deeceaad05edd38b8581f65b4de563.png"></div><br>  <i><font color="#999999">TypeError exception in Node.js</font></i> <br><br>  If something similar is found in the JS code of a web page, a similar message will be sent to the browser console.  If this happens in a real program, say - in the code of the web server, this behavior is highly undesirable.  It would be good to have a mechanism that allows, without stopping the program, to catch the error, and then take steps to correct it.  Such a mechanism exists in JavaScript; it is represented by the <code>try...catch</code> construction. <br><br><h3>  <font color="#3AC1EF">TryDesign try ... catch</font> </h3><br>  The <code>try...catch</code> construct allows you to catch and handle exceptions.  Namely, it includes a <code>try</code> block, which includes code that can cause an error, and a <code>catch</code> , to which control is passed when an error occurs.  <code>try</code> blocks do not include absolutely all program code.  There are those sections that can cause run-time errors.  For example - calls to functions that have to work with some data obtained from external sources.  If the structure of such data differs from that expected by the function, an error may occur.  This is what the <code>try...catch</code> diagram looks like. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">// ,     } catch (e) { //  }</span></span></code> </pre> <br>  If the code is executed without errors, the <code>catch</code> (exception handler) is not executed.  If an error occurs, the object of the error is transmitted there and some actions are taken to combat this error. <br><br>  Let us apply this construction in our example, protecting with it the dangerous sections of the program - those in which the function <code>fn()</code> called. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> obj = {<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-string"><span class="hljs-string">'message text'</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> notObj <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> fn = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a</span></span></span><span class="hljs-function">) =&gt;</span></span> a.value <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(fn(obj)) } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(e.message) } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Before'</span></span>) <span class="hljs-comment"><span class="hljs-comment">//Before try {   console.log(fn(notObj)) } catch (e) {   console.log(e.message) //Cannot read property 'value' of undefined } console.log('After') //After</span></span></code> </pre> <br>  Let's look at the results of executing this code in the Node.js environment. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b8b/5f7/e5e/b8b5f7e5e4745ec45d69bd9f642cef70.png"></div><br>  <i><font color="#999999">Error handling in Node.js</font></i> <br><br>  As you can see, if you compare this example with the previous one, now all the code is executed, and the one that is located before the problem line, and the one that is located after it.  We ‚Äúhandle‚Äù the error by simply outputting to the console the values ‚Äã‚Äãof the <code>message</code> property of an object of type <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a> .  What will be the handling of errors that have arisen in the actual code used, depends on the error. <br><br>  Above, we discussed the <code>try...catch</code> , but, in fact, this construct includes another <code>finally</code> block. <br><br><h3>  <font color="#3AC1EF">Finally finally block</font> </h3><br>  The <code>finally</code> block contains code that is executed regardless of whether or not an error has occurred in the code running in the <code>try</code> block.  Here's what it looks like. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//  } catch (e) { //  } finally { //  }</span></span></code> </pre> <br>  The <code>finally</code> block can also be used if there is no <code>catch</code> block in the <code>try...catch...finally</code> block.  With this approach, it is used in the same way as in the construction with the <code>catch</code> , for example, to release the resources occupied in the <code>try</code> block. <br><br><h3>  <font color="#3AC1EF">Try nested try blocks</font> </h3><br>  Try blocks can be nested.  An exception is processed in the nearest <code>catch</code> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//  try {   //   } finally {   // -  } } catch (e) { }</span></span></code> </pre> <br>  In this case, if an exception occurs in an internal <code>try</code> block, it will be processed in an external <code>catch</code> . <br><br><h3>  <font color="#3AC1EF">‚ñç Self-generate exceptions</font> </h3><br>  Exceptions can be generated independently using the <code>throw</code> statement.  Here's what it looks like. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> value</code> </pre> <br>  After this instruction is executed, control is transferred to the nearest <code>catch</code> , or if such a block cannot be found, the program is terminated.  The exception value can be anything.  For example, a user-defined error object. <br><br><h2>  <font color="#3AC1EF">About semicolons</font> </h2><br>  Using semicolons in JavaScript code is optional.  Some programmers do without them, relying on the automatic system of their arrangement, and putting them only where it is absolutely necessary.  Some prefer to put them wherever possible.  The author of this material refers to the category of programmers who seek to do without semicolons.  He says that he decided to do without them in the fall of 2017, by setting up the Prettier so that it deletes them everywhere, where they can be dispensed with without their explicit insertion.  In his opinion, the code without semicolons looks more natural and easier to read. <br><br>  Perhaps we can say that the JS-developers community is divided into two camps with respect to a semicolon.  At the same time, there are both JavaScript style guides, which prescribe explicit semicolon assignments, and guidelines that recommend doing without them. <br><br>  All this is possible due to the fact that in JavaScript there is a system of automatic substitution of semicolons (Automatic Semicolon Insertion, ASI).  However, the fact that in JS code, in many situations, you can do without these characters, and the fact that semicolons are automatically placed when preparing code for execution does not mean that the programmer does not need to know the rules by which this happens.  Ignorance of these rules leads to errors. <br><br><h3>  <font color="#3AC1EF">‚ñç Rules for auto-substitution of semicolons</font> </h3><br>  The JavaScript parser automatically adds semicolons when parsing program text in the following situations: <br><br><ol><li>  When the next line starts with a code that interrupts the current code (the code of a certain command can be located on several lines). </li><li>  When the next line starts with a <code>}</code> , which closes the current block. </li><li>  When the end of the file with the program code is detected. </li><li>  In the line with the command <code>return</code> . </li><li>  In the line with the command <code>break</code> . </li><li>  In the line with the <code>throw</code> command. </li><li>  In the line with the command <code>continue</code> . </li></ol><br><h3>  <font color="#3AC1EF">‚ñç Code examples that do not work as expected.</font> </h3><br>  Here are some examples illustrating the above rules.  For example, what do you think will be displayed as a result of executing the following code fragment? <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> hey = <span class="hljs-string"><span class="hljs-string">'hey'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> you = <span class="hljs-string"><span class="hljs-string">'hey'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> heyYou = hey + <span class="hljs-string"><span class="hljs-string">' '</span></span> + you [<span class="hljs-string"><span class="hljs-string">'h'</span></span>, <span class="hljs-string"><span class="hljs-string">'e'</span></span>, <span class="hljs-string"><span class="hljs-string">'y'</span></span>].forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">letter</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(letter))</code> </pre> <br>  When trying to execute this code, an <code>Uncaught TypeError: Cannot read property 'forEach' of undefined</code> error will be <code>Uncaught TypeError: Cannot read property 'forEach' of undefined</code> system, based on rule No. 1, tries to interpret the code as follows. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> hey = <span class="hljs-string"><span class="hljs-string">'hey'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> you = <span class="hljs-string"><span class="hljs-string">'hey'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> heyYou = hey + <span class="hljs-string"><span class="hljs-string">' '</span></span> + you[<span class="hljs-string"><span class="hljs-string">'h'</span></span>, <span class="hljs-string"><span class="hljs-string">'e'</span></span>, <span class="hljs-string"><span class="hljs-string">'y'</span></span>].forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">letter</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(letter))</code> </pre> <br>  The problem can be solved by putting a semicolon after the last but one line of the first example. <br><br>  Here is another code snippet. <br><br><pre> <code class="javascript hljs">(<span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>).toString()</code> </pre> <br>  The result of its execution will be the output line <code>"3"</code> .  What happens if something like this appears in the following code snippet? <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> b = <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> c = a + b (a + b).toString()</code> </pre> <br>  In this situation, a <code>TypeError: b is not a function</code> error will appear <code>TypeError: b is not a function</code> since the above code will be interpreted as follows. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> b = <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> c = a + b(a + b).toString()</code> </pre> <br>  Let us now look at an example based on rule No. 4. <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {   <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">'white'</span></span> } })()</code> </pre> <br>  You might think that this IIFE will return an object containing the <code>color</code> property, but in fact it is not.  Instead, the function will return the value <code>undefined</code> as the system adds a semicolon after the <code>return</code> command. <br><br>  In order to solve a similar problem, the opening curly bracket of an object literal must be placed on the same line as the <code>return</code> command. <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {   <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">'white'</span></span> } })()</code> </pre> <br>  If you look at the following code snippet, you might think that it will display <code>0</code> in the message box. <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> === <span class="hljs-number"><span class="hljs-number">0</span></span> ? alert(<span class="hljs-number"><span class="hljs-number">0</span></span>) : alert(<span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre> <br>  But it prints 2, since, in accordance with rule No. 1, this code is represented as follows. <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> === <span class="hljs-number"><span class="hljs-number">0</span></span> ? alert(<span class="hljs-number"><span class="hljs-number">0</span></span>) : alert(<span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre> <br>  Care should be taken when using semicolons in JavaScript.  You can meet both hot supporters of semicolons and their opponents.  In fact, deciding whether you need a semicolon in your code, you can rely on the fact that JS supports their automatic substitution, but everyone has to decide for himself whether they are needed in his code or not.  The main thing is to consistently and reasonably apply the chosen approach.  With regard to the semicolon arrangement and code structure, it is recommended to adhere to the following rules: <br><br><ul><li>  Using the <code>return</code> command, place what it should return from the function, in the same line as this command.  The same applies to the commands <code>break</code> , <code>throw</code> , <code>continue</code> . </li><li>  Pay special attention to situations where a new line of code begins with a parenthesis, since this line can be automatically combined with the previous one and presented by the system as an attempt to call a function or attempt to access an array element. </li></ul><br>  In general, we can say that, whether you put semicolons yourself, or rely on their automatic placement, test the code to make sure that it works exactly as expected. <br><br><h2>  <font color="#3AC1EF">Quotes and pattern literals</font> </h2><br>  Let's talk about the use of quotes in JavaScript.  Namely, we are talking about the following valid quote types in JS programs: <br><br><ul><li>  Single quotes. </li><li>  Double quotes. </li><li>  Return quotes. </li></ul><br>  Single and double quotes, in general, can be considered the same. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> test = <span class="hljs-string"><span class="hljs-string">'test'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> bike = <span class="hljs-string"><span class="hljs-string">"bike"</span></span></code> </pre> <br>  There is practically no difference between them.  Perhaps the only noticeable difference is that in the strings enclosed in single quotes, the single quotation symbol must be escaped, and in the strings enclosed in double quotation marks - the double one. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> test = <span class="hljs-string"><span class="hljs-string">'test'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> test = <span class="hljs-string"><span class="hljs-string">'te\'st'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> test = <span class="hljs-string"><span class="hljs-string">'te"st'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> test = <span class="hljs-string"><span class="hljs-string">"te\"st"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> test = <span class="hljs-string"><span class="hljs-string">"te'st"</span></span></code> </pre> <br>  In various style guides, you can find a recommendation for using single quotes, as well as a recommendation for using double quotes.  The author of this material says that in JS-code tends to use only single quotes, using double only in HTML-code. <br><br>  Back quotes appeared in JavaScript with the release of the ES6 standard in 2015.  They, besides other new features, allow conveniently describing multi-line strings.  Such strings can also be specified using regular quotes - using the escape sequence <code>\n</code> .  It looks like this. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> multilineString = <span class="hljs-string"><span class="hljs-string">'A string\non multiple lines'</span></span></code> </pre> <br>  Back quotes (usually the button to enter them is to the left of the numeric key 1 on the keyboard) allow you to do without <code>\n</code> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> multilineString = <span class="hljs-string"><span class="hljs-string">`A string on multiple lines`</span></span></code> </pre> <br>  But the possibilities of reverse quotes are not limited to this.  So, if a string is described using backward quotes, it is possible to substitute values ‚Äã‚Äãin it using the <code>${}</code> construct, which are the result of evaluating JS expressions. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> multilineString = <span class="hljs-string"><span class="hljs-string">`A string on </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst">+</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string"> lines`</span></span></code> </pre> <br>  Such strings are called template literals. <br><br>  Pattern literals are distinguished by the following features: <br><br><ul><li>  They support multiline text. </li><li>  They make it possible to interpolate strings, you can use embedded expressions in them. </li><li>  They allow you to work with tagged templates, making it possible to create your own domain-specific languages ‚Äã‚Äã(DSL, Domain-Specific Language). </li></ul><br>  Let's talk about these opportunities. <br><br><h3>  <font color="#3AC1EF">‚ñçMultiline text</font> </h3><br>  When asking, using back quotes, multi-line texts, you need to remember that spaces in such texts are just as important as other characters.  For example, consider the following multi-line text. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> string = <span class="hljs-string"><span class="hljs-string">`First               Second`</span></span></code> </pre> <br>  His conclusion will give something like the following. <br><br><pre> <code class="javascript hljs">First               Second</code> </pre> <br>  That is, it turns out that when this text was entered in the editor, it is possible that the programmer expected that the words <code>First</code> and <code>Second</code> , when outputted, would be strictly under each other, but in fact this is not the case.  In order to circumvent this problem, you can begin multiline text with a line feed, and, immediately after the closing back quote, call the <code>trim()</code> method, which will remove the whitespace at the beginning or end of the line.  These characters, in particular, include spaces and tabs.  The end of line characters will also be removed. <br><br>  It looks like this. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> string = <span class="hljs-string"><span class="hljs-string">` First Second`</span></span>.trim()</code> </pre> <br><h3>  <font color="#3AC1EF">‚ñç Interpolation</font> </h3><br>  Interpolation here refers to the conversion of variables and expressions to strings.  This is done using the <code>${}</code> construct. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> variable = <span class="hljs-string"><span class="hljs-string">'test'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> string = <span class="hljs-string"><span class="hljs-string">`something </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${ variable }</span></span></span><span class="hljs-string">`</span></span> <span class="hljs-comment"><span class="hljs-comment">//something test</span></span></code> </pre> <br>  You can add anything to the <code>${}</code> block, even expressions. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> string = <span class="hljs-string"><span class="hljs-string">`something </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">3</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string">`</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> string2 = <span class="hljs-string"><span class="hljs-string">`something </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${foo() ? </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'x'</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> : </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'y'</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> }</span></span></span><span class="hljs-string">`</span></span></code> </pre> <br>  The text <code>something 6</code> will fall into the <code>string</code> constant, or the text <code>something x</code> , or the text <code>something y</code> will be written to the constant <code>string2</code> .  It depends on whether the <code>foo()</code> function returns true or false (here we use the ternary operator, which, if what is before the question mark, is true, returns what comes after the question mark, otherwise returning what comes after the colon). <br><br><h3>  <font color="#3AC1EF">‚ñçTagged patterns</font> </h3><br>  Tagged templates are used in many popular libraries.  Among them - <a href="https://flaviocopes.com/styled-components">Styled Components</a> , <a href="https://flaviocopes.com/apollo/">Apollo</a> , <a href="https://flaviocopes.com/graphql/">GraphQL</a> . <br><br>  The fact that such patterns are output is subject to some kind of logic defined by the function.  Here is a slightly revised example given in one of our <a href="https://habr.com/company/ruvds/blog/332998/">publications</a> , illustrating the work with tagged patterned strings. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> esth = <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">helper</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">strs, ...keys</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> str1 = strs[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-comment"><span class="hljs-comment">//ES const str2 = strs[1] //is let additionalPart = '' if (keys[0] == 8) { //8   additionalPart = 'awesome' } else {   additionalPart = 'good' } return `${str1}${keys[0]}${str2}${additionalPart}.` } const es = helper`ES ${esth} is ` console.log(es) //ES 8 is awesome.</span></span></code> </pre> <br>  Here, if the number <code>8</code> written in the <code>esth</code> constant, the string <code>ES 8 is awesome</code> .  Otherwise there will be another line.  For example, if <code>esth</code> has the number <code>6</code> , then it will look like <code>ES 6 is good</code> . <br><br>  Styled Components uses tagged templates to define CSS strings. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Button = styled.button<span class="hljs-string"><span class="hljs-string">` font-size: 1.5em; background-color: black; color: white; `</span></span>;</code> </pre> <br>  In Apollo, they are used to define GraphQL queries. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> query = gql<span class="hljs-string"><span class="hljs-string">` query {   ... } `</span></span></code> </pre> <br>  Knowing how the tagged templates are arranged, it is easy to understand that <code>styled.button</code> and <code>gql</code> from the previous examples are just functions. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gql</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">literals, ...expressions</span></span></span><span class="hljs-function">) </span></span>{ }</code> </pre> <br>  For example, the <code>gql()</code> function returns a string that can be the result of any calculation.  The <code>literals</code> parameter of this function is an array containing the contents of the template literal <code>expresions</code> into parts, <code>expresions</code> contains the results of the evaluation of expressions. <br><br>  Let's sort the next line. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> string = helper<span class="hljs-string"><span class="hljs-string">`something </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">3</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string"> `</span></span></code> </pre> <br>  The <code>literals</code> array containing two elements will get to the <code>helper</code> function.  In the first there will be the text <code>something</code> with a space after it, in the second - the empty line - that is, what is between the expression <code>${1 + 2 + 3}</code> and the end of the line.  In the array <code>espressions</code> will be one element - <code>6</code> . <br>  Here is a more complex example. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> string = helper<span class="hljs-string"><span class="hljs-string">`something another </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'x'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string"> new line </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">3</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string"> test`</span></span></code> </pre> <br>  Here, the following array will fall into the <code>helper</code> function, as the first parameter. <br><br><pre> <code class="javascript hljs">[ <span class="hljs-string"><span class="hljs-string">'something\nanother '</span></span>, <span class="hljs-string"><span class="hljs-string">'\nnew line '</span></span>, <span class="hljs-string"><span class="hljs-string">'\ntest'</span></span> ]</code> </pre> <br>  The second array will look like this. <br><br><pre> <code class="javascript hljs">[ <span class="hljs-string"><span class="hljs-string">'x'</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span> ]</code> </pre> <br><h2>  <font color="#3AC1EF">Results</font> </h2><br>  Today we talked about exception handling, about semicolon auto-substitution and about template literals in JavaScript.  Next time we will look at some more important concepts of the language.  In particular - work in strict mode, timers, mathematical calculations. <br><br>  <b>Dear readers!</b>  Do you use the capabilities of tagged templates in javascript? <br><br> <a href="https://ruvds.com/ru-rub/"><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div><p>Source: <a href="https://habr.com/ru/post/430376/">https://habr.com/ru/post/430376/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../430362/index.html">Introducing Amazon Corretto, a free OpenJDK distribution with long-term support</a></li>
<li><a href="../430364/index.html">‚ÄúIt seems to me that we are approaching the time when everyone will be able to code. Code is freedom. ‚Äù</a></li>
<li><a href="../430366/index.html">VR-kitchen: what is not visible in the helmet</a></li>
<li><a href="../430372/index.html">Car on hydrogen. Is it time to say goodbye to gasoline?</a></li>
<li><a href="../430374/index.html">Data Engineering and more: videotapes and slides from the mitap in Wrike</a></li>
<li><a href="../430378/index.html">J2CL - Better Late Than Never</a></li>
<li><a href="../430380/index.html">JavaScript Guide, Part 5: Arrays and Loops</a></li>
<li><a href="../430382/index.html">JavaScript Guide, Part 4: Functions</a></li>
<li><a href="../430384/index.html">Creating maps of noise functions</a></li>
<li><a href="../430386/index.html">India to build solid state storage power plant</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>