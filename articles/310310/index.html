<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>So, the manager asked to fix the bug ...</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="You have been here before. Your program is elegant. You used exactly the required number of abstractions. Your modules are flawlessly modular. Your sy...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>So, the manager asked to fix the bug ...</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b37/272/538/b372725380c8bb4657cf04240d943df4.jpg" height="600"></div><br>  You have been here before.  Your program is elegant.  You used exactly the required number of abstractions.  Your modules are flawlessly modular.  Your system deals with the outside world through thoughtful interfaces and has no direct dependence on external systems.  Your tests passed immaculately.  Your test coverage report requires a full minute to download.  97% that means ... <br><br>  Life is Beautiful.  And then something happens. <br><a name="habracut"></a><br>  The grocery manager breaks in and says that a bug was found in the update you sent last week.  Whenever a user adds a position to his shopping basket, the counter, which is designed to display the number of positions in this basket, is updated only after a few seconds.  And before the update occurred instantly. <br><br>  The manager reports that complaints from users are streaming.  And he asks: "Can you see?". 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Of course you can look.  In the end, it was you who created this product.  It is most likely someone else‚Äôs fault.  But you are going to fix the error.  This is part of the work of a kind of "crisis" employee, which you are. <br><br>  You pull Git hash from the most recent release and delve into the changelog.  You have updated the HTTP request library to the latest version in the latest release.  This has been postponed for quite some time.  You may recall the commit that led to this.  It was a good day. <br><br>  You switch to a commit, then simulate a query that updates the shopping basket.  It is good that you have such a clear division of tasks.  You can easily conduct a test on the secondary and production servers with the promotion of the build flag. <br><br>  You found a criminal.  It looks like the HTTP library that you updated has a defect.  For certain types of requests, it takes quite a long time to analyze incoming content in JSON format.  Your application can update the shopping cart counter user interface only after the query content has been analyzed.  The infrastructure is not configured to handle possible consistency and add what could be a separate project in and of itself.  You cannot simply update the meter locally and synchronize later. <br><br>  You know that someone, not you, made a mistake.  That is life. <br><br>  You inform the manager about what happened.  He compliments you.  He says that, of course, he always knew that you could be relied upon.  He asks, is it known how to eliminate this bug? <br><br>  Well, of course!  You have already reviewed all the possibilities. <br><br>  Roll back to change is not possible.  All new code and bug fixes are tied to the new version of the library.  You will also lose them all if you simply roll it back. <br><br>  Just forking this library and working with your own copy is also not a sensible idea.  The operational staff of the original project has a gigantic test infrastructure that will test your fix on thousands of devices.  You also have three devices, two of which are outdated versions of the operating system.  It is best to get feedback from them as well.  This is, after all, their library, and they should know its structure, not you. <br><br>  So, the actions are planned: <br><br><ul><li>  Fork library; </li><li>  Make a correction; </li><li>  Send a request to include the code in the repository of the original; </li><li>  Thoroughly discuss the situation with operating personnel; </li><li>  Finally convince them that your idea is the best solution; </li><li>  Perform upward merge changes; </li><li>  Wait for the release of the library with the bug fixed; </li><li>  Update the library in your program; </li><li>  Issue a new release. </li></ul><br>  Everything is elementary, Watson! <br><br>  ‚ÄúGreat,‚Äù the manager tells you.  "How much do you think it takes time?" <br><br>  You know the answer.  Some think that technical specialists are unable to estimate time.  But you are definitely not from such specialists. <br><br>  "2 weeks" - without hesitation you answer.  "It depends on how quickly the request to include the code will be received and how quickly the operating personnel will issue a new assembly." <br><br>  The face of the manager in his eyes whitens.  "2 weeks?  2 weeks?!".  He continues to repeat these two words, as if they could change something.  But you remain calm.  Managers, as you know, weak guys can boil.  You do not have to worry about it. <br><br>  ‚ÄúOur users will leave us!  They do not buy anything because they do not see what is happening with their baskets!  We are a company that sells through the Internet!  It's impossible!". <br><br>  You watch him go through 5 stages of despair.  You wait until he finally agrees.  But this is not happening.  He seems to be trying to extrude. <br><br>  ‚ÄúIs there really no way to fix it faster?‚Äù  Well, maybe something temporary?  Well, think!  It is very important!". <br><br>  ‚ÄúGood,‚Äù you say, dropping into your swivel chair.  "Let me see." <br><br>  You give him a little.  Maybe then he will leave you alone.  You have many other things to do, you know that. <br><br>  You are again immersed in the source.  You are in your element.  Your fingers move around the IDE icons, like God Poseidon gliding along the waves of the ocean. <br><br>  ABOUT!  You found him.  There is an undocumented way to enter the JSON analysis program and replace it with your own development! <br><br>  But wait.  This can be dangerous.  Here, the application programming interface is non-public.  Perhaps it is wrong to do with him as you suggested.  You don't want to go for it.  What if the next issue fixes an error?  Then you have to do it all over again.  Does anybody want?  Although it is faster than maintaining your own, untested, branch of the library.  Again, this is dangerous. <br><br>  Not! <br><br>  You will not allow dubious business decisions to destroy your temple of purity.  You are the guardian of all holy in the fight against ignorant masses.  After all, for this you pay a lot of money.  Your duty, in such a situation - to refuse. <br><br>  You quickly enter the nick of the manager: ‚ÄúI tell you, no!  There is no clear way to do this, and I cannot rely on unsafe hacker tricks.  I'm sorry. " <br><br>  He reacts as expected. <br><br>  ‚ÄúYou say that there is a way to solve the problem, but you will not do it, because the way turns out to be <em>impure</em> ?  Our users literally shout at us, threaten to leave to our competitors, and you do not want to eliminate the bug, because the way is <em>unclean</em> ?! ‚Äù <br><br>  You lose control of yourself. <br><br>  What does this guy know about program design?  You created fantastic worlds from nothing but bits.  Superbly scalable systems that can withstand the DDoS attacks of all computer hackers of the former Soviet bloc, created by you.  You are an artist, and the computer is your canvas.  You have read the book <em>‚ÄúClean Code‚Äù by</em> Robert Martin so many times that you know it better than even your own GitHub passport. <br><br>  "Yes!" - You break down.  ‚ÄúI'm not messing our code base with this shit!  I spent the months of my life creating this palace!  Each line of code captures my pain and blood!  The only reason why here, in general, something works is that everything was done not because of you, but in spite of you.  Just like me, they ensure the operation of all these programs, and just like me, they will have to clean up this mess for a long time after you and your ‚Äúbusiness processes‚Äù leave! ‚Äù <br><br>  You fly out of the corner.  Drink something.  Guys like this one are just a disaster for our industry.  They think that their trendy business masters' degrees give them some insight into creating serious software, which the developers for some reason forgive.  We must fight them back. <br><br>  You go to a cafe.  Where you get gourmet meals every day.  And coffee.  Delicious, soul caressing coffee - without any restrictions.  You deserve it because you are a <em>highly qualified specialist</em> . <br><br>  You take a cup of coffee and see where to sit. <br><br>  And here you see <em>it</em> . <br><br>  The most respectable specialist in our company. <br><br>  This person belongs to the cool, uncompromising specialists like "I-can-write-compiler-for-5-minutes."  He was a hacker before hackers appeared.  You want to be like him.  It kind of looks like the magician Gandalf from Tolkien‚Äôs books.  Everyone respects and fears him at the same time.  But he is kind and always helps out children.  He will definitely want to hear how you put this manager in his place.  In the end, he - one of the representatives of your shop. <br><br>  And you sit next to him.  He slowly drinks his coffee and reads something like "Abstract data types in Haskell." <br><br>  Yes.  Just a colleague to talk. <br><br>  You tell him your epic.  He listens patiently.  He nods and asks a few questions.  His body is calm and relaxed.  He has been here before.  You can see it in his eyes. <br><br>  You are finally done. <br><br>  It was tiring. <br><br>  You dropped the load from the shoulders. <br><br>  He looks thoughtfully, as if he carefully chooses words. <br><br>  You expect him to laugh out loud.  He will exclaim: ‚ÄúYes, my boy!‚Äù - and then you will drink another cup of coffee together.  He will entertain you with the story of a similar scolding, which he asked a stupid manager a hundred years ago. <br><br>  You dreamed about this day.  You will knock your coffee cups together as men do after winning a battle.  At least that‚Äôs what they do in movies.  And, of course, they have - not cups, but mugs, and in mugs - beer, not coffee. <br><br>  This is sentimentality, although it matters. <br><br>  Are you waiting‚Ä¶ <br><br>  And still waiting, and more ... <br><br>  He looks you straight in the eye.  His gaze penetrates your soul.  The long years of clashes with cars gave his eyes hardness.  And he carries a fascinating power.  You can not look away. <br><br>  He utters quite a bit. <br><br>  <em>‚ÄúYour job is not to drink coffee and shy away from writing code.</em>  <em>Your job is to make programs that work. ‚Äù</em> <br><br>  Then he leaves. <br><br>  You sit a minute.  There is an unpleasant sensation in the stomach.  Feeling of emptiness and nausea.  You begin to understand what a sensation is.  You are ashamed. <br><br>  You have failed the people to whom you owe the most.  Your customers. <br><br>  And you go back to your computer.  You quickly hack the program, then delete the latest release. <br><br>  You apologize to the manager: "Sorry, friend, things are a little out of control."  He says it's all right.  All is well that ends well. <br><br>  You also output the library to a separate branch, fix the bug, and send it to the product manager located hierarchically above.  When a new release of the library with the right decision comes, you can always <a href="https://medium.com/%40anupcowkur/leave-it-a-little-better-than-you-found-it-isnt-good-enough-652d4be673cb">redesign the software</a> . </div><p>Source: <a href="https://habr.com/ru/post/310310/">https://habr.com/ru/post/310310/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../310296/index.html">Voice and video for programmers. How we create a realtime communications conference</a></li>
<li><a href="../310298/index.html">Chinese government may ban high-PUE data centers</a></li>
<li><a href="../310300/index.html">How to officially accept foreign currency payments from abroad in Russia (PI)</a></li>
<li><a href="../310302/index.html">Universal (Isomorphic) project on Koa 2.x + React + Redux + React-Router</a></li>
<li><a href="../310308/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ228 (September 12 - 18, 2016)</a></li>
<li><a href="../310312/index.html">Programmer on Mars: Shutdown Dammit Until</a></li>
<li><a href="../310314/index.html">Inheritance implementations: bury stewardess</a></li>
<li><a href="../310318/index.html">Getting Started with Intel Active Management (AMT)</a></li>
<li><a href="../310320/index.html">The language of arithmetic expressions with the let construction as dsl on Kotlin</a></li>
<li><a href="../310324/index.html">Rag I limp or have power?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>