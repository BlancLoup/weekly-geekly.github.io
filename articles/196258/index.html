<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Detailed educational program about corporate backup, how to compare systems + a couple of practical tips</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The backup system can work like this 

 How does a corporate backup differ from a home backup? 
 Scale - infrastructure to petabyte. Speed ‚Äã‚Äã- thousan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Detailed educational program about corporate backup, how to compare systems + a couple of practical tips</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/a3d/bb2/4cf/a3dbb24cf8d1480b6be2d1475abae5dc.png" width="497" height="386"><br>  <sup>The backup system can work like this</sup> <br><br>  <b>How does a corporate backup differ from a home backup?</b> <br>  Scale - infrastructure to petabyte.  Speed ‚Äã‚Äã- thousands of transactions per second, so, for example, you need to be able to take a backup from the database on the fly, without stopping the recording.  Zoo systems: working machines, mobile phones and tablets, profiles of people in the "cloud", copies of CRM / ERP databases, all this on different operating systems and in heavy branched systems. <br><br>  Below I will talk about solutions from IBM, EMC, CommVault, Symantec, and what they give both to the business as a whole and to the IT department.  Plus some of the pitfalls. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Let's look at these features of backup in the usual Russian companies.</b>  Including those that are backed up only in case of withdrawal of equipment. <a name="habracut"></a><br><br><h4>  We start the educational program.  Backup is generally needed? </h4><br>  Usually this question is asked by people far from IT.  The correct question is ‚Äúwhat kind of backup is needed‚Äù?  Earlier this year, I came across a report that, on average, in the world, data loss costs up to one third of the company's value, in the USA and Europe - up to half.  Simply put, the lack of a fresh backup may in some cases mean leaving the market. <br><br><h4>  Why do I need backup? </h4><br>  Of course, to protect against failures, attacks and human stupidity.  In general, the question is a bit naive, but still let's look at a little more. <br><ul><li>  First, it protects data from loss.  The main causes of loss are equipment failures, the fall of remote sites (for example, in case of a fire in the data center), the removal of equipment.  Smaller cases - the loss of laptops and so on. </li><li>  Also backup protects the integrity of data: insures against operator errors, for example.  This is the second most common reason: a person can take and "screw up" important data with the wrong team. </li><li>  Thirdly, in a corporate environment, a ‚Äúhot‚Äù backup may be needed for the rapid deployment of services during an emergency, this is very important for those for whom the continuity of IT processes is particularly critical, for example, for telecom operators or banks. </li></ul><br><h4>  How usually come to complex systems? </h4><br>  Everything is simple: with the growth of the company.  First, simple tools are used: manual copying, then scripts according to a schedule or setting up a utility, after which a server application appears that manages this.  At this stage, requirements are usually added to the level of backup from security guards or the finance department (the company‚Äôs risk manager) - and that's when the implementation begins.  Each task is classified by importance and evaluated, for example, billing should roll in 5 minutes after the accident on the active backup system in another data center, and the data of the office staff - in 2 hours on previously prepared, but mothballed equipment.  At this level, there is a need for tight integration with applications, and a little later - with hardware arrays for storage. <br><br><h4>  What does integration look like in practice? </h4><br>  As a rule, when our specialists come to install a total backup, a large company already has several backup subsystems.  Most often, we are talking about already configured file backup applications and regularly taking database fingerprints (for example, nightly backup of 1C database) and storing them on a separate device.  There are, of course, enchanting cases.  For example, one retail chain did not make any backup bases at all about the availability of goods in a warehouse ‚Äî and in the event of a failure sent people to do an inventory. <br><br>  Or another example - the branch has a copy of the database, which is used only for reading.  All data created on its basis is temporary.  When a fall, a copy of this database is requested from the parent organization and it takes three days.  People sit and wait.  It is clear that the data is not lost, but if there was a correct backup, they would be able to continue working after 20 minutes. <br><br><h4>  What is most important in backup software? </h4><br>  Let's look at the main parameters. <br><br>  <b>Architecture</b> <br>  The solution architecture is undoubtedly important.  Dividing the system into functional modules is common practice for all corporate backup solutions.  The important point is the separation of the storage layer from the logical level of data management, as it is done, for example in CommVault Simpana - one backup task can use both a disk and a tape or even cloud storage. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dd7/5e7/793/dd75e77937b8ffc26e093d9e900538bd.png" width="750"><br>  <i>Backup Software Architecture Example (CommVault Simpana)</i> <br><br>  <b>Functions of centralized management.</b> <br>  It is important to manage all operations.  The backup of large systems is quite complicated, so it is important that the administrator accurately represents what is happening.  With an extensive structure, for example, in a large data center with hundreds of systems, you will not ‚Äúapproach‚Äù each one and you will not see if it has a backup copy or not.  Here you need a system that can build a report, see that all data and applications are copied or not copied, what you need to pay attention to, notify the administrator about any problems. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1df/e6c/3e4/1dfe6c3e44383a96aa97f27f500a1850.png" width="624" height="638"><br>  <i>Centralized management of IBS</i> <br><br>  Market leaders have systems that allow you to see what is stored and where, what types of data, what exactly can be optimized, and so on.  You can build a forecast for the year ahead. <br><br>  <b>Specific arrays and DB</b> <br>  The first is support of arrays, sharpening for specific databases.  It is necessary to obtain data from below and use them in more complex functions, such as creating hardware snapshots.  Backup systems themselves are already able to perform operations with arrays to ensure data protection without affecting production systems that work with these arrays, or minimizing the load on them, <br><br>  Simply put, the system should be able on the fly to make a copy of the database from which transactions are being made, and not to request this copy from the server application.  That is, it should competently and imperceptibly for the application and users to take data from the disk array. <br><br>  For example, CommVault or EMC systems support almost all operating systems and commercial applications on the corporate market (in particular, Oracle, Microsoft databases, CommVault still has support for PostgreSQL and MySQL, Documentum, SAP). <br><br>  <b>Deduplication - Architecture</b> <br>  Important competent deduplication.  Good deduplication significantly reduces the price requirements for disk arrays and very tight traffic.  Roughly speaking, if the first backup of user data from virtual machines was 10 Gb, then each next one, per day, maybe 50-60 Mb - due to the difference between the system casts.  At the same time, the backup market leaders (about them below) for external systems have their copies visible as separate casts, that is, as if a total backup was made every time.  This speeds up recovery incredibly. <br><br>  I would especially note that deduplication in modern systems is done at the source, that is, on the system from which the data are being taken, which greatly reduces the load on the channels.  This is very important for extensive networks that do not always have a wide enough channel through which you can transfer a full backup.  The usual ‚Äúserial‚Äù copy for complex systems of the SAP level is only a couple percent of the total base volume. <br><br>  The deduplication subsystem, in an amicable way, should scale conveniently.  Ideally, linear with the addition of storage nodes by organizing some kind of Grid or Cloud.  At the same time, nodes should not be separate islands with their own data sets, but connected into a single deduplication space.  And it is quite good if these nodes parallelize the load and process it in parallel.  I note that now many customers are trying to measure the deduplication coefficients when comparing products.  But this is not entirely correct: modern SATA drives are already 4TB in volume each.  Plus or minus a couple of disks and all systems will be able to store the same amount of data - and it is better to buy one disk at the beginning than to rebuild the whole system if necessary. <br><br>  <b>Load balancing</b> <br>  Even in such systems there are functions to ensure the fault tolerance of the operation and load balancing, which is important in large data centers, when data volumes in one system can reach tens and hundreds of Tb.  For example, a virtualization platform can have a very large amount of data and a large number of virtual machines.  The system itself, in this case, should allow to build a set of servers that will transfer data, receive them from the platform and write to the storage, so that they have the opportunity to interact with each other, and in the case of increasing or decreasing the load, redistribute it automatically.  The function is simple and obvious, but rather critical, because it affects the speed and efficiency of creating backup copies. <br><br>  <b>Continuity is</b> important.  In case of failure of any components, you can ensure the successful completion of tasks for the backup window (usually night).  CommVault Simpana allows you to do this automatically in case of media server and deduplication database failures.  Other systems have limitations or require expensive hardware solutions.  In the picture you can see two servers with agents that work in conjunction and if one breaks, the other one comes into operation.  At the same time, both of them write to the same disk and have a common deduplication base: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f26/7ad/25f/f267ad25f172865e4637c5ca3d6db04d.png" width="542" height="709"><br><br><h4>  Physical storage </h4><br>  Most often we are talking about storage on disk arrays, where additional data protection is provided.  The first layer - important data must be stored at two independent remote sites (for example, in different data centers).  The second layer - this data is stored on different drives.  For example, a file of 10 blocks can be recorded on 11 drives - and if any of them fails, the rest will contain enough data to restore the missing link.  Here is an example of one of these <a href="http://habrahabr.ru/company/croc/blog/149306/">systems</a> . <br><br><h4>  Drives and tape + "cloud" </h4><br>  So it turns out that tape drives are still in use.  Most often, the ‚Äúhot‚Äù data (say, 10 percent of the most important data) is stored on disks, from where you can get them quickly, and the second level is stored on tape.  It is practical and cheap, plus the tape allows you to store data for almost decades without replacing equipment, they are simply removed and put on the shelf.  A frequent case is logs and other documents of banks that need to be stored for a certain period.  The backup system is able to allocate such data on a disk, alienate it and archive it on a tape drive.  In this case, there is always the possibility in the event of an accident to find this information and recover.  By the way, you can record both full copies and deduplicated ones - if necessary, a smart system can put everything back as if the last copy was complete. <br><br>  But CommVault Simpana can also directly add a copy of the data from the corporate repository to the ‚Äúcloud‚Äù (some of our customers do this with CROC's ‚Äúcloud‚Äù - we even carried out certification).  This additional copy can be considered by the customer as a long-term archive.  For its storage it is not necessary to think about the hardware.  Another copy can be used for disaster recovery systems.  For example, one of the customers does this: a copy of all virtual machines is sent to our ‚Äúcloud‚Äù for storage.  In case of the fall of the main data center of the customer, we can run all these virtual machines on our infrastructure.  At the same time, payment before the launch goes only for capacity - that is, it turns out to be very economical. <br><br><h4>  Direct work with users </h4><br>  If you have not encountered a corporate backup, then you may get the impression that only the IT department rolls back the data, and does it manually.  But, for example, in CommVault, this is not quite the case. <br><br>  In this situation, the user can himself go to the portal (in the picture below) and roll specifically his own data, if they were in a copy.  Typically, such a portal also has a search engine for backups and archives (as part of user rights).  The same archive can also be used to access information security staff - this will significantly reduce the number of inquiries to the IT department with questions like: ‚ÄúAnd who had this document‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2db/d67/17f/2dbd6717f369c5fc299266b4665ee1c3.png" width="750"><br><br>  Yes, you understood correctly.  If the user has lost the file, accidentally deleted the letter or wanted to find the old version of the document for comparison - he just goes and does everything himself in seconds without any complications.  And he doesn't even call and write to the IT department. <br><br>  We should also say about the <b>search</b> .  All unstructured data (files, mail, SharePoint objects, etc.) that fall into the system would be good to index and organize a search engine.  Simpana does it.  On the one hand, via the self-service console, users can find any object themselves by keywords.  On the other hand, the security service can carry out targeted measures to analyze all this information, including to search for internal threats.  Well, the system can set the data retention period depending on the content of this data. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bc9/17d/1cb/bc917d1cbb22ae06c3b61954720acf0a.png" width="750"><br><br><h4>  How fast can all be rolled back? </h4><br>  Suppose we have a complex system with an Oracle database as storage.  Data is physically spread over several servers in one data center.  Used by CommVault. <br><br><ul><li>  The first case - the user took and deleted data from his workstation.  Restores either himself or the administrator: enters the interface, selects the site.  Everything else is done by the system.  The user sees a beautiful web interface, the administrator can work with him or with the console. </li><li>  Now we have an Exchange mail server crashes.  The script is still quite simple: again, either the user himself or the administrator determines which data needs to be restored, connects, logs in, opens the recovery console, selects the area, presses the ‚Äúrecover‚Äù button. </li><li>  Now we have lost data from the base of our large commercial applications for today.  For example, all transactions on the sale.  In this case, the backup system will knock on the RMAN mechanism that Oracle has (this is a kind of data recovery API).  But since everything is already integrated with us, the administrator also only chooses what needs to be restored.  Further, RMAN itself, along with the backup system, decides what to do specifically: restore the entire database or some TableSpace, i.e.  a separate table, and so on. </li><li>  And now our data center explodes at night.  In this case, the administrator selects another data center and rolls the last copy to the ‚Äúclean‚Äù equipment.  The system itself collects the most recent complete copy of the deduplicated data and gives the necessary information to each subsystem and application.  Regular users, most likely, do not even notice what happened.  It may be that in some other data center some data is already there, replicated, or simply restored according to a schedule, then it is still easier and recovery takes place not even on a clean system. </li></ul><br><br><h4>  System development from version to version </h4><br>  With the development of backup systems, support for new commercial applications appears.  It's about standard service packs as part of support.  CommVault, for example, has a good policy to release compatibility updates to the current version, rather than forcing the next release to buy: this is convenient because the company's infrastructure is constantly evolving. <br><br>  In new versions of software, new features appear, such as copying in a single pass, for example, with simultaneous transfer to the archive from file servers.  Or, archiving and backup operations in Exchange have recently been merged - now they are also done in a single pass.  Recently, the possibility of archiving virtual machines appeared pleasant for large cloud systems: if the machine is not used for a long time or turned off, then, according to a set of rules, it can be removed from the virtualization platform, and only a backup copy will remain. <br><br>  Recently, there were clients for iOS and Android for managing copies of their workstation: it‚Äôs convenient if someone leaves on a business trip and forgets a presentation, for example.  Or when the laptop breaks on the road.  Here, too, do not need to wake the admin in two nights: the user can do everything himself. <br><br><h4>  Vendors </h4><br>  According to the report Gartner - among the leaders with whom we are actively working, in particular, IBM, Symantec, EMC and CommVault. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/57e/a8a/2ef/57ea8a2ef16f66e692f20da792833498.png" width="575" height="575"><br>  <i>Gartner Square: top-right leaders, niche-bottom players.</i> <br><br>  <b>IBM</b> Tivoli Storage Manager (TSM) is a fairly flexible product in terms of setting up and organizing a backup scheme in an enterprise.  Combining the various components of TSM, the customer gets the opportunity to build the desired functionality for their tasks.  But, often, this requires more time for design and implementation.  TSM is often used as part of integrated solutions based on hardware and software from IBM. <br><br>  <b>EMC</b> .  Being a company that produces not only software, but also hardware, it is primarily aimed at integrating all its solutions.  Therefore, if the infrastructure is more built on the Clariion storage system, VNX, data domain, you should look at the EMC backup products, which will ensure a uniform system structure.  By the way, the EMC Avamar product is also a software and hardware solution. <br><br>  <b>Symantec</b> is on the backup market with its flagship product, NetBackup, focused on the enterprise segment, and the more ‚Äúlightweight‚Äù BackupExec, traditionally used in environments built primarily on Microsoft products.  NetBackup is renowned for supporting a wide range of operating systems, DBMSs and business applications, including those deployed in a virtual environment.  And also knows how to use advanced features of modern storage systems.  NetBackup is a good choice for environments with a large share of UNIX systems.  Recently, Symantec products are supplied not only as software, but also as PAK, which speeds up their deployment and configuration. <br><br>  <b>CommVault</b> .  Perhaps the most important is that it is a complete product that covers almost all potential customer needs.  This is a unified platform that combines the functionality of copying, archiving and data access.  Plus, traditionally good integration with virtualization platforms, deduplication and integration with cloud storage.  Well, as mentioned above, the IT department is greatly relieved by a competent policy of user access rights to archive elements.  According to the experience of a number of implementations, CommVault will be a good choice in the presence of a large number of heterogeneous software and hardware.  In homogeneous environments based on * unix, it is probably worth thinking about other products, but in heterogeneous environments - it allows you to immediately get rid of chaos and always be sure that there is a backup, it is fresh, and quickly rolls back, if that.  And this, as you probably know, is very protective of nerves. <br><br>  In general, we must look, of course, in place.  If you have questions about what to choose for your infrastructure, write to AlBelyaev@croc.ru, we will help you evaluate all aspects and warn about possible pitfalls. <br><br><h4>  More interesting links </h4><br><ul><li>  <a href="http://habrahabr.ru/company/croc/blog/169333/">Storage virtualization</a> : how to ‚Äúsmear‚Äù them across the entire data center, so that if a meteorite hits, you can continue working. </li><li>  <a href="http://habrahabr.ru/company/croc/blog/181494/">Overview of "fast" storage</a> used for active-active systems in the field of Big Data. </li><li>  <a href="http://habrahabr.ru/company/croc/blog/143877/">Educational program</a> about how to make disaster-proof solutions at home. </li><li>  About the <a href="http://habrahabr.ru/company/croc/blog/157099/">difference in the design of data centers</a> and the <a href="http://habrahabr.ru/company/croc/blog/151065/">history of</a> one accident. </li><li>  <a href="http://habrahabr.ru/company/croc/blog/149306/">Overview of EMC backup solution</a> : large storage in a distant data center and a small server for you, which keeps track of everything. </li></ul></div><p>Source: <a href="https://habr.com/ru/post/196258/">https://habr.com/ru/post/196258/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../196242/index.html">Is it necessary to have a higher education system administrator?</a></li>
<li><a href="../196246/index.html">An animation of ListView elements in Android</a></li>
<li><a href="../196248/index.html">Web help, web documents. Even easier</a></li>
<li><a href="../196250/index.html">Angular vs Derby. There must be only one</a></li>
<li><a href="../196254/index.html">Russian version of Developer Economics Q3 2013</a></li>
<li><a href="../196260/index.html">Ask a question to IT industry gurus</a></li>
<li><a href="../196262/index.html">Webasyst 1.2.0 release and developer store</a></li>
<li><a href="../196264/index.html">Intel introduced a Galileo development board</a></li>
<li><a href="../196268/index.html">One of the easiest options for VoIP security</a></li>
<li><a href="../196272/index.html">What are scripts and what they eat - Lua & C ++</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>