<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hot MySQL BackUp Creation Tools</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day. Recently, I wondered about how to make hot BackUps `MySQL-servers - below is a compilation of the read. I want to say in advance that this p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hot MySQL BackUp Creation Tools</h1><div class="post__text post__text-html js-mediator-article">  Good day.  Recently, I wondered about how to make hot BackUps `MySQL-servers - below is a compilation of the read.  I want to say in advance that this post is rather a big note than a full-fledged article.  I deliberately shy away from the description of syntax - a lot has already been written on this topic - I set myself another goal - to make a brief overview of the main methods with characteristic features: <br><a name="habracut"></a><br>  <strong>1. Using the mysqldump utility.</strong>  This program is extremely popular among web hosting users.  Reading the contents of the tables, she creates a file with SQL instructions for later filling.  But, as a rule, when using people forget about three key points: <br><ul><li>  If you do not use table locking, it is quite possible to get a violation of the logical links between the contents of the tables (if in the process of creating a copy, someone decides to leave a record in the database).  Here, indirectly, the rolling of the bin-log`a part after recovery from the dump can help.  So if for some reason you do not block the tables, use the - flush-log key - when using it, the old log will be closed and a new one will be started.  If someone writes something in the process of creating a backup, it will be reflected at the beginning of the journal and you will transfer this change to the database without any problems.  I would advise that after finishing the backup, also run mysqladmin-flush-logs and put the penultimate binary log in the backup in addition to the dump-file. </li><li>  When using the --lock-tables key, all tables get a write lock, requests are queued.  This can lead to client-side timeouts. </li><li>  It should also be borne in mind that the rise (as well as the creation of a dump) of a large base saved in this way can be fairly delayed - in the first case, you scrape all the records from the base, and in the opposite case - feed them to it.  However, this is one of the few ways to save a database from the console without having root access. </li></ul><br>  <em>Recovery:</em> by dumping a file to the mysql utility via STDIN. <br><br>  <strong>2. Using the mysqlhotcopy utility.</strong>  Another tool from the regular set of MySQL.  The idea is as follows: the base is put on a lock, after which the cp or scp files are copied to another location. <br><ul><li>  Unlike the previous version, it is the table files that are saved, and not a set of instructions for recreating the database, that is, the speed is limited only by the operating system and your hardware. </li><li>  In my mind - it is quite suitable for backing up large databases. </li><li>  Works only with MyISAM and ARCHIVE-tables. </li><li>  It is performed only from the server on which the database rests, provided that you have rights to the files with MySQL tables. </li></ul><br>  <em>Recovery:</em> by copying the saved files to the MySQL data directory. <br><br>  <strong>3. Using LVM.</strong> <br>  LVM is an extra layer between the file system and the hard disk itself.  One of the remarkable features of LVM is the ability to remove an image from a volume on the fly.  The scheme of actions will be the following: lock all database tables, take a snapshot from a volume, unlock tables. <br><ul><li>  This method implies a preliminary FLUSH with locking of all tables (it is better to write a script for this purpose). </li><li>  To use this method, it is necessary that the MySQL data (for Linux, they will most likely be stored in the / var / lib / mysql directory) be on the LVM volume (preferably separate, so as not to back up the excess). </li><li>  Considering that we are talking about a hot backup - if you are going to use this method - it is better to make the decision on the placement at the server configuration stage. </li></ul><br>  <em>Recovery:</em> by copying the files saved from the image to the MySQL data directory. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <strong>4. Using replication.</strong>  Despite the fact that many consider this option hemorrhoids, this method of reservation seems to me the most correct.  The logic of this approach consists in constant synchronization of the main (master) server with the secondary (slave).  Read more about replication <a href="http://habrahabr.ru/blogs/mysql/56702/">here</a> . <br><ul><li>  A separate MySQL server configuration is required.  Moreover, it is desirable - on autonomous hardware. </li><li>  Stopping the slave server will not play any role on the master `s - you can do a" cold "backup. </li><li>  In the case of the fall of the master`a, it is possible in the shortest possible time (it would be reasonable to automate this process) to transfer all the load on the slave, and after recovery, synchronize with the master and return everything to the previous places. </li><li>  Slave can become part-time storage area for backups. </li><li>  <strong>Important!</strong>  <strong>The existence of a replica does not release you from creating backups.</strong>  <strong>Doing some DROP will affect both servers!</strong> </li></ul><br>  <em>Recovery:</em> output of the slave server to the master`a place, or recovery by one of the above methods (depending on the selected one). <br><br>  <i>Total:</i> As you can see, each method has its pros and cons: there is hardly any sense in backing up a small forum using replicas, and bases where the count goes to gigabytes will hardly be conveniently picked up from files made by mysqldump, each method is good at certain conditions. <br><br>  At this point I finish my story, I hope it will be useful for you.  Thank you for your attention and see you again on the air.  :) </div><p>Source: <a href="https://habr.com/ru/post/63394/">https://habr.com/ru/post/63394/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../63388/index.html">Truth happens</a></li>
<li><a href="../63389/index.html">Tags in Gmail: drag and drop and more</a></li>
<li><a href="../63390/index.html">KDE 4.3 Candidate First Release Available for Testing</a></li>
<li><a href="../63391/index.html">Why mono is good</a></li>
<li><a href="../63393/index.html">A bit of visual criticism of javascript</a></li>
<li><a href="../63395/index.html">IE8 and standards support - transparent PNG + opacity, as well as data: URI + AlphaImageLoader</a></li>
<li><a href="../63398/index.html">Ideas for Microsoft</a></li>
<li><a href="../63401/index.html">Windows 7 Sensor and Location platform</a></li>
<li><a href="../63402/index.html">President of the Russian Federation Dmitry Medvedev signed a decree on the All-Russian compulsory publicly accessible television and radio channels</a></li>
<li><a href="../63405/index.html">EverMap ‚Üí NeverMap</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>