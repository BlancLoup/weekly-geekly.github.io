<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HabrAjax meets the old design</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The HabrAjax script, which is designed to support user styles, which implements functions that match the wishes of the interface, is rapidly approachi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>HabrAjax meets the old design</h1><div class="post__text post__text-html js-mediator-article">  The <a href="https://greasyfork.org/en/scripts/1970-habrajax">HabrAjax</a> script, which is designed to support user styles, which implements functions that match the <a href="http://habrahabr.ru/blogs/ilhh/135667/">wishes</a> of the interface, is rapidly approaching release over the past few days after <a href="http://habrahabr.ru/blogs/javascript/135464/">publication</a> .  All main functionality has been made and work tolerably well on pages with different layouts, which made up the bulk of the complexity.  QA and old pages work (Favorites, Own, company blogs, search) - uploading of articles and comments everywhere works without reloading the announcements tape. <br><br>  Another important part of the scripts has been added - the ability to work correctly <b>without using</b> special ZenComment styles (the note below sheds light on this mysterious mode), in the old (existing) page design.  This is exactly what 90% of users who were not ready to switch to a new design instead of the usual outlines and sizes of the old were missing. <br><a name="habracut"></a><br>  Even if they are not ready now, but the greater convenience of some functions in the new design will do their work, and the one going will comprehend Zen. <br><br>  For compatibility, we had to add a small group of transitional styles that fit the script innovations under the old design, because all of them were originally sharpened for a new one.  In some places it turned out not very elegant - for example, a horizontal scroll bar in a half-height frame, but what to do if you decided to use the old look of the page - don't completely change it to a new one.  But it turned out that, by including Sylish with styles (in Firefox), we are moving to a new design based on ZenComment styles with one hand movement.  (In other browsers, it will be the same, but with a somewhat larger number of style switching manipulations.) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  What is Zen? </h3><br>  ZenComment styles are a completely atomic thing, few understand it, and this is not surprising.  Work in the style of "Zen" - indeed, in the image and behavior is very different from the usual pages.  Therefore, I would not immediately comprehend Zen, but after passing two stages of development. <br><br>  1. Old design with HabrAjax script.  He sows doubts about the correctness of looking through the prism of being. <br><br>  2. New design in the style of "Compact" - it is also embedded in the styles of ZenComment and is included in them in 2 ways - by editing 1 character in styles or by switching the mode through HabrAjax.  And only after that, after mastering the ‚ÄúCompact‚Äù and working confidently in it, it is recommended to comprehend ‚ÄúZen‚Äù.  And I also like the Compact more - apparently, I was not mature enough to Zen. <br><br>  3. What is Zen?  Like all such allegories, Zen in our case is a state of displaying comments, when nothing superfluous remains on the screen - only a gray box and text.  And the lines describing the structure. <br><br>  This is the most secretive mode of general Zen philosophy.  Under the Zen style, there are as many as 4 modes of varying degrees of secrecy, which are simply caused by mouse movements.  Let's call them conditionally through the cardinal points, because approximately in such sides of the window you need to position the mouse in order to see them. <br><br>  "North" - the most secretive mode.  Visible text messages and gray fields of gaps between them.  No names, no dates, no ratings.  The mouse needs to be moved to the thin strip to the left of the comment column, about 6 pixels.  wide.  (Or on the header of the comments.) <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/864/59b/cef/86459bcef21be1afb7124b7d965465a9.jpg"></a> <br><br>  "East" - white fields.  The names of the authors and nothing more are added to the comments.  Apart from the same auxiliary lines for the comment tree structure.  The mouse should be directed to the right or removed completely from the window. <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/831/025/664/83102566480f7256ac8a1f17229a9dc0.jpg"></a> <br><br>  ‚ÄúSouth‚Äù is the most favored information; we see everything for the message and the previous messages of the branch, if we hover the mouse over the message header.  Estimates, buttons, date, signature - everything is there.  Neighboring branches covered with gray gloom, only the text, as for the "North". <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/cbb/fe6/374/cbbfe6374b5e318935d3c46ac828388b.jpg"></a> <br><br>  ‚ÄúWest‚Äù - if you hover not on the thin strip on the left, but a little to the right, up to 20 pixels, only the first level with the author and date will be highlighted, the remaining names will be hidden, but all the estimates of the branch will be shown.  Yes, this is the same as "South", but for the root of the branch. <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/fbc/bae/5cc/fbcbae5cc54955f2100f346c0812f594.jpg"></a> <br><br>  For clarity, areas of different Zen modes are shown in different colors.  Please note that the "East" covers everything around, and the "North" occupies two rectangular areas, and not one, therefore, by scrolling the mouse it is easy to be in the "North" mode (as well as the "West"). <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/c59/893/bc0/c59893bc0ccc309d404a15aefc82cb85.jpg"></a> <br><br>  Here is a philosophy, very unusual with this flickering gray fields.  Maybe in the end, we will stop on a white background of Zen.  Nothing prevents rewriting several field colors so that the ‚ÄúNorth‚Äù is as white as the ‚ÄúEast‚Äù, but the names of the authors disappear. <br><br>  Especially for Zen, I wrote a setting that hides avatars - they did not fit into the purity scheme with their fuss.  Avatars are visible on them.  In some places in the old layouts of the site, avatars are constantly visible, but this is normal for older layouts (in company blogs).  You can overcome, but the weather they do not. <br><br>  You may notice that the old layout of the blogs of companies does not contain a Zen mode.  That's right, because it was created in October 2011, from the moment a new layout appeared and based on it.  The new layout of Questions and Answers also does not contain it.  Perhaps this will not be necessary. <br><br>  But this later.  Now we are in the first stage of Zen comprehension.  We include the old design.  More precisely, it is not necessary to include it, it is, and new styles will not add anything to it.  You need to install <a href="https://greasyfork.org/en/scripts/1970-habrajax">HabrAjax</a> version 0.73 and higher.  If new ZenComment styles are installed, turn them off with the Stylish ‚ÄúTurn all styles off‚Äù menu bar.  You do not need to reload the page, everything new will disappear.  Only HabrAjax scripts remain. <br><br><h3>  Tao old design </h3><br>  Let the changes with the old design are not so dramatic and convenient, but the numerous functions of the scripts work, almost everything, and you can turn them off in any combination.  As a result, the script and styles withstand the enormous combination of settings and situations with the choice of browsers, with viewing page types.  There are tools to help you choose the settings for themselves and give additional convenience.  Their list occupies more than one page and was briefly described <a href="http://habrahabr.ru/blogs/javascript/135464/">in the previous article</a> , and partly on the script page.  It‚Äôs impossible not to describe them at all - you can not even guess about some of them (how to open site search results in a new window, remove Twitter buttons and add Google+, etc.).  And where to describe, as not on the site for which the script is made.  Let's give one more portion of illustrations. <br><br>  A little about the style of scripts and support plans.  Due to the powerful combinatorial mixing of modes that can be on the site‚Äôs pages (different layouts, different browsers and even a combination of layouts of different pages - those who watched how the site works, he knows), the style of the script is very confusing.  Experience shows that regular breaks of layouts on the site lead to long-term restoration of functionality.  It requires a different approach to its construction, creating a lesser dependence on the site, which is now.  But the script with the current dependency already exists, it works and will be maintained until the implementation of a different design, which is more ideologically advanced, appears. <br><br>  Even in the current implementation, some development of functionality is expected.  The script will work as a basis for scripts-plug-ins that use the basic functions of the main script.  Even the existing set of functions would be good to break into 5-6 plug-ins, so that breaking the site structure does not lead to long failures in working capacity.  Then the plugins would be restored in turn, and each plug-in would be simpler than one whole program.  New features will also be easier to add via plug-ins, and touch the old ones only if necessary to adjust the site. <br><br><h3>  Design through the prism of HabrAjax - the classic version </h3><br>  Let us strive to preserve the old design, but in some places it had to be corrected so that the changes did not look so bad.  The most noticeable change is the colorization of comments by authors and by their number.  This property has managed to collect a lot of comments because of its variegation.  If we want to leave (do not disable) this property, we must somehow dispose of the highlighted ‚ÄúAnswer‚Äù buttons so that they do not mix their structure of answers with their appearance.  Nothing new was invented, as was the same decision that was in the Zen comment: put the buttons on the left and vertically.  By their appearance they create a ‚Äúwall‚Äù of the message and highlight the level shifts well.  You can put up with diversity, if nothing new is invented. <br><br>  Previous photos were from Firefox, now let's move on to Chrome for a change.  Pages with comments look like this: <br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/c8f/c6d/fa8/c8fc6dfa8900ac225a80feaa19ebb1f7.jpg"></a> </div><br><br>  As you can see - the script results are shown, but with a more familiar arrangement of blocks.  Feels untidily, because different styles are mixed, sizes are inaccurately verified.  In general, for the not very basic mode of the script, this is tolerable.  This is enough for a transitional period, when you want to look more compact. <br><br>  When you feel the power to step onto the next step, you first need to turn on the ‚Äúbuilt-in ZenComment styles‚Äù setting (or connect external styles instead), and not to get into the complicated ‚ÄúZen‚Äù mode - also turn on the ‚Äú <b>comment mode‚Äú compact</b> ‚Äù .  (All this for now because of the version of the "beta" must be done directly in the script code, setting 0 or 1 for variable settings.) There will always be a white background in all positions of the mouse.  From the movements of the mouse depends only on the appearance of the answer buttons.  This is what <b>Compact</b> mode looks like: <br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/fab/9fc/039/fab9fc039d1de44bf089b48418407852.jpg"></a> </div><br><br>  All photos were taken after uploading the article without reloading the tape page.  Therefore, they do not have assessment arrows and favorites stars, and there are ‚ÄúCollapse‚Äù buttons.  When viewing single articles, rating buttons appear on opposite sides of the numbers.  Messages - a little more apart than in Zen, but more compressed than in the classics. <br><br>  So, gradually, from the familiar to the new, it is proposed to make the path to the attainment of Zen.  The more there will be a comprehended Zen, the richer will be the community of users of scripts and connoisseurs of sublime interfaces.  More user base - more developers achieving great.  More developers - more sites with user-friendly interfaces. <br><br>  <b>UPD</b> 6.01, 12.00: Version 0.74 of HabrAjax and 2.04 ZenComment is available. <br>  In addition to the planned improvements, the main ones are the completion of the QA cover and <u>saving the settings</u> - several bug fixes suggested by commentators and bug reports in Reformal.  So, the noticed bugs were made in the Opera, a small bug was fixed in Chrome to auto-detect the presence of user styles and layout. <br><br>  Below is a view of the QA ribbon with a loaded question and answers (after clicking on the ‚ÄúN Answers‚Äù ‚Äã‚Äãbutton). <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/8f4/d69/f60/8f4d69f604cbf349b98ea0f82826095f.jpg"></a> </div><p>Source: <a href="https://habr.com/ru/post/135686/">https://habr.com/ru/post/135686/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../135676/index.html">DIY: Handsfree Car Kit for iPhone</a></li>
<li><a href="../135679/index.html">Flying robots build tower</a></li>
<li><a href="../135681/index.html">How our army is waiting for your Stuxnet</a></li>
<li><a href="../135684/index.html">Reduce the size of your iOS application</a></li>
<li><a href="../135685/index.html">Checked elections</a></li>
<li><a href="../135688/index.html">Microsoft is gradually saying goodbye to Internet Explorer 6</a></li>
<li><a href="../135689/index.html">Android Ice Cream Sandwich on tablets</a></li>
<li><a href="../135690/index.html">Contra Mario - nuclear symbiosis</a></li>
<li><a href="../135691/index.html">Service GymPact takes money from lazy people and gives to those who play sports</a></li>
<li><a href="../135693/index.html">OTIXO - Get WebDAV access to all its repositories.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>