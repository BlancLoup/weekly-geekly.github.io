<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to make a table cell movable to display additional options in iOS applications</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As a translator, I apologize in advance for any errors in the translation. I would appreciate error messages for their prompt correction. 

 When iOS ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to make a table cell movable to display additional options in iOS applications</h1><div class="post__text post__text-html js-mediator-article">  <i>As a translator, I apologize in advance for any errors in the translation.</i>  <i>I would appreciate error messages for their prompt correction.</i> <br><br>  When iOS 7 was first announced, one of the many visual innovations that particularly interested me was the swipe-to-delete gesture in the Mail app.  You have long been perfectly familiar with this feature of the application.  After you navigate the table cell, you see the basket buttons, additional options (‚ÄúMore‚Äù) and mark the letter with a flag.  When you click on the ‚ÄúMore‚Äù button, the action selection panel becomes active, where you can choose one of the letter action options - Reply, Mark with flag, etc. <br><br>  I think this is a great tool for manipulating table entries.  However, as you are well aware that Apple does not provide this opportunity for developers in iOS 7. You can only add a gesture to the function of deleting a record from the table.  The remaining options for working with a table entry are limited to the standard Mail application.  I have no idea why Apple restricts the use of such a wonderful tool only to its applications.  Fortunately, some developers have created solutions (such as <a href="https://github.com/TeehanLax/UITableViewCell-Swipe-for-Options">UITableView-Swipe-for-Options</a> , <a href="https://github.com/alikaragoz/MCSwipeTableViewCell">MCSwipeTableViewCell</a> ) and made them completely free. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In this tutorial, I will use the <a href="https://github.com/CEWendel/SWTableViewCell">SWTableViewCell</a> library.  Let's see how it helps us to implement the function swipe-to-show-options (swipe to see options) in your application.  SWTableViewCell is fairly easy to use, and if you understand how UITableView works, you should have no problems with SWTableViewCell.  In addition, this component supports the display of option buttons when svaype in both directions.  You will quickly understand what this means. <br><br>  So let's get started and create our demo application. <br><a name="habracut"></a><br><img src="https://habrastorage.org/files/0f6/c24/525/0f6c2452545c4a25ae621da25f5e1e04.gif"><br><br><h1>  Xcode project template for the demo application </h1><br><br>  I highly recommend that you create a demo application project from scratch.  However, in order to focus exclusively on using the SWTableViewCell library, I have prepared a project template for you.  You can <a href="">download it here</a> .  If you know how to create a custom table view, you need to understand how this template works.  After you download it, you can try to compile and run the project.  The application should display a list of image patterns (courtesy of <a href="http://thepatternlibrary.com/">thepatternlibrary.com</a> ). <br><br><img src="https://habrastorage.org/files/8cf/7bb/11b/8cf7bb11b1c04aa7bb9ffb44de5bbf87.jpg"><br><br><h1>  Adding SWTableViewCell library to our project </h1><br><br>  SWTableViewCell is developed by Chris Wendel and is available for free on GitHub.  To use it, first download it from GitHub, unpack the archive and add the unpacked file to the SWTableViewCell or PodFiles group in your project. <br><br><img src="https://habrastorage.org/files/4d0/34c/549/4d034c549ceb412fbb2289ebd9a12913.jpg"><br><br><h1>  Using SWTableViewCell </h1><br><br>  The SWTableViewCell library is very simple to use.  If you are familiar with UITableView and UITableViewCell, you should not have difficulty using it.  Here is what you should do: <br><br>  1. Choose as a class that will serve the cells of our SWTableViewCell table instead of UITableViewCell.  SWTableViewCell is actually inherited from UITableViewCell, providing additional tools for displaying the option buttons when swiping around a table cell. <br>  2. Modify the <i>cellForRowAtIndexPath</i> method <i>:</i> to create new buttons - SWTableViewCell provides two properties with the names <i>leftUtilityButtons</i> and <i>rightUtilityButtons</i> .  These two properties provide a set of option buttons that are shown when swiping left and right, respectively.  You must first create an array of option buttons and assign them all the necessary properties.  It is not necessary to assign sets of buttons at once to both the <i>leftUtilityButtons</i> and <i>rightUtilityButtons properties</i> . <br>  3. Implement the SWTableViewCellDelegate protocol.  Methods of this protocol allow developers to control the actions of additional buttons.  When the user makes a swipe to a table cell, this cell will show a set of option buttons.  Depending on the direction of the svayp, when you click on the option button, one of the <i>didTriggerRightUtilityButtonWithIndex:</i> or <i>didTriggerLeftUtilityButtonWithIndex:</i> methods will be called.  You must implement these methods to respond to button presses. <br><br>  So let's change the application template to use SWTableViewCell. <br><br><h1>  Changing the class of the serving Table View Cell to SWTableViewCell </h1><br><br>  First, open the CustomTableViewCell.h file and change the parent class to SWTableViewCell.  Your code should look something like this after making changes: <br><br><pre><code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;UIKit/UIKit.h&gt;</span></span></span><span class="hljs-meta"> #import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"SWTableViewCell.h"</span></span></span><span class="hljs-meta"> @interface CustomTableViewCell : SWTableViewCell @property (weak, nonatomic) IBOutlet UIImageView *patternImageView; @property (weak, nonatomic) IBOutlet UILabel *patternLabel; @end</span></span></code> </pre> <br><br><h1>  Creating option buttons </h1><br><br>  Now we will change the <i>cellForRowAtIndexPath:</i> method in the <i>SwipeTableViewController.m</i> file to create cell option buttons.  But before we do this, add the import statement to the library and specify the implement SWTableViewCellDelegate protocol in the SwipeTableViewController.h file.  We will talk about protocol implementation a bit later, in the next section, to begin with, let's make changes to the code.  After making changes, it should look something like this: <br><br><pre> <code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;UIKit/UIKit.h&gt;</span></span></span><span class="hljs-meta"> #import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"SWTableViewCell.h"</span></span></span><span class="hljs-meta"> @interface SwipeTableViewController : UITableViewController </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;SWTableViewCellDelegate&gt;</span></span></span><span class="hljs-meta"> @end</span></span></code> </pre><br><br>  Open the SwipeTableViewController.m file and make changes to the <i>cellForRowAtIndexPath</i> method <i>:</i> <br><br><pre> <code class="objectivec hljs">- (<span class="hljs-built_in"><span class="hljs-built_in">UITableViewCell</span></span> *)tableView:(<span class="hljs-built_in"><span class="hljs-built_in">UITableView</span></span> *)tableView cellForRowAtIndexPath:(<span class="hljs-built_in"><span class="hljs-built_in">NSIndexPath</span></span> *)indexPath { <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *cellIdentifier = <span class="hljs-string"><span class="hljs-string">@"Cell"</span></span>; CustomTableViewCell *cell = (CustomTableViewCell *)[tableView dequeueReusableCellWithIdentifier:cellIdentifier forIndexPath:indexPath]; <span class="hljs-comment"><span class="hljs-comment">// Add utility buttons NSMutableArray *leftUtilityButtons = [NSMutableArray new]; NSMutableArray *rightUtilityButtons = [NSMutableArray new]; [leftUtilityButtons sw_addUtilityButtonWithColor: [UIColor colorWithRed:1.0f green:1.0f blue:0.35f alpha:0.7] icon:[UIImage imageNamed:@"like.png"&lt;/a&gt;; [leftUtilityButtons sw_addUtilityButtonWithColor: [UIColor colorWithRed:1.0f green:1.0f blue:0.35f alpha:0.7] icon:[UIImage imageNamed:@"message.png"&lt;/a&gt;; [leftUtilityButtons sw_addUtilityButtonWithColor: [UIColor colorWithRed:1.0f green:1.0f blue:0.35f alpha:0.7] icon:[UIImage imageNamed:@"facebook.png"&lt;/a&gt;; [leftUtilityButtons sw_addUtilityButtonWithColor: [UIColor colorWithRed:1.0f green:1.0f blue:0.35f alpha:0.7] icon:[UIImage imageNamed:@"twitter.png"&lt;/a&gt;; [rightUtilityButtons sw_addUtilityButtonWithColor: [UIColor colorWithRed:0.78f green:0.78f blue:0.8f alpha:1.0] title:@"More"]; [rightUtilityButtons sw_addUtilityButtonWithColor: [UIColor colorWithRed:1.0f green:0.231f blue:0.188 alpha:1.0f] title:@"Delete"]; cell.leftUtilityButtons = leftUtilityButtons; cell.rightUtilityButtons = rightUtilityButtons; cell.delegate = self; // Configure the cell... cell.patternLabel.text = [patterns objectAtIndex:indexPath.row]; cell.patternImageView.image = [UIImage imageNamed:[patternImages objectAtIndex:indexPath.row&lt;/a&gt;; return cell; }</span></span></code> </pre><br><br>  In this example, we have created two sets of option buttons.  One of them will be shown when swipe left, the other when swipe right.  We created a set of buttons for sharing and placed it in the leftUtilityButtons variable, and also we created the More and Delete buttons and placed them in the rightUtilityButtons variable.  As you can see from the code above, you can simply create an array of NSMutableArray and its elements add the necessary buttons to it using the <i>sw_addUtilityButtonWithColor:</i> method. <br><br>  Now you are ready to compile and run the test application.  After launch, try to navigate to any cell in the table and you should see the cell option buttons.  However, the buttons do not work and we know why.  We have not implemented some of the SWTableViewCellDelegate protocol methods.  Well, let's move on. <br><br><h1>  SWTableViewCellDelegate protocol implementation </h1><br><br>  The SWTableViewCellDelegate protocol provides methods for controlling the actions of pressing the option buttons.  The attentive reader, of course, noticed that SwipeTableViewController is designated as the SWTableViewCell delegate in the code above.  Well, let's implement the following two methods in SwipeTableViewController.m: <br><br>  1. The <i>didTriggerLeftUtilityButtonWithIndex</i> method <i>:</i> - triggered when any of the option buttons on the left side of the cell is pressed <br>  2. <i>didTriggerRightUtilityButtonWithIndex</i> method <i>:</i> - it works when any of the option buttons on the right side of the cell is pressed <br><br>  Add the following code to SwipeTableViewController.m: <br><br><pre> <code class="objectivec hljs">- (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)swipeableTableViewCell:(SWTableViewCell *)cell didTriggerLeftUtilityButtonWithIndex:(<span class="hljs-built_in"><span class="hljs-built_in">NSInteger</span></span>)index { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (index) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: { <span class="hljs-built_in"><span class="hljs-built_in">UIAlertView</span></span> *alertView = [[<span class="hljs-built_in"><span class="hljs-built_in">UIAlertView</span></span> alloc] initWithTitle:<span class="hljs-string"><span class="hljs-string">@"Bookmark"</span></span> message:<span class="hljs-string"><span class="hljs-string">@"Save to favorites successfully"</span></span> delegate:<span class="hljs-literal"><span class="hljs-literal">nil</span></span> cancelButtonTitle:<span class="hljs-string"><span class="hljs-string">@"OK"</span></span> otherButtonTitles: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>]; [alertView show]; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: { <span class="hljs-built_in"><span class="hljs-built_in">UIAlertView</span></span> *alertView = [[<span class="hljs-built_in"><span class="hljs-built_in">UIAlertView</span></span> alloc] initWithTitle:<span class="hljs-string"><span class="hljs-string">@"Email sent"</span></span> message:<span class="hljs-string"><span class="hljs-string">@"Just sent the image to your INBOX"</span></span> delegate:<span class="hljs-literal"><span class="hljs-literal">nil</span></span> cancelButtonTitle:<span class="hljs-string"><span class="hljs-string">@"OK"</span></span> otherButtonTitles: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>]; [alertView show]; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>: { <span class="hljs-built_in"><span class="hljs-built_in">UIAlertView</span></span> *alertView = [[<span class="hljs-built_in"><span class="hljs-built_in">UIAlertView</span></span> alloc] initWithTitle:<span class="hljs-string"><span class="hljs-string">@"Facebook Sharing"</span></span> message:<span class="hljs-string"><span class="hljs-string">@"Just shared the pattern image on Facebook"</span></span> delegate:<span class="hljs-literal"><span class="hljs-literal">nil</span></span> cancelButtonTitle:<span class="hljs-string"><span class="hljs-string">@"OK"</span></span> otherButtonTitles: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>]; [alertView show]; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>: { <span class="hljs-built_in"><span class="hljs-built_in">UIAlertView</span></span> *alertView = [[<span class="hljs-built_in"><span class="hljs-built_in">UIAlertView</span></span> alloc] initWithTitle:<span class="hljs-string"><span class="hljs-string">@"Twitter Sharing"</span></span> message:<span class="hljs-string"><span class="hljs-string">@"Just shared the pattern image on Twitter"</span></span> delegate:<span class="hljs-literal"><span class="hljs-literal">nil</span></span> cancelButtonTitle:<span class="hljs-string"><span class="hljs-string">@"OK"</span></span> otherButtonTitles: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>]; [alertView show]; } <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre><br><br>  To preserve the simplicity of our example, we simply show an alert when any of the sharing buttons is pressed.  In a real application, you can implement real sharing on Facebook and Twitter, for example. <br><br>  For the option buttons on the right side of the cell, we implemented the <i>didTriggerRightUtilityButtonWithIndex:</i> method with the following code: <br><br><pre> <code class="objectivec hljs">- (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)swipeableTableViewCell:(SWTableViewCell *)cell didTriggerRightUtilityButtonWithIndex:(<span class="hljs-built_in"><span class="hljs-built_in">NSInteger</span></span>)index { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (index) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: { <span class="hljs-comment"><span class="hljs-comment">// More button is pressed UIActionSheet *shareActionSheet = [[UIActionSheet alloc] initWithTitle:@"Share" delegate:nil cancelButtonTitle:@"Cancel" destructiveButtonTitle:nil otherButtonTitles:@"Share on Facebook", @"Share on Twitter", nil]; [shareActionSheet showInView:self.view]; [cell hideUtilityButtonsAnimated:YES]; break; } case 1: { // Delete button is pressed NSIndexPath *cellIndexPath = [self.tableView indexPathForCell:cell]; [patterns removeObjectAtIndex:cellIndexPath.row]; [patternImages removeObjectAtIndex:cellIndexPath.row]; [self.tableView deleteRowsAtIndexPaths:@[cellIndexPath] withRowAnimation:UITableViewRowAnimationLeft]; break; } default: break; } }</span></span></code> </pre><br><br>  Again, the code is simple and straightforward.  When the ‚ÄúMore‚Äù button is pressed (Advanced), the application shows an action sheet (action sheet) containing a list of social networks for sharing.  For the ‚Äúdelete‚Äù option, we just need to remove the element from the list of templates and the patternImages array, and then call the <i>deleteRowsAtIndexPaths:</i> method to delete the record from the displayed table. <br><br>  That's all!  Now you can compile and run your application.  The option buttons should work something like this: <br><br><img src="https://habrastorage.org/files/5fe/e63/f82/5fee63f827664f01880ef556ae4d06b9.gif"><br><br><h1>  Let's sum up </h1><br><br>  SWTableViewCell makes it very easy to implement the swipe-for-options function for tables.  When developing your next application, consider implementing this feature.  I think it will raise the level of your application for the user. <br><br>  And although we can implement this functionality with the help of many third-party libraries or <a href="http://www.teehanlax.com/blog/reproducing-the-ios-7-mail-apps-interface/">implement it on our own</a> , I hope that Apple will consider the possibility of providing this tool to developers in future versions of iOS. <br><br>  You can <a href="">download the finished project</a> , if you suddenly need it. </div><p>Source: <a href="https://habr.com/ru/post/255293/">https://habr.com/ru/post/255293/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../255279/index.html">New Yandex.Maps that everyone can now fix themselves</a></li>
<li><a href="../255281/index.html">Homemade motion sensors (temperature, humidity, lighting) for the "Smart Home" based on the system MySensors</a></li>
<li><a href="../255285/index.html">The first two weeks of the course Artificial Intelligence CS188.1x or self-learning algorithms AI</a></li>
<li><a href="../255287/index.html">Understanding Web Design Trends</a></li>
<li><a href="../255291/index.html">Wall Street is changing the approach to data centers</a></li>
<li><a href="../255295/index.html">Bugs. Bugs never change</a></li>
<li><a href="../255305/index.html">Fortran 2003: teach Fortran and C to be friends</a></li>
<li><a href="../255307/index.html">HuaQiangBei electronic market in Shenzhen</a></li>
<li><a href="../255309/index.html">QGIS is the main tool for working with spatial information. An overview of thematic resources for beginners.</a></li>
<li><a href="../255311/index.html">Global Education: Russian government scholarship program for study abroad</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>