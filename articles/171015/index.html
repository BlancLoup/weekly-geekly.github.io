<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Example - clock on CSS3 without images and javascript</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article is about how the Wall Clock in Pure CSS3 demo was made. Initially, I intended to write this article in the form of a step-by-step tutoria...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Example - clock on CSS3 without images and javascript</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/73c/be1/930/73cbe1930fb253921c49f28498643be9.png" align="left"><br><br>  This article is about how the Wall Clock in Pure CSS3 demo was made.  Initially, I intended to write this article in the form of a step-by-step tutorial, but in the process I realized that such an example was not enough for this.  Therefore, I decided to dwell only on the details that, in my opinion, are the most interesting, and the implementation of the rest can be seen in the code. <br><br>  For a start, the actual example itself is on <a href="http://codepen.io/rassadin/pen/cvJmb">codepen.io</a> or <a href="http://cssdeck.com/labs/wall-clock-in-pure-css3">cssdesk.som</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br><h4>  About my acquaintance with HTML </h4><br>  I became acquainted with HTML in 1999 and since then I have occasionally been involved in frontend development for the web, as a rule, rather as a hobby, and very occasionally, as part of some large working draft.  Since 2012, I have gone to work in freelance, and frontend-development for the Web has become one of the most sought-after skills. <br><br><h4>  Clock </h4><br>  And it so happened that while digging into the New Year holidays in a stack of old CDs, I found this very first page on which I studied HTML and allowed me in 1999 to get a credit at the institute.  On it was inserted into Java applet with the clock. <br><br>  And I just finished a small project with intensive use of CSS3, and, the idea to make a clock, but already on pure CSS3 lay on the surface.  I understood that such an idea for the purposes of demonstrating the modules CSS3 Animation and CSS3 Transformation would not be new, and decided to make them at least realistic.  Plus, I decided not to look in advance how it was implemented by someone else.  Well, as far as I was able to judge you. <br><br><h4>  Ikea </h4><img src="https://habrastorage.org/storage2/43b/c2b/aa1/43bc2baa1ba611d85666f0ac4ba72c4d.png" align="right"><br>  Periodically, when I was at IKEA, I often paid attention to the IKEA PUGG watch (picture on the right) because of the fascinating typeface of numbers.  That is why at first this particular watch was chosen as a model, but then I found a similar watch from another manufacturer and they no longer had a stupid stepped frame edging. <br><br><h4>  Size selection and scaling using font-size </h4><br>  I immediately decided that I would not be tied to the pixels to leave the possibility of scaling. <br>  Percentages would have been perfect, but there was one problem.  Since it would be decided not to use graphics, the numbers on the dial needed a font, and it would not be possible to set the font size as a percentage of the block size. <br>  Therefore, everything was imposed on em-units.  Thus, you can set the desired size of the clock, you can set the font size for the block.  Initially, the clock was made up in the size of 100em x 100em and scaled through the font-size setting. <br>  Later, due to scaling bugs and for demonstration purposes on codepen.io, I reduced the ‚Äúinternal scale‚Äù to 10em. <br><br><h4>  Magic box-shadow </h4><img src="https://habrastorage.org/storage2/15d/76f/9bb/15d76f9bb0d084dc03a8ef54bb288f71.png" align="right"><br>  The effect of the chrome frame required three nested containers: the first for the outer part of the frame, the second for the inner part of the frame, and the third was the base of the dial. <br><br>  The effect itself will be created by the shadow elements in the box-shadow for all three containers.  Used both external and internal types of shadows.  The following pseudocode and a picture will help you to understand the principle of shadow overlay, as well as the order and priority of overlay: <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"a"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"b"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"c"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><pre> <code class="css hljs"><span class="hljs-selector-id"><span class="hljs-selector-id">#a</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">box-shadow</span></span>: inset . ai1, inset . ai2,   ao1,   ao2; } <span class="hljs-selector-id"><span class="hljs-selector-id">#b</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">box-shadow</span></span>: inset . bi1, inset . bi2,   bo1,   bo2; } <span class="hljs-selector-id"><span class="hljs-selector-id">#c</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">box-shadow</span></span>: inset . ci1, inset . ci2,   co1,   co2; }</code> </pre><br><img src="https://habrastorage.org/storage2/794/c4c/7d1/794c4c7d165e603386c7e9defbdcb513.png"><br><br>  To achieve at least a small likelihood of chrome plating, we had to study more than one dozen photographs, and more than one hour of time.  I will not give the result in CSS here; those who wish can experiment with the resulting code, for example <a href="http://codepen.io/rassadin/pen/cvJmb">, codepen.io</a> <br><br><h4>  Place tags </h4><br>  In order not to produce many entities and be content with a minimum of CSS rules, the following HTML markup of a block of five tags was invented <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  These five tags represented labels of minutes from 0 to 4 and at the same time from 30 to 34. Nested tags allowed to rotate them relative to its axis with just one rule in CSS <br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">b</span></span> &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">i</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">i</span></span> &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">i</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">rotate</span></span>(6deg) ; }</code> </pre><br>  The marks themselves were drawn using the upper (0-4) and lower (30-34) borders.  Taking into account the design, we obtained the following output result from these five tags: <br><br><img src="https://habrastorage.org/storage2/0f6/763/f41/0f6763f411e0bcc9a404c915b2a5746f.png"><br><br>  The remaining five blocks of tags were placed in a similar way by placing them in each other: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span>‚Ä¶<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span>‚Ä¶<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span>‚Ä¶<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span>‚Ä¶<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span>‚Ä¶<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span>‚Ä¶<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Accordingly, the following rule places the remaining blocks in the right places. <br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">b</span></span>&gt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">b</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">rotate</span></span>(30deg) ; }</code> </pre><br><br>  But surprisingly, such a simple code in the context of my example "put in a quandary" most browsers: <br><img src="https://habrastorage.org/storage2/aa5/448/3ef/aa54483efae82145836770e09963f102.png"><br><br>  Surprisingly, the correct result was only shown in IE9.  There are already bugs in IE10. <br><br>  Firefox and Webkit browsers found a fundamental bug related to rounding intermediate coordinate values ‚Äã‚Äãduring nested transformations.  Because of this bug, as you can see, there is an accumulation of error, and the last tags are placed far enough from the required place. <br><br>  Opera in general refused to show the transformation correctly.  It's certainly great that Opera has passed ACID3, but the quality of the other code, as we can see, is not reflected.  And later, I was not surprised by the collapse of the development of Presto, although, frankly, I was upset. <br><br>  In order to bypass browser bugs, I had to use a more clumsy implementation of label drawing.  At the same time, I retained the ability to switch between versions <a href="http://rassadin.github.com/css3-experiments/wall-clock/">in my playground-e</a> to demonstrate the working version on the one hand and the problems found on the other. <br><br><h4>  Numbers </h4><br>  Layout numbers on the dial does not deserve special attention, a beautiful solution as in the case of marks did not work.  Much more time was spent on the font for numbers. <br><br>  Since I didn‚Äôt delete a commercial font, even if it was similar to the one used in the watch, it was decided to make my own font by vectorizing the numbers in the picture.  Immediately, I note that not one of the ‚Äúvectorizers‚Äù could not produce any acceptable result, so I had to draw the numbers manually. <br><br>  To turn an image into a proper font, a good <a href="http://www.intridea.com/blog/2012/4/24/">‚ÄúHow To Make Your Own Symbol Font‚Äù</a> guide was found, suggesting to use the following software chain for this: <br><br>  <b>[Image] -&gt; Inkscape -&gt; [SVG Font] -&gt; freefontconverter.com -&gt; [TTF Font] -&gt; fontsquirrel.com/fontface/generator -&gt; [Web Font Set]</b> <br><br>  The font turned out to be quite beautiful, but with one problem - due to the peculiarities of InkScape, all the letters were of the same width.  The problem was solved by editing the TTF font using the free Type 3.2 Light font editor. <br><br><img src="https://habrastorage.org/storage2/a96/933/665/a96933665ea08b0ed66fec77070b03f0.png"><br><br>  Later, Chrome gave me an unexpected surprise and had to return to the font question.  But more on that below. <br><br><h4>  Arrows </h4><br>  There were no difficulties in implementing the hour and minute hands, and to move the hands on the dial in accordance with the time, as originally planned, CSS3 animation of the turn of the arrow with a period of 12 * 60 * 60 seconds and 60 * 60 seconds, respectively, was used. <br><br>  The movement was almost imperceptible and, to give the dynamics of the clock, I decided to add a second hand.  Having realized the movement of the second hand in the image and likeness of the others, I realized that the linear movement of the second hand does not suit me, because the step motion looks more familiar. <br><br>  Replacing the <code>animation-function</code> c <code>linear</code> property with <code>steps(60)</code> was closer to what I wanted, but over time I began to notice that teleportation of the second hand from one label to another looks unnatural. <br><br>  The simplest option to implement the second-hand movement of the second hand would be an extension of the <code>@keyframes</code> block responsible for the animation, where it would be necessary to describe the stop of the hand on each of the second tags. <br><br>  But laziness is the engine of progress.  Above, for labels, I have already used the transformation of the element within which the other has transformed.  And it pushed me to the following idea: <br><br>  add to the linear function of the rotation of the arrow the oscillatory function of the movement by a period of one second, such that their sum would be a stepwise (and, according to the task, continuous) function. <br><br><img src="https://habrastorage.org/storage2/673/6ea/557/6736ea557a17c3533b3127af2f01b2ff.png"><br><br>  One rotation function is set to animate the actual arrow, the other to animate the container.  As a result, the function of moving the arrow relative to the screen is the sum of these two, that is, the step function I need, and the code responsible for such movement is placed in several lines. <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.container</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">animation</span></span>: tick <span class="hljs-number"><span class="hljs-number">1s</span></span> normal infinite linear; } @<span class="hljs-keyword"><span class="hljs-keyword">keyframes</span></span> tick { 0% { <span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">rotate</span></span>(0deg); } 8<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span>% { <span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">rotate</span></span>(5.5deg); } 100% { <span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">rotate</span></span>(0deg); } } <span class="hljs-selector-class"><span class="hljs-selector-class">.arrow</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">animation</span></span>: a360 <span class="hljs-number"><span class="hljs-number">60s</span></span> normal infinite linear; } @<span class="hljs-keyword"><span class="hljs-keyword">keyframes</span></span> a360 { 0% { <span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">rotate</span></span>(0deg) } 100% { <span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">rotate</span></span>(360deg) } }</code> </pre><br><br>  <b>UPDATE:</b> <br>  Due to complaints about the performance of the seemingly simplest movement of the arrows, a small reseach was carried out and all the linear animation functions were replaced by an approximation.  For example, in the animation code of the minute hand, instead of <code>linear</code> now <code>steps(3600)</code> can be seen <code>steps(3600)</code> . <br><br><h4>  Shadows </h4><br>  Having implemented the arrows, I immediately added a shadow for them using box-shadow and transparency.  In addition to the unpleasant bug with a shadow during the stepwise movement of the second hand, the following unpleasant pattern of superimposing shadows in the center was found. <br><br><img src="https://habrastorage.org/storage2/e19/7de/db4/e197dedb466cc41a1a3ebd0d1ab8df87.png"><br><br>  Therefore, the box-shadow was removed, and the shadow was implemented by creating a copy of the arrows with the fill color of the shadow and placed under the numbers and labels.  For this, we had to add a few tags and a couple of CSS rules. <br><br><h4>  Show current time </h4><br>  Of course, the clock is a clock, not a stopwatch, and it should show the current time.  This could be done with a couple of lines in JavaScript, but it would not be kosher.  Therefore, setting the time is a server script that generates CSS with the preset values ‚Äã‚Äãof the angles of rotation of the arrows at the time of the request.  And yes, Greenwich Meridian Time is used. <br><br><h4>  Playground </h4><br>  The resulting CSS3 without fixes turned out to be quite small - just over 200 rules, and no copy-paste code.  HTML code also turned out to be quite compact and consistent with the paradigm: one entity - one tag. <br><br>  But having understood that the result that works in all browsers is significantly different from pure CSS3, I made a small test page, where, apart from the actual clock, you can see and evaluate how well the browser copes with the version without fixes. <br><br>  Actually <a href="http://rassadin.github.com/css3-experiments/wall-clock/">playground @ github-pages</a> <br><br><h4>  Compatibility and baaaaagi. </h4><br>  The clock was developed in Firefox (no prefixes!), And, as it was developed, it was checked in the latest versions of all fairly popular browsers.  But I admit that the quality result surprised me.  Best of all, the development campaign coped with the implementation of the IE9 standards (sic!), It‚Äôs a pity that the lack of support for CSS animation brought it out of the game. <br><br>  As for the other browsers, it seems that the speed of implementation of the new CSS functionality significantly affected the quality of the result (in a bad way), which affected even IE10. <br><br>  I described one common bug for several browsers (we will call it a meta-bug) with calculating the transformations above.  The only thing worth adding is that as a result of using the scaling built into these browsers, we get even more significant artifacts. <br><br>  The second meta-bug, which turned out to be common for all browsers except IE, is a violation of the arrow animation when the clock is resized.  The bug is perfectly reproduced when, simultaneously with the animation of the arrows, we change the size of the clock with the CSS3 transition. <br><br><h4>  Webkit (Chrome) </h4><br>  After the funeral of Presto, it can be stated that of the three remaining Webkit - as the richest in CSS3 functionality engine, at the same time is the most buggy by the results of this example. <br><br><h5>  Size bug </h5><br>  If you have already opened rummaged in the playground using Chrome, then they saw it immediately. <br>  With some defined font sizes, the calculation of em sizes for some reason is disturbed in Webkit, and the clock refuses to decrease. <br><br><h5>  Font Surprise </h5><br>  When the clock was almost finished, and I began to prepare for a public presentation, I suddenly noticed that in Chrome the dial numbers lost antialiasing. <br><br>  By manipulation, it was found that the animation of the arrows within the text of the figures was to blame.  A long haul on the Internet did nothing, except for a heap of useless CSS-specific properties that were supposed to control anti-aliasing.  That is, the face is just a Chrome bug under Windows. <br><br>  Fortunately, I came across an interesting article on the libraries Chrome uses to render fonts under Windows.  This gave me the idea of ‚Äã‚Äãtrying to convert a Truetype font to a PostScript font - and hooray!  anti-aliasing reappeared. <br><br><img src="https://habrastorage.org/storage2/39d/d29/04c/39dd2904c7488b961f2593276c717dd1.png"><br><br>  As for the PostScript font, the conversion of TrueType curves into PostScript curves was done using the Type3.2 Light font editor and the font was saved in the OpenType format to be connected to the page. <br><br>  In the course of the play, it also turned out that Chrome under Windows, using the same system libraries as for example IE, did not pay attention to the kerning table specified in OpenType, which does not distinguish it favorably from Firefox. <br><br><h4>  Results </h4><br>  After an unexpectedly large amount of time, I still managed to finish the seemingly simple demo, make my little playground and write this article. <br><br>  In my opinion, that gain is, in terms of CSS3: <br>  ‚Ä¢ Stepwise moving second hand <br>  ‚Ä¢ Pseudo-chrome rim <br>  ‚Ä¢ Insequential label placement with transform: rotate <br>  ‚Ä¢ Ability to change the size of the clock by setting the font-size for the container. <br>  ‚Ä¢ Small CSS file size (excluding cross-browser compatibility) <br>  and the lack of duplicate pieces in the CSS code <br>  ‚Ä¢ Small HTML, one entity - one tag. <br><br><h4>  Links </h4><br>  <a href="http://codepen.io/rassadin/pen/cvJmb">Demo @ codepen.io</a> <br>  <a href="http://cssdeck.com/labs/wall-clock-in-pure-css3">Demonstration @ cssdesk.om</a> <br>  <a href="http://rassadin.github.com/css3-experiments/wall-clock/">Playground @ github pages</a> <br>  <a href="https://habrahabr.ru/users/github/" class="user_link">Github</a> <a href="https://github.com/rassadin/css3-experiments/">project</a> <br><br>  One of the first implementations of clocks on CSS that I found when I finished developing my example: <br>  <a href="http://www.paulrhayes.com/experiments/clock/">Paul Hayes in 2009</a> <br>  <a href="http://www.useragentman.com/tests/cssSandpaper/clock.html">Zoltan Hawryluk in 2010</a> <br>  <a href="http://www.lensco.be/files/clocks/">Lennart Schoors in 2010</a> <br><br>  And of course I am waiting for comments and I am ready to answer questions. <br><br>  <b>UPDATE: The</b> performance of the example is somewhat improved, the description above. <br><br>  <b>UPDATE 2:</b> An example is slowly <a href="https://twitter.com/search/realtime%3Fq%3Dwall%2Bclock%2Bcss3%26src%3Dtypd">spreading over the Internet</a> <br>  and sometimes interesting tweets emerge, for example: <br><br><img src="https://habrastorage.org/storage2/688/0d4/76e/6880d476e4015b9cfad6523eb4c25ddb.png"></div><p>Source: <a href="https://habr.com/ru/post/171015/">https://habr.com/ru/post/171015/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../171003/index.html">Erlang / OTP R16B released</a></li>
<li><a href="../171005/index.html">Story of one optimization</a></li>
<li><a href="../171007/index.html">4 life hacking for investing in a startup: hooray, there is a fast and simple legal model</a></li>
<li><a href="../171009/index.html">Product Information Support: KANO Special Practice</a></li>
<li><a href="../171011/index.html">We work with the VKontakte API from the Google Chrome extension</a></li>
<li><a href="../171017/index.html">Installing Windows 7 over the network using Microsoft Windows AIK</a></li>
<li><a href="../171019/index.html">Prediction system based on neural networks in industry</a></li>
<li><a href="../171021/index.html">Programming low latency sound in iOS</a></li>
<li><a href="../171025/index.html">Practical tips for portfolio building for testers</a></li>
<li><a href="../171029/index.html">‚ÄúFake video work of the smartphone application with the background around‚Äù or ‚ÄúHow to save on the DIY stabilization system‚Äù or ‚ÄúIs it possible to write this down with a thread of software right in the smart?‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>