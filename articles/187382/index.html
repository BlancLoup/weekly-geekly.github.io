<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ZendFramework + Bitrix</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Perhaps it was one of the most dreary ways for me lately. 

 So. We are engaged in technically complex projects, potentially designed for high loads (...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ZendFramework + Bitrix</h1><div class="post__text post__text-html js-mediator-article">  Perhaps it was one of the most dreary ways for me lately. <br><br>  So.  We are engaged in technically complex projects, potentially designed for high loads (highload).  It so happened that among content management systems, Bitrix won so far.  Customers want it.  Judging by our experience - highload on Bitrix is ‚Äã‚Äãa very real task, if you do everything carefully. <br><br><img src="https://habrastorage.org/storage2/c4b/8b1/a97/c4b8b1a9754fc14c9adec01089ec1b20.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Usually in projects where there are a lot of forms, personal accounts or some kind of complicated logic, we offered the client a choice on implementation on Zend Framewok or on Bitrix.  The minus of ZendFramework was that you need to write an admin on it.  Minus of the Beatrix - it is poorly suited for projects with complex business logic: there is really no MVC and in some places there is a disgusting code and API.  Marketing tales about the D7 core, which are already 2 years old - we do not take into account: <br><br><blockquote>  ‚ÄúTalk is cheap.  Show me the code "(Linus) </blockquote><br>  So, there was an idea on complex projects to use ZendFramework with data management from the Beatrix admin panel. <a name="habracut"></a>  We implemented the architecture in such a way that it is possible both to use the ViewHelper inside Bitrix templates, and to call the components inside the View.  For all typical things sites (product catalogs, text pages, news, etc.) is responsible Bitrix.  For complex forms, personal accounts, profiles - Zend.  As a result, we got a fast and extremely flexible system, with a pleasant code in work, having spent approximately 3 days on integration. <br><br><h3>  Implementations: </h3><br>  <b><i>1. Pilot project.</i></b>  We decided to do <a href="http://scrumban.ru/">Scrumban</a> on ZendFramework, because we wanted to have a structured code that would please.  It was on this project that we had time to experiment and were able to work out the main points of integration: <br><ul><li>  Joint sessions. </li><li>  Joint connection with the database (haha, the old Bitrix code does not know how to work with MySQLi, but uses the outdated MySQL driver. ZendFramework does not support this junk, so I had to program a little). </li><li>  Binding to information blocks for working with models. </li><li>  Routing </li></ul><br>  <b><i>2. Overcome skepticism of the most skeptical.</i></b>  Since we already had a working prototype of the bundle in our hands, we could discuss the code.  I met the fierce resistance of one dude of my company.  For about an hour, he found fault with our implementation, which ultimately helped us find a few mistakes and make a number of improvements.  After that, the critic had no logical arguments left and we could move on. <br><br>  <b><i>3. Performance experiments.</i></b>  We really feared that loading the ZendFramework framework would cost considerable system time.  After a series of optimizations, we carefully carried the load to autoload.  The difference between the start of the pure bitrix and our bundle was 0.033 seconds, which is a penny compared to the ability to quickly develop well-structured code. <br><br>  <b><i>4. Experimental commercial projects.</i></b>  There were two of them.  We managed to quite clearly understand at what point we need to beat our hands for trying to rewrite the standard logic of the Beatrix operation on ZF. <br><br>  <b><i>5. General meeting with the story of Cho-Cavo.</i></b>  We have this regularly and is called HolyWarModeOn.  Gathered-discussed.  I did not prepare well, so I caught (apart from my interest) another pack of skepticism.  But I already had several working systems on my hands, the code of which pleased me.  Like their performance.  Therefore, I was sure: everything will work out. <br><br>  <b><i>6. Root Cause Analysis.</i></b>  I was asked to clearly justify the purpose for which integration with ZF is needed.  I spent about half a day analyzing the root causes and made a printout in half of the wall with a tree of causal relationships.  The printout hung a couple of weeks on public display: an excellent example of banner blindness. <br><br>  The most basic thing I wanted to get: <br><ul><li>  Structuring and standardization of code on complex projects.  MVC.  ORM. </li><li>  The need to raise the motivation of developers who are forced to pick the bitcode coprocode. </li><li>  Acceleration of development through joint developments (for example, we have an excellent database change logger, which allows you to see how the database has changed since the last release). </li></ul><br>  <b><i>7. Preparation of a clean assembly Bitrix.</i></b>  We use one clean build with an activated NFR license, which integrates our work.  In principle, all developers have the potential to commit something there.  When creating a new project, a special script creates a new repository and database on the dev server.  A copy of the clean build is deployed to the new repository (trial box). <br><br>  <b><i>8. ZF training.</i></b>  It is no secret that knowledge of ZF requires more skill than riveting saytik purely on Bitrix.  We conducted several holivars, where we detailed the MVC architecture and implemented basic terminology.  After that, each of the developers received a test task and time to solve it.  It was necessary in practice to touch the controllers, forms, helpers, validators.  In my opinion, it was driving;) By that time, 80% of developers had already participated in commercial projects at ZF. <br><br>  <b><i>9. I conducted the formal exam in person.</i></b>  But not on knowledge of the theory, but sorting out along with the developers the code of his last project and giving feedback: what to tighten, what things are better to do differently, and so on.  It took me almost a week.  It was during the exam that I realized that the implementation was successful, because  skepticism is gone completely and in all.  On the contrary, one felt the desire to develop and pump oneself further. <br><br>  <b><i>10. Regular code review practices.</i></b>  This is quite a difficult practice.  Requires perseverance and thoughtfulness.  To find something more serious than outright shit or extra spaces, you need to work with your head.  Sometimes it makes sense to conduct a code review paired with the developer.  Especially if the system architecture is non-trivial.  I consider code review an important learning practice.  Analysis of the real project code gives the developer feedback.  It is important for all of us to understand whether we are developing properly or not. <br><br>  It seems to me that we found a good balance between: <br><ul><li>  Do not demotivate developers by digging into the bitrix bydlocode. </li><li>  make quality architecture. </li><li>  Do not reinvent the wheel, to the maximum using the capabilities of the CMS and the frame MVC. </li><li>  deliver high-tech products to the customer with clear, clear and supported code. </li></ul><br>  More optimism, friends. </div><p>Source: <a href="https://habr.com/ru/post/187382/">https://habr.com/ru/post/187382/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../187368/index.html">Effeckt.css from the HTML5 Boilerplate team: selected effects and CSS transitions</a></li>
<li><a href="../187374/index.html">Project GPS carwash open source</a></li>
<li><a href="../187376/index.html">750 million mobile phones vulnerable to intruders due to inadequately protected SIM cards</a></li>
<li><a href="../187378/index.html">The idea of ‚Äã‚Äãa large information system for the Russian Academy of Sciences</a></li>
<li><a href="../187380/index.html">iOS Developer Center hacked</a></li>
<li><a href="../187384/index.html">Working with the Yandex.Metrica API in Python</a></li>
<li><a href="../187386/index.html">Methodology for calculating the load, the number of users of an information system - a website or service</a></li>
<li><a href="../187388/index.html">How to start a billion company</a></li>
<li><a href="../187390/index.html">Writing SOAP client-server application in PHP</a></li>
<li><a href="../187394/index.html">Unity3D and MySQL</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>