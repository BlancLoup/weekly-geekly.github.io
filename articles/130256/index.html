<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Implementing a graphical interface as a finite automaton</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Having come to a large project that uses Swing as a graphical interface, I realized that it‚Äôs not easy to understand the logic and connections between...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Implementing a graphical interface as a finite automaton</h1><div class="post__text post__text-html js-mediator-article">  Having come to a large project that uses Swing as a graphical interface, I realized that it‚Äôs not easy to understand the logic and connections between JDialog or JFrame components.  And all the time that I dealt with this code, I tried to find some kind of universal solution that would avoid the complexity of the links between interface elements. <br><br><a name="habracut"></a><br><br>  The main problem I encountered: each element has one or more PropertyChangeListener, which, depending on the situation (read on the state of other elements), affect other elements in some way.  Those elements, in turn, also have their own PropertyChangeListener, which also affect others depending on the context.  It was sometimes not very easy to understand how pressing a button would affect all other elements, and finding a piece of code where this happens is, all the more so.  It also complicated the change of dependencies (to change the logical rule, we had to search for all the connections in different places on different components, and most likely something was missing) and debugging. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In such a situation, the Mediator pattern could help, but again it will be difficult to trace all the connections and the logic of interaction.  You can break each JDialog into smaller JPanels that encapsulate certain logical places, but again, we need to keep these JPanels interact with each other.  If JDialog is so simple, there will be nothing to break. <br><br>  I came up with the idea that JDialog is always in strictly defined states at a certain point in time.  For example, the dialogue has been created, it is in the ‚ÄúI just created‚Äù state, then the user or the program logic switches the dialogue to the ‚ÄúI process‚Äù state, if the user clicked on the cancel button during ‚ÄúI process‚Äù, the dialog changes to the ‚Äú I was interrupted. " <br><br>  Why reason in this vein is good?  At each separate moment of time we can concentrate on drawing one logical state.  And, therefore, all the code responsible for the state of the elements will be in one logical and physical place.  You will not need to search all PropertyChangeListeners to understand how the JButton ‚ÄúCancel‚Äù can affect the JLabel status when it was clicked after certain user interactions.  The same goes for making changes.  For example, we have a dialogue that does something in the background thread and publishes its progress.  The dialog displays a progress bar with current progress.  If the user clicks the "Cancel" button, we reset the JProgressBar.  Now we also decided to disable the background process launch button if it was canceled.  When our interface is written using states, we simply find the ‚ÄúI was interrupted‚Äù state, and we add startButton.setEnabled (false) there, and we are sure of our change, knowing that it only affected the logical state ‚ÄúI was canceled‚Äù. <br><br>  So, it is necessary to program the user interface as a set of states in which the dialogue enters and out of which.  Less words more code! <br><br>  As an example, we consider a dialogue that allows you to find out the answer to the main question. <br><br>  this class represents one who knows the answer: <br><pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/** * class that can answer to the maing question * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> __nocach */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MeaningOfLifeAnswerer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">answer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span>; } }</code> </pre> <br><br>  Since the answer is not so simple, we also need to prepare a class that can answer the main question.  Preparation takes a long time, and it needs to be done through SwingWorker. <br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/** * worker that prepares MeaningOfLifeAnswerer * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> __nocach */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PrepareToAnswerMeaningOfLife</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SwingWorker</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MeaningOfLifeAnswerer</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Void</span></span></span><span class="hljs-class">&gt;</span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> MeaningOfLifeAnswerer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doInBackground</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ Thread.sleep(<span class="hljs-number"><span class="hljs-number">1500</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MeaningOfLifeAnswerer(); } }</code> </pre><br><br>  The search for the answer itself is also quite a long operation, and should be done through SwingWorker: <br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/** * worker that will retrieve answer to the main question using passed Answerer * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> __nocach */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RetrieveMeaningOfLife</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SwingWorker</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Integer</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Integer</span></span></span><span class="hljs-class">&gt;</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> MeaningOfLifeAnswerer answerer; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RetrieveMeaningOfLife</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MeaningOfLifeAnswerer answerer)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (answerer == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NullPointerException(<span class="hljs-string"><span class="hljs-string">"prepareProvider can't be null"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.answerer = answerer; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> Integer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doInBackground</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">100</span></span>; i++){ Thread.sleep(<span class="hljs-number"><span class="hljs-number">10</span></span>); setProgress(i); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> answerer.answer(); } }</code> </pre><br><br>  Requirements from the interface: After creating and displaying the dialog, we start the worker to initialize MeaningOfLifeAnswerer, disable the button for the search, and write in the status that we are preparing MeaningOfLifeAnswerer.  As soon as MeaningOfLifeAnswerer is initialized, we enable the button for the search.  By pressing the search button, we launch the RetrieveMeaningOfLife worker, disable the search button and write that we are in search.  Once the answer is found, turn on the search button again and write on the button that we are ready to search again. <br><br>  The usual approach would look something like this: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StandardWay</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">javax</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">swing</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JFrame</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Logger logger = Logger.getLogger(StandardWay.class.getName()); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FindAnswerAction</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractAction</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> MeaningOfLifeAnswerer answerer; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FindAnswerAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MeaningOfLifeAnswerer answerer)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(<span class="hljs-string"><span class="hljs-string">"Find"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.answerer = answerer; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">actionPerformed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ActionEvent e)</span></span></span><span class="hljs-function"> </span></span>{ RetrieveMeaningOfLife retrieveWorker = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RetrieveMeaningOfLife(answerer); retrieveWorker.addPropertyChangeListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PropertyChangeListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">propertyChange</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PropertyChangeEvent evt)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-string"><span class="hljs-string">"progress"</span></span>.equals(evt.getPropertyName())){ progressBar.setValue((Integer)evt.getNewValue()); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-string"><span class="hljs-string">"state"</span></span>.equals(evt.getPropertyName())){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (StateValue.STARTED.equals(evt.getNewValue())){ <span class="hljs-comment"><span class="hljs-comment">//    doButton.setText("In Search"); doButton.setEnabled(false); labelStatus.setText("searching..."); } if (StateValue.DONE.equals(evt.getNewValue())){ RetrieveMeaningOfLife worker = (RetrieveMeaningOfLife)evt.getSource(); try{ Integer answer = worker.get(); //   logger.info("got the answer"); JOptionPane.showMessageDialog(rootPane, "THE ANSWER IS " + answer); } catch(Exception ex){ //     logger.info("error while retrieving the answer"); JOptionPane.showMessageDialog(rootPane, "Error while searching for meaning of life"); } labelStatus.setText("answer was found"); doButton.setText("Find again"); doButton.setEnabled(true); } } } }); retrieveWorker.execute(); } } /** * listener that updates gui state by progress of PrepareToAnswerMeaningOfLife worker * @author __nocach * */ private class PrepareToAnswerMeaningOfLifeListener implements PropertyChangeListener{ @Override public void propertyChange(PropertyChangeEvent evt) { if ("state".equals(evt.getPropertyName())){ if (StateValue.STARTED.equals(evt.getNewValue())){ //      MeaningOfLifeAnswerer labelStatus.setText("Prepearing... "); doButton.setEnabled(false); logger.info("preparing..."); } if (StateValue.DONE.equals(evt.getNewValue())){ //           labelStatus.setText("I am prepared to answer the meaning of life"); doButton.setEnabled(true); PrepareToAnswerMeaningOfLife worker = (PrepareToAnswerMeaningOfLife)evt.getSource(); try{ doButton.setAction(new FindAnswerAction(worker.get())); logger.info("prepared"); } catch(Exception ex){ //    MeaningOfLifeAnswerer JOptionPane.showMessageDialog(rootPane, "failed to find answerer to the question"); dispose(); logger.severe("failed to prepare"); } } } } } /** Creates new form StandardWay */ public StandardWay() { initComponents(); PrepareToAnswerMeaningOfLife prepareWorker = new PrepareToAnswerMeaningOfLife(); prepareWorker.addPropertyChangeListener(new PrepareToAnswerMeaningOfLifeListener()); prepareWorker.execute(); } //... //     JFrame  //... private javax.swing.JButton doButton; private javax.swing.JLabel labelStatus; private javax.swing.JProgressBar progressBar; }</span></span></code> </pre><br><br>  So, all the code for changing the state is hardcoded in two PropertyChangeListeners (the PrepareToAnswerMeaningOfLife worker and the RetrieveMeaningOfLife worker).  The logic of the dialogue with PrepareToAnswerMeaningOfLifeListener begins, monitors the progress of the PrepareToAnswerMeaningOfLife started, then, after successful initialization, the search button receives the FindAnswerAction, which, when clicked, launches the RetrieveMeaningOfLife vorker.  In the same place we add anonymous PropertyChangeListener to synchronize the state of our interface while searching for the answer to the main question.  In fact, the above listing can be brought into an acceptable form, if each, logically whole state change is put into a separate method of the type setViewToPreparing (), where the code will be <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setViewToPreparing</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ labelStatus.setText(<span class="hljs-string"><span class="hljs-string">"Prepearing... "</span></span>); doButton.setEnabled(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); logger.info(<span class="hljs-string"><span class="hljs-string">"preparing..."</span></span>); }</code> </pre><br>  But if in your dialogue each such logical piece will be more than 20 lines, then the removed methods will need to be broken into even further small methods, in total, the JFrame class will be filled with a huge number of not particularly related private methods. <br><br>  What would the approach look like using State Machine: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StateMachineWay</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">javax</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">swing</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JFrame</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Logger logger = Logger.getLogger(StandardWay.class.getName()); <span class="hljs-comment"><span class="hljs-comment">/** * controlls switching between gui states */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GuiStateManager stateManager = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GuiStateManager(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PreparingAnswererState</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseGuiState</span></span></span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">enterState</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ labelStatus.setText(<span class="hljs-string"><span class="hljs-string">"Prepearing... "</span></span>); doButton.setEnabled(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ReadyToFindTheAnswer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseGuiState</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> MeaningOfLifeAnswerer answerer; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ReadyToFindTheAnswer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MeaningOfLifeAnswerer answerer)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.answerer = answerer; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">enterState</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ labelStatus.setText(<span class="hljs-string"><span class="hljs-string">"I am prepared to answer the meaning of life"</span></span>); doButton.setEnabled(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); doButton.setAction(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FindAnswerAction(answerer)); } } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FoundAnswerState</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseGuiState</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Integer answer; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FoundAnswerState</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Integer answer)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.answer = answer; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">enterState</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ labelStatus.setText(<span class="hljs-string"><span class="hljs-string">"answer was found"</span></span>); doButton.setText(<span class="hljs-string"><span class="hljs-string">"Find again"</span></span>); doButton.setEnabled(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); JOptionPane.showMessageDialog(rootPane, <span class="hljs-string"><span class="hljs-string">"THE ANSWER IS "</span></span> + answer); } } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FailedToPrepareAnswerer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseGuiState</span></span></span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">enterState</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ JOptionPane.showMessageDialog(rootPane, <span class="hljs-string"><span class="hljs-string">"failed to find answerer to the question"</span></span>); dispose(); } } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FailedToFoundAnswer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseGuiState</span></span></span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">enterState</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ labelStatus.setText(<span class="hljs-string"><span class="hljs-string">"failed to find answer"</span></span>); doButton.setText(<span class="hljs-string"><span class="hljs-string">"Try again"</span></span>); doButton.setEnabled(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); JOptionPane.showMessageDialog(rootPane, <span class="hljs-string"><span class="hljs-string">"Error while searching for meaning of life"</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SearchingForAnswer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseGuiState</span></span></span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">enterState</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ labelStatus.setText(<span class="hljs-string"><span class="hljs-string">"searching..."</span></span>); doButton.setText(<span class="hljs-string"><span class="hljs-string">"In Search"</span></span>); doButton.setEnabled(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); } } <span class="hljs-comment"><span class="hljs-comment">/** * actions that starts worker that will find the answer to the main question * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> __nocach * */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FindAnswerAction</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractAction</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> MeaningOfLifeAnswerer answerer; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FindAnswerAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MeaningOfLifeAnswerer answerer)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(<span class="hljs-string"><span class="hljs-string">"Find"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.answerer = answerer; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">actionPerformed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ActionEvent e)</span></span></span><span class="hljs-function"> </span></span>{ RetrieveMeaningOfLife retrieveWorker = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RetrieveMeaningOfLife(answerer); retrieveWorker.addPropertyChangeListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PropertyChangeListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">propertyChange</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PropertyChangeEvent evt)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-string"><span class="hljs-string">"progress"</span></span>.equals(evt.getPropertyName())){ progressBar.setValue((Integer)evt.getNewValue()); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-string"><span class="hljs-string">"state"</span></span>.equals(evt.getPropertyName())){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (StateValue.DONE.equals(evt.getNewValue())){ RetrieveMeaningOfLife worker = (RetrieveMeaningOfLife)evt.getSource(); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>{ Integer answer = worker.get(); stateManager.switchTo(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FoundAnswerState(answer)); logger.info(<span class="hljs-string"><span class="hljs-string">"got the answer"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(Exception ex){ logger.info(<span class="hljs-string"><span class="hljs-string">"error while retrieving the answer"</span></span>); stateManager.switchTo(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FailedToFoundAnswer()); } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (StateValue.STARTED.equals(evt.getNewValue())){ stateManager.switchTo(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SearchingForAnswer()); } } } }); retrieveWorker.execute(); } } <span class="hljs-comment"><span class="hljs-comment">/** * listener that updates gui state by progress of PrepareToAnswerMeaningOfLife worker * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> __nocach * */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PrepareToAnswerMeaningOfLifeListener</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PropertyChangeListener</span></span></span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">propertyChange</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PropertyChangeEvent evt)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-string"><span class="hljs-string">"state"</span></span>.equals(evt.getPropertyName())){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (StateValue.STARTED.equals(evt.getNewValue())){ logger.info(<span class="hljs-string"><span class="hljs-string">"preparing..."</span></span>); stateManager.switchTo(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PreparingAnswererState()); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (StateValue.DONE.equals(evt.getNewValue())){ PrepareToAnswerMeaningOfLife worker = (PrepareToAnswerMeaningOfLife)evt.getSource(); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>{ MeaningOfLifeAnswerer meaningOfLifeAnswerer = worker.get(); stateManager.switchTo(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ReadyToFindTheAnswer(meaningOfLifeAnswerer)); logger.info(<span class="hljs-string"><span class="hljs-string">"prepared"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(Exception ex){ logger.severe(<span class="hljs-string"><span class="hljs-string">"failed to prepare"</span></span>); stateManager.switchTo(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FailedToPrepareAnswerer()); } } } } } <span class="hljs-comment"><span class="hljs-comment">/** Creates new form StandardWay */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StateMachineWay</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ initComponents(); PrepareToAnswerMeaningOfLife prepareWorker = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PrepareToAnswerMeaningOfLife(); prepareWorker.addPropertyChangeListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PrepareToAnswerMeaningOfLifeListener()); prepareWorker.execute(); } <span class="hljs-comment"><span class="hljs-comment">//... //     JFrame  //... private javax.swing.JButton doButton; private javax.swing.JLabel labelStatus; private javax.swing.JProgressBar progressBar; }</span></span></code> </pre><br><br>  The main classes are GuiStateManager <br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/** * State machine of swing gui * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> __nocach */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GuiStateManager</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GuiState currentState = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> EmptyState(); <span class="hljs-comment"><span class="hljs-comment">/** * makes passed state current * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> newState not null new state */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">synchronized</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">switchTo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(GuiState newState)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (newState == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NullPointerException(); } currentState.leaveState(); currentState = newState; currentState.enterState(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> GuiState </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">current</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> currentState; } }</code> </pre><br>  A finite state machine class that is responsible for switching states and calling appropriate methods for entering and exiting states. <br><br>  and state class GuiState <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GuiState</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * called when entering to this state */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">enterState</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * called when leaving this state */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">leaveState</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre><br><br>  When approaching through a finite state machine, we finally got the following inner classes: <br>  PreparingAnswererState, <br>  ReadyToFindTheAnswer, <br>  FoundAnswerState, <br>  FailedToPrepareAnswerer, <br>  FailedToFoundAnswer <br><br>  In the above example, instead of hard-coded logic, now the transition to the state and nothing more, for example: <br><pre> <code class="java hljs">stateManager.switchTo(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ReadyToFindTheAnswer(meaningOfLifeAnswerer));</code> </pre><br>  The entire logic of changing elements is concentrated in the state to which we switched (in this case, ReadyToFindTheAnswer, which makes the search button active and changes the state label and button labels).  It is worth noting that now we can easily move the place to switch the state, or use the same switch in different places. <br><br>  Someone may say that we just created a bunch of classes, but in this case we use 5 classes to increase the readability of the code, because  Each class name is a state name. <br><br>  Now, when we want to change the interface behavior at the moment when we have prepared MeaningOfLifeAnswerer (i.e. have made the answer search start button active), it will be enough for us to find the ReadyToFindTheAnswer state and add to it, for example, a pop-up dialog with a message that we are ready to respond to question. <br><br>  Each state class can be freely refactored _locally_, without clogging the outer JFrame with unnecessary variables or methods.  Classes of a status can be carr out in separate files for the subsequent testing. <br><br>  Also, this approach _makes_ write the dialogue code more clearly, creating for each state a separate small class with a logical name.  Although, of course, even here you can ruin everything with a huge number of anonymous classes. <br><br>  The above finite state machine code is just an example of the realization of an idea.  I‚Äôm not the first who decided to think of the user interface as a finite <a href="http://swingstates.sourceforge.net/">state</a> machine, and therefore there is a ready-made framework, <a href="http://swingstates.sourceforge.net/">SwingStates</a> , which has rather deeply thought through this idea. <br><br>  Well and, obviously, this approach can be used in any desktop application in any language. <br><br>  Sample code is available <a href="https://github.com/nocach/ExampleOfGuiAsStateMachine">here.</a> </div><p>Source: <a href="https://habr.com/ru/post/130256/">https://habr.com/ru/post/130256/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../130248/index.html">Bitcoin creator search</a></li>
<li><a href="../130249/index.html">We are on Twitter: keep up to date with all the news from LC experts!</a></li>
<li><a href="../130250/index.html">Another incident with Google Translate</a></li>
<li><a href="../130252/index.html">Android on Windows</a></li>
<li><a href="../130255/index.html">Version 1.5.5 released</a></li>
<li><a href="../130257/index.html">Review GTUG-projects on GDD Moscow 2011</a></li>
<li><a href="../130258/index.html">Googlebot started making POST requests via Ajax</a></li>
<li><a href="../130260/index.html">VKontakte comment widget for your site and storing the number of comments on the server</a></li>
<li><a href="../130262/index.html">Use ActiveRecord to work with Core Data</a></li>
<li><a href="../130264/index.html">IP telephony in the office</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>