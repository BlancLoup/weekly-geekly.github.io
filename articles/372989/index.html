<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What happens when a programmer selects cars</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="My friend and I have opened a company for the selection of used cars. If you have never heard of such - we help people not to buy a ‚Äúbucket‚Äù . Alas, i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What happens when a programmer selects cars</h1><div class="post__text post__text-html js-mediator-article">  My friend and I have opened a company for the selection of used cars.  If you have never heard of such - we help people <b>not to buy a ‚Äúbucket‚Äù</b> .  Alas, in Moscow most of the cars offered on the secondary market deserve such an assessment. <br><br>  To find a decent copy you have to process sometimes over a <b>hundred ads</b> .  It happens like this: we look at the photos, the description, note some nuances, then we call the seller and ask more than twenty questions.  Then we decide whether to watch the car live. <br><br> <a title="Open image" href=""><img src="https://habrastorage.org/files/849/5b1/713/8495b1713ee94ab9879d3feedc424709.png" alt="image"></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><h2>  And now closer to the scripts </h2><br>  First, we recorded the results of a conversation with sellers <b>on paper</b> .  The disadvantages are obvious: a heap of scattered records on different sheets, and if someone from the sellers will call back himself, then there is no chance to find his ad and our records about him. <br><br>  Logical was the transition to <b>Google-table</b> .  In order not to copy-paste manually the mileage, price and other information from the ad, I wrote a <b>parser</b> for auto.ru and Avito.  It worked like this: you go to a page with an ad, click a bookmarklet, the seller‚Äôs phone number automatically opens, all information is tabulated into a text field, from where it is easily copied and pasted into the Google-table via columns. <br><br><div class="spoiler">  <b class="spoiler_title">Technical difficulties</b> <div class="spoiler_text"><ol><li>  On auto.ru is Content Security Policy, which prohibits the loading of scripts through an unprotected connection. <br>  Solution: received an SSL certificate on your hosting. </li><li>  Later on auto.ru generally banned the download of scripts from foreign domains. <br>  Solution: go to the Firefox browser, type <b>about: config</b> , find the security.csp.enable item, set false.  I did not find such an opportunity in other browsers, therefore the Fire Fox has become the main browser. </li><li>  In principle, you can not even go to the ad page yourself, and charge it to a virtual browser on the server.  But here, sooner or later, the captcha got out, and we have already considered it inappropriate to fight it.  Moreover, it is necessary to evaluate the announcement, add your comment. </li></ol><br></div></div><br>  As a result, we had an impressive table for each order: there were a lot of columns (for each characteristic of the car, for each question asked by the seller) and dozens of lines (by the number of ads).  We began to give <b>access to</b> this table to <b>our clients</b> , to make it easier to communicate and to immediately see why we are not going to watch this or that ‚Äúnot broken, not painted‚Äù car. <br><br> <a title="Open image" href=""><img src="https://habrastorage.org/files/7d3/13a/5a6/7d313a5a638641fbbd35bf5efa28dbdb.png" alt="image"></a> <br><br>  It would be possible to use the Google-tables API to immediately parse the ads into them.  I almost started to learn the API, but I realized the path is dead-end: when there are ads in the table for a hundred, it‚Äôs almost impossible to work with it.  In addition, Google-tables have a lot of redundant functionality, but we don‚Äôt have what we need.  One employee even bought a new laptop, but it did not help - the <b>tables still braked terribly</b> . <br><br>  By the way, a few words about the organization of our work.  At some point I was very tired of calling ads, running into these endless commissions, asking the same questions.  We decided to hire remote <b>telephone call employees</b> for this job. <br><br>  There were guys, I taught everyone how to identify fraud, how to properly ask about the suspension, about the number of owners, etc.  They saved the sellers' answers through the Google-form, then I checked the answers and inserted them into the main table that the client had already seen.  Too much action. <br><br>  My hands were itching for a long time, until recently I was hoping to do without creating my own interface, which would take days and nights ... <br><br><h2>  So the interface appeared </h2><br>  It consists of two main pages: <br><br><ol><li>  Home Page.  Here we keep records of current orders, write down the criteria, insert references to the issuance of ads on these criteria, etc. <br><br> <a title="Open image" href=""><img src="https://habrastorage.org/files/253/fe0/b70/253fe0b701624867936941910e950d38.png" alt="image"></a> <br><br></li><li>  Order page.  Here are all the ads added to the database and assigned to this order.  Attaching to the order takes place at the time of parsing automatically, according to the car model.  <b>Photos</b> from the ad are immediately <b>displayed</b> , now everything is available from one place. <br><br> <a title="Open image" href=""><img src="https://habrastorage.org/files/53d/f75/bdf/53df75bdf33c40da8193ad029ca9b4f8.png" alt="image"></a> <br></li></ol><br>  And the salt is all in the questionnaire.  It is under each announcement, there are <b>many questions</b> and, accordingly, fields.  With instant saving and attribution.  I spent the mouse on someone else's message - it brightened.  Read it means.  The questionnaire also serves as a checklist for checking the car, so as not to forget to check the presence in one of the pledge bases, etc.  The client monitors our work through personal access, for each ad sees our resume. <br><br>  <b>The assignment of statuses</b> in the interface is done with one button, with the ability to filter ads by status.  Here, diagnosticians write their reports after the inspection.  But if the car falls into the ‚Äúneed to take‚Äù category, the customer will immediately call - good cars go in a matter of hours, the decision to buy and leave a prepayment must be made quickly. <br><br> <a title="Open image" href=""><img src="https://habrastorage.org/files/ebe/5f2/25e/ebe5f225e9f44a648ded6c263eeec506.png" alt="image"></a> <br><br><h2>  Autocode </h2><br>  In Moscow and the region there is an official portal Avtokod, where you can see the history of the car, such as: the number of owners and dates of ownership, recorded accidents and insurance claims, year of release and the presence of restrictions.  This information saves us from vain skating around the city. <br><br> <a title="Open image" href=""><img src="https://habrastorage.org/files/cac/670/c43/cac670c43a9f49c98c235855aea0ff10.png" alt="image"></a> <br><br>  Naturally, like a real bummer, I have embedded the AutoCode check into my interface.  It works like this: the state number / VIN and the number of the JTS is entered into the appropriate fields, then a request is sent to the server, where the PhantomJS virtual browser is authenticated on the portal from one of five accounts (so that it pops up less often), it writes the car details, parses the answer and at the same time does screenshot.  You say that for nonsense?  After all, you can go and check it out!  Yes, but when you ‚Äúpunch‚Äù dozens of cars a day, a script once written <b>saves a lot of time</b> . <br><br>  The main goal of the interface and the work of the telephone operators: <b>our diagnostician should be the first to inspect the best car</b> .  That is, while the diagnostician checks the car, the dialer from home calls up the latest announcements and selects the next option for inspection, even from another order.  The competition, for example, is not so: the diagnostician is given an order and forward.  Found something - well done.  Were the options better?  Who knows‚Ä¶ <br><br>  One day, a diagnostician who worked with competitors wanted to work for us.  He said that if the car was suitable, but the seller did not bargain by phone, then he didn‚Äôt go to him at all, because the company paid him a percentage of the bargaining.  However, this is another topic. <br><br><h2>  Preliminary analysis </h2><br> <a title="Open image" href=""><img src="https://habrastorage.org/files/70e/207/0a0/70e2070a0cbc43c9987585c32338fffb.png" alt="image"></a> <br><br>  How does the selection of a dream car begin?  In most cases, you really do not be offended, with the procedure of "rejection".  That is, if the client wants the Camry XV50 for 900 thousand rubles, then we patiently explain that these are cars of the lower price category in the appropriate condition.  To determine which budget is sufficient for the purchase of a car, we again resort to our parser.  He takes the prices of all cars in the issuance of auto.ru and considers for each year of production the <b>average and median values</b> .  Based on these numbers, it is much easier for us to determine whether to take on the selection in a particular budget.  Yes, there are exceptions and anomalies, but better with numbers than without. <br><br>  PS <br>  The client calls, says he downloaded a screenshot from this article, enlarged it, and found the ‚ÄúDream Car‚Äù in small letters.  Scored on Google and so found. <br>  In general, you can consider this advertising, but it will be easier for someone: <a href="http://xn--80accnosednb5bi8dxck.xn--p1ai/">Car Mechty.rf</a> </div><p>Source: <a href="https://habr.com/ru/post/372989/">https://habr.com/ru/post/372989/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../372979/index.html">Mozilla has released statistics on hardware on client PCs.</a></li>
<li><a href="../372981/index.html">Verizon wants to abandon deal with Yahoo due to user data leakage</a></li>
<li><a href="../372983/index.html">Room Acoustics: Preparing a Home Cinema Room</a></li>
<li><a href="../372985/index.html">Physics in the animal world: cubes and their eyes</a></li>
<li><a href="../372987/index.html">Personal 3D printer as a gift</a></li>
<li><a href="../372991/index.html">Mark Zuckerberg told about his AI-assistant Jarvis</a></li>
<li><a href="../372995/index.html">China is testing EmDrive in space, media reported</a></li>
<li><a href="../372997/index.html">The neural network identifies parasites using cellular network metadata with a probability of 70.4%</a></li>
<li><a href="../372999/index.html">Singing the universe: from the ‚Äúorgan‚Äù of the big bang to the ‚Äúsubwoofer‚Äù of the black hole</a></li>
<li><a href="../373001/index.html">New MacBooks for the first time did not receive a recommendation from Consumer Reports (due to the Safari browser)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>