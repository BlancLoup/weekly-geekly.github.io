<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Perform public and private transactions on the JPMorgan Quorum blockchain using Web3</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quorum is a Ethereum-based blockchain developed by JPMorgan and most recently the first distributed registry platform offered by Microsoft Azure. 


 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Perform public and private transactions on the JPMorgan Quorum blockchain using Web3</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/dn/2r/f3/dn2rf3fmls1j424_o0ejhkjcxxe.jpeg"><br></p><br><p>  <a href="https://goquorum.com/">Quorum</a> is a Ethereum-based blockchain developed by JPMorgan and most recently the first distributed registry platform offered by Microsoft Azure. </p><br><p>  Quorum supports private and public transactions and has many commercial use cases. </p><br><p>  In this article we will examine one of these scenarios - the deployment of a distributed registry network between a supermarket and a warehouse owner to provide up-to-date information about the temperature of the warehouse. </p><br><p>  The code used in this tutorial is in <a href="https://github.com/hayorov/quorum-iot-tutorial/">the GitHub repository</a> . </p><br><p>  The article covers: </p><br><ul><li>  the creation of a smart contract; </li><li>  Quorum network deployment with <a href="https://chainstack.com/">Chainstack</a> ; </li><li>  Quorum public transactions; </li><li>  Quorum private transactions. </li></ul><br><p>  For illustration, a temperature monitoring scenario is used in the warehouse premises of Quorum network members within the Internet of Things (IoT). </p><a name="habracut"></a><br><h2 id="kontekst">  Context </h2><br><p>  A group of warehousing companies joins together in a consortium to share information and automate processes on the blockchain.  For this, the companies decided to use Quorum.  In this article we will cover two scenarios: public transactions and private transactions. </p><br><p>  Transactions are created by different participants to interact with the consortium to which they belong.  Each transaction either deploit the contract, or calls a function in the contract to download data to the network.  These actions are replicated to all nodes in the network. </p><br><p>  Public transactions are available for viewing by all members of the consortium.  Private transactions add a layer of confidentiality and are available only to those participants who have rights to do so. </p><br><p>  For both scenarios, we use the same contract for clarity. </p><br><h2 id="smart-kontrakt">  Smart contract </h2><br><p> Below is a simple smart contract created for our scenario.  It has a public variable <code>temperature</code> , which can be changed by the <code>set</code> method and obtained by the <code>get</code> method. </p><br><pre> <code class="javascript hljs">pragma solidity ^<span class="hljs-number"><span class="hljs-number">0.4</span></span><span class="hljs-number"><span class="hljs-number">.25</span></span>; contract TemperatureMonitor { int8 public temperature; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">set</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">int8 temp</span></span></span><span class="hljs-function">) </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span></span>{ temperature = temp; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">view</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returns</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">int8</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temperature; } }</code> </pre> <br><p>  In order for the contract to work with <a href="">web3.js</a> , it needs to be converted to ABI format and bytecode.  Using the <code>formatContract</code> function below compiles a contract using <a href="https://github.com/ethereum/solc-js">solc-js</a> . </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">formatContract</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> path = <span class="hljs-string"><span class="hljs-string">'./contracts/temperatureMonitor.sol'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> source = fs.readFileSync(path,<span class="hljs-string"><span class="hljs-string">'UTF8'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> solc.compile(source, <span class="hljs-number"><span class="hljs-number">1</span></span>).contracts[<span class="hljs-string"><span class="hljs-string">':TemperatureMonitor'</span></span>]; }</code> </pre> <br><p>  The finished contract is as follows: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// interface [ { constant: true, inputs: [], name: 'get', outputs: [Array], payable: false, stateMutability: 'view', type: 'function' }, { constant: true, inputs: [], name: 'temperature', outputs: [Array], payable: false, stateMutability: 'view', type: 'function' }, { constant: false, inputs: [Array], name: 'set', outputs: [], payable: false, stateMutability: 'nonpayable', type: 'function' } ]</span></span></code> </pre> <br><pre> <code class="plaintext hljs">// bytecode</code> </pre><br><p>  Now that the contract is ready, we will deploy the network and complete the contract. </p><br><h2 id="razvertyvanie-nod">  Deploying Nodes </h2><br><p><img src="https://habrastorage.org/getpro/habr/post_images/4e5/8d2/0d2/4e58d20d27bfa4aa8b4da4bbf990ac53.jpg" alt="image"></p><br><p>  Deploying a node can be quite time consuming and this process can be replaced using the <a href="https://chainstack.com/">Chainstack</a> service. </p><br><p>  Below is the process of deploying a Quorum network with a consensus of Raft and three nodes. </p><br><p>  To get started, we will start a project and name it Quorum Project: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/193/316/b8e/193316b8ef875ed68e491804b5a7ff7d.gif" alt="image"></p><br><p>  Create a Quorum network with the Raft consensus on the Google Cloud Platform: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/2f3/650/f1e/2f3650f1e98174694c46f6cd31040d4c.gif" alt="image"></p><br><p>  Add two more nodes to the node already created by default: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/cb5/77b/5f7/cb577b5f7516664e64951f6404711eaa.gif" alt="image"></p><br><p>  Three running nodes: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/243/c4d/056/243c4d0569c5d6b3accb3d1166e2b2f6.png" alt="image"></p><br><p>  The detail page of the node shows the RPC endpoint, the public key, and so on. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/a35/61a/29a/a3561a29a5f38d410ed92c99a645b2c1.png" alt="image"></p><br><p>  The network is deployed.  Now let's deal with the deployment of smart contracts and the execution of transactions using <a href="">web3.js.</a> </p><br><h2 id="publichnye-tranzakcii">  Public transactions </h2><br><h3 id="kontekst-1">  Context </h3><br><p>  The temperature of the storage room is of great importance for reducing costs, especially for products intended for storage at sub-zero temperatures. </p><br><p>  By giving companies the ability to share the external temperature values ‚Äã‚Äãof their geographic location in real time and write to an immutable registry, network members reduce costs and time. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/03e/028/5ca/03e0285ca0b59b6b96351d5b99d95408.png" alt="image"></p><br><p>  We will complete the three tasks illustrated in the diagram: </p><br><ol><li><p>  Seal the contract through <b>Node 1</b> : </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> contractAddress = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> deployContract(raft1Node); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Contract address after deployment: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${contractAddress}</span></span></span><span class="hljs-string">`</span></span>);</code> </pre> <br></li><li><p>  Set the temperature through <b>Node 2</b> to 3 degrees: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> status = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> setTemperature(raft2Node, contractAddress, <span class="hljs-number"><span class="hljs-number">3</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Transaction status: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${status}</span></span></span><span class="hljs-string">`</span></span>);</code> </pre> <br></li><li><p>  <b>Node 3</b> will receive information from the smart contract.  The contract will return the value of 3 degrees: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> temp = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> getTemperature(raft3Node, contractAddress); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Retrieved contract Temperature'</span></span>, temp);</code> </pre> <br><p>  Next, consider how to execute a public transaction on the Quorum network using <a href="">web3.js.</a> </p><br></li></ol><br><p>  We initiate instans through RPC for three nodes: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> raft1Node = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Web3( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Web3.providers.HttpProvider(process.env.RPC1), <span class="hljs-literal"><span class="hljs-literal">null</span></span>, { <span class="hljs-attr"><span class="hljs-attr">transactionConfirmationBlocks</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, }, ); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> raft2Node = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Web3( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Web3.providers.HttpProvider(process.env.RPC2), <span class="hljs-literal"><span class="hljs-literal">null</span></span>, { <span class="hljs-attr"><span class="hljs-attr">transactionConfirmationBlocks</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, }, ); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> raft3Node = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Web3( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Web3.providers.HttpProvider(process.env.RPC3), <span class="hljs-literal"><span class="hljs-literal">null</span></span>, { <span class="hljs-attr"><span class="hljs-attr">transactionConfirmationBlocks</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, }, );</code> </pre> <br><p>  Seen a smart contract: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// returns the default account from the Web3 instance initiated previously function getAddress(web3) { return web3.eth.getAccounts().then(accounts =&gt; accounts[0]); } // Deploys the contract using contract's interface and node's default address async function deployContract(web3) { const address = await getAddress(web3); // initiate contract with contract's interface const contract = new web3.eth.Contract( temperatureMonitor.interface ); return contract.deploy({ // deploy contract with contract's bytecode data: temperatureMonitor.bytecode, }) .send({ from: address, gas: '0x2CD29C0', }) .on('error', console.error) .then((newContractInstance) =&gt; { // returns deployed contract address return newContractInstance.options.address; }); }</span></span></code> </pre> <br><p>  <a href="">web3.js</a> provides two methods for interacting with a contract: <code>call</code> and <code>send</code> . </p><br><p>  Update the contract temperature by running <code>set</code> using the web3 <code>send</code> method. </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// get contract deployed previously async function getContract(web3, contractAddress) { const address = await getAddress(web3); return web3.eth.Contract( temperatureMonitor.interface, contractAddress, { defaultAccount: address, } ); } // calls contract set method to update contract's temperature async function setTemperature(web3, contractAddress, temp) { const myContract = await getContract(web3, contractAddress); return myContract.methods.set(temp).send({}).then((receipt) =&gt; { return receipt.status; }); }</span></span></code> </pre> <br><p>  Next, we use the web3 <code>call</code> method to get the contract temperature.  Please note that the <code>call</code> method is executed on the local node and the transaction will not be created on the blockchain. </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// calls contract get method to retrieve contract's temperature async function getTemperature(web3, contractAddress) { const myContract = await getContract(web3, contractAddress); return myContract.methods.get().call().then(result =&gt; result); }</span></span></code> </pre> <br><p>  You can now run <a href="">public.js</a> to get the following result: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Execute public script node public.js Contract address after deployment: 0xf46141Ac7D6D6E986eFb2321756b5d1e8a25008F Transaction status: true Retrieved contract Temperature 3</span></span></code> </pre> <br><p>  Next, we can look at the Quorum Explorer entries in the Chainstack panel, as shown below. </p><br><p>  All three nodes interacted and transactions were updated: </p><br><ol><li>  The first transaction closed the contract. </li><li>  The second transaction set the contract temperature to 3 degrees. </li><li>  Getting the temperature occurs through the local node, so the transaction is not created. </li></ol><br><p><img src="https://habrastorage.org/getpro/habr/post_images/6fb/104/097/6fb10409705859a6672a53d76356a55c.png" alt="image"></p><br><h2 id="privatnye-tranzakcii">  Private transactions </h2><br><h3 id="kontekst-2">  Context </h3><br><p>  A frequent requirement of organizations is data protection.  As an example, consider the scenario in which the <i>Supermarket</i> rents a warehouse for the storage of seafood from a separate <i>vendor</i> : </p><br><ul><li>  <i>The vendor</i> , using IoT sensors, reads temperature values ‚Äã‚Äãevery 30 seconds and transmits them to the <i>Supermarket</i> ; </li><li>  these values ‚Äã‚Äãshould be available only to <i>Vendor</i> and <i>Supermarket</i> , networked by a consortium. </li></ul><br><p><img src="https://habrastorage.org/getpro/habr/post_images/deb/3b1/a51/deb3b1a51e681fe664bc49b2d6eb8307.png" alt="image"></p><br><p>  We will complete the four tasks illustrated in the diagram above. </p><br><ul><li>  We use the same three nodes from the previous scenario to demonstrate private transactions: </li><li>  <i>Supermarket</i> deploit smart contract, which is private to the <i>Supermarket</i> and <i>Vendor</i> . </li><li>  <i>A third party</i> does not have access to a smart contract. </li></ul><br><p>  We will call the <code>get</code> and <code>set</code> methods on behalf of the <i>Supermarket</i> and <i>Vendor</i> to demonstrate the Quorum private transaction. </p><br><ol><li><p>  We will secure a private contract for the <i>Supermarket</i> and <i>Vendor</i> participants through the <i>Supermarket</i> participant: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> contractAddress = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> deployContract( raft1Node, process.env.PK2, ); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Contract address after deployment: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${contractAddress}</span></span></span><span class="hljs-string">`</span></span>);</code> </pre> <br></li><li><p>  Set the temperature from the <i>Third Party</i> (external node) and get the temperature value: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Attempts to set Contract temperature to 10, this will not mutate contract's temperature await setTemperature( raft3Node, contractAddress, process.env.PK1, 10, ); // This returns null const temp = await getTemperature(raft3Node, contractAddress); console.log(`[Node3] temp retrieved after updating contract from external nodes: ${temp}`);</span></span></code> </pre> <br></li><li><p>  Set the temperature from the <i>vendor</i> (internal node) and get the temperature value: </p><br><p>  The temperature in this scenario should return the value of 12 from the smart contract. Please note that the <i>vendor</i> here has allowed access to the smart contract. </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Updated Contract temperature to 12 degrees await setTemperature( raft2Node, contractAddress, process.env.PK1, 12, ); // This returns 12 const temp2 = await getTemperature(raft2Node, contractAddress); console.log(`[Node2] temp retrieved after updating contract from internal nodes: ${temp2}`);</span></span></code> </pre> <br></li><li><p>  Get the temperature from the <i>Third Party</i> (external node): </p><br><p>  In step 3, the temperature was set to 12, but the <i>Third Party</i> does not have access to the smart contract.  Therefore, the return value must be null. </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// This returns null const temp3 = await getTemperature(raft3Node, contractAddress); console.log(`[Node3] temp retrieved from external nodes after update ${temp}`);</span></span></code> </pre> <br><p>  Next, we will take a closer look at performing private transactions on the Quorum network with <a href="">web3.js.</a>  Since most of the code coincides with public transactions, select only those parts that are different for private transactions. </p><br></li></ol><br><p>  Please note that the contract loaded onto the network is immutable, so permission with permission must be issued to the appropriate nodes by including a public contract at the time of the contract‚Äôs deployment, and not after. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deployContract</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">web3, publicKey</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> address = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> getAddress(web3); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> contract = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> web3.eth.Contract( temperatureMonitor.interface, ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> contract.deploy({ <span class="hljs-attr"><span class="hljs-attr">data</span></span>: temperatureMonitor.bytecode, }) .send({ <span class="hljs-attr"><span class="hljs-attr">from</span></span>: address, <span class="hljs-attr"><span class="hljs-attr">gas</span></span>: <span class="hljs-string"><span class="hljs-string">'0x2CD29C0'</span></span>, <span class="hljs-comment"><span class="hljs-comment">// Grant Permission to Contract by including nodes public keys privateFor: [publicKey], }) .then((contract) =&gt; { return contract.options.address; }); }</span></span></code> </pre> <br><p>  Similarly, private transactions are performed ‚Äî by including the public key of the participants at the time of execution. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setTemperature</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">web3, contractAddress, publicKey, temp</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> address = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> getAddress(web3); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myContract = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> getContract(web3, contractAddress); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> myContract.methods.set(temp).send({ <span class="hljs-attr"><span class="hljs-attr">from</span></span>: address, <span class="hljs-comment"><span class="hljs-comment">// Grant Permission by including nodes public keys privateFor: [publicKey], }).then((receipt) =&gt; { return receipt.status; }); }</span></span></code> </pre> <br><p>  Now we can run <a href="">private.js</a> with the following results: </p><br><pre> <code class="bash hljs">node private.js Contract address after deployment: 0x85dBF88B4dfa47e73608b33454E4e3BA2812B21D [Node3] temp retrieved after updating contract from external nodes: null [Node2] temp retrieved after updating contract from internal nodes: 12 [Node3] temp retrieved from external nodes after update null</code> </pre> <br><p>  The Quorum Explorer in Chainstack will show the following: </p><br><ul><li>  Deploy contract from a <i>Supermarket</i> member; </li><li>  Performing <code>SetTemperature</code> from a <i>Third Party</i> ; </li><li>  Running <code>SetTemperature</code> from <i>Vendor</i> . </li></ul><br><p><img src="https://habrastorage.org/getpro/habr/post_images/e14/6d2/660/e146d2660771f328fda7087facaec1e7.png" alt="image"></p><br><p>  As you can see, both transactions are completed, but only the transaction from the <i>Vendor</i> participant <i>has</i> updated the temperature in the contract.  Thus, private transactions provide immutability, but at the same time they do not give out data to third parties. </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  We looked at the commercial use of Quorum to provide up-to-date information about the temperature in the storage room by deploying a network between two parties - the supermarket and the warehouse owner. </p><br><p>  We have shown how up-to-date temperature information can be maintained through both public and private transactions. </p><br><p>  There can be a lot of application scenarios and, as you can see, it is not at all difficult. </p><br><p>  Experiment, try to deploy your script.  Moreover, the blockchain technology industry <a href="https://www.ibm.com/downloads/cas/PPRR983X">may grow almost tenfold by 2024</a> . </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/456368/">https://habr.com/ru/post/456368/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../456354/index.html">How we collect set-top boxes</a></li>
<li><a href="../456358/index.html">13 most mined articles last year</a></li>
<li><a href="../45636/index.html">Usability vs marketing</a></li>
<li><a href="../456362/index.html">Level 6 designer: how we motivate and develop designers</a></li>
<li><a href="../456366/index.html">How I was creating the LED HEART box</a></li>
<li><a href="../456370/index.html">QoS implementation in Qsan storage</a></li>
<li><a href="../456372/index.html">SimbirSoft invites IT-specialists to the Summer Intensive-2019</a></li>
<li><a href="../456374/index.html">Plasma Cash blockchain status data structures</a></li>
<li><a href="../456376/index.html">Not a single spring boot: review alternatives</a></li>
<li><a href="../456380/index.html">Open Day at the Faculty of Programming in Netology</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>