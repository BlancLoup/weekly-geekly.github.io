<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>MySQL calendar data types: usage features</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="MySQL 5 has several data types for storing dates and times. These are TIMESTAMP, DATE, DATETIME, TIME and YEAR. All of them have their own characteris...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>MySQL calendar data types: usage features</h1><div class="post__text post__text-html js-mediator-article">  MySQL 5 has several data types for storing dates and times.  These are TIMESTAMP, DATE, DATETIME, TIME and YEAR.  All of them have their own characteristics, and the choice in favor of a calendar type should be made separately in each specific situation.  I would like to share with you the result of my mini-research of these types, including in the aspect of working with time zones. <br><br><br><a name="habracut"></a><br><br>  So, all calendar data types are described in detail in section ‚Äú10.3.  <a href="http://dev.mysql.com/doc/refman/5.1/en/date-and-time-types.html">Date and Time Types</a> ‚ÄùMySQL guides.  And important information regarding the support of time zone DBMS is listed in the section ‚Äú9.7.  <a href="http://dev.mysql.com/doc/refman/5.1/en/time-zone-support.html">MySQL Server Time Zone Support</a> .  All the following is based on the study guide.  At the same time, in here only nuances of a choice in favor of one or another type are indicated, therefore this material does not replace the manual, but complements it. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      First, a brief description of each type: <br><ul><li>  TIMESTAMP - data type for storing date and time.  Data is stored in the form of the number of seconds elapsed since the beginning of the ‚ÄúUnix era‚Äù.  Range of values: 1970-01-01 00:00:00 - 2038-12-31 00:00:00.  It takes 4 bytes. </li><li>  YEAR is the data type for storing the year.  Range of values: 1901 - 2155. It takes 1 byte. </li><li>  DATE is a data type for storing a date.  Range of values: 1000-01-01 - 9999-12-31.  It takes 3 bytes. </li><li>  TIME - data type for storing time.  The range of values ‚Äã‚Äãis ‚àí828: 59: 59‚Äì 828: 59: 59.  It takes 3 bytes. </li><li>  DATETIME is a data type for storing date and time.  Range of values: 1000-01-01 00:00:00 - 9999-12-31 00:00:00.  It takes 8 bytes. </li></ul><br>  <i>Mistress on the note</i> .  Interestingly, most programmers believe that the concept of ‚Äútimestamp‚Äù is Unix time.  In fact, the <a href="http://en.wikipedia.org/wiki/Timestamp">timestamp</a> is a label that is a sequence of characters indicating the date and / or time when a certain event occurred.  A "Unix time" (Unix time) or POSIX time is the number of seconds since midnight, January 1, 1970, UTC.  The concept of timestamp is broader than Unix time. <br><br>  After analyzing the description of the types presented above, almost all conclusions can be made about the advantages and disadvantages of certain types.  It's pretty simple and obvious. <br><br>  But before telling about the use of these types, I want to note that in practice another type is often used to store the date and time: an integer value (for storing the date - INT (4 bytes), a date and time - BIGINT (8 bytes)).  The difference in the use of integer types from DATE and DATETIME is only in the fact that when outputting, the data is not formatted, and in calculations with dates and time, integers must be converted to the corresponding calendar type.  In addition, the validity of the presented value is not checked before saving.  Sorting options are preserved.  Therefore, it makes sense to use INT and BIGINT in the same cases as DATE and DATETIME in order to maximize portability and independence from the DBMS.  I do not see other advantages, if there are any, I suggest to indicate in the comments. <br><br><h2>  Using calendar types given in MySQL </h2><br>  Let's start with the simplest - type <b>YEAR</b> .  Its only advantage is its small size - just 1 byte.  But because of this, there is a strict restriction on the range of permissible values ‚Äã‚Äã(the type can store only 255 different values).  It is difficult for me to imagine a practical situation when it may be necessary to store years strictly in the range from 1901 to 2155. In addition, the type SMALLINT (2 bytes) gives a range sufficient in most situations to store the year.  And saving 1 byte per line in the database table in our time does not make sense. <br><br>  The <b>DATE</b> and <b>DATETIME</b> types can be combined into one group.  They store the date or date and time with a fairly wide range of acceptable values, independent of the time zone set on the server.  Their use definitely has a practical meaning.  But if you want to keep the dates of historical events that go back in time for Our era, you will have to choose other types of data.  For storing dates of certain events that potentially go beyond the TIMESTAMP type range (birthdays, product release dates, election of presidents, launches of space rockets, etc.), these types are perfect.  When using these types you need to take into account one important nuance, but more on that below. <br><br>  The <b>TIME</b> type can be used to store a period of time when precision is not needed for less than 1 second, and for intervals of less than 829 hours.  There is nothing more to add. <br><br>  Remained the most interesting type - <b>TIMESTAMP</b> .  It should be considered in comparison with DATE and DATETIME: TIMESTAMP is also intended to store the date and / or time of the origin of certain events.  An important difference between them is in the ranges of values: it is obvious that TIMESTAMP is not suitable for storing historical events (even such as birthdays), but it is great for storing current (logging, posting articles, adding goods, placing orders) and upcoming in the foreseeable future events (new releases, calendars and planners, etc.). <br><br>  The main convenience of using the TIMESTAMP type is that for columns of this type in the tables you can set the default value as a substitution of the current time, as well as the current time settings when updating the record.  If you need these capabilities, then with a probability of 99% TIMESTAMP is exactly what you need.  (How to do this, see the manual.) <br><br>  Do not be afraid that with the approach to 2038 your software will stop working.  First, until this time your software will most likely just stop using (especially the versions that are being written now).  Secondly, approaching this date, MySQL developers will definitely come up with something to keep your software up and running.  Everything will be solved as well as the Y2K problem. <br><br>  So, the TIMESTAMP type is used to store the dates and times of the events of our time, and DATETIME and DATE - to store the dates and times of the historical events, or the events of the deep future. <br><br>  Value ranges are an important difference between the TIMESTAMP, DATETIME and DATE types, but not the main one.  <b>The key</b> is that TIMESTAMP stores the value in <a href="http://en.wikipedia.org/wiki/Coordinated_Universal_Time">UTC</a> .  When the value is saved, it is transferred from the current time zone to UTC, and when it is read, it is transferred during the current time zone from UTC.  DATETIME and DATE always store and output the same time, regardless of time zones. <br><br>  Time zones <a href="http://dev.mysql.com/doc/refman/5.1/en/time-zone-support.html">are set</a> in MySQL DBMS globally or <b>for the current connection</b> .  <b>The latter can be used to ensure the work of different users in different time zones at the DBMS level</b> .  All time values ‚Äã‚Äãwill be physically stored in UTC, and received from the client and given to the client in the values ‚Äã‚Äãof its time zone.  But only when using the TIMESTAMP data type.  DATE and DATETIME always accept, store, and give the same value. <br><br>  The NOW () function and its synonyms return the time value in the current user time zone. <br><br>  Considering all these circumstances, you must be extremely careful when changing the time zone within the connection to the server and using the DATE and DATETIME types.  If you need to store a date (for example, date of birth), then there will be no problems.  Date of birth in any zone is the same.  Those.  If you were born on January 1 at 0:00 UTC / GMT + 0, this <b>does not</b> mean that your birthday will be celebrated on December 31 in America.  But if you decide to store <b>the</b> event <b>time</b> in the DATETIME column, then building work with custom time zones at the DBMS level simply will not work.  Let me explain with an example: <br><br>  User X is working in the UTC / GMT + 2 zone, Y - in the UTC / GMT + 3 zone.  For user connections to MySQL, the corresponding (each has its own) time zone is set.  The user places a message on the forum, we are interested in the date of writing the message. <br><br>  Option 1: DATETIME.  User X writes a message at 14:00 UTC / GMT + 2.  The value in the ‚Äúdate‚Äù field of the message is substituted as the result of the execution of the NOW () function - 14:00.  User Y reads the time of writing the message and sees the same 14:00.  But he has the UTC / GMT + 3 zone in the settings, and he thinks that the message was written not just that, but an hour ago. <br><br>  Option 2: TIMESTAMP.  User X writes a message at 14:00 UTC / GMT + 2.  The ‚Äúdate‚Äù field contains the result of the NOW () function execution - in this case, 12:00 UTC / GMT + 0.  UserY reads the time of writing the message and receives (UTC / GMT + 3) (12:00 UTC / GMT + 0) = 15:00 UTC / GMT + 3.  Everything turns out exactly as we want.  And most importantly, it is extremely convenient to use this: to support custom time zones, you do not need to write any time reference code. <br><br>  The possibilities of substituting the current time and working with time zones in the TIMESTAMP type are so weighty that if you need to store a date without time in a certain log, you should still use TIMESTAMP instead of DATE, not saving 1 byte of the difference between them.  In this case, at "00:00:00" just do not pay attention. <br><br>  If you cannot use TIMESTAMP due to the relatively small range of its values ‚Äã‚Äã(and usually it is 1-2 cases versus 10-15 in the base of the site), you will have to use DATETIME and carefully correct it in the right places (i.e., when recording in this field translate the date in UTC, and when reading - during the time in the zone of the reading user).  If you keep only the date, then most likely it does not matter what your time zone is: everyone celebrates the new year on January 1 local time, there is no need to translate anything here. </div><p>Source: <a href="https://habr.com/ru/post/69983/">https://habr.com/ru/post/69983/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../69975/index.html">Another Trojan and web studio</a></li>
<li><a href="../69976/index.html">A formula editor appeared in Google Docs.</a></li>
<li><a href="../69977/index.html">Google translate</a></li>
<li><a href="../69981/index.html">"Hello, I am a technical writer"</a></li>
<li><a href="../69982/index.html">Something terrible is happening in the world of advertising</a></li>
<li><a href="../69985/index.html">Generate music based on a given style</a></li>
<li><a href="../69987/index.html">Another reason to start using Chrome</a></li>
<li><a href="../69988/index.html">Replacing the sounds in Half-Life 2 voice</a></li>
<li><a href="../69989/index.html">L-Systems - the mathematical beauty of plants</a></li>
<li><a href="../69992/index.html">Vedomosti. Registration is not for everyone</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>