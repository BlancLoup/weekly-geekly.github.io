<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>3 facts about PHP that you might not know</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There is no secret for any web developer that PHP is a simple, flexible and non-demanding language. But when working with this language, you may encou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>3 facts about PHP that you might not know</h1><div class="post__text post__text-html js-mediator-article">  There is no secret for any web developer that PHP is a simple, flexible and non-demanding language.  But when working with this language, you may encounter unexpected things.  In this article, I will present the ‚Äúweird facts‚Äù and explain why PHP gives such results. <br><br><h3>  Floating point inaccuracies </h3><br>  Most of you probably know that floating point numbers cannot really represent all real numbers.  In addition, some operations between two seemingly well-given numbers can lead to unexpected situations.  This is because the accuracy with which a computer stores numbers has its own characteristics.  This phenomenon affects not only PHP, but all programming languages.  The inaccuracy in floating-point operations gave the programmers considerable headaches from the day the discipline was founded as such. <br><a name="habracut"></a><br>  This fact has already been written more than once.  One of the most important articles is ‚ÄúWhat every geek needs to know about floating point operations.‚Äù  If you have never read it, I strongly recommend that you correct this situation. <br><br>  Let's look at this little piece of code: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <code>&lt;?php&lt;br/&gt; <br> echo (int) ((0.1 + 0.7) * 10);</code> <br> <br>  What do you think the result will be?  If you assume that the result of the operation will be 8, then you will be mistaken.  Actually 7. For those who have a Zend certificate, this example is already known.  By the way, you can find this example in the Zend Certification Preparation Guide. <br><br>  Now let's see why this happens: <br><br> <code>0.1 + 0.7 = 0.79999999999</code> <br> <br>  The result of this operation is stored in reality as 0.79999999999, not 0.8, as one might think.  This is where the problems begin. <br><br>  The second operation we perform: <br><br> <code>0.79999999 * 10 = 7.999999999</code> <br> <br>  This operation works as expected, but the problems remain. <br><br>  Finally, the third and last operation: <br><br> <code>(int) 7.9999999 = 7</code> <br> <br>  This expression uses an explicit type conversion.  When the value is cast to an int, PHP cuts off the fractional part and eventually returns 7. <br><br><ul><li>  If you cast this expression to the type float, not int, or if you don‚Äôt do any casting at all, you will get the number 8, as you would expect </li><li>  It is because there is a mathematical paradox, that 0.999 ... is equal to 1, we got this error. </li></ul><br><br><h3>  How PHP "increments" strings </h3><br>  During operation, we always use increment / decrement operations similar to the data: <br><br> <code>&lt;?php <br> <br> $a = 5; <br> <br> $b = 6; <br> <br> $a++; <br> <br> ++$b;</code> <br> <br>  Each of us easily understands what is happening here.  But try to figure out what this code will display: <br><br> <code>&lt;?php <br> <br> $a = 1; <br> <br> $b = 3; <br> <br> echo $a++ + $b; <br> <br> echo $a + ++$b; <br> <br> echo ++$a + $b++;</code> <br> <br>  Let's get a look: <br><br> <code>4 <br> <br> 6 <br> <br> 7</code> <br> <br>  Not so difficult, right?  Now let's increase the difficulty a bit.  Have you ever tried to increment lines before?  Try to assume that this code will output: <br><br> <code>&lt;?php <br> <br> $a = 'fact_2'; <br> <br> echo ++$a; <br> <br> $a = '2nd_fact'; <br> <br> echo ++$a; <br> <br> $a = 'a_fact'; <br> <br> echo ++$a; <br> <br> $a = 'a_fact?'; <br> <br> echo ++$a;</code> <br>  This task is more difficult.  Let's see what we got: <br> <code>fact_3 <br> <br> 2nd_facu <br> <br> a_facu <br> <br> a_fact?</code> <br> <br>  Surprised?  Making the increment of the line that ends by a digit, we will actually increment the character (next character alphabetically, ie, after t follows u).  Regardless of whether the string starts with a digit or not, the last character will be changed.  However, this operation does not make any sense in the case where the string ends with a non-alphanumeric character. <br><br>  This point is well described in the official documentation for increment / decrement operations, but many did not read this material because they did not expect to find anything special there.  I want to admit that until recently I was thinking the same way. <br><br><h3>  Mystery of meanings </h3><br>  You are an array wizard in PHP.  Feel free to do this.  You already know everything about creating, editing and deleting arrays.  However, the following example may surprise you. <br><br>  Very often when working with arrays you have to look for something in them.  PHP has a special function for this in_array ().  Let's see it in action: <br><br> <code>&lt;?php <br> <br> $array = array( <br> <br> 'isReady' =&gt; false, <br> <br> 'isPHP' =&gt; true, <br> <br> 'isStrange' =&gt; true <br> <br> ); <br> <br> var_dump(in_array('phptime.ru', $array));</code> <br> <br>  What should be displayed? <br><br> <code>true</code> <br> <br>  Isn't that a bit strange?  We have an associative array that contains only Bulenov values, and when we perform a string search, we get true.  Is this really magic?  Let's see another example: <br><br> <code>&lt;?php <br> <br> $array = array( <br> <br> 'count' =&gt; 1, <br> <br> 'references' =&gt; 0, <br> <br> 'ghosts' =&gt; 1 <br> <br> ); <br> <br> var_dump(in_array('aurelio', $array));</code> <br> <br>  And what do we get? <br><br> <code>true</code> <br> <br>  And again in_array () returned true.  How is this possible? <br><br>  You have just used one of the favorite and at the same time hated PHP functions.  I must say that PHP is not a strictly typed language.  Many problems occur precisely because of this.  In fact, all of the following values, if PHP compares them, are identical when using a single comparison operator: <br><br> <code>0 <br> <br> false <br> <br> "" <br> <br> "0" <br> <br> null <br> <br> array()</code> <br> <br><br><br>  By default, in_array () uses a "flexible" comparison, therefore a non-empty ("") and non-zero string ("0") is equivalent to true, the same applies to all non-zero elements (eg 1).  Therefore, in our first example, we got true, because 'phpmaster.com' == true, while in the second example, 'aurelio' == 1. <br><br>  To solve this problem, you must use the third additional parameter in the in_array () function, which allows strict comparison of elements.  If we now write: <br><br> <code>&lt;?php <br> <br> $array = array( <br> <br> 'count' =&gt; 1, <br> <br> 'references' =&gt; 0, <br> <br> 'ghosts' =&gt; 1 <br> <br> ); <br> <br> var_dump(in_array('aurelio', $array, true));</code> <br>  we get false. <br><br><h3>  Conclusion </h3><br>  In this article you have seen the strange and unexpected behavior of the PHP interpreter.  Here's what you could learn from the reading: <br><br><ul><li>  never trust floating point numbers; </li><li>  double check the data type before using it; </li><li>  Be aware of the problems of "flexible" comparison and "flexible" types. </li></ul><br><br>  If you are an advanced programmer, then, most likely, you already knew about the existence of these oddities, but repetition is never useless. </div><p>Source: <a href="https://habr.com/ru/post/226861/">https://habr.com/ru/post/226861/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../226843/index.html">MVbind - Backbone extension for data binding between Model and View</a></li>
<li><a href="../226847/index.html">New encryption options for Android found</a></li>
<li><a href="../226853/index.html">What should be a good map - guidelines on Yandex.Maps</a></li>
<li><a href="../226855/index.html">How we made WordPress friendlier for Russian users</a></li>
<li><a href="../226859/index.html">Implementation of the secret visual information sharing scheme in MATLAB</a></li>
<li><a href="../226863/index.html">Demotivator for gamers</a></li>
<li><a href="../226869/index.html">Simple ruby ‚Äã‚Äãtests for web</a></li>
<li><a href="../226871/index.html">Retention and return to the audience using Email and Push notifications</a></li>
<li><a href="../226873/index.html">How to win in the game stone-paper-scissors? (implementation of the optimal strategy in Wolfram Mathematica)</a></li>
<li><a href="../226875/index.html">Why is NginX with Fast-CGI faster than Apache with mod_php?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>