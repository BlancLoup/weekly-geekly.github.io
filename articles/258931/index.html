<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Website based on a single HTML page</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When there are so many new technologies around, it is not easy to understand which time is worth exploring. 
 (Karl Seguin) 

 Now is an interesting t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Website based on a single HTML page</h1><div class="post__text post__text-html js-mediator-article"><blockquote>  When there are so many new technologies around, it is not easy to understand which time is worth exploring. <br>  (Karl Seguin) <br></blockquote><br>  Now is an interesting time, when some new technologies are rapidly changing by other new ones, which are also changing rapidly.  The positive derivative of this process is that while this technological kaleidoscope is spinning, there will be work for the developer.  But sometimes there are tasks for which, speaking in figurative language, it is better to use not a new chainsaw, but a nail file in an old penknife. <br><br><img src="https://habrastorage.org/files/51c/55a/2e0/51c55a2e060f48e8a699aa836e778087.jpg" alt="Image - Website based on a single HTML page"><br><br>  The article shows the technique of website development, when the main result is achieved through the use of basic mechanisms of open standards. <br><a name="habracut"></a><br>  Architecture: Frontend, static HTTP server, XmlHttpRequest (XHR), REST. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      IDE: Notepad, Notepad ++ (Windows), Gedit (Linux). <br><br>  Compatibility: the browser must support JavaScript and HTML DOM. <br><br><h4>  The essence of the reception </h4><br>  The site is developed on the basis of an HTML page through which access to content files is organized.  HTML-pages, according to the developer, can be any number, but to achieve full functionality, one will be enough.  In the HTML page, links to content files are described as plain HTML links, according to the REST rules.  Due to the location of links in one place, referential integrity is achieved. <br><br>  Content is located in text files and is a text formatted with typical HTML markup.  There are no restrictions on the location of the content files, but it would be logical if placed in thematic sections (directories).  Content files are not linked to an HTML page and can be displayed on one or more HTML pages. <br><br>  First, the HTML page is loaded.  Then the content file is determined and loaded.  The name of the content file is written in the URL of the HTML link and is determined according to the REST rules.  Uploading a content file via XHR. <br><br>  There are no restrictions.  Design, code, variable names and other developer agreements are typical for similar developments.  There is no special markup commonly used for templates. <br><br>  All this is a bit like SSI, only on Frontend. <br><br><h4>  How it works </h4><br>  Read the URL of the HTML link and determine the parameters: <br><pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUrlParametr</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">parName</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> params = location.search.substring(<span class="hljs-number"><span class="hljs-number">1</span></span>).split(<span class="hljs-string"><span class="hljs-string">"&amp;"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; params.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (params[i].split(<span class="hljs-string"><span class="hljs-string">"="</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>] == parName) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> params[i].split(<span class="hljs-string"><span class="hljs-string">"="</span></span>)[<span class="hljs-number"><span class="hljs-number">1</span></span>]; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span>; }</code> </pre> <br>  The number and name of the parameters are determined by the developer, the main thing is that the HTML-page should provide for the functionality for their processing. <br><br>  Download and display content: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadXMLDoc</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">divName, contentFile</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> xmlhttp=<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> XMLHttpRequest(); xmlhttp.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (xmlhttp.readyState == <span class="hljs-number"><span class="hljs-number">4</span></span> &amp;&amp; xmlhttp.status == <span class="hljs-number"><span class="hljs-number">200</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(divName).innerHTML = xmlhttp.responseText; <span class="hljs-comment"><span class="hljs-comment">//   } } xmlhttp.open("GET",contentFile,true); xmlhttp.send(); }</span></span></code> </pre><br>  The ‚Äúid‚Äù parameter specifies the location of the content file, which is determined after loading the HTML page: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onPageLoad</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> paramId = getUrlParametr(<span class="hljs-string"><span class="hljs-string">"id"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(paramId == <span class="hljs-string"><span class="hljs-string">""</span></span>) paramId = <span class="hljs-string"><span class="hljs-string">"/xdata/news.htm"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   loadXMLDoc("div_body",paramId); }</span></span></code> </pre><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onload</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'onPageLoad()'</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  The HTML link is composed so that the HTML page refers to itself, but with different values ‚Äã‚Äãof the ‚Äúid‚Äù parameter: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'site-1-page.htm?id=/it/it-box.txt'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  To add new content, simply create a content file and add an HTML link.  The content file extension can be any, but it will be more convenient if it matches a known MIME type, for example, ‚Äútxt‚Äù or ‚Äúhtm‚Äù.  So it will be easier to transfer the site to an external resource. <br><br>  These are key aspects for creating an informational site.  Interactivity, if necessary, can be added based on web services.  If you use more than one HTML page, you can, for example, develop one menu for all pages, which will be loaded on the same principle as the content.  This will make it easier to maintain referential integrity, but the extra XHR request will be paid for. <br><br><h4>  How to insert an HTML page instead of a content file </h4><br>  To insert another HTML page into a basic HTML page, the easiest way is to use an iframe HTML tag.  In this case, XHR is not needed.  Add another parameter to the URL, for example ‚Äúiframe‚Äù, and process it when loading the base HTML page: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onPageLoad</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> paramId = getUrlParametr(<span class="hljs-string"><span class="hljs-string">"id"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> paramIframe = getUrlParametr(<span class="hljs-string"><span class="hljs-string">"iframe"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(paramId == <span class="hljs-string"><span class="hljs-string">""</span></span>) paramId = <span class="hljs-string"><span class="hljs-string">"/it/it-box.txt"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   if(paramIframe == "" || paramIframe == "0") loadXMLDoc("div_body",paramId); if(paramIframe == "1") document.getElementById("div_body").innerHTML = "&lt;iframe src='" + paramId + "'&gt;&lt;/iframe&gt;"; }</span></span></code> </pre><br>  The key difference is that the content file is embedded in the DOM of the base HTML page and will be processed with a single CSS, and the HTML page loaded in the iframe is not. <br><br><h4>  When the HTML page is not at the root </h4><br>  Sometimes you need to develop not the whole site, but, for example, a thematic section.  To keep HTML links up to date, you need to consider the path to the section: <br><pre> <code class="javascript hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onPageLoad</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">rootPath</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> paramId = getUrlParametr(<span class="hljs-string"><span class="hljs-string">"id"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> paramIframe = getUrlParametr(<span class="hljs-string"><span class="hljs-string">"iframe"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(paramIframe == <span class="hljs-string"><span class="hljs-string">""</span></span> || paramIframe == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(paramId == <span class="hljs-string"><span class="hljs-string">""</span></span>) paramId = rootPath + <span class="hljs-string"><span class="hljs-string">"/it/it-box.txt"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> paramId = rootPath + paramId; loadXMLDoc(<span class="hljs-string"><span class="hljs-string">"div_body"</span></span>,paramId); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(paramIframe == <span class="hljs-number"><span class="hljs-number">1</span></span>) { paramId = rootPath + paramId; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"div_body"</span></span>).innerHTML = <span class="hljs-string"><span class="hljs-string">"&lt;iframe src='"</span></span> + paramId + <span class="hljs-string"><span class="hljs-string">"' width='100%' height='400'&gt;&lt;/iframe&gt;"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(paramIframe == <span class="hljs-number"><span class="hljs-number">2</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"div_body"</span></span>).innerHTML = <span class="hljs-string"><span class="hljs-string">"&lt;iframe src='"</span></span> + paramId + <span class="hljs-string"><span class="hljs-string">"' width='100%' height='400'&gt;&lt;/iframe&gt;"</span></span>; } } }</code> </pre><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onload</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'onPageLoad("/stencil-html-site-on-one-page")'</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  This is, for example, the example code for an article on GitHub. <br><br><h4>  Ready template </h4><br>  If you have any questions, you can view the <a href="http://apelserg.github.io/stencil-html-site-on-one-page/">demo site (GitHub)</a> and download <a href="https://github.com/apelserg/stencil-html-site-on-one-page">the site template (GitHub)</a> .  Demo and template are ready-made layout and filled with innocuous content. <br><br>  Development can be conducted on any static HTTP server installed locally, and then transferred ‚Äúas is‚Äù to any place on the network. <br><br><h4>  Advantages and disadvantages </h4><br>  Strong: <br><ul><li>  Simplicity, mobility, compact code. </li><li>  There is no binding to technologies and databases (the role of the database is performed by the file system).  At the core - only open specifications and standards. </li><li>  Just create and maintain backups (simple copy). </li></ul><br>  Weak: <br><ul><li>  Frondend loses Backend in functionality.  Complex functionality can be significantly more time consuming to develop. </li><li>  JavaScript must be enabled in the browser. </li></ul><br><h4>  Links to the article </h4><br>  <a href="http://habrahabr.ru/post/38730/">REST architecture</a> <br>  <a href="http://habrahabr.ru/post/50147/">HTTP request types and REST philosophy</a> <br>  <a href="httprequest.ru/">XMLHTTPRequest: description, application, common problems</a> <br>  <a href="httprequest">XMLHttpRequest Basics</a> <br>  <a href="http://javascript.ru/tutorial/dom">DOM: working with HTML page</a> <br>  <a href="http://www.w3schools.com/js/js_htmldom_document.asp">JavaScript HTML DOM Document</a> <br>  <a href="http://www.w3schools.com/jsref/obj_location.asp">BOM Location Object</a> <br>  <a href="https://developer.mozilla.org/ru/docs/Web/API/Window/location">Window.location</a> </div><p>Source: <a href="https://habr.com/ru/post/258931/">https://habr.com/ru/post/258931/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../258919/index.html">Accepting bank card payments in iOS apps</a></li>
<li><a href="../258921/index.html">First day of PHDays V: from SMS interception to satellite hacking</a></li>
<li><a href="../258925/index.html">Smart Cities and Big Data</a></li>
<li><a href="../258927/index.html">Salesforce Data Migration with Pentaho Data Integration</a></li>
<li><a href="../258929/index.html">10 Tips to Improve Email Support</a></li>
<li><a href="../258933/index.html">How I learned to make the world better in HeadHunter</a></li>
<li><a href="../258935/index.html">Inventory and rationalization: we manage software assets of large companies. Experience using Microsoft Assessment and Planning Toolkit</a></li>
<li><a href="../258937/index.html">The benefits of 3d printers for medicine and rocket science: desktop FDM versus industrial metal (can 500 zerlings overwhelm a dark templar?)</a></li>
<li><a href="../258941/index.html">An example of a multi-vendor WLAN access control solution</a></li>
<li><a href="../258943/index.html">Competition for designers from Mail.Ru Mail</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>