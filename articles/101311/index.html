<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>TODO Plugin for QtCreator</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="So, for a long time, the respected Eugene wrote to us about the QtCreator hacks, and also indicated in his blog a document with detailed instructions ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>TODO Plugin for QtCreator</h1><div class="post__text post__text-html js-mediator-article">  So, for a long time, the respected Eugene <a title="My first custom Qt-creator improvements" href="http://habrahabr.ru/blogs/qt_software/79733/">wrote to</a> us about the QtCreator hacks, and also <a href="http://erudenko.com/wordpress/%3Fp%3D248">indicated</a> in his blog a document with detailed instructions for creating a plugin.  And this weekend, being in a country house, cut off from civilization and the Internet, I decided to try to write my own plugin.  The plugin is quite simple; it lists all the TODO, FIXME, and so on comments in the current open document.  Below I will talk about how this plugin is written, and generally about writing plugins for QtCreator. <br><img title="TODO PLUGIN" alt="TODO Plugin" src="https://habrastorage.org/storage/habraeffect/ee/2c/ee2ca308d25a3c0f3c389b2aaab622d3.png"><br><br><a name="habracut"></a><br><h4>  Start </h4><br>  The first thing you need to create a plugin is to download the source code for QtCreator, this can be done <a title="Nokia FTP" href="">here</a> .  Now, you need to unpack the resulting archive and create a new empty project in the / src / plugins / folder. <br><br><h4>  Create a plugin that does nothing </h4><br>  To do this, you need to add a new class to the project, which will be the main class of the plug-in, it must be inherited from the <strong>ExtensionSystem :: IPlugin interface</strong> . <br>  To do this, add the following lines to the .pro file: <br><blockquote>  include (../../ qtcreatorplugin.pri) <br>  include (../../ plugins / coreplugin / coreplugin.pri) <br></blockquote><br>  Coreplugin is needed because all user plugins depend on it, it provides the main interfaces for creating other plugins. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      You will also need to create an xml-file &lt;pluginname&gt; .pluginspec <br><blockquote>  &lt;plugin name = "todo" version = "0.0.1" compatVersion = "2.0.0"&gt; <br>  &lt;vendor&gt; vsorokin &lt;/ vendor&gt; <br>  &lt;copyright&gt; Your copyright &lt;/ copyright&gt; <br>  &lt;license&gt; Your license &lt;/ license&gt; <br>  &lt;description&gt; Plugin description &lt;/ description&gt; <br>  &lt;url&gt; Project homepage &lt;/ url&gt; <br>  &lt;dependencyList&gt; <br>  &lt;dependency name = "Core" version = "2.0.0" /&gt; <br>  &lt;/ dependencyList&gt; <br>  &lt;/ plugin&gt; <br></blockquote><br>  The meaning of the fields is clear from their name. <br><br>  So, the class itself that does nothing of the plugin should have the following structure: <br><blockquote>  <font color="black">#include &lt;extensionsystem / iplugin.h&gt;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">class</font> TodoPlugin: <font color="#0000ff">public</font> ExtensionSystem :: IPlugin</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">Q_OBJECT</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> :</font> <font color="black"><br></font>  <font color="black">TodoPlugin ();</font> <font color="black"><br></font>  <font color="black">~ TodoPlugin ();</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">void</font> extensionsInitialized ();</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">bool</font> initialize ( <font color="#0000ff">const</font> QStringList &amp; arguments, QString * errorString);</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">void</font> shutdown ();</font> <font color="black"><br></font>  <font color="black">};</font> <br><br>  <font color="gray">* This source code was highlighted with <a href="http://virtser.net/blog/post/source-code-highlighter.aspx"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br>  The main thing here is the <strong>initialize</strong> method, which initializes the plugin.  However, in a plugin that does nothing, all methods are empty. <br><br><h4>  Create a new Output Pane </h4><br>  My plug-in required a new output area, next to the existing ones, it is done very simply, for this it is enough to create a new class inherited from the <strong>Core :: IOutputPane interface</strong> , here is the title of this class: <br><blockquote>  <font color="black">#include &lt;coreplugin / ioutputpane.h&gt;</font> <font color="black"><br></font>  <font color="black">#include &lt;QObject&gt;</font> <font color="black"><br></font>  <font color="black">#include &lt;QListWidget&gt;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">class</font> TodoOutputPane: <font color="#0000ff">public</font> Core :: IOutputPane</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> :</font> <font color="black"><br></font>  <font color="black">TodoOutputPane (QObject * parent);</font> <font color="black"><br></font>  <font color="black">~ TodoOutputPane ();</font> <font color="black"><br><br></font>  <font color="black">QWidget * outputWidget (QWidget * parent);</font>  <font color="black"><font color="#008000">// Returns the main class widget, here it is QListWidget</font></font> <font color="black"><br></font>  <font color="black">QList &lt;QWidget *&gt; toolBarWidgets () <font color="#0000ff">const</font> ;</font>  <font color="black"><font color="#008000">// Returns a list of toolbar widgets, they are not in this plugin</font></font> <font color="black"><br></font>  <font color="black">QString name () <font color="#0000ff">const</font> ;</font>  <font color="black"><font color="#008000">// Just text panel name</font></font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">int</font> priorityInStatusBar () <font color="#0000ff">const</font> ;</font>  <font color="black"><font color="#008000">// Returns a number from one to one hundred, the larger the number, the more the top position will be occupied by our pane</font></font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">void</font> clearContents ();</font>  <font color="black"><font color="#008000">// Performs cleaning of the main widget</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">void</font> visibilityChanged ( <font color="#0000ff">bool</font> visible);</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">void</font> setFocus ();</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">bool</font> hasFocus ();</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">bool</font> canFocus ();</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">bool</font> canNavigate ();</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">bool</font> canNext ();</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">bool</font> canPrevious ();</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">void</font> goToNext ();</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">void</font> goToPrev ();</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">void</font> addItem (QString text, QString file, <font color="#0000ff">int</font> rowNumber);</font>  <font color="black"><font color="#008000">// Method that inserts a new entry into the list</font></font> <font color="black"><br></font>  <font color="black">QListWidget * getTodoList () <font color="#0000ff">const</font> ;</font>  <font color="black"><font color="#008000">// Pointer to the list</font></font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">private</font> :</font> <font color="black"><br></font>  <font color="black">QListWidget * todoList;</font> <font color="black"><br></font>  <font color="black">};</font> <br><br>  <font color="gray">* This source code was highlighted with <a href="http://virtser.net/blog/post/source-code-highlighter.aspx"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br><br>  Now we need to somehow register our newly created todoPane in the system, for this we write the following code in the <strong>initialize</strong> method: <br><blockquote>  <font color="black">outPane = <font color="#0000ff">new</font> TodoOutputPane ( <font color="#0000ff">this</font> );</font> <font color="black"><br></font>  <font color="black">addAutoReleasedObject (outPane);</font> <br><br>  <font color="gray">* This source code was highlighted with <a href="http://virtser.net/blog/post/source-code-highlighter.aspx"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br>  It's very simple, now our outPane will appear among the rest, but so far it can not do anything. <br><br><h4>  Get information about the open file and parse it </h4><br>  In order to find out which file is currently open in the editor, you need to somehow get to the editor ... <br>  To do this, add the following headers: <br><blockquote>  <font color="black">#include &lt;coreplugin / editormanager / editormanager.h&gt;</font> <font color="black"><br></font>  <font color="black">#include &lt;coreplugin / editormanager / ieditor.h&gt;</font> <br><br>  <font color="gray">* This source code was highlighted with <a href="http://virtser.net/blog/post/source-code-highlighter.aspx"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br>  Add the following line to the <strong>initialize</strong> method: <br><blockquote>  <font color="black">connect (Core :: EditorManager :: instance (), SIGNAL (currentEditorChanged (Core :: IEditor *)), <font color="#0000ff">this</font> , SLOT (currentEditorChanged (Core :: IEditor *)));</font> <br><br>  <font color="gray">* This source code was highlighted with <a href="http://virtser.net/blog/post/source-code-highlighter.aspx"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br>  And of course, declare the slot <strong>currentEditorChanged (Core :: IEditor *)</strong> <br>  This slot will be called every time the current editor has changed, that is, the user has opened / closed the file, or has switched to another one that has already been opened. <br>  Its implementation is as follows: <br><blockquote>  <font color="black"><font color="#0000ff">void</font> TodoPlugin :: currentEditorChanged (Core :: IEditor * editor)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">outPane-&gt; clearContents ();</font>  <font color="black"><font color="#008000">// clear</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (! editor) <font color="#008000">// Check if there is an editor?</font></font>  <font color="black"><font color="#008000">at all</font></font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> ;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#008000">/ * Fine point, we connect the signal of changing the class of the file associated with the current editor, so that later the file can be re-read after the user has pressed Ctrl + S * /</font></font> <font color="black"><br></font>  <font color="black">connect (editor-&gt; file (), SIGNAL (changed ()), <font color="#0000ff">this</font> , SLOT (fileChanged ()));</font> <font color="black"><br></font>  <font color="black">QString fileName = editor-&gt; file () -&gt; fileName ();</font>  <font color="black"><font color="#008000">// Get the file name</font></font> <font color="black"><br></font>  <font color="black">readFile (fileName);</font>  <font color="black"><font color="#008000">// read and parse the file.</font></font> <font color="black"><br></font>  <font color="black">}</font> <br><br>  <font color="gray">* This source code was highlighted with <a href="http://virtser.net/blog/post/source-code-highlighter.aspx"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br>  Here the parsing method is called, it is simple: <br><blockquote>  <font color="black"><font color="#0000ff">void</font> TodoPlugin :: readFile (QString fileName)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">QFile file (fileName);</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (! file.open (QFile :: ReadOnly | QFile :: Text))</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> ;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">int</font> i = 1;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">while</font> (! file.atEnd ())</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">QString currentLine = file.readLine ();</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (currentLine.contains (QRegExp (patternString, Qt :: CaseInsensitive)))</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">outPane-&gt; addItem (currentLine, fileName, i);</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">++ i;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <br><br>  <font color="gray">* This source code was highlighted with <a href="http://virtser.net/blog/post/source-code-highlighter.aspx"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br><br>  You also need to describe the new slot, which will be called if the file is saved, here it is: <br><blockquote>  <font color="black"><font color="#0000ff">void</font> TodoPlugin :: fileChanged ()</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">outPane-&gt; clearContents ();</font> <font color="black"><br></font>  <font color="black">Core :: IFile * file = (Core :: IFile *) sender ();</font>  <font color="black"><font color="#008000">// This is a somewhat non-orthodox way, but it will be quite safe to work, since no more signals are connected to this slot.</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (file)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">readFile (file-&gt; fileName ());</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <br><br>  <font color="gray">* This source code was highlighted with <a href="http://virtser.net/blog/post/source-code-highlighter.aspx"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br><br><h4>  Adding lines </h4><br>  Now it is necessary to describe the addition of lines, that is, the method: <br><blockquote>  <font color="black"><font color="#0000ff">void</font> TodoOutputPane :: addItem (QString text, QString file, <font color="#0000ff">int</font> rowNumber)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">QListWidgetItem * newItem = <font color="#0000ff">new</font> QListWidgetItem ();</font>  <font color="black"><font color="#008000">// Create a new entry</font></font> <font color="black"><br></font>  <font color="black">QRegExp todoExp ( <font color="#A31515">"// \\ s * TODO (: | \\ s)"</font> , Qt :: CaseInsensitive);</font>  <font color="black"><font color="#008000">// Prepare regexps</font></font> <font color="black"><br></font>  <font color="black">QRegExp noteExp ( <font color="#A31515">"// \\ s * NOTE (: | \\ s)"</font> , Qt :: CaseInsensitive);</font> <font color="black"><br></font>  <font color="black">QRegExp fixmeExp ( <font color="#A31515">"// \\ s * FIXME (: | \\ s)"</font> , Qt :: CaseInsensitive);</font> <font color="black"><br></font>  <font color="black">QRegExp bugExp ( <font color="#A31515">"// \\ s * BUG (: | \\ s)"</font> , Qt :: CaseInsensitive);</font> <font color="black"><br></font>  <font color="black">QRegExp hackExp ( <font color="#A31515">"// \\ s * HACK (: | \\ s)"</font> , Qt :: CaseInsensitive);</font> <font color="black"><br><br></font>  <font color="black">text = text.replace ( <font color="#A31515">"\ n"</font> , <font color="#A31515">""</font> );</font> <font color="black"><br></font>  <font color="black">text = text.replace ( <font color="#A31515">"\ r"</font> , <font color="#A31515">""</font> );</font> <font color="black"><br><br></font>  <font color="black">newItem-&gt; setTextColor (QColor ( <font color="#A31515">"# 2F2F2F"</font> ));</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (text.contains (todoExp)) <font color="#008000">// Looking for regexps</font></font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">newItem-&gt; setBackgroundColor (QColor ( <font color="#A31515">"# BFFFC8"</font> ));</font>  <font color="black"><font color="#008000">// Set Record Color</font></font> <font color="black"><br></font>  <font color="black">text = text.replace (todoExp, <font color="#A31515">"TODO:"</font> );</font>  <font color="black"><font color="#008000">// Replace the ‚Äúpossibly crooked‚Äù spelling of the label with the correct one</font></font> <font color="black"><br></font>  <font color="black">newItem-&gt; setIcon (QIcon ( <font color="#A31515">": / warning"</font> ));</font>  <font color="black"><font color="#008000">// Set the icon</font></font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">else</font> <font color="#0000ff">if</font> (text.contains (noteExp))</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">newItem-&gt; setBackgroundColor (QColor ( <font color="#A31515">"# E2DFFF"</font> ));</font> <font color="black"><br></font>  <font color="black">text = text.replace (noteExp, <font color="#A31515">‚ÄúNOTE:‚Äû</font> );</font> <font color="black"><br></font>  <font color="black">newItem-&gt; setIcon (QIcon ( <font color="#A31515">‚Äú: / info‚Äù</font> ));</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">else</font> <font color="#0000ff">if</font> (text.contains (bugExp))</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">newItem-&gt; setBackgroundColor (QColor ( <font color="#A31515">"#FFBFBF"</font> ));</font> <font color="black"><br></font>  <font color="black">text = text.replace (bugExp, <font color="#A31515">‚ÄúBUG:‚Äû</font> );</font> <font color="black"><br></font>  <font color="black">newItem-&gt; setIcon (QIcon ( <font color="#A31515">‚Äú: / error‚Äù</font> ));</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">else</font> <font color="#0000ff">if</font> (text.contains (fixmeExp))</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">newItem-&gt; setBackgroundColor (QColor ( <font color="#A31515">"#FFDFDF"</font> ));</font> <font color="black"><br></font>  <font color="black">text = text.replace (fixmeExp, <font color="#A31515">"FIXME:"</font> );</font> <font color="black"><br></font>  <font color="black">newItem-&gt; setIcon (QIcon ( <font color="#A31515">‚Äú: / error‚Äù</font> ));</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">else</font> <font color="#0000ff">if</font> (text.contains (hackExp))</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">newItem-&gt; setBackgroundColor (QColor ( <font color="#A31515">"#FFFFAA"</font> ));</font> <font color="black"><br></font>  <font color="black">text = text.replace (hackExp, <font color="#A31515">‚ÄúHACK:‚Äû</font> );</font> <font color="black"><br></font>  <font color="black">newItem-&gt; setIcon (QIcon ( <font color="#A31515">‚Äú: / info‚Äù</font> ));</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black">newItem-&gt; setText (text.trimmed () + <font color="#A31515">"("</font> + tr ( <font color="#A31515">"line‚Äû</font> ) + QString :: number (rowNumber) + <font color="#A31515">‚Äú)"</font> );</font>  <font color="black"><font color="#008000">// Set the post text</font></font> <font color="black"><br></font>  <font color="black">newItem-&gt; setToolTip (file + <font color="#A31515">":"</font> + QString :: number (rowNumber));</font>  <font color="black"><font color="#008000">// The tooltip will store the file name and line number, it's not just that, I will tell you why below.</font></font> <font color="black"><br></font>  <font color="black">todoList-&gt; addItem (newItem);</font>  <font color="black"><font color="#008000">// Add an entry to the list</font></font> <font color="black"><br></font>  <font color="black">}</font> <br><br>  <font color="gray">* This source code was highlighted with <a href="http://virtser.net/blog/post/source-code-highlighter.aspx"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br><br><h4>  Go to the desired line by clicking on the record </h4><br>  The only thing left for us to do is implement the transition to the desired line. <br>  This will require another slot, which will be executed when the selected list item: <br><blockquote>  <font color="black"><font color="#0000ff">void</font> TodoPlugin :: gotoToRowInFile (QListWidgetItem * item)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">int</font> row = 0;</font>  <font color="black"><font color="#008000">// Line number</font></font> <font color="black"><br></font>  <font color="black">QString file = <font color="#A31515">""</font> ;</font>  <font color="black"><font color="#008000">//File name</font></font> <font color="black"><br><br></font>  <font color="black"><font color="#008000">/ * Get the information from the tooltip * /</font></font> <font color="black"><br></font>  <font color="black">QStringList tmpList = item-&gt; toolTip (). Split ( <font color="#A31515">":"</font> );</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (tmpList.size () == 2)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">file = tmpList.at (0);</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">bool</font> ok;</font> <font color="black"><br></font>  <font color="black">row = tmpList.at (1) .toInt (&amp; ok);</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (! ok)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">row = 0;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (QFileInfo (file) .exists ()) <font color="#008000">// Check if the file exists.</font></font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">TextEditor :: BaseTextEditor :: openEditorAt (file, row);</font>  <font color="black"><font color="#008000">// Forcibly show the file by setting the cursor in the row number row.</font></font>  <font color="black"><font color="#008000">In order for this line to work, you must specify the TextEditor plugin in the dependencies, and add the appropriate header</font></font> <font color="black"><br></font>  <font color="black">Core :: EditorManager :: instance () -&gt; ensureEditorManagerVisible ();</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <br><br>  <font color="gray">* This source code was highlighted with <a href="http://virtser.net/blog/post/source-code-highlighter.aspx"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br><br><h4>  Conclusion </h4><br>  Well, that's all, the plugin is ready, thanks for reading. <br>  You can download the plugin <a title="TODO Plugin" href="http://gitorious.org/qt-creator-todo-plugin">from here</a> . </div><p>Source: <a href="https://habr.com/ru/post/101311/">https://habr.com/ru/post/101311/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../101304/index.html">Vertical scroll with Javascript</a></li>
<li><a href="../101305/index.html">Ironic illustrated HTML5 video tutorial</a></li>
<li><a href="../101307/index.html">Youtube has opened for Russian advertisers</a></li>
<li><a href="../101308/index.html">The future of bynet in questions and answers</a></li>
<li><a href="../101310/index.html">Strange innovation from MegaFon</a></li>
<li><a href="../101312/index.html">"Internet generation" was not the same as it was represented</a></li>
<li><a href="../101313/index.html">About wireless Internet in Moscow airports</a></li>
<li><a href="../101315/index.html">The agreement of television companies on the main trends of the television industry</a></li>
<li><a href="../101316/index.html">GTD Chart</a></li>
<li><a href="../101318/index.html">Google bought drones for filming</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>