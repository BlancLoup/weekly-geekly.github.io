<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Workflow automation for a small development team (Part 1)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Practically in all places of my work as a programmer for development, only two products were used: bug tracking and version control system. Most often...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Workflow automation for a small development team (Part 1)</h1><div class="post__text post__text-html js-mediator-article">  Practically in all places of my work as a programmer for development, only two products were used: bug tracking and version control system.  Most often these were Atlassian Jira and SVN.  In principle, the presence of these two systems finely organizes the communication of all participants in the development process and positively affects the quality of the department and product. <br><br>  About 4 years ago I was morally, and then I actually grew to the level of a Timlide.  Views have become wider and higher current processes.  Different thoughts about motivation, optimization, automation and other things began to come to mind.  In this article, I would like to share experience from the category of technical competence of a tmlid: how to automate daily processes (for example, automatic product assembly, putting out, documenting, rights management, etc., etc.). <br><br>  After the third page of the text of my article, I decided to divide it into 2 blocks: <br><ul><li>  Setting up the software that accompanies the development process. </li><li>  <a href="http://habrahabr.ru/post/270321/">Description Workflow</a> . </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  So.  Software setting accompanying the development process </h2><br><img src="https://habrastorage.org/files/e86/a2c/629/e86a2c6291be41119012942c1188aec2.png"><br><a name="habracut"></a><br><h3>  Crowd and Jira </h3><br>  The first was Crowd - account manager.  I crossed and synchronized it with Jira.  Crowd sucked all the groups and all the users of Jira.  In Jira, I did read / write work with the Crowd directory (since it is more convenient to add a new user through Jira than through Crowd). <br>  In Jira, all users are divided into groups: <br><br><ul><li>  jira-users. <br>  Mandatory group for all users. </li><li>  jira-developers <br>  A group for programmers, testers, analysts, techs.  In general, for those who are directly involved in the development. </li><li>  project1-users <br>  Everyone who is related to the project project1.  Customer, leadership (to monitor the process), the whole project team. </li><li>  project1-developers. <br>  Only the developers of this project. </li></ul><br>  In each project, Jira allows you to configure 3 roles.  I brought the project1-users group to the USERS role, brought project1-developers to the DEVELOPERS role, and brought the PM (project manager) to the ADMINISTRATORS role. <br><br>  In short, users in a group can only create puzzles and watch them, developers can edit and solve them, and administrators manage versions, components, can delete or edit someone else's comments or tasks. <br><br><h3>  Confluence </h3><br>  I consider this product the most successful among all kinds of knowledge bases.  After reading a lot of articles and comparing different systems, I came to the conclusion that Confluence among them is the undisputed leader. <br><br>  In it I created different Spaces: <br><br><ul><li>  Org questions. <br>  General information on the work of the enterprise (FTP storage options, Wi-Fi, rules for overtime payment, accounting for vacation pay, employee contacts, corporate discussions, instructions on how to connect a printer, etc., etc.) </li><li>  Development and administration. <br>  Technical information to help the development team (code design rules, putting it out, commenting, all sorts of nuances in server administration, the use of ornate programming language constructs).  All the experience of what came across, butting and winning for a long time. </li><li>  Space for each project. <br>  All that in the previous group is only related to this project (nuances of crutches, useful sql queries), user history, productions, incoming data (designs, logos, icons, access parameters), outgoing data (readme, instructions, release notes), test plans , description of mechanisms, modules, etc.  etc. </li></ul><br>  The most important and pleasant thing is that Confluence is able to beautifully export stand-alone HTML pages in any of its articles. <br><br>  All our help is stored in Confluence in the form of a hierarchical structure of articles.  At the end of the version with one click you get a pack of HTML files that link to each other.  We simply copy all this pleasure into the project and release it.  And because we have help page by page (and not all in one huge file), easily maintained and always available online for the whole team (and not somewhere in someone in some folder). <br><br>  Each Jira project and space confluence are connected.  In the article with the statement there is a link to the problem and vice versa. <br><br><h3>  Bitbucket </h3><br>  For the storage of sources, we historically used SVN.  The influence of new technologies did not pass by, and of course the choice fell on git (best practices in any way). <br><br>  Since I am a programmer and not a sysadmin, I didn‚Äôt master the installation of a pure guitar.  So I took the finished GitBlit package ... but soon I was disappointed in it.  As a result, all transferred to GitLab. <br><br>  The year of work and 12 simultaneous projects made themselves felt.  The server began to sag under the weight of Ruby.  In addition, very weak compatibility with Atlassian products has affected. <br><br>  At that time I noticed Stash.  In its pure form under Linux, I, unfortunately, did not find it, for which I installed it as part of Bitbucket.  And rushed! <br><br>  Created projects and repository in each.  He gave full rights to each PM to his project (now he can create repositories in his project as much as he wants).  In the repository, the master branch issued only the rights of the lead and, by default, set the dev branch. <br><br>  Crossed Bitbucket with Jira and now in each task there is a list of all commites on the task.  And from komitov can go on puzzles. <br><br><h3>  Fisheye and crucible </h3><br>  I read somewhere that Crucible can be built into Stash.  But after studying in detail the already configured Bitbucket, I did not find anything like it.  And since CodeReview is a mandatory step in our Workflow, we had to install Fisheye.  Really very convenient thing, but having Bitbucket, you could do without it. <br><br>  When we had GitLab, adding repositories to Fisheye was really moro ... A bunch of settings, key generation, left users ... With Bitbucket, everything went smoothly.  Crossed Fisheye and Bitbucket and in Fisheye a list of all repositories with the ‚Äúadd‚Äù button appeared. <br><br>  He created projects, indicated development teams in them, those in Jira for these projects, indicated a repository and crossed each one with his project in Jira.  In Jira, on the contrary, in each project I pointed out links to Fisheye and Crucible and the path to the repository. <br><br>  Now in each task there are task commites not only from Bitbucket, but also from Fisheye.  Beztolkovo, of course ... but nothing terrible.  But in every task you can now immediately see Review and its status! <br><br><h3>  Jenkins </h3><br>  That seems to be all, but no!  It is necessary this all economy as it is automated to collect.  I wanted to screw Bamboo for a very long time, but it looks flawed compared to Jenkins.  In Jenkins, I was able to customize the auto-assembly of everything else with mother of pearl buttons.  In Bamboo, it's not like that.  The community is weak, there are few plug-ins, you can only steer by executing console commands.  I will not list the shortcomings.  In the beginning I set up a Delphi project assembly, but then switched to the web and the assemblies became simple - I pulled it out, I uploaded it to ftp, I noted it in Jira and I sent the letters.  I'll think, maybe let's move to Bamboo. <br><br>  So crossing Jenkins with no one did not.  It seems like there is no need.  No one is interested in the problem how many times she was going.  The only thing is that it was in the Jenkins itself that it installed the Jira plugin so that when the task is assembled, it automatically moves to another WorkFlow step. <br><br>  And it is important that all the above products must be configured on Crowd.  Unified accounting in all these systems is really convenient.  When hiring a new member of a team, it is enough just to enter it in Jira and indicate its group project and he has access to everything.  Similarly, with the dismissal.  In one place turned off and there is no access anywhere. <br><br><h3>  Sysadmin corner </h3><br>  The server we have is Xeon X3430 4CPUs x 2.4 Ghz, 8 GB, 1TB <br><br>  At the beginning, I raised Windows Server and on it all these products immediately + Ubuntu for GitLab.  The server did not master, once every two hours I just hung for 10 minutes. <br>  After that, I decided to separate by different virtuals.  Here's what happened: <br><br>  Gateway - to access the Internet (4 cores, 4GB of RAM) - I already got this virtual machine from the admin who initially configured this server. <br>  Jira - 2 cores, 2GB of RAM <br>  Confluence - 2 cores, 2GB of RAM <br>  Bitbucket &amp; Jenkins - 2 cores, 2GB of RAM <br>  Crowd &amp; FishEye &amp; FTP - 2 cores, 2GB of RAM <br>  All virtuals on Linux Debian 8.2 <br><br>  Now all these products fly, and there are no freezes, as before. <br><br>  On the Gateway virtual, I forward two ports so that Jira and Confluence are accessible from the outside.  Thinking about still forwarding the port to access Git.  But to make it more sekurno, only ssh access. <br><br><h3>  Results </h3><br>  That server and all the necessary products for the full automation of workflow development.  In the next part, I will try to describe in detail how these all products interact daily in the development process. <br><br>  <b>PS</b> I considered it unnecessary to describe the detailed configuration of each Atlassian product due to the fact that the article would become very long and complicated.  If a respected community has a desire to get acquainted with my experience, I will be happy to describe these nuances of settings. </div><p>Source: <a href="https://habr.com/ru/post/270299/">https://habr.com/ru/post/270299/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../270289/index.html">Java Gauss Method</a></li>
<li><a href="../270291/index.html">About Swift, and why my big projects will be on Objective-C for some (maybe long) time</a></li>
<li><a href="../270293/index.html">We create an interactive vector scheme of the Moscow metro</a></li>
<li><a href="../270295/index.html">Security Week 45: escape from the sandbox, bypassing EMET through WOW64, breaking into 000webhost</a></li>
<li><a href="../270297/index.html">DDoS from an unexpected direction or ‚Äúare PS bots afraid?‚Äù</a></li>
<li><a href="../270301/index.html">Grow Big: Simple Tips for New Business Application Makers</a></li>
<li><a href="../270307/index.html">A cryptographic program encrypts user files offline.</a></li>
<li><a href="../270309/index.html">Creating a plugin for Intellij IDEA. Notes and small tips</a></li>
<li><a href="../270311/index.html">Utility for the developer</a></li>
<li><a href="../270313/index.html">Project Cenntenial</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>