<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Twelve simple initial steps to developing a module for Node.js</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=""The beginning is more than half of everything." 

 This is a very ancient GTD principle: its age is probably thousands of years old. (For example, Wi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Twelve simple initial steps to developing a module for Node.js</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/101/328/cf0/101328cf0c1248b20ec5b675fc43a677.jpg" width="200" alt="[Aristotle]" align="right">  <b>"The beginning is more than half of everything."</b> <br><br>  This is a very ancient <abbr title="Getting Things Done">GTD</abbr> principle: its age is probably thousands of years old.  (For example, Wikiquote <a href="https://ru.wikiquote.org/w/index.php%3Foldid%3D244331">currently</a> attributes it to Aristotle, although without confirming the source.) Its essence is that starting <nobr>a project</nobr> can be very difficult (and even have to force yourself) from a clean slate;  but if there are several simple initial steps, the implementation of which leads to the appearance of a partially finished project, then it becomes much easier to continue working on it ‚Äúby inertia‚Äù - as easy as if the project was already not only started, but even more ready. than half.  And besides, when you know in advance what the initial steps should be, then it is difficult to make a mistake in making them. <br><br>  I happened to write more than a dozen modules for Node.js with open source and publish them as packages npm.  The more modules I did, the more I understood (including through trial and error) that the initial steps for their creation can be the same and can even be performed in the same order.  Today, I publish this procedure in the hope that it will help in the work of programmers who write their own JavaScript code for the Node engine. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Pay attention to the fact that each of these steps is quite simple and logical. <br><a name="habracut"></a><br><h3>  Step 1. Coming up with the npm package name and the repository </h3><br>  Without a name, nothing happens.  Without having a name for your project, you will not be able to create for it either a repository on GitHub, or the npm package. <br><br>  Make sure in advance that the npm package name is not yet taken.  (Here is an example: if in the fall you decide to call your package ‚Äúautumn‚Äù <nobr>or ‚Äúfall‚Äù,</nobr> then visit the addresses <a href="https://www.npmjs.org/package/autumn">https://www.npmjs.org/package/autumn</a> <nobr>and</nobr> <a href="https://www.npmjs.org/package/fall">https://www.npmjs.org/package/fall</a> without labor will convince you that npm packages with such names already exist.) <br><br>  If the name of your package npm <nobr>is a</nobr> simple word or a well-known technical term, then consider whether to add <nobr>the ‚Äúnode-‚Äù prefix</nobr> to it in order to get the name of the repository.  (For example, the code for the <a href="https://www.npmjs.org/package/sqlite3">sqlite3</a> package is stored in the <a href="https://github.com/mapbox/node-sqlite3">node-sqlite3 repository</a> , and the code for the <a href="https://www.npmjs.org/package/open">open</a> package is stored in the <a href="https://github.com/jjrdn/node-open">node-open</a> repository.) This addition is made for the convenience of programmers working on projects of the same name in other programming languages.  (For example, if <nobr>someone</nobr> already has a project called ‚Äúopen‚Äù on Rust, Ruby, or Python, then he will still be able to fork the <nobr>‚Äúnode-open‚Äù</nobr> repository and not experience the consequences of a name conflict.) <br><br>  Is the short name of your package npm or long?  If it is short, then it is easier to manually type it (for example, on the command line after <nobr>‚Äú</nobr> <b>npm install</b> ‚Äù), and if it is long, then it will be copied (this action is more error-free, but longer - and therefore is perceived as less convenient).  Also note that the <a href="https://nodei.co/">nodei.co</a> site provides such histograms with statistics on downloads of the npm package, the width of which depends on the length of the package name (so that the whole name can fit on the histogram).  Here are two examples: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/868/ece/ee6/868eceee623da3c1bacd792decf19e67.png" alt="[histogram ‚Ññ1: uue]"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/261/b5b/f3b/261b5bf3b9fe1e77b8f02d0128e7ac4a.png" alt="[histogram number 2: fidonet-jam]"><br><br>  For modules endowed with too long names, an increase in the width of such a histogram may cause (and will cause, will certainly cause!) The need to place statistics on a separate line, rather than to the right or left <nobr>of some</nobr> other picture, when you start preparing summary information about your module. - even as simple as the README on Github. <br><br><h3>  Step 2. Coming up with a brief description. </h3><br>  A brief description is useful when creating a project on Gitkhab, and later (for example, when filling in the <b>description</b> field in the <b>package.json</b> file). <br><br>  It is best to place there just one short sentence with a description of what your module does.  It will facilitate searchable search and accompany the name of the package or repository on many hyperlinked sites.  If you make the description too long, it will not fit <a href="http://habrahabr.ru/post/210996/">on the card on Twitter</a> (and on other sites that cut descriptions in length);  besides, even if it fits, then at a quick reading of the lists, the public will still not finish reading it to the end. <br><br><h3>  Step 3. Creating a repository on Github with an automatically filled <nobr>README file.</nobr> </h3><br>  As a rule, Node module repositories are created on GitHub;  I came across exceptions to this rule, but rarely.  Therefore, I will begin to present all the steps here with reference to the use of GitHub and Git, and for readers from among users of other DVCS <nobr>and (or) other</nobr> open source hosting companies, I offer to adapt these steps for themselves: this is not a tricky thing. <br><br>  On the page <a href="https://github.com/new">https://github.com/new</a> offer to fill in the name and description of the repository (you could come up with both in the two previous steps), and also automatically create a <b>README</b> file (project description), a <nobr>file with the</nobr> <b>license</b> <nobr>text</nobr> (to designate how much your code is open) and the <b>.gitignore</b> file (so you don‚Äôt download any extra temporary, auxiliary, junk files into the repository). <br><br>  When there is at least one file in the repository on Github from the very beginning, you can simply clone the repository (for example, with the <nobr>‚Äú</nobr> <b>git clone</b> ‚Äù command) - it is faster and simpler (approximately one and a half or even twice) than initializing the local repository first ( for example, with the <nobr>‚Äú</nobr> <b>git init</b> ‚Äù command), and then in the settings with the hands, prescribe the address of the gitkhabovsky repository <nobr>as</nobr> <b>origin</b> . <br><br>  But a license file auto-created by Github often has to be edited by itself (for example, instead of a gitkhabovsky login, you must specify your full name or organization name), and you can also wish to add <nobr>something</nobr> to the auto- <b>created .gitignore</b> according to your idea of ‚Äã‚Äãwhich files in repositories are not needed.  Therefore, if you are not creating the first Node module in your life, then it‚Äôs best to limit yourself to auto-creating the README file alone, but to copy the license <nobr>and</nobr> <b>.gitignore</b> from one of your previous modules as a finished file.  Doing them again (albeit not from scratch, but from the results of the GitHab <nobr>autogeneration) is</nobr> <nobr>both a</nobr> <a href="http://traditio-ru.org/wiki/%25D0%259C%25D1%2583%25D0%25B4%25D0%25B0">muda</a> <nobr>ÔºàÁÑ° ÈßÑ „ÄÅ</nobr> extra work) and a vain clutter with the history of edits. <br><br>  After creating the repository on Gitkhab, do not forget to make all those changes in the repository settings that you consider necessary for it.  For example, if there is not enough time and therefore there is no time to keep an eye on the wiki, then you can disable wiki support in the repository.  And if, for example, you are used to seeing in the Starred list (in the list of repositories marked with stars) not only some other repositories, but all of your repositories, then you can immediately put the newly created repository to its first star. <br><br><h3>  Step 4. Adding a text file with the license </h3><br>  With this step, it is best not to delay: the sooner you make it clear under which license all subsequent edits apply, the better. <br><br>  As I said in the previous step, if you are not creating the first Node module in your life, you can copy the <b>LICENSE</b> <nobr>file</nobr> from another module, correct the year in the text if necessary - and you can commit. <br><br>  If, for the first time, you decide on which license to distribute your open source code, you can follow the example of the community (and in the Node.js community, as far as I can tell, the MIT license is the most popular, although there are exceptions to this rule ), or consult the website <a href="http://choosealicense.com/">choosealicense.com</a> , or both together. <br><br><h3>  Step 5. Add the <b>.gitignore</b> <nobr>and</nobr> <b>.npmignore files</b> . </h3><br>  As you know, the <b>.gitignore</b> file lists the names of those files and directories that should not go into the Git repository, because they would only clutter it in vain.  These include, as a rule, project archives and distributions, logs, databases, operating system auxiliary files (for example, repositories of thumbnails of images contained in a subdirectory). <br><br>  When developing a project in which one or several Node modules are used as dependencies, it is quite appropriate to add the <b>node_modules</b> directory name to the <nobr><b>.gitignore file</b> ,</nobr> because the correspondence between the version and the contents of the npm package is one-to-one ‚Äî therefore, it is enough to store only the file in your Git repository <b>Package.json</b> (which lists the names and versions of dependencies), but not the necessary modules themselves. <br><br>  (To broaden my horizons, I will mention that Mikeal Rogers <a href="http://www.futurealoof.com/posts/nodemodules-in-git.html">made</a> and actively promoted the very opposite recommendation. But this happened <nobr><b>before</b></nobr> in 2014 the correspondence between the version and the contents of the npm package became <nobr><a href="http://blog.npmjs.org/post/77758351673/no-more-npm-publish-f">unambiguous</a> .)</nobr> <br><br>  Also in the <b>.gitignore</b> file, <b>it</b> is useful to add the name of the report <nobr><b>npm-debug.log</b> , which</nobr> appears if <nobr>any</nobr> error occurred while working with the npm packages. <br><br>  As a result, the <b>.gitignore</b> file <b>takes</b> on <nobr>this</nobr> form: <br><br><div class="spoiler">  <b class="spoiler_title">.gitignore</b> <div class="spoiler_text"><pre><code class="hljs css"># ,  *<span class="hljs-selector-class"><span class="hljs-selector-class">.7z</span></span> *<span class="hljs-selector-class"><span class="hljs-selector-class">.dmg</span></span> *<span class="hljs-selector-class"><span class="hljs-selector-class">.gz</span></span> *<span class="hljs-selector-class"><span class="hljs-selector-class">.iso</span></span> *<span class="hljs-selector-class"><span class="hljs-selector-class">.jar</span></span> *<span class="hljs-selector-class"><span class="hljs-selector-class">.rar</span></span> *<span class="hljs-selector-class"><span class="hljs-selector-class">.tar</span></span> *<span class="hljs-selector-class"><span class="hljs-selector-class">.zip</span></span> #  ,  *<span class="hljs-selector-class"><span class="hljs-selector-class">.log</span></span> *<span class="hljs-selector-class"><span class="hljs-selector-class">.sql</span></span> *<span class="hljs-selector-class"><span class="hljs-selector-class">.sqlite</span></span> #    <span class="hljs-selector-tag"><span class="hljs-selector-tag">Thumbs</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.db</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Desktop</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.ini</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.DS_Store</span></span>* <span class="hljs-selector-tag"><span class="hljs-selector-tag">ehthumbs</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.db</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Icon</span></span>? #  <span class="hljs-selector-tag"><span class="hljs-selector-tag">Node</span></span>,  <span class="hljs-selector-tag"><span class="hljs-selector-tag">npm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">node_modules</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">npm-debug</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.log</span></span></code> </pre> </div></div><br>  The <b>.npmignore</b> file <b>is</b> approximately the same as the <nobr><b>.gitignore</b></nobr> file <nobr>‚Äî</nobr> but it lists the names of those files and subdirectories that should not be included <nobr>in the npm package of</nobr> your module. <br><br>  I recommend copying the entire contents of your <nobr><b>.gitignore into .npmignore</b> ,</nobr> and then adding to it the name of the <b>test</b> subdirectory or another such place where you are going to store your module tests.  Tests are extremely useful in development, so it is quite appropriate <nobr>in the Git repository -</nobr> but downloading and storing tests would be an extra burden for the end users of your module, and it‚Äôs one of the majority of users of the <nobr>npm package.</nobr> <br><br>  As a rule, starting work on a new Node module, you can copy the <b>.gitignore</b> <nobr>and <b>.npmignore files</b></nobr> in an unchanged form from one of your previous modules (unless you are creating the first Node module in your life).  It is necessary to correct them in rare cases, but you need to know that such cases are.  (In particular, if <nobr>any</nobr> module deals <nobr>with ZIP archives,</nobr> then the line <nobr>" <b>* .zip</b> "</nobr> from the <b>.gitignore</b> file <b>will</b> inevitably have to be removed at least in order to place one or several test cases in the repository - and such a need arose me when developing a <a href="https://github.com/Mithgol/node-fidonet-nodelist">module for reading fidonet nowallists</a> , for example.) <br><br><h3>  Step 6. Description of the module in README.md, mention of the license and incompleteness of development. </h3><br>  I remind you that in the third step, a <b>README</b> file was automatically created, consisting only of the name and a brief description of the module. <br><br>  Now this description can be replenished a little by talking about the goals and objectives of the project.  In addition, in a separate description section, it is appropriate to mention the type of license (for example, MIT or BSD) and the name of the file (usually <nobr><b>LICENSE</b> ),</nobr> which contains the full text of the license. <br><br>  In order for readers to learn about the module‚Äôs capabilities at this stage not to cause disappointment (and even better, so that such attempts have not yet taken place at all), it is useful to immediately post a warning mention that the module‚Äôs development is not only not completed, but early stage. <br><br>  After this replenishment, the README file is suitable as an initial description of the original version of the <nobr>npm package.</nobr> <br><br>  However, if you happen to mention the planned package name in the README, then do not rush to put the results of this step in the repository (for example, with the <nobr>git-</nobr> <nobr><b>commit</b></nobr> <nobr>command</nobr> <nobr>),</nobr> and even less so do not rush to publish them (for example, with the <nobr>git-</nobr> <nobr><b>push</b></nobr> <nobr>command</nobr> <nobr>)</nobr> on GitHub .  The fact is that if the initial registration of the package with the planned name (namely, we will deal with it in the next step) fails, then another name will have to be entered into the README (and it will be better if it does not lead to an unpleasant choice between clogging );  publication on Github (if it precedes publication in npm) is capable of alerting not only <nobr>some</nobr> cybersquatters (who wish to stake out the specified package name before you), but also ordinary users (who will try the ‚Äúnpm install <nobr>package-name‚Äù</nobr> and wonder why it doesn't work as it should). <br><br>  In general, I recommend considering that at this step it would be a bit early to mention the planned package name in the README. <br><br><h3>  Step 7. Writing <b>package.json</b> and registering the very initial version of the npm package. </h3><br>  The ultimate goal of this step is to register the <nobr>npm-package</nobr> under the previously conceived name in order to stake out this name. <br><br>  This step has to be <b>started by</b> creating the <b>package.json</b> file and filling in at once several fields of the object inside it.  In this case, you must simultaneously comply with <a href="http://json.org/">the JSON format</a> and the description of the meaning of the fields, which is given <nobr><a href="">on the npm website</a> .</nobr> <br><br>  There is a ‚Äú <b>npm init</b> ‚Äù command that asks you questions about the module and fills <b>package.json</b> in accordance with the answers.  However, I prefer to fill in <b>package.json</b> in a text editor ‚Äî it allows you to view all the JSON code in its pure form (not diluted with questions) and, moreover, it gives you an easy way to go back a couple of lines above to correct or change <nobr>something</nobr> as needed. <br><br>  In fact, the documentation <nobr><a href="">on the npm site</a></nobr> should be enough for everyone;  but I will not restrain myself and on Habrahabr I will briefly touch on the meaning of the main fields that are placed <nobr>in <b>package.json</b></nobr> . <br><br>  The value for the ‚Äú <b>name</b> ‚Äù field indicates the desired npm package name.  You could think of it earlier (in the first step). <br><br>  The value for the ‚Äú <b>version</b> ‚Äù field indicates the version of the package in accordance with the <a href="http://semver.org/">Semantic Versioning</a> standard.  To register the very initial version, I recommend <nobr>" <b>" 0.0.1 "</b> ".</nobr> <br><br>  The value for the ‚Äú <b>description</b> ‚Äù field is a brief description of the package.  You could come up with it earlier (in the second step). <br><br>  The value for the ‚Äú <b>keywords</b> ‚Äù field indicates the array of keywords by which the package can be found in the search on the npm site.  Anyone who <nobr>has ever</nobr> listed tags under the text of the blog on Habrahabr, will easily cope with this task. <br><br>  The value for the ‚Äú <b>license</b> ‚Äù field indicates the identifier string that conforms to the <a href="https://spdx.org/licenses/">SPDX ID</a> standard and means the license that you selected for your code earlier (in the fourth step). <br><br>  The value for the ‚Äú <b>author</b> ‚Äù field indicates the string (or object) with the name of the author of the package (as well as, perhaps, with contact information).  Point yourself out there. <br><br>  The value for the ‚Äú <b>repository</b> ‚Äù field indicates the object containing the type and address of the repository. <br><br>  The value for the field ‚Äú <b>main</b> ‚Äù indicates the path to the main file of the module code (this is the same file that will be called from <nobr>‚Äú <b>require (</b> moduleName <b>)</b> ‚Äù</nobr> from Node if <b>you</b> specify the name of the module instead of <b>moduleName</b> ). <br><br>  If a module is meant as a command-line utility, then the module will <nobr><b>prefer the preferGlobal</b></nobr> property with a value of <nobr>‚Äú <b>true</b> ‚Äù</nobr> (which would recommend a global installation of the module) and <nobr>the <b>bin</b></nobr> property with a value like <nobr>‚Äú <b>" ./ moduleName.js "</b> ",</nobr> containing the path to some javascript (to the one that will be launched upon a command that matches the module name).  The line <nobr>‚Äú <b>#! / Usr / bin / env node</b> ‚Äù</nobr> should be the first in such a javascript, because npm expects to see it there (even if the installation and the subsequent operation of the module is done under Windows). <br><br>  The module code in this step may be the simplest ‚Äî for example, contain <nobr>some</nobr> <nobr>‚Äú <b>hello world</b> ‚Äù</nobr> or even <nobr><b>‚Äúuse strict</b> ‚Äù.</nobr> <br><br>  It is appropriate to place the phrase ‚Äúpackage is registered‚Äù (or ‚Äúpackage published‚Äù) in the description of the commit and make this commit only after the <nobr>‚Äú <b>npm publish</b> ‚Äù</nobr> command is successful (if it turns out).  Thus, a commit will not be premature (submitting the <nobr>‚Äú <b>npm publish</b> ‚Äù</nobr> command may reveal one or several simple errors, the correction of which would only in vain litter the editing history). <br><br><h3>  Step 8. Explaining the installation in README.md </h3><br>  During this step, it is appropriate to place explanations in the README.md file, informing future users of the meaning of two commands: <br><br><ul><li>  <b>npm install PackName</b> is the command that installs the <nobr>npm package</nobr> <nobr>from the npm repository,</nobr> <br></li><li>  <b>npm install https://github.com/username/repository/tarball/master</b> is the command that installs the module <nobr>from the master branch of the</nobr> <nobr>githabov repository.</nobr> </li></ul><br>  It is also useful to explain to future users the difference between the results of the one and the other team - for example, to tell about the decision taken earlier (in the fifth step) to store the tests only on Github, and not in npm (so as not to increase the size of the <nobr>npm package).</nobr> <br><br>  You can also tell that the latest version of the README.md file will only be on the GitHub (unless you plan to create and publish the next new version of your <nobr>npm-package</nobr> not only after changes in the code, but also after changes in the README). <br><br>  During the same step, you can also get the appropriate code of informative statistical counters and histograms indicating the number of dependencies and module installations on the <nobr><a href="https://nodei.co/">nodei.co</a></nobr> site and also place them in the README.md file. <br><br><h3>  Step 9. Getting started on the main module code </h3><br>  At this stage, the germ of a module (that is, <nobr>some kind of</nobr> <nobr>‚Äú <b>hello world</b> ‚Äù</nobr> or even <nobr><b>‚Äúuse strict‚Äù</b> ) is</nobr> slowly transformed into code that does something rational, which means that it contains one or several functions (or object methods, or utility commands). <br><br>  As all of the features of the source code are generated, it should be carefully documented in the README.md so that the code itself does not remain the only documentation for the open source code. <br><br>  In addition, as soon as the source code reaches this stage, it will immediately become good to cover it with tests that verify the correctness of the code and its behavior.  This is the next step. <br><br><h3>  Step 10. Facilitate testing and explain it. </h3><br>  At this step, it is necessary to put in README.md clear information on how to install and how to use the means of testing the correctness of writing source code (for example, JSHint) and its behavior (for example, Mocha). <br><br>  At this stage, configuration files for test tools (for example, <nobr><b>.jshintrc</b></nobr> for JSHint) are also added to the repository. <br><br>  In the object inside the <nobr><b>package.json</b></nobr> file, the <nobr><b>scripts.test</b></nobr> field is <nobr><b>filled</b></nobr> (and if there are two or three testing tools, then the <nobr><b>scripts.pretest</b></nobr> fields <nobr>and <b>scripts.posttest are also filled in</b> ).</nobr> <br><br>  Example: <br><br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: { <span class="hljs-string"><span class="hljs-string">"pretest"</span></span>: <span class="hljs-string"><span class="hljs-string">"jshint .js test/"</span></span>, <span class="hljs-string"><span class="hljs-string">"test"</span></span>: <span class="hljs-string"><span class="hljs-string">"mocha --reporter spec --timeout 60s"</span></span> }</code> </pre><br>  Starting from this step, before each commit it is advisable to make sure that the <nobr><b>npm test</b></nobr> command passes without errors.  (To make the work of this team more meaningful, when using Mocha, at least one test should also be written and placed in the <nobr><b>test /</b></nobr> subdirectory <nobr>.)</nobr> <br><br><h3>  Step 11. Configuring Travis CI </h3><br>  <a href="http://travis-ci.org/">Travis CI</a> is a service that provides a free open source testing service: after each commit, it is able to automatically download code from GitHub and run tests in various environments to see if the code works well. <br><br>  It would be nice to prepare for the initial use of Travis CI, that is, <a href="http://docs.travis-ci.com/">read the documentation</a> and be registered. <br><br>  Connecting a new javascript module is much simpler and consists of two simple steps. <br><br>  First, you must go to <a href="https://travis-ci.org/profile/">https://travis-ci.org/profile/</a> in your user profile.  There will appear switches, each of which corresponds to one of the repositories on GitHub;  It looks something <nobr>like this:</nobr> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/489/6cf/062/4896cf0624be89081f4be378cd5a7ab4.png" alt="[screenshot]"><br><br>  The switch corresponding to the new module should be pulled to the on position. <br><br>  Secondly, right after this, you need to commit the .travis.yml file to the root of the repository.  This file describes the environment required to run the tests.  You can read more about it in the Travis documentation, but its usual content is pretty simple and looks <nobr>something like this:</nobr> <br><br><pre> <code class="hljs sql">language: node_js node_js: - "0.10" - "0.12" - iojs before_install: - "npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> -g npm<span class="hljs-string"><span class="hljs-string">" - "</span></span>npm config <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> spin <span class="hljs-literal"><span class="hljs-literal">false</span></span><span class="hljs-string"><span class="hljs-string">" before_script: - "</span></span>npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> jshint<span class="hljs-string"><span class="hljs-string">" - "</span></span>npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> mocha<span class="hljs-string"><span class="hljs-string">"</span></span></code> </pre><br>  In the ‚Äú <b>language</b> ‚Äù section, you can see the ‚Äúlanguage‚Äù (more precisely, engine) Node indication, and in the <nobr>‚Äú <b>node_js</b> ‚Äù</nobr> section <nobr>- the</nobr> enumeration of versions, in each of which the module will be tested. <br><br>  In the " <b>before_install</b> " section, <b>there</b> are commands that update <b>npm</b> to the latest stable version, as well as turn off the spinning cursor animation (which is still not displayed in the Travis CI logs, so there is nothing to waste time on it). <br><br>  The ‚Äú <b>before_script</b> ‚Äù section lists commands that install test tools (in this example, JSHint and Mocha). <br><br><h3>  Step 12. Adding the Travis CI indicator <nobr>to the</nobr> <b>README.md</b> . </h3><br>  Travis CI <a href="http://docs.travis-ci.com/user/status-images/">provides the</a> URL of the image that can be placed once in the README on the GitHub and then every time there to see if the results of the last commit passed successfully on the Travis CI. <br><br>  The server <a href="http://shields.io/">shields.io</a> provides the opportunity to get a slightly different form of this image - for example, change the volume, or rounding of the edges, or part of the inscription. <br><br><h3>  Generalization method </h3><br>  Here ends a list of simple initial steps of developing a module <nobr>for Node.js.</nobr> <br><br>  Clearly, I hope that such a method (that is, the ability to give yourself an initial impetus by starting work by reproducing previously prepared steps) is suitable not only for the development of modules for Node. <br><br>  I will give an example.  In the article about <a href="http://habrahabr.ru/post/240977/">developer paralysis</a> (which <a href="http://habrahabr.ru/users/perseptronyar/" class="user_link">PerseptronYar</a> translated), you could see on Habrahabr the story that every modern <a href="http://habrahabr.ru/users/perseptronyar/" class="user_link">website builder</a> , when starting work, immediately faces the pressing need to make an unobvious choice between various possibilities of approximately equal attractiveness like <a href="https://ru.wikipedia.org/wiki/%25D0%2591%25D1%2583%25D1%2580%25D0%25B8%25D0%25B4%25D0%25B0%25D0%25BD%25D0%25BE%25D0%25B2_%25D0%25BE%25D1%2581%25D1%2591%25D0%25BB">Buridan donkey</a> : <twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="517616294909464576"></twitter-widget><script async="" src="//platform.twitter.com/widgets.js" charset="utf-8"></script>  You can, however, greatly simplify your life in the future, if you can not only make such a choice once, but in the future simply stick to it.  To do this, it is enough to fix in writing the choice made at each such step, write all these steps in their finished form (that is, for example, not ‚Äúselect the CSS framework‚Äù, but ‚Äúinstall Bootstrap‚Äù if you chose Bootstrap), and then follow at the beginning of each new project, unless there is a reason to deliberately try <nobr>something</nobr> new in between projects (well, for example, you can <a href="https://www.reindex.io/blog/you-might-not-need-underscore/">refuse</a> Underscore.js in favor of the newest features of JavaScript, when a gradual transition of readers to new browsers will provide you with such a cart  ozhnost). </div><p>Source: <a href="https://habr.com/ru/post/262057/">https://habr.com/ru/post/262057/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../262047/index.html">How to steal a control plane or cooking EIGRP for Juniper</a></li>
<li><a href="../262049/index.html">OpenStack - deployed "hands" Kilo</a></li>
<li><a href="../262051/index.html">Development of trainings in the grocery company</a></li>
<li><a href="../262053/index.html">We collect people base from open data WhatsApp and VK</a></li>
<li><a href="../262055/index.html">The word ‚ÄúM‚Äù, or Monads, is already here.</a></li>
<li><a href="../262061/index.html">Malefactors actively use 0day vulnerability of Flash Player for cyber attacks</a></li>
<li><a href="../262063/index.html">Almost duplicate search and geometry</a></li>
<li><a href="../262065/index.html">Combining offices in 3CX (Part 2. Use Session Boarder Controller)</a></li>
<li><a href="../262067/index.html">Plot chat, or how we won first place on wth.by</a></li>
<li><a href="../262069/index.html">RabbitMQ Spring tutorial</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>