<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Testing on the 1C: Enterprise 8 platform</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction. 
 This article is informational and informational and does not contain any advertising and especially attempts to extract material profi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Testing on the 1C: Enterprise 8 platform</h1><div class="post__text post__text-html js-mediator-article"><h4>  Introduction. </h4><br>  This article is informational and informational and does not contain any advertising and especially attempts to extract material profit.  The objective of the article is to shed light on the ability to test the configurations code created, briefly introduce the successfully used tool, hear feedback and draw conclusions.  Perhaps this is an unnecessary bike and someone will share the right approach to testing for this platform. <br><br>  Development on the 1C: Enterprise platform is not the most difficult process.  The most difficult thing is to accept the concept of writing code in your native language :) <br>  But despite the fact that in the 8th version of the platform a positive qualitative leap was made in the platform device and the embedded language (for example, the emergence of the MVC concept for configuration metadata objects), many popular coders continue to issue megabytes of "garbage" that miraculously works in framework of what could / had time to check such a coder. <br>  I have no rich ‚Äúexperience‚Äù of working in various franchisees, in all my years before my eyes only the experience of the only department that produces boxed products, products are sold, customers find bugs, terrorize technical support, technical support runs to the developers, developers happily fix the found bugs, incidentally making a variety of new, in short - the work is all and enough for a long time. <br>  How much time it takes to fix bugs, and how much to create a new functional - the proportion is known only approximately.  Bugs found by customers are perceived as an inevitable evil, and to reduce the time to fix them, they resort to enhanced manual testing of releases and the hiring / training of competent developers.  Manual testing by the QA department is quite time consuming and it is not possible to accurately determine the golden mean of the ratio of the testing depth to the time spent on testing.  About the presence of a huge number of talented developers in general can not speak. <br>  In the "adult" programming languages, such problems are trying to solve the ubiquitous testing.  Starting from the developer level - unit-tests, further functional and regression, and ending with integration tests.  In particularly interesting <a href="http://habrahabr.ru/post/189046/">cases,</a> tests are run for each commit in a particular repository branch. <br>  Unfortunately, 1C does not indulge developers on its platform with any worthy tools, well, even though the repository / repository was done. <br>  Several years ago, starting a new project, I personally got tired of regular blows with the same rake on the forehead.  Time was agreed with the management on the development of my knee test system as I saw it and the work began to boil. <br><a name="habracut"></a><br><h5>  Application. </h5><br>  Personally, on one project, this system saved at least a year of time spent in the debugger.  Another project has been using the system for several years for functional tests of a huge number of options for discounts / payments, etc.  Three more projects are starting to use it.  In general, of course, to introduce such a system ‚Äúfrom below‚Äù is like hammering your forehead into the wall of a skyscraper.  But if you hammer every day, the result will appear sooner or later.  The main thing is a successful example and support from the top. <br><br><h4>  Description. </h4><br>  The system works on the principle - ‚Äúexecute the method, compare the result with the standard‚Äù.  The only and very unpleasant, although natural, limitation is that the method should be export (public).  In principle, you can screw up the unloading of source codes into files, parsing the listed method names, marking their export and loading back and forth.  But such a method, firstly, complicates the testing itself, and most importantly, there are pitfalls in the form of intersecting the names of the methods "suddenly" become visible from the outside.  Therefore, we believe that the problem of encapsulation is not as critical as the problem of untested code. <br>  Based on this simple principle, the system can: <br><ul><li>  unit tests; </li><li>  functional tests; </li><li>  regression tests *; </li><li>  integration tests; </li></ul><br>  * regression is not brought to mind, there are time stamps for the beginning of the test and the end, there is no normal report on the change in the difference between these marks. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Device. </h5><br>  <i>Since the system was created at the time of platform 8.1, there is no support for managed forms, because I don‚Äôt need it, and I don‚Äôt need current projects.</i>  <i>But the main functionality of the system is testing the code and the whole drawback is that the test processing is not written on controlled forms.</i> <br><br>  The main interface for creating tests and executing them is external processing.  Processing runs directly in the information database, the configuration of which they want to test. <br>  The tests themselves are stored in a separate information database, where external processing is connected and authorized: <br><img src="https://habrastorage.org/getpro/habr/post_images/943/ecd/394/943ecd394f1f14c4339e4da8a962cf00.png"><br>  The working form looks like this: <br><img src="https://habrastorage.org/getpro/habr/post_images/c55/7a0/6e8/c557a06e8236443bd280b47d91d56ebb.png"><br>  1. Current project <br>  2. Username of the testing system <br>  3. Tests can be divided into groups, it is convenient when setting up automatic testing and allows you to structure the tests themselves. <br>  4. The test with code 400 is selected, the name of the test is indicated, the test method is in the ‚ÄúTranslator‚Äù embedded processing form, the last column shows the name of the test method. <br>  5. The full signature of the test method is inserted here, which is automatically parsed (by pressing the button 8) on the incoming parameters - 6 and the results - 7. <br>  6. The input parameters of the primitive and reference types are set here. You can also specify the path to the file if the <i>File</i> checkbox is checked. <br>  7. The selected test has only one return value of the function, for it the name <i>_ReturnPerm is predefined</i> . <br>  8. Parse the method signature to the incoming parameters and the returned results. <br><br>  To understand the further narration, you need to take a break from field 5, where there are some more tabs. <br>  <i>Before performing</i> : <br><img src="https://habrastorage.org/getpro/habr/post_images/c1f/ad3/fc5/c1fad3fc564c8fa76a21000adab3252b.png"><br>  The field is intended to execute arbitrary code before calling the method being tested.  You can modify the incoming parameters in any way, prepare collections or objects of the infobase. <br>  A similar field <i>After execution</i> allows you to process the results of a call to the test method before comparing them with previously stored reference values. <br>  <i>Executable code</i> : <br><img src="https://habrastorage.org/getpro/habr/post_images/276/e47/6b2/276e476b2d79218037038b37b5ecc78f.png"><br>  This shows all the code that will be executed when the test runs. <br>  <i>Description</i> tab - here you can describe in detail what the test is. <br>  Well, finally the <i>Versions</i> tab: <br><img src="https://habrastorage.org/getpro/habr/post_images/ed5/2e9/5b3/ed52e95b3148c1dcde819741fe269a17.png"><br>  All versions of the current project configurations are listed in the test database.  The test creator can indicate on which versions this test should pass, and on which versions it is not applicable.  This information is used for automatic testing. <br><br>  9. Run the test.  The code being executed is visible on the <i>Executable Code</i> tab.  Field 7 is filled with the results of the work of the executed code. <br>  10. Button to save the results obtained after pressing button 9 as a reference. <br>  11. Run the test and compare the results with the previously saved benchmark. <br>  12. View saved reference values. <br><br><h5>  Example. </h5><br>  Something like this is an interactive message that the test failed: <br><img src="https://habrastorage.org/getpro/habr/post_images/d8d/06c/544/d8d06c544fcd343365036a7a157b1528.png"><br>  You can see that the return value is of the type <i>Structure</i> , the window lists the structure fields whose values ‚Äã‚Äãdiffer from the saved reference. <br>  Text values ‚Äã‚Äãcan be compared with the diff-tool built into the platform: <br><img src="https://habrastorage.org/getpro/habr/post_images/5cb/9a8/e97/5cb9a8e97f029ecf80ff74955c1eba24.png"><br><br><h5>  Total </h5><br>  In principle, the described functionality is enough for most tasks to test a specific configuration in semi-automatic mode.  But in addition to this, on the server side there is the possibility of setting up an automatic testing of a set of configurations (within one project) on a schedule (procedural tasks).  The system is able to take the current version of the configuration from the storage, roll it onto the database under test and run the specified test groups.  Upon fulfillment of the listed observers, a letter with detailed test results is sent. <br><br>  The system was not created for sale, the system where many are not brought to mind, but even that which already exists greatly helps to avoid at least the stupid mistakes from the series - <i>corrected in one place, fell off in the other three</i> . </div><p>Source: <a href="https://habr.com/ru/post/214651/">https://habr.com/ru/post/214651/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../214639/index.html">Online compiler for ASP.Net MVC</a></li>
<li><a href="../214643/index.html">Aggregates of multidimensional OLAP cubes in RAM</a></li>
<li><a href="../214645/index.html">Magento Enterprise: What is Full Page Cache and why is it needed?</a></li>
<li><a href="../214647/index.html">PHP and various types of NoSQL</a></li>
<li><a href="../214649/index.html">Up! Plus 2. Overview: unpacking, calibration, analysis and first print</a></li>
<li><a href="../214653/index.html">As we Russian firms investigated</a></li>
<li><a href="../214655/index.html">Sports robotics: an interview with a member of RobotChallenge 2014</a></li>
<li><a href="../214657/index.html">Facebook is going to cover Africa with a network of "atmospheric satellites"</a></li>
<li><a href="../214663/index.html">The logic of thinking. Part 5. Waves of the brain</a></li>
<li><a href="../214665/index.html">Business card on the Arduino with Tetris on board</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>