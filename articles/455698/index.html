<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The book "How is JavaScript"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Most programming languages ‚Äã‚Äãhave grown out of the ancient paradigm originated during the time of Fortran. JavaScript guru Douglas Crockford uproots t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The book "How is JavaScript"</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habr.com/ru/company/piter/blog/455698/"><img src="https://habrastorage.org/webt/9u/n9/3z/9un93z79xbk2sybh806isswhjxw.jpeg" align="left" alt="image"></a>  Most programming languages ‚Äã‚Äãhave grown out of the ancient paradigm originated during the time of Fortran.  JavaScript guru Douglas Crockford uproots these dried roots, allowing us to reflect on the future of programming, moving to a new level of understanding of the requirements for The Next Language. <br><br>  The author begins with the basics: names, numbers, logical values, symbols and other basic information.  You will learn not only about the problems and difficulties of working with types in JavaScript, but also about how to get around them.  Then you begin to get acquainted with the data structures and functions to understand the underlying mechanisms, and learn how to use higher-order functions and object-oriented programming style without classes. <br><a name="habracut"></a><br><h3>  Excerpt <br>  How code without classes works </h3><br>  And you think that you are intelligent outside of all classes and free. <br>  <i>John Lennon</i> <br><br>  One of the key ideas in the development of object-oriented programming was the model of data exchange between parts of the program.  The name of the method and its arguments must be presented as messages.  The method call sends a message to the object.  Each object is characterized by its own behavior, which manifests itself when receiving specific messages.  The sender believes that the recipient knows what to do with the message. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      One of the added benefits is polymorphism.  Every object that recognizes a particular message has the right to receive it.  What happens next depends on the specialization of the object.  And this is a very productive thought. <br><br>  Unfortunately, we began to be distracted by inheritance - a very effective code reuse scheme.  Its importance is associated with the ability to reduce labor costs in the development of the program.  Inheritance is built on a similar design, with the exception of some nuances.  It can be said that some object or object class is similar to some other object or object class, but it has some important differences.  In a simple situation, everything works fine.  It should be recalled that modern OOP began with Smalltalk, a programming language for children.  As the situation becomes more complex, inheritance becomes problematic.  It generates a strong grip classes.  Changing a single class can cause a crash in those classes that depend on it.  Modules from the classes are simply useless. <br><br>  In addition, we observe increased attention to properties, and not to objects.  Particular attention is paid to the methods of obtaining (get-methods) and assigning (set-methods) values ‚Äã‚Äãto each individual property, and in even less successful projects, the properties are open and can be changed without the knowledge of the object.  It is quite possible to put into use a more successful project, where properties are hidden, and methods process transactions, without being concerned only with changing properties.  But this approach is used infrequently. <br><br>  In addition, there is too much dependence on the types.  Types became a feature of FORTRAN and later languages, as they were convenient to the creators of the compiler.  Since then, the mythology around types has grown, having acquired extravagant claims that types protect the program from errors.  Despite their dedication to type, mistakes have not gone from everyday practice. <br><br>  Types cause respect, they are praised for early detection of errors at the compilation stage.  The sooner an oversight is detected, the less cost it will require its liquidation.  But with proper testing of the program, all these failures are detected very quickly.  Therefore, type identification errors are classified as low-cost. <br><br>  Types are not to blame for hard-to-find and costly errors.  They are not guilty in the occurrence of problems caused by such errors and requiring some tricks.  Types can push us to use obscure, confusing, and dubious programming techniques. <br><br>  Types are similar to a diet for weight loss.  Diet is not accused of returning and weight gain.  She is also not considered to be the cause of suffering or health problems caused by her.  Diets give hope that the weight will come to a healthy standard and we will continue to eat junk food. <br><br>  Classical inheritance allows us to think that we are creating high-quality programs, while we make more and more errors and use more and more inefficient inheritances.  If you ignore the negative manifestations, the types seem to be a major victory.  The advantages are obvious.  But if you look at the types more closely, you will notice that costs outweigh the benefits. <br><br><h3>  Constructor </h3><br>  In Chapter 13, we worked with factories ‚Äî functions that return functions.  Something similar can now be done with constructors - functions that return objects that contain functions. <br><br>  Let's start by creating a counter_constructor, similar to the counter generator.  He has two methods, up and down: <br><br><pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">counter_constructor</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> counter = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">up</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ counter += <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> counter; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">down</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ counter -= <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> counter; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.freeze({ up, down }); }</code> </pre> <br>  The returned object is frozen.  It cannot be damaged or damaged.  The object has a state.  The variable counter is a private property of the object.  It can only be accessed through methods.  And we don't need to use this. <br><br>  This is a very important circumstance.  The object interface is methods only.  He has a very strong shell.  We get the best encapsulation.  There is no direct access to the data.  This is a very high quality modular design. <br><br>  A constructor is a function that returns an object.  Parameters and constructor variables become closed object properties.  It does not have public properties consisting of data.  Internal functions become object methods.  They turn properties into closed ones.  Methods falling into a frozen object are public. <br><br>  Methods must implement transactions.  Suppose, for example, that we have a person object.  You may need to change the address of the person whose data is stored in it.  You do not need a separate set of functions to change each individual address element.  We need one method that receives an object literal that can describe all parts of the address that need to be changed. <br><br>  One of the brilliant ideas in JavaScript is the object literal.  This is a nice and expressive syntax for clustering information.  By creating methods that consume and create data objects, you can reduce the number of methods, thereby increasing the integrity of the object. <br><br>  So, we have two types of objects. <br><br><ul><li>  Hard objects contain only methods.  These objects protect the integrity of the data contained in the closure.  They provide us with polymorphism and encapsulation. </li><li>  Soft data objects contain only data.  They have no behavior.  This is just a handy collection that functions can work with. </li></ul><br>  It is believed that the PLO began with the addition of procedures to the records of the Kobol language, thereby providing some kind of behavior.  I believe that the combination of methods and data properties was an important step forward, but should not be the last step. <br><br>  If a hard object needs to be converted to a string, you need to enable the toJSON method.  Otherwise, JSON.stringify will see it as an empty object, ignoring methods and hidden data (see Chapter 22). <br><br><h3>  Constructor Parameters </h3><br>  Once I created a constructor that takes ten arguments.  They were very difficult to use, because no one could remember the order of the arguments.  Later it was noticed that no one uses the second argument, I wanted to remove it from the list of parameters, but it would break all the already developed code. <br><br>  If I were more prudent, I would have a constructor that takes one object as a parameter.  It is usually taken from the object literal, but can also come from other sources, for example, from JSON content. <br><br>  This would have many benefits. <br><br><ul><li>  Key strings give the code a documented look.  The code is easier to read, since it itself tells you what each argument to the caller represents. </li><li>  Arguments can be arranged in any order. </li><li>  In the future, you can add new arguments without damaging existing code. </li><li>  Irrelevant parameters can be ignored. </li></ul><br>  Most often, the parameter is used to initialize a private property.  This is done as follows: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">my_little_constructor</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">spec</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> { name, mana_cost, colors, type, supertypes, types, subtypes, text, flavor, power, toughness, loyalty, timeshifted, hand, life } = spec;</code> </pre> <br>  This code creates and initializes 15 private variables using properties with the same names from spec.  If there is no corresponding property in the spec, a new variable is initialized, which is assigned the value undefined.  This allows you to fill all missing with default values. <br><br><h3>  Composition </h3><br>  The vivid expressiveness and effectiveness of JavaScript allows you to create programs in the classical paradigm, although this language does not belong to classical ones.  JavaScript also allows you to make improvements.  We can work with a functional composition.  So, instead of adding something as an exception, you can get a little bit of this and that.  The constructor has the following general form: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">my_little_constructor</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">spec</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> {} = spec; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> _ = other_constructor(spec); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span>  = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   spec, , _,  }; return Object.freeze({ , _. }); }</span></span></code> </pre> <br>  Your constructor can call as many other constructors as you need to gain access to state management and the behavior they provide.  You can even pass it the exact same spec object.  When documenting the spec parameters, we list the properties my_little_constructor needs, and the properties needed by other constructors. <br><br>  Sometimes you can simply add the resulting methods to a frozen object.  In other cases, we have new methods that cause the obtained methods.  Thereby, code reuse is achieved, similar to inheritance, but without strong coupling.  The function call is the original code reuse scheme, and nothing better has yet been invented. <br><br><h3>  The size </h3><br>  With this approach, the construction of an object involves more memory than when using prototypes, since each rigid object contains all the methods of the object, and the prototype object contains a reference to the prototype containing methods.  Is the difference in memory consumption significant?  Comparing the difference with the latest achievements in increasing the amount of memory, one can say: no.  We are accustomed to counting memory in kilobytes.  And now we consider it in gigabytes.  Against this background, the difference is not felt at all. <br><br>  The difference can be reduced by improving modularity.  Focusing on transactions, not on properties, allows us to reduce the number of methods, and at the same time to improve connectivity. <br><br>  The classic model is characterized by monotony.  Each object must be an instance of a class.  JavaScript removes these limitations.  Not all objects need to comply with such rigid rules. <br><br>  For example, I believe that there is no point in the fact that points are necessarily hard objects with methods.  A dot can be a simple container for two or three numbers.  Points are passed to functions that are able to perform projection, or interpolation, or something else that can be done with points.  This can be much more productive than creating subclasses of points that give them special behavior.  Let the functions work. <br><br>  ¬ªMore information about the book can be found on <a href="https://www.piter.com/collection/new/product/kak-ustroen-javascript">the publisher site.</a> <br>  ¬ª <a href="https://storage.piter.com/upload/contents/978544611260/978544611260_X.pdf">Table of Contents</a> <br>  ¬ª <a href="https://storage.piter.com/upload/contents/978544611260/978544611260_p.pdf">Excerpt</a> <br><br>  For Habrozhiteley 25% coupon discount - <b>javascript</b> <br><br>  Upon payment of the paper version of the book, an e-book is sent to the e-mail. </div><p>Source: <a href="https://habr.com/ru/post/455698/">https://habr.com/ru/post/455698/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../455682/index.html">How much do you spend on infrastructure? And how to save on it?</a></li>
<li><a href="../455684/index.html">Why we conducted hackathon for testers</a></li>
<li><a href="../455692/index.html">NSPA: restyling or theater begins with a hanger</a></li>
<li><a href="../455694/index.html">The architecture of billing a new generation: the transformation with the transition to Tarantool</a></li>
<li><a href="../455696/index.html">Electronic state of the future. Part 2</a></li>
<li><a href="../4557/index.html">IE 7: new version, new vulnerability</a></li>
<li><a href="../45570/index.html">All the same 100% height and margin</a></li>
<li><a href="../455702/index.html">Effective number generation in a given interval</a></li>
<li><a href="../45571/index.html">New LinkedIn Search Platform</a></li>
<li><a href="../455710/index.html">Why do we need our own development department for 200 people in Leroy Merlin?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>