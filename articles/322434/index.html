<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>IOS Localization Guide</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Localization is a process when you create support for other languages ‚Äã‚Äãfor your application. Often you first make an application with an English-lang...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>IOS Localization Guide</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/files/550/a0a/1f1/550a0a1f1614467d8df28df9a366a635.jpg"></div><br>  Localization is a process when you create support for other languages ‚Äã‚Äãfor your application.  Often you first make an application with an English-language interface and then localize it into other languages, for example, Japanese. <br><br>  The localization process is laborious, and its steps slowly change as Xcode is updated.  This post explains each step based on the <s>latest</s> version of Xcode (7.3.1). <br><br>  <b>Transferred to <a href="https://alconost.com/%3Futm_source%3Dhabrahabr%26utm_medium%3Darticle%26utm_campaign%3Dtranslation%26utm_content%3DiOs-localization-tutorial">Alconost</a></b> <br><a name="habracut"></a><br>  Before starting localization work, be sure to select the Use Base Internationalization option. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/4df/0b9/854/4df0b98546e24dd9aabdbaa99b6329f8.png"><br><br><h3>  <font color="#0096d6"><b>What is basic internationalization?</b></font> </h3><br>  When you create a project, Xcode automatically generates the resources and file structure for the default language. <br><br><img src="https://habrastorage.org/files/356/bb8/1af/356bb81afaf448c7bf2836da3eb799a9.png"><br><br>  This is the so-called base language.  If you are making an application for the global market, in your basic language resources there will usually be English texts. <br><br><h3>  <font color="#0096d6"><b>Adding new localization</b></font> </h3><br>  So, we have a default basic language resource structure.  Let's add support for a new language. <br><br>  Select your project file in the Navigator (Project Navigator), then select your project in the lists of projects (Project) and target parameters (Targets).  Open the ‚ÄúInformation‚Äù tab (Info) and click the ‚Äú+‚Äù button under the ‚ÄúLocalizations‚Äù block (Localizations).  Now select the language you want to support from those presented in the drop-down list. <br><br><img src="https://habrastorage.org/files/ef5/cc3/fb1/ef5cc3fb18c149fbae91978302bfbf85.png"><br><br>  Xcode will open a dialog with a set of resources you need to add for the new language.  Clicking the ‚ÄúFinish‚Äù button will create these files in the folder of the new language project called [new language] .lproj.  (This example adds support for the Japanese language, respectively, the ja.lproj folder is created.) <br><br><img src="https://habrastorage.org/files/067/f05/5b5/067f055b50034f36b916c6c6865981e0.png"><br><br>  Now we have the file structure in the project folder, as in the example below. <br><br><img src="https://habrastorage.org/files/b04/a5c/565/b04a5c565fc249a0a7d5e90bea52be98.png"><br><br><h3>  <font color="#0096d6"><b>Where is the Localizable.strings file?</b></font> </h3><br>  The Localizable.strings file is where you add the translation data as key / value pairs. <br>  Early versions of Xcode by default generated the Localizable.strings file, copies of which could be easily created for other languages. <br><br>  Recent versions of Xcode do not create the default Localizable.strings file. <br><br>  To add the Localizable.strings file, select File ‚Üí New ‚Üí File, and then the Strings (Strings File) file on the Resource tab for iOS, set the name Localizable.strings and create the file. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b5c/49c/775/b5c49c775ecb19cbf1e2901c5281b85d.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/5c1/85b/0ff/5c185b0ff20e618f97c383d67f01da65.png"><br><br>  You now have the Localizable.strings file for the base (Base) language, as in the example below. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d6f/189/49e/d6f18949e108f6ee986dab5e4a5414f4.png"><br><br>  To add Localizable.strings for Japanese, select Japanese (Japanese) in the browser (File Inspector).  This will create a new Localizable.strings file in the ja.lproj folder. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ea9/dbb/bf5/ea9dbbbf558782a2c4ee76024a361983.png"><br><br>  Now we have two Localizable.strings files: one in the Base.lproj folder, the other in the ja.lproj folder. <br><br>  Let's add the words and phrases used in the application to the Localizable.strings file of the base language. <br><br>  Below is an example of adding ‚ÄúWelcome‚Äù = ‚ÄúWelcome‚Äù; <br><br>  The left side is the so-called key, with the help of which the NSLocalizedString method then extracts the text (value) from the right side.  This is the type of data - key / value pairs. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0bb/4ba/576/0bb4ba57648cbf0ae94404a13110566a.png"><br><br>  Below is an example of the NSLocalizedString method.  We set the key as the first parameter of the method, thus allowing it to extract the corresponding value from the Localizable.strings file and return it.  In this example, we get localized strings for the header, message, and notification buttons. <br><br><pre><code class="hljs objectivec">let alertTitle = <span class="hljs-built_in"><span class="hljs-built_in">NSLocalizedString</span></span>(<span class="hljs-string"><span class="hljs-string">"Welcome"</span></span>, comment: <span class="hljs-string"><span class="hljs-string">""</span></span>) let alertMessage = <span class="hljs-built_in"><span class="hljs-built_in">NSLocalizedString</span></span>(<span class="hljs-string"><span class="hljs-string">"Thank you for trying this app, you are a great person!"</span></span>, comment: <span class="hljs-string"><span class="hljs-string">""</span></span>) let cancelButtonText = <span class="hljs-built_in"><span class="hljs-built_in">NSLocalizedString</span></span>(<span class="hljs-string"><span class="hljs-string">"Cancel"</span></span>, comment: <span class="hljs-string"><span class="hljs-string">""</span></span>) let signupButtonText = <span class="hljs-built_in"><span class="hljs-built_in">NSLocalizedString</span></span>(<span class="hljs-string"><span class="hljs-string">"Signup"</span></span>, comment: <span class="hljs-string"><span class="hljs-string">""</span></span>) let alert = <span class="hljs-built_in"><span class="hljs-built_in">UIAlertController</span></span>(title: alertTitle, message: alertMessage, preferredStyle: <span class="hljs-built_in"><span class="hljs-built_in">UIAlertControllerStyle</span></span>.Alert) let cancelAction = <span class="hljs-built_in"><span class="hljs-built_in">UIAlertAction</span></span>(title: cancelButtonText, style: <span class="hljs-built_in"><span class="hljs-built_in">UIAlertActionStyle</span></span>.Cancel, handler: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) let signupAction = <span class="hljs-built_in"><span class="hljs-built_in">UIAlertAction</span></span>(title: signupButtonText, style: <span class="hljs-built_in"><span class="hljs-built_in">UIAlertActionStyle</span></span>.Default, handler: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) alert.addAction(cancelAction) alert.addAction(signupAction) presentViewController(alert, animated: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, completion: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>)</code> </pre> <br>  When launching the application, we see a notification with texts in English. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/877/bb0/5b0/877bb05b07bc5d9711b52208b0c9133a.png"><br><br>  Next step: add Japanese texts to the Localizable.strings file in the ja.lproj folder.  We use the same keys, but replace the values ‚Äã‚Äãwith the corresponding Japanese translations. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cc4/973/8fa/cc49738fa6ba30451e4321d8ad53b953.png"><br><br>  Then, in the iOS simulator, we switch the phone language to Japanese, start the application and see a notification with texts in Japanese. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9d9/7eb/0b8/9d97eb0b8ee39d58fdf0c2919f15cd02.png"><br><br>  Switching the phone language each time you need to check the localization results is too time-consuming.  Xcode provides a convenient way to switch languages ‚Äã‚Äãonly for the application when it is running in the iOS simulator. <br><br>  To do this, select Edit Scheme from the drop-down menu in the upper left corner of the Xcode window and change the application language (Application Language) from the system language to Japanese (Japanese).  (If lost, look at the screenshot below.) <br><br>  This configuration will not switch the phone language in the simulator, but will change the language of the environment in the application to the one you specified.  This is useful when you add multiple languages ‚Äã‚Äãand want to switch between them to check the localization results. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/56a/6d3/e4d/56a6d3e4d44a2ebaf34fb0e5fbfb4b7e.png"><br><br><h3>  <font color="#0096d6"><b>Localization of storyboards</b></font> </h3><br>  Well, now we know how to extract localized texts using NSLocalizedString and how to prepare the data in the Localizalbe.strings files. <br><br>  This is enough to programmatically display localized texts to users. <br>  The next step is to support the localization of texts specified in Storyboards, for example, the names of buttons.  If you set the names of buttons or shortcuts in the storyboards and do not change these texts programmatically in the view controllers (ViewControllers), you will have to localize your .storyboard files. <br><br>  To add translation data to the words used in storyboards, first select the storyboard file in the Navigator (Project Navigator), then find and add Japanese (Japanese) to the browser (File Inspector) on the right.  This will create a [StoryboardFileName] .strings file in the ja.lproj folder.  In the example below, the file Main.strings (Japanese) is created for the Main.storyboard file. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3b1/be5/274/3b1be5274a3ecdeccbff4a2c94de5344.png"><br><br>  In the file Main.strings you will see something similar. <br><br><pre> <code class="hljs vbscript">/* <span class="hljs-keyword"><span class="hljs-keyword">Class</span></span> = <span class="hljs-string"><span class="hljs-string">"UIButton"</span></span>; normalTitle = <span class="hljs-string"><span class="hljs-string">"Get Started"</span></span>; ObjectID = <span class="hljs-string"><span class="hljs-string">"qs4-6I-gUp"</span></span>; */ <span class="hljs-string"><span class="hljs-string">"qs4-6I-gUp.normalTitle"</span></span> = <span class="hljs-string"><span class="hljs-string">"Get Started"</span></span>;</code> </pre> <br>  Replace the ‚ÄúGet Started‚Äù part with the appropriate Japanese phrase. <br><br><pre> <code class="hljs vbscript">/* <span class="hljs-keyword"><span class="hljs-keyword">Class</span></span> = <span class="hljs-string"><span class="hljs-string">"UIButton"</span></span>; normalTitle = <span class="hljs-string"><span class="hljs-string">"Get Started"</span></span>; ObjectID = <span class="hljs-string"><span class="hljs-string">"qs4-6I-gUp"</span></span>; */ <span class="hljs-string"><span class="hljs-string">"qs4-6I-gUp.normalTitle"</span></span> = <span class="hljs-string"><span class="hljs-string">"Âßã„ÇÅ„Çã"</span></span>;</code> </pre> <br>  Run the application.  Make sure the button name is localized correctly in Japanese. <br><br><h3>  <font color="#0096d6"><b>What is wrong with [Storyboard] .strings files</b></font> </h3><br>  The only problem is that the Main.strings file is not updated when you add new user interface components to the storyboard file. <br><br>  Because you always have to first determine the interface components and only then create the Main.strings, including, for example, the Japanese localization in the browser (File Inspector). <br><br><h3>  <font color="#0096d6"><b>Localization of the application name</b></font> </h3><br>  To localize the name of the application or anything else from the Info.plist file, create the InfoPlist.strings file. <br><br>  Choose Go to File ‚Üí New ‚Üí File, then the Strings (Strings File) file on the Resource tab for iOS and set the name InfoPlist.strings.  Save the InfoPlist.strings file in the Base.lproj folder.  (Xcode will now assign this InfoPlist.strings file to the base language.) <br><br>  Usually we localize these two values ‚Äã‚Äãin the info.plist file: <br><br><ul><li>  CFBundleDisplayName - the name of the application as it is displayed on the main screen; <br></li><li>  NSHumanReadableCopyright - copyright information (for example: 2014, Goldrush Computing Inc. All rights reserved). <br></li></ul><br>  Provide the application name and copyright information for these keys, as in the example below. <br><br><pre> <code class="hljs objectivec"><span class="hljs-comment"><span class="hljs-comment">/* InfoPlist.strings LocalizationTutorialApp Created by Takamitsu Mizutori on 2016/07/25. Copyright 2016Âπ¥ Goldrush Computing Inc. All rights reserved. */</span></span> <span class="hljs-string"><span class="hljs-string">"CFBundleDisplayName"</span></span> = <span class="hljs-string"><span class="hljs-string">"MyApp"</span></span>; <span class="hljs-string"><span class="hljs-string">"NSHumanReadableCopyright"</span></span> = <span class="hljs-string"><span class="hljs-string">"2016 Goldrush Computing Inc. All rights reserved."</span></span>;</code> </pre> <br>  Then, in the browser (File Inspector), select Japanese to add InfoPlist.strings to the ja.lproj folder (for this, the InfoPlist.strings file must remain selected). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a85/e61/8fc/a85e618fc8f9947d29a703fe196bb8b9.png"><br><br>  In the InfoPlist.strings (Japanese) file, replace the values ‚Äã‚Äãwith Japanese translations, as in the example. <br><br><pre> <code class="hljs objectivec"><span class="hljs-comment"><span class="hljs-comment">/* InfoPlist.strings LocalizationTutorialApp Created by Takamitsu Mizutori on 2016/07/25. Copyright 2016Âπ¥ Goldrush Computing Inc. All rights reserved. */</span></span> <span class="hljs-string"><span class="hljs-string">"CFBundleDisplayName"</span></span> = <span class="hljs-string"><span class="hljs-string">"„Éû„Ç§„Ç¢„Éó„É™"</span></span>; <span class="hljs-string"><span class="hljs-string">"NSHumanReadableCopyright"</span></span> = <span class="hljs-string"><span class="hljs-string">"2016Âπ¥ Goldrush Computing Inc. All rights reserved."</span></span>;</code> </pre> <br>  Run the application and see if the name of your application is localized in Japanese. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/99b/7b8/dc7/99b7b8dc73b3e1a13d7c7075773a4248.png"><br><br>  That's the whole process of localizing the application to another language. <br><br><h3>  <font color="#0096d6"><b>New way to localize applications</b></font> </h3><br>  I wrote a <a href="http://www.goldrushcomputing.com/">lot of applications</a> and worked a lot on localization.  It takes a lot of work time, so I was always looking for ways to simplify it.  Finally, we created a tool that facilitates the localization process ‚Äî it is called InAppTranslation.  If you're interested, go to our website - <a href="http://inapptranslation.com/">inapptranslation.com</a> . <br><br>  <b>About the translator</b> <br><br>  The article is translated in Alconost. <br><br>  Alconost is engaged in the <a href="https://alconost.com/services/software-localization%3Futm_source%3Dhabrahabr%26utm_medium%3Darticle%26utm_campaign%3Dtranslation%26utm_content%3DiOs-localization-tutorial">localization of applications, games and websites</a> in 60 languages.  Language translators, linguistic testing, cloud platform with API, continuous localization, 24/7 project managers, any formats of string resources. <br><br>  We also make <a href="https://alconost.com/services/video-production%3Futm_source%3Dhabrahabr%26utm_medium%3Darticle%26utm_campaign%3Dtranslation%26utm_content%3DiOs-localization-tutorial">advertising and training videos</a> - for websites selling, image, advertising, training, teasers, expliners, trailers for Google Play and the App Store. <br><br>  Read more: <a href="https://alconost.com/%3Futm_source%3Dhabrahabr%26utm_medium%3Darticle%26utm_campaign%3Dtranslation%26utm_content%3DiOs-localization-tutorial">alconost.com</a> </div><p>Source: <a href="https://habr.com/ru/post/322434/">https://habr.com/ru/post/322434/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../322424/index.html">A series of video tutorials on Git for beginners</a></li>
<li><a href="../322426/index.html">How to bring a business online and do not go broke: digest of useful materials for beginners</a></li>
<li><a href="../322428/index.html">Functional security, part 5 of 7. The life cycle of information and functional security</a></li>
<li><a href="../322430/index.html">BBR system: congestion control directly by congestion</a></li>
<li><a href="../322432/index.html">Welcome to Lua in Moscow 2017 March 5</a></li>
<li><a href="../322438/index.html">Neural networks in pictures: from one neuron to deep architectures</a></li>
<li><a href="../322440/index.html">Full automation of the ‚Äúdevelopment‚Äù environment using docker-compose</a></li>
<li><a href="../322442/index.html">MIPSfpga and in-circuit debugging</a></li>
<li><a href="../322444/index.html">Tete-a-tete: ask the right questions</a></li>
<li><a href="../322446/index.html">Emoji.prototype.length - a story about emotional characters in Unicode</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>