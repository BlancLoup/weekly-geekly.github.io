<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Information security of bank non-cash payments. Part 2 - Typical IT infrastructure of the bank</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Fig. one. 

 What research 
 Links to other parts of the study 

- Information security of bank non-cash payments. Part 1 - Economic fundamentals. 
- ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Information security of bank non-cash payments. Part 2 - Typical IT infrastructure of the bank</h1><div class="post__text post__text-html js-mediator-article"><a name="Ris1"></a><br> <a href="https://habrahabr.ru/post/345194/"><img src="https://habrastorage.org/webt/w_/vz/ht/w_vzhtwn4asdu9m7zzecljnqq5y.jpeg"></a> <br>  <i>Fig.</i>  <i>one.</i> <br><br>  <a href="https://habr.com/post/422329/">What research</a> <br><div class="spoiler">  <b class="spoiler_title">Links to other parts of the study</b> <div class="spoiler_text"><ul><li>  <a href="https://habr.com/post/344740/">Information security of bank non-cash payments.</a>  <a href="https://habr.com/post/344740/">Part 1 - Economic fundamentals.</a> </li><li>  <a href="https://habr.com/post/345194/">Information security of bank non-cash payments.</a>  <a href="https://habr.com/post/345194/">Part 2 - Typical IT infrastructure of the bank.</a>  ( <b>You are here</b> ) </li><li>  <a href="https://habr.com/post/350852/">Information security of bank non-cash payments.</a>  <a href="https://habr.com/post/350852/">Part 3 - Formation of requirements for the protection system.</a> </li><li>  <a href="https://habr.com/post/351326/">Information security of bank non-cash payments.</a>  <a href="https://habr.com/post/351326/">Part 4 - Overview of threat modeling standards.</a> </li><li>  <a href="https://habr.com/post/413703/">Information security of bank non-cash payments.</a>  <a href="https://habr.com/post/413703/">Part 5 - 100+ thematic links about hacking banks.</a> </li><li>  <a href="https://habr.com/post/419027/">Information security of bank non-cash payments.</a>  <a href="https://habr.com/post/419027/">Part 6 - Analysis of banking crimes.</a> </li><li>  <a href="https://habr.com/post/421161/">Information security of bank non-cash payments.</a>  <a href="https://habr.com/post/421161/">Part 7 - The basic threat model.</a> </li><li>  <a href="https://habr.com/post/422329/">Information security of bank non-cash payments.</a>  <a href="https://habr.com/post/422329/">Part 8 - Typical threat models.</a> </li></ul><br></div></div><br>  In the <a href="https://habrahabr.ru/post/344740/">first part of</a> our study, we reviewed the operation of the system of banking non-cash payments from an economic point of view.  Now it is time to look at the internal structure of the bank's IT infrastructure, through which these payments are realized. <br><br><blockquote>  <b>Disclaimer</b> <br>  The article does not contain confidential information.  All materials used are publicly available on the Internet, including on the website of the Bank of Russia. </blockquote><a name="habracut"></a><br><h1>  Chapter 1. General Description of IT Infrastructure </h1><br><h3>  Basic terms </h3><br>  In the 90s of the last century, the term ‚Äú <b>automated system</b> ‚Äù was often used in GOSTs and regulatory documents of the <a href="https://fstec.ru/">FSTEC of Russia</a> (then still the State Technical Commission under the President of the Russian Federation).  <a href="http://docs.cntd.ru/document/1200006979">‚ÄúGOST 34.003-90 Information Technology (IT).</a>  <a href="http://docs.cntd.ru/document/1200006979">Set of standards for automated systems.</a>  <a href="http://docs.cntd.ru/document/1200006979">Automated systems.</a>  <a href="http://docs.cntd.ru/document/1200006979">Terms and definitions ‚Äù</a> gives the following definition of this term: <br><blockquote>  <b>automated system</b> ;  AC: A system consisting of personnel and a complex of automation equipment for its activities, implementing information technology for the performance of installed functions. </blockquote><br>  After some time, a new term came into use - the <b>information system</b> .  In <a href="http://www.consultant.ru/document/cons_doc_LAW_61798/c5051782233acca771e9adb35b47d3fb82c9ff1c/">paragraph 3 of Art.</a>  <a href="http://www.consultant.ru/document/cons_doc_LAW_61798/c5051782233acca771e9adb35b47d3fb82c9ff1c/">2 of the Federal Law of 27.07.2006 N 149- ‚ÄúOn Information, Information Technologies and on Information Protection‚Äù</a> this term is defined as follows: <br><blockquote>  <b>information system</b> - a set of information contained in databases and information technologies and technical means ensuring its processing; </blockquote><br>  As part of this study, both terms will be used interchangeably. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The validity of this approach can be proved by the fact that in the <a href="http://base.garant.ru/70391358/">Order of the FSTEC of Russia of February 11, 2013 No. 17 ‚ÄúOn Approving Requirements to Protect Information Not Containing State</a> Secrets <a href="http://base.garant.ru/70391358/">Contained in State Information Systems‚Äù, the</a> state regulator to protect <b>information systems</b> requires the state <b>systems</b> to follow <b>automated systems</b> . <br><br>  In addition to <b>information systems</b> , another type of element can be distinguished in the IT infrastructure of a bank - <b>information services</b> , or, as they are often called, robots. <br><br>  It is quite difficult to define the concept of an <b>information service</b> , so we simply list its main differences from the <b>information system</b> : <br><br><ol><li>  <b>An information service is</b> much simpler than an <b>information system</b> , but at the same time it cannot be called a component of the latter, since several <b>information systems</b> can use the results of its work simultaneously. </li><li>  <b>Information services</b> are designed to automate simple, routine tasks. </li><li>  <b>Information services</b> do not contain databases. </li><li>  <b>Information services</b> operate automatically without participation (or with minimal participation) of a person. </li></ol><br><h3>  Automated Banking System </h3><br>  The core of the information infrastructure of any bank is an <b>automated banking system</b> or abbreviated <b>ABS</b> . <br><br>  <a href="http://www.garant.ru/products/ipo/prime/doc/70567254/">Standard of the Bank of Russia STO BR IBBS-1.0-2014 ‚ÄúEnsuring the information security of organizations of the banking system of the Russian Federation.</a>  <a href="http://www.garant.ru/products/ipo/prime/doc/70567254/">General Provisions ‚Äù</a> defines the <b>ABS</b> as follows: <br><blockquote>  automated system that implements the banking process. <br></blockquote><br>  This definition allows you to bring under him almost any IT-system in the bank.  At the same time, ordinary bank employees call the <b>ABS</b> the system that deals with accounting for bank accounts, transactions between them (cash flow) and balances.  The second definition does not contradict the first and details it more clearly, and we will continue to use it. <br><br>  In modern Russian banks the most common are the following <b>ABS</b> : <br><br><ul><li>  <a href="http://www.diasoft.ru/banks/products/fa/">Diasoft FA #</a> , </li><li>  <a href="http://www.inversion.ru/programs/%3Fr627_id%3D1">Inversion XXI century</a> , </li><li>  <a href="http://www.softlab.ru/solutions/rs_bank/">RS-Bank</a> , </li><li>  <a href="http://catalog.cft.ru/cftbank/SitePages/Index.aspx">CFT Bank</a> . </li></ul><br>  Some, especially large banks use not <b>ABS</b> , but specially designed <b>ABS</b> .  But such cases are rare, in fact, as well as especially large banks. <br><br>  Sometimes banks use several <b>ABS systems from</b> different manufacturers in parallel.  Often this happens when a bank tries to switch from one <b>ABS</b> to another, but less trivial reasons are possible. <br><br><h3>  Applied Information Systems </h3><br>  Despite the fact that the <b>ABS</b> automates a fairly large number of tasks, it does not cover all the needs of the bank.  There are tasks that the <b>ABS</b> does not do at all or does not do it the way the bank wants.  Therefore, other information systems that automate individual business processes are connected to the <b>ABS</b> .  In the future, such information systems will be referred to as <b>applied information systems</b> . <br><br>  Examples of <b>applied information systems</b> include: <br><br><a name="DBO"></a><br><ul><li>  remote banking services of Internet Client-Bank ( <b>RB RBB</b> , for example, <a href="https://ibank2.ru/">iBank2</a> , <a href="http://www.bssys.com/solutions/financial-institutions/dbo-bs-client-x64/">BS-Client</a> , <a href="http://www.softlab.ru/solutions/interbank/">InterBank</a> ), </li><li>  payment card processing (for example, <a href="http://www.compassplus.ru/">TranzWare</a> , <a href="http://www.openwaygroup.com/">SmartVista</a> , <a href="http://www.openwaygroup.com/">Way4</a> ), </li><li>  contact center automation systems (for example, <a href="https://www.avaya.com/ru/product/avaya-aura-call-center-elite/">Avaya Call Center</a> , <a href="https://www.cisco.com/c/en/us/products/customer-collaboration/unified-contact-center-express/index.html">Cisco Unified Contact Center</a> ), </li><li>  automatic scoring system for borrowers (for example, <a href="http://www.fico.com/rus/">FICO</a> ), </li><li>  and etc. </li></ul><br>  Depending on the size of the bank and the services it provides, the number of <b>application information systems</b> can be measured in quantities from units to hundreds. <br><br><h3>  Infrastructure Information Systems </h3><br>  In addition to the <b>ABS</b> and <b>applied information systems</b> that automate basic business processes, banks also have a decent amount of supporting <b>infrastructure information systems</b> .  Examples of such systems can be: <br><br><ul><li>  Active Directory directory service </li><li>  Domain Name Service (DNS) </li><li>  corporate email, </li><li>  Internet access services; </li><li>  access control systems (ACS) in the premises; </li><li>  IP video surveillance; </li><li>  IP telephony; </li><li>  and much more. </li></ul><br><h3>  Information Services </h3><br>  Banks use a huge number of various <b>information services</b> that perform simple, routine functions, for example, downloading <a href="https://ru.wikipedia.org/wiki/%25D0%2591%25D0%25B0%25D0%25BD%25D0%25BA%25D0%25BE%25D0%25B2%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B9_%25D0%25B8%25D0%25B4%25D0%25B5%25D0%25BD%25D1%2582%25D0%25B8%25D1%2584%25D0%25B8%25D0%25BA%25D0%25B0%25D1%2586%25D0%25B8%25D0%25BE%25D0%25BD%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BA%25D0%25BE%25D0%25B4">BIC</a> and <a href="http://fias.nalog.ru/">FIAS</a> directories, publishing currency rates on the official website, etc. <br><br><h3>  Client parts of third-party information systems </h3><br>  Separate mention is made of client parts of <b>information systems</b> external to the bank.  I will give as examples: <br><br><ul><li>  modules for integration with state information systems: <a href="http://www.roskazna.ru/gis/gosudarstvennaya-informacionnaya-sistema-o-gosudarstvennykh-i-municipalnykh-platezhakh-%2528gis-gmp%2529/">GIS GMP</a> , <a href="https://dom.gosuslugi.ru/">GIS Housing and Communal Services</a> ; </li><li>  client parts of external payment systems; </li><li>  exchange trading terminals; </li><li>  and so on. </li></ul><br><h3>  Typical ways of integrating information systems </h3><br>  The following mechanisms are commonly used to integrate <b>information systems</b> : <br><br><ol><li>  Integration via API (for example, Web services). </li><li>  Integration through the DBMS: <br><ul><li>  by providing access only to stored procedures; </li><li>  by providing access to stored procedures and database tables. </li></ul></li><li>  File sharing: <ul><li>  through a computer network; </li><li>  through alienable computer storage media (OMNI, for example - flash drives). </li></ul></li><li>  Implementing a <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25B5%25D1%2580%25D0%25B2%25D0%25B8%25D1%2581-%25D0%25BE%25D1%2580%25D0%25B8%25D0%25B5%25D0%25BD%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25BD%25D0%25B0%25D1%258F_%25D0%25B0%25D1%2580%25D1%2585%25D0%25B8%25D1%2582%25D0%25B5%25D0%25BA%25D1%2582%25D1%2583%25D1%2580%25D0%25B0">service oriented architecture (SoA)</a> . </li></ol><br><h3>  Integration modules </h3><br>  The module of integration is understood as a virtual element of the IT infrastructure that implements the integration of other elements of the IT infrastructure. <br><br>  We called this element virtual, because its functionality can be implemented both as a separate specialized element of the IT infrastructure (for example, an <b>information service</b> ) and as components of integrable <b>information systems</b> .  Moreover, even a person who ‚Äúmanually‚Äù transfers information between integrated <b>information systems</b> can act as an integration module. <br><br><h3>  Bank IT infrastructure example </h3><br>  In <a href="https://habr.com/ru/post/345194/">Figure 1,</a> you can see a fragment of a typical bank information infrastructure containing the types of elements discussed above. <br><br><h1>  Chapter 2. Non-cash settlement infrastructure </h1><br>  If you look at this scheme ( <a href="https://habr.com/ru/post/345194/">Fig. 1</a> ) from the point of view of cashless payments, you can see that the bank implements them with the help of: <br><br><ul><li>  direct correspondent relations with a partner bank, </li><li>  international payment system (MPS) (for example, <a href="https://www.visa.com.ru/">VISA</a> , <a href="https://www.mastercard.ru/ru-ru.html">MasterCard</a> ). </li><li>  correspondent relations with the Bank of Russia. </li></ul><br>  Technically direct correspondent relations with partner banks can be organized using: <br><br><ul><li>  conventional <b>DBO IKB</b> systems used by banks to serve legal entities (in this example ( <a href="https://habr.com/ru/post/345194/">Figure 1</a> ) this method is used); </li><li>  interbank payment systems (for example, <a href="https://www.swift.com/">SWIFT</a> ); </li><li>  specialized messaging systems (for example, <a href="http://www.rex400.ru/products/rex400_system/what_is/">REX400</a> , <a href="http://www.rex400.ru/services/service/telex/">TELEX</a> ); </li><li>  specialized software developed by one of the interacting banks. </li></ul><br>  Connection to payment systems serving plastic cards is carried out through standard modules included in the processing systems. <br><br>  For the successful operation of the bank is obliged to ensure the information security of all these methods of making payments.  Considering them within the framework of one, even large research is very problematic, and therefore we will concentrate only on one of the most critical, in terms of possible losses, direction - the payment interaction of the bank with the Bank of Russia. <br><br><h3>  Infrastructure for providing payment interaction with the Bank of Russia </h3><br><a name="Ris2"></a><br><img src="https://habrastorage.org/webt/v3/ca/hz/v3cahzz1pb5kmiup9ipxz8i_dyw.jpeg"><br>  <i>Fig.</i>  <i>2</i> <br>  The IT infrastructure of the bank‚Äôs payment interaction with the Bank of Russia will be considered on the basis of the execution of a payment sent to a client of another bank. <br><br>  As we remember from the <a href="https://habrahabr.ru/post/344740/">first part</a> , the client must first transfer the payment order to the bank.  He can do this in two ways: <br><br><ol><li>  To appear in person at the bank and submit the certified payment order on paper. </li><li>  Send the payment order through the <b>RB of SB</b> system. </li></ol><br>  It is important to note here that <b>DBO IKB</b> systems are only systems providing legally significant electronic document flow between a client and a bank; they do not make payments on their own.  That is why, when a client opens a bank account, he usually concludes two contracts.  The first is a bank account maintenance agreement, the second is an agreement for the implementation of electronic document <b>circulation</b> using the <b>RB of SB</b> system.  If the second contract is not concluded, the client will still be able to use his account, but only during a personal visit to a bank branch. <br><br>  If the client has submitted the payment order on paper, the employee of the bank on its basis makes an electronic payment order in the <b>ABS</b> .  If the order was submitted through the <b>DBE IKB</b> , then through the integration module it enters the <b>ABS</b> automatically. <br><br>  The proof that the client made an order to transfer funds in the first case is a paper document that he personally signed, and in the second, an electronic document in the <b>RB of the IKB</b> , certified in accordance with the agreement. <br><br>  Usually, for certifying electronic documents of clients - legal entities in the <b>RB of the IKB, a</b> cryptographic electronic signature is used, and for documents of clients - individuals - SMS confirmation codes.  From a legal point of view, banks usually use the <a href="http://www.consultant.ru/cons/cgi/online.cgi%3Freq%3Ddoc%26base%3DLAW%26n%3D284262%26div%3DLAW%26dst%3D187%252C0%26rnd%3D0.6480820257332991">legal regime of a handwritten signature analogue (HSA)</a> to certify electronic documents in both cases. <br><br>  Once in the <b>ABS</b> , the payment order in accordance with the internal regulations of the bank is monitored and transmitted for execution to the Bank of Russia payment system. <br><br><h3>  Technical means of interaction with the payment system of the Bank of Russia </h3><br>  Technical means (software) used to interact with the payment system of the Bank of Russia may vary depending on the territorial institution of the Bank of Russia serving the correspondent.  bank account. <br><br>  For banks serviced in the Moscow region, the <a href="http://www.cbr.ru/mcirabis/%3FPrtId%3Ditest">following software</a> is applied: <br><br><ul><li>  <b>ARM KBR</b> - automated workplace of the client of the Bank of Russia; </li><li>  <b>UTA</b> - special software for file interaction between a client of the Bank of Russia (universal transport adapter); </li><li>  <b>SCAD Signature</b> - a means of cryptographic information protection (SKZI) "Signature-client hardware and software complex" version 5, certificates of the Federal Security Service of Russia - <a href="">SF / 114-2680</a> (KS1 cryptographic protection level) KS2).  SCAD stands for a system of cryptographic authentication of documents. </li></ul><br><h3>  ARM CBD </h3><br>  <b>The AWS of the CBD</b> is software with the help of which authorized employees of the bank encrypt and digitally sign outgoing payment documents, as well as decrypt and verify the electronic signature of payment documents received from the Bank of Russia.  But, to be more precise, the <b>CBD AWP</b> in its work operates not with payment documents, but with electronic messages (ES), which are of two types: <br><br><ul><li>  electronic payment messages (EPS), for example, ED101 ‚ÄúPayment Order‚Äù; </li><li>  electronic service reports (ESIS), for example, ED201 "Notification of the results of monitoring of ES." </li></ul><br>  The list and formats of electronic messages are established by the Bank of Russia, through the release of the <a href="http://www.cbr.ru/analytics/%3FPrtid%3DFormats">Album of Unified Forms of Electronic Bank Messages (UFEM)</a> . <br><br>  In order for the <b>CBD AWP</b> to process a payment, it must be converted to a file containing an electronic billing message of the format of UEFEBS.  For such a transformation, the <b>ABS</b> integration module with the Bank of Russia payment system is responsible.  From a technical point of view, such transformations are quite simple, since the format of the VEBBS is based on <a href="https://ru.wikipedia.org/wiki/XML">XML</a> . <br><br>  E-mail files leave the <b>ABS</b> integration module in open form and are placed in a special file system folder (usually a network folder), which is configured in the <b>CBMW</b> for e-mail messages that have the ‚ÄúEntered‚Äù status.  In the previously presented diagram ( <a href="https://habr.com/ru/post/345194/">Fig. 2.</a> ) this folder is designated as ‚ÄúFolder 1‚Äù. <br><br>  Then, in the course of processing, electronic messages change their status to ‚ÄúMonitored‚Äù, ‚ÄúSent‚Äù, etc., which is technically implemented by moving the file with the electronic message to the appropriate folders that are configured in the <b>AWS of the CBD</b> .  In the diagram ( <a href="https://habr.com/ru/post/345194/">Fig. 2.</a> ) these folders are designated as ‚ÄúFolder 2‚Äù. <br><br>  At a certain moment of technological processing (established by the internal regulations of the bank) outgoing electronic messages they are encrypted and signed with an electronic signature using <b>SCAD Signature</b> and private cryptographic keys of responsible employees. <br><br><h3>  SCUD Signature </h3><br>  <b>SCAD Signature</b> is a SKZI developed by <a href="http://www.x509.ru/">Validata LLC</a> at the request of the Bank of Russia and intended to protect information in the payment system of the Bank of Russia.  This CIPF is not publicly available (except for the <a href="http://www.cbr.ru/mcirabis/%3FPrtId%3Ditest">documentation</a> posted on the website of the Central Bank of the Russian Federation), and it is distributed by the Bank of Russia only among the participants of its payment system.  The distinctive features of this SKZI include: <br><br><ol><li>  This SKPI, in contrast to other <a href="https://infotecs.ru/product/vipnet-csp.html">SKZI</a> common in Russian business circles (for example, as <a href="http://www.cryptopro.ru/products/csp">Crypto-PRO CSP</a> , <a href="https://infotecs.ru/product/vipnet-csp.html">VIPNET CSP</a> , etc.), implements its own public key infrastructure (PKI), which is isolated from the operating system.  This is manifested in the fact that a public key directory containing certificates, a list of trusted certificates, a list of revoked certificates, etc. is cryptographically protected on the user's private key, which prevents an attacker from making changes to it, for example, installing a trusted certificate without the user's knowledge . <br>  <i>Note.</i>  <i><a href="https://security.ru/default.php%3Ftarget%3Dverba_w_ow">SKZI Verba-OW</a> implements a similar key model.</i> </li><li>  The following feature follows from the previous one.  In SKZI, in order to make working keys, you must first create a certificate directory using special registration keys.  When the working keys expire, new ones are generated, but in order to generate them, you need to have valid previous working keys.  The keys are created according to a decentralized scheme with the participation of the Bank of Russia as a <a href="https://ru.wikipedia.org/wiki/%25D0%25A6%25D0%25B5%25D0%25BD%25D1%2582%25D1%2580_%25D1%2581%25D0%25B5%25D1%2580%25D1%2582%25D0%25B8%25D1%2584%25D0%25B8%25D0%25BA%25D0%25B0%25D1%2586%25D0%25B8%25D0%25B8">Certification Center</a> . </li><li>  SKZI supports work with functionally-key carriers ( <a href="http://www.x509.ru/vdtoken.shtml">vdToken</a> ), which perform the functions of electronic signature and encryption on board, without transferring private keys to computer memory. </li><li>  The cryptographic keys used to interact with the payment system of the Bank of Russia are of two types: <ul><li>  <b>‚ÄúEncryption only‚Äù</b> - allows you to encrypt / decrypt email messages. </li><li>  <b>"Encryption and signature"</b> - do the same thing as in the first case, and also allow you to sign e-mails. </li></ul></li></ol><br><h3>  UTA </h3><br>  Encrypted and signed e-mails are placed in a special folder, in the diagram ( <a href="https://habr.com/ru/post/345194/">Fig. 2.</a> ) this is ‚ÄúFolder 3‚Äù.  <b>UTA</b> continuously monitors this folder and, if it sees new files there, sends them to the CBR in one of the following ways: <br><br><ul><li>  "On the Internet", although in fact it is not quite so.  Instead, the Internet is used by a <a href="http://www.akado-telecom.ru/b2b/finance/dustup-k-mtsi-cb-rf/">specialized telecom operator</a> that provides dedicated communication channels to the Central Bank of the Russian Federation, but since the IP network is addressable, it is said that the sending is via the Internet. </li><li>  "By modem."  In case of an accident of the first type of connection, there is a reserve in the form of a modem connection via the public telephone network. </li><li>  In case of failure of all communication channels, delivery of electronic messages to OMNI (alienable machine data carrier) is provided by courier.  Incidentally, this is one of the ways in which banks with a revoked license make payments during their liquidation. </li></ul><br>  Having reached the Central Bank (first or second method), the <b>UTA</b> transmits electronic messages through the published Central Bank API.  During the communication sessions, the <b>UTA</b> also receives input e-mails from the <b>Central Bank</b> . <br><br>  It should be noted that all e-mails with which <b>UTA</b> works are encrypted and signed with an electronic signature. <br><br>  After receiving the encrypted e-mail, <b>UTA</b> shifts it to the folder with the incoming encrypted messages.  An authorized worker, using his crypto keys and the <b>CBMWWSD,</b> verifies the electronic signature and decrypts the message. <br><br>  Further processing is performed depending on the type of e-mail.  If this is a payment message, then it is transmitted through the integration module to the <b>ABS</b> , where, on its basis, accounting entries are made that change account balances.  It is important to note that the interaction of the <b>ABS</b> (integration module) and the <b>AWS of the CBD</b> uses standard format files in open form. <br><br>  In the course of its operation, the <b>AWS of the CBD</b> maintains a journal of its work, which can be implemented as text files or with the help of databases that are managed by a DBMS. <br><br><h3>  Alternative processing schemes </h3><br>  We reviewed the "classic" scheme of the system.  In reality, there are many varieties of it.  Consider some of them. <br><br>  <b>Variety 1. Separation of the contours of sending and receiving messages</b> <br>  A scheme with two <b>AWP of the CBD is being</b> implemented.  The first works with the participation of a person and only sends messages, the second works in automatic mode and only receives messages. <br><br>  <b>Variety 2. Full Automatic</b> <br>  <b>ARM CBD is</b> configured to work fully automatically without human intervention. <br><br>  <b>Variety 3. Isolated AWP CBD</b> <br>  <b>ARM CBD</b> functions as a dedicated computer that is not connected to the bank‚Äôs network.  Electronic messages are transmitted to him by a human operator using OMNI. <br><br><h3>  Transfer of electronic signature from ARM CBD to ABS </h3><br>  The Bank of Russia plans to switch to a new technological payment processing scheme, in which electronic messages will be signed not in the <b>AWS of the CBD</b> , as it was before, but in the <b>ABS</b> (more precisely in the <b>ABS</b> integration module <b>- the AWS of the CBD</b> ). <br><br>  To implement this approach, a new version of the <b>AWS of the CBD has been released</b> , which has become known as the <b>AWP of the CBD-N</b> (new).  All major changes can be seen by comparing the schemes of information flows passing through the <b>AWS of the CBD of the</b> old and the new versions. <br><br>  Consider the scheme of information flows in the classical ARM of the CBD.  The source of the scheme is the official documentation on the AWS of the CBD ‚ÄúAUTOMATED WORKING PLACE OF THE CUSTOMER OF THE BANK OF RUSSIA.  Programmer's Guide.  TsBRF.61209-04 33 01 ". <br><br><img src="https://habrastorage.org/webt/s4/zx/ij/s4zxijmhcjdtbnbp3_2l2cnj1u4.jpeg"><br>  <i>Fig.</i>  <i>3</i> <br>  <i>Notes.</i> <i><br><br></i> <ul><li>  <i>The symbol "AC KBR" (automated system of the client of the Bank of Russia) corresponds to the symbol <b>ABS</b> in the previous schemes.</i> </li><li>  <i>The symbol "SPO SVK" corresponds to the symbol <b>UTA</b> in the previous schemes.</i> </li><li>  <i>KA - authentication code (electronic signature) of the electronic message.</i> </li><li>  <i>ZK - the security code is another type of electronic signature, but unlike the SC, which is formed by the original message without changes, the ZK is formed only under meaningful data without counting markup.</i>  <i>For more information about the technical nuances of the spacecraft and spacecraft, you can read the documentation of the UVEBS "Protection of electronic messages (ES packets)".</i>  <i>From a legal point of view, LC is a technological measure of information security, while a satellite, according to the contracts and rules of the payment system of the Bank of Russia, is recognized as an electronic signature.</i> </li></ul><br>  Now let's take a look at a similar scheme for the new AWP CBD-N.  The source ‚ÄúAUTOMATED WORKING PLACE OF THE CUSTOMER OF THE BANK OF RUSSIA NEW.  Programmer's Guide.  TsBRF.61289-01 33 01 " <br><br><img src="https://habrastorage.org/webt/vv/mn/wu/vvmnwua-hyoo9gthfjxmjgbaj44.jpeg"><br>  <i>Fig.</i>  <i>four.</i> <br><br>  From the point of view of cryptography, the <b>AWS CBD-N</b> is responsible for encrypting / decrypting electronic messages, as well as for verifying electronic signatures on them.  Electronic signature generation has been transferred to the <b>ABS</b> integration module. <br><br>  It is logical to assume that this module will also have to check signatures for messages received from the <b>AWS KBR-N</b> .  From a technical point of view, this is not mandatory, but from a safety point of view, it is of critical importance, since it ensures the integrity of messages transmitted between the <b>ABS</b> and the <b>AWS KBR-N</b> . <br><br>  In addition to the file interface of interaction between the <b>ABS</b> , <b>AWS KBR-N</b> and <b>UTA</b> , the <a href="https://ru.wikipedia.org/wiki/IBM_WebSphere_MQ">IBM WebSphere MQ</a> interface has been added, which allows building the bank‚Äôs service-oriented IT infrastructure and solving the problem of the old scheme with the organization of simultaneous operation of several operators responsible for sending payments. <br><br><h3>  Conclusion </h3><br>  We reviewed the internal structure of the bank‚Äôs IT payment infrastructure.  In the following sections, we will look at the information security threats that arise here. </div><p>Source: <a href="https://habr.com/ru/post/345194/">https://habr.com/ru/post/345194/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../345184/index.html">REST is a new SOAP</a></li>
<li><a href="../345186/index.html">Render clouds on mobile devices</a></li>
<li><a href="../345188/index.html">Today is the day of thick polar fox retail - the error of cash registers Shtrikh-M across the country</a></li>
<li><a href="../345190/index.html">We generate fake news headlines in the style of Tapy.ru</a></li>
<li><a href="../345192/index.html">Understand what happened with the course of Bitcoin</a></li>
<li><a href="../345196/index.html">Attention! S in Ethereum stands for Security. Part 1. Blockchain things</a></li>
<li><a href="../345198/index.html">Dynamic identification of control objects</a></li>
<li><a href="../345200/index.html">How to deal with miners cryptocurrency in the corporate network</a></li>
<li><a href="../345202/index.html">Typescript. Read Only Properties</a></li>
<li><a href="../345204/index.html">How to learn to think in images using visual analogies</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>