<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Watching movies on android devices from a home server</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, dear habrachiteli. 

 I have a modest hand-made home server: 


- File washer 
- Torrentkachalkal 
- Archive of photos and video 
 All this wor...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Watching movies on android devices from a home server</h1><div class="post__text post__text-html js-mediator-article">  Hello, dear habrachiteli. <br><br>  I have a modest hand-made home server: <br><ul><li>  File washer </li><li>  Torrentkachalkal </li><li>  Archive of photos and video </li></ul><br>  All this works under Ubuntu and has approximately the following config: Intel Core Quad, 4Gb of memory and RAID 5 of 4 2TB disks. <br>  Content from this server take home computers (samba), media player (samba), televisions (DLNA).  And everything did not give me the peace of mind to watch the newly released TV series, and even some films, on the phone, lying in bed to sleep, so to speak, coming.  A laptop is inconvenient due to its size and the danger of dropping from a bed at the time of an unexpected sleep.  I rummaged through many forums, programs, etc., but did not find a solution. <br><a name="habracut"></a><br>  The solution came to mind is quite obvious and simple - you need to transcode the video on the server and give the stream in a format understandable to the player. <br>  I chose the player - MX Video Pleer <br>  Video format - flv <br>  Transcode video will be - mencoder <br><br><h5>  Install apache </h5><br>  There are no problems with this: <br> <code>&gt;apt-get install apache2 php5</code> <br> <br><h5>  Install mencoder </h5><br>  First we add the medibuntu repository: <br> <code><a href="http://www.medibuntu.org/sources.list.d/"></a> &gt;sudo wget --output-document=/etc/apt/sources.list.d/medibuntu.list www.medibuntu.org/sources.list.d$(lsb_release -cs).list &amp;&amp; sudo apt-get --quiet update &amp;&amp; sudo apt-get --yes --quiet --allow-unauthenticated install medibuntu-keyring &amp;&amp; sudo apt-get --quiet update</code> <br>  And install the mencoder package: <br> <code>&gt;apt-get install mencoder</code> <br> <br><h5>  And some code </h5><br>  1st page - index.php, file browser. <br>  At the beginning of the file we set the base path for the search.  It looks like this in the browser: <br><img src="https://habrastorage.org/storage1/4db566d7/492699ae/8cd3f384/802aefd7.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      2nd page - video converter. <br>  Takes the path passed to the URL, runs mencoder through popen and gives the result to the player. <br>  Conversion options are selected experimentally.  I picked up for my desire. <br><br>  And one more subtle point - when requesting with parameters, no player on the phone wanted to play video, so I had to use the rewrite engine from Apache. <br><br><h5>  Results </h5><br>  With minimal effort, I got the desired result: <ul><li>  View home video on your phone </li><li>  No pre-transcoding </li><li>  View content with almost any input parameters (codecs, containers, etc.) </li><li>  Transcoded and perfectly visible all the way to BDRemux (&gt; 20 GB) </li></ul><br>  Disadvantages: <ul><li>  Lack of audio track selection - easily solved with a few lines of code and a wonderful mediainfo utility </li><li>  No rewind - easily solved with several lines of code and the substitution of the start time in the transcoding parameters </li><li>  The lack of choice of parameters in the presence of several different android devices with different screens is solved by several lines of code </li></ul><br><br>  I do not pretend to be genius and, which is quite likely, looking at the code you say that I am an idiot.  But someone this experience may be useful. <br>  Sources for review are available <a href="http://narod.ru/disk/25880111001/video.tar.gz.html">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/128896/">https://habr.com/ru/post/128896/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../128891/index.html">Electronic necklace. Part 1</a></li>
<li><a href="../128892/index.html">iPhone 5. Tim Cook. The 4th of October</a></li>
<li><a href="../128893/index.html">Breathalyzer from facebook</a></li>
<li><a href="../128894/index.html">Habrarebrecha this Thursday</a></li>
<li><a href="../128895/index.html">‚ÄúDill‚Äù - your credit optimizer</a></li>
<li><a href="../128898/index.html">Asterisk + UniMRCP + VoiceNavigator. Synthesis and speech recognition in Asterisk. Part 4</a></li>
<li><a href="../128899/index.html">Habra-Wishlist</a></li>
<li><a href="../128900/index.html">Fifth habrae</a></li>
<li><a href="../128902/index.html">Nikon V1 and J1</a></li>
<li><a href="../128903/index.html">The very first topic</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>