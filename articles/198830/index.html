<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Yandex has learned to recognize and combine a series of images.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Yandeks.Kartinki today made an important step in its development and in the development of search for pictures. Search results will no longer be just ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Yandex has learned to recognize and combine a series of images.</h1><div class="post__text post__text-html js-mediator-article">  Yandeks.Kartinki today made an important step in its development and in the development of search for pictures.  Search results will no longer be just a collection of pictures for the words you specified.  Now in the results some images can be combined together.  We call it "series." <br><br> <a href="http://habrahabr.ru/company/yandex/blog/198830/"><img src="https://habrastorage.org/getpro/habr/post_images/8a8/e0a/b5e/8a8e0ab5e5647192868e2ba04a3867f4.png" alt="image"></a> <br><br>  "Series" are images that appear together on the Internet and are visually similar.  For the selection of images is the hierarchical clustering algorithm.  He takes all the images from a particular page and highlights a group of similar ones - those that have a common color, shape, details, and so on.  If there are at least four similar (but not identical) pictures on the page, they form a series. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Read under the cut why we had the idea to make the Series, how we thought out their design and implemented the algorithm. <br><a name="habracut"></a><br>  The presentation of pictorial search results, which is familiar to everyone, is a page filled with a tumbneal grid.  Scrolling it down, you usually see new thumbnail images automatically loaded.  But sometimes one or even two pictures are not enough to answer a question - you need more images.  And it would be nice if they were related. <br><br>  What is it for?  For example, to learn how to fold origami dragon, you probably want to see the picture with each step.  You need a few images in the event that you want to view the car from different sides.  And, probably, it will be great if these are pictures from one review. <br><br>  To understand what other scenarios the series might have, we conducted in-depth interviews.  One girl said that the series would have helped her quickly find three pictures for the photo frame in the kitchen.  It was important for her that they were all with spices and in the same style, because she has a special frame for three images. <br><br>  There was also a student who said that the instructions in the pictures would help her learn photoshop.  Video instructions are too complicated for a beginner, and pictures with explanations are the most.  We also talked with a man who told us that quite recently he was looking for instructions with pictures on how to fix a leaked tap.  According to our data, in order to solve such problems, approximately 13% of users look for a page through a picture that has detailed information. <br><br>  Thanks to quantitative polls, we know that 70% of users periodically need to find instructions that should have illustrations, and 20% need such a need every week.  This statistic is also confirmed by queries - 9% of all requests for searching in Yandex images are related to searching for instructions.  And they are on completely different topics. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2f0/1e2/f87/2f01e2f871d6d5192697c7eaf348ef16.png" alt="image"><br>  In the process of discussing this problem, we had a project called ‚ÄúSeries‚Äù.  We began to think how to select images in order to get not only a relevant, but also a beautiful answer that would complement the issuance of pictures. <br><br>  Thanks to interviews with invited users, UX testing, a lot of discussions within the team and beta data in the internal Yandex network, we have built a more coherent understanding of this possibility and formulated some requirements. <br><br>  For example, images should be from one page, so that the user can go to it and find out more - see the entire report, read the explanations, go to other sections of the site.  This improves the navigation scenario in which the user searches the site through a picture. <br><br>  The series is especially useful when it highlights one object, the steps of one master class, or photos taken in the same style (a specific photo session, clothes from one collection, etc.).  But the algorithm does this only for pages without aggressive advertising and viruses.  In in-depth interviews and UX testing, we are faced with the fact that users react very negatively to excessive advertising and jumping pop-ups.  Therefore, we decided to exclude such pages from the candidates for serial ones. <br><br><h4>  How the series is arranged technically </h4><br>  Group the pictures in a series of similar within the pages on which they are found together.  That is, if on the page <a href="http://www.example.com/">www.example.com</a> met <br>  <a href="">www.example.com/1.jpg</a> <br>  <a href="">www.example.com/2.jpg</a> <br>  <a href="">www.example.com/3.jpg</a> <br>  <a href="">www.example.com/4.jpg</a> <br>  try to combine them into a series.  <nobr>A series is a group of pictures that are visually similar to each other in pairs.</nobr> <br><br>  We want to cluster these pictures by visual similarity.  That is, find a subgroup of pictures that are quite similar to each other.  We will cluster using greedy hierarchical clustering algorithm.  In English, this algorithm is called complete linkage clustering using nn-chain algorithm.  To achieve success, we need a metric of image similarity, clustering with which would give a cluster-group with the properties we need. <br><br>  What are these properties? <br><ol><li>  The same objects or scenes taken from different angles must be in the same cluster; </li><li>  The same objects or scenes made in different colors in the image must be in the same cluster; </li><li>  Photos from one photo shoot, in which there are enough common colors and details, should be in the same cluster. </li><li>  The cluster should have pictures of approximately the same size, etc. </li></ol><br>  In order for something like that to work out, we selected three kinds of descriptors: <br><ul><li>  descriptor based on <a href="http://en.wikipedia.org/wiki/Color_layout_descriptor">color layout descriptor</a> ; </li><li>  <a href="http://citeseerx.ist.psu.edu/viewdoc/download%3Fdoi%3D10.1.1.148.7760%26rep%3Drep1%26type%3Dpdf">mpeg dominant color descriptor</a> ; </li><li>  mpeg-7 edge histogram descriptor. </li></ul><br>  Descriptions can be found, for example, in the mpeg-7 standard.  We have our own quick and effective implementation. <br><br>  On the basis of these descriptors, visual similarity is calculated, as a maximum by visual similarity for individual descriptors.  This allows you to satisfy the first three Wishlist.  To take into account the size, we subtract from the visual similarity the ratio of image areas (max / min).  Based on this metric, we implement clustering. <br><br><h4>  Design </h4><br>  In the course of work, we realized that serial pictures on the issue should look like a single unit - this is a new view of the Yandex response.  The most important thing in the design was to make the series of pictures visible. <br><br>  From the moment we started working on the project, we tried about a dozen different design options.  Three of them have been tested both on external users and on our colleagues. <br><br>  We have seen that externally, users like more than one design. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c03/bf7/683/c03bf7683acb9f8cc46abd50c7e16dfc.png" alt="image"><br><br>  But they understand a different idea, and with it they interact more. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/14c/086/3db/14c0863db28f7a7d7ed75f2adb07a9ce.png" alt="image"><br><br>  In the final version, we took into account the best of both options. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/184/833/a5b/184833a5b595aca3d9e4301511664819.png" alt="image"><br><br>  We also noticed that it is important to show people when the series opened and when it ended.  So there was a final version with the information and the sharing block. <br><br><h4>  Where the series will help you </h4><br>  The series will be very convenient for those people who are looking for step-by-step instructions in which pictures are more important than text: how to make an origami dragon, how to draw a cat, a master class in decoupage, how to change or find exercises for a trapezoid. <br><br>  With them it is easier to look for images that are similar in style - pictures by one artist or collections of photos from one photo shoot.  They will also help to consider a car, a product or a point of interest from different sides. </div><p>Source: <a href="https://habr.com/ru/post/198830/">https://habr.com/ru/post/198830/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../198816/index.html">Chrome and Firefox banned php.net</a></li>
<li><a href="../198818/index.html">Windows Azure Backup cloud backup service is available for commercial use.</a></li>
<li><a href="../198822/index.html">Adobe Flash Player Sandbox Mode is available for Safari Mac OS X</a></li>
<li><a href="../198824/index.html">Higher stage</a></li>
<li><a href="../198826/index.html">Interface Animation</a></li>
<li><a href="../198832/index.html">Highscreen Omega Prime Mini: ‚Äúweekly‚Äù smartphone with five color panels (announcement! No review)</a></li>
<li><a href="../198836/index.html">An example of using a static analyzer</a></li>
<li><a href="../198838/index.html">20 free add-ons for Visual Studio</a></li>
<li><a href="../198840/index.html">Google-calendar as a replacement for a blackboard with leaves</a></li>
<li><a href="../198842/index.html">Smart home, as I sunk to such. Part 3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>