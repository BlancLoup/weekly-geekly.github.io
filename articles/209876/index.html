<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How can you make java better</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Many people complain that something is missing in Java, something is buggy or slow. The good news is: you have the opportunity not to complain, but ma...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How can you make java better</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/aa4/c61/c8c/aa4c61c8c5cca13bea59239e6af6d2f8.png" align="right"><br><p>  Many people complain that something is missing in Java, something is buggy or slow.  The good news is: you have the opportunity not to complain, but make Java better on your own.  Java is almost completely open as an <a href="http://openjdk.java.net/">OpenJDK</a> project.  This project has its own peculiarities, but in general nothing prevents you from reporting problems yourself, correcting them, and even developing new functionality.  In this article I will tell a little how to do this for a beginner. </p><a name="habracut"></a><br><h1>  How to report a bug? </h1><br><p>  The project OpenJDK has a bugtracker - <a href="https://bugs.openjdk.java.net/">JIRA</a> .  There you can search and check if your problem is known or it is new.  However, a person from the street cannot register there and write there.  The official way to report a problem in Java (or even suggest an improvement) is to use the <a href="http://bugreport.java.com/bugreport/submit_start.do">Java Bug Report</a> form.  This form creates a ticket in JIRA with the prefix JI (Java Issue, ticket number will come to your specified e-mail).  At the time of pre-moderation, your ticket is hidden from prying eyes.  If the pre-moderation is successful, then your problem will be migrated to a public project (for example, with the prefix JDK), and everyone will be able to see it.  The advantage of this form is that it is relatively simple, does not require registration and in general any personal data.  The downside is that these forms are not viewed directly by Java developers, but by the special webbug group team.  There is a risk that your message will hang out for a long time unreviewed (even if it is important from the point of view of developers).  This <a href="https://bugs.openjdk.java.net/browse/JDK-8129740">is</a> my month of ticket hanging in pre-moderation, until I asked a good friend from Oracle to help people up.  It may even happen that due to an oversight, your ticket will be rejected altogether, as happened, for example, with my colleague <a href="https://bugs.openjdk.java.net/browse/JDK-8075942">here</a> .  The problem manifested itself only in the OpenJDK, but not in the OracleJDK, and the webbug group considered that the problem was not worth attention.  Again, managed to figure out only thanks to a good friend. </p><br><p> It also happens that the ticket successfully passed the pre-moderation and got into a public project, but you were not informed about this.  Therefore, you can occasionally check URLs like <code>https://bugs.openjdk.java.net/browse/JI-xxxxxxx</code> , signing at the end of the JI number that you have.  If the pre-moderation is completed, you will be redirected to a public ticket, otherwise you will see an error message. </p><br><p>  In any case, be sure to clearly describe the problem and give a minimal example that reproduces it.  The simpler it will be, the greater the chance that attention will be paid to it. </p><br><h1>  Is there a better way? </h1><br><p>  As we see, there are problems with this form.  It is often better to report the problem to the appropriate mailing-list.  OpenJDK supports <a href="http://mail.openjdk.java.net/mailman/listinfo">many</a> mailing lists and you should definitely subscribe to lists in your area of ‚Äã‚Äãinterest.  Look through the archives of the lists to see if they are dead or not.  For example, if you have some kind of problem with lambdas, you are unlikely to write to <a href="http://mail.openjdk.java.net/pipermail/lambda-dev/">lambda-dev now</a> , because the lambda project is completed with the release of Java-8 and the list is inactive.  Most likely <a href="http://mail.openjdk.java.net/pipermail/compiler-dev/">compiler-dev</a> is right for you, since usually problems with lambdas are a Java compiler problem. </p><br><p>  Anyone can subscribe to the list and write to it, there are no problems here.  Just be careful with attachments: most file types are cut.  For reliability, I do not send anything except <code>*.txt</code> and check through the archive whether the message is actually in the list (in a normal situation, it is displayed in the archive immediately after being sent).  These lists are read by real developers, so if you encounter an interesting problem, the way to solve it will be shorter. </p><br><h1>  And more exotic ways? </h1><br><p>  An alternative may be a letter in person to some Java developer who, in your opinion, will be interested in your problem.  Email addresses of many developers are easy to find in the same mailing list archives, but, of course, this method is risky and requires a sense of tact.  Your letter can easily be ignored.  However, I was able to offer a simple <a href="https://bugs.openjdk.java.net/browse/CODETOOLS-7901463">feature request</a> to the <a href="http://openjdk.java.net/projects/code-tools/jmh/">JMH</a> tool. </p><br><p>  A more exotic option is to complain about your problem to <a href="http://stackoverflow.com/">StackOverflow</a> .  There are OpenJDK developers and even Oracle employees, but, of course, they don‚Äôt read everything and it‚Äôs quite possible that your message willn‚Äôt be noticed.  And if they notice, they will not want to do it.  It worked for me <a href="http://stackoverflow.com/q/30843279/4856258">once</a> and then only after the bounty announcement.  I was answered by <a href="http://stackoverflow.com/users/3553087/brian-goetz">Brian Goetz</a> , recognizing my problem as a bug.  The developers themselves <a href="https://bugs.openjdk.java.net/browse/JDK-8129120">started the ticket</a> and fixed it.  Of course, relying on success in this case is not worth it. </p><br><p>  An even more exotic option is to report a problem at a java conference.  At the last <a href="http://javapoint.ru/">JPoint</a> <a href="https://habrahabr.ru/users/cheremin/" class="user_link">cheremin</a> talked about escape analysis and gave an example of an interesting case with <code>Arrays.asList</code> , where it breaks ( <a href="https://dl.dropboxusercontent.com/u/2194006/escape-analysis-scalarization.pdf">presentation</a> , slides 69 and below).  After listening to his report, I was not too lazy to <a href="http://hg.openjdk.java.net/jdk9/dev/jdk/rev/531822c47693">fix</a> this problem.  Of course, success in this case, too, no one guarantees. </p><br><h1>  How to fix bugs? </h1><br><p>  Now you have many ways to report a bug.  But what if itching to pee the code?  First you need to deal with the infrastructure. </p><br><p>  All OpenJDK projects are stored in Mercurial repositories available <a href="http://hg.openjdk.java.net/">here</a> .  Jdk9 is being developed and you usually need the dev sub repository.  There is a further selection from several separate repositories like <a href="http://hg.openjdk.java.net/jdk9/dev/jdk/">jdk</a> (class library), <a href="http://hg.openjdk.java.net/jdk9/dev/hotspot/">hotspot</a> (virtual machine), etc. If the problem is found in the current version of Java (for example, in java8), but it remains in java9, then fix it first in java9, and then port to java8 updates (if the intended benefits of porting outweigh the risk of making changes).  Most of the eight problems are only corrected in the nine, but they do not tolerate the eight.  Download the repository you need and take the time to study its device.  If you are going to fix the class library, you will need a path like <code>/src/&lt;jigsaw-module&gt;/share/classes/</code> in the <code>jdk9/dev/jdk</code> . </p><br><p>  If you fixed the code, it would be good to make sure that your patch works as it should.  I honestly did not understand how to properly build OpenJDK from scratch.  Instead, I install the latest ready-made Java-9 build from the <a href="https://jdk9.java.net/download/">Kenai</a> project.  I copy only the changed java-files into a separate directory and then compile them somehow (example for changes in the <code>java/util</code> from the <code>java.base</code> module): </p><br><pre> <code class="hljs cs">$ javac -Xmodule:java.<span class="hljs-keyword"><span class="hljs-keyword">base</span></span> -d <span class="hljs-keyword"><span class="hljs-keyword">out</span></span>/java.<span class="hljs-keyword"><span class="hljs-keyword">base</span></span> src/java/util<span class="hljs-comment"><span class="hljs-comment">/*.java</span></span></code> </pre> <br><p>  And then I launch some test application using this command: </p><br><pre> <code class="hljs objectivec">$ java -Xpatch:<span class="hljs-keyword"><span class="hljs-keyword">out</span></span> MyTest.java</code> </pre> <br><p>  The <code>-Xmodule</code> and <code>-Xpatch</code> appeared in <a href="http://openjdk.java.net/projects/jigsaw/">the Jigsaw project</a> .  Prior to this, <code>-Xbootclasspath/p:</code> worked, in Java-9 this option is not available. </p><br><h1>  And how to write tests? </h1><br><p>  It would be nice, however, to write a normal unit test, right in the repository.  To run tests in OpenJDK, the special tool <a href="http://openjdk.java.net/jtreg/">jtreg is used</a> .  Unfortunately, <a href="https://adopt-openjdk.ci.cloudbees.com/job/jtreg/lastSuccessfulBuild/artifact/">ready-made assemblies</a> have not been updated for half a year, and this is critical, because the changes associated with Jigsaw cause problems in older versions of jtreg.  So you have to figure out how to build jtreg yourself. </p><br><p>  In general, the tests themselves are usually written with the help of <a href="http://testng.org/doc/index.html">TestNG</a> , but there are also junit, and many old tests, when a certain class is simply launched with a certain <code>main</code> method, which should not fall with the exception.  The jtreg tool allows you to abstract the entire zoo and contains many useful settings. </p><br><h1>  Patch ready!  Where to send? </h1><br><p>  If you do decide to contribute to Java, you get to the bottom of the OpenJDK hierarchy.  On it, you can send extremely simple patches (say, a trivial typo in the documentation).  To do this, you compile a patch file (for example, using <code>hg diff -g</code> ) and send it to the appropriate mailing list with the word <code>[PATCH]</code> in the subject.  It is better to send a small patch directly in the body of the letter along with an explanation.  If under your patch there is a ticket in JIRA, you must also indicate the ticket number in the subject.  Then you should wait until one of the developers agrees to sponsor the patch.  If you do not answer at all, you can politely kicking people every couple of weeks.  You may have made a mistake with the mailing list, but then you will most likely be told where to actually send the patch. </p><br><p>  If your patch is not completely trivial, you can go the same way, but it will not be able to commit until you sign the <a href="http://www.oracle.com/technetwork/community/oca-486395.html">Oracle Contributor Agreement</a> .  Naturally, since a large corporation is behind the project, one cannot do without legal issues.  You agree that you send the code of your personal authorship and transfer it to the Oracle co-ownership (but you do not lose the rights to it and you can do what you want with it, and Oracle will do what it wants).  Print the agreement, read it (there is a little), sign, scan and send to the specified e-mail.  Be prepared that the processing will take at least a week.  If successful, you will be notified by e-mail, and your name will appear <a href="http://www.oracle.com/technetwork/community/oca-486395.html">in a long list</a> .  At this point, you get the status of the OpenJDK Contributor, and your patches can sponsor. </p><br><h1>  How to become an eighty level elf? </h1><br><p>  When you successfully push through 2-3 not the most trivial patches, you can ask for the status of the OpenJDK Author.  To do this, you write a letter to the project leader (in jdk9 this is Mark Reinhold) and list your patches with links to commits.  If successful, you open up new opportunities.  Firstly, sftp access to the cr.openjdk.java.net server (an SSh public key is required), where you can post requests for code review.  Secondly, you finally get an account in JIRA.  Now you can rejoice and forget about the first half of the article: you can report bugs normally, and not only in the component to which you sent patches.  You can also vote for bugs, subscribe to notifications and so on.  From this moment on your name will appear <a href="http://openjdk.java.net/census">in this list</a> .  Here you can see the status of people in different projects. </p><br><p>  However, at the OpenJDK Author level, you still need sponsors for your patches.  Now you should not send the patch to the mailing list, but generate a special set of HTML- <a href="http://openjdk.java.net/guide/webrevHelp.html">files</a> using the <a href="http://openjdk.java.net/guide/webrevHelp.html">webrev</a> tool (this is a ksh script and I had to set up a <a href="http://openjdk.java.net/guide/webrevHelp.html">virtual machine</a> with Ubuntu for it, I couldn't pin it under Windows).  It looks like <a href="http://cr.openjdk.java.net/~tvaleev/webrev/8155600/r2/">this</a> .  By generating a webrev, you send a link to it to the mailing list for code-review and prepare for comments.  Someone still has to agree to commit your code, but you will already be listed as the author of the commit. </p><br><p>  The next level is OpenJDK Committer.  To become one, you must be promoted to this title by some committer in the main project list (for example, <a href="http://mail.openjdk.java.net/pipermail/jdk9-dev/">jdk9-dev</a> ).  For this, as a rule, it is required to have at least 8 nontrivial changes in the project.  Voting is very simple - no one should be against it.  With this title you no longer need a sponsor.  You can commit your own changes and even sponsor others.  But, of course, this does not cancel the code review. </p><br><p>  Finally, you can reach the level of OpenJDK Reviewer.  It is about the same thing - promotion, voting, but the requirements are stricter.  Only reviewers can nominate and vote; a minimum of three votes in favor is required if there are no votes against.  This status will allow you to formally review other people's changes.  More information about the status and order of their purchase can be found <a href="http://openjdk.java.net/projects/">here</a> . </p><br><h1>  Conclusion </h1><br><p>  Fixing bugs in Java is basically not very difficult, if you have enough patience and perseverance to deal with everything.  It is much more difficult to promote new features that change the public API.  Here your brilliant ideas can easily wrap up.  To look more substantial, I recommend not to start with features, but to become at least the author on some simple bugs.  You can just dig in open tickets in JIRA and find something that seems uncomplicated to you.  This is quite a lot, advanced developers do not always have time to rake the little things.  If you still offer a feature, do not be lazy to study the history of the issue: look in the archives of mailing lists.  Perhaps it was discussed and for some reason decided not to do it.  Think about whether you have new reasons. </p><br><p>  Program with pleasure and make Java better! </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/209876/">https://habr.com/ru/post/209876/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../209864/index.html">Making PHP web sites from scratch</a></li>
<li><a href="../209866/index.html">Super successful companies</a></li>
<li><a href="../209868/index.html">Developers can now easily integrate video calls into their web and mobile applications.</a></li>
<li><a href="../209870/index.html">UNIX_TIMESTAMP, ROUND and other DQL queries via queryBuilder in Symfony 2</a></li>
<li><a href="../209874/index.html">Facebook expands its ‚Äúarctic‚Äù data center in Lulea</a></li>
<li><a href="../209878/index.html">Women's view on Just5 Spacer: 5-inch smartphone with two covers for 5,250 rubles</a></li>
<li><a href="../209880/index.html">Unbearable programming complexity</a></li>
<li><a href="../209882/index.html">Yandex cloud platform: read more about Elliptics</a></li>
<li><a href="../209886/index.html">Official launch of email alerts</a></li>
<li><a href="../209894/index.html">Which HDD is more reliable? Backblaze statistics on 27134 drives for 4 years of work</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>