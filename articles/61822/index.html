<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Video rip. Part 2-3. Getting rid of ordinary interlacing (deinterlace)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Content 


1. DVD preparation vStrip DGMPGDec 
2. vStrip 
3. DGMPGDec 
4. Video processing What is interlace and what it is eaten with How to determin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Video rip. Part 2-3. Getting rid of ordinary interlacing (deinterlace)</h1><div class="post__text post__text-html js-mediator-article"><h4>  Content </h4><br><ol><li>  DVD preparation <br><ol><li>  <a href="http://habrahabr.ru/blogs/video_processing/50256/">vStrip</a> </li><li>  <a href="http://habrahabr.ru/blogs/video_processing/50611/">DGMPGDec</a> </li></ol><br></li><li>  Video processing <br><ol><li>  <a href="http://habrahabr.ru/blogs/video_processing/51201/">What is interlace and what it is eaten with</a> </li><li>  <a href="http://habrahabr.ru/blogs/video_processing/61826/">How to determine what we have: progressive, interlaced or telecined?</a> </li><li>  <b>Getting rid of ordinary interlacing (deinterlace)</b> </li><li>  <a href="http://habrahabr.ru/blogs/video_processing/88654/">IVTC</a> </li></ol><br></li><li>  <a href="http://habrahabr.ru/blogs/video_processing/88668/">Squeeze and pack</a> <br></li></ol><br><br>  The first thing to do is to get the idea out of using the deinterlace filter from VirtualDub.  I know it is not easy, but necessary.  The thing is that after processing with this filter (with some settings) parasitic images appear on the video, for example, so-called.  ghost effect.  It looks <a href="">like this</a> or <a href="">that</a> .  It's horrible. <br><a name="habracut"></a><br>  I made screenshots for examples from the video that <a href="https://habrahabr.ru/users/madnut/" class="user_link">madnut</a> shared with me. <br><br>  We will get rid of interlacing with AviSynth plugins.  There are a <a href="http://avisynth.org/mediawiki/External_filters">lot of</a> them, so all the possible ones will not be mentioned.  If your loved one has forgotten - do not be angry.  I emphasize that this article does not consider plugins to remove pulldown and IVTC.  About them - then. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Also, let me remind you that in the case of ordinary interlacing, making a video progressive without loss of quality will not work. <br><br>  First you need to establish the correct order of appearance of fields.  Top Field First (TFF) or Bottom Field First (BFF).  There are two AssumeTFF or AssumeBFF commands in AviSynth for this.  How to do it is well written <a href="http://www.avisynth.org.ru/docs/russian/externalfilters/checkparity.htm">here</a> .  Also, it shows DGMpgDec.  MeGUI can also help you with this.  How?  Read the previous part, only instead of the Source type, look at the Field order. <br><br>  As a result, you will have something like this: <br><br> <code>DirectShowSource("00581.mts") <br> AssumeTFF()</code> <br> <br>  Let's go directly to the filters. <br><br>  <b>Bob</b> <br><br>  This is not even the name of a specific plugin, but the name of the whole technique ‚ÄúBob deinterlacing‚Äù.  Its essence is that the frame rate is doubled, using the fields as frames.  At the same time, the missing lines in each field are restored using interpolation or duplication.  The disadvantages stem from a doubling of the frame rate - more resource-intensive decoding and an increase in the size of the video stream. <br><br>  It is considered the best method, judging only by the output quality. <br><br>  To use Bob deinterlacing, add the Bob command to the end of the script.  The result is: <br><br> <code>DirectShowSource("00581.mts") <br> AssumeTFF() <br> Bob()</code> <br> <br>  <a href="">Screenshot</a> <br><br>  <b>Yadif</b> <br><br>  The name is an abbreviation of <b>Y</b> et <b>A</b> nother De Nterlacing <b>F</b> ilter.  This filter has been ported to AviSynth by Michael Niedermayer.  It checks the pixels of the previous, current, and next frame to restore fields using a local adaptive method (edge-directed interpolation) and uses spatial check to prevent most artifacts from appearing.  A detailed explanation of the algorithm is <a href="http://trac.handbrake.fr/wiki/yadif">here</a> . <br><br>  One of the easiest to use filters.  I have version 0.9. <br><br>  The input takes 4 parameters: <br><br><ul><li>  0 - performs temporal and spatial checks, is used by default; </li><li>  1 - the same as 0, but doubles the frame rate (old friend bob); </li><li>  2 - does not perform temporal and spatial checks; </li><li>  3 - doubles the frame rate, but does not perform temporal and spatial checks. </li></ul><br><br>  Screenshots: <a href="">0,</a> <a href="">1</a> , <a href="">2</a> , <a href="">3</a> . <br><br>  Example of use: <br><br> <code>LoadCplugin("yadif.dll") <br> <br> DirectShowSource("00581.mts") <br> AssumeTFF() <br> Yadif(0)</code> <br> <br>  or, which is the same <br><br> <code>LoadCplugin("yadif.dll") <br> <br> DirectShowSource("00581.mts") <br> AssumeTFF() <br> Yadif()</code> <br> <br>  Which method to use?  Use - 0 if you do not <u>know</u> that you need others. <br><br>  <b>Smoothothinterlace</b> <br><br>  This plugin is more complicated.  It has all sorts of <a href="http://avisynth.org/SmoothDeinterlacer">options</a> for fine tuning.  Using it, however, is quite simple. <br><br> <code>LoadPlugin("SmoothDeinterlacer.dll") <br> <br> DirectShowSource("00581.mts") <br> AssumeTFF() <br> SmoothDeinterlace()</code> <br> <br>  You can add different settings, for example, <b>doublerate</b> - doubling the frame rate. <br><br> <code>LoadPlugin("SmoothDeinterlacer.dll") <br> <br> DirectShowSource("00581.mts") <br> AssumeTFF() <br> SmoothDeinterlace(doublerate=true)</code> <br> <br>  Screenshots: <a href="">by default</a> , <a href="">with doubling</a> . <br><br>  <b>TomsMoComp</b> <br><br>  I will quote the <a href="http://www.avisynth.org.ru/docs/russian/externalfilters/tomsmocomp.htm">official</a> source. <br><br><blockquote>  TomsMoComp.dll is a deinterlacing filter that uses motion compensation and adaptive processing.  It works at different speeds depending on the SearchEffort parameter, which in this version varies from 0 (just a slightly higher quality BOB-deinterlacing) to 30 (too large amount of computation for modern computers).  From this range, several values ‚Äã‚Äãare actually used (in this version, 0,1,3,5,9,11,13,15,19,21, max), if you specify a different value, the closest one is used.  Values ‚Äã‚Äãabove 15 have not yet been thoroughly tested and should probably be avoided. </blockquote><br><br>  Actually, do not add or subtract. <br><br>  Example of use: <br><br> <code>LoadPlugin("TomsMoComp.dll") <br> <br> DirectShowSource("00581.mts") <br> AssumeTFF() <br> TomsMoComp(-1, 1, 0)</code> <br> <br>  The SearchEffort parameter is the second. <br><br>  Screenshots for SearchEffort = <a href="">1</a> , <a href="">30</a> . <br><br>  On this, perhaps, I will stop.  What filter to use, you ask?  And I answer - I do not know.  Selecting a filter is akin to arguing about choosing a codec or operating system.  Try it.  What seems to you the best - that one and use.  If you are still torn by doubts, then try YADIF first, then TomsMoComp, and if none of these fit SmoothDeinterlace.  Use pure Bob if you are sure of the need to use it. <br><br>  <a href="http://www.avisynth.org.ru/docs/russian/externalfilters/tomsmocomp.htm">Download TomsMoComp 0.0.1.7</a> <br>  <a href="http://www.guthspot.se/video/AVSPorts/SmoothDeinterlacer/">Download SmoothDeinterlace 1.5.5</a> <br>  <a href="http://avisynth.org.ru/yadif/yadif.html">Download YADIF 0.9</a> <br><br>  <b>Additions from readers</b> <br>  <a href="https://habrahabr.ru/users/xitsa/" class="user_link">Xitsa</a> <br><blockquote>  The conversation would be incomplete without the legendary <b>MVBob</b> script, considered the best of its kind.  About him it is better to read everything that is on doom9. <br>  If someone wants to try, then <a href="http://ifile.it/y0uqk7v">this is</a> not a very fresh build (but everything is included). <br></blockquote><br><br>  <a href="https://habrahabr.ru/users/sabox/" class="user_link">sabox</a> <br><blockquote>  What about TDeint?  In my opinion, it can be in line with the above listed. <br><br>  TDeint is a bidirectional, motion compensated (sharp) de-interlacing (deinterlacer).  He can also adaptively choose between using adaptation to motion over whole fields and over pixels.  It can use cubic interpolation, nuclear (matrix) interpolation (with switching time directions), or one of two forms of modified edge adaptive (ELA) interpolation, which helps reduce jagged edges in moving areas where interpolation should be used.  TDeint also supports manual correction by the user through a special input file and can work as an intelligent field converter to a full-frame (bobber) or interlacing with preserving the original frame rate, as well as a post-processor for the inverse telekino transformation (IVTC). <br></blockquote></div><p>Source: <a href="https://habr.com/ru/post/61822/">https://habr.com/ru/post/61822/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../61808/index.html">404: Conference not found</a></li>
<li><a href="../61810/index.html">Second hacker festival in Paris</a></li>
<li><a href="../61815/index.html">UPD: Wi2Geo plugin for popular QIP, Miranda and Skype instant messengers + sources</a></li>
<li><a href="../61819/index.html">Work with sound in * nix. Part 2</a></li>
<li><a href="../61821/index.html">No more analog television in the US</a></li>
<li><a href="../61824/index.html">There is nothing cooler than PERL!</a></li>
<li><a href="../61826/index.html">Video rip. Part 2-2. How to determine what we have: progressive, interlaced or telecined?</a></li>
<li><a href="../61827/index.html">Wii DJing</a></li>
<li><a href="../61828/index.html">Education 2.0. Overview of another educational site</a></li>
<li><a href="../61830/index.html">Testing wav mp3 ogg</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>