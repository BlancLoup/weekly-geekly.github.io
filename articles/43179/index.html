<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to debug Windows graphics in Microsoft</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I‚Äôve been in MS for more than two years now, and still in the debugger I spend most of my useful time (more only in Outlook). 
 I used to do the Windo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to debug Windows graphics in Microsoft</h1><div class="post__text post__text-html js-mediator-article">  I‚Äôve been in MS for more than two years now, and still in the debugger I spend most of my useful time (more only in Outlook). <br>  I used to do the <a href="http://msdn.microsoft.com/en-us/library/ms737408.aspx">Windows Imaging Component</a> , a new library for working with images, and now <a href="http://msdn.microsoft.com/en-us/library/bb205075(VS.85).aspx">DXGI</a> is a hardware acceleration infrastructure.  The first is entirely in user mode, the second in both kernel and user, but the overall experience of debag is basically the same. <br><br><a name="habracut"></a><br>  Whoever finds the bug and wherever it crashes - always send a remote, that is, remote debugging.  And almost always - immediately, without reminders.  After the report about the beautiful immediately connect and see - the most natural action. <br>  There are symbols servers to take out symbols for main builds.  From the source control to take the necessary versions of sors by build number. <br>  If you did not react for several days and the machine was idle in more beautiful - then full memory dump. <br><br>  On the instrumented build, again, if you ask, they will try to repeat it.  In this sense, automatic testing also helps a lot - it becomes much easier to repeat.  Surprisingly, this is required very rarely, most likely because they can debug without. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Remote, of course, for Jedi debuggers.  Forget visual studio.  Debaggers in Windows (in any case, in unmanaged-part) two - cdb and windbg, one another kosher. <br><br>  cdb is a pure console debugger.  g, bp, register reads, memory and stack dumps, line number and sourse file name as a means of viewing sorts. <br>  windbg - on top of this can a little from the usual ordinary mortals.  It shows the code, it shows the breakpoints in red, there are even watch and call stack windows.  Watch works disgusting, update on mood, does not understand complex expressions, and so on.  Why is that?  Because it does not need all this real Jedi.  The most valuable part of the windbg is the console, anyway, the whole thing is there. <br><br>  And while they are very powerful.  They put all possible brekpoynty - to download dll, to load the driver, to access anywhere.  They will get into the unload DLL, they may pop up characters, they will show the version of exe and so on.  To learn all the features, I think you need a few years of intensive training.  And, yes, another fun thing is collective debugging, when there are several people in one debug console. <br><br>  People can debug at a very low level, they start looking at the asm code and the bare stack-trace without blinking an eye.  My former lead always carries with itself a magic piece of paper on which it is drawn where and how when a function is called, the functions are put on the ip and esp stack, which goes to ebp, where local variables are put.  Magic artifact, +2 to debugging skills.  And it was necessary more than once and not two.  Previously, I would just send a nafig, send a debagging build and tell me to do repro with him, or I would sit down for a week with a change of code, a thousand printf and a million restarts, but it turns out that they can debug it without. <br><br>  To illustrate - tell a favorite story. <br>  Fell away and in the release build of Vista, gave the remote, I want to see the variable functions in the middle of the stack.  Until this debugger can not unwind.  It is clear why - this was in ecx, because call is internal, it was pushed onto the stack when the next function was called, it is somewhere in the middle of the stack frame and the debugger cannot find it at all. <br>  Lead launches his favorite cdb, pulls out an artifact piece of paper, starts looking at a stack dump.  There are a lot of pointers nearby, it just doesn't look that way.  He says - it will be more serious, we will look at the asm-code in the place of the call, let's see how he pushed this on the stack.  It is necessary to print dizasm functions. <br>  Dials a console command that prints a code with line tags by function name.  It prints for some reason only half, apparently a limit on the number of output.  Tormented with the parameters does not help. <br>  He says irritably "Forget these fancy new commands, lets do it old-fashioned way."  Takes the address of the code of this function, which one looks in the sourse file of the next one, takes its address, dumps a bare dizasm between them.  Finds in it pushy and the necessary call, happy ending. <br><br>  That is, a team that automatically, by the name of the function, dysasms with its lines is a newfangled crap, or a dump between two addresses. <br>  What then is VS debugger? <br><br>  And while - I did not see in Windows bugs, which are beyond debugging.  It happens that you sit for several days, it happens that the help of men from the other team is needed, it happens that the bug bounces many times (or is collectively debugged), but nevertheless, if it falls regularly (even not necessarily a constant repro), find it. <br><br><h4>  Short recap: </h4><br>  1) To be able to do from everywhere and always remote debug.  Have a base of characters for all builds. <br>  2) Do not be afraid of low level. <br>  3) Invest in this environment. <br><br>  And for all these reasons - when something falls or slows down at home in Windows, seditious thoughts begin to come to symbols. <br>  And debug. <br></div><p>Source: <a href="https://habr.com/ru/post/43179/">https://habr.com/ru/post/43179/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../431770/index.html">How to change your life by starting the development of the OpenSource project (continued)</a></li>
<li><a href="../431772/index.html">How to find out in two clicks the real name of the owner of the email or phone number using PayPal or a hole in privacy?</a></li>
<li><a href="../431774/index.html">In Japan, began broadcasting in 8K format</a></li>
<li><a href="../431780/index.html">Conversations with the "Higher Mind". Limits in the creation of artificial intelligence</a></li>
<li><a href="../431786/index.html">The story of what not to do during development</a></li>
<li><a href="../431790/index.html">How to create a website or application, taking into account users with special needs</a></li>
<li><a href="../431792/index.html">The digest of interesting materials for the mobile developer # 277 (November 26 - December 2)</a></li>
<li><a href="../431794/index.html">Proof of the Goldbach binary hypothesis</a></li>
<li><a href="../431796/index.html">NASA signs development lunar module development contracts with private companies</a></li>
<li><a href="../43180/index.html">Preparing your Inferno applications for standalone installation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>