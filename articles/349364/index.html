<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>OOP without "O"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I hope the materials published in this article do not seem too obvious or an attempt to insult the feelings of "believers", and even more so no one wi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>OOP without "O"</h1><div class="post__text post__text-html js-mediator-article"><p>  I hope the materials published in this article do not seem too obvious or an attempt to insult the feelings of "believers", and even more so no one will take the title of the article too literally as "oriented programming."  In any case, this article is an attempt to share personal experience, and not to promote their point of view. <a name="habracut"></a></p><br><p>  A bit of background: I am a conservative person, I accept all the changes "in hostility", but if the advantages are obvious, then by cooling my ardor I try to get used to the "innovation".  So it was with OOP when in the process of mastering PHP I ran into it.  First, I perceived classes and the creation of objects as a pure overhead (and not to say that it was a mistake), but in the process of acquaintance, the ‚Äústructured‚Äù and ‚Äúorder‚Äù that gave the PLO made me a religious fanatic of the PLO (and MVC, but now is not about this). </p><br><p>  At about the same time, I changed jobs and got into the development team where the company's multifunctional portal was written in pure PHP (without the use of frameworks), and each gate could.  Of course, there were high-level developers there, but the time to refactor the existing code was very small, most of the time was spent on expanding the functional, and all the more there could be no question of changing the structure and rewriting everything from scratch.  There were also examples of ‚Äúbad OOP‚Äù, for example, in the client code (some kind of controller, if we draw an analogy with MVC), at the very beginning all objects were created that would be used in the code (they also included them beforehand, without any hope of an autoloader) and not least, some semblance of the delegation pattern was applied to them: a mysqli object was created and assigned to the sql property of each object.  You can only imagine how many unnecessary actions to empty and how much memory overruns occur. </p><br>  Here is my basic example: <br><br><pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doSomething</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">someStatic</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">B</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doSomething</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">someStatic</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ } } <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span>((memory_get_usage()/<span class="hljs-number"><span class="hljs-number">1024</span></span>).<span class="hljs-string"><span class="hljs-string">"Kb"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//: 211.90625Kb</span></span></code> </pre> <br><p>  These measurements are only to estimate the weight of the ‚Äúempty page‚Äù, that is, here we have not yet created any objects and have not used any methods from the class. </p><br><p>  Now let's see what it will cost us to create such ‚Äúuseless‚Äù objects and call their methods: </p><br><pre> <code class="php hljs">$a=<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> A; $a-&gt;doSomething(); $b=<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> B; $b-&gt;doSomething(); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span>((memory_get_usage()/<span class="hljs-number"><span class="hljs-number">1024</span></span>).<span class="hljs-string"><span class="hljs-string">"Kb"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//: 214.15625Kb</span></span></code> </pre><br><p>  As you can see, the difference is not impressive, but it is provided that both the object and the method essentially do nothing at all.  As you know, PHP has static methods and properties that belong to a class, in contrast to the usual methods and properties that belong to an object of this class.  Our classes contain just such methods (coincidence? - I don‚Äôt think), their functionality is exactly the same as the usual methods of this class, so in fact we can do the same actions bypassing class creation: </p><br><pre> <code class="php hljs">A::someStatic(); B::someStatic(); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span>((memory_get_usage()/<span class="hljs-number"><span class="hljs-number">1024</span></span>).<span class="hljs-string"><span class="hljs-string">"Kb"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//: 212.6171875Kb</span></span></code> </pre><br><p>  Perhaps the comparison on the "ultra-low" numbers does not give a complete picture, but this is the very overhead from which you can refuse.  I don‚Äôt like to create objects, and this is what this article is about, I try to make maximum use of static methods and properties.  The reason is not love to work with the object (when transferred to another method), because I have a phobia that he is not who he claims to be, of course you can check him for belonging to one or another class through the instanceof, but so that there are no unforeseen results are better to check its contents, which may turn out to be a chore, and it is easier to assemble the necessary structure during the execution of the script (further please treat with understanding) using the advantages of a structured class system, but not creating objects in the client code, essentially in pseudo  procedural style.  But back to the code. </p><br><p>  If you are concerned about the implementation of the constructor functional, then this is implemented through self: </p><br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $prop; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;prop=<span class="hljs-string"><span class="hljs-string">'test'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doSomething</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">someStatic</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>(); } }</code> </pre><br><pre> <code class="php hljs">$a=<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> A(); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $a-&gt;prop; <span class="hljs-comment"><span class="hljs-comment">//test echo((memory_get_usage()/1024)."Kb"); //: 211.9140625Kb</span></span></code> </pre><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> A::someStatic()-&gt;prop; <span class="hljs-comment"><span class="hljs-comment">//test echo((memory_get_usage()/1024)."Kb"); //: 211.5703125Kb</span></span></code> </pre><br>  The most attentive and resourceful of course will offer something like (and they will be right): 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> ((<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> A())-&gt;prop); <span class="hljs-comment"><span class="hljs-comment">//test echo((memory_get_usage()/1024)."Kb"); //: 211.53125Kb</span></span></code> </pre><br><p>  But this is only because execution examples are too exaggerated, and some implementation in such a scheme can be achieved only if the method returns this object ($ this). </p><br><p>  This whole line of thought is only to explain that it is not necessary to create objects in OOP, and you can do without them saving memory (as in principle without any extra assignments), unless of course this is justified by the application architecture, or pattern, and of course you should not be given in the extreme, if you need an object - create an object, sometimes you can't do without it.  But if the result of some action is an object, then why not immediately start working with it? </p></div><p>Source: <a href="https://habr.com/ru/post/349364/">https://habr.com/ru/post/349364/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../349354/index.html">Develop isomorphic RealWorld applications with SSR and Progressive Enhancement. Part 2 - Hello World</a></li>
<li><a href="../349356/index.html">Sum of iconCaption points in the cluster LoadingObjectManager</a></li>
<li><a href="../349358/index.html">Apache Ignite - database cache</a></li>
<li><a href="../349360/index.html">Bitcoin will not be a new digital money: about the drug business, transaction costs and gold</a></li>
<li><a href="../349362/index.html">SVG masks and wow effects: magic with simple words</a></li>
<li><a href="../349366/index.html">Web components. Part 1: Custom Elements</a></li>
<li><a href="../349370/index.html">How I adjusted Telegram notifications for Mi Band 2</a></li>
<li><a href="../349372/index.html">How is Alice. Yandex lecture</a></li>
<li><a href="../349374/index.html">Script Editor Age of Empires 2 can be turned into a Turing machine</a></li>
<li><a href="../349376/index.html">Game development for NES in C. Chapters 11-13. We write and debug a simple platformer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>