<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Delivery: we solve the problem of optimizing the ways and open the "left"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="An example of a map from a GIS system, on which delivery zones are marked, is a different color for different machines. 

 A hundred couriers from the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Delivery: we solve the problem of optimizing the ways and open the "left"</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/e71/719/c12/e71719c12e7cf9edee3109db1a41681b.png" alt="image"><br>  <i>An example of a map from a GIS system, on which delivery zones are marked, is a different color for different machines.</i> <br><br>  <b>A hundred couriers from the point of view of a manager are such a branch of hell with short-term planning</b> .  This formulation, of course, does not convey the sensation of the Ryazan Highway, which has firmly risen, a jumper on the roads to Novokuznetsk and a girl-operator who sent the car to Zelenograd instead of Moscow.  Well, to the heap - an accident with a truck, carrying urgent goods. <br><br>  From the client‚Äôs point of view, even being 5 minutes late turns into a tragedy.  And this, by the way, is correct and understandable.  From a marketing point of view, every slip of a courier is a lost customer.  But from the point of view of the part of the drivers, automation is <b>a clear evil</b> .  Because even gasoline does not allow to merge at your pleasure.  In reality, we met with real riots of drivers against the introduction of IT-systems. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, for companies whose main part of traffic is intracity delivery, the issue of route planning is strictly enough.  The key feature is taking into account the transport conditions of the city.  That is, the system should be able to count traffic using all types of transport, take into account problems on the road and at the same time optimize resources. <br><br><h4>  "Levaki" and riots drivers </h4><br>  Even in our practice for large retail, it quickly became clear that the system reveals just a huge number of violations that were allowed by drivers.  Petrol is drained, not so drive, a lot of things.  And <a href="http://www.croc.ru/promo/logistics/">IT tools</a> make this whole feeder transparent.  It is logical that not only the usual resistance to new processes arises, but also the desire to hide behind and return everything as it was.  We once stumbled upon such a situation: in fact, the movement, according to the rules, took half of the earnings from the drivers - its ‚Äúshadow‚Äù part. <br><br><h4>  Who needs automation and when? </h4><br><ul><li>  Courier services - obviously. </li><li>  Online shopping - when there are about 50 couriers. </li><li>  Shipping companies - also somewhere in the state of 50 people. </li><li>  Pizzerias and other companies with delivery on call. </li><li>  Large wholesalers, for example, to deliver perishable goods or to optimize the delivery of goods to the point. </li><li>  Retail for the organization of pre-delivery to stores and so on. </li></ul>  One of the most interesting tasks solved in this regard is the optimization of cash collection for ATMs (here‚Äôs a separate <a href="http://habrahabr.ru/company/croc/blog/152649/">topic</a> ). <br><br>  It is clear that when a company is small, usually everything is decided through Yandex.Maps routes and a leaflet with a pen. <br><br><h4>  What are the features? </h4><br><ul><li>  You need the right construction of routes: at what time it is best to go, where is one-way traffic and so on. </li><li>  For motor transport there is a graph of restrictions: somewhere the car will not climb through the height or tonnage, pass.  For example, in Moscow, there are several zones - skip 0, skip 2, skip 3. </li><li>  Take into account traffic jams.  In Moscow and St. Petersburg, for example, solutions that are built on the basis of GIS systems are gaining more and more popularity and routing based on traffic statistics.  At the same time, the TMS-system has the logic of forming routes, and there are separate GIS-systems, which are used for operational revisions. </li><li>  It is good not to enter data by hand, but to receive it automatically from map services.  In some solutions it is possible to calculate data by distance and time of the route not from its tables, but from external modules.  That is, if you have somewhere a source of data on road repairs, you will not need to enter it inside the system, it will be enough to update a piece of the database of the external module. </li></ul><br><h4>  Two major systems: TMS and GIS </h4><br>  As you can see, for the right plan you need to have two main systems.  The first is <a href="http://www.croc.ru/solution/business-solutions/applications/logistics/">TMS</a> , which makes route distribution graphs by points.  Here information is collected, on the basis of which this optimal graph is built.  Usually it is taken from reference books within the system: for example, the coordinates of points for detour or the presence of vehicles in the company. <br><br>  At the same time, traffic jams in Russia change everything in such a way that it is already problematic to plan for more than 12 hours according to general statistics.  As you probably know, delivery may be delayed and more, especially during the holidays, on the spikes.  That is, here we need a picture that is updated at least once an hour - and here TMS requests GIS modules.  Plus, it is checked that not just the car went on such a path, but added restrictions.  This car went along such a path with such a load and such a set of documents.  And it is necessary, for example, to write out to the driver a power of attorney to receive the cargo, plus give a pass. <br><br><h4>  TMS simple task example </h4><br>  You have three couriers: the foot Vasya, the motorcyclist Ivan and the driver of the gazelle Peter.  And 20 orders in the electrical store.  TMS determines how to quickly dissolve everything you need, using the known parameters of couriers and points.  For example, if we have two orders at the 80th and 90th kilometers of the Moscow Ring Road, one of them is a box of perforators, and the second is a screwdriver, Peter will go there for a gazelle.  In this case, the "greedy" algorithm would suggest that it is not very logical to carry a screwdriver by car, but the ordering arrangement helped optimization.  Further, in the city you need to calculate where Vasya will go, and where Ivan will go.  Two graphs will be built: for the motorcycle and for the pedestrian (taking into account the carrying capacity and movement possibilities of each).  After evaluating the points, such options will be selected that fit into all restrictions and allow you to quickly and simply dilute orders.  It may also turn out that one of the orders came with a high urgency - the system uses this condition as a constraint and puts it at the beginning of the route. <br><br><h4>  Why then GIS? </h4><br>  Everything would be great if it were not for traffic jams.  Our TMS-system considers the time of the route, for example, based on an average speed of 80 km / h on one of the roads.  If we are talking about improving the accuracy of the planning procedure, and using data from the GIS system, then this rule is to take information on the distance and time of movement from the external system.  That is, when weighting the vertices of the graph with the route elements, we will use the most recent data. <br><br><h4>  What algorithms are used? </h4><br>  Habitual for solving the traveling salesman problem.  As a rule, we are talking about a complex of algorithms for a task: for example, on highly loaded systems with the impossibility of complete enumeration in more than 90% of cases, solutions are deployed on a fairly good hardware, therefore it is often considered either brute forcefully or by the branch and bound method. <br><br><h4>  Monitoring module </h4><br>  Another important task is control.  If we are talking about delivery, as in the palm of your hand, it is not only planning for traffic, but also monitoring.  When the car is equipped with GPS equipment or the courier has a corporate tablet or smartphone, or a tracker.  Based on GPS data, it is, firstly, it is possible to visualize the location of each vehicle on the map, and secondly, to register events occurring with this vehicle. <br><br>  Events are usually divided into two types.  These are force majeure and scheduled events.  A delay of 10 minutes to deliver the goods to their points is a frequent event and generally uncritical and not in need of a special alert.  But if the car turned off the route and went to Ryazan - this is a reason for notification. <br><br>  There are also more complex options, this is when the sensor is integrated into the car's CAN-bus and you can record, for example, the fuel level, temperature.  By the way, probably, the best example of temperature control is not even frozen vegetables, but laboratory tests.  For example, if a blood test is frozen in a refrigerator, it can already give false negative results for a number of infections. <br><br><h4>  Reverse flow </h4><br>  To deal with operational situations one of the most convenient solutions is when drivers are put in mobile terminals and, in fact, they receive tasks in the online mode.  And share some of the data for customers, for example, about exactly where their goods.  Accordingly, it becomes important to make a simple web-interface, understandable to the person "from the street."  This is important because the TMS-system often becomes the only source of truth for all participants in the logistics process. <br><br>  If an expensive or fragile cargo is busy, the customer usually insists on being included in such a system, by the way. <br><br><h4>  Analytics </h4><br>  3-4 years ago, everyone liked to put a big screen in the office and look at their cars and people on the map.  Now this is not enough, we also need an analyst.  For example, a forecast on where the risk of being late is possible, where it is inappropriate to drive transport instead of on foot couriers and so on.  When forming a deviation, the attention of the dispatcher is drawn to it. <br><br>  There are recommendations from him - to call someone, to warn.  This is important for those who care about the client: for example, you can send an SMS machine gun 15 minutes before the courier arrives, or report the delivery status in real time. <br><br>  In the TMS system, you can configure different reactions to the triggers.  The first thing that is configured is deviations with alerts for the responsible persons, and only later - different statuses for clients. <br><br>  Then automatic responses are planned.  An example is route re-planning, recalculation of time on arrival of a car at subsequent points of the route.  And the most difficult reaction is, for example, the search for a new resource, in the case of transportation, the search for a new car. <br>  The driver calls or on the monitoring you can see the accident.  The system on the basis of GPS data checks the nearest resources, checks through TMS the load and the possibility of "maneuver", and redirects it to this point.  For example - there is a truck, which has a free half-body.  He goes to a point with an accident, takes the goods, his route is further rescheduled, all participants in the chain are warned about the new timekeeping. <br><br><h4>  What is the struggle for? </h4><br>  It is clear that not a single normal person will want to get involved in the introduction of another IT system, which is all across the throat, if there is no substantial profit.  So, these systems give: <br><ul><li>  Saving work time.  That is, where 100 couriers used to cope, 75 can now work just as effectively. </li><li>  Fuel economy. </li><li>  Reducing peak loads, especially on holidays. </li><li>  Reduction in non-standard goods (expired yogurts, chilled tangerines, warm meat, etc.). </li><li>  Reduction of incidents of ‚ÄúHEMO-GOODS ?!‚Äù. </li><li>  Reduced customer loss incidents. </li></ul><br>  Recently came across a study on the US market, in which they said that leaders are ahead of outsiders in terms of the quality of their products and delivery on time by 70%.  But outsiders are not puzzled by this task, because they are outsiders. <br><br><h4>  Payback </h4><br>  On average from a year.  But it depends, of course, on a lot.  First of all, from what is most critical for the company and for what the struggle is going on, these are all the points above.  And, of course, also on the size of the company, the number of orders per day, on the complexity of the infrastructure of the city, which transports, etc. <br><br><h4>  Screenshots </h4><br><img src="https://habrastorage.org/getpro/habr/post_images/44e/f90/2f5/44ef902f5a08e94cca530f928caa9178.png" alt="image"><br>  <i>An example of the order form for the delivery of goods - all details are recorded - the time interval for loading and delivery, all addresses, the quantity and weight of the goods, etc.</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fa4/a1c/8d7/fa4a1c8d7264495c318bca74d466ffb6.png" alt="image"><br>  <i>An example of the form of viewing routes with detail.</i>  <i>The right shows the details of the route highlighted on the left.</i>  <i>Lilac indicates what has already been done.</i>  <i>Exclamation marks are alerts.</i>  <i>A green check mark is a completely spent route.</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bf4/2b5/859/bf42b585979e6e2c3fcabcf39daf7efa.png" alt="image"><br>  <i>And one more screenshot from GIS.</i>  <i>This is a map at the stage of building routes, so we can control that one machine does not cut circles, but moves consistently.</i>  <i>Icons with three cubes - are not yet covered points, which also need to deliver the goods.</i> <br><br>  Ready to answer your questions in the comments or by mail AlIsaev@croc.ru. </div><p>Source: <a href="https://habr.com/ru/post/206614/">https://habr.com/ru/post/206614/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../206604/index.html">Designing a corporate site layout</a></li>
<li><a href="../206606/index.html">Tig - console GUI for Git</a></li>
<li><a href="../206608/index.html">[Promotion] Gifts from Santa to the New Year or winter with Netwrix</a></li>
<li><a href="../206610/index.html">Adaptive Broadcast Technologies</a></li>
<li><a href="../206612/index.html">SNMP MIBs and how to cook them</a></li>
<li><a href="../206616/index.html">Epson President: ‚ÄúHome-based 3D plastic printing has no great future. We will only do commercial 3D printers. ‚Äù</a></li>
<li><a href="../206620/index.html">Opencourseware</a></li>
<li><a href="../206622/index.html">We design a convenient email client</a></li>
<li><a href="../206624/index.html">"The largest digital camera" was sent into space</a></li>
<li><a href="../206628/index.html">NodeSchool - interactive lessons on Node.Js</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>