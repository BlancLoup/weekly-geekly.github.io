<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Electronic signature in Bitrix24. Theory and experience of implementation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A well-established mechanism for rapid response to a changing reality is one of the rules of a successful business. The trends of modernity say to be ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Electronic signature in Bitrix24. Theory and experience of implementation</h1><div class="post__text post__text-html js-mediator-article"><p>  A well-established mechanism for rapid response to a changing reality is one of the rules of a successful business.  The trends of modernity say to be more mobile, faster, more convenient for the client, for themselves.  But we spend many hours signing documents that require the participation of more than one and not two parties.  Even longer when workers are hundreds of kilometers away.  The path to mobility may lie through the EDS - Electronic Digital Signature. <br><br>  In this article we will talk about the types, advantages, disadvantages of EDS, integration possibilities and how in practice the implementation of EDS is implemented on the corporate portal Bitrix24. </p><a name="habracut"></a><br><h2>  Pro work and terminology </h2><br><p>  The EDS tool is a convenient and long-familiar to almost everyone who works with remote document management.  However, implementing the EDS on the Bitrix24 Corporate Portal turned out to be a nontrivial task.  Our acquaintance with this integration began with two client tasks: </p><br><ol><li>  Standard - embed signature documentation remotely. </li><li>  Non-standard - to give the opportunity to employees scattered throughout the territory of Russia, debugged and in time to submit advance reports. </li></ol><br><p>  However, first, let's understand what it is - EDS and what it is eaten with. </p><br><p>  <b>Personal signature</b> is one of the person's identifiers.  Legislatively and with impunity, only this person, only his hand, can repeat it.  And if it (the hand) is not capable, and an important transaction should not fail, a special notarial procedure is carried out and the signature is put by a trusted person. </p><br><p>  We will not hide - the signature is forged.  A matter of skill and habit.  Although verification technologies have been developed - by pressure, thickness, lines - only the signature holder is the guarantor.  Any squiggle incomprehensible to others is recognized as legitimate according to its author. </p><br><p>  Significant transactions require a second ‚Äúpersonal signature protection‚Äù.  A person is asked to present an identity document with a photo, to put a signature in the presence of a confirming person - a notary.  The latter guarantees that the signatory will fulfill the clauses of the contract, powers of attorney, statements </p><br><p>  But participants in the process are not always within reach of each other.  There is mail, but it is expensive and time consuming. </p><br><p>  Here we go to the <b>electronic signature</b> .  It is of three types ( <a href="http://www.consultant.ru/document/cons_doc_LAW_112701/d9cd621c949a3c9efef51c2884c247e18ab9908b/">FZ of 06/04/2011 No. 63-FZ ‚ÄúOn Electronic Signature‚Äù</a> ). </p><br><ol><li><p>  <b>Simple electronic signature (PEP)</b> .  This is a familiar login-password pair.  The apparent shortcomings of the probe begin with a low reliability and end with the absence of a protection mechanism against changes.  Sometimes its use is possible even in court (for example, a document transmitted by e-mail, because there is a login and password), but it is difficult and not all cases work. </p><br></li><li><p>  <b>Unqualified electronic signature.</b>  Often use the prefix "enhanced", but in the legislation there is no such definition.  She, unlike PEP: </p><br><ul><li>  cryptographic result; </li><li>  contains the identifier of the signer; </li><li>  allows you to determine whether changes are made to the electronic document. </li></ul><br></li><li><p>  <b>Qualified electronic signature.</b>  Also use the prefix "enhanced".  This is the same as unqualified, but with two important additions: </p><br><ul><li>  The certificate is issued by an accredited certification authority (hereinafter referred to as CA).  CA checks all the necessary documents and acts as a guarantor of the authenticity of the data.  Information about the author of the signature is stored in the TC.  In the event of a dispute or misunderstanding, personal data is checked, so each certificate contains information about the certification authority that issued it. <br></li><li>  Signature software certified by the FSB of Russia. </li></ul></li></ol><br><table><tbody><tr><td width="50"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2e5/a77/a72/2e5a77a72404e2ee552649901d5977f9.png" alt="info"></div></td><td><p>  <i>Everywhere in the text, the EDS is understood as the reinforced qualified or reinforced unqualified signature.</i> </p></td></tr></tbody></table><br><p>  Let's sum up the intermediate result.  An unqualified signature will be valid only between persons who have entered into an agreement and recognize the signature as valid.  A qualified signature can certify almost any documents.  They will be legitimate.  Working with CA is an analogue of notarization.  The exceptions are invoices for offsetting VAT.  Electronic invoices are transmitted only through operators of electronic document management.  Even an invoice signed by all the rules of EDS sent by e-mail will not be legitimate. </p><br><p>  The question of choosing one or another type of signature depends only on the needs of business processes. </p><br><h2>  What is the output?  Document formats with EDS </h2><br><p>  The next question is what do we get at the output?  A document with a facsimile, with a watermark?  What format of a document with EDS can I get? </p><br><p>  There are two possible outcomes: </p><br><ol><li><p>  <b>Container ("ordinary" signature).</b>  As a rule, this is an archive of the "* .sig" format.  There are signed documents, information about the certificate with which the signature was made and the signature itself.  A file of this format is opened only with the help of special software.  Use the usual Adobe Reader or MS Office does not work - they are not adapted to work with cryptography.  In addition to the data, signature and certificate, the user can save an unsigned copy of the document. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/06f/294/f24/06f294f241c673d3cf0dc8df7bc0bb16.png" alt="image"></div><br></li><li><p>  <b>"Built-in" signature.</b>  We receive a file of the same format that we submitted for signature.  In special areas of the signed document are placed on the certificate.  Such a signature is possible only for files of the format: </p><br><ul><li><p>  <b>PDF.</b>  The signature is invisible in the body of the document, but displayed in the signature panel.  If desired, it can be visualized, for example, in the form of a stamp.  When you click on it, the signature data is visible.  By the way, in this form, as a rule, IFS documents are signed and sent (the xml variant is also used). </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fe8/80f/cb2/fe880fcb2ec78c4488d14d907c2dfef8.png" alt="image"></div><br></li><li><p>  <b>MS Office.</b>  The signature is placed in a special area of ‚Äã‚Äãthe document and is visible on the signature panel or in the file properties. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0cf/ca2/c20/0cfca2c20f6762c23246e45b8d539401.png" alt="image"></div><br></li><li><p>  <b>XML.</b>  The signature along with its data is contained in the XML value domain and is embedded in the same XML envelope without changing the initial data. </p></li></ul></li></ol><br><table><tbody><tr><td width="50"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2e5/a77/a72/2e5a77a72404e2ee552649901d5977f9.png" alt="info"></div></td><td><p>  <i>The ‚Äúembedded signature‚Äù option is most convenient to use.</i>  <i>It is about him will be discussed in the material.</i> </p></td></tr></tbody></table><br><h2>  Unobvious subtleties of EDS </h2><br><ol><li><p>  The different parties can sign one document exclusively in a uniform way: either only an EDS or only in paper form (for example, a contract between the Customer and the Contractor).  The signature in paper form is not valid in electronic form, and the signature in electronic form is not valid in paper form.  These are two different documents. </p><br></li><li><p>  The document can be signed any number of times.  That is, the employee first signed, then the accountant, then the CEO. </p><br></li><li><p>  Several documents signed by EDS can be signed in one package (archive) by a completely different EDS.  Other documents in the package with EDS also remain legitimate. </p><br></li><li><p>  Documents can be signed by EDS in automatic mode.  Suppose you have formed an invoice for payment in CRM - it automatically subscribed.  You can send it to the client, the account is legitimate. </p></li></ol><br><h2>  Pro tools and features </h2><br><p>  With the types of signatures and variants of the result sorted out.  We now turn to the selection of tools.  We keep in mind that there is a specific task - to integrate EDS on the corporate portal <a href="https://www.bitrix24.ru/%3Fp%3D41007">Bitrix24</a> . </p><br><p>  An important step is the selection of a software supplier company for implementing EDS.  The choice fell on the recognized leader in the industry with a wide range of tools that has no equivalent in the Russian Federation - <a href="https://www.cryptopro.ru/">CryptoPro</a> .  To solve our problem, the supplier offered several tools. </p><br><h3>  CryptoPro CSP (SKZI) </h3><br><p>  <a href="http://www.cryptopro.ru/products/csp">CryptoPro CSP</a> Crypto Provider is installed locally on the user's PC.  He signs documents by accessing the certificate in the registry, on eToken or RuToken, smart cards and other media. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ad9/de8/3ab/ad9de83ab8dbe814db735f3d1927fc2d.jpg" alt="image"></div><br><p>  <b>Signature process</b> </p><br><ol><li><p> <b>"Automatic"</b> mode (ie, embedded in the portal).  When uploading the file to the server and clicking on ‚ÄúSign‚Äù with the help of the browser plug-in, a call to the CryptoPro CSP will be made.  He will sign the file with the selected keys, which are recorded in the registry, or on the eToken client.  In this mode, you can only make a ‚Äúregular‚Äù (container) and XML signature, since only the hash of the document is transmitted.  Sign inside a PDF or MS Office document does not work. </p><br></li><li><p>  In the <b>‚Äúmanual‚Äù</b> mode (that is, when leaving the portal) the signature is generated by the client itself using the software it uses.  For example, MS Office, CryptoPro CSP and CryptoPro Office Signature must be installed to sign the MS Office document.  In the MS Office interface, the user adds a signature to the document, using CryptoPro as a crypto-provider.  After that, the signed file is uploaded to the personal account using the ‚Äúattach document‚Äù function. </p></li></ol><br><p>  <b>pros</b> </p><br><ul><li>  No internet connection required. </li><li>  You can use a portable usb-token. </li><li>  The cheapest option in terms of CryptoPro software, but not integration. </li></ul><br><p>  <b>Minuses</b> </p><br><ul><li>  MS Office documents or pdf can only be signed into the file manually, in ‚Äúautomatic‚Äù mode only the container can be obtained. </li><li>  Signature occurs with the help of plugins, which creates inconvenience.  They are less reliable.  Many browsers refuse technologies on which they write plugins, integration becomes more complicated.  This significantly increases the cost of technical implementation and support of the software in the future. </li><li>  The user is responsible for the operational status of the CSP.  Requires current version of all programs, components.  Updates occur frequently, therefore, the ‚Äúsettings‚Äù procedure will have to be repeated every time, which creates inconvenience. </li></ul><br><h3>  CryptoPro DSS </h3><br><p>  <a href="http://www.cryptopro.ru/products/dss">CryptoPro DSS</a> allows you to create a <a href="http://www.cryptopro.ru/products/dss">digital signature</a> through a browser.  Installation of the program on the user's PC is not required; you can sign documents from any device anywhere.  Certificates with keys are stored on a secure module in specially deployed CryptoPro servers. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c69/2f7/143/c692f71437a57c349348d746ba4b5509.png" alt="image"></div><br><p>  In CryptoPro DSS, you can configure the user authentication method: </p><br><ul><li>  by login and password; </li><li>  using the certificate access code (PIN code, 4-5 digits); </li><li>  using digital certificates, usb-token or smart cards (in DSS lite mode, details below) </li><li>  with the additional input of a one-time password delivered to the user via SMS (OTP-via-SMS) </li></ul><br><p>  <b>How does the process of signing the document</b> </p><br><p>  User clicks Sign.  A request to the CryptoPro DSS is generated for signature.  The portal asks you to enter a PIN for access to the certificate (if such a requirement is established), and the user receives a one-time password via SMS.  After correct input, the document will be signed and saved on the portal, respectively, and then sent along the planned route.  The client sees only the final result, he does not need to go to another window.  What is important and convenient, the result comes in the same format pdf -&gt; pdf, docx -&gt; docx. </p><br><p>  <b>pros</b> </p><br><ul><li>  System support (operability, updates, etc.) on CryptoPro shoulders.  They gave the request - got the result, the rest is not your worries. </li><li>  Support for pdf signature and MS Office, i.e.  for viewing does not require specialized tools, unlike the container. </li><li>  The most user-friendly and stable way to integrate, as well as hassle-free for technical support and administration. </li><li>  The advantage is that you can sign documents from your mobile phone. </li></ul><br><p>  <b>Minuses</b> </p><br><ul><li>  Signing up requires internet connection. </li><li>  The relative high cost and more complicated procedure of connecting to DSS.  Used scheme with the operator.  The operator‚Äôs connection is currently 39,000 rubles / year, plus the cost of certificates.  They say that soon there will be no need to use operators at work.  Are looking forward to. </li></ul><br><h3>  CryptoPro DSS lite </h3><br><p>  This is the ‚Äúlightweight‚Äù version of CryptoPro DSS.  It is intended for signing digital signature documents in a browser using software.  Difference from DSS - software installed on the user's PC is used as a cryptographic provider, which allows usb-Token and Smart-Cards to be used for signing. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f2c/397/29b/f2c39729bf2338abaca429cf665b4c56.png" alt="image"></div><br><p>  <a href="http://www.cryptopro.ru/products/dss-lite">DSS lite</a> - ‚ÄúDSS mode‚Äù (i.e., included as part of a DSS product).  The signing process is similar to DSS.  Clicking "sign" sends the file to the DSS lite server, which generates a document hash and requests access to the crypto-provider (CSP installed on the user's PC) using a plugin.  Favorable difference - you get the pdf and MS Office documents in their original form with the signature embedded in the document itself, and not in the container. </p><br><p>  <b>pros</b> </p><br><ul><li>  Support signature pdf and MS Office.  To view the signed document does not require specialized tools. </li><li>  With DSS lite, you do not need to connect the operator, it is enough to ‚Äúbuy‚Äù access to the DSS lite. </li><li>  You can use a portable usb-token. </li></ul><br><p>  <b>Minuses</b> </p><p></p><ul><li>  The signature occurs with the help of plug-ins, which creates inconvenience (they were mentioned above). </li><li>  Support for performance lies on the shoulders of the user - the same problem as with the CSP. </li><li>  Signing up requires internet connection. </li><li>  DSS lite requires a new certificate or reissue of the old one, which, in essence, is equivalent to.  The old certificate, albeit from CryptoPro, can not be sewn into the program. </li></ul><br><table><tbody><tr><td width="50"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2e5/a77/a72/2e5a77a72404e2ee552649901d5977f9.png" alt="info"></div></td><td><p>  <i>By the way, the functionality of DSS and DSS lite allows you to add a visual stamp / stamp / signature of your choice on the document.</i>  <i>The EDS itself is invisible, and the stamp is a visualization tool.</i> </p></td></tr></tbody></table><br><h2>  Practical experience of implementation </h2><br><p>  EDS is really the right solution, first of all, for the immutability of the transmitted documents, the mobility of business processes and the preservation of time. </p><br><p>  This task was also set for us - to implement a signature on the corporate portal 1C-Bitrix24.  We need the right functionality, ease of use and proper budget investment. </p><br><p>  But, as you know, the theory is often not comparable with practice.  Solving real problems is more difficult, but more interesting. </p><br><p>  A large biopharmaceutical company had two tasks: </p><br><ol><li><p>  Automate the business process of harmonizing documents. </p><br><p>  Feature - the ability to select specific participants in the agreement, its sequence.  It was required to implement the project on a standard business process module of the corporate portal 1C-Bitrix24.  For the customer it was important to develop a visual, simple and intuitive interface. </p><br><p>  This task is solved without any difficulties.  But it is impossible to omit the fact that a standard business process module does not have special beauty and visibility.  Therefore, advice, if you need a beautiful complex business process "for you", then it is better not to use a standard module.  He imposes a framework, constrains and deprives of open space. </p><br></li><li><p>  Implement an electronic signature on the 1C-Bitrix24 corporate portal for advance reporting. </p></li></ol><br><h3>  Pre-project work </h3><br><p>  The company has a department whose main task is to distribute goods through promotion, lobbying of interests and other types of personal influence on doctors, pharmacists, representatives of the medical industry. </p><br><p>  To do this, there is a staff of sales representatives scattered throughout the country, from Kaliningrad to Vladivostok.  Each agent promotes a product in its own, fixed territory.  More often it is his place of residence.  He bears the costs - meetings, transportation, food - they are reimbursed by the company.  The procedure for cost recovery is nothing more than the delivery of advance reports, so familiar to us on business trips. </p><br><p>  The key and primary point was to describe step by step the business process of the delivery of advance reporting.  Although it is standardized and enshrined in law, each organization has its own specifics.  We will talk about it later.  The ideal business process of a business trip, how the state conceived it, looks like this: </p><br><ol><li><p>  The general director signs an order to send an employee on a business trip.  Often, these orders are signed after the trip retroactively, but this does not change the further legal process of the process. </p><br></li><li><p>  A seconded employee receives a cash report.  So he becomes a debtor to the company. </p><br></li><li><p>  The sales representative travels on a business trip, saves all tickets, checks and other supporting documents.  This is a key stage for reimbursement.  All papers with information about expenses are the primary accounting documentation, the basis for increasing expenses or reducing the taxable base (profit of an organization).  Of course, the legislation clearly states what expenses can be credited and which ones cannot.  Everything is strictly standardized. </p><br></li><li><p>  An employee on returning from a business trip prepares an advance report so that they ‚Äúwrite off‚Äù the debt.  The employee applies all supporting documents to the advance report: checks, tickets, etc. </p><br></li><li><p>  According to the Russian legislation, any advance report must have three signatures: a seconded employee, a chief accountant and a general director.  In small organizations, the CEO can combine the position of chief accountant, and in large organizations, the signature of the employee‚Äôs manager appears. </p><br></li><li><p>  After delivery of the advance report, the employee is obliged to return the balance of funds or get the missing. </p></li></ol><br><p>  The process that we needed to automate for a client is identical in function, but has its own characteristics: </p><br><ol><li><p>  Employees are on business trips permanently - all working hours.  Even a visit to the main office is a business trip, because employees have a permanent place of residence, as a rule, not in Moscow. </p></li><li><p>  If the accountable money is running out, the next tranche can be issued only after a report on the previous ones.  This is where many difficulties arose, for example: </p><br><ul><li>  Due to the remoteness of employees (Siberia, the Urals), originals of advance reports could go for a very long time.  And correcting mistakes is a waste of time, money for courier service, red tape with over-signing and changing dates.  It is very likely that the reporting period by the time of arrival of the originals may already be closed. </li><li>  There are a lot of employees, everyone reports about once a month, many people forget something, lose something - it was difficult for accountants to align documents.  But the accountant must reflect the operation in his system, and do not forget that the employee promised to convey or send. </li><li>  Every employee has a cash limit, but there are exceptions to every rule.  These exceptions are monitored by managers, it is they who are aware of the specific situation of the employee. </li></ul></li></ol><br><p>  Arrangement of this process of systematization and optimization of advance reporting in the IT environment was phased. </p><br><h3>  Implementation </h3><br><p>  Initially, we looked at the problem through the lens of legislation.  What restrictions it imposes, what is possible and what is not.  Verdict: It is not prohibited to submit advance reports in digital format. </p><br><p>  Since this business process was planned to be implemented on the Bitrix24 corporate portal, we studied the issue of integrating EDS into the portal.  What is important, the whole process should take place in the single window mode  from the portal. </p><br><table><tbody><tr><td width="50"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2e5/a77/a72/2e5a77a72404e2ee552649901d5977f9.png" alt="info"></div></td><td><p>  <i>As it turned out, no one had done anything like this before.</i>  <i>According to CryptoPro, recognized leaders in the field of cryptographic information protection and EDS in Russia, we were the first to integrate with their PHP service.</i> </p></td></tr></tbody></table><br><p>  But the biggest difficulty was this.  Sales representatives use only one device - a corporate iPad.  Such mobile devices do not like working with certificates in registries or on foreign keys (tokens, smart cards), there are not so many convenient solutions.  We settled on integration with CryptoPro DSS. </p><br><p>  As a result, the automated business process of advance reporting works as follows: </p><br><ol><li><p>  Each sales representative is issued an EDS certificate, his personal, nominal (in principle, he is and cannot be different). </p><br></li><li><p>  If it is necessary to submit an advance report, an employee on his iPad tablet enters the company's corporate portal and falls into his personal balance. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0ef/faf/039/0effaf039550d51a8d1b95a4e15ad522.png" alt="image"></div><br></li><li><p>  There he creates a new advance report, step by step filling in all the lines.  He writes expenses from checks which are in his hands.  At the same time, the agent photographs checks on the same iPad, and attaches them to the online advance report. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8e7/c5c/776/8e7c5c77690379f7b85be39f73246768.png" alt="image"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/abf/e07/7b3/abfe077b34062af0ac3b9f773b81d3ce.png" alt="image"></div><br><p>  At this point, a draft report is created in 1C, which is assigned a sequence number, this is a very important point. </p><br></li><li><p>  When everything is filled in, an advance report form is created automatically.  It is typical, so the probability that the form will change is minimal. </p><br></li><li><p>  The employee checks the form and signs it with EDS.  The process of signing itself takes place according to the following algorithm: </p><br><ul><li><p>  The user on the corporate portal presses the button ‚Äúsign EDS‚Äù. </p></li><li><p>  A document through the SOAP protocol without opening additional windows is sent to CryptoPro DSS.  CryptoPro DSS identifies the user in three steps: </p><ul><li><p>  Login / password from the DSS service - for convenience, they coincide with the login / password from the portal.  It turns out that you do not need to enter anything, the user immediately goes to the second step of the check. </p></li><li><p>  PIN code consisting of 4 or 5 digits (user selectable).  Now the DSS service can use a certificate that is stored in its registry on the server. </p></li><li><p>  One-time password - SMS to mobile phone.  One document - one SMS. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/52b/35a/43a/52b35a43a7d4009bd36897c0994f507f.png" alt="image"></div><br><p>  By the way, CryptoPro allows you to leave only a PIN code as a check or only SMS to save time.  The accountants of the customer did so, leaving only the PIN-code. </p></li></ul><br></li><li><p>  The signed document is sent to the head of the employee.  He checks the report form, limits, compares with the photographs of checks.  If something is wrong, the employee returns comments with comments.  Everything is in order - signs the document using a cloud EDS and sends it to the next step of approval. </p></li><li><p>  The accountant also signs the EDS document and sends it to the general director.  At this stage, the accountant can only carry out the completed and saved advance report in 1C.  From this point on, a new tranche may be issued. </p></li><li><p>  General Director signs the EDS report.  In fact, the director's signature is already a formality required by law - the report has been checked by the manager, the accountant and the documents for the new trip can already be prepared. </p></li><li><p>  After that, the employee is issued new funds, and his virtual account on the corporate portal is replenished, the balance is updated. </p></li><li><p>  The employee is notified that the expense report is signed.  He sends the original checks to the head office, and the accountant checks them against the report.  As a rule, everything is the same, but if the facts of fraud are revealed and the check is not enough (although it is in the photo), the advance report is corrected in 1C, and measures are applied to the employee. </p></li></ul></li></ol><br><table><tbody><tr><td width="50"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2e5/a77/a72/2e5a77a72404e2ee552649901d5977f9.png" alt="info"></div></td><td><p>  <i>In the process of integrating the portal and CryptoPro DSS on the side of CryptoPro there were difficulties.</i>  <i>For some reason, their software refused to work on its own documentation.</i>  <i>But, ultimately, CryptoPro showed professionalism and corrected errors.</i> </p></td></tr></tbody></table><br><h3>  Result </h3><br><p>  At the moment, the introduction of such a system is worked out, it is working.  A unique integration module has been developed that allows for the soap protocol to transfer data.  For the user, this means that you do not need to click on the links, you do not need to leave the corporate portal windows to sign documents.  It is very convenient.  For companies with a large number of remote employees, with multi-stage signature of documents integrated in this way, EDS is a lifeline in the sea of ‚Äã‚Äãpaperwork and courier service. </p><br><br>  <a href="http://arealidea.ru/portal/%3Futm_source%3Dhabrahabr%26utm_medium%3Dreferral%26utm_campaign%3Decpb24%26utm_content%3Dhabraecp">More useful about portals implementation</a> . </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/330126/">https://habr.com/ru/post/330126/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../330116/index.html">Security Week 22: Vulnerability was found in Samba, ShadowBrokers opened a subscription to exploits, phishers massively mastered HTTPS</a></li>
<li><a href="../330118/index.html">British satellite imagery 2: how it was in reality</a></li>
<li><a href="../330120/index.html">Data recovery from an external hard drive Seagate FreeAgent Go</a></li>
<li><a href="../330122/index.html">‚ÄúAn interesting topic for discussion is the relativity of test coverage‚Äù: T-Systems about testing</a></li>
<li><a href="../330124/index.html">Orange Pi on car wash part 3</a></li>
<li><a href="../330128/index.html">Single Line Diagrams in Revit</a></li>
<li><a href="../330130/index.html">Task: find a triangle with a smaller perimeter</a></li>
<li><a href="../330134/index.html">Synchronize database structure between applications</a></li>
<li><a href="../330140/index.html">Blockchain + distributed storage = Sia</a></li>
<li><a href="../330142/index.html">3 Ways to Break Single Responsibility Principle</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>