<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>E-book as a display</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Unconventional use of common things - this is something that we are always interested in! After all, sometimes you want to poke the next device. Under...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>E-book as a display</h1><div class="post__text post__text-html js-mediator-article">  Unconventional use of common things - this is something that we are always interested in!  After all, sometimes you want to poke the next device.  Understand how it works and make some adjustments to its work, adding new features. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/264/edd/14e/264edd14ef6379192e7d1acfb58db189.jpg"><br>  <b>Display your pictures</b> <br><br>  I will tell you how to turn an old <b>Sony PRS-505</b> reader into a convenient display.  And also I will tell you how to write your own programs for this book. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br><h4>  Formulation of the problem </h4><br><br>  For one device, I needed a display to display graphs and experimental data.  Data should be displayed infrequently, but it is desirable that the display be low-power, large in size and with good resolution. <br>  My source device runs under Linux and has a USB host.  At first I looked towards the Vogue display, but brushed it off due to its small size and resolution.  Started looking further. <br>  I have a long time lying around the electronic book PRS-505.  I got it and put it in front of me, remembering that there is Linux inside and I heard somewhere that you can reach it through the console.  But also understanding that this thing is in itself.  Put and forget. <br><br>  After a while I went hiking with comrade <a href="https://habrahabr.ru/users/vshmuk/" class="user_link">Vshmuk</a> and suddenly saw that he was reading the exact same book.  And told him his thoughts.  In response, he was ridiculed - as it turned out, the distinguished comrade once wrote an article to Hacker about how to get hardware access to this book, and most importantly, he said that this thing has Framebuffer, like a destkop, and you can even work on it. <br><br>  <s>Normal people on a hike enjoy nature ...</s> <br><br>  For those who do not understand in linux, I explain that framebuffer is a file in Linux (like any device in general) that you can (theoretically) stupidly write a memory snapshot file and display it on the screen.  You can also make a hardware screenshot, i.e.  just dump the video memory by copying this file to another location and view it, copying (more precisely writing to) it back. <br><br><div class="spoiler">  <b class="spoiler_title">Why do you need it:</b> <div class="spoiler_text">  Why this is needed: For example, on the target machine, there is video output to a virtual screen, with a resolution equal to the resolution of the book (namely, 600x800).  Further, periodically, the framebuffer file of the virtual screen is taken and redirected to the com-port, and at that end from the com port, the cat command redirects it to the framebuffer of the book. <br><br>  I illustrate, all commands are executed on the target machine, the book is connected via UART, via VCP, which hangs on / dev / ttyUSB0.  Commands are called every few minutes, for example in the crown. <br><br>  <i>echo "cat / dev / ttyS0&gt; / dev / fb0"&gt; / dev / ttyUSB0</i> <br><br>  This command on the UART sends the command to redirect the contents of the COM port file to the framebuffer.  Next comes the second command: <br><br>  <i>cat / dev / fbn&gt; / dev / ttyUSB0</i> <br><br>  This command transfers the contents of the virtual fbn screen (where is the n-number of the screen) to the COM port.  Everything should work fine, the transfer will end when the end-of-file character arrives. <br></div></div><br><br><h4>  Getting down to business </h4><br><br>  When we returned from our epic campaign, I sought out his article <a href="http://www.xakep.ru/magazine/xa/129/092/1.asp">www.xakep.ru/magazine/xa/129/092/1.asp</a> and <a href="http://www.xakep.ru/magazine/xa/129/092/1.asp">went</a> on. <br><br>  Initially, I disassembled the book and soldered to the debug console using the ft232rl chip to interface the interfaces (see my post ‚ÄúUART and what they eat with‚Äù - <a href="http://habrahabr.ru/post/109395/">habrahabr.ru/post/109395</a> ) <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/353/480/7f6/3534807f6dd1dcd886ddc49619ba52f4.jpg"><br>  <b>Unfolded reader with soldered interface</b> <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/e9d/2db/dcb/e9d2dbdcbb75813b9f7592988966460e.jpg"><br>  <b>Back view</b> <br><br>  Read more about how and to which contacts to get fed, you can read here: <a href="http://www.the-ebook.org/forum/viewtopic.php%3Fp%3D120092">www.the-ebook.org/forum/viewtopic.php?p=120092#120092</a> <br><br>  I do not want to be engaged in citing the article comrade <a href="https://habrahabr.ru/users/vshmuk/" class="user_link">Vshmuk</a> about how to log in, what processes should be killed, etc. It is best to read him in this article.  Let me just say: it is empirically established that when a book is connected to the computer via standard USB, no processes need to be killed, everything works and so.  As terminalki I use favorite <b>minicom</b> . <br>  After the soldering, I began to study the OS.  First of all, I looked at the script, which is mentioned in the article, that it mounts everything and displays the boot image.  Let's see what kind of animal it is: <br><br>  <i>root @ (none): / # cat /etc/rc.d/rcS.d/S20libromount</i> <br><br>  Of all the forshmak that fell out there, we are most interested in this: <br><br><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># display booting image /usr/local/sony/bin/nblconfig -dump | head -3 | awk '{print $9}' | grep 02 &gt; /dev/null if [ $? == 0 ]; then # init screen load grep BootImg /proc/mtd &gt; /dev/null if [ $? == 0 ]; then NUM=`grep BootImg /proc/mtd | awk -F: '{print $1}' | awk -Fd '{print$2}'` dd if=/dev/mtd$NUM of=/dev/fb0 bs=256 count=1875 /opt/sony/ebook/bin/writescreen init 0 else /opt/sony/ebook/bin/writescreen init 1 echo no boot image fi else /opt/sony/ebook/bin/writescreen init 1 fi ...</span></span></code> </pre> <br><br>  I decided to try to score a random forcemeat screen, and made just such a command: <br><br>  <i>root @ (none): / # dd if = / dev / urandom of = / dev / fb0 bs = 256 count = 1875</i> <i><br></i>  <i>1875 + 0 records in</i> <i><br></i>  <i>1875 + 0 records out</i> <br>  But nothing happened ... <br><br>  Let's try the following command: <br><br>  <i>root @ (none): / # / opt / sony / ebook / bin / writescreen init 0</i> <i><br></i>  <i>latest nblconfig read from 0x00035000</i> <i><br></i>  <i>latest nblconfig written to 0x00035800</i> <i><br></i>  <i>And ... the miracle did not happen.</i>  <i>Moreover, the team</i> <i><br></i>  <i>root @ (none): / # / opt / sony / ebook / bin / writescreen init 1</i> <br><br>  stupidly extinguishes the screen and everything, after which he no longer showed signs of life. <br><br>  In general, the problem could not be solved without a hitch.  Therefore, I switched to the hardware.  He began to think how to make a book for me more carefully, since these snot of thin wires can easily come off.  As a result, I brought the debug console through the headphone jack.  There, manufacturers right next to the connector provided for null resistors, which I safely removed and hung in there two wires RX and TX, and left the ground from the headphones.  She was not galvanically isolated from the number. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/718/cc0/2e5/718cc02e534422cca31ffea2195d3bb8.jpg"><br>  <b>Output debug port to audio jack</b> <br><br>  After I finished the experiments, I decided to try to drive files directly through the console.  This is necessary in order not to draw two wires and not to consume a flash drive resource (image recording on a USB flash drive, then playback).  I was completely successful in transferring from a book to a computer, but there is already no return. <br><br>  For the experiment, I tried to transfer the image file.  Remember the above I have already talked about the script output boot image?  He reads it from the NAND flash drive section of the reader and writes it to the framebuffer: <br><br>  <i>NUM = `grep BootImg / proc / mtd |</i>  <i>awk -F: '{print $ 1}' |</i>  <i>awk -Fd '{print $ 2}' `</i> <i><br></i>  <i>dd if = / dev / mtd $ NUM of = / dev / fb0 bs = 256 count = 1875</i> <i><br></i>  <i>/ opt / sony / ebook / bin / writescreen init 0</i> <br><br>  The first line defines the section on which the picture lies.  Execute this command (which is in single quotes), and find out the section number.  In my case, he was equal to nine. <br><br>  Well, then the second team will be slightly corrected, so that the transfer was conducted to the COM port.  Experienced to establish that the console for reception and transmission is the file / dev / tty.  We transfer the picture, for this we close the terminal on the computer and execute: <br><br>  <i>cat / dev / ttyUSB2&gt; bootimg.raw</i> , where ttyUSB2 is my VCP interface based on ft232rl. <br><br>  Then in another console of the computer we give the command: <br><br>  <i>echo "dd if = / dev / mtd9 of = / dev / tty bs = 256 count = 1875"&gt; / dev / ttyUSB2</i> , which sends a command to transfer the image via the console via the console. <br><br>  Let's transform this picture from a binary image into png: <br><br>  <i>echo -e "P5 \ n800 600 \ n255 \ n"&gt; result.pgm</i> <i><br></i>  <i>cat bootimg.raw &gt;&gt; result.pgm</i> <i><br></i>  <i>convert result.pgm result.png</i> <br><br>  As a result, we get just such a picture.  I don‚Äôt know why it was so recalibrated, but there were obviously some transmission errors. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/a79/a7a/49b/a79a7a49ba7b418085d9da5b94f2bd0f.png" alt="image"><br>  <b>The resulting picture</b> <br><br>  By the way, what is a picture that can be recorded in a framebuffer?  This is a bitmask, where each byte is equal to the color of the pixel and it weighs exactly 800x600 = 480000 bytes.  Therefore, the image that we want to transfer to the frame buffer should be 800x600 and weigh exactly 480000 bytes.  In fact, this is the * .pgm-file, only with the header cut off. <br>  I could not transfer the file back.  Apparently because the console is a standard input device, and it does not like non-printing characters.  You can read more about these experiments here: <a href="http://dlinyj.livejournal.com/608961.html">dlinyj.livejournal.com/608961.html</a> . <br><br>  Understanding that I haven‚Äôt succeeded with the program yet, I decided to remove the book in the case, since now nothing prevented me from doing this. <br><br>  After examining the system and scripts, it became clear that it was impossible to display an image using console tools.  I was told that one comrade had already solved this problem and even described it in his blog <a href="http://systemsand.me/sony-prs-300prs-505-hack/">systemsand.me/sony-prs-300prs-505-hack</a> .  In short, the program will have to write, although it will be very simple. <br><br>  I downloaded the toolchain (speaking simpler compiler for the build, although this is not quite accurate) from here <a href="http://www.mentor.com/embedded-software/sourcery-tools/sourcery-codebench/editions/lite-edition/">www.mentor.com/embedded-software/sourcery-tools/sourcery-codebench/editions/lite-edition after a</a> bit of registration with the log, I rolled it on your favorite ubuntu.  And tried to collect hello word <br><br>  For reference, he was going to the command <i>arm-none-linux-gnueabi-gcc -mcpu = arm920t hello.c -o hello</i> <br><br>  The most important thing was how to transfer the file to the book.  I noticed that when the USB is connected, a certain disk with a volume of about 200 meters appears on the computer.  But in the system on the book it is not. <br><br>  I have all the firmware of knikzhi, and I realized that the hard disk is used in the book application (I mean what the device is intended for).  This file cramfs.Fsk.img <br>  I mounted this image on my computer and looked at the sony / ebook / bin / tinyhttp.sh script.  How to do it is again described in the article in Hacker.  Trolo pysch pyshch, no one reads.  This is the same script that we choke at the very beginning to get the console, according to the article Vshmuk.  And there was this line: <br><br>  <i>NUM = `grep Data / proc / mtd |</i>  <i>awk -F: '{print $ 1}' |</i>  <i>awk -Fd '{print $ 2}' `</i> <i><br></i>  <i>/ usr / local / sony / bin / mkdosfs / dev / mtdblock $ NUM</i> <br><br>  Again, the first line gets the device number.  Having executed the first script (what is in quotation mark), I got the number seventeen, and then mounted / dev / mtdblock17 on / tmp / t1.  I can not explain how I understood that this is exactly what will be a flash drive, but the logic simply suggested that it was in this file that the initialization of user data should go. <br><br>  And as a result, I saw the contents of the disk, which I see on my computer. <br><br>  And I decided to try running it: <br><br>  <i>root @ (none): / tmp / t1 # ls</i> <i><br></i>  <i>Digital Editions autorun.inf database hello tmp</i> <i><br></i>  <i>root @ (none): / tmp / t1 # cp hello / tmp /</i> <i><br></i>  <i>root @ (none): / tmp / t1 # cd ...</i> <i><br></i>  <i>root @ (none): / tmp # ls</i> <i><br></i>  <i>hello t1</i> <i><br></i>  <i>root @ (none): / tmp # ./hello</i> <i><br></i>  <i>bash: ./hello: No such file or directory</i> <i><br></i>  <i>root @ (none): / tmp # chmod + x hello</i> <i><br></i>  <i>root @ (none): / tmp # ./hello</i> <i><br></i>  <i>bash: ./hello: No such file or directory</i> <br><br>  Smart people suggested that the necessary libraries might be missing there, and they were advised to compile with the -static option.  After that, everything got worse <br><br>  <i>root @ (none): / tmp # ./hello</i> <i><br></i>  <i>Segmentation fault</i> <br><br>  It became clear that we should look for a compiler.  Thanks to the help of many people, I learned that <a href="http://openinkpot.org/wiki">openinkpot.org/wiki is cutting</a> through this book!  And therefore the tulchan should be. <br><br>  I started to google with the search for "prs-505 toolchain" it was found here <a href="http://code.google.com/p/prs-plus/downloads/detail%3Fname%3Darm-toolchain-sony-300.tar.gz%26can%3D4%26q%3D">code.google.com/p/prs-plus/downloads/detail?name=arm-toolchain-sony-300.tar.gz&amp;can=4&amp;q=</a> .  After that, the Hello Word started without problems (even without static!).  Well, then the matter of technology, according to <a href="http://systemsand.me/sony-prs-300prs-505-hack/">systemsand.me/sony-prs-300prs-505-hack</a> sketched a small program <br><br><pre> <code class="hljs pgsql"><span class="hljs-comment"><span class="hljs-comment">/* showpic.c */</span></span> #<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> &lt;stdio.h&gt; #<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> &lt;sys/<span class="hljs-keyword"><span class="hljs-keyword">types</span></span>.h&gt; #<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> &lt;sys/stat.h&gt; #<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> &lt;fcntl.h&gt; #<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> &lt;sys/ioctl.h&gt; #<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> &lt;sys/mman.h&gt; #<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> &lt;string.h&gt; #define FBIO_EINK_GET_TEMPERATURE <span class="hljs-number"><span class="hljs-number">0x46A1</span></span> //<span class="hljs-keyword"><span class="hljs-keyword">Returns</span></span> temperature <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> degree Celsius #define FBIO_EINK_DISP_PIC <span class="hljs-number"><span class="hljs-number">0x46A2</span></span> //Displays picture <span class="hljs-type"><span class="hljs-type">int</span></span> main (<span class="hljs-type"><span class="hljs-type">int</span></span> argc, <span class="hljs-type"><span class="hljs-type">char</span></span>* argv[]) { printf ("Show image\n"); <span class="hljs-type"><span class="hljs-type">int</span></span> *fb, *image; <span class="hljs-type"><span class="hljs-type">int</span></span> pio_fd = <span class="hljs-keyword"><span class="hljs-keyword">open</span></span> ( "/dev/fb0", O_RDWR); <span class="hljs-type"><span class="hljs-type">int</span></span> f_image = <span class="hljs-keyword"><span class="hljs-keyword">open</span></span> ( argv[<span class="hljs-number"><span class="hljs-number">1</span></span>], O_RDWR); //<span class="hljs-keyword"><span class="hljs-keyword">open</span></span> file <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> arg <span class="hljs-type"><span class="hljs-type">int</span></span> t= ioctl (pio_fd, FBIO_EINK_GET_TEMPERATURE, <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span>); //configure framebuffer fb= mmap(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">800</span></span>*<span class="hljs-number"><span class="hljs-number">600</span></span>, PROT_WRITE, MAP_SHARED, pio_fd, <span class="hljs-number"><span class="hljs-number">0</span></span>); //map device <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> memory image= mmap(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">800</span></span>*<span class="hljs-number"><span class="hljs-number">600</span></span>, PROT_READ, MAP_SHARED, f_image, <span class="hljs-number"><span class="hljs-number">0</span></span>); //<span class="hljs-keyword"><span class="hljs-keyword">load</span></span> image <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> memory memcpy(fb,image,<span class="hljs-number"><span class="hljs-number">800</span></span>*<span class="hljs-number"><span class="hljs-number">600</span></span>); ioctl (pio_fd, FBIO_EINK_DISP_PIC, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">close</span></span>(pio_fd); <span class="hljs-keyword"><span class="hljs-keyword">close</span></span>(f_image); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br><br>  Defains took from the drauver code from the Sony website <a href="http://www.sony.net/Products/Linux/Audio/PRS-505.html">www.sony.net/Products/Linux/Audio/PRS-505.html</a> file 8track20070714.tgz <br><br>  Compiled by a primitive team with a minimum of options: <i>path to toolchain / arm-unknown-linux-gnu-gcc -static showpic.c -o showpic</i> <br><br>  Without statics did not want to work. <br><br>  Now in gimp we create a picture with a resolution of 800x600, draw what we want and save as habrahabr.pgm. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/09d/d77/706/09dd77706a1d7c0bb0c5a6251f89dc44.png"><br>  <b>My art</b> <br><br>  You will forgive my art.  I was lazy to try hard. <br><br>  Then open it in any hex editor and delete the entire title before FF <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/bf1/322/583/bf132258387bcd02c538b9774d6b6d99.png"><br>  <b>Remove header</b> <br><br>  Fill the hard disk of the book.  We climb into the console and execute: <br><br>  <i>root @ (none): / # cd tmp /</i> <i><br></i>  <i>root @ (none): / tmp # mkdir t1</i> <i><br></i>  <i>root @ (none): / tmp # mount / dev / mtdblock17 t1</i> <i><br></i>  <i>root @ (none): / tmp # cd t1 /</i> <i><br></i>  <i>root @ (none): / tmp / t1 # ls</i> <i><br></i>  <i>Digital Editions autorun.inf habrahabr.raw showpic</i> <i><br></i>  <i>a.out database send.raw tmp</i> <i><br></i>  <i>root @ (none): / tmp / t1 # ./showpic habrahabr.raw</i> <i><br></i>  <i>Show image</i> <i><br></i>  <i>root @ (none): / tmp / t1 #</i> <br><br>  And we see: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/9d6/253/0d7/9d62530d7e0ddc65feb8d80f88f5de73.jpg"><br>  <b>Farshmak</b> <br><br>  Oh!  We did not turn this picture.  Rotate the original image in gimp by 90 degrees and repeat the procedure.  As a result, our eyes will appear <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/708/0dd/785/7080dd78535ecc67bac32631c7ac5e56.jpg"><br>  <b>Q.E.D!</b> <br><br><h4>  Results </h4><br><br>  I managed to write my own program for a book and even display pictures.  I must say that the goal is to display gnuplot charts.  This package is perfectly able to generate the pgm files itself, and it remains only to use the dd command to cut off the header. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/d29/832/0d4/d298320d46b433c25c404e31b396e248.jpg"><br>  <b>Sample graphics</b> <br><br>  <b>The main problem that is not solved now</b> is how to transfer graph files to a booklet.  I wanted to do this right on the debug console, but for this you need to be able to wean it to be a console and turn it into a regular UART.  How to do this, I do not know.  Even more, I think to do it on the fly. <br>  I am told that it is possible to assemble a driver so that the device is seen as a COM port via USB, but it seems to me that this could result in one more hemorrhoids.  I think you can try to create a folder on a flash drive, and in it mount a virtual temporary file system in RAM.  I have not tried this method yet.  But transferring a file via a flash drive is an absurd and unreasonable decision. <br>  In general, the question remains open and I am ready to hear all the reasonable suggestions about this. <br><br><h4>  Thanks </h4><br>  Thanks to all the people who have helped and are helping me in this strange project.  I hope they will be even more <br><br><h4>  References: </h4><br>  1. An initial article in Hacker <a href="http://www.xakep.ru/magazine/xa/129/092/1.asp">www.xakep.ru/magazine/xa/129/092/1.asp</a> from where I started my experiment. <br>  2. Instruction for book subscription <a href="http://www.the-ebook.org/forum/viewtopic.php%3Fp%3D120092">www.the-ebook.org/forum/viewtopic.php?p=120092</a> # 120092 <br>  3. A similar problem was solved by our compatriot so <a href="http://systemsand.me/sony-prs-300prs-505-hack/">systemsand.me/sony-prs-300prs-505-hack</a> unfortunately, he could not help me with the source code and toolchain. <br>  4. Source texts of the firmware of the book and drivers <a href="http://www.sony.net/Products/Linux/Audio/PRS-505.html">www.sony.net/Products/Linux/Audio/PRS-505.html</a> <br>  5.Open draft <a href="http://openinkpot.org/wiki">openinkpot.org/wiki</a> <br>  6. Working <a href="http://code.google.com/p/prs-plus/downloads/detail%3Fname%3Darm-toolchain-sony-300.tar.gz%26can%3D4%26q%3D">tool code.google.com/p/prs-plus/downloads/detail?name=arm-toolchain-sony-300.tar.gz&amp;can=4&amp;q=</a> <br>  7. About my torment with a book, you can read in my <a href="http://dlinyj.livejournal.com/tag/prs-505">dzhj dlinyj.livejournal.com/tag/prs-505</a> <br><br>  PS I am not a very competent person, I will be very grateful for personal messages with blots to make the article look more worthy. <br>  PPSTak the same remarks in fact I will accept with pleasure.  I'm not a cool software developer for Linux, although I would love to become one :). <br><br>  <u>Remember the best thanks to the author for the post - this is a comment left!</u> <br><br>  <b>UPD</b> While asleep figured out how to solve the problem with text input and console.  Nothing prevents the file from transmitting in text form.  It is necessary to rewrite the file a bit so that it receives data from kinsoli, and transfer two commands to it: <br>  <i>start</i> - the beginning of the transfer and <i>stop</i> - the end.  Then read the transmitted file on the source computer by byte and split the byte into nibla (half byte).  Nibl takes a value from 0 to 15 or in HEX from 0 to F. Well, transfer the character from zero to F. On the side of the book, do the inverse conversion of text nibbles to bytes.  The beginning of the transfer means start, the end of the stop.  We control the transmission on the console echo. <br>  It will take twice as long, but the solution is the simplest and most obvious. <br>  Ran to write a program! <br>  <b>UPD-UPD</b> After 5 years, wrote a program that turns the book into a clock.  Github code <a href="https://github.com/dlinyj/sony_prs-505_clock">github.com/dlinyj/sony_prs-505_clock</a> </div><p>Source: <a href="https://habr.com/ru/post/274831/">https://habr.com/ru/post/274831/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../274819/index.html">All you need to know about the growing popularity of Malvertising</a></li>
<li><a href="../274821/index.html">How to predict a stock price: An adaptive filtering algorithm</a></li>
<li><a href="../274825/index.html">Algorithm Deflate for example PNG format</a></li>
<li><a href="../274827/index.html">Alternative memory allocators</a></li>
<li><a href="../274829/index.html">Take a step to the FPGA</a></li>
<li><a href="../274833/index.html">Create a hardware random number generator</a></li>
<li><a href="../274835/index.html">Create a hardware keyboard logger</a></li>
<li><a href="../274837/index.html">Installing Quartus II Web Edition for Linux</a></li>
<li><a href="../274839/index.html">MIPSfpga: outside of canon</a></li>
<li><a href="../274841/index.html">Minesweeper on FPGA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>