<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Roaming in Wi-Fi networks without using a controller</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The other day I got this news from the company D-Link in the newsletter. Actually a summary of the news is. The company D-Link for some of its Wi-Fi r...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Roaming in Wi-Fi networks without using a controller</h1><div class="post__text post__text-html js-mediator-article"> The other day I got <a href="http://www.dlink.ru/ru/news/1/2198.html">this news</a> from the company D-Link in the newsletter.  Actually a summary of the news is.  The company D-Link for some of its Wi-Fi routers has released a firmware with the functionality that is not surprisingly called "Intelligent distribution of Wi-Fi clients."  The bottom line is that in a network of several routers connected and configured in a specific way, the Wi-Fi client is forced to connect to the router with the best signal strength. <br><br>  Nothing is clear, you say. <br><a name="habracut"></a><br>  Imagine a situation where you decide to make a small wireless network in your apartment.  We bought several cheap routers (we will call them further for brevity TD - access point), assigned them the same SSID (network name) and set the same password for them.  Now you connect to any TD with one password.  When connected, the client selects the TD with the strongest signal and clings to it.  Sooner or later, you have several clients connecting to one TD (for example, TV, computer, tablet, a couple of phones).  One of them will once be on the border of the coverage of this TD and the level of its signal will be, for example, 10% (for example, you went to the "office" in silence to look through the Habr).  In this case, there are two options for the development of events: <br><br>  1. TD reduces the transmission rate to adapt to the weakest client. <br>  2. TD does not reduce the transmission speed, the client and the TD continue to broadcast, some packets are lost, retransmission is underway, there is a huge amount of service traffic that clogs the air. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In any case, the transmission rate is reduced for all clients of this TD.  If other clients are trying to chat on Skype at this time, then they will hardly succeed. <br><br>  The only way out is to disable this weak client, or transfer it to another TD, with a stronger signal.  But the problem is that the decision to connect to the TD takes only the client, and not the access point.  Therefore, we need a mechanism for forcibly disconnecting this client and switching it to another TD (if one exists).  And, based on the text of the news, it is this mechanism that D-Link offers us.  The access point that holds the client polls points in its network for a higher signal level from a weak client.  And if there are any points, it drops the connection with the ‚Äúweak‚Äù client, forcing it to switch. <br><br>  By an incredible coincidence, I had two devices from the list of supported ones: the DIR-300 (which was lying in the closet suspiciously inoperable) and the DIR-615A almost new, unbeaten, unpainted.  Both are in Google design (cylindrical, one is black, the other is white). <br><br>  You need to update the firmware to the latest.  Where can I get the latest firmware version?  You can go to ftp.dlink.ru and try to find your model there.  Honestly, not the most convenient option, since there are a bunch of folders with the same name.  So I went to the dlink.ru website, in the ‚ÄúProducts and Solutions‚Äù section I found my model.  In the "Downloads" tab there is a list and description of the firmware.  Chose the latest and downloaded.  Depending on the current firmware, the interface may change, so I will not show the flashing process, there are a lot of instructions on the Internet. <br><br>  Now you need to choose which of the devices will work as a router (receive and distribute the Internet, act as a DHCP server), and which as an access point (only ensure that the client connects to Wi-Fi).  We connect devices by wires according to the scheme. <br><br><img src="https://habrastorage.org/files/9c6/aef/12e/9c6aef12e905447ca8c572ac0a89b8ad.jpg"><br><br>  If you have more than 2 devices, then all access points connect to the router's LAN ports.  We assign static IP addresses to all LAN interfaces; at these addresses we will get access to the web interface for setting up points. <br><br><img src="https://habrastorage.org/files/816/ea8/205/816ea820501c44feb162a0f5e524c228.jpg"><br><br>  We configure the WAN connection on the router according to the settings of your provider. <br>  On access points we delete all WAN connections.  In the LAN settings section, we set the DHCP server to the ‚ÄúForbid‚Äù mode. <br><br><img src="https://habrastorage.org/files/48b/ab2/cff/48bab2cff3aa4dc7b830f4584edf3884.jpg"><br><br>  Everything, now we have one router with the configured Internet and the DHCP server, and also the device working in the access point mode. <br><br>  Both devices must have the same SSID.  I called my test network ‚ÄúRoaming‚Äù. <br><br><img src="https://habrastorage.org/files/abb/971/c3b/abb971c3be8f4a759ef754d442ec2331.jpg"><br><br>  Now in the web-interface on the left side we are looking for the ‚ÄúWi-Fi‚Äù item, click on it and select the ‚ÄúRoaming‚Äù item in the drop-down list.  We press it and on the right side of the screen move the slider to the right. <br><br><img src="https://habrastorage.org/files/3c7/ed2/7e4/3c7ed27e4e374a15ae45a67b83bc624d.jpg"><br><br>  Important settings. <br><br>  The minimum signal level.  The level of the <strong>client</strong> signal.  With this signal value, our point will begin to poll its neighbors for who sees this client better. <br><br><img src="https://habrastorage.org/files/468/43c/ae8/46843cae853d4cc695f0c4eb06df9aeb.jpg"><br><br>  ‚ÄúDead‚Äù zone (from -50% to 50%).  The level of the client signal at another point relative to the signal level at the current. <br><br>  Example.  The minimum signal level is 70%.  Dead zone 10%.  If the signal level reaches 70%, the active point will begin to poll its neighbors. ‚ÄúWho sees this customer?  What is his signal level? ‚Äù  Neighbors respond: ‚ÄúI see.  Level 75%.  This is getting into the dead zone. <br><br>  Switching will not happen.  The second will say, "I see.  Level 90%.  This is outside the dead zone.  The active point will reset the client connection.  The second will catch him.  These settings are invented, apparently so that the client does not constantly jump between points.  These parameters need to play in your particular network. <br><br>  With the parameters figured out, repeat the setting on the second device.  Now everything is done according to the recommendations of D-Link.  It would be necessary to test. <br><br>  And then it dawned on me that for the test I need to spread points to a distance when the client sees both points, but at the same time the drop in signal level will be significant for the function to function.  Meters, commercials, 40-50.  Unfortunately, I am not an oligarch and I do not have my own castle.  Fortunately, there was a foil in the drawer.  Buying a castle was postponed until better times.  From the foil he made a hat with which he covered the access point.  With a hat, things went better, the signal power was reduced almost to the border of visibility.  Accordingly, the client saw this point very badly. <br><br>  Formed the following test plan: <br><br>  1. To push both points as far as possible.  It turned out about 5 meters with a wall between them. <br>  2. Stand next to one of them, join the test network.  The client will connect to the nearest point, because it has a better signal. <br>  3. Then move to the second point.  For a guarantee, cover the active with a foil cap. <br>  4. Switch client to track via point-based web interface. <br><br>  In general, everything went according to plan.  Apparently because it was version 5 of the plan.  The client clung to the point with the best signal.  "Killed" point discarded the client, as expected. <br><br>  This could be the end, the declared functionality works, the client dutifully jumps from point to point.  The transition is fast. <br><br>  But how fast?  And is this ‚Äúfast‚Äù enough to ensure uninterrupted service when moving around the entire network?  Since the switching speed figures are not very informative for me as a user, I decided to test how a session, for example, a video conference, will behave when switching between points.  The plan has matured like this: <br><br>  1. Take your work service VKS.  2 accounts, one on the laptop, the second - on the phone.  For the purity of the experiment, the laptop is hooked to the working network, so that the video stream goes not inside the same Wi-Fi network, but through the provider lines.  Phone cling to the test network. <br>  2. I call from the phone to the laptop. <br>  3. With the phone going to the second point, covering the first foil cap.  And I follow the quality and availability of communication. <br>  4. Then I control the fact of switching the phone between points via the web-interface. <br><br>  The results are as follows.  Interruption of communication was not, from the word at all.  There was a moment of artifact in the picture and a click in the sound, I suppose that at the moment of switching.  The phone, as expected, switched to the second point. <br><br>  Naturally, there are a number of flaws in my testing program.  For example, there were only 2 clients in the test network.  I did not arrange stress testing to determine the maximum speed of movement of the client without breaking the connection, just walked.  I do not know how other streaming services will work.  It would be interesting to test the function in different subnets (according to the manufacturer will work), but laziness. <br><br>  As a summary. <br><br>  1. I believe that the function is quite suitable, at least with a modest budget and small scale. <br>  2. The list of supported devices is decent, there are also AC devices in it, the company promises to expand this list. <br>  3. To a person in D-Link who wrote the setup instructions, I would break something. </div><p>Source: <a href="https://habr.com/ru/post/318764/">https://habr.com/ru/post/318764/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../318754/index.html">[Translation] How to correctly determine the size of the team for beta testing a mobile application</a></li>
<li><a href="../318756/index.html">How 10 years ago the project PVS-Studio started</a></li>
<li><a href="../318758/index.html">Why this winter we again invite everyone to play computer games using artificial intelligence</a></li>
<li><a href="../318760/index.html">3CX brings together Elastix and PBX in a Flash communities</a></li>
<li><a href="../318762/index.html">Programming multi-core DSP processors TMS320C66x using OpenMP</a></li>
<li><a href="../318766/index.html">Founder's advice. Evgeny Kobzev, technical director and co-founder of the company "Button"</a></li>
<li><a href="../318768/index.html">Second Coming GOST 28147-89: Honest Tests</a></li>
<li><a href="../318770/index.html">Cdr. Save and Grow</a></li>
<li><a href="../318772/index.html">Pimcore licensing FAQ</a></li>
<li><a href="../318774/index.html">About recovery. Is RAID on a VPS SSD advisable in case of dedicated drives? Analog server until February for free</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>