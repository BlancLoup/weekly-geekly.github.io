<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Educational program on cartographic projections with pictures</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Visualization of data of various kinds, having a certain geographical distribution, has recently become more and more widespread. Here, on Habr√©, arti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Educational program on cartographic projections with pictures</h1><div class="post__text post__text-html js-mediator-article">  Visualization of data of various kinds, having a certain geographical distribution, has recently become more and more widespread.  Here, on Habr√©, articles with maps are found almost every week.  Maps in the articles are very different, but they have one thing in common: as a rule, they use only two cartographic projections, though not the most successful of the existing ones.  I would like to give some illustrative examples of projections that look more aesthetically pleasing and are better suited for different types of visualization.  In this article, global projections and projections of most of the Earth will be considered, since visualization of something on the world map is perhaps the most common of such tasks. <br><br><img src="https://habrastorage.org/files/0c4/1ef/6a8/0c41ef6a88a84deaaccf18ae2a5862cd.jpg" alt="Stereographic projection"><br><a name="habracut"></a><br><h4>  Easy introduction </h4><br>  Since the article is focused on data visualization issues, I will not touch deeply on the theory of projections (datums, conformance, equiagonality, and the like), except for the general principles of their construction.  Also, I will speak here about the ‚Äúprojections‚Äù, formally implying the ‚Äúcoordinate system‚Äù, the coordinate reference system, because for maps of such scales it does not make sense to separately consider the projection and datum.  There is practically no mathematics here, except for simple geometry.  Those who wish to become familiar with mathematical principles can do so under articles on <a href="http://mathworld.wolfram.com/topics/MapProjections.html">Wolfram MathWorld</a> .  So for those who study programming in the field of geographic information systems or their experienced users, this article may not be very useful. <br><br>  Before you start, I'll explain a couple of things.  All examples will be given using the state borders data set from <a href="http://thematicmapping.org/downloads/world_borders.php">this site</a> and the Blue Marble Next Generation data set from <a href="http://neo.sci.gsfc.nasa.gov/view.php%3FdatasetId%3DBlueMarbleNG-TB">the NASA website</a> .  The latter includes synthesized cloudless images of the earth's surface for each of the twelve months of 2004, which will allow to introduce some variety in the illustrations. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I love open software very much, but it seemed inefficient to use <a href="http://trac.osgeo.org/gdal/">GDAL</a> in this case - some of the not very popular, but useful projections in its implementation at the moment are either not, or I didn‚Äôt look at the source code well, and therefore I prepared the illustrations in the commercial program GlobalMapper, which I have been using for many years, and which is famous for supporting an impressive list of coordinate systems. <br><br>  I will give the names of the projections and some terms in English, because if someone wants to look for materials on this topic, there are fewer Russian-language sources in the network (the volume of Wikipedia articles in Russian is several times smaller).  For most of the projections, I will try to give not only names, but also EPSG and / or WKID codes, as well as the name of the projection in the <a href="http://trac.osgeo.org/proj/">PROJ.4</a> library, widely used in an open software (for example, in the R package) to support coordinate systems. <br><br>  Some projections may be familiar to someone in the <a href="http://xkcd.com/977/">picture with xkcd</a> , but all of them will not be considered here. <br><br><h4>  Problem </h4><br>  To begin with, what are these most common projections, and what is wrong with them. <br><br>  The first projection is the so-called <u>‚ÄúGeographical‚Äù</u> , it is also Geographic projection, Latitude / Longitude, Plate carr√©e <i>EPSG: 4326 WKID: 54001 PROJ.4: longlat</i> .  Strictly speaking, it is not even quite a projection, because it is obtained by interpreting the polar angular coordinates as linear rectangular, without any calculations.  This projection is used because it is capable of displaying the entire surface of the Earth entirely and because it is the simplest mathematically, and the data very often spread not projected, that is, in geographic coordinates (degrees of latitude and longitude). <br><br><img src="https://habrastorage.org/files/436/2cf/741/4362cf741969448bab7dcc30e6375374.jpg" alt="Geographical projection"><br><br>  What is the result?  It turns out a rectangle where the points of the poles are turned into lines (upper and lower bounds).  The farther from the equator, the stronger any object on the map is flattened vertically and stretched horizontally.  As I have already said, it is somehow suitable for displaying global data sets, but the polar territories (Canada, Norway, Sweden, northern Russia, Finland, Greenland, Antarctica, Iceland) are distorted.  Projections that avoid this exist, and they will be discussed further.  The only reason to use this projection is its extreme simplicity of software implementation ‚Äî you just need to map the coordinate system from -180¬∫ to 180¬∫ for X and from -90¬∫ to 90¬∫ for Y on a plane, considering the angular units to be linear. <br><br>  Another very popular projection is the Mercator projection, Mercator projection <i>PROJ.4: merc</i> .  It is also used to visualize data covering the whole world, but its popularity is dictated not only by simplicity - its options are the de facto standard for global map services such as Google Maps, Bing Maps, Here.  The cartographic libraries of OpenLayers, Leaflet, API of the above-mentioned services are deeply connected with it.  In the Google and OpenStreetMap variant, it is called Web Mercator and has the <em>EPSG / WKID code: 3857</em> , sometimes it is also referred to as <i>EPSG: 900913</i> .  The principle of its construction is not much more complicated than Geographic - it is a projection on a cylinder, whose axis coincides with the geographic axis of the Earth, the projection occurs by lines extending from the center of the planet, from which the stretching error of the polar regions horizontally is compensated by proportional stretching vertically.  The only problem with this is that the map will turn out too large vertically if you try to map the north of Greenland.  Therefore, usually 16 ¬∞ of the polar regions are rejected (in equal proportion or more - from the south). <br><br><img src="https://habrastorage.org/files/168/c5c/ae1/168c5cae1be64f00a05023fcb49361b9.jpg" alt="Mercator projection"><br><br>  In someone's opinion, it looks a little better than Geographical, but we have already mentioned one problem, and the second - the closer the object is to the poles, the more it seems, although its shape is not so distorted.  Therefore, if the object of visualization is the density of markers per unit of territory or distance, this display method will be misleading.  With proper choice of the method of visualization, of course, this can be compensated, but for some cases this is not a problem at all: for example, if the value of an indicator in the whole country is correlated with the color of this country on the map, the effect of stretching the areas does not affect.  This projection retains only the shape of objects, because the outlines of continents and countries look quite recognizable.  And, as I said, it is your first and easiest option when creating interactive web maps. <br><br><h4>  Solution options </h4><br>  What to do with global data, if for some reason we needed a projection that better preserves such properties of objects as shape, area, distances and angles?  The laws of geometry do not allow us to preserve all these properties at once, turning the round surface of the Earth onto a plane.  However, aesthetics and perception are most important for visualizing data, and not the preservation of properties, as for navigation or measurement tasks.  Therefore, it becomes possible to choose such a projection, the distortions in which would be evenly distributed over the properties.  And there are quite a few such projections.  There are three of the most famous, with similar properties: <u>Winkel's Triple Projection</u> Winkel Tripel <i>WKID: 54042 PROJ.4: wintri</i> , Robinson projection Robinson projection <i>WKID: 54030 PROJ.4: robin</i> , <u>Kavraisky projection</u> (Kavrayskiy projection).  The first and last are visually minimal distortions, and for a non-specialist, not seeing the grating grid, it is generally very difficult to distinguish them, so I will give an illustration for Winkel Tripel, like the one that I personally like the most. <br><br><img src="https://habrastorage.org/files/7bb/abb/952/7bbabb95251f43c4b9bda0824de6b49d.jpg" alt="Winkel Triple Projection"><br><br>  This is how the description of this projection looks in ESRI WKT format: <br> <code>PROJCS["Robinson", <br> GEOGCS["GCS_WGS_1984", <br> DATUM["D_WGS84", <br> SPHEROID["WGS84",6378137,298.257223563] <br> ], <br> PRIMEM["Greenwich",0], <br> UNIT["Degree",0.017453292519943295] <br> ], <br> PROJECTION["Robinson"], <br> PARAMETER["central_meridian",0], <br> PARAMETER["false_easting",0], <br> PARAMETER["false_northing",0], <br> UNIT["Meter",1] <br> ]</code> <br> <br>  It is easy to see, although the distortion of the contours and a slight increase in the area of ‚Äã‚Äãcountries to the poles are also observed here, but this cannot even be compared with the stretching of the Geographical projection and the proportional increase of the Mercator projection. <br><br>  Here it is worth making a small digression and pay attention to the fact that the view of this projection by default suffers from one drawback, which also applies to other global projections.  The fact is that if the central meridian - the line connecting the north and south poles through the center of the map (longitude of origin) - takes the zero meridian, then the card will be cut along the 180th.  But at the same time, a third of Chukotka will be on the left edge of the map, and two thirds - on the right.  To make the map more beautiful, the cut must go somewhere around the 169th western meridian east of Ratmanov Island, for which the 11th must be taken as the central one.  Here is an illustration of what happens: <br><br><img src="https://habrastorage.org/files/5ac/7f2/1d1/5ac7f21d1498487f8345dacf1f73f091.jpg" alt="Winkel triple projection with the 11th central meridian"><br><br>  Here is the modified description for this case in ESRI WKT: <br> <code>PROJCS["Robinson", <br> GEOGCS["GCS_WGS_1984", <br> DATUM["D_WGS84", <br> SPHEROID["WGS84",6378137,298.257223563] <br> ], <br> PRIMEM["Greenwich",0], <br> UNIT["Degree",0.017453292519943295] <br> ], <br> PROJECTION["Robinson"], <br> PARAMETER["central_meridian",11], <br> PARAMETER["false_easting",0], <br> PARAMETER["false_northing",0], <br> UNIT["Meter",1] <br> ]</code> <br> <br>  In the format of determining the coordinate system for PROJ.4, the longitude of the projection center is specified by the parameter <i>+ lon_0 =.</i> <br><br>  The 11th meridian is a ‚Äúmagic‚Äù number: almost all world projections having a uniform scale along the equator can be cut along the Bering Strait, if we take it as the central one and not the zero one. <br><br>  I note that thinking about the choice of projection, it is necessary to take into account all existing real requirements for visualization.  For example, if the data relates to climate, then it may make sense to either map the lines of latitude, or use a projection where they are horizontal, and not bent to the edges of the map (that is, abandon the Triple Winkel in favor of, for example, Robinson).  In this case, it will make it easier and more accurate to estimate the relative proximity of different places to the poles and the equator.  Another significant plus of the Robinson projection is that it is supported by a variety of software, including open source, whereas for some others this cannot be said. <br><br><img src="https://habrastorage.org/files/fb3/090/238/fb309023895249d8807bada3e9ebc935.jpg" alt="Robinson projection with the 11th central meridian"><br><br>  Sometimes, when you want to preserve as much as possible a property, for example - the ratio of the area of ‚Äã‚Äãobjects (countries) - the aesthetic side suffers.  But since this may still be necessary for something, I will give one example of such a projection - the <u>‚Äú</u> Mollweide projection <u>‚Äù</u> , Mollweide projection <i>WKID: 54009 PROJ.4: moll</i> . <br><br><img src="https://habrastorage.org/files/6c0/408/68b/6c040868b1144333879b256ba19a2f30.jpg" alt="Projection of Mollweide with the 11th central meridian"><br><br>  As can be seen, it rather closely resembles the Robinson projection, but with the difference that the poles are nevertheless tied into points, from which the shape of the polar regions looks strongly distorted.  But the proportions of the area of ‚Äã‚Äãcountries, as required, remain much better. <br><br>  The projection of <u>Natural Earth</u> <i>PROJ.4: natearth</i> is the youngest competitor of these projections - it is a hybrid of the projections of Kavraiski and Robinson, and its parameters were selected by a group of American, Swiss and Slovenian specialists in 2007, while the age of most cartographic projections is no less half a century. <br><br><img src="https://habrastorage.org/files/59b/87d/843/59b87d843ac841148e689fb999905d88.jpg" alt="Natural Earth Projection"><br><br>  To reproject data into it, there are a number of tools that were written specifically for this, but its support is still far from widespread. <br><br><h4>  Some exotic and special occasions </h4><br>  Of course, the whole variety of projections does not end there.  They invented a lot.  Some just look weird (for example, the Bonnet projection depicts the Earth as a figure resembling a cut apple or a stylized heart), some are designed for special situations.  For example, I bet that very many people saw in the pictures a map of the world, which looks like a mandarin peel, which was removed and flattened.  This, for sure, was the <u>‚ÄúHood's Homolosinusoidal Discontinuous Projection‚Äù</u> Interrupted Goode Homolosine projection <i>WKID: 54052</i> . <br><br><img src="https://habrastorage.org/files/f4d/ed0/6c5/f4ded06c5e6944779fe451a0ba5ad583.jpg" alt="Guda's discontinuous homosinusoidal projection"><br><br>  Her appearance is worthy of the name.  Its purpose is to display the size of the objects (and to some extent, the shape) close to the natural proportions.  Its main problem, besides its name and strange appearance, is that by selecting the central meridian it is impossible to ensure that not a single large piece of sushi is cut.  Be sure to suffer something from the list: Greenland, Iceland, Chukotka, Alaska.  Personally, in my opinion, it is easier to give separate images of countries than to use such a map if you do not want to stylize your work under the middle of the XX century. <br><br>  There are projections which by their nature can not be attributed to the world, but I would like to consider them here, because they are able to show the globe, that is, as if a view of the planet from space.  One of them is <u>‚ÄúProjection of the vertical near perspective‚Äù</u> Vertical Near-Side Perspective projection <em>WKID: 54049</em> .  Its special feature is to show the earth's surface in such a perspective as it looks from a certain height.  The height above the ellipsoid (an idealized figure modeling the Earth) is given for this projection in explicit form. <br><br><img src="https://habrastorage.org/files/7e3/477/35a/7e347735a1fa4ff9bc82ca24724be16d.jpg" alt="Projection of vertical near perspective"><br><br>  In the illustration, this projection has a latitude and longitude of the center, equal to the latitude and longitude of Moscow, and a height of 5,000,000 meters.  The greater this distance, the stronger the image of the Earth becomes similar to its image in the projection, which we consider last. <br><br>  The projection, which shows a view of the Earth in a parallel perspective, that is, as if from an infinite distance, is called <u>‚ÄúOrthographic Projection‚Äù.</u> Orthographic projection <em>WKID: 43041 PROJ.4: ortho</em> .  In a sense, it is familiar to anyone who has ever used Google Earth.  I say that in a certain sense, because the ‚Äúdirection of sight‚Äù in this projection is always perpendicular to the surface of the Earth, whereas in Google Earth it can be tilted as you please. <br><br><img src="https://habrastorage.org/files/a79/e52/ddd/a79e52ddd546410e82e7ed3e12d2d217.jpg" alt="Orthographic projection"><br><br>  For it, as for the previous projection, you can set the central latitude and longitude to orient the Earth in a desired way.  For example, you can show the hemisphere with its center at some point in question - for example, illustrating traffic flows of a continental scale emanating from a single enterprise.  Having made two maps with opposite coordinates, you can get a map of the whole world (although at the edges there will be very large distortions).  Generating a sequence of maps with a smooth change in the center point will give frames for animating a rotating planet without any three-dimensional graphics. <br><br>  If the article turns out to be interesting, I will try to write a continuation of the projections used to display individual countries or regions, oriented, like this article, to the basic properties of these projections for the task of data visualization, infographics, and the like. </div><p>Source: <a href="https://habr.com/ru/post/235283/">https://habr.com/ru/post/235283/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../235273/index.html">Unlock your phone with NFC-clips: a one-touch game</a></li>
<li><a href="../235275/index.html">Diagnosing problems in a team in four hours on the example of a live startup</a></li>
<li><a href="../235277/index.html">Year-long experiment: a smartphone without distracting programs</a></li>
<li><a href="../235279/index.html">Blocking the launch of the second instance of the Perl program</a></li>
<li><a href="../235281/index.html">What weapons could be different programming languages</a></li>
<li><a href="../235285/index.html">Developer Contest for Epson Moverio BT-200</a></li>
<li><a href="../235287/index.html">Error based MySQL injection or do not swear</a></li>
<li><a href="../235291/index.html">Domestic software - the key to the development of intellectual production in Russia?</a></li>
<li><a href="../235293/index.html">Wearable device market overview with a brief historical background</a></li>
<li><a href="../235295/index.html">Great idea for a small computer desk.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>