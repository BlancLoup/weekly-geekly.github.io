<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Console makovodov: Beyond the GUI</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, dear habravchane-makovody! 

 Today I will tell how to increase the efficiency of work in Mac OS X through the use of the console. 

 Lyrica...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Console makovodov: Beyond the GUI</h1><div class="post__text post__text-html js-mediator-article">  Good day, dear habravchane-makovody! <br><br>  Today I will tell how to increase the efficiency of work in Mac OS X through the use of the console. <img src="https://habrastorage.org/storage2/e2a/e30/33b/e2ae3033b2be807588bcca7684065a53.png" align="right"><br><br><h1>  Lyrical digression </h1><br>  I think it is no secret that Mac OS is a Unix-based system, but it has been reworked almost beyond recognition.  Even the console stuck to hell - not immediately find.  And the whole system is aimed at using the GUI, with the default settings, even switching between the buttons on the Tab does not work - nowhere without the mouse.  And nevertheless, the Poppy is not only windows, not only dock and the launcher.  Mac is also all the power of shell scripts and console! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If you come from the world of M $, then for a start it would be nice to teach the general commands of the shell, for example, through this <a href="http://khpi-iip.mipk.kharkiv.edu/library/extent/os/shell2/index.html">tutorial</a> .  At a minimum, you need to learn the commands for navigating through directories and how to launch programs and scripts. <br><br>  If you came to the world of Mac OS from the world of Linux and FreeBSD, you most likely know at least the basics of shell scripting.  But for you, the article may be something interesting, because in the Mac there are unique console commands that are also useful to know. <br><br>  Here are some of the features of the Makovsky console further and will be discussed. <br><a name="habracut"></a><br><h1>  Let's start the work </h1><img src="https://habrastorage.org/storage2/c20/593/9fb/c205939fbd1835bb7248d358eff0337e.png" align="right"><br>  For starters, let's get rid of the standard terminal.  Well, more precisely, we will put another - better.  I personally prefer <a href="http://www.iterm2.com/">iTerm2</a> , which is suitable for working much better than the system one.  Although, he has some interesting moments (see the picture above). <br><br>  Next, we may need additional tools, so install <a href="http://www.macports.org/">MacPorts</a> (although, of course, you can also use another package manager).  Now we can install the necessary console utilities using simple commands.  For example, we put Midnight Commander (in any case it can be useful), we type in iTerm2: <br><br><pre><code class="bash hljs">sudo port install mc</code> </pre> <br><br>  After entering the password and installing the dependencies and mc itself, we can start it, as you already guessed, with the <code>mc</code> command. <br><img src="https://habrastorage.org/storage2/895/007/2c8/8950072c8b742cabfd6f03574f4a6f62.png"><br>  Oh God!  We need the function keys, and they are pressed only through <code>Fn+F15</code> , what to do?  Well, what - to climb into the system settings and turn it off.  Otherwise it will be difficult to work with mc. <br><br>  Another important note: <font color="#acacac"><s>smoke manuals</s></font> if something is not clear, type the <code>man </code> in the <code>man </code> console and get a detailed description of the command.  (By the way, to exit from viewing the manual, you just need to press Q). <br><br><h1>  Continuing familiarity with the console.  <code>open</code> command </h1><br>  You can easily see that mc shows a lot more files and folders than the Finder.  Of course, you can put a hack for him to display such files, but not everyone loves it.  So it remains only to use <code>Cmd+Shift+G</code> and manually enter the folder name.  But this method is not very convenient: there is no autocomplete, there is no possibility to see hidden files.  Now back to the terminal.  On Mac OS X, there is a great <code>open</code> command that acts as if the user had made a double-click on a file or folder in the Finder ‚Äî opens a file, a bundle or link in a related program, opens a folder in Finder.  Here is a simple example of working with this command: go to a hidden folder using mc (for example, / etc /) and type: <br><br><pre> <code class="bash hljs">open .</code> </pre><br><br>  Wuala!  Finder has shown us our system folder!  But that's not all, because hidden files are still not visible.  For example, open our <code>.profile</code> : <br><br><pre> <code class="bash hljs">open .profile</code> </pre><br>  And - oops!  - hidden file opened in TextEdit!  Everything is very simple. <br><br><h3>  A couple of words about bandla </h3><br>  Everyone knows this, but just in case, I repeat: the usual programs in Mac OS X are actually folders with the .app extension and specially arranged content.  It's easy to make sure of this: open the / Applications / folder in the Finder and do a <code>Ctrl+Click</code> (or <code>Right-Click</code> , if you want) on any program and select ‚ÄúShow package contents‚Äù. <br><img src="https://habrastorage.org/storage2/f94/3e1/2e2/f943e12e2f47648b61a030511f7ee636.png"><br>  From the console, this is also very clearly visible: mc displays these programs exactly as folders.  And how to launch a GUI program from the console, you ask?  Very simply, there are even two ways. <br><br>  Method one, the simplest: <br><br><pre> <code class="bash hljs">open /Applications/Safari.app</code> </pre><br>  The program will be launched and the console will be free for further action. <br><br>  Method two, interesting: <br><br><pre> <code class="bash hljs">/Applications/Safari.app/Contents/MacOS/Safari</code> </pre><br>  The program will be launched, but the console will not be released - it will wait for the program to finish and output everything that the program wants to bring into it.  That is, in this way you can see the working log of some programs. <br><br>  Another very important difference between these two methods: the second allows you to run two instances of the program, while the first activates an already running one, if there is one.  So through the console, you can solve this problem (although, rather, a feature) makosi: you cannot run two copies of the program through the Finder, the dock and the launcher, but from the console, please, at least twenty-two. <br><br><h1>  Script? </h1><br>  I'll tell you briefly what the shell script is.  In essence, this is a plain text file containing a series of commands to execute.  The simplest script just runs all the commands in sequence.  Scripts can be more complicated conditions, cycles and functions, that is, the script can be a very large and complex program.  The main advantage of such scripts is that in their service all the power of console utilities from the world of unix, which more than compensates for the poverty of language constructs.  I will give a simple example of a script that converts all .png files in the current directory, reducing their size to 200 pixels in width or height. <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash for img in *.png; do fname=${img%.*} fext=${img##*.} sips -Z 200 ${img} --out ${fname}_200.${fext} done</span></span></code> </pre><br>  The example is the simplest, but it demonstrates the main thing: great power is hidden in the scripts. <br><br><h1>  AppleScript scripts </h1><br>  Mac OS X has several built-in mechanisms to automate actions.  One of the very common is AppleScript, for which there is also a graphic editor-launcher.  But you can also use such scripts from the console, for this there is a special utility - <code>osascript</code> .  You can use it like this: <br><br><pre> <code class="bash hljs">osascript myscript</code> </pre><br>  or <br><pre> <code class="bash hljs">osascript -e <span class="hljs-string"><span class="hljs-string">" "</span></span></code> </pre><br>  I will not delve into AppleScript, it deserves a separate article, and not even one.  So I recommend reading the <a href="http://www.apple.com/applescript">help</a> or <a href="http://www.macinstruct.com/node/68">Google on it</a> . <br><br>  Important: You can combine shell scripts with AppleScript scripts to maximize flexibility in your work!  For example, I use such mixed scripts to automatically style a disk image: the disk itself is created using the shell (see below), and the background and location of the elements in the image is set using AppleScript. <br><br>  There is also <a href="http://habrahabr.ru/post/84695/">Automator</a> , but it is quite GUI-shny, so in this article it is pointless to consider it.  He, of course, useful, but to the power of the console does not hold out. <br><br><h1>  Briefly about other useful commands Mac OS X </h1><br>  A complete (well, almost) list of unique commands for makosi can be found in one good <a href="http://www.matisse.net/OSX/darwin_commands.html">article</a> (although the information there is a bit out of date), but I will briefly tell you about the most interesting ones. <br><br>  To work with disk images there is a console utility <code>hdiutil</code> .  A couple of examples of working with her: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#       mydata (   ) hdiutil create -ov -srcfolder mydata -format UDRW -volname "My Data Image" myimage.dmg #      hdiutil convert myimage.dmg -format UDZO -imagekey zlib-level=9 -o myimage_ro.dmg</span></span></code> </pre><br>  More details about the possibilities can be found in <code>man hdiutil</code> . <br><br>  If you are a makosi software developer, then you probably know about such a wonderful thing as Info.plist, and in general about plists.  So, there is a very handy utility that allows you to convert .plist to .bplist, that is, into a faster and easier binary format of the sheet. <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   plutil -convert -format bin1 -o Info.bplist Info.plist #  XML plutil -convert -format xml1 -o Info.plist Info.bplist</span></span></code> </pre><br><br>  If you want to practice nonsense, you can speak any text from the console.  For this there is a utility <code>say</code> . <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   say Hello Habr! #      say -f coolstory.txt</span></span></code> </pre><br>  You can also set a voice that the poppy will talk to us with: <br><pre> <code class="bash hljs">say -v Bad habr habr habr habr habrahabr habr habrahabr</code> </pre><br><br>  One problem - by default, this thing only speaks English. <br><br>  Now take a screenshot of the command from the console. <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#    ,  -    screencapture -Wco #     -      screencapture shot_`date "+%Y-%m-%d_%H:%M:%S"`.png</span></span></code> </pre><br>  You can also convert text between various formats from the console.  For example, you can convert a .doc file to HTML: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   html       textutil -convert html myfile.doc &amp;&amp; open myfile.html</span></span></code> </pre><br>  Also textutil can convert encodings. <br><br>  To change the system (and not only) settings, you can use the <code>defaults</code> command.  We use it for the good!  Finally turn on the display of hidden files and folders in the Finder! <br><br><pre> <code class="bash hljs">defaults write com.apple.Finder AppleShowAllFiles 1 &amp;&amp; killall Finder</code> </pre><br>  The finder will automatically restart and will now display hidden files and folders!  But again, not everyone likes it, so let's turn it off until the <s>parents</s> get scared or delete the necessary files.  To hide the already mentioned command, put 0 instead of 1. Well, for example, a <a href="http://macdays.ru/mac-os/tweaks-mac-os-x/">link to an article</a> where many tweaks are described with the help of this command. <br><br><h1>  Something like a conclusion </h1><br>  Well, we have disassembled some interesting console features in Mac OS X. The article, of course, does not pretend to be complete and is, rather, a ‚Äúlure‚Äù for involving makovodov in shell scripting and indeed in the console. <br><br>  And may the power of Unix be with you! </div><p>Source: <a href="https://habr.com/ru/post/143341/">https://habr.com/ru/post/143341/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../143336/index.html">Active Directory in Windows Server 8: Moving Forward</a></li>
<li><a href="../143337/index.html">Django Repository Moved to GitHub</a></li>
<li><a href="../143338/index.html">Backbone.js and routes without hashes</a></li>
<li><a href="../143339/index.html">VKontakte Android SDK</a></li>
<li><a href="../143340/index.html">How and why we changed the configuration of shards in the architecture of Evernote</a></li>
<li><a href="../143342/index.html">Web must die</a></li>
<li><a href="../143344/index.html">Touching design: introduction</a></li>
<li><a href="../143345/index.html">On detecting drive-by download attacks and new malware distribution vectors via Flash banners</a></li>
<li><a href="../143346/index.html">Stateless and Statefull pages in Wicket 1.4</a></li>
<li><a href="../143347/index.html">All JavaScript libraries in one place</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>