<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Create a simple app for the Apple Watch. Personal experience on the example of Rambler. News</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On April 24, 2015, Apple released the Apple Watch smart watch, six months after their first announcement at a presentation in California. Rambler coul...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Create a simple app for the Apple Watch. Personal experience on the example of Rambler. News</h1><div class="post__text post__text-html js-mediator-article">  On April 24, 2015, Apple released the Apple Watch smart watch, six months after their first announcement at a presentation in California.  Rambler could not stay away.  After reviewing the WatchKit SDK and <a href="https://developer.apple.com/watch/human-interface-guidelines/">guidelines,</a> it became clear to us that at the moment there are few opportunities and in general, the development should not take a lot of time. <br><br><img src="https://habrastorage.org/files/068/6bd/ca6/0686bdca6d0f4fa09dc2c5f88b3314d1.png" alt="image"><img src="https://habrastorage.org/files/8a3/973/660/8a3973660e144cf8977a6eaccdbed650.png" alt="image"><img src="https://habrastorage.org/files/2d9/b2a/5db/2d9b2a5db2bc432d829e67ad8c465da3.png" alt="image"><img src="https://habrastorage.org/files/539/d62/8cb/539d628cbe6b4311a3c5ce552b52104a.png" alt="image"><br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Appendix <a href="https://itunes.apple.com/ru/app/rambler.novosti/id395455931%3Fmt%3D8">Rambler</a> . <a href="https://itunes.apple.com/ru/app/rambler.novosti/id395455931%3Fmt%3D8">News</a> . <br><br><h4>  Apple Watch Apps </h4><br>  The watch application (WatchKit app) works in tandem with the application on the phone (WatchKit extension).  Calculations, requests to the network and all other work are performed on the phone and the results are transmitted to the clock.  WatchKit app, in turn, stores application resources - UI, images, sounds. <br><br>  Before the release of the documentation, it seemed that the WatchKit app would be independent and could work without the help of a phone.  At the moment, there is no such possibility, not counting several native Apple applications.  Hopefully, later versions of WatchKit SDK will allow you to create standalone applications. <br><br><img src="https://habrastorage.org/files/a6e/f1a/239/a6ef1a23924241d684ecbf53b09401b7.png" alt="image"><br><br>  If the clock is not paired with the phone, most applications signal the absence of the phone and the user is provided with a small number of possibilities: <br><img src="https://habrastorage.org/files/48b/404/694/48b40469407e4c9ea8005b7e59bea51d.PNG" alt="image"><br><br>  1. Listening to music, from hours.  It is not clear which applications will be able to play and store music. <br><img src="https://habrastorage.org/files/402/f08/7f4/402f087f41f94d409faa775e092e40c1.PNG" alt="image"><br><br>  2. Time management, alarm clocks, timers. <br><img src="https://habrastorage.org/files/c02/aa7/2fc/c02aa72fc89b4f36976d7124e0a57830.PNG" alt="image"><img src="https://habrastorage.org/files/aa7/ce5/306/aa7ce530627c499ab52c88f483853a89.PNG" alt="image"><img src="https://habrastorage.org/files/a57/81e/ce2/a5781ece269f4540a8e7ef5a17054216.PNG" alt="image"><br><br>  3. Access Apple Pay and Passbook. <br><img src="https://habrastorage.org/files/0b9/cf2/da7/0b9cf2da771c4180bc5458c53bc9e6b5.png" alt="image"><br><br>  Apple does not allow making applications that show time or duplicate any other native functionality.  Also, it is not recommended to mention the <a href="http://www.macrumors.com/2015/04/23/apple-rejects-app-citing-pebble/">Pebble smart watch</a> on the page of your application. <br><br><h4>  Rambler. News </h4><br>  We wanted to release the application as quickly as possible to get into the first wave of developers who have adapted their applications to work with the Apple Watch.  The development process turned out to be simple, but had to face a couple of difficulties.  Apparently, most developers have gone the same way.  The problem is that the documentation + guidelines give answers only to simple questions.  Of course, the profile development forum helps, where people share their experiences and problems.  If you're lucky, one of the WatchKit developers can answer you. <br><br>  We stopped at the following list, required from the application of functionality: <br><br><ul><li>  The application on the clock receives news headlines and displays them in a page-by-page view. </li><li>  For the news image is loaded, which is used as a background. </li><li>  Action by clicking on the news - opening an article on the phone </li></ul><br><br>  The task is simple: there is news, an interface for displaying them too.  The problem is how to transfer the news and image from the phone to the clock.  I remind you that the operations take place on the phone.  WatchKit SDK provides a class method <i>WKInterfaceController</i> <b>+ openParentApplication: reply:,</b> which sends a generated dictionary from WatchKit extension to the parent application with a request for fresh news.  Also, this method provides a callback that will call the parent application where you can send the news we need.  If the parent application is inactive, then the request is processed as background and the execution time is assumed to be short.  At the moment there is a problem with processing the request on the phone side - iOS considers that the request lasts too long and completes it prematurely.  Temporary solution offered <a href="http://www.fiveminutewatchkit.com/blog/2015/3/11/one-weird-trick-to-fix-openparentapplicationreply">here</a> . <br><br><h4>  Data exchange between phone and clock using <a href="https://developer.apple.com/library/ios/documentation/General/Conceptual/ExtensibilityPG/ExtensionScenarios.html">App Groups</a> </h4><br>  In short, it provides a shared read / write repository for the parent application and the WatchKit extension.  Consider using this shared repository.  Consider the example of a simple application that adds-removes elements from the list.  The code is available on <a href="https://github.com/developer-anreal/WatchKitDemo/tree/shared-nsuserdefaults">github</a> , look at the branches - each corresponds to a new way of using App Groups. <br><br><h5>  Using NSUserDefaults </h5><br>  NSUserDefaults work well when you need to transfer a small portion of data. <br><br><div class="spoiler">  <b class="spoiler_title">Code in ViewController main application.</b> <div class="spoiler_text"><pre><code class="hljs ruby">- (NSUserDefaults *)defaults { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_defaults == <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> group.com.rambler.demo.shared -  ,   Developer Center _defaults = [[NSUserDefaults alloc] <span class="hljs-symbol"><span class="hljs-symbol">initWithSuiteName:</span></span>@<span class="hljs-string"><span class="hljs-string">"group.com.rambler.demo.shared"</span></span>]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _defaults; } ... - (IBAction)<span class="hljs-symbol"><span class="hljs-symbol">add:</span></span>(id)sender { [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> <span class="hljs-symbol"><span class="hljs-symbol">addListItem:</span></span>[@<span class="hljs-string"><span class="hljs-string">"Item #"</span></span> <span class="hljs-symbol"><span class="hljs-symbol">stringByAppendingString:</span></span>@(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.list.count + <span class="hljs-number"><span class="hljs-number">1</span></span>).stringValue]]; } - (IBAction)<span class="hljs-symbol"><span class="hljs-symbol">remove:</span></span>(id)sender { [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> removeLastListItem]; } ... - (void)<span class="hljs-symbol"><span class="hljs-symbol">addListItem:</span></span>(id)listItem { [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.list <span class="hljs-symbol"><span class="hljs-symbol">addObject:</span></span>listItem]; [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.tableView <span class="hljs-symbol"><span class="hljs-symbol">insertRowsAtIndexPaths:</span></span>@[[NSIndexPath <span class="hljs-symbol"><span class="hljs-symbol">indexPathForRow:</span></span><span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.list.count - <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-symbol"><span class="hljs-symbol">inSection:</span></span><span class="hljs-number"><span class="hljs-number">0</span></span>]] <span class="hljs-symbol"><span class="hljs-symbol">withRowAnimation:</span></span>UITableViewRowAnimationAutomatic]; [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.defaults <span class="hljs-symbol"><span class="hljs-symbol">setObject:</span></span><span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.list <span class="hljs-symbol"><span class="hljs-symbol">forKey:</span></span>@<span class="hljs-string"><span class="hljs-string">"list"</span></span>]; [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.defaults synchronize]; } - (void)removeLastListItem { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.list.count == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.list removeLastObject]; [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.tableView <span class="hljs-symbol"><span class="hljs-symbol">deleteRowsAtIndexPaths:</span></span>@[[NSIndexPath <span class="hljs-symbol"><span class="hljs-symbol">indexPathForRow:</span></span><span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.list.count <span class="hljs-symbol"><span class="hljs-symbol">inSection:</span></span><span class="hljs-number"><span class="hljs-number">0</span></span>]] <span class="hljs-symbol"><span class="hljs-symbol">withRowAnimation:</span></span>UITableViewRowAnimationAutomatic]; [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.defaults <span class="hljs-symbol"><span class="hljs-symbol">setObject:</span></span><span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.list <span class="hljs-symbol"><span class="hljs-symbol">forKey:</span></span>@<span class="hljs-string"><span class="hljs-string">"list"</span></span>]; [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.defaults synchronize]; }</code> </pre> <br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">Controller code for WatchKit extension</b> <div class="spoiler_text"><pre> <code class="hljs objectivec">- (<span class="hljs-built_in"><span class="hljs-built_in">NSUserDefaults</span></span> *)defaults { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_defaults == <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) { _defaults = [[<span class="hljs-built_in"><span class="hljs-built_in">NSUserDefaults</span></span> alloc] initWithSuiteName:<span class="hljs-string"><span class="hljs-string">@"group.com.rambler.demo.shared"</span></span>]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _defaults; } ... - (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)loadList { [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.defaults synchronize]; <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.list = [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.defaults objectForKey:<span class="hljs-string"><span class="hljs-string">@"list"</span></span>]; [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> updateListView]; } - (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)updateListView { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.table.numberOfRows) { [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.table removeRowsAtIndexes:[<span class="hljs-built_in"><span class="hljs-built_in">NSIndexSet</span></span> indexSetWithIndexesInRange:<span class="hljs-built_in"><span class="hljs-built_in">NSMakeRange</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.table.numberOfRows)]]; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.list.count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.table insertRowsAtIndexes:[<span class="hljs-built_in"><span class="hljs-built_in">NSIndexSet</span></span> indexSetWithIndexesInRange:<span class="hljs-built_in"><span class="hljs-built_in">NSMakeRange</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.list.count)] withRowType:<span class="hljs-string"><span class="hljs-string">@"ItemListRowControllerId"</span></span>]; <span class="hljs-built_in"><span class="hljs-built_in">NSUInteger</span></span> idx = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.list) { ItemListRowController *rowController = [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.table rowControllerAtIndex:idx++]; [rowController.label setText:item]; } } } - (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)willActivate { [<span class="hljs-keyword"><span class="hljs-keyword">super</span></span> willActivate]; [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> loadList]; } - (<span class="hljs-keyword"><span class="hljs-keyword">IBAction</span></span>)refresh:(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>)sender { [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> loadList]; }</code> </pre><br></div></div><br><br>  Data is transferred, but it is not possible to track when it changes to update the interface.  Therefore, you have to update it manually. <br><br>  All code for working with NSUserDefaults is available in <a href="https://github.com/developer-anreal/WatchKitDemo/tree/shared-nsuserdefaults">this branch of the</a> project. <br><br><h5>  Using NSFileCoordinator </h5><br>  For large amounts of data, the NSFileCoordinator is much better suited, especially if you need to transfer images.  We will rewrite the previous example so that the data is transmitted with its help. <br><br><div class="spoiler">  <b class="spoiler_title">Code in ViewController main application.</b> <div class="spoiler_text"><pre> <code class="hljs haskell">- (<span class="hljs-type"><span class="hljs-type">NSFileCoordinator</span></span> *)fileCoordinator { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_fileCoordinator == nil) { _fileCoordinator = [[<span class="hljs-type"><span class="hljs-type">NSFileCoordinator</span></span> alloc] init]; } return _fileCoordinator; } - (void)viewDidLoad { [super viewDidLoad]; [self.fileCoordinator coordinateReadingItemAtURL:[self presentedItemURL] options:<span class="hljs-type"><span class="hljs-type">NSFileCoordinatorReadingWithoutChanges</span></span> error:nil byAccessor:^(<span class="hljs-type"><span class="hljs-type">NSURL</span></span> *newURL) { <span class="hljs-type"><span class="hljs-type">NSData</span></span> *<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> = [</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSData</span></span></span><span class="hljs-class"> dataWithContentsOfURL:newURL]; id object = [</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSKeyedUnarchiver</span></span></span><span class="hljs-class"> unarchiveObjectWithData:</span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">]; self.list = object != nil ? [</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSMutableArray</span></span></span><span class="hljs-class"> arrayWithArray:object] : [@[] mutableCopy]; [self.tableView reloadData]; }]; } ... - (</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">IBAction</span></span></span><span class="hljs-class">)add:(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">id</span></span></span><span class="hljs-class">)sender { [</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">self</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">addListItem</span></span></span><span class="hljs-class">:[@"</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Item</span></span></span><span class="hljs-class"> #" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">stringByAppendingString</span></span></span><span class="hljs-class">:@(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">self</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">list</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">count</span></span></span><span class="hljs-class"> + 1).</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">stringValue</span></span></span><span class="hljs-class">]]; } - (</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">IBAction</span></span></span><span class="hljs-class">)remove:(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">id</span></span></span><span class="hljs-class">)sender { [</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">self</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">removeLastListItem</span></span></span><span class="hljs-class">]; } #pragma mark </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Table</span></span></span><span class="hljs-class"> delegate - (</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSInteger</span></span></span><span class="hljs-class">)tableView:(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">UITableView</span></span></span><span class="hljs-class"> *)tableView numberOfRowsInSection:(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSInteger</span></span></span><span class="hljs-class">)section { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">return</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">self</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">list</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">count</span></span></span><span class="hljs-class">; } - (</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">UITableViewCell</span></span></span><span class="hljs-class"> *)tableView:(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">UITableView</span></span></span><span class="hljs-class"> *)tableView cellForRowAtIndexPath:(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSIndexPath</span></span></span><span class="hljs-class"> *)indexPath { </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">UITableViewCell</span></span></span><span class="hljs-class"> *</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">cell</span></span></span><span class="hljs-class"> = [</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tableView</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dequeueReusableCellWithIdentifier</span></span></span><span class="hljs-class">:@"</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">ListItemCellId</span></span></span><span class="hljs-class">"]; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">cell</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">textLabel</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">text</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">self</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">list</span></span></span><span class="hljs-class">[</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">indexPath</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">row</span></span></span><span class="hljs-class">]; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">return</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">cell</span></span></span><span class="hljs-class">; } #pragma mark </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">List</span></span></span><span class="hljs-class"> actions - (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">void</span></span></span><span class="hljs-class">)saveListWithCompletion:(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">void</span></span></span><span class="hljs-class"> (^)(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">void</span></span></span><span class="hljs-class">))completion { [</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">self</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fileCoordinator</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">coordinateWritingItemAtURL</span></span></span><span class="hljs-class">:[</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">self</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">presentedItemURL</span></span></span><span class="hljs-class">] </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">options</span></span></span><span class="hljs-class">:</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSFileCoordinatorWritingForReplacing</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">error</span></span></span><span class="hljs-class">:</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nil</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">byAccessor</span></span></span><span class="hljs-class">:^(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSURL</span></span></span><span class="hljs-class"> *</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">newURL</span></span></span><span class="hljs-class">) { </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSData</span></span></span><span class="hljs-class"> *</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class"> = [</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSKeyedArchiver</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">archivedDataWithRootObject</span></span></span><span class="hljs-class">:</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">self</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">list</span></span></span><span class="hljs-class">]; [</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">writeToURL</span></span></span><span class="hljs-class">:</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">newURL</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">atomically</span></span></span><span class="hljs-class">:</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">YES</span></span></span><span class="hljs-class">]; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">if</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">completion</span></span></span><span class="hljs-class"> != </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nil</span></span></span><span class="hljs-class">) { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">completion</span></span></span><span class="hljs-class">(); } }]; } - (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">void</span></span></span><span class="hljs-class">)addListItem:(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">id</span></span></span><span class="hljs-class">)listItem { [</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">self</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">list</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">addObject</span></span></span><span class="hljs-class">:</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">listItem</span></span></span><span class="hljs-class">]; [</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">self</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">saveListWithCompletion</span></span></span><span class="hljs-class">:^{ [</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">self</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tableView</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">insertRowsAtIndexPaths</span></span></span><span class="hljs-class">:@[[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSIndexPath</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">indexPathForRow</span></span></span><span class="hljs-class">:</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">self</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">list</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">count</span></span></span><span class="hljs-class"> - 1 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">inSection</span></span></span><span class="hljs-class">:0]] </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">withRowAnimation</span></span></span><span class="hljs-class">:</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">UITableViewRowAnimationAutomatic</span></span></span><span class="hljs-class">]; }]; } - (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">void</span></span></span><span class="hljs-class">)removeLastListItem { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">if</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">self</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">list</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">count</span></span></span><span class="hljs-class"> == 0) { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">return</span></span></span><span class="hljs-class">; } [self.list removeLastObject]; [self saveListWithCompletion:^{ [</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">self</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tableView</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">deleteRowsAtIndexPaths</span></span></span><span class="hljs-class">:@[[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSIndexPath</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">indexPathForRow</span></span></span><span class="hljs-class">:</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">self</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">list</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">count</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">inSection</span></span></span><span class="hljs-class">:0]] </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">withRowAnimation</span></span></span><span class="hljs-class">:</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">UITableViewRowAnimationAutomatic</span></span></span><span class="hljs-class">]; }]; } #pragma mark </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSFilePresenter</span></span></span><span class="hljs-class"> impl - (</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSURL</span></span></span><span class="hljs-class"> *)presentedItemURL { </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSURL</span></span></span><span class="hljs-class"> *</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">containerURL</span></span></span><span class="hljs-class"> = [[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSFileManager</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">defaultManager</span></span></span><span class="hljs-class">] </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">containerURLForSecurityApplicationGroupIdentifier</span></span></span><span class="hljs-class">:@"</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">group</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">com</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">rambler</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">demo</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">shared</span></span></span><span class="hljs-class">"]; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">return</span></span></span><span class="hljs-class"> [</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">containerURL</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">URLByAppendingPathComponent</span></span></span><span class="hljs-class">:@"</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">list</span></span></span><span class="hljs-class">"]; } - (</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSOperationQueue</span></span></span><span class="hljs-class"> *)presentedItemOperationQueue { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">return</span></span></span><span class="hljs-class"> [</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSOperationQueue</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mainQueue</span></span></span><span class="hljs-class">]; }</span></span></code> </pre><br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">Controller code for WatchKit extension</b> <div class="spoiler_text"><pre> <code class="hljs objectivec">- (<span class="hljs-built_in"><span class="hljs-built_in">NSFileCoordinator</span></span> *)fileCoordinator { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_fileCoordinator == <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) { _fileCoordinator = [[<span class="hljs-built_in"><span class="hljs-built_in">NSFileCoordinator</span></span> alloc] init]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _fileCoordinator; } - (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)awakeWithContext:(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>)context { [<span class="hljs-keyword"><span class="hljs-keyword">super</span></span> awakeWithContext:context]; [<span class="hljs-built_in"><span class="hljs-built_in">NSFileCoordinator</span></span> addFilePresenter:<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>]; } - (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)loadList { [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.fileCoordinator coordinateReadingItemAtURL:[<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> presentedItemURL] options:<span class="hljs-built_in"><span class="hljs-built_in">NSFileCoordinatorReadingWithoutChanges</span></span> error:<span class="hljs-literal"><span class="hljs-literal">nil</span></span> byAccessor:^(<span class="hljs-built_in"><span class="hljs-built_in">NSURL</span></span> *newURL) { <span class="hljs-built_in"><span class="hljs-built_in">NSData</span></span> *data = [<span class="hljs-built_in"><span class="hljs-built_in">NSData</span></span> dataWithContentsOfURL:newURL]; <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> object = [<span class="hljs-built_in"><span class="hljs-built_in">NSKeyedUnarchiver</span></span> unarchiveObjectWithData:data]; <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.list = object != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> ? [<span class="hljs-built_in"><span class="hljs-built_in">NSMutableArray</span></span> arrayWithArray:object] : [@[] mutableCopy]; [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> populateListView]; }]; } - (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)populateListView { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.table.numberOfRows) { [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.table removeRowsAtIndexes:[<span class="hljs-built_in"><span class="hljs-built_in">NSIndexSet</span></span> indexSetWithIndexesInRange:<span class="hljs-built_in"><span class="hljs-built_in">NSMakeRange</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.table.numberOfRows)]]; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.list.count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.table insertRowsAtIndexes:[<span class="hljs-built_in"><span class="hljs-built_in">NSIndexSet</span></span> indexSetWithIndexesInRange:<span class="hljs-built_in"><span class="hljs-built_in">NSMakeRange</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.list.count)] withRowType:<span class="hljs-string"><span class="hljs-string">@"ItemListRowControllerId"</span></span>]; <span class="hljs-built_in"><span class="hljs-built_in">NSUInteger</span></span> idx = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.list) { ItemListRowController *rowController = [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.table rowControllerAtIndex:idx++]; [rowController.label setText:item]; } } } - (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)updateListView:(<span class="hljs-built_in"><span class="hljs-built_in">NSArray</span></span> *)newList { <span class="hljs-built_in"><span class="hljs-built_in">NSIndexSet</span></span> *newItemsIndexSet = [newList indexesOfObjectsPassingTest:^<span class="hljs-built_in"><span class="hljs-built_in">BOOL</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span> obj, <span class="hljs-built_in"><span class="hljs-built_in">NSUInteger</span></span> idx, <span class="hljs-built_in"><span class="hljs-built_in">BOOL</span></span> *stop) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ![<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.list containsObject:obj]; }]; <span class="hljs-built_in"><span class="hljs-built_in">NSIndexSet</span></span> *removedItemsIndexSet = [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.list indexesOfObjectsPassingTest:^<span class="hljs-built_in"><span class="hljs-built_in">BOOL</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span> obj, <span class="hljs-built_in"><span class="hljs-built_in">NSUInteger</span></span> idx, <span class="hljs-built_in"><span class="hljs-built_in">BOOL</span></span> *stop) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ![newList containsObject:obj]; }]; [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.table removeRowsAtIndexes:removedItemsIndexSet]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span> newItem <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [newList objectsAtIndexes:newItemsIndexSet]) { [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.table insertRowsAtIndexes:[<span class="hljs-built_in"><span class="hljs-built_in">NSIndexSet</span></span> indexSetWithIndexesInRange:<span class="hljs-built_in"><span class="hljs-built_in">NSMakeRange</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.table.numberOfRows, <span class="hljs-number"><span class="hljs-number">1</span></span>)] withRowType:<span class="hljs-string"><span class="hljs-string">@"ItemListRowControllerId"</span></span>]; ItemListRowController *rowController = [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.table rowControllerAtIndex:<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.table.numberOfRows - <span class="hljs-number"><span class="hljs-number">1</span></span>]; [rowController.label setText:newItem]; } } - (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)willActivate { [<span class="hljs-keyword"><span class="hljs-keyword">super</span></span> willActivate]; [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> loadList]; } - (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)didDeactivate { [<span class="hljs-keyword"><span class="hljs-keyword">super</span></span> didDeactivate]; } - (<span class="hljs-keyword"><span class="hljs-keyword">IBAction</span></span>)refresh:(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>)sender { [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> loadList]; } <span class="hljs-meta"><span class="hljs-meta">#pragma mark NSFilePresenter impl - (NSURL *)presentedItemURL { NSURL *containerURL = [[NSFileManager defaultManager] containerURLForSecurityApplicationGroupIdentifier:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"group.com.rambler.demo.shared"</span></span></span><span class="hljs-meta">]; return [containerURL URLByAppendingPathComponent:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"list"</span></span></span><span class="hljs-meta">]; } - (NSOperationQueue *)presentedItemOperationQueue { return [NSOperationQueue mainQueue]; } - (void)presentedItemDidChange { [self.fileCoordinator coordinateReadingItemAtURL:[self presentedItemURL] options:NSFileCoordinatorReadingWithoutChanges error:nil byAccessor:^(NSURL *newURL) { NSData *data = [NSData dataWithContentsOfURL:newURL]; id object = [NSKeyedUnarchiver unarchiveObjectWithData:data]; NSArray *newItems = [NSMutableArray arrayWithArray:object]; [self updateListView:newItems]; self.list = newItems; }]; }</span></span></code> </pre><br></div></div><br><br>  Full code is available <a href="https://github.com/developer-anreal/WatchKitDemo/tree/shared-nsfilecoordinator">here.</a> <br><br>  The main improvement is the use of the method <b>- (void) presentedItemDidChange</b> from the <b>NSFilePresenter</b> protocol, which reports if the file has changed.  This means that we can track changes in the data in the WatchKit extension code and update the interface in accordance with these changes. <br><br>  Smart people from Mutual Mobile have written a convenient MMWormhole wrapper, which greatly simplifies working with NSFileCoordinator and uses <a href="https://developer.apple.com/library/mac/documentation/Darwin/Conceptual/MacOSXNotifcationOv/DarwinNotificationConcepts/DarwinNotificationConcepts.html">Darwin Notifications</a> to notify you when data changes.  The library is available on <a href="https://github.com/mutualmobile/MMWormhole">github</a> . <br><br>  The next difficulty: you can not ‚Äúwake up‚Äù the application on the phone from your watch.  We wanted the Force Touch to display a menu with the ability to open the application on the phone with the selected news.  Unfortunately, now the SDK does not allow this.  However, the Camera and iMessage applications launch the corresponding applications on the phone.  I think the new version of the SDK will have similar functionality.  Apple instead offers to use Handoff as a means of communication.  Weak, I confess, replacement, but it works.  By the time of release, we added the ability to open news on the phone, provided that the application is active. <br><br>  Not so much complexity, how much uncertainty was in the unknown speed of data exchange between the phone and the clock - using Bluetooth and Wi-Fi.  At the beginning of development, when testing was performed on the simulator, it was impossible to establish how fast the connection would be.  Assuming that the speed will be low, only the necessary data and compressed images are transmitted to the clock. <br><br>  Later, when working with a test clock, it was noticeable that the UI slows down, and the launch of almost all applications lasts a long time.  There is a suspicion that the cause of the lags is the clock software,  The off background image transfer did not greatly affect the launch speed of our application.  If the image will be reused in the application - it should be cached on the clock.  True, the cache is not rubber, and if possible it should be cleaned. <br><br>  In general, the development did not bring serious problems.  The main difficulty is the temporary absence of Apple Watch for testing, so they relied on the simulator and documentation.  The developers forum also complained about frequent failures when trying to host applications with Apple Watch support, and the reasons were different: <br><br><ul><li>  The application does not follow the guidelines. </li><li>  The screenshots of the Apple Watch application are made in the frame of the images of the watch themselves, for example using <a href="http://infinitapps.com/bezel/">Bezel</a> </li><li>  Using private API </li><li>  Application description in the App Store does not follow the instructions of <a href="https://developer.apple.com/app-store/watch/">Apple</a> </li></ul><br><br>  We have not encountered such problems and published the application from the first time.  For those who are going to lay out applications with Apple Watch, I recommend reading <a href="http://www.fiveminutewatchkit.com/blog/2015/4/2/submitting-your-watchkit-app">this</a> article <br><br>  It seems that Apple probes the development paths of the platform, determining what can be opened to developers.  And soon (presumably at WWDC'15) we will be presented with a new SDK. <br><br><h4>  Related Links </h4><br>  <a href="https://devforums.apple.com/community/ios/watchkit">Developer Forum</a> (account required) <br>  <a href="http://www.fiveminutewatchkit.com/">Brief Development Notes</a> <br>  <a href="http://www.watchkitresources.com/">Useful resources for designers and programmers</a> <br>  <a href="http://natashatherobot.com/">WatchKit SDK article series blog</a> </div><p>Source: <a href="https://habr.com/ru/post/257315/">https://habr.com/ru/post/257315/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../257301/index.html">2.5 million views - did you work well? Time to go on</a></li>
<li><a href="../257303/index.html">Processing and display of signals at the conversion frequency of the ADC</a></li>
<li><a href="../257305/index.html">Implementing Private Fields with WeakMap in JavaScript</a></li>
<li><a href="../257307/index.html">A meeting on Atlassian products took place in Moscow</a></li>
<li><a href="../257309/index.html">Vectorization Advisor, another example - overclocking a fractal</a></li>
<li><a href="../257317/index.html">Apple Watch Human Interface Guideline</a></li>
<li><a href="../257319/index.html">Arbelos</a></li>
<li><a href="../25732/index.html">Tale about vectors</a></li>
<li><a href="../257321/index.html">Another way to connect WS2812B to a microcontroller</a></li>
<li><a href="../257323/index.html">Asynchronous recursive iterator and fight with callback in Node.js</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>