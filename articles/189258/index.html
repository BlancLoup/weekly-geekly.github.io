<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How I studied on my own wishes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Most probably started their way by reading books and performing test tasks, sometimes looking for solutions / improvements on specialized forums. The ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How I studied on my own wishes</h1><div class="post__text post__text-html js-mediator-article">  Most probably started their way by reading books and performing test tasks, sometimes looking for solutions / improvements on specialized forums.  The same demos repeated in different variations, which was reduced to lazy googling and the fastest passing of all tests for the sake of a transition to studying the next chapter, article, etc.  I decided to act like a real samurai - to complicate my task by inventing some Wishlist and along the way study the materiel required to learn. <br><a name="habracut"></a><br>  Initially, I looked for inspiration in the test tasks of the course under study on the basics of javascript, but soon decided to look for it in the vastly visited resources.  So Habr was chosen. <br>  The first to visit was the idea of ‚Äã‚Äãhiding all the pictures in posts and comments, as they often only interfered.  But the button to display them still would not hurt. <br>  I'll look a little forward and say that almost immediately I came to the necessity of breaking the code into logical blocks, of which I singled out three ‚Äî preparation for work, work with images, work with answers to comments.  Each block was assigned a level of complexity and I decided to start with the fact that it was easier to consolidate previously studied material and gradually increase the complexity of the tasks. <br>  How to hide images did not take long to think about - use the ‚Äúdisplay: none‚Äù property when loading the page and clicking on the button to return the ‚Äúdisplay: block‚Äù property for the selected items.  I‚Äôve traversed the DOM in search of elements that were previously checked in the debugger, taking into account the different options for the img tag nesting.  The first block, which hid all the required elements, looked like this: <br><br><pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initialHide</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hideReply</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> replies = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelectorAll(<span class="hljs-string"><span class="hljs-string">'.reply_comments'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = <span class="hljs-number"><span class="hljs-number">0</span></span>; r &lt; replies.length; r++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> reply = replies[r]; reply.style.display = <span class="hljs-string"><span class="hljs-string">'none'</span></span>; } } hideReply(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hideImages</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> images = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelectorAll(<span class="hljs-string"><span class="hljs-string">".content &gt; img, .content &gt; div &gt; img, .content &gt; div &gt; div &gt; img, .content &gt; a &gt; img, .content &gt; a &gt; div &gt; img, .content &gt; table &gt; tbody &gt; tr&gt; td&gt; a &gt; img, .content &gt; table &gt; tbody &gt; tr&gt; td&gt; img, .content &gt; ul &gt; li &gt; img, .content &gt; ul &gt; li &gt; table &gt; tbody &gt; tr&gt; td&gt; img, .message &gt; a &gt; img, .message &gt; img, .sidebar_right &gt; .banner_300x500, .sidebar_right &gt; #htmlblock_placeholder"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> m = <span class="hljs-number"><span class="hljs-number">0</span></span>; m &lt; images.length; m++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> image = images[m]; image.style.display = <span class="hljs-string"><span class="hljs-string">"none"</span></span>; } } hideImages(); }</code> </pre> <br><br>  Now it was necessary to create a button and apply styles to it, because I wanted a native look like a habr. <br>  Then I read about the different options and came across an ambiguous <a href="http://davidwalsh.name/add-rules-stylesheets">article</a> .  Here's what happened: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="javascript hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">imgPosts</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> imgs = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelectorAll(<span class="hljs-string"><span class="hljs-string">".content &gt; img, .content &gt; div &gt; img, .content &gt; div &gt; div &gt; img, .content &gt; a &gt; img, .content &gt; a &gt; div &gt; img, .content &gt; table &gt; tbody &gt; tr&gt; td&gt; a &gt; img, .content &gt; table &gt; tbody &gt; tr&gt; td&gt; img, .content &gt; ul &gt; li &gt; img, .content &gt; ul &gt; li &gt; table &gt; tbody &gt; tr&gt; td&gt; img, .message &gt; a &gt; img, .message &gt; img"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> button = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">"input"</span></span>); button.type = <span class="hljs-string"><span class="hljs-string">"button"</span></span>; button.className = <span class="hljs-string"><span class="hljs-string">"habraimage"</span></span>; button.value = <span class="hljs-string"><span class="hljs-string">"‚óÑ  "</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelectorAll(<span class="hljs-string"><span class="hljs-string">".main_menu"</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>].appendChild(button); button.onclick = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = <span class="hljs-number"><span class="hljs-number">0</span></span>; x &lt; imgs.length; x++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> img = imgs[x]; img.style.display = (img.style.display != <span class="hljs-string"><span class="hljs-string">'none'</span></span> ? <span class="hljs-string"><span class="hljs-string">'none'</span></span> : <span class="hljs-string"><span class="hljs-string">'block'</span></span>); } }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addCSSRule</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">sheet, selector, rules</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sheet.insertRule) { sheet.insertRule(selector + <span class="hljs-string"><span class="hljs-string">"{"</span></span> + rules + <span class="hljs-string"><span class="hljs-string">"}"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { sheet.addRule(selector, rules); } } addCSSRule(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.styleSheets[<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-string"><span class="hljs-string">".habraimage"</span></span>, <span class="hljs-string"><span class="hljs-string">"position:fixed; right: 6%; z-index: 1; height: 2.45em; -webkit-border-radius: 6px; -moz-border-radius: 6px; border-radius: 6px; background-image: -webkit-linear-gradient(top, #eeeeee, #e1e1e1); background-image: linear-gradient(top, #eeeeee, #e1e1e1); background-image: -moz-linear-gradient(top, #eeeeee, #e1e1e1); background-repeat: repeat-x; border: 1px solid #d9d8d8; border-color: #d9d8d8 #cccbcb #aeaeae; text-shadow: 0 1px 0px rgba(255, 255, 255, 0.8); -webkit-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 1), 0px 1px 7px rgba(177, 180, 199, 1); -moz-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 1), 0px 1px 7px rgba(177, 180, 199, 1); box-shadow: inset 0 1px 0 rgba(255, 255, 255, 1), 0px 1px 7px rgba(177, 180, 199, 1);"</span></span>); addCSSRule(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.styleSheets[<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-string"><span class="hljs-string">".habraimage:hover"</span></span>, <span class="hljs-string"><span class="hljs-string">"background-color: #fcfcfc !important; background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#fcfcfc), to(#e8e8e8));background-image: -webkit-linear-gradient(top, #fcfcfc, #e8e8e8); background-image: linear-gradient(top, #fcfcfc, #e8e8e8); background-image: -moz-linear-gradient(top, #fcfcfc, #e8e8e8);background-repeat: repeat-x; text-decoration: none;"</span></span>); }</code> </pre><br><br>  Remark about the method for working with styles - IE was in the plans right away, there was just no space left for the virtual machine for tests on a small ssd. <br><br>  The next block was the most difficult and, at the same time, interesting.  It was necessary not only to hide the answers for each comment, but also to take into account the lack of answers so as not to introduce the user into the stupor.  When creating the button, the number of responses was taken into account and if it was zero, then a button for the side with such a comment was not created.  Also, the number of responses was used to display in the body of the button.  But you cannot just show the number, you need to add the noun ‚Äúanswer‚Äù and it is desirable to incline it depending on the numerals.  Then I started writing a bicycle, but I remembered myself in time and thought that most likely it had long been decided without me.  That's right, the solution was quickly found: <br><br><pre> <code class="javascript hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">declOfNum</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">number, titles</span></span></span><span class="hljs-function">) </span></span>{ cases = [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> titles[(number % <span class="hljs-number"><span class="hljs-number">100</span></span> &gt; <span class="hljs-number"><span class="hljs-number">4</span></span> &amp;&amp; number % <span class="hljs-number"><span class="hljs-number">100</span></span> &lt; <span class="hljs-number"><span class="hljs-number">20</span></span>) ? <span class="hljs-number"><span class="hljs-number">2</span></span> : cases[(number % <span class="hljs-number"><span class="hljs-number">10</span></span> &lt; <span class="hljs-number"><span class="hljs-number">5</span></span>) ? number % <span class="hljs-number"><span class="hljs-number">10</span></span> : <span class="hljs-number"><span class="hljs-number">5</span></span>]]; }</code> </pre><br><br>  Well, the result was the third block, which was responsible for hiding / displaying the tree of responses to the comment using a button that displayed the current number of responses for each comment: <br><br><pre> <code class="javascript hljs"> hideReplies(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hideReplies</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getChildrenByClassName</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">el, className</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> children = []; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; el.childNodes.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (el.childNodes[i].className == className) { children.push(el.childNodes[i]); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> children; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addBtn</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> comments = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelectorAll(<span class="hljs-string"><span class="hljs-string">".comments_list &gt; .comment_item"</span></span>), comment, combody; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">declOfNum</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">number, titles</span></span></span><span class="hljs-function">) </span></span>{ cases = [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> titles[(number % <span class="hljs-number"><span class="hljs-number">100</span></span> &gt; <span class="hljs-number"><span class="hljs-number">4</span></span> &amp;&amp; number % <span class="hljs-number"><span class="hljs-number">100</span></span> &lt; <span class="hljs-number"><span class="hljs-number">20</span></span>) ? <span class="hljs-number"><span class="hljs-number">2</span></span> : cases[(number % <span class="hljs-number"><span class="hljs-number">10</span></span> &lt; <span class="hljs-number"><span class="hljs-number">5</span></span>) ? number % <span class="hljs-number"><span class="hljs-number">10</span></span> : <span class="hljs-number"><span class="hljs-number">5</span></span>]]; } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; comments.length; i++) { comment = comments[i]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> replies = comment.querySelectorAll(<span class="hljs-string"><span class="hljs-string">'.reply_comments .comment_body'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (replies.length &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { combody = getChildrenByClassName(comment, <span class="hljs-string"><span class="hljs-string">'comment_body'</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (combody) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> btn = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">"input"</span></span>); btn.type = <span class="hljs-string"><span class="hljs-string">"button"</span></span>; btn.className = <span class="hljs-string"><span class="hljs-string">"hidereplies"</span></span>; btn.value = replies.length + declOfNum(replies.length, [<span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">' '</span></span>]); combody.appendChild(btn); } } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addCSSRule</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">sheet, selector, rules</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sheet.insertRule) { sheet.insertRule(selector + <span class="hljs-string"><span class="hljs-string">"{"</span></span> + rules + <span class="hljs-string"><span class="hljs-string">"}"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { sheet.addRule(selector, rules); } } addCSSRule(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.styleSheets[<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-string"><span class="hljs-string">".hidereplies"</span></span>, <span class="hljs-string"><span class="hljs-string">"height: 2em; margin-bottom: 2em; border-radius: 6px; background-image: -webkit-linear-gradient(top, #eeeeee, #e1e1e1); background-image: -o-linear-gradient(top, #eeeeee, #e1e1e1); background-image: linear-gradient(top, #eeeeee, #e1e1e1); background-image: -moz-linear-gradient(top, #eeeeee, #e1e1e1); background-repeat: repeat-x; border: 1px solid #d9d8d8; border-color: #d9d8d8 #cccbcb #aeaeae; text-shadow: 0 1px 0px rgba(255, 255, 255, 0.8); -webkit-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 1); -moz-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 1); box-shadow: inset 0 1px 0 rgba(255, 255, 255, 1);"</span></span>); addCSSRule(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.styleSheets[<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-string"><span class="hljs-string">".hidereplies:hover"</span></span>, <span class="hljs-string"><span class="hljs-string">"background-color: #fcfcfc; background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#fcfcfc), to(#e8e8e8));background-image: -webkit-linear-gradient(top, #fcfcfc, #e8e8e8); background-image: linear-gradient(top, #fcfcfc, #e8e8e8); background-image: -moz-linear-gradient(top, #fcfcfc, #e8e8e8);background-repeat: repeat-x; text-decoration: none;"</span></span>); addCSSRule(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.styleSheets[<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-string"><span class="hljs-string">".hidereplies:active"</span></span>, <span class="hljs-string"><span class="hljs-string">"-webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.2); -moz-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.2); box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.2); background: #e1e1e1 !important; border: 1px solid #a4a7ac; border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25); border-color: #a4a7ac #d2d3d4 #e1e1e1; text-shadow: 0 1px 1px rgba(255, 255, 255, 0.5);"</span></span>); } addBtn(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hideR</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> buttons = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelectorAll(<span class="hljs-string"><span class="hljs-string">".hidereplies"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (a = <span class="hljs-number"><span class="hljs-number">0</span></span>; a &lt; buttons.length; a++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> btn = buttons[a]; btn.onclick = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> btn = event.currentTarget; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> comments = btn.parentNode.parentNode.querySelectorAll(<span class="hljs-string"><span class="hljs-string">".reply_comments"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> y = <span class="hljs-number"><span class="hljs-number">0</span></span>; y &lt; comments.length; y++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> reply = comments[y]; reply.style.display = (reply.style.display != <span class="hljs-string"><span class="hljs-string">'none'</span></span> ? <span class="hljs-string"><span class="hljs-string">'none'</span></span> : <span class="hljs-string"><span class="hljs-string">'block'</span></span>); } }; } } hideR(); }</code> </pre><br><br>  And I wrapped all the blocks into an anonymous self-invoking function. <br><br>  The result posted on <a href="https://github.com/glebcha/habralite">githab</a> . <br><br><div class="spoiler">  <b class="spoiler_title">Under the cut you can see how Habr looks after installing the plugin</b> <div class="spoiler_text"><img src="http://habrastorage.org/getpro/habr/post_images/541/c9a/133/541c9a133c43ab8c5dbcda9c35bb986c.png" alt="image"><br><br><img src="http://habrastorage.org/getpro/habr/post_images/da9/90a/d72/da990ad729acbf16dbab03e8a53797fe.png" alt="image"><br><br><img src="http://habrastorage.org/getpro/habr/post_images/660/7be/9a6/6607be9a61baaa7dff24957b4f54d0d6.png" alt="image"><br><br><img src="http://habrastorage.org/getpro/habr/post_images/5a6/768/6d1/5a67686d14358060350d2e392dc646b6.png" alt="image"><br></div></div><br><br>  With the creation of browser extensions in the details did not penetrate and made them after reading the official developer documentation for <a href="https://developer.chrome.com/extensions/index.html">Chrome</a> and <a href="http://developer.apple.com/library/safari/">Safari</a> .  To install it in Chrome, you‚Äôll have to download the extension and then drag it into the open option in the Extension. <br><br>  Everyone gathered with the last forces and read to the end - thanks.  I apologize for the bloopers, footwear code and some confusion.  I hope it turned out to share experience, the main lesson of which is to study more productively and more fun with interesting tasks.  I am just starting and I will be very happy for constructive criticism.  I‚Äôm also happy to cooperate with someone to continue working on this script and a couple of others in the near future - I will be glad both to an experienced mentor and to a beginner like me :) </div><p>Source: <a href="https://habr.com/ru/post/189258/">https://habr.com/ru/post/189258/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../189248/index.html">Analysis of the toy helicopter protocol on IR control</a></li>
<li><a href="../189250/index.html">Samsung introduced 3D-memory, Crossbar announced a breakthrough in RRAM</a></li>
<li><a href="../189252/index.html">CSS problems. Part 2</a></li>
<li><a href="../189254/index.html">SMS module for Elastix (part 2)</a></li>
<li><a href="../189256/index.html">+1 billion downloads from the Windows Phone Store in six months</a></li>
<li><a href="../189262/index.html">How to record an electric guitar in Cubase 5</a></li>
<li><a href="../189266/index.html">Dissent - an anonymous communication protocol for small closed communities</a></li>
<li><a href="../189268/index.html">Tricky network issues</a></li>
<li><a href="../189276/index.html">Google, IBM, Mellanox, NVIDIA and Tyan form the data center solution development team</a></li>
<li><a href="../189280/index.html">Battle for conversion</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>