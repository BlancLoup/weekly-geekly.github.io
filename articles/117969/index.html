<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Enlarge your disk now</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="One of the problems that haunts us is that we spend too much time on the abstract (internal) aspects of work. The past months we have been working int...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Enlarge your disk now</h1><div class="post__text post__text-html js-mediator-article">  One of the problems that haunts us is that we spend too much time on the abstract (internal) aspects of work.  The past months we have been working intensively - but clients almost did not see the results of work, because  internal components of the cloud were copied and adapted to high loads (in thousands of operations per second). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8ec/709/d3c/8ec709d3c544f9a9ad32b0f2c42c73d5.png" alt="Resize Disk in Selectel Cloud" align="right">  Finally, the hands reached even simple things - we implemented in the interface the ability to increase the size of the disks (including the system one). <br><br>  The real work - two hours in the socket, a few more hours to check that everything works as expected.  But - not enough time and hands.  Finally, time was found done. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  How to do it? </h1><a name="habracut"></a>  The disk should not be locked, that is, either disconnected from the virtual machine, or the virtual machine itself should be turned off.  (If you don‚Äôt have the button ‚Äúincrease‚Äù in the cloud control panel - refresh the page - cached JS). <br><br>  The option to resize disks is in the ‚ÄúDisks‚Äù section for connected disks, and in the ‚Äúnon-connected disks‚Äù section for non-connected ones.  Disk size is specified in megabytes.  The limit for disk size is 1.7TB, the total number of disks that can be connected to the machine is 15 pcs. <br><br>  Important: the disk grows as a block device - we do not get access to the clients' file systems and do not resize the partitions. <br><br>  After increasing the disk size you need: <br><br>  In the case of a partition table: <br><ul><li>  Resize the partition table.  For example, with help.  cfdisk  If you change the size of the system partition, you will have to reboot.  In addition, you may need to delete the swap partition and recreate it. </li><li>  Make resize2fs a device name (for example, resize2fs / dev / sda1) </li></ul><br>  In the case of lvm: <br><ul><li>  pvresize to PV (if you are using LVM over a partition table, then resize the partition table) </li><li>  lvresize </li><li>  resize2fs </li></ul><br><h1>  And reduce? </h1>  Unfortunately no.  There are several reasons, the main one: it is dangerous.  It is very dangerous.  If you cut the disc - then from the end.  And without looking at the file system.  With a chance to tightly lose data (because due to the peculiarities of blktap, data on a cut piece is lost forever). <br><br>  The second - resizing the file system down is not a task for the faint of heart (especially the root file system), plus it is a huge load on the disk (which will cost so much that making 2-3 full copies of the disk will be cheaper). <br><br><h1>  Fragmentation? </h1>  It occurs, but, due to the PE size of the LVM we used, is very insignificant - the minimum piece will be 4 MB in length.  Plus, from the point of view of our storage, we still have competitive requests to different storage locations, so there should be no difference in performance. <br><br><h1>  Money? </h1>  The operation of changing the size of the device is very simple and we do not take money for it.  The new disk begins to account with the new size.  Since we take into account the place in TB * hour (with real resolution in seconds), then, in fact, the consumption of disk space simply ‚Äúincreases‚Äù, that is, from the point of view of accounting, practically nothing changes. </div><p>Source: <a href="https://habr.com/ru/post/117969/">https://habr.com/ru/post/117969/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../117962/index.html">Container is a convenient way to migrate from a RISC system to HP Integrity.</a></li>
<li><a href="../117964/index.html">Google lost a patent infringement case</a></li>
<li><a href="../117965/index.html">Innovation Project Competition</a></li>
<li><a href="../117967/index.html">Effectively destroy information on the hard disk</a></li>
<li><a href="../117968/index.html">What to read on the weekend? Recommended, issue number 8</a></li>
<li><a href="../117970/index.html">Why do discount card systems die?</a></li>
<li><a href="../117971/index.html">About Google and Microsoft Understanding</a></li>
<li><a href="../117972/index.html">Beeline, reset the DNS cache!</a></li>
<li><a href="../117973/index.html">Introduction to the Pantheios Logging Library</a></li>
<li><a href="../117974/index.html">Jooq - ‚ÄúLINQ‚Äù for Java, a type-safe SQL query builder in Java code</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>