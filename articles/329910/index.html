<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Analysis of changes in the game</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="One of the main characteristics of a successful mobile game is its constant operation: this is the processing of existing content, and the addition of...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Analysis of changes in the game</h1><div class="post__text post__text-html js-mediator-article">  One of the main characteristics of a successful mobile game is its constant operation: this is the processing of existing content, and the addition of a new one.  But there is a downside to the coin - you need to constantly assess the risks of changes in the next version of the application.  It is necessary to present in advance how changes in the update will affect the performance of the project.  Otherwise, you may find yourself in a situation when during a planned update the balance suddenly breaks down and you need to urgently raise the entire development team to release a hotfix. <br><br>  Even before building a new production build, we need to understand what indicators the innovation will affect.  Indeed, in the new versions of the game there can be many changes in the balance.  Without preliminary planning, one of such questions will inevitably arise: ‚ÄúWhat has increased ARPU in Canada ‚Äî local events in honor of a national holiday or a general increase in the complexity of a group of some levels;  and maybe just the stars so matched? ".  Of course, after the release of the update, a comprehensive analysis of the results is performed, but it is necessary to understand the nature of the changes in advance. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/811/a14/437/811a14437aec4845a6c0f8b2f607a9b2.jpg"></div><a name="habracut"></a><br><h2>  Development of changes </h2><br>  Before introducing new features into the game, we try to answer a number of questions: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  <b>Where are we going to look?</b>  - on which metrics ( <i>both generally accepted KPIs and internal quality criteria</i> ) the change will presumably affect what effect we will consider successful for the project. <br></li><li>  <b>Who will we look at?</b>  - for whom the change is intended ( <i>for whales, for new players, for players from China, for players stuck on a particular group of levels, etc.)</i> . <br></li><li>  <b>Why we will look?</b>  - what are the associated risks ( <i>harder levels ‚Üí more monetization and more dumps (churn); easier levels ‚Üí less monetization and less dumps)</i> . <br></li><li>  <b>Is there anything to watch?</b>  - Is all the necessary information tracked in the game? <br></li></ol><br>  When we answered the most important questions, there are still a couple.  For example, how will we add changes to the game?  There are two options: <br><br><ol><li>  <b>AB test.</b>  We conduct AB-tests for new features or strong changes to the current balance and gameplay.  Whenever possible, a preliminary AB test is preferable to us. <br></li><li>  <b>Immediately into the game.</b>  Adding new content to a game without an AB test is possible when we either technically cannot conduct an AB test, or do not consider content to be fundamentally new (new set of levels, new decorations, etc.). <br></li></ol><br>  AB-tests are written a lot of good and different, but we will write a little more. <br><br><h2>  AB Test Planning </h2><br>  If you decide to check the changes using the AB test, the main thing is to highlight the key points, otherwise the test will be useless either because of its lack of evidence or because of misinterpretation.  In any case, we do not need a useless test.  Therefore, this is what we look at when we are planning an AB test: <br><br><ul><li>  The choice of values ‚Äã‚Äãfor evaluation. <br><br>  <i>Example: it is assumed that the changes should ‚Äútighten the screws‚Äù and encourage players to pay to pass the level.</i>  <i>What we need to evaluate: conversion, ARPU, retention, dumps, level complexity, use of boosts.</i>  <i>We need to be sure that increasing revenue through increased conversion is worth the potential loss of users.</i>  <i>Moreover, some of the users who have fallen off could start watching advertisements and generate income in the future.</i>  <i>You must also be sure that the level is made well, that it is not too random, that there is no ‚Äúsilver bullet‚Äù in the form of one boost that guarantees passage.</i>  <i>Will these controlled metrics be enough or should I add more?</i> <br><br></li><li>  Calculation of the required required sample to obtain a meaningful result. <br><br>  <i>Example: the model predicts a guaranteed lack of conversion for about 2000 people in the group with level-up at the selected level on the selected day.</i>  <i>How many days to run the predictions so that the results of the test will produce meaningful results with an increase in the display of commercials for this group?</i> <br><br></li><li>  Formalization of test launch conditions. <br><br>  <i>Example: to run a large scale test, you need to find a country with a good conversion rate.</i>  <i>In this case, recruit only experienced players who do not speak English.</i>  <i>How to formalize this for the dynamic distribution of players in the test?</i> <br><br></li><li>  Understanding which mechanisms are provided for data collection and analysis of results. <br><br>  <i>Example: can we, in parallel, carry out several tests on different groups of levels and use a convenient tool to divide the influence of one and the other on players participating in two tests at once?</i> <br><br></li><li>  Formalization of criteria for making decisions about the completion of the test. <br><br>  <i>Example: is it worth stopping a test ahead of time if metrics have dropped dramatically?</i>  <i>Or is this a temporary effect, characteristic of a cohort, and is it worth the wait?</i> <br><br></li><li>  Formalization of criteria for making decisions about the introduction of changes in the game.  Let's talk about it in the next section of the article! </li></ul><br><h2>  Making the right decisions on the test results </h2><br>  Even if you distribute the players in groups in equal proportions, inside they can get into different conditions.  For example, those who came into the game and entered the test at the beginning of the month may have a greater ARPU than those who came at the end of the test.  The choice of methodology - this may be a cohort approach or the calculation of ARPU Daily (ARPDAU) - depends on the specific objectives at the planning stage and on the players distributed to the test on a regular basis. <br><br>  In a cohort assessment of the result, it is necessary to take into account that the players, distributed closer to the end of the test, could not yet reach the ‚Äúconversion points‚Äù.  It is necessary either to cut off part of the ‚Äúlast‚Äù cohorts in the analysis, or to wait for the right time after stopping the distribution of players in the test. <br><br>  Also, it is possible to approach the analysis of group totals in different ways.  We use two main approaches: <br><br><ol><li>  <b>Frequency approach</b> - a classic approach to evaluating results.  We formulate the null hypothesis of the absence of a significant difference between groups and an alternative hypothesis that negates the null.  The outcome of the study will be a decision about the validity of any of the two hypotheses for the entire population.  Select the alpha level (1 - alpha = significance level) and perform the test using the statistical criterion (z-criterion, t-criterion).  Next, we build confidence intervals for the control and test groups.  If these intervals do not overlap, then the result is reliable with probability 1 - alpha.  In fact, the chosen value of alpha is the probability of an error of the first kind, i.e.  the probability that an alternative hypothesis will be adopted according to the results of the experiment, although the null hypothesis is true for the general population. <br><br>  <i><b>Pros: a</b> guaranteed result of determining a significant difference with a sufficiently large sample.</i> <br><br>  <i><b>Disadvantages:</b> sample size - the higher the selected level of confidence, the more recruited group members.</i>  <i>And the more critical the change being tested, the higher the level of significance that we set by the threshold value.</i> <br><br></li><li>  <b>The Bayesian approach</b> is a less common method, which is based on the principle of calculating conditional probability.  It allows us to consider the probability of an event, provided that the population is distributed in a certain way.  From the point of view of practice, the use of the Bayesian approach makes it possible to reduce for a number of metrics the requirements for the number of sample elements (participants in the AB test).  This works, because at a certain point, while optimizing the distribution parameters, the density built does not approach the actual results in the test. <br><br>  The approach is based on the principle of calculation of conditional probability.  If at the time of analyzing the results we know what kind of distribution the general population has, we can restore the probability density by optimizing the parameters of this distribution. <br><br>  If the random variable does not correspond to one type of typical distributions, then the desired distribution can be obtained by combining several typical distributions using the principle of joint probability of events.  For example, for ARPPU, we combine the distribution of income from the user with the distribution of paying users (optimizing the parameters of the work).  We describe the final distribution model for a random variable and compare two samples within the framework of the constructed model.  Next, using the statistical criterion, we check that both samples correspond to the distribution described in the model and have different parameters. <br><br>  <i><b>Pros:</b> in case of successful model selection and successful optimization of parameters, accuracy and reliability of estimates can be improved and in some cases decisions can be made by recruiting small groups of users for the test.</i> <br><br>  <i><b>Disadvantages: there</b> may not be a successful model, or it can be quite complicated for application.</i> <br></li></ol><br>  Let's take as an example a few tests on the Township project.  There, using the Bayesian approach instead of the frequency approach has improved the accuracy. <br><br>  In the first test, we changed the amount of paid currency, the so-called.  cache that a player can get from one particular source.  We planned that this could lead to a slight improvement in monetization.  As a result, we have established the difference: <br><br><ol><li>  DPU (Daily Paying Users) - test group is 1% larger than the control group with a probability of 87% when using the Bayesian approach, whereas the same group divergence when using the frequency approach is true with a 50% probability. <br></li><li>  ARPU Daily (ARPDAU) - the test is more than the control one by 2.55%, the Bayesian approach is 94%, the frequency approach is 74%. <br></li><li>  ARPPU Daily - test more by 1.8%, Bayesian - 89%, frequency - 61%. <br></li></ol><br>  Thus, we were able to raise the accuracy to acceptable without changing the size of the groups of participants. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/74a/4e9/5a1/74a4e95a18d1c007ff134119f4abcd1f.png"></div><br>  In another test, we changed the ad display settings for a specific group of players in a region with poor monetization.  At that time, we already found out that for some well-chosen groups of players, advertising could not only not spoil, but even improve conversion or ARPU, and wanted to test this approach on a wider group. <br><br><ol><li>  The conversion in the control group was higher than in the test group, with a Bayesian approach with a probability of 97%, this was clear for 50,000 players, and for a private one - with a 95% probability for 75,000 players. <br><br></li><li>  The difference in ARPU in favor of the control group by the Bayesian approach was estimated by the total with a 97% probability per month, while in the frequency approach the confidence intervals were not diverged. <br></li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/801/807/f56/801807f56c5ef12a71db38e2d984f8c0.png"></div><br>  Regardless of the final choice of approach to the assessment of results, we obtain information about the difference between the control and test groups.  If we consider the result to be positive for the project, then we include the change for all users.  Even before the full implementation of changes in the game, we have an idea of ‚Äã‚Äãhow they can affect our players. <br><br><h2>  Metrics monitoring </h2><br>  Of course, in some cases for the new content we can not conduct an AB test, if the effect of the changes is predictable.  For example, when adding new match-3 levels to the game.  For these changes, we use a posteriori control of key metrics.  As in the case of the AB-test, the data for this is collected and processed from the events that came from users in automatic mode. <br><br>  We have our own dashboard, an internal development based on the <a href="http://cubes.databrewery.org/">Cubes</a> opensource solution.  It is used not only by analysts, but also by game designers, managers, producers and other members of our friendly development team.  With this dashboard (more precisely, a set of dashboards) for each project, both key indicators and their internal metrics, such as, for example, the complexity of match-3 levels, are tracked.  Data for dashboards is prepared in the format of olap-cubes, which, in turn, contain aggregated data from the database of raw-events.  Thanks to the choice of additive models for each graph, it is possible to perform a drilldown (decomposition into components) into the necessary categories.  If desired, you can group or ungroup users to apply filters when rendering metrics.  For example, you can do a drilldown by application version, level setting version, region and solvency, leaving only paying players from Australia with game version 1.8 and level 4 tuning version. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ec3/3eb/1eb/ec33eb1eb958ac360ba7ae005a34c6e3.png"><br><br>  Of course, the most interesting combination of the default is the latest version of the game and the latest version of the levels, which are compared with the previous version.  This allows the level designers to continuously monitor the current state of the project complexity curve, abstracting from the global analysis of the update, and quickly respond to deviations of indicators from the planned course. </div><p>Source: <a href="https://habr.com/ru/post/329910/">https://habr.com/ru/post/329910/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../329900/index.html">Initial setup of Puppet is not as simple as it sounds.</a></li>
<li><a href="../329902/index.html">Routers, attack vectors and other adventures of Shurik</a></li>
<li><a href="../329904/index.html">How to use a token to make a Windows domain safer? Part 2</a></li>
<li><a href="../329906/index.html">I want to break free. What and how to learn to escape from 1C</a></li>
<li><a href="../329908/index.html">Visual Studio Mobile Center: Deploy mobile software using Microsoft devops pipeline</a></li>
<li><a href="../329914/index.html">How do i make backups. DBMS FireBird</a></li>
<li><a href="../329916/index.html">5 sources about algorithmic design, if you just started to be interested in them</a></li>
<li><a href="../329918/index.html">Native EcmaScript modules: new features and differences from webpack</a></li>
<li><a href="../329920/index.html">Multistage backup storage for the smallest</a></li>
<li><a href="../329922/index.html">The science of neural networks. Live</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>