<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Thinking Reactively. Meteor js</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If you have not heard about meteor, then you don‚Äôt follow the world of JavaScript at all, you are not interested in the web and it‚Äôs not clear how you...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Thinking Reactively. Meteor js</h1><div class="post__text post__text-html js-mediator-article">  If you have not heard about meteor, then you don‚Äôt follow the world of JavaScript at all, you are not interested in the web and it‚Äôs not clear how you got here. <br>  So be it. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/066/37f/f9d/06637ff9d61e52470242fc6ce718ed3b.jpg"><br><a name="habracut"></a><br><h2>  opening speech </h2><br>  Meteor is one of the most unusual and experimental js frameworks for a long time.  Those who say that this is not an MVC framework are certainly right. <br><br>  One of the 7 principles that authors highlight on <a href="http://docs.meteor.com/">the documentation page</a> : "Meteor is an open source tools and integrates, rather than replaces, existing open source tools and frameworks".  Thereby they hint that they are not trying to solve problems that have long been solved.  This and the fact that one of the so-called ‚ÄúSmart Packages‚Äù, which are already integrated into meteor, is the <a href="http://backbonejs.org/">backbone</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The main difference between meteor is that it does not try to structure your code like most existing frameworks, it tries to instill a certain way of thinking during development. <br><br><h2>  Reactivity </h2><br>  Behind this word lies the main idea of ‚Äã‚Äãthe approach.  Historically, the traditional JavaScript approach is asynchronous.  Despite the fact that there is nothing complicated here, sometimes there are problems in debugging.  Sometimes people cannot understand where the code is executed asynchronously and where it is not.  There are also such things as CPH (callback pyramid of hell), asynchronous soup, and so on.  All of them are designed to identify the code of people who love to write everything in one function.  For them, a great variety of flow control libraries and even js dialects were invented.  My favorites are <a href="https://github.com/willconant/flow-js">flow-js</a> and <a href="http://maxtaco.github.com/coffee-script/">IcedCoffeeScript</a> . <br><br>  However, as it turned out, this does not solve the problem, but only allows programmers who have mastered this tao, maliciously chuckling, sending code to their colleagues with a proposal to check and accept pullrequest. <br><br>  And here we return to meteor.  On <a href="http://meteor.com/">the meteor start page</a> there are 8 points that describe its main features, we are interested in two: live page updates (on-the-fly page updates) and latency compensation (compensation for delays).  Together, these two properties allow you to create magic: to link pieces of templates with data.  At the same time, as soon as the data has changed a piece of the template is re-rendered and the client receives the current state of your application, whereas you have not written a single extra line. <br><br><pre><code class="coffeescript hljs">fragment = Meteor.render -&gt; name = Session.get(<span class="hljs-string"><span class="hljs-string">"name"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-string"><span class="hljs-string">"Anonymous"</span></span>; <span class="hljs-string"><span class="hljs-string">"&lt;div&gt;Hello, </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">#{name}</span></span></span><span class="hljs-string">&lt;/div&gt;"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.appendChild fragment Session.set(<span class="hljs-string"><span class="hljs-string">"name"</span></span>, <span class="hljs-string"><span class="hljs-string">"Bob"</span></span>) <span class="hljs-comment"><span class="hljs-comment">#   !</span></span></code> </pre> <br><br>  The example is taken directly from the documentation.  In short, the following happens: there is a ‚Äúmagic‚Äù method Meteor.render, which returns a documentFragment and is able to update it at the moment when the data used in its body changes.  One condition: the data structure with which we want to associate the template must implement a specific interface.  More details can be found in the description of <a href="http://docs.meteor.com/">Meteor.deps</a> , as well as ‚Äúit just works‚Äù. <br><br><h2>  Database on the wire </h2><br>  Further - more, it is cool to associate data with a template, but we still have a lot of routine code that implements data synchronization on the client with data on the server.  And here, these guys famously slashed off their shoulders and realized what I adore them for, and most of the js-community mercilessly spread rot.  Database Everywhere.  They made transparent the process of adding data from the client to the server.  You change the collection on the client and it is immediately synchronized via the web sockets with the server.  Then the previous two principles come into force and we get that all customers who have been affected by the changes have an up-to-date page before their eyes.  That is, in fact, we can directly bind the database and template.  It's simple: <br><br><pre> <code class="coffeescript hljs">Posts = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Meteor.Collection <span class="hljs-string"><span class="hljs-string">'posts'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Meteor.isClient $(@el).html Meteor.render -&gt; someTemplateFunction Posts.find({}).fetch()</code> </pre><br><br>  Please note that the line with the declaration of the collection must be executed both on the client and on the server, but the template engine must run on the client. <br><br>  But what about security?  Just a couple of days ago, version 0.5 came out, in which an authorization mechanism was added that works very simply (in fact, these features were already available for a long time in the auth branch): <br><br><pre> <code class="coffeescript hljs">Posts.allow insert: <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> update: <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> remove: <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> fetch: <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre><br><br>  We have just forbidden any actions to do with the Posts collection, except for selections.  Details can be read in the <a href="http://docs.meteor.com/">documentation</a> or on <a href="https://github.com/meteor/meteor/wiki/Getting-Started-with-Auth">github</a> . <br><br>  At the moment there is a problem with large collections, as the process of synchronization takes a lot of time and memory.  Now these problems are being solved, for example, <a href="https://github.com/meteor/meteor/issues/207">here</a> . <br><br>  As a result, meteor allows us to write code that is initially focused on data and their changes.  We remove the need to think about the transfer of information and how we keep html up to date after changes on the server. <br><br>  It remains to add one small stroke and say that initially all the code you write is executed on the server and on the client, which means that data structure definitions can be described once and they will be the same everywhere.  And, <a href="http://lwn.net/Articles/193245/">as you know</a> : ‚ÄúBad programmers worry about the code.  Good programmers worry about data structures and their relationships. ‚Äù <br><br>  But the code that refers only to the client part or should be executed only on the server should be stored in the client and server folders, respectively.  In general, <a href="http://en.wikipedia.org/wiki/Convention_over_configuration">convention over configuration</a> . <br><br><h2>  Deploy? </h2><br>  Deployment mechanism is built into the framework itself, but for now it can be deployed only to the meteor.com subdomains, which is certainly not cool.  For those who already want to deploy meteor-applications on their servers in the documentation there is a <a href="http://docs.meteor.com/">detailed instruction</a> .  Well, I wrote a small <a href="https://gist.github.com/3928508">cake task</a> that automates this process.  You will need to install the nver-packages NodeSSH and scp installed on the server <a href="https://github.com/nodejitsu/forever">forever</a> and installed for the current project.  To install the latest, go to the project folder / .meteor / local / build / server / and type: "npm install NodeSSH scp".  To start deployment, you just need to type "cake deploy". <br><br><h2>  And finally </h2><br>  And finally, I want to assure you that all environments and all frameworks fade in front of meteor when it comes to usability.  There are two reasons for this, meteor practically doesn‚Äôt limit you where and what files you want to store, and the second is ‚ÄúSmart Packages‚Äù.  I, as a person who has long ceased to program on pure js and use pure css, simply trudge from the fact that any file created in the project directory should be connected to the page, and if I type a simple command in the console: meteor add coffeescript, then The .coffee file created by me will automatically be compiled into js and will be added to the page.  The same can be said about things like less, stylus, sass, etc. <br><br>  Various jquery plugins, framework languages ‚Äã‚Äãand much more are just as easy to add.  As the number of ‚ÄúSmart Packages‚Äù grows, meteor will become more and more convenient, but even now there is almost everything needed to develop a full-fledged one page app. <br><br>  As for the community, it pleases.  If you go to the irc channel chat.freenode.net #meteor, they will definitely help you or at least try to help.  The <a href="https://github.com/meteor/meteor/issues">issue in github</a> responds quickly, and discussions are quite active. <br><br>  Despite all the praises, meteor is still not ready for serious production decisions.  Also, it is very sad that the authors so strongly attached their decision to mongo.  Not that mongo is a bad database, but not fashionable anymore.  I anticipate that, one day, the authors will have to spend a decent amount of time cutting out the mongo-dependent code in an attempt to make meteor DB agnostic (independent of the specific database). <br><br>  But the rules were not written to us, so I took a chance and next time I will tell you how to load a 4-core server with a small promo site, raise several meteor instances to balance and not go crazy about the constant calls with shouts that nothing does not work. <br><br>  PS All examples on CoffeeScript.  And you can find me here: <a href="http://twitter.com/thought_sync">@thought_sync</a> and <a href="http://github.com/Termina1">http://github.com/Termina1</a> <br><br>  PPS And <a href="https://habrahabr.ru/users/evilfaeton/" class="user_link">EvilFaeton also</a> said that there are few pictures, so here is your morning bonus from the ResumUP team. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e1e/f1b/4cb/e1ef1b4cbd3645057195d5d1f8655f46.jpg"><br><br><h2>  References: </h2><br><ol><li>  github: <a href="https://github.com/meteor/meteor">https://github.com/meteor/meteor</a> </li><li>  stackoverflow: <a href="http://stackoverflow.com/questions/tagged/meteor%3Fsort%3Dnewest%26pagesize%3D15">http://stackoverflow.com/questions/tagged/meteor</a> </li><li>  Do geniuses: <a href="http://meteor.com/about/people">http://meteor.com/about/people</a> </li></ol><br></div><p>Source: <a href="https://habr.com/ru/post/155579/">https://habr.com/ru/post/155579/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../155563/index.html">The quarter-finals of the Moscow region Acm Icpc</a></li>
<li><a href="../155565/index.html">Overcoming a disconnection of a remote connection in the absence of user actions</a></li>
<li><a href="../155567/index.html">How we collect data for Nokia Maps</a></li>
<li><a href="../155571/index.html">Perl6 - Classes</a></li>
<li><a href="../155575/index.html">Start using Tarantool in a Java project</a></li>
<li><a href="../155587/index.html">"Gray" phones in Ukraine. Should I buy?</a></li>
<li><a href="../155591/index.html">How to understand how much you are worth, or payroll clusters in action!</a></li>
<li><a href="../155593/index.html">We equip the workplace of the programmer in the village</a></li>
<li><a href="../155597/index.html">ZTE V881 smartphone review</a></li>
<li><a href="../155599/index.html">ZTE V880S smartphone review</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>