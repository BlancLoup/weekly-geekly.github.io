<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Comments in the code - useful, senseless, harmful?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Somehow looking through the code of some old modules, I again thought about the role of comments. The question, though trivial and discussed millions ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Comments in the code - useful, senseless, harmful?</h1><div class="post__text post__text-html js-mediator-article">  Somehow looking through the code of some old modules, I again thought about the role of comments.  The question, though trivial and discussed millions of times in books, blogs, articles and forums, but still sometimes hurts me.  At the same time, they write about the benefits of comments much more often than about their harm. <br><br>  Therefore, I will make a few bit of provocative statements, then try to back them up with examples.  Let's see what happens.  Written applies to both (Java) Doc, and to the usual comments in the code. <br><br>  So: <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>1. A comment may be helpful, meaningless or harmful.</b> <b><br></b>  <b>2. If the comment does not have a clearly visible benefit, then it is most likely harmful.</b> <b><br></b>  <b>3. Comments are useless / harmful more often than it seems.</b>  <b>No comment is better than useless comment.</b> <b><br></b>  <b>4. Before you write a comment - think twice, but maybe not worth it?</b>  <b>:)</b> <b><br></b>  <b><s>(5. After you have decided that a comment is still not needed, look three times - and the code is crystal clear? :))</s></b> <br><br>  All helpful comments are clear.  When: <br>  - it is enough to read 6 lines of comment instead of 80 lines of method code with business logic <br>  - the commentary refers to a implemented little-known algorithm or data structure (for example, ‚Äúthe search for a substring uses the Aho-Coracic algorithm‚Äù, a link to Wikipedia or a special site) <br>  - the comment explains why the author uses the wrong approach that the reading code most likely expects to see here (for example, a handwritten SQL query instead of working through the ORM framework, or why regexp is used to search XML, and not XPath) <br>  - the comment gives a short clear example of use (especially if this is some custom Ant task or something like that), <br><br>  it is almost certainly a useful, and sometimes necessary, comment. <br><br>  And now let's look at some other common example. <br>  Such a comment is usually created by the default IDE when generating the setter getters for the object field (in turn, if Java had properties and the required synthetic methods were generated by the compiler transparently for the programmer, this problem would not exist either :)). <br><br><ol><li>  / ** </li><li>  * <a href="http://habrahabr.ru/users/return/" class="user_link">return</a> the enterpriseName </li><li>  * / </li><li>  public <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html">String</a> getEnterpriseName () { </li><li>  return enterpriseName; </li><li>  } </li></ol><br><br>  The comment is obviously not needed.  There is nothing non-trivial in the code, the comment essentially duplicates the code.  In addition, the comment here takes up three lines in the code editor.  Those.  exactly the same as the code itself.  Not only is the code itself, in essence, synthetic, + because of the Java Code Conventions it stretches three lines for readability, the comment also eats up the place. <br>  Java and so unimpressive language (in terms of the average amount of useful actions per line of code) compared with, for example, Ruby or Groovy, so why waste screen space for extra comments. <br><br>  Here, of course, there is a delicate moment.  If the code with similar comments is part of the public API of some kind of generic library, and none of the programmers using it almost never looks at its sources, but looks at Javadoc - then this is still normal.  But if this code is in a module developed by us, and the source code of this class is viewed more often than its documentation (which is almost always true), then this is IMHO, the case when the rule ‚Äúany API element should have a comment‚Äù should be applied with great care. <br><br>  The considered example is often further aggravated by the fact that <a href="http://habrahabr.ru/users/param/" class="user_link">param</a> , <a href="http://habrahabr.ru/users/return/" class="user_link">return</a> tags are pushed into the comment, which often do not carry useful information, but they eat up the place.  For example: <br><br>  / ** <br>  * <br>  * Some description. <br>  * <a href="http://habrahabr.ru/users/param/" class="user_link">param</a> paramName1 paramName1 <br>  * <a href="http://habrahabr.ru/users/param/" class="user_link">param</a> paramName2 paramName2 <br>  * <a href="http://habrahabr.ru/users/param/" class="user_link">param</a> paramName3 paramName3 <br>  * <a href="http://habrahabr.ru/users/return/" class="user_link">return</a> the name of user <br>  * / <br>  public String getUserName (String paramName1, int paramName2, int paramName2) { <br>  / * some simple straight-line code * / <br>  } <br><br>  (It's funny that often there are such meaningless comments in the code, but in really complicated parts there are few comments :)) <br><br>  And finally, another example. <br><br>  // Temporary hack  the ability to do fine is not supported right now, <br>  // a need to do urgently.  On the advice of [senior developer name], hacked like this. <br>  // 04/21/2004, [developer name]. <br><br>  In some examples I partially exaggerate, but the general idea does not change. <br><br>  <b>Updated:</b> <br>  Upon request in the comments, I give a link to a couple of books that are useful for any programmer to read, so as not to write such comments (and not to make many other mistakes) <br><br>  Steve McConnell.  Perfect code.  <a href="http://www.ozon.ru/context/detail/id/5508646/">www.ozon.ru/context/detail/id/5508646</a> <br>  Martin Fowler.  Refactoring.  Improve existing code.  <a href="http://www.ozon.ru/context/detail/id/4952415/">www.ozon.ru/context/detail/id/4952415</a> </div><p>Source: <a href="https://habr.com/ru/post/108985/">https://habr.com/ru/post/108985/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../108973/index.html">Writing a web API to your system</a></li>
<li><a href="../108975/index.html">Laurent Gilles: what should be a startup team</a></li>
<li><a href="../108977/index.html">Potentially unsafe Dropbox behavior</a></li>
<li><a href="../108978/index.html">NAT on Cisco. Part 2</a></li>
<li><a href="../108984/index.html">"Black Friday" Kindle 2 for $ 89 broke up on Amazon in a few seconds</a></li>
<li><a href="../108990/index.html">Import views from module</a></li>
<li><a href="../108992/index.html">NLP: spell checker - an inside look (part 3)</a></li>
<li><a href="../108993/index.html">Important aspects of the RESTful API for your project</a></li>
<li><a href="../108997/index.html">VMware and Cisco - VDI-friends forever</a></li>
<li><a href="../108998/index.html">Citrix XenVault: corporate safe in user environment</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>