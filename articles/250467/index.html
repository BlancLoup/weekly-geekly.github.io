<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How backgrounds are made in Homeworld2 from the inside</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article is a translation of two articles from Simon Schreibt. Both articles on the same topic are complementary. Do not be alarmed by the fact th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How backgrounds are made in Homeworld2 from the inside</h1><div class="post__text post__text-html js-mediator-article">  <i>This article is a translation of two articles from Simon Schreibt.</i>  <i>Both articles on the same topic are complementary.</i>  <i>Do not be alarmed by the fact that at the beginning everything is typed in large letters, this is the author's style and I tried to keep it as much as possible.</i> <br><br><h3>  What you see here </h3><br><img src="https://habrastorage.org/files/8a3/5e3/dd7/8a35e3dd7bc044c595577ac6ff50d10b.jpg"><br><h3>  these are stunning backgrounds </h3><br><img src="https://habrastorage.org/files/98b/a12/467/98ba12467af3434595b10a1dfa4bde42.jpg"><br><h3>  one of the most beautiful science fiction games. </h3><br><img src="https://habrastorage.org/files/339/8b4/06d/3398b406dfc3447dbdcabbd88c7be100.jpg"><br><br><h1>  H omeworld 2 </h1><br><a name="habracut"></a><br>  Thanks for reading. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Just kidding, of course.  Of course, I have something to tell about this topic.  In our company, we occasionally look at art from <a href="http://en.wikipedia.org/wiki/Homeworld">Homeworld</a> and admire the skill of its creators.  Now, after we have discussed how great the background looks and how interesting this outline style (sketch) looks like, something remains ... some details seem ... especially for us. <br><br><img src="https://habrastorage.org/files/0a3/b8b/86e/0a3b8b86e90546ea8b22329496109a85.jpg"><br><br>  I mentioned that it looks a bit like ... gradient coloring on the vertices.  But they will not draw the background geometry, right?  I mean ... that in this case it should be a rather strongly tessellated sphere.  The discussions were finished, but I was not satisfied with the result and wanted, at least, to see the textures.  Therefore, I used some <a href="http://www.moddb.com/games/homeworld-2/downloads/homeworld-universe-mod-tools">utilities</a> to extract data from Homeworld 2 Demo, but there were no textures.  Only a number of <i>.HOD</i> files.  Googling I found a topic on how to generate these <i>.HOD</i> files from <i>.TGA</i> .  She read: <br><br>  <i>‚Äú... scans each pixel of the image and then based on the contrast</i> <i><br></i>  <i>decides whether or not to add a new top and color ... ‚Äù</i> <br><br><h1>  WHAT? </h1><br>  Could this really be vertex coloring?  Fortunately, you can look at the .HOD file using CFHodEdit.  Another utility may turn on the forced grid display mode.  See what you get to pull into the light: <br><br><h3>  This one </h3><br><img src="https://habrastorage.org/files/523/f5d/b8b/523f5db8b4d5422fb39213b01317744e.gif"><br><h3>  of the bravest </h3><br><img src="https://habrastorage.org/files/507/15e/5a6/50715e5a66a941fc903e9bc86a072e6e.gif"><br><h3>  solutions for game art I've ever seen. </h3><br><img src="https://habrastorage.org/files/51a/ba2/fcc/51aba2fcc406417785201fe438b17faf.gif"><br><br>  And here you can see how this affects the geometry of the sky in the game.  See how low the resolution is in non-contrast areas?  And what a smooth sphere in places where there are many details? <br><br><img src="https://habrastorage.org/files/a10/e76/7ac/a10e767ac79f449b8182968d298e754d.gif"><br><br>  I never even thought that this way you can get such good results.  Oh, and do not forget that this approach solves two big problems. <br><br>  <b># 1</b> There are no problems with artifacts from compressing <i>DDS</i> format textures. <br>  <b># 2</b> More important from the point of view of the composition: due to the fact that it is impossible to get a strong level of detail (the training says that the original TGA should not contain many clear details), the background remains where it should be: <br><h1>  ON THE BACKGROUND. </h1><br><br>  Very often I see games where the background contains too much noise and details that the truth is very difficult to distinguish from the middle and near plan. <br><br>  The last time I saw the perfect combination of technology and composition in Diablo 3. I‚Äôm talking about my article <a href="http://habrahabr.ru/post/250261/">"Trees in Diablo 3."</a> <br><br><hr>  End of first article.  The second part of. <br><hr><br><br>  Some people ask in the <a href="http://www.polycount.com/forum/showthread.php%3Ft%3D115889%26page%3D7">subject on Polycount</a> how these areas in Homeworld were made.  Let's do it together!  Well, we will use for this utility for mods.  And I have no idea how close it is to <a href="http://www.relic.com/">Relic</a> ‚Äôs original approach to this issue. <br><br>  <b>Download</b> <br>  Download this mod <a href="http://www.moddb.com/games/homeworld-2/downloads/homeworld-universe-mod-tools">utility collection</a> and use the ‚ÄúHW2BGBuilder‚Äù tool.  There is also ‚ÄúHW2 - Spookysoft - HOD Tool 1.5.0.1 ‚Ä≥, but for me it didn‚Äôt fit much. <br><br>  <b>Hod viewer</b> <br>  To view <i>.HOD</i> files, use ‚ÄúCFHodEdit 3.1.5 ‚Ä≥ (open your <i>.HOD</i> file, then in the bottom of the program, find the‚Äú Miscellaneous ‚Äùtab and click‚Äú HOD Preview ‚Äù). <br><br>  <b>Go!</b> <br>  Well, first we will create a test <i>.TGA</i> to see what we expect.  I think this should work well (1024 √ó 512, 24bit): <br><br><img src="https://habrastorage.org/files/728/3e8/5ac/7283e85ac90c40fa9975f4e9353f25cc.jpg"><br><br>  Create a shortcut for HW2BGBuilder.exe and drag our texture onto it.  We will give the utility to calculate the necessary and then click on ‚ÄúSpace‚Äù (word game from the author. This implies both the space button and the space at the same time. Note. Lane) to start the process.  We will feel like a hacker of the Matrix while the numbers run down the command line. <br><br><img src="https://habrastorage.org/files/139/7af/2a3/1397af2a34694b199a58a920ca259d93.gif"><br><br>  And this is what it looks like in ‚ÄúCFHodEdit‚Äù.  You can very clearly see the UV scan of the sphere.  So, now we know three things: <br><ol><li>  It is not necessary to add detailing at the top and bottom of the texture, as it will compress there very strongly. </li><li>  The left and right sides of the texture should match with each other to avoid visible seam. </li><li>  The color is brighter than the original texture. </li></ol><br>  A little more about all this in a couple of sentences below. <br><br><img src="https://habrastorage.org/files/c29/bff/48f/c29bff48f3944880a9f405e78867c17c.gif"><br><br>  Regarding the last point: in Homeworld, they draw only smooth gradients at the poles of the sphere and avoid any visible deformation.  Vertices are also rare in these areas, which leads to smooth gradients of vertex colors. <br><br>  See how the geometry is distributed around the pole: <br><br><img src="https://habrastorage.org/files/cb5/8ef/40b/cb58ef40b46e417ea1da1830c55394a7.jpg"><br><br>  I think it's just awesome.  Due to the restriction on the use of detail only in horizontal areas, you also achieve the (hopefully) that the player will never lose orientation in space. <br>  Now let's go to the ‚Äúreal‚Äù texture.  But before that, let's reduce the level (brightness approx. Lane) from 255 to 128 (Photoshop&gt; Image&gt; Adjustments&gt; Levels). <br><br>  Brightness level: <b>255</b> <br><img src="https://habrastorage.org/files/50a/d20/075/50ad20075d3c48a5a9c75a0e03c94298.jpg"><br><br>  Brightness level: <b>128</b> <br><img src="https://habrastorage.org/files/dc1/6f7/096/dc16f7096728410cac79a082b7b6e414.jpg"><br><br>  After generation, you will find a ‚Äú_ref.TGA‚Äù texture, which is a map of the borders used by the program to create a sphere.  I think she looks really interesting.  I think that the squares are the parts that the program counts one by one. <br><br>  Face Map: <br><br><img src="https://habrastorage.org/files/86e/627/aa7/86e627aa718a4812ae012a6e0bbd56d8.jpg"><br><br>  And this is how it looks in the viewer. In some places, especially at the top of a big mountain, you can see the ‚Äúleakage‚Äù of color.  I didn't really play with the ‚ÄúHW2BGBuilder‚Äù settings.  Perhaps there is room for maneuver and you can improve the result, but in general the result is very good. <br><br><img src="https://habrastorage.org/files/5b9/3bb/7d4/5b93bb7d468b45fda775d7ac827a764e.gif"><br><br>  It should be noted that the resolution of the original texture noticeably hit the number of polygons as a result. <br><br><img src="https://habrastorage.org/files/b20/596/c5b/b20596c5bca54271927ffe0cc174b703.jpg"><br><img src="https://habrastorage.org/files/efb/e36/914/efbe36914ab340fcb21f5b1aeac0266c.jpg"><br><br>  Last thoughts will be a bit technical.  Correct me if I explain incorrectly.  There is a sense in what I said ‚Äúbye‚Äù to numbers and went the way of graphics. <br><ul><li> 1 pixel requires 24 bits \ 3 bytes to be stored (RGB, each channel is 8 bits) </li><li>  1 vertex needs position (XYZ) and color (RGB) </li></ul><br><br>  This means that if the original texture contains too much contrast and detail everywhere, then there will be more data than when using the texture.  But the backgrounds in Homeworld consist mostly of colors and gradients, as well as a small amount of detail.  So for these purposes, the optimization is cool. <br><br>  While I was writing this article, there were discussions about how to reduce the number of polygons in zBrush.  <a href="http://www.polycount.com/forum/member.php%3Fu%3D44049">Computron</a> posted their results <a href="http://www.polycount.com/forum/showpost.php%3Fp%3D1798325%26postcount%3D163">here</a> .  Oh and <a href="http://www.polycount.com/forum/member.php%3Fu%3D13622">poopinmymouth</a> gave an <a href="http://forums.relicnews.com/showthread.php%3F148734-Homeworld2-Background-Builder-v1-3">excellent link</a> which describes the utility for creating spheres with all its parameters. <br><br>  And now I really thank you for reading. </div><p>Source: <a href="https://habr.com/ru/post/250467/">https://habr.com/ru/post/250467/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../250453/index.html">IT outsourcing: what is it and what does it eat?</a></li>
<li><a href="../250455/index.html">STM32. Medical application. Tonometer. Introduction and hardware</a></li>
<li><a href="../250461/index.html">General Director of Microsoft Ukraine Nadezhda Vasilyeva: ‚ÄúToday we have something that was important in Europe 2-3 years ago‚Äù</a></li>
<li><a href="../250463/index.html">Review and assessment of the prospects for the development of the global and Russian IT markets</a></li>
<li><a href="../250465/index.html">Poll. Automated Testing</a></li>
<li><a href="../250469/index.html">How to live with Docker, or why better with it than without it?</a></li>
<li><a href="../250471/index.html">We invite to the competition "Cognitive Vehicle Detection Benchmark"</a></li>
<li><a href="../250473/index.html">Facebook launched a social network for information security professionals</a></li>
<li><a href="../250475/index.html">OSEDUCONF-2015, the tenth conference ‚ÄúFree Software in Higher Education‚Äù - videotapes and overview</a></li>
<li><a href="../250481/index.html">JavaScript Garden: Objects</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>