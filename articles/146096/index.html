<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Blade Switching in a Dell PowerEdge M1000e Chassis</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today we will talk about Dell Networking MXL and PowerEdge MI / O Aggregator switches for installation in a Dell PowerEdge M1000e blade server modular...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Blade Switching in a Dell PowerEdge M1000e Chassis</h1><div class="post__text post__text-html js-mediator-article">  Today we will talk about Dell Networking MXL and PowerEdge MI / O Aggregator switches for installation in a Dell PowerEdge M1000e blade server modular chassis, designed for high-speed communication between servers, both within the chassis and with neighboring server groups, storage systems and connectivity. to the core of the network.  They support the latest technologies for switching systems and due to this they can be used as part of complex network architectures not only to increase the speed of data exchange and create fault-tolerant configurations, but also for the convergence of data transmission and storage networks.  Each of them provides 1.28 Tbit / s performance in full-duplex mode, supports up to 6 40 Gbit / s ports and is equipped with two slots for installing expansion modules that support various network interfaces.  However, as the name implies, one of them belongs to the Dell Networking line of network equipment, and the other to the Dell PowerEdge server.  Why - let's look at their study.  Let's start with the blade chassis. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/27e/508/d86/27e508d86d724398a4e61d2a7795ca02.jpg"></div><br><a name="habracut"></a><br><h4>  PowerEdge M1000e case </h4><h5>  Acquaintance </h5><br>  The PowerEdge M1000e blade server modular chassis is currently the flagship company in the blade solution market.  Configuration flexibility, compactness, centralized management, the ability to increase capacity during operation and the introduction of new technologies without fully re-equipping server cabinets are the main advantages of using solutions based on blade technology.  It has been developing for a long time, and the PowerEdge M1000e is a mature, complete solution with a wide choice of options for bundling.  Briefly consider his device. <br><br>  On the front side there are sixteen compartments for installing half-height servers, as well as other compatible devices.  For example, Dell releases iSCSI storage systems for installation directly into this chassis.  The most popular server format is half-height, as in the photo, but there are both full-height and quarter-slot.  Thus, it is possible to install up to 32 servers in one 10U chassis.  Also on the front panel is an interactive mini-display and USB and VGA ports for connecting a keyboard, mouse and display. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      On the back there are six compartments for power supplies (bottom) and nine for fans, all hot-swappable.  On top are KVMs with the ability to connect to a remote console via twisted pair and two compartments for the Chassis Management Controller, which provides an interface for the complete control of both the chassis and the equipment installed in it.  Between the fans are six compartments for installing network switches. <br><br>  The main part of the basket is midplein, through which the installed equipment is powered and data is exchanged.  Each server has network ports pre-installed by LOM or added with Mezzanine expansion cards, the switches for the basket have internal ports, all of them are switched via midplein.  The data exchange rate on it can reach 8.4 Tbit / s in duplex mode.  Installing the appropriate network switches supports up to 32 internal server ports per slot. <br><br>  As a choice, Dell offers a dozen and a half devices of varying degrees of complexity and power, as well as supporting various switching technologies.  These are proprietary Ethernet switches and Cisco, Fiber Channel Brocade and InfiniBand switches from Mellanox. <br><br><h5>  External switching </h5>  The diagram shows that the two slots A on the chassis are designed for Ethernet switches, while B and C may contain modules supporting Fiber Channel and InfiniBand.  You can also see two CMC modules for protection against failures, which are connected to a dedicated control network.  One module provides full functionality, the second is in hot standby.  Between them, KVM, on which the RJ-45 port serves not for connecting to the network, but for the remote console.  Two USB and VGA - for local. <br><br><img src="https://habrastorage.org/files/299/39d/eb2/29939deb2bf3454cb0dfbc692765f2eb.png"><br><br><h5>  Internal switching </h5>  The figure shows the internal switching scheme for half-height servers.  It shows the interfaces that can be present on such servers: a built-in two- or four-port Ethernet adapter supporting 1 or 10 Gbps speed and a Mezzanine expansion card that can support up to two Fiber Channel and InfiniBand ports or up to four ports Ethernet <br><br><img src="https://habrastorage.org/files/61f/ed3/efd/61fed3efdd854b21b574d984692837c3.png"><br><br>  The following figure shows the distribution of ports when using four-port Ethernet adapters in servers using blade switches with 32 internal ports, for example, Dell Networking MXL. <br><br><img src="https://habrastorage.org/files/aa2/162/536/aa216253635e41219578424b005a4025.png"><br><br><h4>  Dell Networking MXL and PowerEdge MI / O Aggregator </h4><h5>  General </h5>  Both switches support up to 32 internal 10 GbE ports for exchanging data between servers.  Both are equipped with two 40 GbE QSFP + ports and two expansion slots for compatible modules.  Each has two USB ports on the front panel - one for the console and one for the storage device. <br><br>  Optical ports support both the connection of transceivers for subsequent switching by fiber-optic cables, and direct connection by a special cable supporting a speed range of 10 Gbps or 40 Gbps, but not intended for transmitting a signal over long distances.  As an option, 40 Gbit / s splitter cables of 4 to 10 Gbit / s are available.  The figure shows the supported expansion modules, transceivers and cables for them. <br><br><img src="https://habrastorage.org/files/2a0/19a/1b4/2a019a1b47554df49aca70cc4a805074.png"><br><br>  A module with four 10GBASE-T RJ-45 ports can be installed only one; in the second slot, you can install any other expansion module.  In addition to this limitation, all other modules can be simultaneously used in any available combinations, both different and the same. <br><br><h5>  Differences </h5><br><img src="https://habrastorage.org/files/fbb/90c/0c7/fbb90c0c7545475784af57721c190755.png"><br><br><h5>  PowerEdge MI / O Aggregator </h5>  Designed for quick commissioning of the M1000e chassis and connecting to networks built on the basis of equipment from different manufacturers that supports different network technologies.  For commissioning, you need to unpack the switch, install it in the chassis slot, assign the administrator's IP address and password, and connect uplink ports to a rack switch or a network core switch.  On a rack switch, you need to configure the LAG in LACP mode.  When using convergence, all the DCB settings (ETS and PFC) of the new MI / O Aggregator device will be taken from the rack switch using the DCBX protocol.  To get started, you do not need to install additional licenses or pre-configure the blade switch. <br><br>  By default, all switch ports are active and all VLANs on them are tagged.  If it is necessary to define any ports untagged in this VLAN, this can be done through a simple graphical interface provided by the SMS module.  This, however, does not mean that more detailed configuration of the device is impossible - it supports a wide range of possibilities, a command line is available for administration. <br><br><h5>  Dell Networking MXL </h5>  The switch supports dynamic routing protocols available in the Dell Networking Operating System 9 (OS9).  It is a fully compliant industry standard operating system, managed via the command line and provides the administrator with a wide range of fine-tuning options.  It is similar to Cisco IOS and supports PVST + for integration with it. <br><br>  MXL supports the organization of a stack, which can include up to six devices, both located inside one case of the M1000e, as well as in different cases. <br><br>  In addition to fault tolerance, this provides a high data exchange rate between servers in different packages and the ability to access switches in the stack as a single network device, with a single network address and general settings.  Connection is carried out using the ‚Äúring‚Äù technology, i.e.  The first and last assembly member must be interconnected. <br><br>  If there is only one case, then both types of blade switches can support a stack created within one M1000e for redundancy and load distribution.  Such a stack is called horizontal - the cables are located exactly in it.  Vertical is a stack that contains up to 6 MXL switches installed in three different chassis as part of the same rack.  It is organized as a ‚Äúring‚Äù.  All equipment located in the three M1000e within the rack, in the case of such a connection is part of a single physical network, the aggregator of which is the MXL stack.  From the outside, switches entering the stack look like a single device, with the same settings, providing a single set of services and even having a single IP address.  However, in terms of fault tolerance, it is preferable to use two stacks in each blade chassis, combining switches from different chassis (see figure) <br><br><img src="https://habrastorage.org/files/4f1/915/574/4f191557432b4257bae66512dd22a1c3.png"><br><br>  An alternative to the fault-enhancing stack can be the use of the Dell Virtual Link Trunking (VLT) functionality on two MXL switches in a blade chassis (we wrote about this in detail <a href="http://habrahabr.ru/company/dell/blog/252763/">here</a> ).  Then, the blade servers in the chassis can be connected to two MXLs using the LACP ticking NIC, and the rack switches can be connected to two blade switches in the chassis using only one LAG.  Usually on MXL for the organization of the VLTi link use two built-in ports 40 GbE, integrated into the LAG. <br><br><h5>  MXL stack configuration example </h5>  In this example, the configuration of the stack is shown using two MXL switches in factory A1 (MXL-A1) and A2 (MXL-A2), stacked together with two ports fortyGig 0/33 and 0/37. <br><br>  It is necessary to consider the following feature of the stack.  When updating the DNOS software on the stack, all stack switches will be overloaded.  This procedure must be performed during the hours of lowest load.  If this is unacceptable, then Virtual Link Trunking (VLT) technology is recommended instead of stacking. <br><br>  Switch preparation: <br><ul><li>  If the DNOS versions on the switches are different, you need to update them so that all switches in the stack have the same version of DNOS.  Check version with command <pre>  show version </pre>  . </li><li>  Switches must be loaded. </li><li>  Stacking cables should not be connected. </li></ul><br>  Next, you need to put the switch ports in the stacking mode. <br><br>  Verify that the stacking ports are not yet configured on the MXL-A1 switch: <br><br><pre>  MXL-A1 # sho system stack-ports 
 Topology: Stand alone
 Interface Connection Link Admin Link Link Link
                            (Gb / s) Status Status Group
 -------------------------------------------------- ---------------- </pre><br><br>  Usually two built-in 40 GbE ports are used for stacking.  These are fortyGig 0/33 and 0/37 ports.  The correspondence of the switch's physical ports to the stack-group numbers is shown in the figure below: <br><br><img src="https://habrastorage.org/files/a74/14e/a41/a7414ea4114948f5b28e774a3726a9ed.png"><br><br><pre>  MXL-A1 (conf) # stack-unit 0 stack-group 0
 MXL-A1 (conf) # stack-unit 0 stack-group 1 </pre><br><br>  For deterministic selection of the stack master, it is recommended to set priorities on each switch participating in the stack.  The master with the highest priority becomes the master: <br><br><pre>  MXL-A1 (conf) # stack-unit 0 priority 14 </pre><br><br>  Verify that the stacking ports are not yet configured on the MXL-A2 switch: <br><br><pre>  MXL-A2 # sho system stack-ports 
 Topology: Stand alone
 Interface Connection Link Admin Link Link Link
                            (Gb / s) Status Status Group
 -------------------------------------------------- ---------------- </pre><br><br>  Configure the stacking ports and priority on the MXL-A2 switch: <br><br><pre>  MXL-A2 (conf) # stack-unit 0 stack-group 0
 MXL-A2 (conf) # stack-unit 0 stack-group 1
 MXL-A2 (conf) # stack-unit 0 priority 1 </pre><br><br>  After that, you must save the configuration and reboot both switches: <br><br><pre>  MXL-A1 # wr
 MXL-A1 # reload
 MXL-A2 # wr
 MXL-A2 # reload </pre><br><br>  Wait for the switches to reboot and connect the two stacking ports between the switches with 40GbE QSFP + Direct Attach cables or optical transceivers and optical cables: <br>  fortyGig 0/33 on the MXL-A1 switch &lt;-&gt; fortyGig 0/33 on the MXL-A2 switch <br>  fortyGig 0/37 on the MXL-A1 switch &lt;-&gt; fortyGig 0/37 on the MXL-A2 switch <br><br>  Check on the stack wizard that the switches are pooled: <br><br><pre>  MXL-A1 # sho system brief 
 Stack MAC: d0: 67: e5: cc: 8e: f0
 Reload Type: normal-reload [Next boot: normal-reload]
 - Stack Info -
 Unit UnitType Status ReqTyp CurTyp Version Ports
 -------------------------------------------------- ----------------------------------
   0 Management online MXL-10 / 40GbE MXL-10 / 40GbE 8.3.16.4 56     
   1 Standby online MXL-10 / 40GbE MXL-10 / 40GbE 8.3.16.4 56     
   2 Member not present                    
   3 Member not present                    
   4 Member not present                    
   5 Member not present                    

 MXL-A1 # sho system stack-ports 
 Topology: Ring
 Interface Connection Link Admin Link Link Link
                            (Gb / s) Status Status Group
 -------------------------------------------------- ----------------
   0/33 1/37 40 up up
   0/37 1/33 40 up up
   1/33 0/37 40 up up
   1/37 0/33 40 up up </pre><br><br>  Additional stacking information for MXL switches can be found <a href="http://i.dell.com/sites/doccontent/shared-content/data-sheets/en/Documents/Stacking_the_Dell_Force10_MXL_Switch.pdf">in this document</a> . <br><br><h5>  If simplicity is not important, then more opportunities </h5>  About the impossibility of organizing a stack of six MI / O Aggregator, you should make a clarification - with the basic settings out of the box.  When migrating via the command line, four operation modes are available for them: <br><ul><li>  Standalone mode (SMUX) - the default mode, with a simple configuration. </li><li>  VLT mode - the mode of the VLT domain member, which we described earlier. </li><li>  Programmable MUX mode (PMUX) - fully customizable via the command line mode, with the possibility of flexible settings. </li><li>  Stack mode - support mode of the stack using the ‚Äúring‚Äù technology, up to six devices in the stack. </li></ul><br><br>  In general, MXL and MI / O are similar, not only in appearance. <br><br><h5>  A few words from the practice of editing </h5> Explain some terms and magic numbers.  The height of the housing M1000e is 10U, they are suitable for tight installation.  Under HPC (High Performance Computing) conditions, the free space in the server room and in each of the cabinets is as valuable and ends as quickly as the free space on the hard disk of the working computer.  Therefore, it is considered good practice to use racks and cabinets with a height of 42U-47U.  The rack as a whole is usually in some way a self-sufficient unit, even when it is not alone.  Therefore, the heaviest equipment is mounted down - UPS, which usually takes up to 10U.  Next come the server cases, and the M1000e fits in exactly 3 pieces.  Optionally at a height of 20U with this installation can be installed console 1U high, retractable, for direct work with servers and other equipment.  As we noted, small storage systems can be installed directly in the chassis; larger ones will take up another 2U-5U from above. <br><br><h5>  Convergence </h5>  Since both of the switches in question support FCoE and expansion cards with FC ports and can directly work with storage systems that support this data transfer protocol, using them you can directly connect such storage systems to a common converged network. <br><br>  Both considered switches support FCoE convergence in FCoE transit mode, and when installing a module with FC ports, the ability to connect to an existing FC factory in NPIV Proxy Gateway mode, or for small installations such as "data center in a box" support connecting FC storage directly (see figure) .  When using convergence, you can save on HBA in blade servers and FC blade switches in the chassis. <br><br><img src="https://habrastorage.org/files/9db/d15/b17/9dbd15b173e941af8631ef4d18e9c36a.png"><br><br><h5>  MXL Switch Configuration Example </h5>  Finally, we would like to give an example of a working configuration of a Dell Networking MXL blade switch installed in a Dell PowerEdge M1000e chassis. <br><br><div class="spoiler">  <b class="spoiler_title">The example will be useful to technicians who first set up Dell switches running Dell Networking OS 9.x for L2 scenarios.</b> <div class="spoiler_text">  Comments in the text are in italics. <br><br>  MXL-A1 # show running-config <br>  Current Configuration ... <br>  !  Version 9.8 (0.0) <br>  <i>[Indicates the version of Dell Networking OS running the switch]</i> <br>  !  Last configuration change at Thu Jul 23 17:49:01 2015 by default <br>  !  Startup-config last updated at Sat May 16 04:52:23 2015 by default <br>  ! <br>  boot system stack-unit 0 primary system: A: <br>  boot system stack-unit 0 secondary system: B: <br>  <i>[The Dell switch is assigned a stack unit number.</i>  <i>When Dell switches are not stacked, they are numbered ‚Äú0‚Äù.</i>  <i>If the switches are combined into a stack, their number will be indicated in accordance with the position in the stack: from 0 to 5.</i> <i><br></i>  <i>The boot system command points to two partitions: A and B. Each partition can have its own version of Dell Networking OS.</i>  <i>‚ÄúA‚Äù is the primary and ‚ÄúB‚Äù is the backup partition.</i>  <i>When booting, the switch automatically loads the version of the Dell Networking OS in the main partition, unless otherwise specified in the boot system command.</i> <i><br></i>  <i>In Dell Networking OS, after a command is entered, its action is applied in the current (running) configuration file.</i>  <i>To save the current configuration, copy the running configuration to another location (for example, to the switch non-volatile memory using the copy running startup command).]</i> <br>  ! <br>  redundancy auto-synchronize full <br>  <i>[Set by default.</i>  <i>Used when stacking for master stack synchronization with a backup switch.]</i> <br>  ! <br>  hostname MXL-A1 <br>  ! <br>  ! <br>  username admin password 7 888dc89d1f1bca2882895c1658f993e7 privilege 15 <br>  username root password 7 d7acc8a1dcd4f698 privilege 15 role sysadmin <br>  <i>[Create local administrator accounts.</i>  <i>Dell Networking OS also supports authentication and authorization on RADIUS and TACACS + servers.</i>  <i>Because</i>  <i>the ‚Äúenable‚Äù or ‚Äúenable secret‚Äù password command is not set, the network administrator will immediately get into privileged configuration mode (privileged exec) (hostname #) after successfully entering the password.]</i> <br>  ! <br>  default vlan-id 11 <br>  <i>[Assign VLAN 11 as a native / untagged / default VLAN.</i>  <i>Native VLAN is untagged.]</i> <br>  ! <br>  ! <br>  protocol spanning-tree rstp <br>  no disable <br>  bridge-priority 57344 <br>  <i>[Configure 802.1w RSTP protocol.</i>  <i>Dell Networking OS 9.x also supports PVST +, MST (802.1s) and STP (802.1D).</i> <i><br></i>  <i>If the 802.1w RSTP domain of the Dell switches connects to the Rapid-PVST + domain of the Cisco switches, VLAN 1 must be enabled on both sides of the trunk port (or Port-channel) connecting the Dell and Cisco switches.</i>  <i>This will allow the RSTP domain to converge using the Common Spanning Tree (CST), which uses VLAN 1.</i> <i><br></i>  <i>In Cisco IOS and NX-OS, VLAN 1 is the only VLAN that allows Cisco rapid-PVST + protocol to communicate with switches from other manufacturers that use the RSTP 802.1w protocol.</i>  <i>Only in VLAN 1, the Cisco switch sends Cisco proprietary BPDU packets and also standard BPDUs for convergence of the topology with other switches.</i>  <i>The 802.1w switch uses standard BPDUs in VLAN 1. The proprietary Cisco BPDU packets are tunneled through a network of switches from other manufacturers to the next Cisco switch to ensure the convergence of the Cisco PVST + protocol.]</i> <br>  ! <br>  no iscsi enable <br>  <i>[This command disables the iSCSI optimization in Dell switches ‚Äî these are Jumbo MTU settings, flow control, unicast storm control, and others, which are enabled by default in Dell Networking OS.]</i> <br>  ! <br>  vlt domain 2 <br>  peer-link port-channel 10 <br>  back-up destination 192.168.2.2 <br>  primary-priority 57344 <br>  system-mac mac-address 02: 01: e8: 00: 01: 02 <br>  unit-id 0 <br>  <i>[These commands customize the functionality of Dell Virtual Link Trunking (VLT), an implementation of the Multi-chassis LAG technology.</i>  <i>VLT allows you to combine two switches into a fault-tolerant configuration for connecting to other switches or servers using the Link Aggregation Group (LAG) and 802.3ad LACP protocol.</i>  <i>Because</i>  <i>the physical ports belong to the same Port-channel logical interface, the Spanning Tree protocol does not block individual ports and provides balancing across all physical ports in the group.</i> <i><br></i>  <i>Two VLT switches form a domain number 1. In this example, the link connecting two VLT switches between themselves, called VLTi, consists of 2 40G ports (Fo0 / 33 and Fo0 / 37) connected in port-channel number 10 ( you can use any number in the range from 1 to 128).</i>  <i>VLTi link is used to synchronize service information and all tables (MAC addresses and ARP tables, IGMP, etc.).</i>  <i>This allows two VLT switches to function as one logical switch for the devices connected to them.</i>  <i>One of the switches takes on the role of VLT primary (can be set using the primary-priority command), and the second role is secondary, this role further defines the behavior of the switch in case of network failure scenarios, as well as for processing STP BPDUs.</i> <i><br></i>  <i>As a back-up destination IP address, the VLT Neighbor Management interface address is used.</i>  <i>When you create a VLT domain on the switches, Dell Networking OS can assign the MAC address for the interaction itself and give the switches a unique unit ID.</i>  <i>Using the system-mac mac-address and unit-id commands minimizes the synchronization time of the VLT neighbors after one of the switches is reset.]</i> <br>  ! <br>  stack-unit 0 provision MXL-10 / 40GbE <br>  ! <br>  stack unit port 0 port 41 portmode quad <br>  ! <br>  stack-unit 0 port 45 portmode quad <br>  <i>[The built-in 40GE MXL switch ports (Fo0 / 33 and Fo0 / 37) operate by default in 40GE mode.</i>  <i>They are often used for stacking or for the VLTi link in the case of VLT technology.</i>  <i>By default, the 40GE ports on the 2-port extension module for the MXL switch operate in 8 x 10GE mode (quad mode).</i>  <i>If these ports are to be used for stacking, then they need to be converted to 40GE mode.</i> <i><br><br></i>  <i>To transfer from 4-port 10GE mode to 40GE mode, use the commands:</i> <i><br></i>  <i>switch (conf) # <b>no stack-unit</b> &lt;switch number in stack&gt; <b>port</b> &lt; <b>port</b> number 40GE (33, 37, 41, 45, 49 or 53&gt; <b>portmode quad</b> ]</i> <i><br><br></i>  <i><b>stack unit</b> &lt;switch number in stack&gt;: specify the switch number in the stack in the range of 0-5.</i>  <i>To display the switch number in the stack, use the <b>show system brief</b> command.</i> <i><br></i>  <i><b>port</b> &lt; <b>port</b> number 40G&gt;: enter the 40GE QSFP + port number.</i>  <i>The number of built-in ports 40GE switch MXL: 33 or 37;</i>  <i>port numbers for slot expansion slot 0: 41 or 45;</i>  <i>for slot expansion slot 1: 49 or 53</i> <i><br></i>  <i><b>portmode quad</b> : indicates that the 40GE port is operating in 4 x 10GE mode.]</i> <br>  ! <br>  ! <br>  ! <br>  interface TenGigabitEthernet 0/1 <br>  description internal server <br>  no ip address <br>  portmode hybrid <br>  <i>[Allows the port to switch tagged and untagged VLANs.</i>  <i>Corresponds to Cisco command ‚Äúswitchport mode trunk‚Äù]</i> <br>  switchport <br>  <i>[Defines port as Layer 2]</i> <br>  spanning-tree rstp edge-port <br>  <i>[Allows the port to skip the STP Listening and Learning phases and immediately go into STP Forwarding mode.</i>  <i>Used on ports to which servers are connected.</i>  <i>Corresponds to the Cisco ‚Äúportfast‚Äù command in Cisco IOS]</i> <br>  no shutdown <br>  ! <br>  ! <br>  ! <br>  interface fortyGigE 0/33 <br>  description port-channel_member_10 <br>  no ip address <br>  no shutdown <br>  ! <br>  interface fortyGigE 0/37 <br>  description port-channel_member_10 <br>  no ip address <br>  no shutdown <br>  ! <br>  ! <br>  ! <br>  interface fortyGigE 0/49 <br>  description member port-channel 1 <br>  no ip address <br>  port-channel-protocol LACP <br>  port-channel 1 mode active <br>  <i>[Adds the Fo0 / 49 port to the port-channel 1 aggregation group and enables the LACP protocol for it to negotiate LAG aggregation settings between switches.]</i> <br>  no shutdown <br>  ! <br>  interface fortyGigE 0/53 <br>  description member port-channel 1 <br>  no ip address <br>  port-channel-protocol LACP <br>  port-channel 1 mode active <br>  no shutdown <br>  <i>[Adds port Fo0 / 53 to the port-channel 1 aggregation group and enables LACP on it.</i> <i><br></i>  <i>The same settings for a group of ports can be made using the range command:</i> <i><br></i>  <i>switch (conf) #interface range fo0 / 49-53]</i> <br>  ! <br>  ! <br>  interface ManagementEthernet 0/0 <br>  ip address 192.168.2.2/24 <br>  no shutdown <br>  <i>[This is the port for the dedicated switch management network that is connected to the internal management switch of the M1000e blade chassis.</i>  <i>The iDRAC interfaces of the blade servers for management are connected to the same L2 switch.</i>  <i>The chassis management controller (CMC) blade chassis module has an external RJ-45 port for connecting to a dedicated management network.]</i> <br>  ! <br>  ! <br>  ! <br>  interface Port-channel 1 <br>  description Port-Channel to S6000 switches <br>  no ip address <br>  switchport <br>  vlt-peer-lag port-channel 1 <br>  <i>[Configures port channel 1 as an L2 port, and also as a VLT port-channel.</i>  <i>The VLT port-channel consists of physical ports that are distributed between two switches in the VLT domain, with all the ports active and balancing traffic across all ports in the port-channel without blocking STP ports.]</i> <br>  no shutdown <br>  ! <br>  ! <br>  ! <br>  interface Port-channel 10 <br>  description VLTi link to 450-MXL-A2 <br>  no ip address <br>  channel-member fortyGigE 0 / 33,37 <br>  <i>[This example shows the static port channel configuration without using the LACP protocol.</i>  <i>VLTi port-channel must be configured just static.]</i> <br>  no shutdown <br>  ! <br>  ! <br>  interface vlan 1 <br>  no ip address <br>  tagged TenGigabitEthernet 0 / 1-32 <br>  tagged port-channel 1 <br>  <i>[Defines VLAN 1 tagged on Te0 / 1-32 ports (these are ports to blade servers) and port-channel 1. We do not recommend using VLAN 1 for any productive traffic, since</i>  <i>it is used by control layer protocols, such as STP.]</i> <br>  no shutdown <br>  ! <br>  ! <br>  interface vlan 2 <br>  description WAN_VLAN <br>  no ip address <br>  tagged TenGigabitEthernet 0 / 1-32 <br>  tagged port-channel 1 <br>  <i>[Defines VLAN 2 tagged on Te0 / 1-32 and port-channel 1 ports.]</i> <br>  no shutdown <br>  ! <br>  ! <br>  interface vlan 11 <br>  description vlan 11 <br>  untagged TenGigabitEthernet 0 / 1-32 <br>  untagged Port-channel 10 <br>  <i>[Defines VLAN 11 untagged on ports Te0 / 1-32 and port-channel 10. Untagged traffic coming to the switch will fall into VLAN 11.]</i> <br>  ! <br>  ! <br>  <i>[One of the differences between setting up switches running Dell Networking OS 9.x and Cisco switches is the configuration of VLANs on switch ports.</i> <i><br><br></i>  <i>The configuration of VLAN 1, 2 and 11, above, defines the Te0 / 1-32 ports and port-channel 1 trunks.</i>  <i>VLAN 1 and 2 are tagged, and VLAN 11 is configured as a native / untagged VLAN.</i>  <i>On Cisco switches, the equivalent command configuration runs on physical ports or port-channel and looks like this:</i> <i><br><br></i>  <i>interface Te0 / 1 (or Po1)</i> <i><br></i>  <i><b>switchport mode trunk</b></i> <i><b><br></b></i>  <i><b>switchport trunk allowed VLAN 1,2,11</b></i> <i><b><br></b></i>  <i><b>switchport trunk native VLAN 11</b></i> <i><br><br></i>  <i>If, for example, you need to configure the Te0 / 20 port as an access port in VLAN 100, on the Dell switch you can do this with the commands:</i> <i><br><br></i>  <i>interface VLAN 100</i> <i><br></i>  <i>description HR_Department_LAN</i> <i><br></i>  <i>untagged TenGigabitEthernet 0/20</i> <i><br><br></i>  <i>On a Cisco switch, this is configured with the commands:</i> <i><br><br></i>  <i>interface TenGigabitEthernet 0/20</i> <i><br></i>  <i><b>switchport mode access</b></i> <i><b><br></b></i>  <i><b>switchport mode access VLAN 100</b></i> <i><br><br></i>  <i>]</i> <br>  ! <br>  ! <br>  ! <br>  management route 0.0.0.0/0 192.168.2.1 <br>  <i>[The default route for the management network with the next-hop IP address.]</i> <br>  ! <br>  ip domain-name dell.local <br>  ip domain-lookup <br>  <i>[Setting the default domain name and enabling dynamic resolution for domain names.]</i> <br>  ip name-server ABCD <br>  ip name-server EFGH <br>  <i>[Specifies the IP addresses of the DNS servers to which requests will be sent to resolve the domain names of the hosts.]</i> <br>  ! <br>  ! <br>  ! <br>  ! <br>  banner login ^ C <br><br>  ################################################## ######## <br>  # # <br>  # WARNING # <br>  # # <br>  # This is a private device <br>  # authorized personal.  Use of this resource can # <br>  # monitored and unauthorized use is strictly prohibited.  # <br>  # # <br>  ################################################## ######## <br><br>  ^ C <br>  ! <br>  ntp server ABCD <br>  ntp server EFGH <br>  <i>[Server Addresses for Time Synchronization Using Network Time Protocol]</i> <br>  ! <br>  clock timezone GMT 3 <br>  <i>[Defines time zone GMT +3.]</i> <br>  ip ssh server version 2 <br>  <i>[Includes SSH server for remote management of the switch.]</i> <br>  ! <br>  no dcb enable <br>  <i>[Disables Data Center Bridging functionality, which is used in scripts for converged FCoE and iSCSI networks.]</i> <br>  ! <br>  ! <br>  ! <br>  protocol lldp <br>  <i>[Enables Link Layer Discovery Protocol.</i>  <i>Switches running Dell Networking OS 9.x support LLDP instead of Cisco CDP.]</i> <br>  ! <br>  ! <br>  line console 0 <br>  line vty 0 <br>  line vty 1 <br>  line vty 2 <br>  line vty 3 <br>  line vty 4 <br>  line vty 5 <br>  line vty 6 <br>  line vty 7 <br>  line vty 8 <br>  line vty 9 <br>  ! <br>  reload-type <br>  boot-type normal-reload <br>  <i>[The switch is configured in the normal boot mode.</i>  <i>There is also an alternative boot mode called BMP, which allows the switch to automatically download the configuration file and OS from a remote server and simplifies the installation of a large number of switches.</i>  <i>By default, the new switch operates in BMP boot mode.</i>  <i>To switch to normal boot mode, you need to run the following commands on the switch command line:</i> <i><br><br></i>  <i>FTOS # stop bmp</i> <i><br></i>  <i>FTOS # reload-type normal-reload</i> <i><br><br></i>  <i>]</i> <br>  ! <br>  end </div></div></div><p>Source: <a href="https://habr.com/ru/post/146096/">https://habr.com/ru/post/146096/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../146090/index.html">There was a translation of the standard EcmaScript 5</a></li>
<li><a href="../146091/index.html">You can control the quality of services automatically: KwikPik Experience</a></li>
<li><a href="../146092/index.html">Group stream state</a></li>
<li><a href="../146093/index.html">IBM Sequoia supercomputer has become the fastest in the world, having overtaken Fujitsu K by a factor of 1.5</a></li>
<li><a href="../146094/index.html">Stay alive. SCADA Security</a></li>
<li><a href="../146098/index.html">Cisco Call Manager and Skype connect</a></li>
<li><a href="../146101/index.html">Create Splash Screen on Delphi</a></li>
<li><a href="../146102/index.html">Microsoft Cloudball Challenge - football AI competition</a></li>
<li><a href="../146103/index.html">Mysterious UMTS-900</a></li>
<li><a href="../146105/index.html">Codecademy launched the Russian version</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>