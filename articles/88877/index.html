<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Mozart CMF: XML-based API</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="So, in my first article I made several assumptions about the architecture of the subject area in CMF / CMS systems . Then I made an assumption about t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Mozart CMF: XML-based API</h1><div class="post__text post__text-html js-mediator-article">  So, in my first article I made several assumptions about the <a href="http://habrahabr.ru/blogs/webdev/71279/">architecture of the subject area in CMF / CMS systems</a> .  Then I made an assumption about the object model, I associated with her service, which was able to handle incoming requests and produce the desired result based on the internal structure of the model. <br><br>  Today, now, I would like to touch upon the issue of directly using such a system in the existing <a href="http://www.mozartframework.ru/">Mozart</a> framework, recently introduced by <a href="http://www.adv.ru/">ADV</a> under the GPLv3 license. <br><br>  The Mozart API is based on newt-containers.  Newt is an XML container (in an XML fragment) that is specially processed by an XML parser.  Newt can be either a single tag (closed &lt;newt /&gt; tag) or a container (contains other containers (newt's, instructions)).  The analogue of newt is a function whose task is to perform some actions (and return the result, if required). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br>  The XML parser generates events as XML data is processed, and program handlers are hung on these events.  2 events are important for us: <i>onStartTag</i> and <i>onEndTag</i> .  All newts are processed on <i>onEndTag</i> .  This gives us what all nested newt's (nested instructions) first recursively work through, and then their parents.  Those.  each nested newt generates some content for its parent newt, and the parent newt can use this XML fragment for its intended purpose (simply as content or as its instructions (since its body is already completely defined and completed by the time it is processed)). <br><br>  In addition to other nested newt containers, a newt container may contain instruction containers (a specially designed XML description that tells newt what to do).  Instructions are framed in a special tag (for example, <i>request</i> or <i>request-data</i> ) to distinguish them from a simple XML fragment, and can be arbitrary according to the functionality inherent in the program: saving to the database, reading from the database, setting parameters, etc.  For each container, a context is also defined that can be controlled.  The current instruction in the current context (which it has received) is executed.  Sets the context for the downstream instructions. <br><br>  Now apply this knowledge on a specific example.  As such, we take samples from the database, as the most basic and frequent component of any project.  The container <i>&lt;newt: base&gt;</i> is responsible for this function in the system. <br><br>  The peculiarity of working with data in Mozart can be considered that it is necessary to operate with them in the system as with objects.  Imagine all the tables in the Database, their relationships as a set of terminological field objects interconnected.  These objects can be given "human" names and build a graph, as in the figure below. <br><br><div style="text-align:center;"><img src="http://img36.imageshack.us/img36/3117/23086456.png"></div><br><br>  The life situation of creating a system for a mobile operator can be depicted as a set of real-life objects interconnected.  The graph describes the situation with cellular communication: operator - region - tariff - sim card (number) - contract - telephone - brand - person - where it is registered. <br><br>  Based on this structure, we can build arbitrary queries to retrieve data.  Take for example a few situations in which different conditions are used: <br><ul><li>  what brand are people who are between the ages of 20 and 30; </li><li>  list of people using the services of a particular operator; </li><li>  a list of people whose last name contains a given sequence of characters. </li></ul><br><br>  What brand are used by people whose age is from 20 to 30 years: <br><br><blockquote><code><a href="http://s-c.me/6230/s"></a> <a href="http://s-c.me/6230/h"></a> <font color="black">Copy Source | Copy HTML&lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">newt:base</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">request</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">set</font> <font color="#ff0000">object</font> <font color="#0000ff">="user"</font> <font color="#ff0000">attr</font> <font color="#0000ff">="age"</font> <font color="#ff0000">min</font> <font color="#0000ff">="20"</font> <font color="#ff0000">max</font> <font color="#0000ff">="30"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">get</font> <font color="#ff0000">object</font> <font color="#0000ff">="brand" /&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">set</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">request</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">newt:base</font> <font color="#0000ff">&gt;</font> &lt;br/&gt;</font></code> </blockquote> <br><br>  To limit the age of a person, we used the operators <i>min</i> and <i>max</i> .  By exposing them to the user object, we inserted a sample of the brand object inside.  Nesting links a condition and a sample; Mozart builds the connection between the two objects through the Phone object connecting them (see how they are linked in the graph above). <br><br>  List of people using the services of a specific operator: <br><br><blockquote> <code><a href="http://s-c.me/6231/s"></a> <a href="http://s-c.me/6231/h"></a> <font color="black">Copy Source | Copy HTML&lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">newt:base</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">request</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">set</font> <font color="#ff0000">object</font> <font color="#0000ff">="operator"</font> <font color="#ff0000">attr</font> <font color="#0000ff">="name"</font> <font color="#ff0000">value</font> <font color="#0000ff">="Example"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">get</font> <font color="#ff0000">object</font> <font color="#0000ff">="user" /&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">set</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">request</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">newt:base</font> <font color="#0000ff">&gt;</font> &lt;br/&gt;</font></code> </blockquote> <br><br>  Here we used the equality operator to set the name parameter of the operator object to a specific value.  The user object will be selected taking into account the conditions of the operator.  If you look at the graph, you can see that Operator and Man are connected by two different routes.  Mozart selects the shortest one when building links.  Read more about this in the article " <a href="http://habrahabr.ru/blogs/webdev/71279/">Domain Architecture in CMF / CMS Systems</a> ". <br><br>  A list of people whose last name contains a given sequence of characters: <br><br><blockquote> <code><a href="http://s-c.me/6232/s"></a> <a href="http://s-c.me/6232/h"></a> <font color="black">Copy Source | Copy HTML&lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">newt:base</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">request</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">set</font> <font color="#ff0000">object</font> <font color="#0000ff">="user"</font> <font color="#ff0000">attr</font> <font color="#0000ff">="first_name"</font> <font color="#ff0000">context-attr</font> <font color="#0000ff">=""&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">get</font> <font color="#ff0000">object</font> <font color="#0000ff">="user" /&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">set</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">request</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">newt:base</font> <font color="#0000ff">&gt;</font> &lt;br/&gt;</font></code> </blockquote> <br><br>  <i>The context-attr</i> used by us in this example indicates a substring that should be contained in the first_name parameter of the Person object.  This is a kind of contextual search. <br><br>  Above, we mentioned how Mozart is trying to build a connection between non-adjacent objects.  Delve into this moment a little more.  For example, in the second example, when we chose Person by Operator, we assumed that Mozart could build a connection along two routes (through Registration or through Region, as can be seen in the graph).  If, for example, we need to change the Mozart algorithm and point out that the short route does not suit us in a particular situation, we can use the <i>path-exclude</i> operator for the <i>get</i> instruction, specifying a list of objects that we don‚Äôt want to include in the linking ones (by analogy there is a <i>path-include</i> statement).  Below we exclude the Phone object: <br><br><blockquote> <code><a href="http://s-c.me/6233/s"></a> <a href="http://s-c.me/6233/h"></a> <font color="black">Copy Source | Copy HTML&lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">newt:base</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">request</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">set</font> <font color="#ff0000">object</font> <font color="#0000ff">="operator"</font> <font color="#ff0000">attr</font> <font color="#0000ff">="name"</font> <font color="#ff0000">value</font> <font color="#0000ff">="Example"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">get</font> <font color="#ff0000">object</font> <font color="#0000ff">="user"</font> <font color="#ff0000">path-exclude</font> <font color="#0000ff">="phone"/&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">set</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">request</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">newt:base</font> <font color="#0000ff">&gt;</font> &lt;br/&gt;</font></code> </blockquote> <br><br>  Perhaps someone may have a question about the efficiency of such a system that tries to build connections along several routes at once, wasting CPU time and memory, and thus slowing down the application.  In this sense, everything is solved very simply: when designing a diagram of objects, we should avoid looping.  In our case, it is likely that the Registration object should be marked in the base configuration as non-transit, i.e.  such an object that is always finite when building relationships. <br><br>  Let's talk now about the nesting of some <i>get</i> and <i>set</i> instructions in others.  Consider 2 examples: <br><br><blockquote> <code><a href="http://s-c.me/6234/s"></a> <a href="http://s-c.me/6234/h"></a> <font color="black">Copy Source | Copy HTML&lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">newt:base</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">request</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">get</font> <font color="#ff0000">object</font> <font color="#0000ff">="user" &gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">get</font> <font color="#ff0000">object</font> <font color="#0000ff">="phone"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">get</font> <font color="#ff0000">object</font> <font color="#0000ff">="brand"/&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">get</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">get</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">request</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">newt:base</font> <font color="#0000ff">&gt;</font> &lt;br/&gt;</font></code> </blockquote> <br><br>  and <br><br><blockquote> <code><a href="http://s-c.me/6235/s"></a> <a href="http://s-c.me/6235/h"></a> <font color="black">Copy Source | Copy HTML&lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">newt:base</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">request</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">get</font> <font color="#ff0000">object</font> <font color="#0000ff">="brand" &gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">get</font> <font color="#ff0000">object</font> <font color="#0000ff">="phone"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">get</font> <font color="#ff0000">object</font> <font color="#0000ff">="user"/&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">get</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">get</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">request</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">newt:base</font> <font color="#0000ff">&gt;</font> &lt;br/&gt;</font></code> </blockquote> <br><br>  Both examples operate on 3 objects: brand, phone and user, which are connected. <br><br>  The first example will bring us all users, for each of them a list of phone models that this person uses will be displayed.  For each phone, the phone brand will be displayed.  Get the structure: <br><br><blockquote> <code><a href="http://s-c.me/6236/s"></a> <a href="http://s-c.me/6236/h"></a> <font color="black">Copy Source | Copy HTML&lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">user</font> <font color="#ff0000">name</font> <font color="#0000ff">="1"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">phone</font> <font color="#ff0000">name</font> <font color="#0000ff">="example123"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">brand</font> <font color="#ff0000">name</font> <font color="#0000ff">="Super Brand" /&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">phone</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">phone</font> <font color="#ff0000">name</font> <font color="#0000ff">="345example"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">brand</font> <font color="#ff0000">name</font> <font color="#0000ff">="Super Brand" /&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">phone</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">phone</font> <font color="#ff0000">name</font> <font color="#0000ff">="678example678"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">brand</font> <font color="#ff0000">name</font> <font color="#0000ff">="Brand N 1" /&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">phone</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">user</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">user</font> <font color="#ff0000">name</font> <font color="#0000ff">="2"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">phone</font> <font color="#ff0000">name</font> <font color="#0000ff">="example123"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">brand</font> <font color="#ff0000">name</font> <font color="#0000ff">="Super Brand" /&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">phone</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">user</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">user</font> <font color="#ff0000">name</font> <font color="#0000ff">="3"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">phone</font> <font color="#ff0000">name</font> <font color="#0000ff">="345example"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">brand</font> <font color="#ff0000">name</font> <font color="#0000ff">="Super Brand" /&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">phone</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">user</font> <font color="#0000ff">&gt;</font> &lt;br/&gt;</font></code> </blockquote> <br><br>  The second example will show us a list of all brands, each will display a list of all the phones of this brand.  And already inside each phone we will receive a list of people who use this phone model. <br><br><blockquote> <code><a href="http://s-c.me/6237/s"></a> <a href="http://s-c.me/6237/h"></a> <font color="black">Copy Source | Copy HTML&lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">brand</font> <font color="#ff0000">name</font> <font color="#0000ff">="Super Brand"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">phone</font> <font color="#ff0000">name</font> <font color="#0000ff">="example123"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">user</font> <font color="#ff0000">name</font> <font color="#0000ff">="1"/&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">user</font> <font color="#ff0000">name</font> <font color="#0000ff">="2"/&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">phone</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">phone</font> <font color="#ff0000">name</font> <font color="#0000ff">="345example"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">user</font> <font color="#ff0000">name</font> <font color="#0000ff">="1"/&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">user</font> <font color="#ff0000">name</font> <font color="#0000ff">="3"/&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">phone</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">brand</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">brand</font> <font color="#ff0000">name</font> <font color="#0000ff">="Brand N 1"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">phone</font> <font color="#ff0000">name</font> <font color="#0000ff">="678example67"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">user</font> <font color="#ff0000">name</font> <font color="#0000ff">="1"/&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">phone</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">brand</font> <font color="#0000ff">&gt;</font> &lt;br/&gt;</font></code> </blockquote> <br><br>  If, for example, you want for some reason in the first example for a phone to display not its brand, but generally the entire list of brands, for this you can use the <i>unset</i> instruction. <br><br><blockquote> <code><a href="http://s-c.me/6238/s"></a> <a href="http://s-c.me/6238/h"></a> <font color="black">Copy Source | Copy HTML&lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">newt:base</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">request</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">get</font> <font color="#ff0000">object</font> <font color="#0000ff">="user" &gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">get</font> <font color="#ff0000">object</font> <font color="#0000ff">="phone"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">unset</font> <font color="#ff0000">object</font> <font color="#0000ff">="brand"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">get</font> <font color="#ff0000">object</font> <font color="#0000ff">="brand"/&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">unset</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">get</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">get</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">request</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">newt:base</font> <font color="#0000ff">&gt;</font> &lt;br/&gt;</font></code> </blockquote> <br><br>  Those.  we removed the conditions placed on it from the brand object, thus it is simply a sample of all data from the object. <br><br>  If we want to display a list of all users, all models and brands of phones, then simply get rid of nesting and write the <i>get</i> instructions sequentially: <br><br><blockquote> <code><a href="http://s-c.me/6239/s"></a> <a href="http://s-c.me/6239/h"></a> <font color="black">Copy Source | Copy HTML&lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">newt:base</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">request</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">get</font> <font color="#ff0000">object</font> <font color="#0000ff">="brand" /&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">get</font> <font color="#ff0000">object</font> <font color="#0000ff">="phone" /&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">get</font> <font color="#ff0000">object</font> <font color="#0000ff">="user" /&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">request</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">newt:base</font> <font color="#0000ff">&gt;</font> &lt;br/&gt;</font></code> </blockquote> <br><br>  Above, we talked about object fetching and <i>get</i> instructions.  And what happens in a situation when it is necessary not to select several objects consecutively, but to select only one object, while setting restrictions on several others?  Let's return to our second example (where Brand was chosen, his Phone and the Person using it).  Redo it in this: <br><br><blockquote> <code><a href="http://s-c.me/6240/s"></a> <a href="http://s-c.me/6240/h"></a> <font color="black">Copy Source | Copy HTML&lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">newt:base</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">request</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">set</font> <font color="#ff0000">object</font> <font color="#0000ff">="brand"</font> <font color="#ff0000">attr</font> <font color="#0000ff">="name"</font> <font color="#ff0000">value</font> <font color="#0000ff">="Brand N 1"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">set</font> <font color="#ff0000">object</font> <font color="#0000ff">="phone"</font> <font color="#ff0000">attr</font> <font color="#0000ff">="name"</font> <font color="#ff0000">value</font> <font color="#0000ff">="678example67"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">get</font> <font color="#ff0000">object</font> <font color="#0000ff">="user"/&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">set</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">set</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">request</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">newt:base</font> <font color="#0000ff">&gt;</font> &lt;br/&gt;</font></code> </blockquote> <br><br>  We replaced the <i>get</i> Brand and Phone objects with a <i>set</i> , i.e.  to set limits on them.  The nesting structure remains the same.  Thus, we have indicated to accumulate restrictions for the most recent <i>get</i> , which selects the Man object, taking into account the above set instructions in which it is nested. <br><br>  As a result, we get a list of users who use these phones: <br><br><blockquote> <code><a href="http://s-c.me/6241/s"></a> <a href="http://s-c.me/6241/h"></a> <font color="black">Copy Source | Copy HTML&lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">user</font> <font color="#ff0000">name</font> <font color="#0000ff">="1"/&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">user</font> <font color="#ff0000">name</font> <font color="#0000ff">="10"/&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">user</font> <font color="#ff0000">name</font> <font color="#0000ff">="11"/&gt;</font> &lt;br/&gt;</font></code> </blockquote> <br><br><h4>  findings </h4><br><br>  As we have seen, the Mozart API has an obvious structure and simplicity, which allows you to operate with a sample of data and their classification to inexperienced developers.  The result of the data is a structured XML format, the structure of which is completely dependent on your requests.  You can add some redundancy to it, maybe not.  You have the opportunity to receive such XML trees, which will be convenient not only for further processing in XSLT, but also for the usual visual perception, because it is the simplicity of project development that is fundamental in choosing a development system. <br><br>  The terminological field of objects helps to understand the structure of the project, the relationship between its data.  If you get rid of technical terms, SQL queries and other low-level subtleties, you get an environment that is very similar to the outside world, you operate in it as in the real world. <br><br>  For the seed on the next article I can give other elements of the API.  For example, <i>&lt;newt: form&gt;</i> is responsible for processing forms: output, receive and process data.  &lt;n <i>ewt: transform&gt;</i> - converts one data structure into another, with its help you can create instructions for higher-value newts, as well as convert one xml into another.  <i>&lt;newt: action&gt; is</i> designed to execute controllers defined in the web application.  In fact, this is one of the ways to invoke scripts written by a developer in any scripting language.  <i>&lt;newt: http-env&gt;</i> is a handy tool for working with environment variables, be it a cookie, a session, or a user dataset called query. <br><br>  Mozart website: <a href="http://www.mozartframework.ru/">mozartframework.ru</a> </div><p>Source: <a href="https://habr.com/ru/post/88877/">https://habr.com/ru/post/88877/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../88865/index.html">WineGame - a program for preparing Wine and installing applications into it</a></li>
<li><a href="../88867/index.html">Facebook accused of promoting the spread of syphilis</a></li>
<li><a href="../88873/index.html">Future of Photoshop: Content-aware fill</a></li>
<li><a href="../88875/index.html">Experimental 3D</a></li>
<li><a href="../88876/index.html">My recipe for working with CSS styles in Qt</a></li>
<li><a href="../88879/index.html">Acceleration of UITableView on iPhone</a></li>
<li><a href="../88884/index.html">Completed DNA analysis of Altai hominid</a></li>
<li><a href="../88885/index.html">Iji</a></li>
<li><a href="../88886/index.html">How we drew pictograms for contextual runner ads</a></li>
<li><a href="../88888/index.html">Introduction to Project Management from Turkey</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>