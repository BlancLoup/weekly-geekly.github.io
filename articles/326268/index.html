<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Getting Started Python + Qt5 + QML Lesson # 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello. Today we will get acquainted with QML. We learn what it is and what it eats. Create a small application using this technology. 

 A small digre...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Getting Started Python + Qt5 + QML Lesson # 1</h1><div class="post__text post__text-html js-mediator-article"><p>  Hello.  Today we will get acquainted with QML.  We learn what it is and what it eats.  Create a small application using this technology. </p><br><a name="habracut"></a><br><h3>  A small digression: </h3><br><p>  QML (Qt Meta Language) is a declarative JavaScript-based programming language for creating application design.  It is part of the Qt Quick UI development environment that comes with Qt. </p><br><p>  Examples of declarative languages ‚Äã‚Äãinclude SQL and HTML.  Read more about QML here: <a href="https://wiki.qt.io/IntroductionQtQuick/ru">documentation</a> . </p><br><p>  Let's start with the simplest: creating a window.  Create two files base.qml and test.py with the following content: </p><br><p>  base.qml </p><br><pre><code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> QtQuick 2.0 Rectangle { <span class="hljs-comment"><span class="hljs-comment">//    id:green_rectangle width: 250; height: 250 //   color:"green" //  border-radius radius: 7 }</span></span></code> </pre> <br><p>  test.py </p><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys #  QUrl       Urls <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> PyQt5.QtCore <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> QUrl <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> PyQt5.QtWidgets <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> QApplication, QWidget #  QQuickView    QML . <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> PyQt5.QtQuick <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> QQuickView <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">'__main__'</span></span>: app = QApplication(sys.argv) #  QQuickView,    UI   <span class="hljs-keyword"><span class="hljs-keyword">view</span></span> = QQuickView() <span class="hljs-keyword"><span class="hljs-keyword">view</span></span>.setSource(QUrl(<span class="hljs-string"><span class="hljs-string">'base.qml'</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">view</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">show</span></span>() app.exec_() sys.<span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>()</code> </pre> <br><p>  The code of the test.py file should be completely clear to you, but if it still causes you difficulties, I recommend to take a course on PyQt5 here: <a href="https://pythonworld.ru/gui/pyqt5-firstprograms.html">https://pythonworld.ru/gui/pyqt5-firstprograms.html</a> </p><br><p>  Actually, this is the simplest example of working with qml, at the output we get a window with a size of 250X250 and filled with green: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/files/bac/b38/316/bacb3831672941b691848beba962d2e8.png"></div><br><p>  In QML, the main visible element is the Rectangle element.  The Rectangle element has properties for controlling the appearance and location of the element, which we can set for it, for example: </p><br><pre> <code class="hljs 1c">id: (  ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   ) x: y: (    px) width: height: (  ) color: (<span class="hljs-type"><span class="hljs-type"></span></span> ) border.color: (<span class="hljs-type"><span class="hljs-type"></span></span> ) border.width: ( ) radius: ( border-radius)</code> </pre> <br><p>  Other properties will be discussed later. </p><br><p>  Let's slightly complicate the task: create a window in which there will be a rectangle with the inscription: "Hello World": </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">Rectangle</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">id</span></span>:rec_main width: <span class="hljs-number"><span class="hljs-number">300</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">300</span></span> color:<span class="hljs-string"><span class="hljs-string">"#fff"</span></span> radius: <span class="hljs-number"><span class="hljs-number">7</span></span> Rectangle { id:rec_green width: <span class="hljs-number"><span class="hljs-number">150</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">150</span></span> color:<span class="hljs-string"><span class="hljs-string">"green"</span></span> radius: <span class="hljs-number"><span class="hljs-number">7</span></span> border.color: <span class="hljs-string"><span class="hljs-string">"#0000FF"</span></span> border.width: <span class="hljs-number"><span class="hljs-number">5</span></span> anchors.verticalCenter: parent.verticalCenter anchors.horizontalCenter: parent.horizontalCenter Text { id: helloText text: <span class="hljs-string"><span class="hljs-string">"Hello world!"</span></span> anchors.verticalCenter: parent.verticalCenter anchors.horizontalCenter: parent.horizontalCenter font.pointSize: <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">font.bold</span></span>: true } } }</code> </pre> <br><p>  Now we get the following result: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/files/7b8/235/5bf/7b82355bf97647279d5b734cabbaa0c9.png"></div><br><p>  Here we center our object vertically and horizontally relative to the parent anchors.verticalCenter: parent.verticalCenter, anchors.horizontalCenter: parent.horizontalCenter.  Parent allows you to call the parent, in our case the parent of the Text object is a Rectangle with id: rec_green. </p><br><p>  In general, now you need to understand that the QML interface is built on a hierarchy of objects.  In our case, it looks like this: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/files/941/5b1/208/9415b12086cd4506849fae7079163d85.png"></div><br><p>  Made a rectangle with the inscription.  Hmm ... As long as it doesn‚Äôt look like a useful interface, let's add a button by clicking on which the inscription will be displayed in the console: "Hey Programmer". <br>  Let's change the code a bit, now it will look like this: </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">import</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">QtQuick</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Rectangle</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">id</span></span>:rec_white width: <span class="hljs-number"><span class="hljs-number">300</span></span> height: <span class="hljs-number"><span class="hljs-number">300</span></span> Rectangle { id:btn_green width: <span class="hljs-number"><span class="hljs-number">80</span></span> height: <span class="hljs-number"><span class="hljs-number">40</span></span> color:<span class="hljs-string"><span class="hljs-string">"green"</span></span> radius: <span class="hljs-number"><span class="hljs-number">7</span></span> border.color: <span class="hljs-string"><span class="hljs-string">"#0000FF"</span></span> border.width: <span class="hljs-number"><span class="hljs-number">1</span></span> anchors.verticalCenter: parent.verticalCenter anchors.horizontalCenter: parent.horizontalCenter Text { id: btn_green_label text: <span class="hljs-string"><span class="hljs-string">"Click me"</span></span> anchors.horizontalCenter: parent.horizontalCenter anchors.verticalCenter: parent.verticalCenter } <span class="hljs-selector-tag"><span class="hljs-selector-tag">MouseArea</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">anchors.fill</span></span>: parent onClicked: { console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(<span class="hljs-string"><span class="hljs-string">"Hey Programmer"</span></span>); } } } }</code> </pre> <br><p>  As a result, we obtain: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/files/7e1/517/cf4/7e1517cf497b4d3eb63903d9e30b398d.png"></div><br><p>  Here we add a MouseArea object that allows us to work with the mouse. <br>  anchors.fill: parent - we say that the entire area of ‚Äã‚Äãthe parent will be involved. <br>  onClicked - button click event.  In our case, the function that calls up to the console is called: 'Hey Programmer'. </p><br><p>  On this, perhaps, today and finish.  In the following articles we will analyze qml in more detail. </p><br><p>  While you may not see the benefits of using qml, but when we get to know this wonderful tool in more detail, you will understand how comfortable and functional it is. </p><br><p>  Thanks for attention.  If you have any questions, ask them in the comments.  I hope the article was useful to you. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/326268/">https://habr.com/ru/post/326268/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../326256/index.html">Machine War: PVS-Studio vs TensorFlow</a></li>
<li><a href="../326258/index.html">Internal mechanisms of TCP, affecting the download speed: part 1</a></li>
<li><a href="../326260/index.html">The effect of Apollo is dedicated</a></li>
<li><a href="../326262/index.html">GameDev from scratch: Unity3D and vector graphics</a></li>
<li><a href="../326264/index.html">How not to get lost in the abbreviations SCCM [Cheat Sheet]</a></li>
<li><a href="../326270/index.html">Japan: how to succeed in the largest mobile gaming market in Asia</a></li>
<li><a href="../326272/index.html">OWASP Top 10 2017 RC</a></li>
<li><a href="../326274/index.html">The flagship line of Cisco Wi-Fi appeared in Russia</a></li>
<li><a href="../326276/index.html">Unlocking the WebAssembly with Brendan Ike</a></li>
<li><a href="../326278/index.html">Easy Queries with Django ORM Annotate and Query Expressions</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>