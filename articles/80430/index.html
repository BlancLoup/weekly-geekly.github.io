<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Regular expressions. Collection of recipes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Every day we work with the text, solving different problems. We check the text for the correctness of the input of some data, look for, replace some v...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Regular expressions. Collection of recipes</h1><div class="post__text post__text-html js-mediator-article">  Every day we work with the text, solving different problems.  We check the text for the correctness of the input of some data, look for, replace some values, select some data from the text.  Sometimes the volume of this data increases significantly and it is impossible to cope with such volumes of textual information for the current period of time. <br><br>  We will come to the aid of regular expressions.  Many specialists have been using this tool for a long time very successfully.  I am talking not only about software developers, but also about people from other professions who have to work with text (editors, marketers, copywriters). <br><br>  Today I would like to introduce you to the book by Jan Goyvertts and Stephen Levitan ‚ÄúRegular expressions.  Collection of recipes, which will help you understand how to work with regular expressions. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>  Let's figure out what kind of a useful tool these regular expressions are. <br><br><blockquote>  Regular expressions (English regular expressions, abbr. RegExp, RegEx, jarg. Regekspy or regex) - a system of syntactic analysis of text fragments on a formalized pattern, based on the system of writing patterns for search.  The pattern (English pattern), which sets the search rule, is also sometimes called in Russian ‚Äúpattern‚Äù, ‚Äúmask‚Äù. <br><br>  <em>Wikipedia</em> <br></blockquote><br>  It is a little difficult to understand from the description what it is, but I will try to explain with a simple language.  We have text that needs to be processed and there is a requirement for how we need to process it.  On demand we build some template.  We transfer our template and the text to the program which will make analysis.  So much easier? <br><br><h3>  About the book </h3><br>  The book shows solutions based on the use of regular expressions, applied to a wide range of practical problems associated with text processing, arising in various applications. <br><br>  The book is divided into two large logical parts.  The first part is devoted to the theory of regular expressions, syntax and description of different dialects. <br>  Chapter 1. Introduction to regular expressions; <br>  Chapter 2. Basic Regular Expression Skills; <br>  Chapter 3. Programming using regular expressions. <br><br>  The second part is dedicated to solving various problems that may arise. <br>  Chapter 4. Verification and Formatting; <br>  Chapter 5. Words, strings and special characters; <br>  Chapter 6. Numbers; <br>  Chapter 7. URLs, paths and addresses on the Internet; <br>  Chapter 8. Layout and data exchange. <br><br>  The book is read very easily and will be understood even by people who have never had programming skills.  All examples are built according to the principle - the task is set, it is solved and then it is analyzed in more detail. <br><br><h3>  About the authors </h3><br>  Ian Goyvertz is the founder of Just Great Software, where he designs and develops some of the most popular regular expression software products.  He is the author of RegexBuddy, the world's only regular expression editor that mimics the features of 15 dialects, and PowerGREP, the most powerful grep tool for Microsoft Windows. <br><br>  Stephen Levitan is a leading regular expressions expert in JavaScript.  He runs a popular regular expression blog at <a href="http://blog.stevenlevithan.com/">http://blog.stevenlevithan.com</a> .  Expanding knowledge about dialects of regular expressions and support libraries has been one of his hobbies over the past few years. <br><br><h3>  Example </h3><br>  I would like to focus on one example in the book.  It examines the validation of the input ISBN.  I chose it for some reason - it is simple, it is quite visual and, by chance, the example cited in the book written in Python has crept into the error.  I decided to rewrite this example. <br><br>  First, let's make sure the scary pattern <code>^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$</code> really works.  I will check in the Espresso text editor. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/0ef/cdd/60e/0efcdd60e8e7967d0629393f6357e5a8.png" alt="Espresso regexp"><br>  The editor found one match.  The template is correct and we can start writing a program in Python (I used version 2.6.1). <br><br><blockquote><ol><li> <code><font color="#808080"># -*- coding: utf-8 -*- <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></font></code> </li> <li> <code><font color="#808080"><font color="#808080"># -*- coding: utf-8 -*-</font> # file: isbn_check.py <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></font></code> </li> <li></li><li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li></li><li> <code><font color="#808080"><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> #      ISBN-10  ISBN-13 regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></font></code> </li> <li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li></li><li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li></li><li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li> <code><font color="#808080"><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : #  ,     ISBN cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></font></code> </li> <li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li></li><li> <code><font color="#808080"><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> #   chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></font></code> </li> <li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li></li><li> <code><font color="#808080"><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> #         <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></font></code> </li> <li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li></li><li> <code><font color="#808080"><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> #      chars   last last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></font></code> </li> <li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li></li><li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li> <code><font color="#808080"><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : #    ISBN-10 val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></font></code> </li> <li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li></li><li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li></li><li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li> <code><font color="#808080"><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : #    ISBN-13 val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></font></code> </li> <li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li></li><li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li></li><li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li></li><li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> <li> <code><font color="#808080"># -*- coding: utf-8 -*-</font> <font color="#808080"># file: isbn_check.py</font> <font color="#ff7700">import</font> <font color="#dc143c">re</font> <font color="#ff7700">import</font> <font color="#dc143c">sys</font> <font color="#808080">#      ISBN-10  ISBN-13</font> regex = <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font>(</font> <font color="#483d8b">"^(?:ISBN(?:-1[03])?:? )?(?=[-0-9 ]{17}$|[-0-9X ]{13}$|[0-9X]{10}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?(?:[0-9]+[- ]?){2}[0-9X]$"</font> <font>)</font> subject = <font color="#dc143c">sys</font> . <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> <font color="#ff7700">if</font> regex. <font>search</font> <font>(</font> subject <font>)</font> : <font color="#808080">#  ,     ISBN</font> cbuf = <font color="#dc143c">re</font> . <font>sub</font> <font>(</font> <font color="#483d8b">"[^0-9X]"</font> , <font color="#483d8b">""</font> , subject <font>)</font> <font color="#808080">#  </font> chars = <font color="#008000">list</font> <font>(</font> <font>)</font> <font color="#808080">#        </font> <font color="#ff7700">for</font> item <font color="#ff7700">in</font> cbuf <font>[</font> : <font>]</font> : chars. <font>append</font> <font>(</font> item <font>)</font> <font color="#808080">#      chars   last</font> last = chars. <font>pop</font> <font>(</font> <font>)</font> <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> chars <font>)</font> == <font color="#ff4500">9</font> : <font color="#808080">#    ISBN-10</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x + <font color="#ff4500">2</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> <font color="#008000">reversed</font> <font>(</font> chars <font>)</font> <font>)</font> <font>)</font> check = <font color="#ff4500">11</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">11</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"X"</font> <font color="#ff7700">elif</font> check == <font color="#ff4500">11</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">else</font> : <font color="#808080">#    ISBN-13</font> val = <font color="#008000">sum</font> <font>(</font> <font>(</font> x <font color="#66cc66">%</font> <font color="#ff4500">2</font> <font color="#66cc66">*</font> <font color="#ff4500">2</font> + <font color="#ff4500">1</font> <font>)</font> <font color="#66cc66">*</font> <font color="#008000">int</font> <font>(</font> y <font>)</font> <font color="#ff7700">for</font> x, y <font color="#ff7700">in</font> <font color="#008000">enumerate</font> <font>(</font> chars <font>)</font> <font>)</font> check = <font color="#ff4500">10</font> - <font>(</font> val <font color="#66cc66">%</font> <font color="#ff4500">10</font> <font>)</font> <font color="#ff7700">if</font> check == <font color="#ff4500">10</font> : check = <font color="#483d8b">"0"</font> <font color="#ff7700">if</font> <font>(</font> <font color="#008000">str</font> <font>(</font> check <font>)</font> == last <font>)</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">"   ISBN"</font> <font color="#ff7700">else</font> : <font color="#ff7700">print</font> u <font color="#483d8b">" ISBN"</font></code> </li> </ol></blockquote><br>  Check the work of our program, which will check the correctness of the ISBN. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/fc1/a25/17c/fc1a2517c165ba3f5f78af86129632a9.png" alt="ISBN check"><br><br>  The program works correctly, and a detailed discussion of how this works and some help can be found in the book (¬ß4.13).  I just want to add that every recipe that is given in the book is sorted out in detail.  Understands the algorithm and the template itself.  As an example, let's take a look at this template in the book: <br><br><blockquote> <code>^                   #      <br> (?:                 # ,   <br> ISBN            #     ISBN <br> (?:-1[03])?     #       "-10"  "-13" <br> :?              #       ":" <br> \               #      () <br> )?                  #       <br> (?=                 #      <br> [-0-9 ]{17}$    #    17 ,    <br> |               #       .  <br> [-0-9X ]{13}$   #    13 , , "X"   <br> |               #       .  <br> [0-9X]{10}$     #    10   "X",     <br> )                   #     <br> (?:                 # ,   <br> 97[89]          #     "978"  "979" <br> [-\ ]?          #      "-"   () <br> )?                  #       <br> [0-9]{1,5}          #   1  5  <br> [-\ ]?              #    "-"   () <br> (?:                 # ,   <br> [0-9]+          #   ,   1    <br> [-\ ]?          #      "-"   () <br> ){2}                #    2  <br> [0-9X]              #    "X" <br> $                   #    </code> </blockquote> <br><br><h3>  Conclusion </h3><br><img src="http://www.books.ru/imgnew/713161_1_150.jpg" alt="cover" align="right">  Regular expressions are a very powerful tool that can simplify the solution of many problems.  This book will help to fully master regular expressions. <br><br>  ‚ÄúRegular expressions.  Collection of recipes " <br>  Ian Goyvertz and Steven Levitan <br>  Symbol-Plus Publishing House, 2010, 608 pages <br>  ISBN 978-5-93286-181-3 <br><br>  Thank you for providing the book to the publishing house " <a href="http://www.symbol.ru/">Symbol-Plus</a> ."  In the online store publisher book can be <a href="http://www.books.ru/shop/books/713161%3Fpartner%3D514730">purchased</a> . </div><p>Source: <a href="https://habr.com/ru/post/80430/">https://habr.com/ru/post/80430/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../80422/index.html">Palm Pre Plus and Palm Pixi Plus - another attempt to catch up with the iPhone</a></li>
<li><a href="../80423/index.html">Moscow.pm 2009 => 2010</a></li>
<li><a href="../80425/index.html">Does Google's Nexus One Cost $ 174.15?</a></li>
<li><a href="../80428/index.html">Sennheiser HD 238 Precision Headphones Overview</a></li>
<li><a href="../80429/index.html">What can be expected from Lua 5.2?</a></li>
<li><a href="../80431/index.html">DumPHPer - Advanced PHP var dumper or var_dump replacement</a></li>
<li><a href="../80432/index.html">Magic Tasks - we solve unplanned tasks on a par with planned ones</a></li>
<li><a href="../80434/index.html">Nuances of using the jQuery.LocalScroll plugin in conjunction with the ‚Äú: target‚Äù CSS selector</a></li>
<li><a href="../80436/index.html">Microsoft Slate - the exact opposite of Apple tablet</a></li>
<li><a href="../80437/index.html">3G Ukraine: a year and a half Peoplenet</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>