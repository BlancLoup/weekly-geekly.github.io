<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to use implicits in Scala and keep sanity</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Scala is rich in expressive means, for which experienced programmers in classical OOP languages ‚Äã‚Äãdislike it. Implicit parameters and transformations ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to use implicits in Scala and keep sanity</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/web/3f3/d3f/b5b/3f3d3fb5b0914f67bdae81aad29374f6.jpg" alt="image"></p><br><p>  Scala is rich in expressive means, for which experienced programmers in classical OOP languages ‚Äã‚Äãdislike it.  Implicit parameters and transformations are one of the most controversial features of the language.  The word "implicit" is already hinting at something unclear and confusing.  Nevertheless, if you make friends with them, implicits open up wide possibilities: from reducing the amount of code to the ability to do many checks in compile-time. </p><br><p>  I want to share my experience in working with them and talk about what so far the official documentation and developer blogs are silent about.  If you are already familiar with Scala, tried to use implicit parameters, but still have some difficulties when working with them, or at least heard about them, then this post may be of interest to you. </p><br><a name="habracut"></a><br><p>  Content: </p><br><ul><li>  Introduction </li><li>  <a href="https://habrahabr.ru/post/329600/">Implicit parameters</a> </li><li>  <a href="https://habrahabr.ru/post/329600/">Implicit conversions</a> </li><li>  <a href="https://habrahabr.ru/post/329600/">Implicit classes</a> </li><li>  <a href="https://habrahabr.ru/post/329600/">Chains of implicit parameters</a> </li><li>  <a href="https://habrahabr.ru/post/329600/">Debag implicit parameters</a> </li><li>  <a href="https://habrahabr.ru/post/329600/">Order of declaration of implicit parameters</a> </li><li>  <a href="https://habrahabr.ru/post/329600/">Conclusion</a> </li></ul><br><p>  The implicit keyword refers to three concepts in Scala: implicit parameters, implicit conversions, and implicit classes. </p><br><h1 id="neyavnye-parametry">  Implicit parameters </h1><br><p>  Implicit parameters are parameters that can be automatically transferred to the function from the context of its call.  To do this, it must be uniquely identified and labeled with the key word implicit variables of the corresponding types. </p><br><pre><code class="scala hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">printContext</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> ctx: <span class="hljs-type"><span class="hljs-type">Context</span></span>) = println(ctx.name) <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> ctx = <span class="hljs-type"><span class="hljs-type">Context</span></span>(<span class="hljs-string"><span class="hljs-string">"Hello world"</span></span>) printContext</code> </pre> <br><p>  Displays: </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">Hello</span></span> world</code> </pre> <br><p>  In the printContext method, we implicitly get a variable of type Context and print the contents of its name field.  Not scary yet. </p><br><p>  The implicit parameter resolution mechanism supports generic types. </p><br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Context</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">T</span></span></span><span class="hljs-class">](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">message: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">printContextAwared</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">T</span></span></span><span class="hljs-class">](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">x: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span></span><span class="hljs-class">)(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">implicit ctx: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Context</span></span></span></span><span class="hljs-class"><span class="hljs-params">[</span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span><span class="hljs-class"><span class="hljs-params">]</span></span></span><span class="hljs-class">) </span></span>= println(<span class="hljs-string"><span class="hljs-string">s"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${ctx.message}</span></span></span><span class="hljs-string">: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">$x</span></span></span><span class="hljs-string">"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> ctxInt = <span class="hljs-type"><span class="hljs-type">Context</span></span>[<span class="hljs-type"><span class="hljs-type">Int</span></span>](<span class="hljs-string"><span class="hljs-string">"This is Integer"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> ctxStr = <span class="hljs-type"><span class="hljs-type">Context</span></span>[<span class="hljs-type"><span class="hljs-type">String</span></span>](<span class="hljs-string"><span class="hljs-string">"This is String"</span></span>) printContextAwared(<span class="hljs-number"><span class="hljs-number">1</span></span>) printContextAwared(<span class="hljs-string"><span class="hljs-string">"string"</span></span>)</code> </pre> <br><p>  Displays: </p><br><pre> <code class="hljs vhdl">This <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Integer</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> This <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">string</span></span></code> </pre> <br><p>  This code is equivalent to as if we explicitly passed ctxInt parameters in the first case and ctxString parameters in the second to the printContextAwared method. </p><br><pre> <code class="scala hljs">printContextAwared(<span class="hljs-number"><span class="hljs-number">1</span></span>)(ctxInt) printContextAwared(<span class="hljs-string"><span class="hljs-string">"string"</span></span>)(ctxStr)</code> </pre> <br><p>  Interestingly, implicit parameters do not have to be fields, they can be methods. </p><br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dateTime</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">LocalDateTime</span></span> = <span class="hljs-type"><span class="hljs-type">LocalDateTime</span></span>.now() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">printCurrentDateTime</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> dt: <span class="hljs-type"><span class="hljs-type">LocalDateTime</span></span>) = println(dt.toString) printCurrentDateTime <span class="hljs-type"><span class="hljs-type">Thread</span></span>.sleep(<span class="hljs-number"><span class="hljs-number">1000</span></span>) printCurrentDateTime</code> </pre> <br><p>  Displays: </p><br><pre> <code class="hljs css">2017<span class="hljs-selector-tag"><span class="hljs-selector-tag">-05-27T16</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:30</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:49.332</span></span> 2017<span class="hljs-selector-tag"><span class="hljs-selector-tag">-05-27T16</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:30</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:50.476</span></span></code> </pre> <br><p>  Moreover, implicit function parameters can, in turn, take implicit parameters. </p><br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dateTime</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> zone: <span class="hljs-type"><span class="hljs-type">ZoneId</span></span>): <span class="hljs-type"><span class="hljs-type">ZonedDateTime</span></span> = <span class="hljs-type"><span class="hljs-type">ZonedDateTime</span></span>.now(zone) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">printCurrentDateTime</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> dt: <span class="hljs-type"><span class="hljs-type">ZonedDateTime</span></span>) = println(dt.toString) <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> utc = <span class="hljs-type"><span class="hljs-type">ZoneOffset</span></span>.<span class="hljs-type"><span class="hljs-type">UTC</span></span> printCurrentDateTime</code> </pre> <br><p>  Displays: </p><br><pre> <code class="hljs css">2017<span class="hljs-selector-tag"><span class="hljs-selector-tag">-05-28T07</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:07</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:27.322Z</span></span></code> </pre> <br><h1 id="neyavnye-preobrazovaniya">  Implicit conversions </h1><br><p>  Implicit conversions allow you to automatically convert values ‚Äã‚Äãof one type to another. <br>  To set an implicit conversion, you need to define a function from one explicit argument and mark it with the keyword implicit. </p><br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">i: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">B</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">i: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implicit</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">aToB</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">a: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">A</span></span></span></span></span><span class="hljs-class">)</span></span>: <span class="hljs-type"><span class="hljs-type">B</span></span> = <span class="hljs-type"><span class="hljs-type">B</span></span>(ai) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> a = <span class="hljs-type"><span class="hljs-type">A</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> b: <span class="hljs-type"><span class="hljs-type">B</span></span> = a println(b)</code> </pre> <br><p>  Displays: </p><br><pre> <code class="hljs lisp">B(<span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre> <br><p>  All that is true for implicit parameter functions is also true for implicit conversions: generalized types are supported, there must be only one explicit, but there can be as many implicit parameters, etc. </p><br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">i: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">B</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">i: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PrintContext</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">T</span></span></span><span class="hljs-class">](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">t: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implicit</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">aToB</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">a: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">A</span></span></span></span></span><span class="hljs-class">)</span></span>: <span class="hljs-type"><span class="hljs-type">B</span></span> = <span class="hljs-type"><span class="hljs-type">B</span></span>(ai) <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> cContext: <span class="hljs-type"><span class="hljs-type">PrintContext</span></span>[<span class="hljs-type"><span class="hljs-type">B</span></span>] = <span class="hljs-type"><span class="hljs-type">PrintContext</span></span>(<span class="hljs-string"><span class="hljs-string">"The value of type B is"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">printContextAwared</span></span></span></span>[<span class="hljs-type"><span class="hljs-type">T</span></span>](t: <span class="hljs-type"><span class="hljs-type">T</span></span>)(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> ctx: <span class="hljs-type"><span class="hljs-type">PrintContext</span></span>[<span class="hljs-type"><span class="hljs-type">T</span></span>]): <span class="hljs-type"><span class="hljs-type">Unit</span></span> = println(<span class="hljs-string"><span class="hljs-string">s"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${ctx.t}</span></span></span><span class="hljs-string">: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">$t</span></span></span><span class="hljs-string">"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> a = <span class="hljs-type"><span class="hljs-type">A</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>) printContextAwared[<span class="hljs-type"><span class="hljs-type">B</span></span>](a)</code> </pre> <br><p>  <em>Restrictions</em> <br>  Scala does not allow the use of several implicit conversions in a row, thus the code: </p><br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">i: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">B</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">i: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">C</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">i: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implicit</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">aToB</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">a: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">A</span></span></span></span></span><span class="hljs-class">)</span></span>: <span class="hljs-type"><span class="hljs-type">B</span></span> = <span class="hljs-type"><span class="hljs-type">B</span></span>(ai) <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bToC</span></span></span></span>(b: <span class="hljs-type"><span class="hljs-type">B</span></span>): <span class="hljs-type"><span class="hljs-type">C</span></span> = <span class="hljs-type"><span class="hljs-type">C</span></span>(bi) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> a = <span class="hljs-type"><span class="hljs-type">A</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> c: <span class="hljs-type"><span class="hljs-type">C</span></span> = a</code> </pre> <br><p>  Will not compile. <br>  However, as we have already seen, Scala does not prohibit the search for implicit <em>parameters</em> along the chain, so that we can fix this code as follows: </p><br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">i: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">B</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">i: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">C</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">i: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implicit</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">aToB</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">a: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">A</span></span></span></span></span><span class="hljs-class">)</span></span>: <span class="hljs-type"><span class="hljs-type">B</span></span> = <span class="hljs-type"><span class="hljs-type">B</span></span>(ai) <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bToC</span></span></span></span>[<span class="hljs-type"><span class="hljs-type">T</span></span>](t: <span class="hljs-type"><span class="hljs-type">T</span></span>)(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> tToB: <span class="hljs-type"><span class="hljs-type">T</span></span> =&gt; <span class="hljs-type"><span class="hljs-type">B</span></span>): <span class="hljs-type"><span class="hljs-type">C</span></span> = <span class="hljs-type"><span class="hljs-type">C</span></span>(ti) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> a = <span class="hljs-type"><span class="hljs-type">A</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> c: <span class="hljs-type"><span class="hljs-type">C</span></span> = a</code> </pre> <br><p>  It is worth noting that if a function accepts a value implicitly, then in its body it will be visible as an implicit value or a transformation.  In the previous example, to declare the method bToC, tToB is an implicit parameter and, at the same time, it already works as an implicit conversion inside the method. </p><br><h1 id="neyavnye-klassy">  Implicit classes </h1><br><p>  The implicit keyword before class declaration is a more compact form of writing an implicit conversion of the value of a constructor argument to a given class. </p><br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ReachInt</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">self: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span></span><span class="hljs-class">) </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fib</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">Int</span></span> = self <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> | <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> i =&gt; (i - <span class="hljs-number"><span class="hljs-number">1</span></span>).fib + (i - <span class="hljs-number"><span class="hljs-number">2</span></span>).fib } } println(<span class="hljs-number"><span class="hljs-number">5.</span></span>fib)</code> </pre> <br><p>  Displays: </p><br><pre> <code class="hljs">5</code> </pre> <br><p>  It may seem that implicit classes are just a way to add a functional to a class, but in reality this concept is somewhat broader. </p><br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">sealed</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">trait</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Animal</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Dog</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Animal</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bear</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Animal</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Cow</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Animal</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Habitat</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class"> &lt;: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Animal</span></span></span><span class="hljs-class">](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">name: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implicit</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">val</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dogHabitat</span></span></span><span class="hljs-class"> </span></span>= <span class="hljs-type"><span class="hljs-type">Habitat</span></span>[<span class="hljs-type"><span class="hljs-type">Dog</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>](<span class="hljs-string"><span class="hljs-string">"House"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> bearHabitat = <span class="hljs-type"><span class="hljs-type">Habitat</span></span>[<span class="hljs-type"><span class="hljs-type">Bear</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>](<span class="hljs-string"><span class="hljs-string">"Forest"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AnimalOps</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class"> &lt;: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Animal</span></span></span><span class="hljs-class">](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">animal: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">A</span></span></span></span></span><span class="hljs-class">) </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getHabitat</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> habitat: <span class="hljs-type"><span class="hljs-type">Habitat</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>]): <span class="hljs-type"><span class="hljs-type">Habitat</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>] = habitat } println(<span class="hljs-type"><span class="hljs-type">Dog</span></span>.getHabitat) println(<span class="hljs-type"><span class="hljs-type">Bear</span></span>.getHabitat) <span class="hljs-comment"><span class="hljs-comment">// : //println(Cow.getHabitat)</span></span></code> </pre> <br><p>  Displays: </p><br><pre> <code class="hljs lisp">Habitat(<span class="hljs-name"><span class="hljs-name">House</span></span>) Habitat(<span class="hljs-name"><span class="hljs-name">Forest</span></span>)</code> </pre> <br><p>  Here in the implicit AnimalOps class, we declare that the value type to which it will be applied will be visible to us as A, then in the getHabitat method we require the implicit parameter Habitat [A].  In its absence, as in the line with Cow, we get a compilation error. </p><br><p>  Without the help of implicit classes, <a href="http://www.alessandrolacava.com/blog/scala-self-recursive-types/">F-bounded polymorphism</a> could help us achieve the same effect: </p><br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">sealed</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">trait</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Animal</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class"> &lt;: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Animal</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">]] </span></span>{ self: <span class="hljs-type"><span class="hljs-type">A</span></span> =&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getHabitat</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> habitat: <span class="hljs-type"><span class="hljs-type">Habitat</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>]): <span class="hljs-type"><span class="hljs-type">Habitat</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>] = habitat } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">trait</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Dog</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Animal</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Dog</span></span></span><span class="hljs-class">] </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">trait</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bear</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Animal</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Bear</span></span></span><span class="hljs-class">] </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">trait</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Cow</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Animal</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Cow</span></span></span><span class="hljs-class">] </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Dog</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Dog</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bear</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bear</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Cow</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Cow</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Habitat</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class"> &lt;: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Animal</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">]](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">name: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implicit</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">val</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dogHabitat</span></span></span><span class="hljs-class"> </span></span>= <span class="hljs-type"><span class="hljs-type">Habitat</span></span>[<span class="hljs-type"><span class="hljs-type">Dog</span></span>](<span class="hljs-string"><span class="hljs-string">"House"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> bearHabitat = <span class="hljs-type"><span class="hljs-type">Habitat</span></span>[<span class="hljs-type"><span class="hljs-type">Bear</span></span>](<span class="hljs-string"><span class="hljs-string">"Forest"</span></span>) println(<span class="hljs-type"><span class="hljs-type">Dog</span></span>.getHabitat) println(<span class="hljs-type"><span class="hljs-type">Bear</span></span>.getHabitat)</code> </pre> <br><p>  As can be seen, in this case, the type of Animal significantly complicated the announcement, an additional recursive parameter A appeared, which plays an exclusively service role.  This is confusing. </p><br><h1 id="cepochki-neyavnyh-parametrov">  Chains of implicit parameters </h1><br><p>  This question is addressed in the official FAQ: <a href="http://docs.scala-lang.org/tutorials/FAQ/chaining-implicits.html">http://docs.scala-lang.org/tutorials/FAQ/chaining-implicits.html</a> . <br>  As I said in the section on <a href="https://habrahabr.ru/post/329600/">implicit conversions</a> , the compiler does not know how to recursively use implicit conversions.  However, it supports the recursive resolution of implicit parameters. </p><br><p>  The example below adds, for those types for which the corresponding time <a href="https://habrahabr.ru/company/tinkoff/blog/147759/">-classes</a> are implicitly defined, the describe method, which will return their description on a certain similarity of the human language (as we know, it‚Äôs impossible to determine the exact type in JVM runtime, so we define it in compile -time): </p><br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">sealed</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">trait</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Description</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">T</span></span></span><span class="hljs-class">] </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">name</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">String</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContainerDescr</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">P</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">M</span></span></span><span class="hljs-class">[_]](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">name: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span></span><span class="hljs-class">) (</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">implicit childDescr: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Description</span></span></span></span><span class="hljs-class"><span class="hljs-params">[</span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">P</span></span></span></span><span class="hljs-class"><span class="hljs-params">]</span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Description</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">M</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">P</span></span></span><span class="hljs-class">]] </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toString</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">String</span></span> = <span class="hljs-string"><span class="hljs-string">s"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">$name</span></span></span><span class="hljs-string"> of </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">$childDescr</span></span></span><span class="hljs-string">"</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AtomDescr</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">P</span></span></span><span class="hljs-class">](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">name: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Description</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">P</span></span></span><span class="hljs-class">] </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toString</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">String</span></span> = name } <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Describable</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">T</span></span></span><span class="hljs-class">](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">value: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span></span><span class="hljs-class">)(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">implicit descr: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Description</span></span></span></span><span class="hljs-class"><span class="hljs-params">[</span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span><span class="hljs-class"><span class="hljs-params">]</span></span></span><span class="hljs-class">) </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">describe</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">String</span></span> = descr.toString } <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">listDescr</span></span></span></span>[<span class="hljs-type"><span class="hljs-type">P</span></span>](<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> childDescr: <span class="hljs-type"><span class="hljs-type">Description</span></span>[<span class="hljs-type"><span class="hljs-type">P</span></span>]): <span class="hljs-type"><span class="hljs-type">Description</span></span>[<span class="hljs-type"><span class="hljs-type">List</span></span>[<span class="hljs-type"><span class="hljs-type">P</span></span>]] = <span class="hljs-type"><span class="hljs-type">ContainerDescr</span></span>[<span class="hljs-type"><span class="hljs-type">P</span></span>, <span class="hljs-type"><span class="hljs-type">List</span></span>](<span class="hljs-string"><span class="hljs-string">"List"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">arrayDescr</span></span></span></span>[<span class="hljs-type"><span class="hljs-type">P</span></span>](<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> childDescr: <span class="hljs-type"><span class="hljs-type">Description</span></span>[<span class="hljs-type"><span class="hljs-type">P</span></span>]): <span class="hljs-type"><span class="hljs-type">Description</span></span>[<span class="hljs-type"><span class="hljs-type">Array</span></span>[<span class="hljs-type"><span class="hljs-type">P</span></span>]] = <span class="hljs-type"><span class="hljs-type">ContainerDescr</span></span>[<span class="hljs-type"><span class="hljs-type">P</span></span>, <span class="hljs-type"><span class="hljs-type">Array</span></span>](<span class="hljs-string"><span class="hljs-string">"Array"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">seqDescr</span></span></span></span>[<span class="hljs-type"><span class="hljs-type">P</span></span>](<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> childDescr: <span class="hljs-type"><span class="hljs-type">Description</span></span>[<span class="hljs-type"><span class="hljs-type">P</span></span>]): <span class="hljs-type"><span class="hljs-type">Description</span></span>[<span class="hljs-type"><span class="hljs-type">Seq</span></span>[<span class="hljs-type"><span class="hljs-type">P</span></span>]] = <span class="hljs-type"><span class="hljs-type">ContainerDescr</span></span>[<span class="hljs-type"><span class="hljs-type">P</span></span>, <span class="hljs-type"><span class="hljs-type">Seq</span></span>](<span class="hljs-string"><span class="hljs-string">"Sequence"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> intDescr = <span class="hljs-type"><span class="hljs-type">AtomDescr</span></span>[<span class="hljs-type"><span class="hljs-type">Int</span></span>](<span class="hljs-string"><span class="hljs-string">"Integer"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> strDescr = <span class="hljs-type"><span class="hljs-type">AtomDescr</span></span>[<span class="hljs-type"><span class="hljs-type">String</span></span>](<span class="hljs-string"><span class="hljs-string">"String"</span></span>) println(<span class="hljs-type"><span class="hljs-type">List</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>).describe) println(<span class="hljs-type"><span class="hljs-type">Array</span></span>(<span class="hljs-string"><span class="hljs-string">"str1"</span></span>, <span class="hljs-string"><span class="hljs-string">"str2"</span></span>).describe) println(<span class="hljs-type"><span class="hljs-type">Seq</span></span>(<span class="hljs-type"><span class="hljs-type">Array</span></span>(<span class="hljs-type"><span class="hljs-type">List</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>), <span class="hljs-type"><span class="hljs-type">List</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>))).describe)</code> </pre> <br><p>  Displays: </p><br><pre> <code class="hljs vhdl">List <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Integer</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-built_in"><span class="hljs-built_in">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Sequence</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> List <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Integer</span></span></code> </pre> <br><p>  Description - base type. <br>  ContainerDescr is a recursive class, which, in turn, requires the existence of an implicit Description parameter for the type of container being described. <br>  AtomDescr is a terminal class that describes simple types. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/2d3/41b/d1e/2d341bd1e917040dd1624408e2a10375.svg" alt="image"><br>  <em>Scheme for resolution of implicit parameters.</em> </p><br><h1 id="debag-neyavnyh-parametrov">  Debag implicit parameters </h1><br><p>  When developing with the use of chains of implicit parameters, from time to time you will get compile-time errors, with rather vague names, as a rule, these will be: ambiguous implicit values ‚Äã‚Äãand diverging implicit expansion.  To understand what the compiler wants from you, you need to figure out what these messages mean. </p><br><h3 id="ambiguous-implicit-values">  Ambiguous implicit values </h3><br><p>  As a rule, this error means that there are several conflicting implicit values ‚Äã‚Äãof the <em>appropriate</em> type in the same scope, and the compiler cannot decide which one to give preference (the order in which the compiler goes through the scope in the search for implicit parameters can be found in <a href="https://stackoverflow.com/questions/5598085/where-does-scala-look-for-implicits">this answer</a> ). </p><br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> dog = <span class="hljs-string"><span class="hljs-string">"Dog"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> cat = <span class="hljs-string"><span class="hljs-string">"Cat"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getImplicitString</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> str: <span class="hljs-type"><span class="hljs-type">String</span></span>): <span class="hljs-type"><span class="hljs-type">String</span></span> = str println(getImplicitString)</code> </pre> <br><p>  When we try to compile this code, we get an error: </p><br><pre> <code class="hljs pgsql">Error:(<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>) ambiguous implicit <span class="hljs-keyword"><span class="hljs-keyword">values</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">both</span></span> <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> dog <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> Example_ambigous <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> =&gt; String <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> cat <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> Example_ambigous <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> =&gt; String match expected <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> String println(getImplicitString)</code> </pre> <br><p>  These problems are solved quite obviously - it is necessary to leave only one implicit parameter of this type in context so that the compiler can determine it uniquely. </p><br><h3 id="diverging-implicit-expansion">  Diverging implicit expansion </h3><br><p>  This error means infinite recursion when searching for an implicit value. </p><br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getString</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> str: <span class="hljs-type"><span class="hljs-type">String</span></span>): <span class="hljs-type"><span class="hljs-type">String</span></span> = str println(getString)</code> </pre> <br><p>  Mistake: </p><br><pre> <code class="hljs scala"><span class="hljs-type"><span class="hljs-type">Error</span></span>:(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>) diverging <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> expansion <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">String</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">starting</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">with</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">method</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">getString</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">in</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Example_diverging</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">println</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">getString</span></span></span><span class="hljs-class">)</span></span></code> </pre> <br><p>  This kind of error is harder to track.  Make sure your recursion has a terminal branch.  It often helps to try to explicitly substitute the entire chain of parameters and make sure that this code is compiled. </p><br><h3 id="flag-kompilyatora-log-implicits">  Compiler flag log-implicits </h3><br><p>  Also try using the <code>-Xlog-implicits</code> compiler flag - with it, scalac will log the implicit parameter resolution steps and the reasons for the failures. </p><br><p><img src="https://habrastorage.org/web/a15/08a/d3b/a1508ad3b4ec4e45bba3585b1c31d32a.png" alt="image"><br>  <em>Compiler's messages about candidates for implicit parameters.</em> </p><br><h3 id="annotaciya-implicitnotfound">  Annotation @implicitNotFound </h3><br><p>  You can mark your classes and traits with the @implicitNotFound annotation to make it more humane to the compiler's messages that an implicit value of this type was not found. </p><br><pre> <code class="scala hljs"><span class="hljs-meta"><span class="hljs-meta">@implicitNotFound</span></span>(<span class="hljs-string"><span class="hljs-string">"No member of type class NumberLike in scope for ${T}"</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">trait</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NumberLike</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">T</span></span></span><span class="hljs-class">] </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">plus</span></span></span></span>(x: <span class="hljs-type"><span class="hljs-type">T</span></span>, y: <span class="hljs-type"><span class="hljs-type">T</span></span>): <span class="hljs-type"><span class="hljs-type">T</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">divide</span></span></span></span>(x: <span class="hljs-type"><span class="hljs-type">T</span></span>, y: <span class="hljs-type"><span class="hljs-type">Int</span></span>): <span class="hljs-type"><span class="hljs-type">T</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">minus</span></span></span></span>(x: <span class="hljs-type"><span class="hljs-type">T</span></span>, y: <span class="hljs-type"><span class="hljs-type">T</span></span>): <span class="hljs-type"><span class="hljs-type">T</span></span> }</code> </pre> <br><h2 id="poryadok-obyavleniya-neyavnyh-parametrov">  Order of declaration of implicit parameters </h2><br><p>  Descriptions of this aspect could not be found on the Internet and had to clarify it experimentally. </p><br><p>  <em>The order of declaration of implicit function parameters is of fundamental importance.</em> </p><br><p>  This means that we can use some implicit parameters to limit the visibility of others.  For example, if in the field of visibility there are two values ‚Äã‚Äãof suitable types and we need to choose one of them, without resorting to specifying the desired type. </p><br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">sealed</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">trait</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseSought</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Target</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseSought</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Alternative</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseSought</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">trait</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Searchable</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">T</span></span></span><span class="hljs-class"> &lt;: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">BaseSought</span></span></span><span class="hljs-class">] </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implicit</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">search</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">T</span></span></span><span class="hljs-class"> &lt;: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">BaseSought</span></span></span><span class="hljs-class">](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">implicit canSearch: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Searchable</span></span></span></span><span class="hljs-class"><span class="hljs-params">[</span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span><span class="hljs-class"><span class="hljs-params">], sought: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span></span><span class="hljs-class">)</span></span>: <span class="hljs-type"><span class="hljs-type">T</span></span> = sought <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> target = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Target</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> alt = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Alternative</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> canSearchTarget = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Searchable</span></span>[<span class="hljs-type"><span class="hljs-type">Target</span></span>] {} search <span class="hljs-comment"><span class="hljs-comment">// : Target</span></span></code> </pre> <br><p>  There are two parameters in scope that fit the desired type [T &lt;: BaseSought], but due to the fact that the implicit Searchable [T] parameter is defined only for one of them, we can determine it unambiguously and not get a compilation error. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/166/b2d/6f5/166b2d6f598fcf78fceafc7347483b4c.svg" alt="image"><br>  <em>Successful resolution of implicit parameters.</em> </p><br><p>  If we defined the implicit parameters in a different order: </p><br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">search</span></span></span></span>[<span class="hljs-type"><span class="hljs-type">T</span></span> &lt;: <span class="hljs-type"><span class="hljs-type">BaseSought</span></span>](<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> sought: <span class="hljs-type"><span class="hljs-type">T</span></span>, canSearch: <span class="hljs-type"><span class="hljs-type">Searchable</span></span>[<span class="hljs-type"><span class="hljs-type">T</span></span>]): <span class="hljs-type"><span class="hljs-type">T</span></span> = sought</code> </pre> <br><p>  you would get the error: </p><br><pre> <code class="scala hljs"><span class="hljs-type"><span class="hljs-type">Error</span></span>:(<span class="hljs-number"><span class="hljs-number">17</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) ambiguous <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> values: both value target in <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Example11</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">of</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">type</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">=&gt;</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Example11</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Target</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">and</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">value</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">alt</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">in</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Example11</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">of</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">type</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">=&gt;</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Example11</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Alternative</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">match</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">expected</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">type</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">search</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">//</span></span></span><span class="hljs-class"> </span></span>: <span class="hljs-type"><span class="hljs-type">Target</span></span></code> </pre> <br><p><img src="https://habrastorage.org/getpro/habr/post_images/8c8/38b/b3d/8c838bb3dcd98a86ce489c8632409f7f.svg" alt="image"><br>  <em>Oops ...</em> </p><br><h1 id="zaklyuchenie">  Conclusion </h1><br><p>  In conclusion, I want to immediately answer the question that will inevitably be asked in the comments: "Why do we need such difficulties? On Go, they live without any generics, let alone such black magic." </p><br><p>  Yes, maybe not needed.  Implications are definitely not needed if you want to make your code harder with their help.  After such languages ‚Äã‚Äãas, for example, Java, programmers think that if there are many tools in the language, then they should use them all.  In fact, you should use complex tools only for complex tasks. </p><br><p>  If you can beautifully solve the problem without implications, do it; if not, think again. </p><br><p>  If you understand that it may take a significant amount of time for your colleagues to master any tool, but you cannot do without it here, limit its scope, make a library with a simple interface, ensure its quality.  And then people will grow to her themselves by the time they come to mind in her to change something. </p><br><p><img src="https://habrastorage.org/web/bcb/ac4/8e6/bcbac48e625841dc84fee753eb140d38.jpg" alt="image"></p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/329600/">https://habr.com/ru/post/329600/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../329584/index.html">Creating a web application on Go in 2017. Part 2</a></li>
<li><a href="../329592/index.html">learnopengl. Lesson 2.1 - Colors</a></li>
<li><a href="../329594/index.html">Is there too much text in your game?</a></li>
<li><a href="../329596/index.html">A bit of reverse-engineering USB flash on the SK6211 controller</a></li>
<li><a href="../329598/index.html">Online course "Functional Security of Computer Systems"</a></li>
<li><a href="../329602/index.html">Completion of the 11th All-Russian Conference of IT & Security Forum</a></li>
<li><a href="../329604/index.html">Solving the traveling salesman problem using the nearest neighbor method in Python</a></li>
<li><a href="../329612/index.html">Creating a web application on Go in 2017. Part 3</a></li>
<li><a href="../329614/index.html">Demo access to IOT platforms</a></li>
<li><a href="../329616/index.html">Release of 3CX V15.5 RC and the new Call Flow Designer Beta (formerly 3CX VAD)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>