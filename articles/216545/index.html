<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Intel INDE Media Pack</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Last time in the review article about Intel INDE we mentioned the Media Pack and its key features. In this article we will focus on it in more detail....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Intel INDE Media Pack</h1><div class="post__text post__text-html js-mediator-article">  Last time in the <a href="http://habrahabr.ru/company/intel/blog/216495/">review article about Intel INDE</a> we mentioned the <i>Media Pack</i> and its key features.  In this article we will focus on it in more detail. <br><br>  <i>INDE Media Pack</i> is a library that includes various components for working with audio and video.  In terms of implementation, this is an add-on to Android‚Äôs media components that uses hardware acceleration to encode and decode video.  Compared to the use of classes for working with multimedia in Android, it is much easier to use, the developer does not need to understand all the intricacies of the work of media codecs, extractor, muxer, just to embed the ability to work with video into your application. <br><a name="habracut"></a><br>  Applications using <i>Media Pack</i> will work on all architectures ( <i>ARM</i> , <i>IA</i> ), on devices running Android 4.3 and higher. <br><br>  You can download the library using the link on the official <a href="http://software.intel.com/en-us/intel-inde">Intel INDE</a> page.  After installing the Intel INDE Manager, open it, select the <i>Media</i> component, then <i>Download</i> , after it is downloaded, launch the <i>Install</i> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/032/f03/46a/032f0346a1ea6e6a6173df058135c4fd.png" alt="image"><br><br>  When the installation is completed, a folder will be created in the selected directory containing everything you need to start working with the <i>Media Pack</i> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4fd/4aa/046/4fd4aa0462cf821041cb8270a9ee4811.png" alt="image"><br><br>  Let's start by building and running the examples, because  This is the fastest and most visual way to evaluate what the <i>Media Pack</i> is capable of.  To do this, we need <i>Eclipse</i> and a device on Android version 4.3 or higher. <br><br>  Run <i>Eclipse</i> next <i>File</i> -&gt; <i>New</i> -&gt; <i>Project</i> -&gt; <i>Android Project From Existing Code</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/86c/50d/6a4/86c50d6a4d7dee65ede7df438ba886da.png" alt="image"><br><br>  The samples project has a dependency on project <i>effects</i> , so that <i>Eclipse</i> correctly identifies all the dependencies, you need to import both projects at once.  To do this, as the root directory, you must specify the path to the samples folder and mark both projects for import - <i>apps</i> and <i>effects</i> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/863/f8f/667/863f8f66760a8ad0c8b4227c20b58ca9.png" alt="image"><br><br>  We launch the imported apps package as an Android application, after building and launching the application, the main activity of the application will appear, which presents the various usage patterns that the <i>Media Pack</i> offers. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0df/aac/923/0dfaac923fb8c75e1ad5f867b3044512.png" alt="image"><br><br>  <i>Game Capturing</i> - capturing video from an application using OpenGL <br>  <i>Transcode Video</i> - convert video with specified parameters <br>  <i>Join Video</i> - gluing two video files <br>  <i>Cut Video</i> - cut from the video of a given segment <br>  <i>Video Effect</i> - video conversion with video effect overlay <br>  <i>Audio Effect</i> - convert video with audio effect overlay <br>  <i>Streaming from Camera</i> - broadcast video from camera to <a href="http://www.wowza.com/">Wowza</a> service <br>  <i>Get Media File Info</i> - getting information about the media file <br><br>  Having played enough with the samples, you can begin to study the insides, the first candidate for the analysis will be <br><br><h4>  Transcode Video </h4><br>  This example contains two activities. <br><br><ul><li>  <i>ComposerTranscodeActivity</i> - provides a choice of video file and displays it on a preview, nothing interesting </li><li>  <i>ComposerTranscodeCoreActivity</i> - displays detailed information about the selected video file, converts it </li></ul><br><br><img src="https://habrastorage.org/getpro/habr/post_images/770/d9a/962/770d9a962313436cc6895a10a3ab7639.png" alt="image"><br><br>  The key element in this example is the <i>MediaComposer</i> class, which accepts one or more media files as inputs and converts them to match the specified parameters. <br><br>  In order to convert the video, we need to perform five simple steps. <br><br><h5>  1. Create a MediaComposer object </h5><br><pre><code class="java hljs">MediaComposer mediaComposer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AndroidMediaObjectFactory(getApplicationContext());</code> </pre> <br><br><h5>  2. Specify the path to the source and result files </h5><br><pre> <code class="java hljs">String srcPath = ‚Äú‚Ä¶‚Äù; String dstPath = ‚Äú‚Ä¶‚Äù; mediaComposer.addSourceFile(srcPath); mediaComposer.setTargetFile(dstPath);</code> </pre> <br><br><h5>  3. Set the parameters of the resulting video </h5><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//      //   String videoMimeType = ‚Äúvideo/avc‚Äù; //   int videoFrameWidth = 640; //   int videoFrameHeight = 480; //    int videoBitRate = 5000; //     int videoFrameRate = 30; //    int videoIFrameInterval = 1; VideoFormatAndroid videoFormat = new VideoFormatAndroid(videoMimeType, videoFrameWidth, videoFrameHeight); videoFormat.setVideoBitRateInKBytes(videoBitRate); videoFormat.setVideoFrameRate(videoFrameRate); videoFormat.setVideoIFrameInterval(videoIFrameInterval); //    mediaComposer.setTargetVideoFormat(videoFormat); //      //  Audio String audioMimeType = ‚Äúaudio/mp4a-latm‚Äù; //    int audioSampleRate = 48000; //    int audioChannelCount = 2; //   int audioProfile = MediaCodecInfo.CodecProfileLevel.AACObjectLC; AudioFormatAndroid audioFormat = new AudioFormatAndroid(audioMimeType , audioSampleRate, audioChannelCount); audioFormat.setAudioBitrate(audioBitRate); audioFormat.setAudioAacProfile(audioProfile); //    mediaComposer.setTargetAudioFormat(audioFormat);</span></span></code> </pre> <br><br><h5>  4. Implement the MediaComposer.IProgressListener interface </h5><br>  Video conversion in <i>MediaComposer</i> occurs asynchronously, in a separate stream.  In order for the application to be notified of the start and end of the conversion process, receive progress messages, errors that occur, it must implement the <i>MediaComposer.IProgressListener</i> interface and pass a pointer to it to the <i>MediaComposer</i> object. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> MediaComposer.IProgressListener progressListener = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MediaComposer.IProgressListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onMediaStart</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    } @Override public void onMediaProgress(float progress) { //   } @Override public void onMediaDone() { //      } @Override public void onMediaPause() { //     } @Override public void onMediaStop() { //    } @Override public void onError(Exception exception) { //      } }; //      MediaComposer mediaComposer.addProgressListener(progressListener);</span></span></code> </pre> <br><br><h5>  5. Starting the conversion process </h5><br>  The final step in which the conversion process starts with the specified parameters. <br><br><pre> <code class="java hljs">mediaComposer.start();</code> </pre> <br><br>  Yes, the code has turned out a lot, but basically it refers to the transfer of coding parameters and the processing of the current state.  Again, if compared with the implementation using the "regular" Android classes, such as <i>MediaCodec</i> , <i>MediaExtractor</i> , <i>MediaMuxer</i> , then the code in our example turned out to be incommensurably less. <br><br>  Video conversion is not the only model using <i>Media Pack</i> .  In the following articles, we will explain how, using the <i>GLCapture</i> class <i>,</i> you can add the ability to capture and encode video in Android applications that use <i>Open GL</i> or are based on popular frameworks such as <a href="https://unity3d.com/">Unity</a> and <a href="http://libgdx.badlogicgames.com/">libGDX</a> . </div><p>Source: <a href="https://habr.com/ru/post/216545/">https://habr.com/ru/post/216545/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../216533/index.html">Hosting provider vs. DDoS attack. REG.RU Solution - Professional Outsourcing</a></li>
<li><a href="../216535/index.html">Reporter reputation management, or Who is to blame and what to do if your newsletter gets into spam?</a></li>
<li><a href="../216537/index.html">MNP: How it all works *</a></li>
<li><a href="../216539/index.html">Creating your WebRTC application on the 1C-Bitrix platform</a></li>
<li><a href="../216543/index.html">Is it easy to become an analyst?</a></li>
<li><a href="../216547/index.html">E-commerce trends: Foreign players come to Russia</a></li>
<li><a href="../216549/index.html">We collect the best in the collection and share with others.</a></li>
<li><a href="../216551/index.html">Sony VAIO Tap 11 - 2-in-1 Tablet and Laptop</a></li>
<li><a href="../216553/index.html">VKontakte API for .Net</a></li>
<li><a href="../216555/index.html">A bold plan that could save the Columbia shuttle. Part 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>