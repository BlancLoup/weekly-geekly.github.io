<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>APDEX and 1C Performance Measurements</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In continuation of the article about our use of 1C Fresh, we will tell you how to learn to monitor the performance and speed of our installation. 


 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>APDEX and 1C Performance Measurements</h1><div class="post__text post__text-html js-mediator-article">  In continuation of the article about our use of 1C Fresh, we will tell you how to learn to monitor the performance and speed of our installation. <br><img src="https://habrastorage.org/webt/59/d4/bb/59d4bb7a24551055301251.jpeg" alt="image"><br><a name="habracut"></a><br><h3>  Introduction </h3><br>  In any company that produces any product, there is a quality control department.  Usually this department checks the output, exactly what the consumer gets into his hands.  If the company provides services, then there are special people who ring up customers and find out if they liked everything.  After that, based on the collected statistics, any changes are made to the process and everything is repeated in a circle.  Well, of course, if such departments and people exist in the company.  In our world, most often either you use what you have, or you are looking for other companies and no one worries about it. <br><br>  In our Button, our users of the 1C Fresh product are primarily our accountants.  The higher the stability and speed of 1C, the higher the speed of the accountant.  This means that customers who are served in the Button will receive faster payments for taxes, advance payments, salaries, etc. <br><br>  There are many different options for assessing the performance (or quality) of IT systems and software.  To assess the performance of our 1C Fresh, we use many well-known methods APDEX. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Apdex.  reference </h3><br>  Apdex (Application Performance Index) - application performance index.  An open international standard designed to form an objective assessment of the performance indicators of corporate information systems. <br><br>  Apdex serves to measure user satisfaction with system performance.  This experience can be represented on a scale from excellent to unsatisfactory. <br><br>  The technique consists of the following steps: <br><br>  - getting a list of key operations; <br>  - determining the priority of each operation; <br>  - determination of target time for each operation; <br>  - collection of information on the execution time of each key operation; <br>  - obtaining an estimate based on the information collected. <br><br>  Upon completion of all these steps, it becomes possible to interpret the result in terms of qualitative assessment.  About Apdex is information on the site <a href="https://its.1c.ru/db/metod8dev">1C</a> , where we actually scooped knowledge. <br><br><h3>  Implementation.  Theory </h3><br>  The first step in measuring performance using the Apdex methodology is to highlight the list of key operations.  Having conducted some analytics together with our accountants, we identified a number of operations that are most often used in work with 1C. <br><br>  The second stage is the determination of the priority of each operation.  The higher the priority, the more important the performance of the operation.  Properly placed priorities will allow us to further assess the severity of performance problems in the system, and correctly prioritize the work on optimization. <br><br>  The next stage is the most interesting: determining the target time for each operation.  Those.  it is necessary to select the time for performing the specified operation in seconds (T), which will satisfy the client, i.e.  our accountant.  For each operation, we subjectively identified T and recorded in our table. <br><table><tbody><tr><td>  Operation </td><td>  A priority </td><td>  T </td></tr><tr><td>  Carrying out the receipt of goods and services </td><td>  3 </td><td>  one </td></tr><tr><td>  Total application launch time </td><td>  2 </td><td>  3 </td></tr><tr><td>  Formation of the report "card account" </td><td>  6 </td><td>  four </td></tr><tr><td>  SALT formation </td><td>  four </td><td>  3 </td></tr><tr><td>  The formation of the salt in the account </td><td>  five </td><td>  3 </td></tr><tr><td>  Carrying out the sale of goods and services </td><td>  one </td><td>  3 </td></tr></tbody></table><br>  The next step is to collect information about the time of each operation.  1C took care of this and took this functionality into account in their products.  We took the measurements from the configuration of Enterprise Accounting 3.0.  In order for 1c to start measuring the time for performing operations, it is necessary to set the constant ‚ÄúPerform performance measurements‚Äù.  It is necessary to do this for each IB operating in the service model. <br>  After that, all measurements of the execution time of user operations will be recorded in the ‚ÄúTime Measurements‚Äù information register, from where this information can be obtained in various ways. <br><br><img src="https://habrastorage.org/webt/59/d4/d9/59d4d977e6283634883723.png" alt="image"><br><br>  And finally, the fifth stage, obtaining an assessment of APDEX based on the collected results. <br><br>  The formula for calculating APDEX: APDEX = (NS + NT / 2) / N <br><br>  Where: <br><br>  N is the total number of executions of this operation; <br>  NS is the number of executions with a response time from 0 to T; <br>  NT is the number of executions with response times from T to 4T. <br><br>  The calculation results will add to the table: <br><table><tbody><tr><td>  Operation </td><td>  A priority </td><td>  T </td><td>  N </td><td>  NS </td><td>  NT </td><td>  APDEX </td></tr><tr><td>  Carrying out the receipt of goods and services </td><td>  3 </td><td>  3 </td><td>  387 </td><td>  320 </td><td>  34 </td><td>  0.67 </td></tr><tr><td>  Total start time <br>  applications </td><td>  2 </td><td>  five </td><td>  357 </td><td>  185 </td><td>  164 </td><td>  0.68 </td></tr><tr><td>  Report Formation <br>  "Account card" </td><td>  6 </td><td>  four </td><td>  99 </td><td>  94 </td><td>  five </td><td>  0.84 </td></tr><tr><td>  SALT formation </td><td>  four </td><td>  four </td><td>  224 </td><td>  190 </td><td>  31 </td><td>  0.95 </td></tr><tr><td>  SALT formation <br>  in a row </td><td>  five </td><td>  four </td><td>  732 </td><td>  559 </td><td>  158 </td><td>  0.88 </td></tr><tr><td>  Carrying out the sale of goods and services </td><td>  one </td><td>  four </td><td>  387 </td><td>  353 </td><td>  34 </td><td>  0.67 </td></tr></tbody></table><br>  The APDEX technique allows us to interpret the obtained numerical values ‚Äã‚Äãof the coefficient in terms of qualitative estimates.  For this, the APDEX Scale is provided, which contains the following ranges of values: <br><br><ul><li>  From 0.00 to 0.50 - Unacceptable </li><li>  From 0.50 to 0.70 - unsatisfactory </li><li>  From 0.70 to 0.85 - satisfactory </li><li>  From 0.85 to 0.94 - good </li><li>  From 0.94 to 1.00 - excellent </li></ul><br>  Interpreting the values, we get the following table: <br><table><tbody><tr><td>  Operation </td><td>  Apdex </td></tr><tr><td>  Carrying out the sale of goods and services </td><td>  unsatisfactory </td></tr><tr><td>  Total application launch time </td><td>  unsatisfactory </td></tr><tr><td>  Formation of the report "card account" </td><td>  satisfactorily </td></tr><tr><td>  Formation of light </td><td>  fine </td></tr><tr><td>  Formation of the account OV </td><td>  OK </td></tr><tr><td>  Carrying out the sale of goods and services </td><td>  unsatisfactory </td></tr></tbody></table><br><h2>  Implementation.  Practice </h2><br>  To monitor the performance and availability of services, we use Zabbix and the Grafana add-on.  For all our services, including 1C Fresh, the following indicators are monitored: CPU load on each server, amount of free RAM, queue depth of the disk subsystem (load by disk I / O operations), amount of free disk space, number of INSERT operations, UPDATE , DELETE per second on the database server. <br><br><img src="https://habrastorage.org/webt/59/d5/32/59d5327565eab778424382.png" alt="image"><br><br><img src="https://habrastorage.org/webt/59/d5/32/59d532c7456e2650908364.png" alt="image"><br><br>  To track Apdex scores, we didn‚Äôt come up with anything new and added a score display in Zabbix.  In order for Zabbix to receive data on the execution time of operations from 1c, they must first be unloaded somewhere.  To do this, we use the PostgreSQL intermediate database.  You can upload data from 1C to the database in several ways.  We implemented this mechanism through routine tasks. <br><br><img src="https://habrastorage.org/webt/59/d5/33/59d5333678bac664445668.png" width="350" alt="image"><br><br>  Each scheduled task can be run on schedule: <br><br><img src="https://habrastorage.org/webt/59/d5/34/59d53419a3fd9366794385.png" width="350" alt="image"><br><br>  In the process of starting, a scheduled task generates a background task, which performs the actual processing.  The routine task can be executed on behalf of the specified user and has the ability to restart (for example, in the event of an unexpected shutdown). <br><br>  For unloading, we will use the following register values: <br><br>  1. Name of the database of the applied configuration.  Since 1C Fresh technology assumes the use of a large number of databases and application solutions, we need to distinguish measurements for each of them. <br>  2. The name of the operation. <br>  3. Start time <br>  4. The time of the operation <br>  5. The data area in which the operation was performed <br>  6. The user who performed the operation <br><br>  The background task is a procedure: <br><br><pre><code class="1c hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"></span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title"></span></span></span><span class="hljs-function">()</span></span>  = <span class="hljs-built_in"><span class="hljs-built_in"></span></span>() - <span class="hljs-number"><span class="hljs-number">1800</span></span> - <span class="hljs-number"><span class="hljs-number">18000</span></span>;  = <span class="hljs-string"><span class="hljs-string">"server"</span></span>;  = <span class="hljs-string"><span class="hljs-string">"apdex"</span></span>; <span class="hljs-built_in"><span class="hljs-built_in"></span></span> = <span class="hljs-string"><span class="hljs-string">"username"</span></span>;  = <span class="hljs-string"><span class="hljs-string">"pswd"</span></span>;  = <span class="hljs-string"><span class="hljs-string">"perfomance"</span></span>;  = <span class="hljs-built_in"><span class="hljs-built_in"></span></span>();  = <span class="hljs-built_in"><span class="hljs-built_in"></span></span>(, <span class="hljs-string"><span class="hljs-string">"Ref="</span></span>);  = <span class="hljs-built_in"><span class="hljs-built_in"></span></span>(,  + <span class="hljs-number"><span class="hljs-number">4</span></span>);  = <span class="hljs-built_in"><span class="hljs-built_in"></span></span>(, <span class="hljs-string"><span class="hljs-string">""""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>);  = <span class="hljs-built_in"><span class="hljs-built_in"></span></span>(, <span class="hljs-string"><span class="hljs-string">";"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-type"><span class="hljs-type"></span></span> = <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-type"><span class="hljs-type"></span></span>; <span class="hljs-type"><span class="hljs-type"></span></span>. = <span class="hljs-string"><span class="hljs-string">" | .  , | .  , | .  , | .   | | .   | | . &gt;= &amp;"</span></span>; <span class="hljs-type"><span class="hljs-type"></span></span>..(<span class="hljs-string"><span class="hljs-string">""</span></span>, );  = <span class="hljs-type"><span class="hljs-type"></span></span>.<span class="hljs-keyword"><span class="hljs-keyword"></span></span>().(); <span class="hljs-built_in"><span class="hljs-built_in"></span></span>(.());  = <span class="hljs-string"><span class="hljs-string">"Driver={PostgreSQL Unicode}; |data source=PostgreSQL35W; |Server="</span></span> +  + <span class="hljs-string"><span class="hljs-string">"; |Port=5433; |Database="</span></span> +  + <span class="hljs-string"><span class="hljs-string">"; |Uid="</span></span>+<span class="hljs-built_in"><span class="hljs-built_in"></span></span>+<span class="hljs-string"><span class="hljs-string">"; |Pwd="</span></span>++<span class="hljs-string"><span class="hljs-string">"; |STMT=utf8"</span></span>;  = <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-type"><span class="hljs-type">COM</span></span>(<span class="hljs-string"><span class="hljs-string">"ADODB.Connection"</span></span>); .Provider = <span class="hljs-string"><span class="hljs-string">"MSDASQL.1"</span></span>; .ConnectionString = ; .Open(); <span class="hljs-keyword"><span class="hljs-keyword"></span></span> .() <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  = <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-type"><span class="hljs-type">COM</span></span>(<span class="hljs-string"><span class="hljs-string">"ADODB.RecordSet"</span></span>);  = <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-type"><span class="hljs-type">COM</span></span>(<span class="hljs-string"><span class="hljs-string">"ADODB.Command"</span></span>); .ActiveConnection = ;  = .;  = .;  = <span class="hljs-built_in"><span class="hljs-built_in"></span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>) + <span class="hljs-built_in"><span class="hljs-built_in"></span></span>(/<span class="hljs-number"><span class="hljs-number">1000</span></span>);  = <span class="hljs-built_in"><span class="hljs-built_in"></span></span>(., <span class="hljs-string"><span class="hljs-string">","</span></span>, <span class="hljs-string"><span class="hljs-string">"."</span></span>);  = <span class="hljs-built_in"><span class="hljs-built_in"></span></span>(<span class="hljs-built_in"><span class="hljs-built_in"></span></span>(,<span class="hljs-class"><span class="hljs-class"></span></span>.,<span class="hljs-string"><span class="hljs-string">""</span></span>),<span class="hljs-string"><span class="hljs-string">" "</span></span>,<span class="hljs-string"><span class="hljs-string">""</span></span>);  = .;  = <span class="hljs-built_in"><span class="hljs-built_in"></span></span>(,<span class="hljs-string"><span class="hljs-string">";"</span></span>,<span class="hljs-class"><span class="hljs-class"></span></span>.);  = <span class="hljs-built_in"><span class="hljs-built_in"></span></span>(,<span class="hljs-number"><span class="hljs-number">1</span></span>);  = <span class="hljs-built_in"><span class="hljs-built_in"></span></span>(,<span class="hljs-number"><span class="hljs-number">2</span></span>); .CommandText = <span class="hljs-string"><span class="hljs-string">"Insert into "</span></span> +  + <span class="hljs-string"><span class="hljs-string">" (basename,operation,startdate,operationtime,username, name) values ("</span></span>+<span class="hljs-string"><span class="hljs-string">"'"</span></span> +  + <span class="hljs-string"><span class="hljs-string">"','"</span></span> +  + <span class="hljs-string"><span class="hljs-string">"','"</span></span> +  + <span class="hljs-string"><span class="hljs-string">"','"</span></span> +  + <span class="hljs-string"><span class="hljs-string">"','"</span></span> +  + <span class="hljs-string"><span class="hljs-string">"','"</span></span> +  + <span class="hljs-string"><span class="hljs-string">"'"</span></span>+<span class="hljs-string"><span class="hljs-string">")"</span></span>;  = .Execute(); <span class="hljs-keyword"><span class="hljs-keyword"></span></span>; .Close(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"></span></span></span></span></code> </pre> <br>  By unloading data from 1C in this way, we will now have no difficulty in processing this in Zabbix.  Using the example of the ‚ÄúTotal application launch time‚Äù operation in IB ea_01, we will form an sql query to the database: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> ( ( ( <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(*) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> cnt <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> perfomance <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> operation=<span class="hljs-string"><span class="hljs-string">'   '</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> basename = <span class="hljs-string"><span class="hljs-string">'ea_01'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> startdate &gt; (<span class="hljs-keyword"><span class="hljs-keyword">NOW</span></span>() - <span class="hljs-built_in"><span class="hljs-built_in">INTERVAL</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">hour</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> operationtime &lt; <span class="hljs-number"><span class="hljs-number">3</span></span> ) + ( <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(*) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> cnt <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> perfomance <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> operation=<span class="hljs-string"><span class="hljs-string">'   '</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> basename = <span class="hljs-string"><span class="hljs-string">'ea_01'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> startdate &gt;= (<span class="hljs-keyword"><span class="hljs-keyword">NOW</span></span>() - <span class="hljs-built_in"><span class="hljs-built_in">INTERVAL</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">hour</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> operationtime &gt; <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> operationtime &lt; <span class="hljs-number"><span class="hljs-number">4</span></span>*<span class="hljs-number"><span class="hljs-number">3</span></span>)/<span class="hljs-number"><span class="hljs-number">2</span></span>)::<span class="hljs-built_in"><span class="hljs-built_in">real</span></span> / <span class="hljs-keyword"><span class="hljs-keyword">Nullif</span></span> ( ( <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(*) <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> perfomance <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> operation=<span class="hljs-string"><span class="hljs-string">'   '</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> basename = <span class="hljs-string"><span class="hljs-string">'ea_01'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> startdate &gt;= (<span class="hljs-keyword"><span class="hljs-keyword">NOW</span></span>() - <span class="hljs-built_in"><span class="hljs-built_in">INTERVAL</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">hour</span></span> ) ),<span class="hljs-number"><span class="hljs-number">0</span></span>)::<span class="hljs-built_in"><span class="hljs-built_in">real</span></span>)</code> </pre><br>  In the first step, we will create a configuration file for the agent, which will be executed on the database server where the measurement data is stored. <br><br><pre> <code class="hljs perl">UserParameter=apdex.operation.openapp[*],psql -U postgres -p <span class="hljs-number"><span class="hljs-number">5433</span></span> -d apdex -t -c <span class="hljs-string"><span class="hljs-string">"select (((select count(*) as cnt from perfomance where operation='$3' and basename = '$1' and startdate &gt; (NOW() - INTERVAL '$2 hour' ) and operationtime &lt; $4) + (select count(*) as cnt from perfomance where operation='$3' and basename = '$1' and startdate &gt;= (NOW() - INTERVAL '$2 hour' ) and operationtime &gt; $4 and operationtime &lt; 4*$4)/2)::real / nullif((select count(*) from perfomance where operation='$3' and basename = '$1' and startdate &gt;= (NOW() - INTERVAL '$2 hour' )),0)::real)</span></span></code> </pre> <br>  Using parameters will give us the opportunity to use this configuration file for various information databases and measured operations. <br><br>  In the second step, we will create a template in Zabbix, where we will describe the macros we need: <br><br><img src="https://habrastorage.org/webt/59/d6/0e/59d60eb595e2d685146852.png" alt="image"><br><br>  Then we bind this template to the required network node and redefine the individual parameters for macros. <br><br><img src="https://habrastorage.org/webt/59/d6/0e/59d60ebf4636a014831497.png" alt="image"><br><br>  Repeating these steps for each measured parameter, we will receive continuous performance monitoring using the APDEX technique. <br><br><img src="https://habrastorage.org/webt/59/d6/0a/59d60ad019233129132412.png" width="650" alt="image"><br><br>  Now, almost in real time, we can see Apdex rating on our 1cFresh databases.  But we went further. <br><br><h2>  Adjust response to performance drop </h2><br>  In addition to automatic monitoring of indicators, we also set up an automatic response to a drop in performance on any parameter.  Zabbix provides a lot of room for the implementation of various reactions through scripting tools. <br><br>  We will respond to a drop in performance by including the 1C: Enterprise technology journal. <br><br>  The script is quite simple: <br><br>  The performance of the operation drops ‚Üí a trigger triggers a drop ‚Üí an action is triggered, which edits the technology log settings file. <br><br>  After analyzing the problem, or restoring performance, the reverse actions are carried out. <br><br>  Performance goes to a normal level ‚Üí a trigger is triggered ‚Üí the technical log settings block is deleted. <br><br>  Create a trigger in which we write the trigger conditions.  In our case, the Apdex score falls below 0.6. <br><br><img src="https://habrastorage.org/webt/59/d6/0e/59d60ebf60382909216160.png" alt="image"><br><br>  Then create an action to trigger the trigger. <br><br><img src="https://habrastorage.org/webt/59/d6/0e/59d60ebf75a03511714729.png" alt="image"><br><br>  In this action we set the command <br><br><img src="https://habrastorage.org/webt/59/d6/0e/59d60ebf92095029391401.png" alt="image"><br><br>  Based on the collected TJ, it is possible to analyze what caused the performance drop, what were the errors, what the user was doing at the moment, which user, etc.  Comparing the data of TJ and monitoring Zabbix, you can draw conclusions and develop plans for troubleshooting, optimizing hardware, optimizing user experience. <br><br>  Thanks to monitoring and performance evaluation, we were able to reach the 99% availability rate of our 1C Fresh installation.  Our Apdex scores have not yet reached 1.0, but we are already working on it :) </div><p>Source: <a href="https://habr.com/ru/post/339394/">https://habr.com/ru/post/339394/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../339384/index.html">How is CatBoost? Interviews with developers</a></li>
<li><a href="../339386/index.html">Creator of Open Data Science about Slack, xgboost and GPU</a></li>
<li><a href="../339388/index.html">"Back to the Future": Blockchain Today and Tomorrow</a></li>
<li><a href="../339390/index.html">Jenkins Task Management</a></li>
<li><a href="../339392/index.html">Airflow is a tool to conveniently and quickly develop and maintain batch data processing processes.</a></li>
<li><a href="../339396/index.html">iOS Safari 11 now can WebRTC</a></li>
<li><a href="../339398/index.html">Leading from big and smart data fields: SmartData 2017 Piter conference program</a></li>
<li><a href="../339400/index.html">Kotlin in Action released in Russian</a></li>
<li><a href="../339402/index.html">Unified Repository for Enterprise Architecture Management</a></li>
<li><a href="../339404/index.html">We are improving communication between employers and applicants at My Circle (correspondence + company contact persons)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>