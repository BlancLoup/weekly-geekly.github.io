<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How I made the perfect media player from Apple TV</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I want to tell you how I did for myself a media player based on the old Apple TV of the first generation. It turned out the device is completely suita...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How I made the perfect media player from Apple TV</h1><div class="post__text post__text-html js-mediator-article"> I want to tell you how I did for myself a media player based on the old Apple TV of the first generation.  It turned out the device is completely suitable for my requirements. <br><img src="https://habrastorage.org/getpro/habr/post_images/03b/96b/5be/03b96b5bea3987f8cadd0c3b340cf6b5.jpg"><br><br><a name="habracut"></a><br>  Description of the standard configuration of the console: <br><br>  Processor: <b>1 GHz Intel "Crofton" Pentium M</b> <br>  Memory: <b>256 MB 400 MHz DDR2 SDRAM</b> <br>  Storage: <b>40 or 160 GB hard drive</b> <br>  Graphics: <b>Nvidia GeForce Go 7300 with 64MB VRAM</b> <br>  Connectivity: <b>Wi-Fi (802.11b / g and draft-n), 10/100 Ethernet</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As the operating system, a modified OS X v10.4 assembly was installed with Front Row stretched over it. <br>  This configuration was not enough to play small 720p videos, most video files even of this format could not be watched.  Regular films of size 1.4 - 3 Gb and a bit more were played with a bang.  For 2007, it was cool, but now is not the case.  The system is very weak. <br><br>  And all that could be done with the set-top box was to buy / rent movies, watch trailers, later a function to view content from Youtube in low quality was added.  It was possible to sync content with iTunes, data was saved on the hard disk. <br>  It was impossible to stream content from devices via AirPlay, if I'm not mistaken, on the first Apple TV.  I don't remember exactly. <br><br>  Inside there are a cooler and a hard drive, so the console made quite a noticeable noise, at night it was very well heard.  Sometimes you had to turn off the console before bedtime. <br><br>  The device itself is quite beautiful and ergonomic, convenient remote control, there are all the necessary outputs - <b>RCA</b> (sound and video), <b>HDMI, SPDIF, USB</b> (only for service use, it was impossible to connect the disks). <br><img src="https://habrastorage.org/getpro/habr/post_images/e1a/0b5/c6a/e1a0b5c6a707a9464c7c2748a40b5c87.jpg" alt="image"><br><br>  Here is the device before the intervention: <br><img src="https://habrastorage.org/getpro/habr/post_images/53e/ae1/409/53eae1409255354643856d4009dc2d8f.jpg" alt="image"><br><br>  What was done: <br>  1) <b>Replaced operating system.</b>  Once upon a time, brave guys made an <a href="https://code.google.com/p/atv-bootloader/">atv-bootloader</a> , which allowed Linux to boot on this console, and then a young guy, Sam Nazarko, made a ready-made Ubuntu-based operating system with XBMC, which was easily installed on Apple TV.  This miracle is called <a href="http://www.crystalbuntu.com/">Crystalbuntu</a> .  The project has a website and a large <a href="http://forum.stmlabs.com/forumdisplay.php%3Ffid%3D3">forum</a> where they discuss problems and suggestions.  <a href="http://svn.stmlabs.com/listing.php%3Frepname%3Dcrystalbuntu2">Here</a> are the source files. <br><br>  The same person makes a ready-made assembly of <a href="http://www.raspbmc.com/">Raspbmc</a> for Raspberry. <br><br>  The first version was on <b>Ubuntu 8.04</b> and kernel <b>2.6</b> .  About a year ago, test builds appeared on <b>12.04</b> and the kernel <b>3.2.27</b> , and then a full version of <b>Crystalbuntu 2</b> came out.  Installation is reduced to connecting the flash drive with the image and reboot.  You can install the system on the same flash drive without touching the internal hard drive, or you can install it on the internal hard drive.  The second way is better, the system will work faster. <br>  The installer marks the disks himself, configures the system, downloads the latest version of XBMC and the necessary libraries. <br><br>  After installing Linux, the prefix was much quicker, the video in 720p started to play better, but still, in most cases, the power was not enough to play more or less decent content.  Now you can watch videos from network drives, connect external drives, watch videos directly from the Internet. <br><br>  <b>XBMC has</b> opened many new features for the console, there are a huge number of plug-ins available, convenient to use, it looks more beautiful. <br><br>  2) <b>Removed all the noisy elements</b> - the cooler and the hard disk, used to boot from a flash drive, the console was not heard, absolutely.  You are not worried about cooling, the regular cooler did not do much.  Over the years, nothing bad has happened. <br><br>  3) <b>Added hardware video decoder</b> .  Broadcom has a terrific <a href="http://www.broadcom.com/products/features/crystal_hd.php">Crystal HD BCM970015</a> card.  The decoder easily handles the decoding of huge 1080p video files.  This board replaces the BCM970012 and is able to process video hardware H.264 / AVC, MPEG-2, VC-1, WMV9, MPEG-4, DivX¬Æ, Xvid, AVS and also Flash. <br>  With it, you can watch videos of any quality, the console loses 30 GB movies without any problems.  Now you can watch content directly online - plugins for this huge amount in XBMC.  YouTube videos are played in any capacity. <br><br>  The card is inserted instead of the Wi-Fi card (of the same manufacturer, Broadcom :)) in the mini-PCI slot.  This deprives you of a wireless connection; if necessary, you can use an external card via usb. <br><br>  4) <b>Installed SSD</b> .  With a USB flash drive, the console works fine, but it's still not as fast as it could.  After replacing the SSD, the difference is very noticeable, it loads and works very quickly, all menu navigation is very smooth, there are no more delays associated with the file system. <br><br>  In the console there is only an IDE plug (44-pin), so finding the right drive was harder.  On eBay, you can find a 2 ‚Äú5 IDE SSD disk that replaces the old one, but the choice is even better - a DOM disk.  This is a card with soldered memory modules, which is inserted directly into the IDE connector.  Such cards are used in any embedded solutions - cash registers, machine tools, etc. <br>  We need about 2Gb of memory for a ready-made operating system; therefore, the <a href="http://www.ebay.com/itm/Kingspec-8GB-DOM-2CH-MLC-Flash-44Pin-IDE-SSD-HDD-Hard-Disk-On-Module-Female-/121190998323%3Fpt%3DUS_Internal_Hard_Disk_Drives%26hash%3Ditem1c378be133">Kingspec 8Gb</a> disk was enough for us.  It was necessary to connect all the same through a loop, and not directly into the board, because the lock on the IDE connector turned out to be turned in the wrong direction and the board did not fit against the power supply.  It was necessary to immediately check, but the connection through the loop suited me. <br><br>  5) <b>Bought a new remote</b> .  In the first consoles was an old plastic remote.  New aluminum solid consoles, very beautiful, outwardly more suited to the console.  Although, as it turned out over time, the old plastic is more convenient to use. <br><br>  This is how the device looks after the intervention: <br><img src="https://habrastorage.org/getpro/habr/post_images/fbf/d67/cb1/fbfd67cb1ca97a3b83ebb856ff43a937.jpg" alt="image"><br>  (on the left - this is the SSD) <br><br>  My entire media connection is stored on the NAS, which, like the prefix, is connected to a gigabit switch via ethernet, the network speed is enough to write to the NAS and read HD movies with it, there have never been any problems.  XBMC can read from any source - NFS, SMB, FTP, UPnP, you can pick up content from several sources. <br><br>  The opportunity to watch content immediately from the Internet turned out to be very pleasant.  We in Ukraine have sites ex.ua and fs.ua, for which there are <a href="http://code.google.com/p/ex-ua-viewer/">XBMC-plugins</a> .  It has long been no longer shaking serials and many movies, everything can be found there, the Internet speed is enough to watch movies in HD quality without downloading.  Links to your favorite TV shows are easily added to the ‚ÄúFavorites‚Äù directly from the plugin, then easily selected before viewing from the XBMC menu. <br><br>  More buns: <br>  <b>AirPlay</b> is working, there are a lot of applications for managing XBMC using a smartphone.  There is also a very nice thing - a browser plugin that allows you to send videos from YouTube directly to the console.  There are plugins for IPTV. <br><br>  Added a repository of plugins for the Russian-speaking population of <a href="http://code.google.com/p/seppius-xbmc-repo/">seppius-xbmc-repo</a> , it has a huge variety of plug-ins - online TV shows (sites with thousands of TV shows), online TV, radio, video tricks, sites for learning ... <br><br>  Yes, and in the standard XBMC list there are plug-ins for every taste - TED Talks, game channels, VimCasts (Vim lessons), the Mosfilm archive ... <br><br>  <b>MPD installed</b> .  Apple TV has a music balloon mounted directly from the NAS and is added to MPD.  Now all home computers can play music over the network.  The sound system is connected to the console, so now you do not need to bother with the choice of sound source on the speakers, all the music is collected in one place. <br><br>  As for the overall system load.  The processor frequency is automatically adjusted from 600 to 1000 MHz, while watching most movies, the frequency does not rise above <b>600 MHz</b> , while the processor is loaded on average only by half. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6e0/e76/eec/6e0e76eecedda57671a40cdb2ba1e46d.png" alt="image"><br><br>  Here is the system load when viewing a 9Gb, 720p file, the average CPU load ~ 45% <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ade/93e/58e/ade93e58e69fb469a828681c9c1ae353.png" alt="image"><br><br>  When viewing a file of 15Gb, 1080p size, the average CPU load is ~ 70%.  The processor frequency is still 600 MHz. <br><img src="https://habrastorage.org/getpro/habr/post_images/b53/076/28e/b5307628e0d381f313a79a64d86fb751.png" alt="image"><br><br>  There is not a lot of memory in the system, so just in case 1Gb of memory is allocated with an SSD for swap. <br><br>  Also, a good USB sound card was connected to the system, but I didn‚Äôt notice the difference in sound and the card was returned to the desktop computer for use with headphones.  Probably need more expensive audio and better hearing to hear the difference. <br><br>  <b>Cons</b> : There is no hardware button to turn off the console.  You can buy a power outlet with a switch, but your hands do not reach, and there is no special need, the prefix is ‚Äã‚Äãalways on. <br>  There is also no Russian layout in the search menu, but there is a person in Habr√© with an article that made patches.  Russian search is not needed often, but still needed, you will also need to allocate time and do. </div><p>Source: <a href="https://habr.com/ru/post/203162/">https://habr.com/ru/post/203162/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../203148/index.html">Space Station celebrates its 15th anniversary</a></li>
<li><a href="../203154/index.html">Meet: Node.js Tools for Visual Studio</a></li>
<li><a href="../203156/index.html">Generator of visual interfaces with genetic algorithm to help designers</a></li>
<li><a href="../203158/index.html">Tungsten and Mathematica are available for free for Raspberry Pi</a></li>
<li><a href="../203160/index.html">Interview with Elon Musk. Part 1 - how he wanted to become a physicist, but became an entrepreneur</a></li>
<li><a href="../203164/index.html">Wireless HDMI - to every apartment</a></li>
<li><a href="../203166/index.html">DIY for children. We collect USB microscope</a></li>
<li><a href="../203168/index.html">AOL plans to close SHOUTcast and sell Nullsoft assets to Microsoft</a></li>
<li><a href="../203170/index.html">Extension Node.js Tools for Visual Studio</a></li>
<li><a href="../203172/index.html">Brute force attack on github</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>