<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Video rip. Part 2-4. IVTC</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Content 


1. DVD preparation vStrip DGMPGDec 
2. vStrip 
3. DGMPGDec 
4. Video processing What is interlace and what it is eaten with How to determin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Video rip. Part 2-4. IVTC</h1><div class="post__text post__text-html js-mediator-article"><h4>  Content </h4><br><ol><li>  DVD preparation <br><ol><li>  <a href="http://habrahabr.ru/blogs/video_processing/50256/">vStrip</a> </li><li>  <a href="http://habrahabr.ru/blogs/video_processing/50611/">DGMPGDec</a> </li></ol><br></li><li>  Video processing <br><ol><li>  <a href="http://habrahabr.ru/blogs/video_processing/51201/">What is interlace and what it is eaten with</a> </li><li>  <a href="http://habrahabr.ru/blogs/video_processing/61826/">How to determine what we have: progressive, interlaced or telecined?</a> </li><li>  <a href="http://habrahabr.ru/blogs/video_processing/61822/">Getting rid of ordinary interlacing (deinterlace)</a> </li><li>  <b>IVTC</b> </li></ol><br></li><li>  <a href="http://habrahabr.ru/blogs/video_processing/88668/">Squeeze and pack</a> <br></li></ol><br><br>  A lot of time has passed since the publication of the previous part, but somehow I still could not sit down to continue.  This is due to the fact that the IVTC theme is so blurry for me that it‚Äôs even scary to start, but, today, I have a day of idleness, and I decided it was time. <br><br>  What is telecine and why you need it can be refreshed in memory by reading one of the <a href="http://habrahabr.ru/blogs/video_processing/51201/">previous parts</a> .  IVTC is InVerse TeleCine, i.e.  getting rid of this opportunity. <br><a name="habracut"></a><br>  Actually, the video with the usual interlacing in my practice was very rare, almost always there was a pulldown.  Given the number of types of pulldown (as well as possible errors that can be made during the conversion or some kind of "hacks"), getting rid of it becomes an occupation, I would say, intuitive. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Yes, if everything is done qualitatively, it is enough to take a plug-in for AviSynth, twist the settings a little and get a good result, but if something goes wrong, the encoding will turn into hell using several plug-ins at once, and for different pieces of video there will be a different set of them. <br><br>  However, I will not intimidate you again.  Let's see what tools we have. <br><br>  The general algorithm for all plug-ins for IVTC comes down to the following: first, progressive frames are restored, then post-processing is optional, which can help to make progressive frames that could not be recognized at the first stage, and then Decimate procedure is performed to remove duplicate frames and reduce frame rates to a certain standard value. <br><br>  <b>Decomb</b> <br><br>  <a href="http://neuron2.net/decomb/DecombTutorial.html">Here</a> is a good and simple tutorial on this plugin.  I will not retell everything, but in brief I will mention the key points for those who are not at odds with English. <br><br>  1. First, as is the <a href="http://habrahabr.ru/blogs/video_processing/61822/">case with de-interlacing</a> , it is necessary to establish the order of the fields. <br><br> <code>DirectShowSource("00581.mts") <br> AssumeTFF()</code> <br> <br>  2. Then, you need to set the type of pulldown, about which I <a href="http://habrahabr.ru/blogs/video_processing/51201/">wrote here</a> .  What specific tifirki set, see the documentation, because  from version to version they can be changed and supplemented. <br><br> <code>DirectShowSource("00581.mts") <br> AssumeTFF() <br> Telecide(guide=2)</code> <br> <br>  I see that you have a question - "how to determine the type of pulldown."  Ha!  I <a href="http://habrahabr.ru/blogs/video_processing/61826/">wrote</a> about it <a href="http://habrahabr.ru/blogs/video_processing/61826/">here</a> , but in fact all this garbage.  :( A reliable type can only be determined by viewing the video manually frame by frame. And the fact that they write applets by reference can only be used as a hint. <br><br>  And also, in Telecide, you can pass the parameter show = true and open it in the player or in VirtualDub and it will display statistics to you on top of the video.  The original file, of course, does not change. <br><br> <code>DirectShowSource("00581.mts") <br> AssumeTFF() <br> Telecide(guide=1,post=0,show=true)</code> <br> <br>  It looks <a href="">like this</a> . <br><br>  Immediately, in Telecide, post-processing is configured. <br><br> <code>DirectShowSource("00581.mts") <br> AssumeTFF() <br> Telecide(guide=1,post=2,vthresh=30)</code> <br> <br>  3. And, finally, it is necessary to get rid of extra frames.  Note that if you have a PAL video, then Decimate is not necessary. <br><br> <code>DirectShowSource("00581.mts") <br> AssumeTFF() <br> Telecide(guide=1,post=2,vthresh=30) <br> Decimate()</code> <br> <br>  In my experience, Decomb does not work well on hybrid videos.  This is a video that contains part of the frames with pulldown, and part of progressive.  So often encode anime. <br><br>  But in this plugin there are all sorts of subtle settings, by turning which you can certainly achieve a good result. <br><br>  <b>TIVTC</b> <br><br>  But I like this thing more.  By the number of settings, their subtleties can compete with Decomb.  I would even call this plugin user friendly, if at all you can say about AviSynth and its plugins.  :) <br><br>  How to use this plugin in certain situations, I will not tell you either, referring to the documentation, but I will note some points. <br><br>  First of all, great support for hybrid video, there is for this a special setting with several levels. <br><br>  Secondly, support for external post-processing filters, you can even write and connect your own. <br><br>  Third, the possibility of processing in two passes!  This is a very cool opportunity.  In addition to better quality and an increase in processing time, after the second pass, the plugin generates a file with time stamps to collect into matryoshka (mkv).  In other words, you can implement a variable frame rate. <br><br>  Ie, if in some places, for example, in some titles, there are several repeated frames, or, which is not uncommon in the anime, there are several repeated frames even during the action itself, then the plugin will detect and mark it.  Sometimes, it is great to save the size of the output file or to give additional room for compression with a higher bitrate. <br><br>  I will give an example of two avs files. <br><br>  First pass: <br><br> <code>LoadPlugin("Plugins\DGDecode.dll") <br> LoadPlugin("Plugins\tivtc.dll") <br> <br> mpeg2source("D2V\e01.d2v") <br> <br> AssumeTFF() <br> <br> mpeg2source("D2V\e01.d2v") <br> tfm(d2v="D2V\e01.d2v", output="e01_matches.txt") <br> tdecimate(mode=4, output="e01_metrics.txt")</code> <br> <br>  Second pass: <br><br> <code>LoadPlugin("Plugins\DGDecode.dll") <br> LoadPlugin("Plugins\tivtc.dll") <br> <br> mpeg2source("D2V\e02.d2v") <br> <br> AssumeTFF() <br> <br> mpeg2source("D2V\e02.d2v") <br> tfm(d2v="D2V\e02.d2v", input="e02_matches.txt") <br> tdecimate(mode=5, hybrid=2, vfrDec=1, input="e02_metrics.txt", tfmIn="e02_matches.txt", mkvOut="e02_tcode.txt")</code> <br> <br>  See, in the second case, mkvOut = "e02_tcode.txt"?  This is it.  How to use will tell in the part about the collection of matryoshka. <br><br>  I will not say anything more about TIVTC, because I will not say better than in the documentation.  Docks are simple, everything is written very clearly.  Maybe someday I'll do the translation.  Who knows?  :) </div><p>Source: <a href="https://habr.com/ru/post/88654/">https://habr.com/ru/post/88654/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../88641/index.html">SMS fraud and Beeline</a></li>
<li><a href="../88645/index.html">Evil Meter: Chinese "indicator of viciousness"</a></li>
<li><a href="../88646/index.html">Nintendo Announces 3DS Portable Console</a></li>
<li><a href="../88648/index.html">Android-based ZenPad Enso Tablet</a></li>
<li><a href="../88650/index.html">EiskaltDC ++. First release number 2.0</a></li>
<li><a href="../88657/index.html">Retro mobile concept</a></li>
<li><a href="../88659/index.html">MTS allows you to pay for SMS to short numbers in debt</a></li>
<li><a href="../88661/index.html">Extending IntelliSense for XAML Editor Visual Studio 2010</a></li>
<li><a href="../88665/index.html">EA will sell "long demos" before the official release</a></li>
<li><a href="../88666/index.html">Class library for working with the Yandex.Foto API service</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>