<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Evaluate the effectiveness of Guetzli - optimization time and compression ratio</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Images contribute the most to web page size. According to many experts, the optimization of images, their compression is the number one priority in th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Evaluate the effectiveness of Guetzli - optimization time and compression ratio</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/web/549/752/176/549752176f2d4fec9085568dfc2e781a.jpg"></div><br>  Images contribute the most to web page size.  According to many experts, the optimization of images, their compression is the number one priority in the list of activities to accelerate the performance of sites.  For this, various compression methods can be used - lossy or lossless, as well as conversion to other formats - SVG or WebP. <br><br>  Since the theme of image optimization is still relevant, Google recently introduced a new open source image compression algorithm called Guetzli.  In this article we will understand what it is, how it works and compare its performance with other widely used image compression algorithms. <br><a name="habracut"></a><br><h2>  What is Guetzli? </h2><br><br>  Guetzli is a ‚Äúcookie‚Äù of the German-speaking Swiss, a new JPEG image compression algorithm promoted by Google.  According to Google, Guetzli compresses images up to 35% more efficiently than other algorithms currently known.  Guetzli is similar to Google‚Äôs other algorithm, Zopfli, and also does not require users to change file formats. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To demonstrate the difference between the compression results of the Guetzli algorithm and the commonly used libjpeg, Google gives the following picture: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/8e5/7a7/c2f/8e57a7c2f42c4550adf44e45764d8e85.png"></div><br>  On the left - the original image, in the center - compressed using libjpeg, on the right - Guetzli.  As you can see, there are actually fewer artifacts on the processed Guetzli image. <br><br>  And now Google says it‚Äôs possible to achieve smaller images without significant loss of quality, but the problem with Guetzli is that it takes much longer to process the image, and besides, it does not create progressive JPEG.  This may be crucial for you when choosing an image encoder, or it may not be, but in any case - below we have cited some of the characteristics of the new encoder in comparison with the well-known and widely used ones. <br><br><h2>  How to compress images using Guetzli? </h2><br>  Before delving into the comparison, we will discuss how to use this algorithm for your purposes.  This can be done in several ways: <br><br><ul><li>  <a href="https://github.com/google/guetzli" rel="nofollow">Download and install Guetzli directly from GitHub</a> </li><li>  <a href="https://imageoptim.com/mac" rel="nofollow">Use latest version of ImageOptim</a> </li><li>  <a href="http://nikkhokkho.sourceforge.net/static.php%3Fpage%3DFileOptimizer" rel="nofollow">Use FileOptimizer</a> </li></ul><br>  Depending on your needs, the installation process may vary.  For the purpose of this article, Guetzli was installed using <a href="https://brew.sh/" rel="nofollow">Homebrew</a> according to the instructions for installation on Mac OS located on GitHub. <br><br><ol><li>  Install Homebrew </li><li> Enter <code>brew install guetzli</code> </li></ol><br><h2>  Guetzli versus Lossy Compression and WebP </h2><br>  The tests described below illustrate the difference in compression time and the final file size for Guetzli, lossy compression, and with the WebP format.  For all cases, the quality parameter was set to 85. The snippet for encoding with Guetzli looked like this: <br><br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">time</span></span> guetzli <span class="hljs-comment"><span class="hljs-comment">--quality 85 --verbose imagename.jpg output.jpg</span></span></code> </pre> <br>  It should be noted that the quality parameter of Guetzli cannot be lower than 84, so if you need even more compression, you need to take another tool.  Quality parameter 85 was chosen according to Google JPEG compression guidelines. <br><br><blockquote>  Reduce quality to 85 if it is higher.  A higher quality setting leads to a rapid increase in file sizes, but the visual quality changes little. </blockquote><br>  The <a href="https://optimus.keycdn.com/support/image-compression-api/" rel="nofollow">Optimus developer API</a> was used for lossy compression and WebP format.  To test the algorithms, we took 4 images: <br><img src="https://habrastorage.org/web/53e/a7b/6f1/53ea7b6f1641427e8ec2a34a9fef0ade.png"><br><table><thead><tr><th>  File </th><th>  The size </th><th>  Guetzli </th><th>  Lossy </th><th>  Webp </th></tr></thead><tbody><tr><td>  test-1.jpg </td><td>  712 Kb </td><td>  67 Kb / 38.30 s </td><td>  83 Kb / 2s </td><td>  53 Kb / 3c </td></tr><tr><td>  test-2.jpg </td><td>  1.7 MB </td><td>  231 Kb / 81s </td><td>  238 Kb / 4s </td><td>  254 Kb / 3s </td></tr><tr><td>  test-3.jpg </td><td>  2.2 MB </td><td>  346 Kb / 150s </td><td>  416 Kb / 4s </td><td>  344 Kb / 4s </td></tr><tr><td>  test-4.jpg </td><td>  4.6 MB </td><td>  478 Kb / 286 s </td><td>  499 Kb / 5s </td><td>  322 Kb / 5s </td></tr></tbody></table><br>  As can be seen from the results, the winner is WebP in both compression speed and file size.  With the exception of image number 2. <br><br>  The average time to optimize these images with Guetzli was 2 minutes 31 seconds.  Since Guetzli squeezes more efficiently than lossy compression, it seems to be clear that it must spend more time on it.  But WebP compresses even more efficiently, and works ten times faster.  But WebP changes the image format, which is not always acceptable. <br><br><h2>  Pros and Cons Guetzli </h2><br>  Based on the test results and on what features are built into Guetzli, it can be said that the new encoder has both advantages and disadvantages.  On the one hand, it actually encodes better than many other libraries, on the other hand, it requires an incomparably longer time. <br><br><h3>  Behind </h3><br><ul><li>  Creates smaller files than other lossy compression algorithms </li><li>  Preserves file type (unlike WebP, which changes file format and extensions) </li><li>  Compatible with all browsers, since the image remains in JPEG format </li></ul><br><h3>  Vs </h3><br><ul><li>  It works much slower than other compression algorithms. </li><li>  WebP compresses smaller files when compressed </li><li>  Does not support progressive jpeg </li><li>  Prevents quality setting below 84 </li></ul><br><h2>  Summary </h2><br><del>  Everything is bad. </del>  Guetzli creates smaller files than most other encoders.  In addition, the files compressed with this algorithm have a much higher visual quality.  But the big problem is the time spent on image processing.  If time is not a crucial parameter for you, then Guetzli would be a good option. <br><br>  On the other hand, tests show that WebP creates smaller files and spends tens of times less time on it.  Yes, it is not supported by all browsers, this is a minus, but there are ways to get around this problem.  In particular, some WordPress plug-ins give out to browsers that do not support WebP original PNG or JPEG images. </div><p>Source: <a href="https://habr.com/ru/post/329766/">https://habr.com/ru/post/329766/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../329754/index.html">How to tell what Agile is at the factory? Top 5 Most Popular Agile Practices</a></li>
<li><a href="../329756/index.html">Anonymity in Tor: what not to do</a></li>
<li><a href="../329758/index.html">IT project with schoolchildren: a few recommendations</a></li>
<li><a href="../329760/index.html">Implementation of the access system in its own corporate messenger: part one</a></li>
<li><a href="../329762/index.html">How to apply ‚Äúbig data‚Äù in insurance: ITMO University projects</a></li>
<li><a href="../329768/index.html">The fading border between corporate and personal accounts</a></li>
<li><a href="../329772/index.html">Designing and developing a template engine in C # and ANTLR</a></li>
<li><a href="../329774/index.html">Biometrics: not as difficult as it seems</a></li>
<li><a href="../329776/index.html">Why it was worth visiting OS Day 17</a></li>
<li><a href="../329778/index.html">Brief history of random numbers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>