<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Saving contact information from sites</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon, colleagues! 

 Once upon a time, without having a full account on Habre, I wrote an article in the sandbox, hoping to get an invite. I...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Saving contact information from sites</h1><div class="post__text post__text-html js-mediator-article">  Good afternoon, colleagues! <br><br>  Once upon a time, without having a full account on Habre, I wrote an article in the sandbox, hoping to get an invite.  I didn't get an invite, and I thought the article went nowhere.  Today, looking through the Google App Engine logs, I found a link from the site, which turned out to be my article from the sandbox.  Leaving behind the question of the correctness of such a publication, I want to thank the kind people I <a href="http://ajc.su/">did</a> not know from the <a href="http://ajc.su/">ajc.su</a> website for <a href="http://ajc.su/">saving</a> my article for me.  :) But, actually, on the topic. <br><br>  The first time the idea came to me when I needed to rent an apartment.  I looked through the ads on Cyan and called back the most interesting ones.  After a couple of calls, I realized that it was necessary to somehow arrange telephone calls - to save not only numbers, but also addresses, and at the same time descriptions of apartments.  At this point, I realized that with all the development of the Internet, contact information still had to be processed by hand ‚Äî at best, block by block and stored somewhere.  Given that the contact is an object similar to, for example, a calendar.  But if the button ‚ÄúAdd an event to the calendar‚Äù already exists on many sites, then I have not yet seen the button ‚ÄúAdd a contact to the address book‚Äù.  I decided to fill this gap, and I want to share the results of my thoughts and ideas. <br><a name="habracut"></a><br><h5>  Who needs it? </h5><br>  The first thing that I thought about, realizing the problem - and it is relevant for someone other than myself.  Common sense suggested that there must be someone else besides me, for whom this problem is relevant, it remains only to understand who these people are. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      From my own experience - this is apparently the tenants of apartments in the search for proposals on the sites.  Surely the realtors themselves who view the ads in the same way will be interested.  Another big group is headhunters and HRs.  These are all people who regularly have new contacts that need to be contacted (call and write) repeatedly. <br><br>  I think that there are other groups of people who would be interested to have such an opportunity. <br><br><h5>  General approach </h5><br>  In the task of processing contacts from the site, I see two steps: <br><br><ol><li>  Getting contact information from the site </li><li>  Contact Manipulation </li></ol><br><br>  The task of the first stage can be solved in three ways: <br><br><ol><li>  Parser page by reference </li><li>  Link script for the site </li><li>  Browser Plugin </li></ol><br><br>  At the second stage, the obtained contact information can be: <br><br><ol><li>  Show as QR code </li><li>  Save as vCard file </li><li>  Forward as vCard via SMS </li><li>  Save to Google Contacts </li><li>  Save to MS Exchange Notebook </li><li>  Use for VoIP-call </li></ol><br><br>  I think that this is not a complete list, but at least I have listed the main possible actions. <br><br><h5>  Getting contact information </h5><br>  The initial idea was to allocate phone numbers heuristically using various patterns.  But this is an unreliable method ‚Äî not every sequence of numbers, even if it looks like a telephone number, is one.  In addition, it is not at all possible for me to select heuristically names and addresses. <br>  Currently, I see the most promising analysis of the <a href="http://microformats.org/wiki/hcard-ru">hCard</a> markup.  Firstly, in this markup the contact information is already structured, and secondly, it is promoted by <a href="http://help.yandex.ru/webmaster/%3Fid%3D1111573">Yandex</a> .  Although, of course, this approach involves a certain cooperation on the part of webmasters - the responsibility for marking up contact information falls on them. <br><br><h5>  Parser page by reference </h5><br>  This method seems to me not very convenient.  First, the page with contact information will be requested twice - the first time by the user to see its contents, and the second time by the server to get contact from this page.  This somewhat increases the load on the server hosting the requested page and distorts the attendance statistics.  Secondly, this method does not apply to pages of sites that are shown only to authorized users.  However, this approach is already implemented <a href="http://h2vx.com/vcf/">here</a> .  The author of this service is Tantek √áelik, one of the co-authors of the hCard microformat. <br><br><h5>  Link script for the site </h5><br>  This method of obtaining contact information involves placing JavaScript on the site (for example, in the form of a plug-in to jQuery), which scans the page for hCard markup on it and adding links to it to transfer the received contact for further processing. <br>  With this approach, the contact can be selected from any page - accessible only to authorized users, or dynamically generated.  True, this approach involves a great cooperation from the webmaster - it is assumed that he not only does hCard markup, but also places the script on the site. <br><br><h5>  Browser Plugin </h5><br>  This approach is similar to the previous one, but with the difference that the script selecting the contact from the page markup does not work in the context of the site page, but in the context of the browser.  It allows the user to get contact from any pages containing hCard markup.  The disadvantage of the approach is the need to create plug-ins for all popular browsers (Chrome, FF, IE, Opera), despite the fact that the plug-in systems are different.  Although not so long ago, here, on Habr√©, an article about the framework ran through, allowing you to create plugins for all browsers at once. <br><br><h5>  Contact Manipulation </h5><br>  The contact obtained in one way or another can be further processed in some way.  Methods of processing (hereinafter - actions) for myself, I divide into two groups: <br><br><ol><li>  Save </li><li>  Call / Contact </li></ol><br><br>  At the moment I imagine how to implement the actions of the Save group.  The actions of the group ‚ÄúCall‚Äù I put it off for later, for a more detailed study. <br><br><h6>  Show QR Code </h6><br>  This action involves converting the received contact to a vCard, and then encoding it into a QR code.  The easiest way to code is to use the Google <a href="http://code.google.com/intl/ru/apis/chart/infographics/docs/qr_codes.html">Charts API</a> .  All that is required is to create a link to the Google service, specifying the line containing the VCard-representation of the contact as one of the parameters. <br><br><h6>  Save VCF file </h6><br>  The action also involves converting the contact to vCard, and then sending it as a server response with the corresponding headers to the browser. <br><br><h6>  Save to Google Contacts </h6><br>  This action is somewhat more complicated than the previous ones, since it will require not only converting the contact to the XML format GData (an element of the Contact type), but also processing the authorization of access to Google Contacts via OAuth.  This, as it turned out, is not so difficult, but the documentation available on <a href="https://developers.google.com/google-apps/contacts/v3/">Google Developers</a> on this issue is not very intelligible.  I intend to devote a separate article to this issue. <br><br><h5>  A few words in conclusion </h5><br>  I translated all my thoughts into a prototype <a href="http://www.act4contact.com/">service</a> , which I called Act4Contact.  He is now working on Google App Engine (and I am afraid that the free version of the service is unlikely to withstand the blog effect and not exceed the quota), there are no interface beauties in it and the AJAX interface that has now become the de facto standard, but it can already Your main task is to form a contact from the hCard markup and save it. <br><br>  I plan to develop this service and bring it to working condition, in this connection I will be glad if someone becomes interested and is ready to join efforts with me in this direction.  I would also be interested to receive feedback from webmasters - I suppose that the presentation of contact information in the form of a ‚Äúmanipulable‚Äù object should increase the conversion due to the fact that for the user the contact page will not be the last, after which its interaction with the site goes from the virtual plane to the physical (dial the phone number), but continues the interaction and makes it smoother.  Therefore, I invite those who are interested to conduct a joint experiment on transforming contact information from a text form into an object-manipulative one and see how justified it is. <br><br>  And further.  During the work on this task, I already had several topics that I can share.  For example, talk about working with the Google Contacts API.  I think that continuing to work on the service will give more than one topic in order to share it with you. <br><br>  <b>UPD</b> : According to the results of the discussion of the idea, a project team was formed consisting of me, <a href="https://habrahabr.ru/users/strange_r/" class="user_link">Strange_R</a> and another person.  If there are still willing to join - write in a personal. </div><p>Source: <a href="https://habr.com/ru/post/147126/">https://habr.com/ru/post/147126/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../147121/index.html">Vacancy of the administrator / business analyst MS Dynamics Navision</a></li>
<li><a href="../147122/index.html">Evaluation of operators at Asterisk</a></li>
<li><a href="../147123/index.html">‚ÄúNefigigism‚Äù - the experience of creating a non-commercial project (three years of exposure)</a></li>
<li><a href="../147124/index.html">Cloning objects in Node.js: Faster, deeper, more tender!</a></li>
<li><a href="../147125/index.html">Detailed video review Android 4.1 Jelly Bean</a></li>
<li><a href="../147128/index.html">Little C-function from the underworld</a></li>
<li><a href="../147129/index.html">I want my Luna Park with Fortran and C</a></li>
<li><a href="../147132/index.html">Ultrabook Software Contest: Let‚Äôs give free rein to our fantasy!</a></li>
<li><a href="../147133/index.html">MVC approach to developing user interfaces in Delphi. Part 1. Tick</a></li>
<li><a href="../147134/index.html">White Nights Results: Mobile Games Conference</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>