<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Backup storage overview ExaGrid EX21000E - test with Veeam Backup & Replication</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In one of our previous posts ‚ÄúOptimum storage architecture of virtual infrastructure backups‚Äù we already talked about the basic principles of organizi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Backup storage overview ExaGrid EX21000E - test with Veeam Backup & Replication</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/03f/f0b/3e4/03ff0b3e47ef4c6fbd753a0d030837fc.jpg"><br><br><p>  In one of our previous posts <a href="http://habrahabr.ru/company/veeam/blog/206170">‚ÄúOptimum storage architecture of virtual infrastructure backups‚Äù</a> we already talked about the basic principles of organizing the storage of backup copies of the virtual environment.  Continuing the theme, we publish an overview of a specialized data storage system with data deduplication <strong>ExaGrid EX21000E</strong> , designed specifically for storing copies.  One of the advantages of the storage is that it works <a href="http://www.exagrid.com/exagrid-products/supported-backup-applications">with</a> almost <a href="http://www.exagrid.com/exagrid-products/supported-backup-applications">any backup software</a> .  Against the background of competitors with a diametrically opposite approach, ExaGrid is clearly distinguished by its democracy in matters of compatibility and deep integration with third-party software. </p><br><br><p>  It is always nice when the usual software runs with a new piece of hardware, and there is no need to acquire something ‚Äúspecial‚Äù, and then spend time on additional settings.  Colleagues from StorageReview decided to check how this thesis is applicable to <strong>Veeam Backup &amp; Replication</strong> and ExaGrid EX21000E.  And we, in turn, invite you to get acquainted with the new ExaGrid repository in our translation.  Welcome for details and conclusions under cat. </p><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>  So, <strong>ExaGrid EX21000E is</strong> designed to back up data and offers the user <strong>21TB</strong> for their storage.  At the same time, the device has 42TB of total usable capacity (48TB RAW) and is ‚Äúsharpened‚Äù for fast recovery.  Like other members of the ExaGrid family, the array divides its volume into two parts: half of the capacity is given to the Landing Zone, and the remaining space is used for long-term storage of deduplicated copies.  Landing Zone provides a quick return of services and applications to a healthy state.  The idea is that 90% of the restorations involve working with the data of the <em>latest</em> copy, so you can place them in a special area of ‚Äã‚Äãthe array without compression and save on decompression and de-duplication. </p><br><br><p>  There is one problem with backup storage: when expanding capacity with new modules, performance starts to sink, because all the disks are connected to one ‚Äúhead‚Äù.  ExaGrid gracefully circumvented this complexity by choosing <strong>an expansion circuit with a computing controller in each expansion module</strong> .  Due to this, with the growth of business capacity is increased simultaneously with the volume.  Such a horizontal scaling at the same time will allow you to avoid a radical rework of the network and infrastructure, usually inevitable with the growth of data volumes.  For example, you can combine 14 EX21000E devices into a GRID network, resulting in <strong>588TB</strong> usable capacity. </p><br><br><img src="https://habrastorage.org/files/901/73f/a2d/90173fa2dce34c92addcc2d073a27b50.jpg"><br><br><br><p>  Located in remote data centers, the storage can be completely given for data storage, without landing zone and fast recovery.  So many companies can store a larger number of old copies without the expense of a fairly expensive place in the main repositories.  Deduplication takes place in parallel, speeding up the process and reducing the backup window. </p><br><br><p>  In addition to speed, backup durability is important for backup repositories, so ExaGrid spent a lot of time fighting the obsolescence of their systems.  Still, the storage of this company has <strong>never been removed from support</strong> , and their different generations are quite capable of working together in one GRID.  As a result, when buying an ExaGrid, you can be sure that the system is compatible with future developments of the company.  This feature also simplifies the upgrade of the entire infrastructure, since the increase in volumes does not imply the replacement of most of the server park. </p><br><br><p>  <strong>The EX21000E</strong> supports more than 20 third-party recovery options, such as GRT (Granular Restore) and OST (Symantec Open Storage Technology).  The work of the storage with all this ‚Äúout of the box‚Äù significantly speeds up the implementation of any size infrastructure.  If the company has increased requirements for information security, then you can choose a complete set with the function <strong>SED</strong> (Self-Encrypting Drive), which will automatically encrypt backups. </p><br><br><p>  It is worth the hero of our review is not cheap, about $ 50,000. </p><br><br><h2>  Characteristics and the iron part </h2><br><br><ul><li>  Raw \ usable capacity: 48 \ 42TB; </li><li>  The maximum volume of a full copy: 21TB; </li><li>  Form factor: 4U; </li><li>  Processor: Intel Xeon E3‚Äì1230 v2 (8M, 3.30GHz); </li><li>  RAM: 32GB; </li><li>  Network: <br><ul><li>  6x Ethernet 1Gb (can be expanded up to 8 ports); </li><li>  Optional 2x Ethernet 10Gb; </li></ul></li><li>  Power supply: 10‚Äì240VAC; </li><li>  Heat dissipation: 1146 BTU / hr. </li></ul><br><br><p>  <strong>ExaGrid EX21000E</strong> in format - a typical 4U server, fully equipped with 24 2TB SAS disks.  In our copy of the installed drives Seagate Constellation ES.3 7K SAS.  The design of the front panel is quite austere and demonstrates a minimum of buttons and indicators, but for geek esthetes a removable ‚Äúdesigner‚Äù front panel is available on request.  Every whim for your money. </p><br><br><p>  All discs are equipped with a locking mechanism with a swivel handle and a latch - a proven and quite convenient solution for hot swapping.  Speaking of replacement: do not be embarrassed by the lack of markings on the disk slots - the manufacturer has provided in the console a rather clear layout for the drives.  In addition, the status indicators are in place and will necessarily indicate ‚Äúvictim‚Äù. </p><br><br><img src="https://habrastorage.org/files/e78/e79/ebc/e78e79ebc3f747de95955d4521f8df21.png"><br><br><br><p>  To simplify installation, ExaGrid completes its systems with convenient screwless "rails".  There is nothing special to note, the installation went without a hitch and the search tool.  The main thing is not to try to work alone - this weight involves working in four hands. </p><br><br><img src="https://habrastorage.org/files/863/d8a/d44/863d8ad447d04a6ab5f294d73bd8fd5a.jpg"><br><br><br><p>  The back panel of the storage as usual is full of sockets and interfaces: you can see a pair of hot-plug power supplies and 6 1GbE ports for management, replication, and data.  Our copy is slightly modified, one of the cards in it has been replaced by a dual-port 10GbE adapter. </p><br><br><p>  From an iron point of view, we have a completely familiar Intel server with a 4-core 3.3GHz processor and 32GB of memory.  All this is well managed by a specialized Linux-based OS, and the storage subsystem is built on a hardware controller and pre-configured in RAID6 with a pair of hot-spare disks.  The storage physically contains as much as 42TB of capacity, but the model number clearly indicates that only half is available.  As we wrote above, the device is logically divided into landing- and deduplication- sections of equal volume, which allows speeding up the restoration of the last copy. </p><br><br><h2>  The convenience of use </h2><br><br><p>  Responding only for data storage, the ExaGrid EX21000E is very easy to use.  In most cases, this means the need to create only a few network folders for different backup tasks, and everything else is configured in the backup application.  In our case, one shared folder was created, after which Veeam was sent to it via a 10-gigabit channel. </p><br><br><img src="https://habrastorage.org/files/d74/a93/fe0/d74a93fe0e0c453b85c957ff75fdba83.png"><br><br><br><p>  The storage is supported by almost any backup software, and for review we took Veeam Backup &amp; Replication.  Most storage systems with deduplication require the presence of so-called ‚Äúrehydration‚Äù (de-duplication) during data recovery, which drastically reduces performance.  Instead, ExaGrid uses the Landing zone for recovery without sacrificing performance.  In addition, this architecture allows you to comfortably use the storage for working with <a href="http://habrahabr.ru/company/veeam/blog/166221/">Veeam vPower</a> , <a href="http://habrahabr.ru/company/veeam/blog/206170/">Instant Recovery</a> , <a href="http://habrahabr.ru/company/veeam/blog/162201/">SureBackup</a> , <a href="http://habrahabr.ru/company/veeam/blog/182144/">Virtual Lab</a> .  From the point of view of long-term storage, everything is fine too - you can combine the capabilities of the EX21000E and Veeam deduplication, getting impressive coefficients from 8: 1 to <strong>10: 1</strong> at the output. </p><br><br><img src="https://habrastorage.org/files/c7a/ad3/eba/c7aad3eba7fd4a5cafa3ef24c0c88528.png"><br><br><br><p>  To see how everything works there, you can use the ExaGrid console and evaluate how much space is used, how successful deduplication is, and how long the process will take.  In a larger installation, replication is configured via the same web interface and all GRID modules of the storage system can be managed. </p><br><br><img src="https://habrastorage.org/files/5ef/3b9/36b/5ef3b936bfee48588b50e0df343edfca.png"><br><br><br><p>  Broad support for a variety of backup software is not limited to a simple compatibility list.  In addition, ExaGrid offers the user a huge database of supporting PDF and ready-made scripts available directly from the storage console.  All documents contain detailed how-tos with what you need from your storage and software to run a specific script;  important is the presence of "best practices" in the description.  Moreover, all this good will always be at your fingertips in 24/7 mode and without access to the Internet.  This feature is sure to appreciate those administrators who have to support multiple backup systems in the same organization. </p><br><br><h2>  Using ExaGrid with Veeam </h2><br><br><p>  In order to evaluate ExaGrid in real conditions, we installed Veeam Backup &amp; Replication 7.0 in the vSphere 5.1 environment.  From an architectural point of view, in medium and large infrastructures, they usually try to separate the backup storage from the management software.  But not every application allows you to do this - many backups work differently, performing all the roles on one machine. </p><br><br><p>  In large installations, the backup server processor usually becomes a bottleneck, quickly being overloaded with multiple simultaneous compression and deduplication processes.  To reduce the load, Veeam, for example, allows you to distribute roles across multiple ESXi hosts for a more even use of their processing power. </p><br><br><img src="https://habrastorage.org/files/1d8/ead/01f/1d8ead01fbd4478490b2e49d8108b9bf.png"><br><br><br><p>  Integration of Veeam Backup with ExaGrid EX21000E is configured in a few steps.  First of all, you need to create a shared folder on the storage with Veeam specified as the <em>application type</em> .  Next, in the Veeam console, add a new repository based on the ExaGrid folder.  For the test, we created several repositories for each backup task, since the EX21000E best deduplicates the data of <em>sequentially</em> executed tasks.  After preparing the ‚Äúsoil‚Äù, you can create a backup task to which you simply add a list of protected virtual machines and specify the target repository. </p><br><br><img src="https://habrastorage.org/files/107/129/046/1071290469784a9bba934a2bddc2d031.png"><br><br><br><p> For effective deduplication from the ExaGrid side, it is important to specify the correct compression parameters in the properties of the Veeam task.  Here, the main thing is to avoid ‚Äúredeplication‚Äù, and try not to interfere with the storage operation.  In the properties of each backup task, select the ‚ÄúAdvanced settings‚Äù section and mark the following parameters: </p><br><br><ul><li>  Enable deduplication (Enable inline data deduplication); </li><li>  Choose compression "Dedupe-friendly"; </li><li>  Optimization of data blocks is left at the ‚ÄúLAN target‚Äù level. </li></ul><br><br><p>  By the way, the bonus from the joint deduplication of Veeam and ExaGrid will be the multiplication of the coefficient: 2: 1 from Veeam and 4: 1 from the repository give a total of <strong>8: 1</strong> . </p><br><br><img src="https://habrastorage.org/files/817/14d/ce6/81714dce648649c3a72e21b55935a685.png"><br><br><br><p>  For the preparation of this review, the ExaGrid EX21000E was used for <em>two weeks</em> as the primary repository for all copies of the lab.  Veeam was configured for a nightly full backup of all virtual machines, which by the end of the test period occupied 3.17TB disks with a total size of <strong>65.8TB</strong> virtual machines.  Thus, an impressive deduplication ratio of <strong>20.73: 1</strong> was obtained from the ExaGrid side.  But after evaluating the combined statistics of Veeam and ExaGrid deduplication broken down by backup job, the situation has changed a bit. </p><br><br><img src="https://habrastorage.org/files/e6d/05d/356/e6d05d35647e4a738bc9a15078060d64.png"><br><br><br><p>  To better understand where these figures come from, remember that for two whole weeks <strong>full</strong> backup copies were created.  To put it mildly, these are tons of the same material for deduplication.  Within each individual task there were also enough ‚Äúduplicates‚Äù: </p><br><br><ul><li>  BMF Backup: 12 Windows Server 2012 machines for testing SQL Server, with minimal changes per day (machine size 240GB); </li><li>  StorageReview Lab: 52 Windows and Linux machines with a very small daily delta.  Machines weigh approximately 2.6TB; </li><li>  FileServer: virtual Windows Server 2012 R2 for media data with average changes per day.  2.1TB; </li><li>  NAS Lab: 8 Windows Server 2008 R2 servers for testing backups on NAS.  272GB and minimum daily "delta"; </li><li>  MailServer LAB: 21 Windows Server 2008 R2 machines for VMmark.  Weight 1.5TB and minor daily changes; </li><li>  OlioWeb Lab, DS2Web Lab, OlioDB Lab, DS2DB Lab: a total of 120 Linux servers for VMmark tests, the changes are minimal.  3.38TB; </li><li>  Client Lab: 32 Windows Server 2008 R2 and 2012 machines for VMmark and a couple of other tests, the changes are still minimal.  Machines weigh 3.3TB; </li><li>  LoadGen and IPoIB Backup: 22 Windows Server 2012 for FIO testing, 1TB.  On changes all the same. </li></ul><br><br><img src="https://habrastorage.org/files/f9d/6d0/3b8/f9d6d03b811941f4b20815257db9bae2.png"><br><br><br><p>  Although impressive deduplication schedules are important for any storage, <strong>recovery of information after an accident</strong> will always be the most critical element.  In this regard, Veeam works with varying degrees of detail: from individual files of the guest VM to instant recovery of the entire machine (Instant Recovery).  For any work environment where money is lost due to the shutdown of services, it is difficult to overestimate the rapid return of the application to its normal state.  In such a scenario, Veeam and ExaGrid work very well together using Veeam Instant Recovery technology and the ExaGrid fast recovery zone.  Other storage systems spend extra time rehydrating data from a deduplicated copy, while the EX21000E has information <strong>ready for use</strong> in that same landing-zone. </p><br><br><p>  The tests showed that the VM recovered in this way worked very quickly, but still not as much as when using the main ESXi storage system (which is expected).  After the ‚Äúreanimation‚Äù is completed, the virtual machine can be left to work on the ExaGrid or you can use the Storage vMotion to transfer to the production storage. </p><br><br><h2>  findings </h2><br><br><p>  <strong>ExaGrid EX21000E</strong> offers a 42TB ‚Äúraw‚Äù capacity, half of which is used as a quick recovery zone for the latest copy.  This approach allows you to make copies much faster than traditional repositories with deduplication.  We get even more benefits when recovering, because rehydration does not occur at all.  As a result, we get backup speeds <strong>like high-performance disk systems</strong> , combined with the high storage efficiency inherent in classic dedupe devices. </p><br><br><p>  A fast-growing business will appreciate the capabilities of the EX21000E to ‚Äúbuild muscle‚Äù from 1 to 210TB (without large-scale ‚Äúupgrades‚Äù, risks of obsolescence, without stretching the backup time).  The repository supports replication to other GRID network systems <strong>without sacrificing</strong> backup <strong>performance</strong> , and the initial setup and collaboration with Veeam Backup does not cause difficulties.  Integrated directly into the interface, an extensive knowledge base is a convenient tool for solving emerging problems.  The results showed high storage efficiency: a two-week marathon backup with ExaGrid demonstrated <strong>deduplication with a factor of 20.73: 1</strong> (virtual machines with a volume of 65.8TB occupied only 3.17TB in the storage).  Recovery from the landing zone was also easy and beautiful, with the expected speed. </p><br><br><p>  <strong>Pros:</strong> </p><br><br><ul><li>  Integration with virtually any backup software; </li><li>  Special zone in the storage for quick recovery of the latest copy; </li><li>  Scale-out architecture for convenient performance increase in proportion to volumes; </li><li>  Acceptable cost for an "adult" solution. </li></ul><br><br><p>  <strong>Minuses:</strong> </p><br><br><ul><li>  It would be nice to use battery cache in the EX21000E to protect against data loss.  For example, with power problems. </li></ul></div><p>Source: <a href="https://habr.com/ru/post/241981/">https://habr.com/ru/post/241981/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../241961/index.html">The power of attraction of IT companies to each other</a></li>
<li><a href="../241965/index.html">Effective management of personal files</a></li>
<li><a href="../241967/index.html">Correlation Analysis or Why Strange Correlations Exist</a></li>
<li><a href="../241975/index.html">Closing the entrepreneur: how to minimize the business</a></li>
<li><a href="../241979/index.html">SA 3009008 to disable SSL 3.0 in MS IE</a></li>
<li><a href="../241983/index.html">jQuery 3.0: future generations</a></li>
<li><a href="../241985/index.html">A new video service for learning English by excerpts from the TV series</a></li>
<li><a href="../241989/index.html">Welcome to CocoaHeads Moscow October 31</a></li>
<li><a href="../241993/index.html">#DevNightMinsk</a></li>
<li><a href="../241995/index.html">Geek competition: how we did it (part 2) and the results</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>