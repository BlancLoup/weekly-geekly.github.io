<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Integration of some features of Scoreloop social gaming network into an Android application</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tables of records appeared in games many, many years ago. At first they were very simple, remember, for example, games for consoles with three-charact...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Integration of some features of Scoreloop social gaming network into an Android application</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/70a/d3f/331/70ad3f3312be87c2ab105e07a731f408.png" align="left">  Tables of records appeared in games many, many years ago.  At first they were very simple, remember, for example, games for consoles with three-character player names. <br><br>  Over time, the record tables became more complicated, the results became possible to publish on the Internet to see themselves in the global list. <br><br>  Nowadays, in the days of the Internet, social networks and mobile devices, high score tables have grown into entire social gaming networks. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Below I will talk about the integration into my Android application of one of these social gaming networks called Scoreloop. <a name="habracut"></a><br><br><h4>  Main features </h4><br><img src="https://habrastorage.org/storage2/2e3/e56/e65/2e3e56e65cf033a9241ce1f03199d392.png" align="right">  <a href="http://www.scoreloop.com/">Scoreloop</a> provides SDK for applications on Android, Bada, iOS and Windows Phone 7, opening access to the following features: <br><ul><li>  Points and results table.  A player can score points during the game, which are sent to the server and can then be shown as a global table, best points per day, a table based on nationality, based on geographic location, or a table among player's friends. </li><li>  Fights  A player can call another player to a duel: the first competitor, having gained a certain number of points, sends the result to the server, setting the reward for the duel (a certain amount of money in the in-game currency).  Another person can accept the challenge and try to beat this result.  The winner receives an award. </li><li>  Awards and achievements.  A player can receive rewards in the in-game currency for certain achievements (find and kill all monsters at the level, complete the level without killing any monster, etc.) </li><li>  Social posts.  A player can send e-mail, MySpace, Facebook and Twitter messages about certain events, such as receiving a certain number of points, creating a duel, winning a duel, receiving a reward, information about the game or an invitation to join Scoreloop. </li><li>  Activity  A player can receive messages about events that happened to his friends, or from any player passing the same level as him.  For example: "Player001 received 50 points in the game SLDemoCore". </li><li>  News.  The developer can show the news directly to the player within the game. </li></ul>  In our game we will try to integrate points and the table of best results (Leaderboard in terms of Scoreloop). <br><br><h4>  Result table </h4><br>  <b>Step 1.</b> Register on <a href="http://developer.scoreloop.com/">developer.scoreloop.com</a> (without this, it will not work) and <a href="https://developer.scoreloop.com/releases/latest">download the SDK</a> (the link only works if you are logged in) <br><br>  <b>Step 2.</b> Add our application, get the game id and secret code for it. <br><br>  Then you can go two ways - use the CoreSocial SDK and do it all by hand or use ScoreloopUI and get a ready UI for the results table, etc.  We will go the second way. <br><br>  <b>Step 3.</b> Unzip the SDK to a directory. <br><br>  I assume that you are using Eclipse to develop your application.  We open the ScoreloopUI project from the SDK using the File -&gt; Import -&gt; Existing Projects Into Workspace command. <br><br>  Then connect the ScoreloopUI project to your project as a library (right-click on the project of your game, select 'Properties', select 'Android', click the 'Add' button in the 'Library' section, find the ScoreloopUI project and select it). <br><br>  You also need to connect the scoreloop-core.jar library to your project (Project -&gt; Properties -&gt; Libraries -&gt; Add external JAR) <br><br>  <b>Step 4.</b> Set the required permissions for your application. <br><br><blockquote>  <font color="#808080">&lt;! - Permission configuration required by Scoreloop -&gt;</font> <br>  <font color="#009900"><font color="#000000">&lt;uses-permission</font> <font color="#000066">android: name</font> = <font color="#ff0000">"android.permission.INTERNET"</font> <font color="#000000">/&gt;</font></font> <br>  <font color="#009900"><font color="#000000">&lt;uses-permission</font> <font color="#000066">android: name</font> = <font color="#ff0000">"android.permission.READ_PHONE_STATE"</font> <font color="#000000">/&gt;</font></font> <br>  <font color="#009900"><font color="#000000">&lt;uses-permission</font> <font color="#000066">android: name</font> = <font color="#ff0000">"android.permission.READ_CONTACTS"</font> <font color="#000000">/&gt;</font></font> </blockquote><br>  Obviously, the application will need Internet access (INTERNET).  I don‚Äôt know exactly what READ_PHONE_STATE is for, and READ_CONTACTS can be omitted if you set ui.feature.address_book = false in the scoreloop.properties file. <br><br>  <b>Step 5.</b> Specify ScoreloopUI activations that your application will use. <br><br><blockquote>  <font color="#808080">&lt;! - Defining the ScoreloopUI activities -&gt;</font> <br>  <font color="#009900"><font color="#000000">&lt;activity</font> <font color="#000066">android: name</font> = <font color="#ff0000">"com.scoreloop.client.android.ui.EntryScreenActivity"</font> <font color="#000066">android: theme</font> = <font color="#ff0000">"@android: style / Theme.Black.NoTitleBar.Fullscreen"</font> <font color="#000000">/&gt;</font></font> <br>  <font color="#009900"><font color="#000000">&lt;activity</font> <font color="#000066">android: name</font> = <font color="#ff0000">"com.scoreloop.client.android.ui.ShowResultOverlayActivity"</font> <font color="#000066">android: theme</font> = <font color="#ff0000">"@ style / sl_dialog"</font> <font color="#000000">/&gt;</font></font> <br>  <font color="#009900"><font color="#000000">&lt;activity</font> <font color="#000066">android: name</font> = <font color="#ff0000">"com.scoreloop.client.android.ui.component.market.MarketHeaderActivity"</font> <font color="#000000">/&gt;</font></font> <br>  <font color="#009900"><font color="#000000">&lt;activity</font> <font color="#000066">android: name</font> = <font color="#ff0000">"com.scoreloop.client.android.ui.component.market.MarketListActivity"</font> <font color="#000000">/&gt;</font></font> <br>  <font color="#009900"><font color="#000000">&lt;activity</font> <font color="#000066">android: name</font> = <font color="#ff0000">"com.scoreloop.client.android.ui.component.entry.EntryListActivity"</font> <font color="#000000">/&gt;</font></font> <br>  <font color="#009900"><font color="#000000">&lt;activity</font> <font color="#000066">android: name</font> = <font color="#ff0000">"com.scoreloop.client.android.ui.component.post.PostOverlayActivity"</font> <font color="#000066">android: theme</font> = <font color="#ff0000">"@ style / sl_dialog"</font> <font color="#000000">/&gt;</font></font> <br>  <font color="#009900"><font color="#000000">&lt;activity</font> <font color="#000066">android: name</font> = <font color="#ff0000">"com.scoreloop.client.android.ui.component.score.ScoreHeaderActivity"</font> <font color="#000000">/&gt;</font></font> <br>  <font color="#009900"><font color="#000000">&lt;activity</font> <font color="#000066">android: name</font> = <font color="#ff0000">"com.scoreloop.client.android.ui.component.score.ScoreListActivity"</font> <font color="#000000">/&gt;</font></font> <br>  <font color="#009900"><font color="#000000">&lt;activity</font> <font color="#000066">android: name</font> = <font color="#ff0000">"com.scoreloop.client.android.ui.component.user.UserAddBuddyListActivity"</font> <font color="#000000">/&gt;</font></font> <br>  <font color="#009900"><font color="#000000">&lt;activity</font> <font color="#000066">android: name</font> = <font color="#ff0000">"com.scoreloop.client.android.ui.component.user.UserHeaderActivity"</font> <font color="#000000">/&gt;</font></font> <br>  <font color="#009900"><font color="#000000">&lt;activity</font> <font color="#000066">android: name</font> = <font color="#ff0000">"com.scoreloop.client.android.ui.component.user.UserDetailListActivity"</font> <font color="#000000">/&gt;</font></font> <br>  <font color="#009900"><font color="#000000">&lt;activity</font> <font color="#000066">android: name</font> = <font color="#ff0000">"com.scoreloop.client.android.ui.component.user.UserListActivity"</font> <font color="#000000">/&gt;</font></font> <br>  <font color="#009900"><font color="#000000">&lt;activity</font> <font color="#000066">android: name</font> = <font color="#ff0000">"com.scoreloop.client.android.ui.component.game.GameDetailHeaderActivity"</font> <font color="#000000">/&gt;</font></font> <br>  <font color="#009900"><font color="#000000">&lt;activity</font> <font color="#000066">android: name</font> = <font color="#ff0000">"com.scoreloop.client.android.ui.component.game.GameDetailListActivity"</font> <font color="#000000">/&gt;</font></font> <br>  <font color="#009900"><font color="#000000">&lt;activity</font> <font color="#000066">android: name</font> = <font color="#ff0000">"com.scoreloop.client.android.ui.component.game.GameListActivity"</font> <font color="#000000">/&gt;</font></font> <br>  <font color="#009900"><font color="#000000">&lt;activity</font> <font color="#000066">android: name</font> = <font color="#ff0000">"com.scoreloop.client.android.ui.component.profile.ProfileSettingsListActivity"</font> <font color="#000000">/&gt;</font></font> <br>  <font color="#009900"><font color="#000000">&lt;activity</font> <font color="#000066">android: name</font> = <font color="#ff0000">"com.scoreloop.client.android.ui.component.profile.ProfileSettingsPictureListActivity"</font> <font color="#000000">/&gt;</font></font> <br>  <font color="#009900"><font color="#000000">&lt;activity</font> <font color="#000066">android: name</font> = <font color="#ff0000">"com.scoreloop.client.android.ui.LeaderboardsScreenActivity"</font> <font color="#000066">android: theme</font> = <font color="#ff0000">"@android: style / Theme.Black.NoTitleBar.Fullscreen"</font> <font color="#000000">/&gt;</font></font> <br>  <font color="#009900"><font color="#000000">&lt;activity</font> <font color="#000066">android: name</font> = <font color="#ff0000">"com.scoreloop.client.android.ui.framework.ScreenActivity"</font> <font color="#000066">android: theme</font> = <font color="#ff0000">"@android: style / Theme.Black.NoTitleBar.Fullscreen"</font> <font color="#000000">/&gt;</font></font> <br>  <font color="#009900"><font color="#000000">&lt;activity</font> <font color="#000066">android: name</font> = <font color="#ff0000">"com.scoreloop.client.android.ui.framework.TabsActivity"</font> <font color="#000000">/&gt;</font></font> </blockquote><br>  <b>Step 6.</b> Get the scoreloop.properties file <br><br>  Return to the scoreloop.com web panel, set the game properties (Game Properties tab), then click the ‚ÄúGet scoreloop.properties‚Äù link on the same page and save the scoreloop.properties file in the / assets folder of your project. <br><br>  <b>Step 7.</b> Initialization and destruction of the Scoreloop framework <br><br>  To initialize and destroy framework classes, use the ScoreloopManagerSingleton class.  Please note that the operations described below must be performed in the application class, not activated.  When you create an application class (if you do not already have one), do not forget to specify the name of the application class in the application tag of your manifest. <br><br>  Initialization: <br><br><blockquote>  ScoreloopManagerSingleton.  <font color="#006633">init</font> <font color="#009900">(</font> <font color="#000000">this</font> , <font color="#0000ff">"secret code received via the web interface"</font> <font color="#009900">)</font> <font color="#339933">;</font> </blockquote><br>  Destruction: <br><br><blockquote>  ScoreloopManagerSingleton.  <font color="#006633">destroy</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> </blockquote><br>  In addition, the SDK strongly recommends that all calls be implemented within the main UI flow.  If your application uses streams, it is recommended that you use Android Handler objects (http://developer.android.com/reference/android/os/Handler.html) and call the ScoreloopUI API from the main thread. <br><br>  <b>Step 8.</b> Sending the result of the game to the server <br><br>  Your activation should implement the OnScoreSubmitObserver interface.  It consists of the onScoreSubmit method, which will be called after sending points to the server (obviously, this operation takes time and it is impossible to block the UI stream for such time). <br><br>  We register activations as an observer of the results of sending: <br><br><blockquote>  ScoreloopManagerSingleton.  <font color="#006633">get</font> <font color="#009900">(</font> <font color="#009900">)</font> .  <font color="#006633">setOnScoreSubmitObserver</font> <font color="#009900">(</font> <font color="#000000">this</font> <font color="#009900">)</font> <font color="#339933">;</font> </blockquote><br>  Sending points to the server: <br><br><blockquote>  <font color="#003399">Double</font> scoreResult <font color="#339933">=</font> <font color="#cc66cc">1450.0</font> <font color="#339933">;</font> <br>  ScoreloopManagerSingleton.  <font color="#006633">get</font> <font color="#009900">(</font> <font color="#009900">)</font> .  <font color="#006633">onGamePlayEnded</font> <font color="#009900">(</font> scoreResult, <font color="#000066">null</font> <font color="#009900">)</font> <font color="#339933">;</font> </blockquote><br>  In the onGamePlayEnded method, the second parameter is the game mode (for example, easy, complex, etc.).  Since we have not configured the modes through the web interface, we pass null. <br><br>  <b>Step 9.</b> Displaying the results table <br><br>  With this, everything is quite simple: <br><br><blockquote>  startActivity <font color="#009900">(</font> <font color="#000000">new</font> Intent <font color="#009900">(</font> <font color="#000000">this</font> , LeaderboardsScreenActivity. <font color="#000000">class</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#339933">;</font> </blockquote><br>  Here's what it looks like: <br><br><img src="https://habrastorage.org/storage2/f0e/5e2/c92/f0e5e2c92cc6bedd4e6345108ca30cb7.png"><br><br><h4>  Branding </h4><br>  Scoreloop for using its service requires that the icon of your application have a small Scoreloop logo on top of the main image, such as here: <br><br><img src="https://habrastorage.org/storage2/e60/244/897/e60244897bd90a086b7aaeea9d99ef58.png"><br><br>  This is supposedly done so that users can immediately see that this application is integrated with Scoreloop and began to download it with terrible force, but we know that ... <br><br><h4>  Afterword </h4><br>  If any questions remain incomprehensible, I will try to answer in the comments.  In addition, the SDK includes detailed and very clear documentation. <br><br>  You can see the integration results described in this article in the Qbrix game ( <a href="https://market.android.com/details%3Fid%3Dorg.levasoft.qbrix">link to Market</a> , <a href="">link to .apk</a> ): <br><br><img src="https://habrastorage.org/storage2/f67/5b2/22c/f675b222cf69c6721fd0cce567a9a48b.png"><br><br>  PS Taking this opportunity, I want to say thanks to the authors of articles on the <a href="http://habrahabr.ru/blogs/android_development/133858/">integration of AdMob</a> and <a href="http://habrahabr.ru/blogs/android_development/123542/">ACRA</a> into the Android application.  These guides saved me a few hours of development. </div><p>Source: <a href="https://habr.com/ru/post/136218/">https://habr.com/ru/post/136218/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../136209/index.html">CyberPlat has closed acceptance of credit cards from abroad</a></li>
<li><a href="../136210/index.html">Why C is faster than Java (from the perspective of a Java developer)</a></li>
<li><a href="../136213/index.html">We are 1 year old!</a></li>
<li><a href="../136214/index.html">[archlinux testing news] / usr support on a separate section</a></li>
<li><a href="../136216/index.html">Facebook allows you to listen to music with friends</a></li>
<li><a href="../136219/index.html">MSP430 Lunchpad Review and Test Project</a></li>
<li><a href="../136220/index.html">The first batch of 25-dollar computers Raspberry Pi entered production</a></li>
<li><a href="../136221/index.html">Playstation 4 will not be introduced in June</a></li>
<li><a href="../136222/index.html">Manual: Pyramid for People - Part 2</a></li>
<li><a href="../136224/index.html">We build a tracked Bluetooth robot with a camera. Part 3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>