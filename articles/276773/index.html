<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Over-provisioning resources in mesos-based clusters</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The Apache mesos developers claim that mesos has learned to do overprovisioning since version 0.23.0, released last September. To do this, we introduc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Over-provisioning resources in mesos-based clusters</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/018/cfd/8a5/018cfd8a56364e609821e20fc76381da.jpg" alt="image"><br>  The Apache mesos developers <a href="http://mesos.apache.org/documentation/latest/oversubscription/">claim</a> that mesos has learned to do overprovisioning since version 0.23.0, released last September.  To do this, we introduced the concept of revocable resources, and if an application runs on revoked resources, it can always be asked to free resources partially (throttle) or completely (kill).  Determine which resources the task will run on during the startup phase by marking some (or all) of the resources requested by the task as <code>revocable</code> . <br><br><a name="habracut"></a><br>  In practice, to use this feature you need: <br><br><ul><li>  Declare REVOCABLE_RESOURCES support when registering framework with mesos </li><li>  Connect to the mesos slave resource estimator module, which would estimate the amount of reclaimed resources (for example, measuring the difference between consumed and allocated resources) and predicted changes in resource consumption (for example, based on a statistical model) </li><li>  Connect the QoS Controller module to the mesos slave, which would kill or limit the tasks running on the reclaimable resources. </li></ul><br>  As can be seen from the requirements above, for the effective use of the proposed model, some support is required from the tasks carried out in mesos, at least in terms of managing consumed resources.  Of course, it would be very cool to write a resource estimator tied to the application logic, but even predictions based on daily statistics of load changes will give a good effect. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Complete with mesos now comes a pair of resource estimators: <br><br><ul><li>  <code>noop</code> - stub prohibiting oversubscription </li><li>  <code>fixed</code> - allows declaring a fixed number of host resources to be revoked. </li></ul><br>  and a couple of qos controllers: <br><br><ul><li>  <code>noop</code> - disable host-level resource recall </li><li>  <code>load</code> - can kill all the tasks performed on the recalled resources, if the load average on the host exceeds the threshold values </li></ul><br>  Unfortunately, the good news ends here because  support from widespread frameworks is virtually absent. <br><br>  In <strong>Marathon,</strong> for example, support for revocable resources is so far extremely poorly implemented: <br><br><ul><li>  The first paragraph of requirements is <a href="https://github.com/mesosphere/marathon/blob/releases/0.15/src/main/proto/mesos/mesos.proto">made purely formally</a> in release 0.15.0. </li><li>  There is a quarterly <a href="https://mesosphere.com/blog/2015/08/26/turbocharging-your-mesos-cluster-with-oversubscription/">article</a> in the corporate blog. </li><li>  There is a <a href="https://github.com/mesosphere/marathon/issues/2424">open issue</a> for support for revocable (resource) offers with extremely sluggish discussion. </li></ul><br>  By the way, in the aforementioned <a href="https://mesosphere.com/blog/2015/08/26/turbocharging-your-mesos-cluster-with-oversubscription/">article</a> there is a statement which is useful for showing to the management, who demands to optimize the use of resources based on low utilization of cpu on the hosts, for example: <br>  <em>It is often 20%.</em> <br><br>  In <strong>kubernets</strong> , and even less - managed to find one <a href="https://github.com/kubernetes/kubernetes/issues/19529">unpopular issue</a> with a mention of the problem. <br><br>  Thus, on the basis of the mesos-marathon stack, it will not be possible to use over-provisioned resources, which obviously affects the cost-effectiveness of the solution. <br></div><p>Source: <a href="https://habr.com/ru/post/276773/">https://habr.com/ru/post/276773/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../276757/index.html">Configuring Intel Edison Board for Microsoft Azure IoT suite</a></li>
<li><a href="../276759/index.html">For the first time in 10 years ... we have redesigned the site.</a></li>
<li><a href="../276761/index.html">Email and Security: Is it possible to protect email correspondence?</a></li>
<li><a href="../276763/index.html">Add reflection for enums in C ++</a></li>
<li><a href="../276771/index.html">Writing chat on Vert.x 3</a></li>
<li><a href="../276775/index.html">New version of Visual Studio Tools for Unity has been released.</a></li>
<li><a href="../276777/index.html">Viber for Windows and message history</a></li>
<li><a href="../276779/index.html">Sign up for new online courses from Mail.Ru Group on Stepic</a></li>
<li><a href="../276781/index.html">REST + RPC API based service technology is done in turbo mode</a></li>
<li><a href="../276783/index.html">The digest of news from the world of development on Unity</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>