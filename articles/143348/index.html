<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Twice straight. Same phone number for St. Petersburg and Moscow</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Do you do internet service in Russia? Then almost always most of the clients will be located in Moscow and St. Petersburg. For Habr, for example, this...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Twice straight. Same phone number for St. Petersburg and Moscow</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/3ca/dd2/c6c/3cadd2c6cc84d99abaf026c7a9b39042.png"><br>  Do you do internet service in Russia?  Then almost always most of the clients will be located in Moscow and St. Petersburg.  For Habr, for example, <a href="http://habrahabr.ru/info/stats/">this is 54%</a> . <br>  It is more convenient for buyers from both capitals to call local landlines. <br><br>  How can you improve the solution of this problem? <br><a name="habracut"></a><br>  <b>What they wanted</b> <br><ul><li>  Opportunity in case of moving to take your phone number with you </li><li>  For the trust site is important direct city number </li><li>  A couple of incoming lines - now, scaling later </li><li>  All the joy of working with digital lines (recording, forwarding, blah blah blah) </li><li>  Reasonable price calls to the regions, including mobile phones. </li></ul><br>  <b>+ desirable</b> <br><ul><li>  Relatively beautiful room </li><li>  Moscow number 495, not 499 </li><li>  Less monthly subscription </li></ul><br>  <b>There was also a dream</b> <br>  Find the same city phone number in St. Petersburg and in Moscow. <br><br>  Viewed a bunch of sites, heard very convincing reasons why it is difficult and expensive. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>What did in the end</b> <br>  Two lines of SIP + Asterisk + two identical direct numbers (812) 640-07xx and (495) 640-07xx. <br>  This solution is comfortable for buyers from both major cities.  We have 80% of buyers. <br><br>  Incoming calls from any number are placed in a common queue. <br>  Outgoing calls are made as follows: <br>  On phones with code 495 and 499, we call from the Moscow number, <br>  for all the rest we do from St. Petersburg number. <br>  Calls to mobile phones (the code starts at 9) are as follows: <br>  A request to the database of orders left on the site checks which city has been selected for delivery. <br>  If the city is Moscow or in the Moscow region, then the Moscow direction is chosen. <br>  In all other cases - calls from St. Petersburg numbers. <br><img src="https://habrastorage.org/storage2/280/659/c34/280659c34640ea5054e854ac0d44a23d.png"><br><br>  It‚Äôs done this way because there is no reliable base for binding the mobile operator‚Äôs code to the city.  In addition, Russia promises to keep the phone number when changing the cellular operator. <br><br>  In the following article: <br>  Retail vs online store </div><p>Source: <a href="https://habr.com/ru/post/143348/">https://habr.com/ru/post/143348/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../143342/index.html">Web must die</a></li>
<li><a href="../143344/index.html">Touching design: introduction</a></li>
<li><a href="../143345/index.html">On detecting drive-by download attacks and new malware distribution vectors via Flash banners</a></li>
<li><a href="../143346/index.html">Stateless and Statefull pages in Wicket 1.4</a></li>
<li><a href="../143347/index.html">All JavaScript libraries in one place</a></li>
<li><a href="../143349/index.html">‚ÄúRunet today‚Äù, May 5, 2012. Experts of the issue: Ilya Ponomarev, Victor Zakharchenko</a></li>
<li><a href="../143350/index.html">Digest of new materials in Russian MSDN for April</a></li>
<li><a href="../143351/index.html">The campaign "Plant your domain" was successful!</a></li>
<li><a href="../143352/index.html">Microsoft may be collecting a developer version of the new Xbox</a></li>
<li><a href="../143353/index.html">And again crowdfunding: today in American</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>