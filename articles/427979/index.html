<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Writing a game on LWJGL</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Creating a Game on LWJGL # 1 


 Writing a game is a complex and interesting process that takes a lot of time. In this series of articles I will expla...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Writing a game on LWJGL</h1><div class="post__text post__text-html js-mediator-article"><h1>  Creating a Game on LWJGL # 1 </h1><br><p>  Writing a game is a complex and interesting process that takes a lot of time.  In this series of articles I will explain how to create a simple 3D Java game using the LWJGL library. </p><br><p>  To create your game you need the following: </p><br><ul><li>  Ability to write Java code (minimum required: understanding of the work of conditions, cycles, strings, arrays, functions, classes) </li><li>  Development Environment (I will use Eclipse) </li><li>  LWJGL library </li><li>  Video card that supports OpengGL version not lower than 3.3 </li><li>  Free time </li><li>  Idea </li></ul><br>  Who cares, I ask under the cat. <br><a name="habracut"></a><br><h2>  Step one, preparation </h2><br>  <a href="https://vertex-academy.com/tutorials/ru/ustanovka-zapusk-eclipse/">How to install Eclipse</a> . <br><br>  Download <a href="https://sourceforge.net/projects/java-game-lib/files/Official%2520Releases/LWJGL%25202.9.3/">LWJGL 2.9.3</a> , 3D graphics library, <a href="http://basehomesite.ucoz.ru/forum/15-22-1">add</a> it to your project. <br><br>  Download <a href="http://slick.ninjacave.com/slick-util/">slick-util</a> , a library that simplifies texture loading, add it to the project. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Step two, check </h2><br>  First of all, create the Main class in the main package, put the following code into it: <br><br><img src="https://habrastorage.org/webt/ie/y4/bw/iey4bw60d2rj7jl-jpx85ass_yk.png"><br><br>  If the line with input is not highlighted in red, then everything is OK (on the screen it is highlighted in yellow, because this library is not used in the code). <br><br><h2>  Step Three, Display </h2><br>  Fill the Main class with the following code: <br><br><div class="spoiler">  <b class="spoiler_title">Start code</b> <div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.lwjgl.LWJGLException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.lwjgl.opengl.Display; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.lwjgl.opengl.DisplayMode; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Main</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> width = <span class="hljs-number"><span class="hljs-number">800</span></span>, height = <span class="hljs-number"><span class="hljs-number">600</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> DisplayMode mainDisplayMode = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DisplayMode(width, height); <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> running = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">update</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Display.wasResized()) { width = Display.getWidth(); height = Display.getHeight(); } Display.update(); Display.sync(<span class="hljs-number"><span class="hljs-number">60</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Display.isCloseRequested()) { running = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { Display.setLocation( (Display.getDesktopDisplayMode().getWidth() - mainDisplayMode.getWidth()) / <span class="hljs-number"><span class="hljs-number">2</span></span>, Display.getDesktopDisplayMode().getHeight() - mainDisplayMode.getHeight()) / <span class="hljs-number"><span class="hljs-number">2</span></span>); Display.setResizable(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); Display.setVSyncEnabled(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); Display.setDisplayMode(mainDisplayMode); Display.create(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (LWJGLException ex) { System.err.println(ex.getStackTrace().toString()); Display.destroy(); System.exit(<span class="hljs-number"><span class="hljs-number">1</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (running) { update(); } Display.destroy(); System.exit(<span class="hljs-number"><span class="hljs-number">0</span></span>); } }</code> </pre> <br></div></div><br>  So what happens here: <br><br><pre> <code class="java hljs">Display.setLocation( (Display.getDesktopDisplayMode().getWidth() - mainDisplayMode.getWidth()) / <span class="hljs-number"><span class="hljs-number">2</span></span>, (Display.getDesktopDisplayMode().getHeight() - mainDisplayMode.getHeight()) / <span class="hljs-number"><span class="hljs-number">2</span></span>); Display.setResizable(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); Display.setVSyncEnabled(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); Display.setDisplayMode(mainDisplayMode); Display.create();</code> </pre><br>  In these lines: <br><br><ol><li>  sets the display position (in the center of the screen) </li><li>  it is allowed to change its size </li><li>  vertical sync is on </li><li>  set DisplayMode in which screen sizes and some other parameters are stored </li><li>  in the last line the display is created and displayed on the screen. </li></ol><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">update</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Display.wasResized()) { width = Display.getWidth(); height = Display.getHeight(); } Display.update(); Display.sync(<span class="hljs-number"><span class="hljs-number">60</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Display.isCloseRequested()) { running = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } }</code> </pre><br>  In the update function, which is called in an infinite loop: <br><br><ol><li>  Check window resizing </li><li>  Display update </li><li>  In the Display.sync (60) line, the display synchronizes with 60 hertz (if you have a different screen refresh rate, for example, 59, 76, 120, 144, etc., set your frequency). </li><li>  Check closing window </li></ol><br>  Notice how the program ends when the user clicks on the cross, the window‚Äôs close flag, Display.isCloseRequested () becomes true, and the running variable becomes false, and at the next iteration the while (running) cycle does not execute and the display will go to .destroy (), which will destroy the display and System.exit (0), the call of which will end the program. <br><br><h2>  Step Four, OpenGL </h2><br>  To initialize OpenGL to the main function before the while (running) loop, add the following code: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!GLContext.getCapabilities().OpenGL33) { System.err.println(<span class="hljs-string"><span class="hljs-string">"    OpenGL 3.3."</span></span>); System.exit(<span class="hljs-number"><span class="hljs-number">0</span></span>); }</code> </pre><br>  This code checks if the video card supports OpenGL 3.3, if the video card does not support this version, try updating the drivers or switching to another video card (if you have more than one). <br><br>  So, the check is done, if everything is fine, the video card supports OpenGL 3.3, then we move on.  After the verification code, before the loop, add the following code: <br><br><pre> <code class="java hljs">glShadeModel(GL_SMOOTH); glEnable(GL_TEXTURE_2D); glEnable(GL_DEPTH_TEST); glClearColor(<span class="hljs-number"><span class="hljs-number">1f</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>, <span class="hljs-number"><span class="hljs-number">1f</span></span>);</code> </pre><br>  This code will configure OpenGL as follows: <br><br><ol><li>  Turn on soft lighting in shaders </li><li>  Turn on textures </li><li>  Turn on depth checking (so that near objects overlap distant objects) </li><li>  Set the cleaning color </li></ol><br>  In the loop while (running), before calling the function update (), we add the line <br><br><pre> <code class="java hljs">glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);</code> </pre><br>  Which will clear the color buffer and depth buffer each time the screen is updated. <br><br><h2>  Summary code </h2><br><div class="spoiler">  <b class="spoiler_title">Click to view</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.lwjgl.opengl.GL11.GL_COLOR_BUFFER_BIT; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.lwjgl.opengl.GL11.GL_DEPTH_BUFFER_BIT; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.lwjgl.opengl.GL11.GL_DEPTH_TEST; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.lwjgl.opengl.GL11.GL_SMOOTH; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.lwjgl.opengl.GL11.GL_TEXTURE_2D; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.lwjgl.opengl.GL11.glClear; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.lwjgl.opengl.GL11.glClearColor; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.lwjgl.opengl.GL11.glEnable; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.lwjgl.opengl.GL11.glShadeModel; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.lwjgl.LWJGLException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.lwjgl.opengl.Display; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.lwjgl.opengl.DisplayMode; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.lwjgl.opengl.GLContext; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Main</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> width = <span class="hljs-number"><span class="hljs-number">800</span></span>, height = <span class="hljs-number"><span class="hljs-number">600</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> DisplayMode mainDisplayMode = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DisplayMode(width, height); <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> running = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">update</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Display.wasResized()) { width = Display.getWidth(); height = Display.getHeight(); } Display.update(); Display.sync(<span class="hljs-number"><span class="hljs-number">60</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Display.isCloseRequested()) { running = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { Display.setLocation((Display.getDesktopDisplayMode().getWidth() - mainDisplayMode.getWidth()) / <span class="hljs-number"><span class="hljs-number">2</span></span>, (Display.getDesktopDisplayMode().getHeight() - mainDisplayMode.getHeight()) / <span class="hljs-number"><span class="hljs-number">2</span></span>); Display.setResizable(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); Display.setVSyncEnabled(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); Display.setDisplayMode(mainDisplayMode); Display.create(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (LWJGLException ex) { System.err.println(ex.getStackTrace().toString()); Display.destroy(); System.exit(<span class="hljs-number"><span class="hljs-number">1</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!GLContext.getCapabilities().OpenGL33) { System.err.println(<span class="hljs-string"><span class="hljs-string">"    OpenGL 3.3."</span></span>); System.exit(<span class="hljs-number"><span class="hljs-number">0</span></span>); } glShadeModel(GL_SMOOTH); glEnable(GL_TEXTURE_2D); glEnable(GL_DEPTH_TEST); glClearColor(<span class="hljs-number"><span class="hljs-number">1f</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>, <span class="hljs-number"><span class="hljs-number">1f</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (running) { glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); update(); } Display.destroy(); System.exit(<span class="hljs-number"><span class="hljs-number">0</span></span>); } }</code> </pre><br></div></div><br>  This concludes the first article on writing a game on LWJGL, if the survey contains more than 50% positive responses, I will continue to write a series of articles. </div><p>Source: <a href="https://habr.com/ru/post/427979/">https://habr.com/ru/post/427979/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../427961/index.html">How Yandex tried to copy my heat map service</a></li>
<li><a href="../427965/index.html">SXSW history: how did the biggest festival around culture, media and technology begin</a></li>
<li><a href="../427969/index.html">Entertaining mathematics. The most economical number system</a></li>
<li><a href="../427971/index.html">"Save" the old software - three projects that do it</a></li>
<li><a href="../427975/index.html">The new bill on the protection of large user data (BPDN)</a></li>
<li><a href="../427981/index.html">How to survive indie developer. Part 1</a></li>
<li><a href="../427983/index.html">Messengers vs social network vs ... - announcement of a new project</a></li>
<li><a href="../427985/index.html">Onkyo's ISCP / eISCP protocol: control of Onkyo devices over the network</a></li>
<li><a href="../427987/index.html">Google launched domains to quickly create documents</a></li>
<li><a href="../427989/index.html">Entertaining prologue # 3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>