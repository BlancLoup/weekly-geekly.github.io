<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Building an Ethernet network for IP video surveillance</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Market interest in IP cameras is quite understandable. They have many advantages: a wide choice of devices, flexibility of software functionality, a g...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Building an Ethernet network for IP video surveillance</h1><div class="post__text post__text-html js-mediator-article">  Market interest in IP cameras is quite understandable.  They have many advantages: a wide choice of devices, flexibility of software functionality, a good picture, easy integration into the computer infrastructure.  It is time to think about how it is most convenient and economical to build a stable data transmission environment for scalable video-based IP cameras.  Just throwing the optics and connecting to it the first set of media converters that came across and unpretentious hubs is also a way out, but fraught with many problems in the future.  It makes sense to investigate the problem more deeply. <br><br>  There are a lot of questions.  What is the wiring diagram?  Before laying the cable, the question arises: how to lay?  What cable to put?  How many fibers should there be?  And what, it is also necessary to cook it?  What active equipment to use? ... Etc. <br><br>  Let's look at all these questions in order, using the example of an abstract territory. <br><a name="habracut"></a><br>  In fig.  ‚Ññ1 given the scheme of such a territory. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/00b/24b/212/00b24b2127e7436e84acc6a5264d7f86.jpg" alt="image"><br>  <i>Pic1</i> <br><br>  The layout, the choice of the type and the required number of cameras, we omit their direction, since these questions require a separate article.  The perimeter of our territory is about 1550 meters.  Suppose that 15 IP cameras located within a radius of 100 meters from the cabinets will suffice for video surveillance.  This distance is due to the fact that the Ethernet standard regulates the operating state of a segment with a length of no more than 100 meters.  Currently, the de facto standard is the use of POE technology, which allows powering the camera from the switch over the same UTP cable it is connected to.  This solves a lot of problems associated with the supply of electricity, since in this case it is enough to power the control cabinet with the switch, and you can no longer take care of the power supply of the camera. <br><br>  Thus, we get from 2 (in the diagram: a circle labeled ‚Äú2k‚Äù) to 3 (in the diagram: a circle labeled ‚Äú3k‚Äù) cameras per cabinet. <br><br>  It would be reasonable to combine these cabinets with a server optical cable using 2 directions (shown in the diagram in red and blue).  In Figure 2, both cable directions, cabinets, and the ‚Äúpossible‚Äù position of Cabinet No. 7 are added, which we, for example, were not going to be assembled at this stage, but we want this opportunity to be in the future. <br><br><img src="https://habrastorage.org/files/995/63a/d44/99563ad4487c4dc8b92111d6fe12c0cc.jpg" alt="image"><br>  <i>Pic2</i> <br><br>  Now the question arises: what cable design to use?  The answer to this question depends largely on the method of installation.  For example, if there are pillars along the territory perimeter, then it is more reasonable to use a ‚Äúsuspension cable with a portable power element‚Äù.  The design of this cable is shown in Fig.  3 <br><br><img src="https://habrastorage.org/files/3bc/a38/40c/3bca3840c77c4b5580f1f9583da8d55c.jpg"><br>  <i>Pic.3</i> <br><br>  Using the nomenclature of one of the major suppliers of optical cable, Integra, the model of such a cable will be called IR / T-M4P-Ax.  The last 2 characters mean: ‚ÄúA‚Äù is a single-mode cable, and the number of fibers is put in place of the ‚Äúx‚Äù.  For example, "A8" is 8 single-mode fibers. <br><br>  If you plan to lay the cable in the ground, or mount along the fence, it is wiser to choose a design with light armor.  See fig.  four <br><br><img src="https://habrastorage.org/files/02a/87c/c35/02a87cc353e947da8bee25288f68be50.jpg"><br>  <i>Pic.4</i> <br><br>  According to the same nomenclature of the Integra company, the model will be called ICL-M4P-Ah. <br><br>  In real projects, combinations of these as well as the use of other structures are possible, but the cables described above are used most often. <br><br>  The type of cable was chosen, but now the question arises, how to combine it all at the level of optical fibers, or in other words: ‚ÄúHow are we going to cook, customer?‚Äù <br><br>  Here it is worth considering all three possible scenarios.  In short, to put it all together: <br><br>  - consistently "bus"; <br>  - star using individual fibers / fiber on the optical connection. <br><br>  At this stage it is necessary to build the so-called ‚Äúwelding plan‚Äù.  Why is it needed?  Well, first of all, you, as a customer, will have in front of you a detailed wiring diagram, which later will come in handy during the operation.  Secondly, inviting an engineer-welder from the side, or giving tasks to his specialist, there is no other way to clearly and clearly set the task.  And, thirdly, on this scheme all 3 variants of the connections will be visible, which we will now consider. <br><br><img src="https://habrastorage.org/files/0af/bcc/92c/0afbcc92cfde49c7a6b8407b11452664.jpg"><br>  <i>Pic.5</i> <br><br>  So, option number 1: consistently "bus", is given in Fig.  ‚Ññ5.  The black dots on this diagram indicate the places of welding, the black squares indicate the connectors, and the lines ending with a small dash are loosely left fibers. <br><br>  As can be seen from the diagram, only 2 fibers will be involved in the cable, including when adding a new cabinet.  In case there are more than 2 fibers in the cable, during the installation stage it is recommended to weld free fibers, as shown in the example of the 3rd fiber.  This will be done in any case is useful, because in case of further development of the network will not need to climb into the already mounted cabinets, increasing the risk of emergency situations. <br><br>  When using this scheme, we see that for the installation we will need 2 or more fiber optic cable, and the equipment is required to have at least 2 optical ports. <br><br>  This scheme, although attractive for its simplicity, obviousness and fewer welds, however, it has one major drawback.  Imagine that something happened to the equipment in the cabinet ‚Ññ1.  What will happen to our connections in cabinets ‚Ññ2 and ‚Ññ3?  Right!  We will lose them. <br><br>  To avoid such cases, it is necessary to continue the cable from cabinet No. 4 and return it (preferably by other means, for example by connecting to cabinet No. 5) to the server room, thus creating a ring.  In this case, of course, the support of the ‚Äúring‚Äù by active equipment, and its correct configuration, is required.  And obviously, this will require an additional 420 meters of cable and managed switches, which are not cheap. <br><br>  It should be mentioned that in the scheme under consideration it is possible to use just one fiber if we use optical equipment WDM, which allows to transmit and receive a signal using 1 fiber at different wavelengths.  However, this does not solve the problem described above. <br><br>  An alternative to this connection scheme would be the use of the ‚ÄúStar‚Äù topology shown in Fig.  6 <br><br><img src="https://habrastorage.org/files/52f/b0d/b7b/52fb0db7b45f4748a447bc4d255ffa7b.jpg"><br>  <i>Pic.6</i> <br><br>  As can be seen from this scheme, when using this topology, each cabinet will be connected ‚Äúindependently‚Äù from its neighbors.  Why is the word ‚Äúindependent‚Äù quoted?  It should be understood that, of course, we will lose connections in cabinets No. 2 and No. 3, if we cut, for example, the cable between the server and cabinet No. 1.  From such a trouble will save only the construction of this ring, as described above.  However, it definitely saves from problems with power supply or equipment failure inside the cabinet ‚Ññ1. <br><br>  The diagram shows that the number of welds is increasing, because, if you do not use the "transit" installation, then you need to weld each pair of fibers passing through the adjacent cabinet.  Of course, as in the previous version, WDM transceivers can be used, which in turn reduces the number of fibers used in two, and the number of welds. <br><br>  What scheme to choose - decides the customer. <br><br>  Since it is desirable for us to ensure the independent functioning of each cabinet from each other and to use inexpensive equipment, in this example we will take as a basis the star connection scheme, in which there are 2 separate fibers going from the server to each cabinet. <br><br>  Virtually with the scheme, we decided, but how will it look in practice?  Usually, to minimize losses on the one hand, and reliable termination on the other, it is possible to use an optical box model GP-B for fiber termination inside cabinets.  Its appearance is shown in Fig.  7 <br><br><img src="https://habrastorage.org/files/b22/f7e/88b/b22f7e88b19b448da84bf70a496bb282.jpg"><br>  <i>Fig.7</i> <br><br>  The box has two ports for the cable (input and output in our case) and a mount for the outgoing optical cord.  A feature of this box is that the fibers to be terminated are welded directly to the halves of the patch cords, and the transit fibers are welded into a splice cassette.  Thus, the connection is simplified (the bundle welding + pigtail + adapter + patchcord is removed), thereby reducing losses.  In our case, we will use 1.5 meter halves of the 3 meter patchcord LC / UPC-LC / UPC-SMB1-DX-3M.  The question of using the connector LC / UPC, we touch on a little later. <br><br>  In this regard, I note that some customers who want to ‚Äúsave‚Äù at a loss are limited only to the splice cassette and welding of the pigtail (0.9 mm in diameter), which ultimately leads to breaks and other troubles. <br><br>  This solution will reliably fix both ends of the optical cable, protect the welding points and provide an opportunity to connect the equipment using a 3mm-protected cord. <br><br>  In the server, the question of cable termination is somewhat different.  Since the server room is often equipped with a 19 inch cabinet, in this case it is necessary to use an optical cross.  In our case, we need an optical cross, complete with 16 optical ports.  A good choice would be the model FODF-1U-24SCSX / 24LCDX, shown in fig.  eight. <br><br><img src="https://habrastorage.org/files/a71/0bc/5d6/a710bc5d63af4f6ba9fb2a8fdbcc4548.jpg"><br>  <i>Fig.8</i> <br><br>  This model has a lightweight aluminum body, 3 interchangeable straps, designed for adapters either SC simplex or LC duplex, and a capacious splice cassette.  Practically, this is all we need. <br><br>  In the future, of course, we will need optical patch cords, for example SC / UPC-LC / UPC-SMB1-DX-1M, which are perfect for connecting our equipment to this cross-country. <br><br>  Now it is time to decide on active equipment.  Of course, the task can be solved with the use of office switches, soap cases and media converters, thus creating a unique heap of equipment that inspires horror to the servicing engineers.  Perhaps the reader has already heard, or even used so-called ‚Äúindustrial‚Äù switches (similar to MOXA, Hirschmann, etc.).  However, a solution based on them can be quite expensive.  What is the best way to do and choose moderately inexpensive equipment that would solve our problems?  Such equipment exists!  For example, take two models of unmanaged switches with POE ports FastEthernet and SFP port.  Below in Fig.10 are given 2 models in 4 and 8 ports respectively: <br><br><img src="https://habrastorage.org/files/4c9/6c6/f0b/4c96c6f0b4d04d0799887b0e541080e4.jpg"><br>  <i>Fig.9</i> <br><br>  As you can see, we are dealing with switches in the ‚Äúindustrial‚Äù form factor, which makes it possible to mount these models on a DIN rail and work effectively in adverse conditions. <br><br>  This model belongs to the class of unmanaged switches, which in turn has a positive effect on its price.  In our scheme, we can choose the model UTP7204E-POE, with four copper POE ports and one SFP port. <br><br>  Let's make it clear: where do we connect the optics?  And we will connect the optics to the SFP module, which, in turn, will be inserted into the SFP switch port.  Why do we need such difficulties, you ask?  And we will answer - the use of various optical modules makes it possible to use this switch in 2 fiber circuits, in 1 fiber circuits, on multimode fiber, and at different distances, etc. in one word. , pick up the optical module you need, insert it into the switch, and you're done! <br><br>  In our case, we will choose an inexpensive optical module model APS31123xxL2 shown in Figure 10. <br><br><img src="https://habrastorage.org/files/0a8/53d/259/0a853d259cd44146bc59db79dab06f47.jpg"><br>  <i>Pic.10</i> <br><br>  This gigabit module working on 2 fibers will allow us to make connections up to 2 km away! <br><br>  Well, in the cabinets we will use 4-port switches, and what can be used in the server? <br><br>  In the server room, in order to collect all the optical links, we will need a more serious switch.  So, the UTP7524GE-MX model is a Gigabit modular (which is very important) managed switch.  Its appearance is shown in Fig.  eleven <br><br><img src="https://habrastorage.org/files/b41/d63/b2d/b41d63b2dc9c402192d8e69c57cf8c53.jpg"><br>  <i>Fig.</i>  <i>eleven</i> <br><br>  Modular it is named because it allows, in the process of growth of the network itself, to use additional modules for connecting optical links.  In total, there are up to 3 such modules, i.e., 8 ports, 16 ports, and finally, 24 ports! <br><br>  Since in our case we need 6 ports to connect with 6 cabinets, then one module (see fig.12) will be quite enough for a start. <br><br><img src="https://habrastorage.org/files/343/b04/f97/343b04f976704505a7667ded273bc7b7.jpg"><br>  <i>Fig.12</i> <br><br>  And, of course, to him we will need the same optical modules that we used in the cabinets. <br><br>  There was one question I promised to answer: why is the LC / UPC connector?  Just because, as you have noticed, this connector is most often used in optical SFP modules. </div><p>Source: <a href="https://habr.com/ru/post/253373/">https://habr.com/ru/post/253373/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../253359/index.html">Handbook of console methods in JS</a></li>
<li><a href="../253361/index.html">Intel¬Æ RealSense ‚Ñ¢. Work with raw data streams</a></li>
<li><a href="../253365/index.html">Working with MS SQL Database with Go Tools for Beginners</a></li>
<li><a href="../253367/index.html">Centralized logging in MongoDB</a></li>
<li><a href="../253371/index.html">Price drop came: servers in the Netherlands at the premium data center are several times cheaper, 2 x Intel Quad Core E5504 / 16GB DDR3 / 12x1TB SATA / 1Gbps 100TB for $ 99.99 just now</a></li>
<li><a href="../253379/index.html">Simple ticket system for customer support: open beta and launch history</a></li>
<li><a href="../253381/index.html">Not everyone can write their name in Unicode.</a></li>
<li><a href="../253383/index.html">Invisible interface</a></li>
<li><a href="../253385/index.html">Modular data centers from the Middle Kingdom and Asia</a></li>
<li><a href="../253387/index.html">We write processing Asterisk AMI do it yourself. Part one: create a class in PHP to refer to an asterisk or how to make a php socket client yourself</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>