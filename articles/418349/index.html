<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Azure Kubernetes Service (AKS) and PowerShell</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I needed to somehow automate the deployment and management of Kubernetes clusters in Azure. 

 Documentation Microsoft offers for this 2.5 way: 

 1) ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Azure Kubernetes Service (AKS) and PowerShell</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/webt/qw/oi/me/qwoimeecdwuscex70cxwjakczsi.jpeg" alt="image"></div><br>  I needed to somehow automate the deployment and management of Kubernetes clusters in Azure. <br><br>  Documentation Microsoft offers for this 2.5 way: <br><a name="habracut"></a><br>  1) Basic one CLI or PowerShell + main configuration template in JSON format.  For this option, there is a <a href="https://docs.microsoft.com/en-us/azure/templates/microsoft.containerservice/managedclusters">template in the documentation</a> and a working version in <a href="https://azure.microsoft.com/ru-ru/resources/templates/101-aks/">Azure Quickstart Templates</a> .  It is not bad to deploy in this way, but I have not tried to roll up the changes yet, so I put it off until later; <br><br>  2) Clean CLI.  There are many teams, convenient.  There is quite a convenient <a href="https://docs.microsoft.com/en-us/cli/azure/aks%3Fview%3Dazure-cli-latest">description in the documentation</a> .  The only problem is that the rest of the automation already written in PowerShell does not want to use different approaches to running scripts; 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      3) Pure Powershell.  And here he stumbled out of the blue.  The description <a href="https://docs.microsoft.com/ru-ru/powershell/module/AzureRM.Aks/%3Fview%3Dazurermps-6.5.0">is in the documentation</a> , but the AzureRM.Aks module is not installed directly in PowerShell.  Now it's July 2016 in the courtyard, the Azure Kubernetes Service has been for two months now, not in the preliminary version, but the Powershell module for this service is still in preview. <br><br>  I report on the installation method of this module so that you do not have to spend your time on it: <br><br><pre><code class="plaintext hljs">Get-Module PowerShellGet Install-Module PowerShellGet -Force</code> </pre> <br>  <b>Now the main thing - we overload Powershell.</b>  Without this, you can even kill a few more hours of life and look for reasons why nothing else happens and look for crutches for repair.  Next, calmly install the module AzureRM.Aks <br><br><pre> <code class="plaintext hljs">Install-Module -AllowPreRelease AzureRM.AKS</code> </pre><br>  Everything, now it is possible to work with AKS from Powershell. <br><cut></cut></div><p>Source: <a href="https://habr.com/ru/post/418349/">https://habr.com/ru/post/418349/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../418337/index.html">Hot, summer DataGrip 2018.2</a></li>
<li><a href="../418339/index.html">"Manual" manipulator</a></li>
<li><a href="../418341/index.html">Happy sys admin! Postcard with meaning</a></li>
<li><a href="../418345/index.html">Documenting information exchange formats is easy and simple.</a></li>
<li><a href="../418347/index.html">As I wrote the standard C ++ 11 library or why the boost is so scary. Chapter 4.3</a></li>
<li><a href="../418353/index.html">Mind map instead of test case, or How visualization allows you to test the application faster</a></li>
<li><a href="../418355/index.html">Sorting ... with a hash table (also counting with a tree and a HashMap)</a></li>
<li><a href="../418357/index.html">DEFCON 23. ‚ÄúConfessions of a Professional Cyberstalker‚Äù. Ken westin</a></li>
<li><a href="../418359/index.html">Fintech Digest: identification of citizens of ‚ÄúFinsupermarket‚Äù, ex-employee of QIWI, naynil 2.4% of bitcoins, BRICS and blockchain</a></li>
<li><a href="../418361/index.html">Why E in the abbreviation EHD is about business processes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>