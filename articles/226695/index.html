<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Introduction to XWT</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings to all readers of this resource! At the moment, a lot of solutions have been developed to ensure cross-platform Microsoft .NET / Mono GUI ap...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Introduction to XWT</h1><div class="post__text post__text-html js-mediator-article">  Greetings to all readers of this resource!  At the moment, a lot of solutions have been developed to ensure cross-platform Microsoft .NET / Mono GUI applications.  In this article, I will introduce readers to one of them, the official project from the developers of Mono - XWT Widget Toolkit (Xwt).  You can download it at the moment only in the form of source codes from the <a href="https://github.com/mono/xwt/">github.com/mono/xwt</a> repository.  Unfortunately, it was not possible to find <i>literate and complete</i> articles about this toolkit on the Internet, so I had to smell everything myself.  Since  This article is not advertising and not a review, I will not explain how XWT is better or worse than the same <a href="https://github.com/picoe/Eto">Eto Forms</a> or System.Windows.Forms (the latter works quite well on Mono).  This article will discuss the principle of XWT and the basics of working with it. <br><a name="habracut"></a><br><br><blockquote>  <b>Attention!</b>  <b>This toolkit is extremely raw, and contains a lot of bugs.</b>  Using it in your applications be prepared to detect non-working properties, non-invoking events, etc.  unpleasant phenomena </blockquote><br><br><h2>  Introduction </h2><br>  The XWT Widget Toolkit (the name seems to be deciphered, and not the Xamarin Widget Toolkit, as many people think) is arranged according to a scheme where there is an abstract loader named Xwt.dll that loads backends built using standard Xwt interfaces from the Xwt.Gtk.dll libraries , Xwt.Wpf.dll, Xwt.Mac.dll, etc.  You can read more about the XWT device in the <a href="http://habrahabr.ru/post/201460/">habr-topic of November 11, 2013</a> .  In terms of the API structure, Xwt is very similar to GTK #, which is not surprising - Xwt was created for porting MonoDevelop to platforms other than Linux (first of all, MacOS X). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Initialization </h2><br>  Xwt can be initialized as a host (for ordinary applications), or as a guest, when Xwt widgets are embedded in the native application.  Both methods are generally similar, so they will be considered simultaneously. <br>  First, XWT itself and the backend are initialized: <br><pre><code class="cs hljs">Xwt.Application.Initialize(Xwt.ToolkitType.Wpf); <span class="hljs-comment"><span class="hljs-comment">// Xwt.Application.InitializeAsGuest(Xwt.ToolkitType.Wpf);</span></span></code> </pre> <br>  Using the argument, you can load various backends.  In order for the backend to load, you must put the Xwt. *. Dll file in the directory in your application (if you use the Cocoa backend, you also need to put the MonoMac.dll file).  You can set as an argument and just a string with the .net signature of the dll backend, but it is not recommended to do so, because  <a href="http://ru.wikipedia.org/wiki/DLL_hell">‚ÄúDLL hell‚Äù</a> can happen.  The attentive reader will immediately notice that the backend is set manually.  Although the XWt.Application.Initialize () call is present in the XWT API with no arguments, it does not work as expected.  Therefore, you will have to fence bicycles with the definition of the OS and the choice of ToolkitType yourself.  Keep in mind that MacOSX is <a href="https://www.google.ru/search%3Fq%3Dmono%2520detecting%2520macosx">simply not defined</a> . <br><br>  After initialization, create a window (Xwt.Window) and display it. <br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//MainWindow -  Xwt.Window,     new MainWindow().Show();</span></span></code> </pre><br>  So, we loaded XWT, brought out the window, it blinked, and the process ended.  And all because they forgot to start the flow of UI events.  This is done in one line: <br><pre> <code class="cs hljs">Xwt.Application.Run();</code> </pre><br>  At this point, the Main () function code will hang, so everything else needs to be done in the UI thread, that is, in the form created above. <br><br><h2>  Forms, dialogs and widgets </h2><br>  The controls (user controls) in this toolkit are called widgets.  Widgets are embedded in other widgets (the only way), and widgets in the windows.  Windows are classes that inherit from Xwt.WindowFrame.  True, as a rule, they still represent instances or are inherited from the classes Window or Dialog.  Dialogues from forms are distinguished by the possibility of displaying them in a modal mode (the <code>Run(WindowFrame parent)</code> function <code>Run(WindowFrame parent)</code> ), and also by dividing the working area into a department for a nested widget (Content) and control buttons (Buttons).  Forms have only a title, a department for an embedded widget (Content) and a menu bar (MainMenu).  The latter is not in the dialogues. <br>  Both forms and dialogues have a basic set of events and properties, in general, similar to other GUI toolkits, except perhaps a bit abbreviated.  When abusing the developers of Xamarin LLC, do not forget that behind each item of the Xwt interfaces there is a long revision of four backends at once. <br><br>  Widgets are classes that inherit from Xwt.Widget.  There are widgets - containers and widgets - controls.  By themselves, windows can contain so many one widget to overcome this limitation and container widgets have been created.  Containers, as the name implies, may contain an unlimited number of other widgets (including container ones), and are themselves responsible for placing them on their own host (parent), for example, a window or another container.  Simple widgets, I think, do not need a description, although the documentation for them is clearly weak.  Be prepared for the fact that known properties and events may be called differently.  For example, click the mouse, incl.  double, raises the ButtonPressed event. <br><br>  To consolidate, let's look at an example from the previous article: <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Program</span></span> { [STAThread] <span class="hljs-comment"><span class="hljs-comment">//    WPF static void Main(string[] args) { // XWT     Xwt.Application.Initialize(Xwt.ToolkitType.Wpf); Xwt.Window MainWindow = new Xwt.Window() { Title = "Xwt Test" }; MainWindow.CloseRequested += (o, e) =&gt; { Xwt.Application.Exit(); //  exe'    }; //    Xwt.Menu MainMenu = new Xwt.Menu(); Xwt.RichTextView TextView = new Xwt.RichTextView(); Xwt.MenuItem FileOpenMenuItem = new Xwt.MenuItem(""); Xwt.Menu FileMenu = new Xwt.Menu(); FileOpenMenuItem.Clicked += (o,e) =&gt; { Xwt.OpenFileDialog Dialog = new Xwt.OpenFileDialog(" "); if (Dialog.Run(MainWindow)) { TextView.LoadFile(Dialog.FileName, Xwt.Formats.TextFormat.Markdown); } }; Xwt.MenuItem FileMenuItem = new Xwt.MenuItem("") { SubMenu = FileMenu }; FileMenu.Items.Add(FileOpenMenuItem); MainMenu.Items.Add(FileMenuItem); //  MainWindow.MainMenu = MainMenu; MainWindow.Content = TextView; //  MainWindow.Show(); Xwt.Application.Run(); } }</span></span></code> </pre><br><br><h2>  Container widgets </h2><br>  This toolkit contains a lot of container widgets, <s>brazenly spied on from GTK</s> .  For those who are unfamiliar with GTK #, I will give an overview of the data of container containers. <br><br><h3>  Canvas - canvas </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/64c/be5/76f/64cbe576f743a7e204e3af2f6572167a.png"><br>  The easiest of containers.  Allows both to lay out widgets in random order on themselves (AddChild (Xwt.Widget w)), and supports no drawing (OnDraw (Xwt.Drawing.Context ctx, Xwt.Rectangle dirtyRect)).  However, it is not recommended for ‚Äúeveryday‚Äù use, since  Xwt's rendering tools are far from perfect, and the rigid positioning of elements can lead to a complete separation of the widgets when their internal contents (and, therefore, their sizes) change. <br><br><h3>  Boxes - bookshelf (rack) </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/2d5/c8c/9a4/2d5c8c9a4f72e13aefb61f0e74c68815.png"><br>  Vbox <br><img src="https://habrastorage.org/getpro/habr/post_images/3ec/b70/871/3ecb708713d8b9fea5cd3bfd5c5aaf3d.png"><br>  Hbox <br>  HBox and VBox widgets are designed to accommodate widgets on a ruler, with automatic control of the size and position of other widgets.  Adding widgets is done by calling the PackStart and PackEnd functions.  By manipulating the arguments, you can set the mode for holding and stretching widgets.  Arguments margin * are set in an incomprehensible value, with a standard display resolution of 96dpi equal to strictly 1px, but continuing to work adequately with elevated DPI (with scale). <br><br><h3>  Table - table </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/4ab/9c6/31c/4ab9c631c84b779bf360da0446e57619.png"><br>  For those familiar with the classic construction of web-pages, this will probably be the most convenient container of the existing ones.  Yes, this is the most ordinary table.  Each cell can be set by widget.  For large fixed-markup applications, this is probably the best container ever.  However, it does not allow the marking of "rubber", i.e.  when the widget is resized in the cell, the column / row sizes change automatically, but you cannot just drag and drag the border (for now?). <br><br><h3>  Paned - panels </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/e6d/54d/7ef/e6d54d7ef9932aca27eb6cf56cc770fb.png"><br>  To create interfaces from two panels with support for changing proportions between them, there are containers VPaned and HPaned.  At the moment, in Xwt it is impossible to change the proportions programmatically, although there are even two non-working properties for this, although I did not understand how they differ - Position and PositionFraction. <br><br><h3>  Notebook tabs </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/cdb/097/d42/cdb097d429f990cc17f4c7dc28dbab45.png"><br>  "Notebook" is designed to create a tabbed interface, as in the antediluvian settings windows.  Keep in mind that you need to specify containers as a filling for the tabs, for example, VBox, otherwise you can place only one widget. <br><br><h3>  Expander - collapsible panel </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/e8a/7b7/6cd/e8a7b76cd46eb0440890bdcc351e4327.png"><br>  This widget is designed to display various background, additional information or application controls.  As well as the Notebook, containers are treated conditionally, since  supports only one widget as a filling. <br><br>  Examples of the use of XWT widgets can be found in the examples and tests attached to the source code of the toolkit.  More information is unlikely to be found, because  This toolkit is documented badly, if not to say that it is not documented at all.  There are still few known applications on XWT, which is not surprising, but a search on Github ( <a href="https://github.com/search%3Fq%3D%2522using%2BXwt%253B%2522%26type%3DCode%26ref%3Dsearchresults">tyts</a> ) and other public repositories gives a lot of interesting startups. <br><br>  In the next article, I will try to talk about XWT ‚Äúbuns‚Äù, such as introducing into native .NET applications, the built-in Markdown parser, features for setting focus on home-made widgets, as well as drawing graphics in XWT, working with TreeView and ListView, XWT flow control and counter methods with this, as well as some significant deficiencies (small bugs, this is not the language to be called) of this tulkit.  If you know other important details of XWT, please mention in the comments - there will be something to mention in article 2. <br><br>  PS If you are unable to open the XWT sln file under Visual Studio 2010, install SP1 or VS 2012+. </div><p>Source: <a href="https://habr.com/ru/post/226695/">https://habr.com/ru/post/226695/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../226681/index.html">Disaster Recovery Planning. The second part of</a></li>
<li><a href="../226687/index.html">Continuation of Candy Crush, transforming pigs and mobile tanks - the main mobile news of the week</a></li>
<li><a href="../226689/index.html">Everybody lies! ‚Ñ¢ or casuistry describing business processes</a></li>
<li><a href="../226691/index.html">Amazon introduced its smartphone with 6 Fire Phone cameras</a></li>
<li><a href="../226693/index.html">Skype 4.3 for Linux released</a></li>
<li><a href="../226697/index.html">Digest photo news # 5: the best materials of the beginning of June</a></li>
<li><a href="../226699/index.html">Cisco re-enters the personal computers protection segment.</a></li>
<li><a href="../226701/index.html">MeetUp Autodesk. Let's discuss modern technologies of visualization of 3D-models in WEB</a></li>
<li><a href="../226707/index.html">We learn PHP from the inside. Zval</a></li>
<li><a href="../226711/index.html">The company Ilona Mask SolarCity intends to become the largest manufacturer of solar panels in the world</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>