<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Sandcastle and SHFB</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article is an article about working with Sandcastle and SHFB , in order not to forget yourself and tell others. 

 4 years have passed since the ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Sandcastle and SHFB</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/2c8/65e/77a/2c865e77aa424b4784e04bff4d9bcb4d.jpg" align="left">  This article is an article about working with Sandcastle and <abbr title="Sandcastle Help File Builder">SHFB</abbr> , in order not to forget yourself and tell others. <br><br>  4 years have passed since the last article on Sandcastle ( <a href="http://habrahabr.ru/post/102177/">‚ÄúCreating Documentation in .NET‚Äù</a> ), so it's time to refresh some points of this documentation utility. <br><a name="habracut"></a><br>  When there was a question about the documentation on our project, the choice was mostly between Doxygen (which was already used in the project) and Sandcastle (which was used before by the customer).  In the end, the choice fell on Sandcastle, because  It was recommended by the customer himself, generated similar documentation visually, unlike Doxygen, as well as integration with Help &amp; Manual (integration was not used as a result). <br><br>  For those who are too lazy to google, but it's interesting to see a list of other tools for documentation, here's a good list: <a href="http://stackoverflow.com/a/14420174">stackoverflow.com/a/14420174</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In a simplified form, the task itself was the generation of documentation in the form of a ".chm" file and help on the site.  As an example, there will be a small project from the library with a pair of documented classes and the Sandcastle project itself (link to github: <a href="https://github.com/misiam/Sandcastle-Sample">github.com/misiam/Sandcastle-Sample</a> ). <br><br><h4>  Installation </h4><br>  First you need to install Sandcastle, or rather, Sandcastle Help File Builder (SHFB).  This is a continuation of the project, which is viciously abandoned by the firm M $ and carefully forknut Eric Woodruff.  Downloading from here: <a href="http://shfb.codeplex.com/releases/view/121365">shfb.codeplex.com/releases/view/121365</a> <br><br>  The chm-compiler and the plug-in for VS2012 and VS2013 were important to me first of all.  In addition, Sandcastle Help File Builder itself is actually installed, it is an application that allows you to use the interface, rather than writing everything into xml files.  With the exception of the text editing toolbar (bold, italics, etc.), I didn‚Äôt find any differences between SHFB and the studio plugin, and the studio also offers auto-compiler with intelisens, so I gradually developed the development to it. <br><br><h4>  Project Setup </h4><br>  When everything is installed, you can add a project to the solution.  A ‚ÄúDocumentation / Sandcastle Help File Builder Project‚Äù appeared in the studio, select it, add ‚ÄúDocumentation Sources‚Äù (a link to the project we are documenting), turn on the ‚ÄúXML documentation file‚Äù in the project, and launch the build.  Go to the folder / bin ... and find nothing there.  The thing is that by default Sandcastle creates files in the \ Help folder in the project folder. <br><br>  To avoid this, go to the project properties -&gt; Path -&gt; ‚ÄúHelp content output path‚Äù and change to something more familiar, for example, to ‚Äúbin \ Help \‚Äù.  After the build, you can see LastBuild.log (created by default in the output folder) and the chm file.  Do not pay attention to the appearance and warnings. <br><br>  Now the help is created in the folder in which we wanted, but the help should also be opened from the webcam, and chm fully supports only explorer, the rest of browsers will, at best, open such a help with the appropriate plugin.  It's easier to generate the Website: project properties -&gt; Build -&gt; turn on the ‚ÄúWebsite (HTML / ASP.NET)" (in fact, there is also php there, you can delete it in the post build event. And one more remark: build events can not to work at assembly from studio and SHFB - collect through msbuild). <br><br>  As soon as you add a Website, you will be able to detect the following problem: both helpers are in the same folder.  Beloved, uncomfortable, and not comme il faut.  Go to the project properties -&gt; Plug-Ins -&gt; Output Deployment -&gt; Add.  Here we indicate the relative paths for copying. <br><div class="spoiler">  <b class="spoiler_title">Output deployment plugin</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/173/31c/f71/17331cf71225437d92ebe98019460a94.png"></div></div><br><br>  It remains quite a bit to bring the project in order. <br><br>  In the Website / html directory, all files of the [GUID] .htm type.  To fix this, go to the project properties -&gt; Help File and change the ‚ÄúTopic file naming method‚Äù property from ‚ÄúGUID‚Äù to a more readable ‚ÄúMember name‚Äù.  Now the address in the browser will reflect the page on which the user is located. <br><br>  In those places where there is no documentation, the red warning labels ‚ÄúMissing documentation for ...‚Äù appear in the help. <br><br><img src="https://habrastorage.org/files/e2e/1d0/f7e/e2e1d0f7e5504dec9b045341d25d840c.png"><br><br>  Such inscriptions are convenient in development, but completely unacceptable in the finished documentation.  To remove them, go to the project properties -&gt; Missing Tags and choose which elements should not display messages if they have no documentation.  Also currently used languages ‚Äã‚Äãare C #, VB, C ++, F #.  Project properties -&gt; Help File -&gt; Syntax Filters and select only those languages ‚Äã‚Äãthat are necessary. <br><br><h4>  Create a couple of pages. </h4><br>  To begin, delete the Version History folder with all its contents and the Welcome.aml page from the project.  The documentation structure is built in the ContentLayout.content file, so you have to clean this file as well. <br><br>  In most cases, when creating a new documentation page, you have to choose the ‚ÄúConceptual‚Äù type (there are many types and you can talk about them for a long time).  When creating a new page, you need to add it to ContentLayout.  The possibilities of configuring static pages with respect to the generated code and each other are very large, you can make a topic tree the way you want. <br><br>  Documentation pages link to each other using a topic ID.  It can be found at the top of the page in the corresponding attribute. <br><br>  Example: <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xlink:href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"b2ac2359-2794-4644-b900-297937ffeaae"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  Problems begin when it is necessary to refer to the generated pages.  In this case, Sandcastle disagrees with the syntax used in the &lt;see /&gt; meta tags and uses its own: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">codeEntityReference</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">qualifyHint</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span>M:SandcastleSample.Samples.ConstructorsSamples.#ctor(System.String,System.Int32)<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">codeEntityReference</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">codeEntityReference</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">qualifyHint</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span>M:SandcastleSample.Samples.MethodsSamples.MethodWithRefParameter(System.String,System.String@)<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">codeEntityReference</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  <b>qualifyHint is</b> set to ‚Äútrue‚Äù if you want to show the method signature. <br><br><div class="spoiler">  <b class="spoiler_title">List of references</b> <div class="spoiler_text"><table><tbody><tr><th>  Apply to </th><th>  Rule </th><th>  Example </th></tr><tr><td>  Methods and properties with arguments </td><td>  Argument list is required in brackets </td><td>  M: Foo.Bar.Func (System.Boolean) </td></tr><tr><td>  Methods and properties without arguments </td><td>  Brackets should not be used. </td><td>  M: Foo.Bar.Func </td></tr><tr><td>  Constructors </td><td>  #Ctor is used instead of name.  If the constructor has parameters, the same rule is used as for the method with parameters </td><td>  M: Foo.Bar. # Ctor </td></tr><tr><td>  Static constructors </td><td>  #Ctor is used instead of name </td><td>  M: Foo.Bar. # Cctor </td></tr><tr><td>  Finalizers </td><td>  The method name is Finalize. </td><td>  M: Foo.Bar.Finalize </td></tr><tr><td>  Arguments </td><td>  Separated by commas, no spaces.  Their name is used with namespace.  Those.  instead of <b>int</b> , <b>System.Int32 is</b> used, etc. </td><td>  M: Foo.Bar.Func (System.Int32, System.String, Foo.Widget) </td></tr><tr><td>  <b>out</b> and <b>ref</b> parameters </td><td>  Their type name ends with @ </td><td>  M: Foo.Bar.Func (System.Int32 @) </td></tr><tr><td>  Parameters marked as <b>params</b> </td><td>  No special notation </td><td></td></tr><tr><td>  Parameters that define a generic type </td><td>  Apostrophe character is added with a generic type number. </td><td>  T: Foo.Bar`1 </td></tr><tr><td>  Arrays as parameters </td><td>  The dimension of the array can be omitted. </td><td>  M: Foo.Bar.Func (System.Int32 [0:, 0:]) </td></tr><tr><td>  Parameters that reference types such as List &lt;&gt; </td><td>  It uses comma-delimited generalized type arguments enclosed in braces </td><td>  M: Foo.Bar.Func (System.Collections.Generic.List {System.String}) </td></tr></tbody></table><br>  <a href="http://www.codeproject.com/Articles/366043/Authoring-Documentation-with-DocProject-and-Sandca">Original</a> <br></div></div><br>  The list is large, and such things just have to know, there's nothing you can do. <br>  Although you can enable the warnings "Missing documentation ..." and there you can see in what form Sandcastle expects the name of the method. <br><br><h4>  Tips and tricks </h4><br><ul><li>  There are different interface templates: vs2013, vs2010, vs2005, Hana, Prototype.  It is worth trying at least vs2013 and vs2010 - both of them are not deprecated, and their behavior is different.  For example, in vs2013 after the search, the topic opens in a new tab, which was critical on our project.  It is also worth noting that the Webhelp can be referred to both Index.aspx and index.html.  Part of the functionality in the second case will not be available (for example, search). </li><li>  To add a description to Namespace, include the following class in it: <br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment">Namespace summary</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;include file='_Namespace.xml' path='Documentation/*' /&gt;</span></span></span><span class="hljs-comment"> internal class NamespaceDoc { //EMPTY }</span></span></code> </pre><br>  The same can be done through Sandcastle. <br></li><li>  To add a description to the topic of the generated overloaded method, use the tag: <br><pre> <code class="cs hljs"> <span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> Go to overload </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;see cref="O:SandcastleSample.Samples.MethodsSamples.MethodWithOverload"/&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;example&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;para&gt;</span></span></span><span class="hljs-comment">To link to both overloads use 'O': </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;code&gt;</span></span></span><span class="hljs-comment">O:SandcastleSample.Samples.MethodsSamples.MethodWithOverload</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/code&gt;</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/para&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/example&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;overloads&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;para&gt;</span></span></span><span class="hljs-comment">'overloads' tag used in Sandcastle to put some additional inforation to "Ovetrload methods" page in the documentation.</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/para&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/overloads&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;param name="param"&gt;</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/param&gt;</span></span></span><span class="hljs-comment"> public void MethodWithOverload(string param) { }</span></span></code> </pre><br>  VisualStudio will leave this tag unattended, but Sandcastle will add its contents to the documentation. <br><br>  A table of such tags can be found at: <a href="http://assets.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/assets/pdfs/sandcastle-wallchart.pdf">Sandcastle's XML Documentation Comments</a> ; <br><br>  Once again the link to the project with examples on <a href="https://github.com/misiam/Sandcastle-Sample">github</a> . <br><br></li></ul></div><p>Source: <a href="https://habr.com/ru/post/243039/">https://habr.com/ru/post/243039/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../243025/index.html">New on VPS Search: Notepad Domains and Notepad Servers</a></li>
<li><a href="../243027/index.html">Wargaming Developers Contest: Winners Announcement</a></li>
<li><a href="../243033/index.html">How and why does Yandex disable its own data centers</a></li>
<li><a href="../243035/index.html">We catch snmp mac-notification traps from Cisco devices</a></li>
<li><a href="../243037/index.html">Decorative decorative lamp SDB-Z "Evlampiya"</a></li>
<li><a href="../243045/index.html">NetApp FAS performance optimization</a></li>
<li><a href="../243047/index.html">A 19-year-old vulnerability can capture a computer through Internet Explorer.</a></li>
<li><a href="../243049/index.html">Which GIS to use after the actual death of Google Maps?</a></li>
<li><a href="../243051/index.html">Stack programming with a human face (part two)</a></li>
<li><a href="../243055/index.html">Own tor2web-service using Nginx and Lua</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>