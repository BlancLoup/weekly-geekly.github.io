<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Exonum first buyding: why we chose Java</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The core of our framework for developing Exonum private blockchains is written in Rust, since this PL is focused on memory security. However, along wi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Exonum first buyding: why we chose Java</h1><div class="post__text post__text-html js-mediator-article">  The core of our framework for developing Exonum private blockchains is written in Rust, since this PL is focused on memory security.  However, along with many advantages, Rust has a number of features that complicate the ‚Äúinteraction‚Äù with it: its syntax is unusual for many developers, and the threshold for entry is rather high. <br><br>  To make it easier to work with the Exonum platform and make it more accessible to the audience, we decided to write a banding library.  The language for Binding was Java. <br><br>  Why we chose Java, we tell under cat. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <a href="https://habr.com/company/bitfury/blog/423441/"><img src="https://habrastorage.org/webt/ya/rg/pg/yargpglo86gz1_gcvp6fig2siiq.png"></a> <a name="habracut"></a><br>  <font color="#A9A9A9"><i>/ <a href="https://exonum.com/blog/bitfurys-exonum-blockchain-framework-now-available-for-java-community/">Exonum</a></i></font> <br><br><h2>  A couple of words about Exonum </h2><br>  <a href="https://exonum.com/">Exonum</a> is our open source framework for developing private blockchains.  The blockchain on Exonum is much faster than public blockchains and is capable of processing up to 5 thousand transactions per second.  For comparison, in Ethereum, this indicator equals <a href="https://ethereum.stackexchange.com/questions/49484/how-many-transactions-per-second-can-ethereum-currently-handle-what-changes-wil">several dozens</a> , while bitcoin is even <a href="https://www.blockchain.com/ru/charts/transactions-per-second">smaller</a> . <br><br>  In doing so, Exonum uses the Byzantine consensus algorithm to protect data.  It does not require mining and <a href="https://exonum.com/doc/architecture/consensus/">guarantees the</a> correct execution of transactions, even if a third of the network nodes will be compromised. <br><br>  The Exonum platform can be used in any area: financial, technological, legal.  In particular, the framework is suitable for creating digital rights management systems (the demo can be <a href="https://exonum.com/demo/drm/">found on the official website</a> ) and voting organization ( <a href="https://exonum.com/demo/voting/">demo</a> ).  In both cases, all occurring processes are as transparent as possible and protected by cryptographic mechanisms. <br><br>  Last year, the State Land Cadastre of Ukraine was implemented using the Exonum platform.  And before that, Exonum launched a land management project in Georgia.  We also <a href="https://incrussia.ru/understand/opyt-exonum-kak-perevesti-na-blokchejn-tseloe-gosudarstvo-i-vyigraet-li-ot-etogo-biznes/">negotiate</a> with dozens of companies from the Fortune 500 and the European Union about the implementation of our system in their business processes. <br><br>  The core Exonum is written in Rust.  The choice is justified by the fact that this PL focuses on security and speed ‚Äî on some tasks it works faster than Java, Go, C, and C ++.  At the same time, Rust guarantees memory safety and <a href="https://doc.rust-lang.org/nomicon/races.html">prevents races</a> when two threads try to access one data. <br><br>  The compiler Rust is designed to <a href="https://habr.com/company/bitfury/blog/349786/">minimize the</a> number of bugs caused by the human factor.  For example, it eliminates several classes of errors at the expense of the concept of time of life and ownership. <br><br>  All values ‚Äã‚Äãin Rust have a ‚Äúdomain of ownership‚Äù.  When a name goes outside this area, the associated resource is released.  Here is one example of the code that is <a href="https://blog.rust-lang.org/2015/04/10/Fearless-Concurrency.html">provided</a> in the official Rust documentation: <br><br><pre><code class="rust hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">use_vec</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> vec = make_vec(); <span class="hljs-comment"><span class="hljs-comment">//   print_vec(vec); //   print_vec for i in vec.iter() { //   vec println!("{}", i * 2) } }</span></span></code> </pre> <br>  If you feed it to the compiler, it will generate an error: <br><br><pre> <code class="rust hljs">error: <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> of moved value: `vec` <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> vec.iter() { ^~~</code> </pre><br>  This suggests that vec is unavailable because its domain has changed.  Thus, ‚Äúshooting yourself a leg‚Äù during the development process becomes much more difficult. <br><br><h2>  Why we decided to create binding </h2><br><h5>  "Noisy" syntax </h5><br>  Rust language offers a convenient and wide range of data types that can be combined with each other.  This makes it possible to organize the sets of values ‚Äã‚Äãin the code and restrict access to data, protecting them from unauthorized access. <br><br>  These features are <a href="https://habrahabr.ru/company/bitfury/blog/333446/">very important</a> when working with smart contracts in Exonum.  Thanks to them, the smart contracts of our framework have greater performance and security of access to memory than, for example, Ethereum solutions. <br><br>  In general, Rust is similar to other imperative languages ‚Äã‚Äã(in particular, the Rust syntax resembles C / C ++), but represents a large number of innovative concepts.  It has cycles, conditions, functions, but at the same time there are areas of ownership and types.  Therefore, those who have never worked with this PL can be difficult to read programs on it. <br><br>  At first <a href="https://vorner.github.io/difficult.html">they seem to be</a> "foreign."  "Pain" adds an unusual memory management (compared to other languages), which makes Rust so safe.  Last fall, the creators of Rust published the results of a survey among 5 thousand members of the community.  Almost a quarter of <a href="https://blog.rust-lang.org/2017/09/05/Rust-2017-Survey-Results.html">respondents noted</a> that it is difficult to work with Rust. <br><br><h5>  Too "demanding" compiler </h5><br>  As we have already noted, the task of the Rust compiler is to reduce the number of bugs in the code.  The compiler is strict with the text of the program, but at the same time displays options for eliminating errors.  In this case, the compiler even shows warnings related to the programming style. <br><br>  This approach allows you to write reliable code (which is important when working with blockchains in general), but it also has the opposite side of the coin.  Sometimes you have to write programs on Rust so that the compiler "understands" that you are not performing prohibited memory operations.  And since the language is still young and continues to evolve, there may not be any established practices.  Because, as Exonum developer Ilya Bogdanov says, many patterns <a href="https://www.youtube.com/watch%3Fv%3DueK34q1Rspw">have to be found</a> using the scientific method. <br><br><h5>  Small community </h5><br>  The third reason for the creation of Binding was a small Rust-community.  Although the community of this PL is quite friendly, and its members are always ready to answer questions, the language ‚Äúsuffers‚Äù from a small amount of literature and libraries.  However, it will be fair to note here that this problem is being gradually solved. <br><br>  In recent years, Rust has been actively <a href="https://research.mozilla.org/rust/">promoting Mozilla</a> and <a href="https://s-opensource.org/2015/12/21/community-driven-wayland-support-servo/">Samsung</a> , which has a positive effect on the number of libraries being developed and new ‚Äúwrappers‚Äù for existing solutions from the world of C / C ++.  "Textbooks" on the language also begin to appear gradually.  From those that already exist, Ivo Balbaert's <a href="https://www.amazon.com/Rust-Essentials-Ivo-Balbaert/dp/1785285769">Basics of Rust</a> (Ivo Balbaert), the <a href="https://doc.rust-lang.org/stable/book/">online guide</a> on the official website and the recent book of Rust <a href="https://www.amazon.com/Rust-Programming-Language-Steve-Klabnik/dp/1593278284">programming language,</a> one of the Rust project developers Steve Klabnik, are worth highlighting. <br><br><h2>  Why choose Java </h2><br>  One of the main reasons that determined the choice was the largest community of this PL.  According to a <a href="https://insights.stackoverflow.com/survey/2017">study</a> conducted on the Stack Overflow site last year, Java is in third place in popularity (it was bypassed only by JavaScript and SQL).  Of the 64 thousand developers polled, almost 40% write in Java. <br><br>  Due to the size of the community, this PL has acquired an extensive set of tools.  These include IDE, analytical solutions, benchmark frameworks, etc. There are so many of them that some companies <a href="https://softwareengineering.stackexchange.com/a/140271">oblige</a> developers to use only certain IDE and frameworks to avoid ‚Äúsplitting‚Äù the work environment. <br><br>  At the same time, Java has a simple syntax and Java Native Interface (JNI), which <a href="https://llogiq.github.io/2016/02/28/java-rust.html">can work</a> with the C Application Binary Interface (ABI).  In addition, Java allows you to use other languages ‚Äã‚Äãon the JVM stack: Scala, Kotlin, Clojure. <br><br>  And finally, the Java machine is cross-platform: Java code is executed in byte-code, which is interpreted and run on Windows, MacOS, and Linux-based platforms.  In this case, the Java language is more tied to open source (compared to, for example, C #).  Java developer tools are mostly free: this is the <a href="https://ru.wikipedia.org/wiki/Java_Development_Kit">JDK</a> and the integrated development environments based on it - JDeveloper, NetBeans, Eclipse, etc. At the same time, you can find a huge number of open source projects (for example, on <a href="https://github.com/trending/java">GitHub</a> ) on specialized resources.  There are also <a href="https://www.javaworld.com/blog/open-source-java-projects/">many manuals</a> on working with open source technologies. <br><br><h2>  The main challenges in developing Java Binding </h2><br>  The development of Java Binding was long and complicated (and it is still underway).  We needed to take into account all the features that make the Rust and Java languages ‚Äã‚Äãso different. <br><br>  For example, one of the difficulties was the organization of resource management.  The fact is that in Java there is a Garbage Collector, but in Rust it is not.  It was <a href="https://habr.com/company/bitfury/blog/349786/">removed</a> in one of the earlier versions, because the developers came to the conclusion that they could provide the same level of reliability with the help of the type system. <br><br>  Java GC, although it has an increased resource consumption (it makes all functions give it unused objects to avoid potential memory leaks), is quite convenient.  Therefore, we needed to implement a resource cleanup mechanism that Java developers would like. <br><br>  Another complication was related to the specific data structures presented in Exonum, the Merkle trees.  Exonum <a href="https://exonum.com/doc/advanced/merkelized-list/">uses</a> them to combine blockchain states into a single hash.  This makes it possible to prove the authenticity of transactions without the need to communicate with several complete network nodes.  This functionality is important for the work of our light clients, because it also needed to be interpreted in Java. <br><br>  Java API almost completely repeats Rust API.  This is done to make it easier for us to adapt the documentation and simplify the work of users.  We have prepared a separate tutorial on setting up and running the Exonum node with the Java Binding App. <br><br>  To <a href="">create</a> Java <a href="">services</a> , you can use a template project generator.  You need to install Maven 3 and run the command: <br><br><pre> <code class="bash hljs">$ mvn archetype:generate \ -DinteractiveMode=<span class="hljs-literal"><span class="hljs-literal">false</span></span> \ -DarchetypeGroupId=com.exonum.binding \ -DarchetypeArtifactId=exonum-java-binding-service-archetype \ -DgroupId=com.example.myservice \ -DartifactId=my-service \ -Dversion=1.0</code> </pre><br>  You can use the interactive mode: <br><br><pre> <code class="bash hljs">$ mvn archetype:generate \ -DarchetypeGroupId=com.exonum.binding \ -DarchetypeArtifactId=exonum-java-binding-service-archetype</code> </pre><br>  You can find a complete guide with examples on setting up a Java service <a href="https://exonum.com/doc/get-started/java-binding/">in the documentation</a> on the official Exonum project website.  Recommendations for running the Exonum node <a href="">are in the repository on GitHub</a> . <br><br><img src="https://habrastorage.org/webt/di/e0/xq/die0xqvxeu-dysagwe_qaewwfgg.png"><br>  <font color="#A9A9A9"><i>/ <a href="https://exonum.com/">Exonum</a></i></font> <br><br><h2>  Future plans </h2><br>  While Java Binding is in alpha.  We plan to release it as a complete and ready feature in the near future.  Now we are collecting feedback from users to track potential problems in the library and make corrections. <br><br>  We are also working on documentation, writing example projects, SDKs to simplify integration with the application on the blockchain and improve the UX as a whole.  You <a href="">can find the</a> complete project roadmap <a href="">in the repository on GitHub</a> . <br><br>  There you can also <a href="https://github.com/exonum/exonum-java-binding">take all the sources</a> to try Java Binding and write your Java service for Exonum.  If you have any questions in the process, contact <a href="https://gitter.im/exonum/exonum-java-binding">our Gitter development team</a> .  Tell and help as much as possible. </div><p>Source: <a href="https://habr.com/ru/post/423441/">https://habr.com/ru/post/423441/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../423427/index.html">IndieVisible - an online community of indie developers built on an open source platform.</a></li>
<li><a href="../423429/index.html">Database update and zero-downtime deployment</a></li>
<li><a href="../423431/index.html">SIEM depths: out-of-box correlations. Part 1: Pure marketing or unsolvable problem?</a></li>
<li><a href="../423437/index.html">The digest of interesting materials for mobile developer # 270 (September 10 - 16)</a></li>
<li><a href="../423439/index.html">Report of the Club of Rome 2018, Chapter 2.6: ‚ÄúPhilosophical Errors of Market Doctrine‚Äù</a></li>
<li><a href="../423445/index.html">Creating an online store structure: category map</a></li>
<li><a href="../423447/index.html">GLPH: New Content Marketing Podcast</a></li>
<li><a href="../423453/index.html">ZFS and disk access speeds in hypervisors</a></li>
<li><a href="../423455/index.html">Correct tablet</a></li>
<li><a href="../423457/index.html">Work as a team leader in the 2018th year</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>