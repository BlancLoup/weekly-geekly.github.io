<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Java Bytecode Fundamentals</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Java application developers usually do not need knowledge of the bytecode running in a virtual machine, but those who develop modern frameworks, compi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Java Bytecode Fundamentals</h1><div class="post__text post__text-html js-mediator-article">  Java application developers usually do not need knowledge of the bytecode running in a virtual machine, but those who develop modern frameworks, compilers, or even Java tools may need an understanding of bytecode and perhaps even an understanding of how to use it. for their own purposes.  Despite the fact that special libraries such as ASM, cglib, Javassist help in using byte-code, it is necessary to understand the basics in order to use these libraries effectively. <br>  <i>The article describes the very basics from which you can make a start in further digging up this topic.</i> <br><a name="habracut"></a><br>  Let's start with a simple example, namely a POJO with a single field and a getter and setter for it. <br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String bar; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getBar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> bar; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setBar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String bar)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bar = bar; } }</code> </pre> <br>  When you compile a class using the javac Foo.java command, you will have a file Foo.class containing the bytecode.  Here is what its content looks like in a HEX editor: <br><br><img src="https://habrastorage.org/storage/habraeffect/9c/83/9c8393a82ec4640985a50455648afcaa.png" alt="image"><br><br>  Each pair of hexadecimal numbers (bytes) is translated into opcodes (mnemonics).  It would be cruel to try to read it in binary format.  Let's move on to the mnemonic presentation. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The javap -c Foo command displays the bytecode: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">lang</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Object</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; Code: <span class="hljs-number"><span class="hljs-number">0</span></span>: aload_0 <span class="hljs-number"><span class="hljs-number">1</span></span>: invokespecial #<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-comment"><span class="hljs-comment">//Method java/lang/Object."&lt;init&gt;":()V 4: return public java.lang.String getBar(); Code: 0: aload_0 1: getfield #2; //Field bar:Ljava/lang/String; 4: areturn public void setBar(java.lang.String); Code: 0: aload_0 1: aload_1 2: putfield #2; //Field bar:Ljava/lang/String; 5: return }</span></span></code> </pre> <br><br>  The class is very simple, so it will be easy to see the connection between the source code and the generated bytecode.  First of all, we see that in the byte-code-version of the class, the compiler invokes the default constructor (as written in the JVM specifications). <br><br>  Further, studying the byte-code instructions (we have aload_0 and aload_1), we see that some of them have prefixes like aload_0 and istore_2.  This refers to the type of data with which the instruction operates.  The prefix "a" means that the opcode controls the reference to the object.  "I", respectively, manages integer. <br><br>  An interesting point here is that some of the instructions operate on odd operands like # 1 and # 2, which actually refers to a pool of class constants.  It's time to examine the class file closer.  Run the javap -c -s -verbose command (-s for output signatures, -verbose for verbose output) <br><pre> <code class="java hljs">Compiled from <span class="hljs-string"><span class="hljs-string">"Foo.java"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">lang</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SourceFile</span></span></span><span class="hljs-class">: "</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">minor</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">version</span></span></span><span class="hljs-class">: 0 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">major</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">version</span></span></span><span class="hljs-class">: 50 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Constant</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pool</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">const</span></span></span><span class="hljs-class"> #1 </span></span>= Method #<span class="hljs-number"><span class="hljs-number">4</span></span>.#<span class="hljs-number"><span class="hljs-number">17</span></span>; <span class="hljs-comment"><span class="hljs-comment">// java/lang/Object."":()V const #2 = Field #3.#18; // Foo.bar:Ljava/lang/String; const #3 = class #19; // Foo const #4 = class #20; // java/lang/Object const #5 = Asciz bar; const #6 = Asciz Ljava/lang/String;; const #7 = Asciz ; const #8 = Asciz ()V; const #9 = Asciz Code; const #10 = Asciz LineNumberTable; const #11 = Asciz getBar; const #12 = Asciz ()Ljava/lang/String;; const #13 = Asciz setBar; const #14 = Asciz (Ljava/lang/String;)V; const #15 = Asciz SourceFile; const #16 = Asciz Foo.java; const #17 = NameAndType #7:#8;// "":()V const #18 = NameAndType #5:#6;// bar:Ljava/lang/String; const #19 = Asciz Foo; const #20 = Asciz java/lang/Object; { public Foo(); Signature: ()V Code: Stack=1, Locals=1, Args_size=1 0: aload_0 1: invokespecial #1; //Method java/lang/Object."":()V 4: return LineNumberTable: line 1: 0 public java.lang.String getBar(); Signature: ()Ljava/lang/String; Code: Stack=1, Locals=1, Args_size=1 0: aload_0 1: getfield #2; //Field bar:Ljava/lang/String; 4: areturn LineNumberTable: line 5: 0 public void setBar(java.lang.String); Signature: (Ljava/lang/String;)V Code: Stack=2, Locals=2, Args_size=2 0: aload_0 1: aload_1 2: putfield #2; //Field bar:Ljava/lang/String; 5: return LineNumberTable: line 8: 0 line 9: 5 }</span></span></code> </pre><br>  Now you can see what these strange operands are.  For example, # 2: <br><br>  const # 2 = Field # 3. # 18;  // Foo.bar:Ljava/lang/String; <br><br>  He refers to: <br><br>  const # 3 = class # 19;  // foo <br>  const # 18 = NameAndType # 5: # 6; // bar: Ljava / lang / String; <br><br>  And so on. <br><br>  Note that, each opcode is labeled with a number (0: aload_0).  This is an indication of the position of the instruction inside the frame - I will explain further what this means. <br><br>  To understand how bytecode works, just look at the execution model.  JVM uses a stack-based execution model.  Each thread has a JVM stack containing frames.  For example, if we run the application in debugger, we will see the following frames: <br><img src="https://habrastorage.org/storage/habraeffect/7b/72/7b7255d9bd33bda63e1f9170f3d0c8b2.png" alt="image"><br><br>  Each time the method is called, a new frame is created.  A frame consists of an operand stack, an array of local variables, and a reference to the pool of constants of the class of the method being executed. <br><img src="https://habrastorage.org/storage/habraeffect/b5/14/b514940ea1d2862fe470cd397d904f76.png" alt="image"><br><br>  The size of the array of local variables is determined at compile time, depending on the number and size of local variables and method parameters.  Operand stack - LIFO stack for writing and deleting values ‚Äã‚Äãin the stack;  size is also determined at compile time.  Some opcodes add values ‚Äã‚Äãto the stack, others take operands from the stack, change their state and return to the stack.  The operand stack is also used to get the values ‚Äã‚Äãreturned by the method (return values). <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getBar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> bar; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> java.lang.<span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getBar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; Code: <span class="hljs-number"><span class="hljs-number">0</span></span>: aload_0 <span class="hljs-number"><span class="hljs-number">1</span></span>: getfield #<span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-comment"><span class="hljs-comment">//Field bar:Ljava/lang/String; 4: areturn</span></span></code> </pre><br>  The bytecode for this method consists of three opcodes.  The first opcode, aload_0, pushes a value with index 0 from the table of local variables onto the stack.  The link <i>this</i> in the table of local variables for constructors and instance methods always has an index of 0. The following opcode, getfield, takes out the object field.  The last instruction, areturn, returns the reference from the method. <br><br>  Each method has a corresponding bytecode array.  Looking at the contents of the class file in the hex editor, you will see the following values ‚Äã‚Äãin the bytecode array: <br><br><img src="https://habrastorage.org/storage/habraeffect/4a/03/4a03db80c21a8fe3ea7f7024f104009d.png" alt="image"><br><br>  So, the bytecode for the getBar method is 2A B4 00 02 B0.  2A refers to the aload_0 instruction, B0 to areturn.  It may seem strange that the bytecode for the method has three instructions, and there are 5 elements in the byte array.  This is due to the fact that getfield (B4) needs two parameters (00 02), which occupy positions 2 and 3 in the array, hence 5 elements in the array.  The areturn instruction moves to position 4. <br>  <b>Local variable table</b> <b><br></b> <br>  To illustrate what happens with local variables, let's use another example: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Example</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">plus</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> b = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a + b; } }</code> </pre><br>  Here are two local variables - the method parameter and the local variable int b.  Here is the bytecode: <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">plus</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; Code: Stack=<span class="hljs-number"><span class="hljs-number">2</span></span>, Locals=<span class="hljs-number"><span class="hljs-number">3</span></span>, Args_size=<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: iconst_1 <span class="hljs-number"><span class="hljs-number">1</span></span>: istore_2 <span class="hljs-number"><span class="hljs-number">2</span></span>: iload_1 <span class="hljs-number"><span class="hljs-number">3</span></span>: iload_2 <span class="hljs-number"><span class="hljs-number">4</span></span>: iadd <span class="hljs-number"><span class="hljs-number">5</span></span>: ireturn LineNumberTable: line <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> line <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre><br>  LocalVariableTable: <br>  Start Length Slot Name Signature <br>  0 6 0 this LExample; <br>  0 6 1 a I <br>  2 4 2 b I <br><br>  The method loads constant 1 using iconst_1 and puts it in local variable 2 using istore_2.  Now in the local variable table, slot 2 is occupied by variable b, as expected.  Next, iload_1 loads the value onto the stack, iload_2 loads the value b.  iadd pushes 2 operands from the stack, adds them, and returns the value of the method. <br>  <b>Exception Handling</b> <b><br></b> <br>  An interesting example of what kind of byte code is obtained in the case of exception handling, for example, for the try-catch-finally construct. <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ExceptionExample</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { tryMethod(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (Exception e) { catchMethod(); }<span class="hljs-keyword"><span class="hljs-keyword">finally</span></span>{ finallyMethod(); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tryMethod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception</span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">catchMethod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">finallyMethod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{} }</code> </pre><br>  The byte code for the foo () method is: <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; Code: <span class="hljs-number"><span class="hljs-number">0</span></span>: aload_0 <span class="hljs-number"><span class="hljs-number">1</span></span>: invokespecial #<span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-comment"><span class="hljs-comment">//Method tryMethod:()V 4: aload_0 5: invokespecial #3; //Method finallyMethod:()V 8: goto 30 11: astore_1 12: aload_0 13: invokespecial #5; //Method catchMethod:()V 16: aload_0 17: invokespecial #3; //Method finallyMethod:()V 20: goto 30 23: astore_2 24: aload_0 25: invokespecial #3; //Method finallyMethod:()V 28: aload_2 29: athrow 30: return Exception table: from to target type 0 4 11 Class java/lang/Exception 0 4 23 any 11 16 23 any 23 24 23 any</span></span></code> </pre><br>  The compiler generates code for all scripts possible inside a try-catch-finally block: finallyMethod () is called three times (!).  The try block compiled as if there was no try and it was merged with finally: <br>  0: aload_0 <br>  1: invokespecial # 2;  // Method tryMethod :() V <br>  4: aload_0 <br>  5: invokespecial # 3;  // Method finallyMethod :() V <br>  If the block is executed, the goto instruction skips execution to the 30th position with the opcode return. <br><br>  If tryMethod throws Exception, the first matching (internal) exception handler from the exception table will be selected.  From the exception table, we see that the position with the exception interception is 11: <br><br>  0 4 11 Class java / lang / Exception <br><br>  This throws the execution to catchMethod () and finallyMethod (): <br><br>  11: astore_1 <br>  12: aload_0 <br>  13: invokespecial # 5;  // method catchMethod: () V <br>  16: aload_0 <br>  17: invokespecial # 3;  // method finallyMethod :() V <br><br>  If another exception is thrown during the execution, we will see that the position in the exception table will be 23: <br><br>  0 4 23 any <br>  11 16 23 any <br>  23 24 23 any <br><br>  Instructions starting at 23: <br><br>  23: astore_2 <br>  24: aload_0 <br>  25: invokespecial # 3;  // Method finallyMethod :() V <br>  28: aload_2 <br>  29: athrow <br>  30: return <br><br>  So finallyMethod () will be executed anyway, with aload_2 and athrow throwing an unhandled exception. <br><br>  <b>Conclusion</b> <br><br>  These are just a few moments from the JVM bytecode area.  Most were learned from a developerWorks article by Peter Haggar - Java bytecode: Understanding bytecode makes it a better programmer.  The article is a bit outdated, but still relevant.  The BCEL User Guide contains a decent description of the basics of the bytecode, so I would suggest reading it to those interested.  In addition, the specification of a virtual machine can also be a useful source of information, but it is not easy to read, besides there is no graphical material that is useful in understanding. <br><br>  In general, I think that understanding how bytecode works is an important point in deepening your knowledge of Java programming, especially for those who look to frameworks, JVM languages ‚Äã‚Äãcompilers or other utilities. <br></div><p>Source: <a href="https://habr.com/ru/post/111456/">https://habr.com/ru/post/111456/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../111449/index.html">String Search Algorithms</a></li>
<li><a href="../111451/index.html">Localization of .NET applications, and in particular ASP.NET WebForms</a></li>
<li><a href="../111452/index.html">Taiwanese patient Twinhead Slimnote GX</a></li>
<li><a href="../111453/index.html">Budget VPS hosting BurstNET (USA) on personal experience</a></li>
<li><a href="../111454/index.html">HbbTV or Teletext v3.0</a></li>
<li><a href="../111458/index.html">Unpacking Lego Mindstorms NXT 2.0</a></li>
<li><a href="../111460/index.html">Prospects for Sage ERP X3 in Russia</a></li>
<li><a href="../111461/index.html">Bexf - Framework for creating extensions</a></li>
<li><a href="../111463/index.html">How to prevent a programmer from writing bad code</a></li>
<li><a href="../111466/index.html">Motorola Revolution: Atrix 4G Modular Smartphone</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>