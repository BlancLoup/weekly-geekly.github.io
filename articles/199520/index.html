<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to live without const?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Often, transferring an object to any method, we would like to say to him: ‚ÄúHere, hold this object, but you don‚Äôt have the right to change it,‚Äù and som...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to live without const?</h1><div class="post__text post__text-html js-mediator-article">  Often, transferring an object to any method, we would like to say to him: ‚ÄúHere, hold this object, but you don‚Äôt have the right to change it,‚Äù and somehow mark this when calling.  The advantages are obvious: in addition to the fact that the code becomes more reliable, it also becomes more readable.  We do not need to go into the implementation of each method to track how and where the object of interest changes.  Moreover, if the constancy of the arguments passed is indicated in the signature of the method, then from the signature itself, with some accuracy or another, we can already assume what it actually does.  Another plus is thread safety, since  we know that the object is read only. <br>  In C / C ++, the keyword const exists for this purpose.  Many will say that such a mechanism is too unreliable, however, in C # there is no such thing either.  And maybe it will appear in future versions (the developers do not deny this), but what about now? <br><a name="habracut"></a><br><br><h5>  1. Immutable objects </h5><br>  The most famous similar object in C # is the string.  There is not a single method in it that leads to the change of the object itself, but only to the creation of a new one.  And everything seems to be nice and beautiful with them (they are easy to use and reliable) until we remember the performance.  For example, you can find a substring without copying the entire array of characters, however, what if we need, say, to replace characters in a string?  But what if we need to process an array of thousands of such strings?  In each case, a new line object will be created and the entire array will be copied.  We don‚Äôt need old strings, but the strings themselves know nothing about it and continue to copy data.  Only the developer, calling the method, may or may not give the right to change the argument objects.  In addition, the use of immutable objects is not reflected in the method signature in any way.  How can we be? <br><br><h5>  2. Interface </h5><br>  One option is to create an interface for the read only object, from which to exclude all methods that modify the object.  And if this object is a generic, then covariance can be added to the interface.  In the example with the vector, it will look like this: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IVectorConst</span></span>&lt;<span class="hljs-title"><span class="hljs-title">out</span></span> <span class="hljs-title"><span class="hljs-title">T</span></span>&gt; { T <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>[<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nIndex] { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Vector</span></span>&lt;<span class="hljs-title"><span class="hljs-title">T</span></span>&gt; : <span class="hljs-title"><span class="hljs-title">IVectorConst</span></span>&lt;<span class="hljs-title"><span class="hljs-title">T</span></span>&gt; { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> T[] _vector; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Vector</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> nSize</span></span></span><span class="hljs-function">)</span></span> { _vector = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> T[nSize]; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> T <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>[<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nIndex] { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _vector[nIndex]; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { _vector[nIndex] = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ReadVector</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IVectorConst&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; vector</span></span></span><span class="hljs-function">)</span></span> { ... }</code> </pre> <br><br>  (By the way, between Vector and IVectorConst (or IVectorReader - as you like) you can add another contravariant IVectorWriter.) <br><br>  And all would be nothing, but nothing prevents ReadVector from making a downcast to the Vector and changing it.  However, if we recall const from C ++, this method is no less reliable, just as an unreliable const, which does not prohibit any conversion of pointers.  If this is enough for you, you can stop, if not - go ahead. <br><br><h5>  3. Separating a constant object using an ‚ÄúAdapter‚Äù </h5><br>  We can ban the above-mentioned downcast in only one way: make sure that Vector does not inherit from IVectorConst, that is, to separate it.  One way to do this is to create a VectorConst "Adapter" (thanks to <a href="http://habrahabr.ru/users/osmirnov/" class="user_link">osmirnov</a> for reminding about this method, without it the article would be incomplete).  It will look like this: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IVector</span></span>&lt;<span class="hljs-title"><span class="hljs-title">in</span></span> <span class="hljs-title"><span class="hljs-title">T</span></span>&gt; { T <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>[<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nIndex] { <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IVectorConst</span></span>&lt;<span class="hljs-title"><span class="hljs-title">out</span></span> <span class="hljs-title"><span class="hljs-title">T</span></span>&gt; { T <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>[<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nIndex] { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">VectorConst</span></span>&lt;<span class="hljs-title"><span class="hljs-title">T</span></span>&gt; : <span class="hljs-title"><span class="hljs-title">IVectorConst</span></span>&lt;<span class="hljs-title"><span class="hljs-title">T</span></span>&gt; { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Vector&lt;T&gt; _vector; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">VectorConst</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Vector&lt;T&gt; vector</span></span></span><span class="hljs-function">)</span></span> { _vector = vector; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> T <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>[<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nIndex] { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _vector[nIndex]; } } } <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Vector</span></span>&lt;<span class="hljs-title"><span class="hljs-title">T</span></span>&gt; : <span class="hljs-title"><span class="hljs-title">IVector</span></span>&lt;<span class="hljs-title"><span class="hljs-title">T</span></span>&gt; { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> T[] _vector; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Vector</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> nSize</span></span></span><span class="hljs-function">)</span></span> { _vector = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> T[nSize]; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> T <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>[<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nIndex] { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _vector[nIndex]; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { _vector[nIndex] = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IVectorConst&lt;T&gt; AsConst { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> VectorConst&lt;T&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } } }</code> </pre><br><br>  As we can see, the constant object (VectorConst) is completely separated from the main one, and the downcast cannot be done from it.  By giving it to someone, we can sleep well, being sure that our vector will remain unchanged. <br><br>  VectorConst does not contain its own implementation (it is still all in Vector), it simply forwards it to the Vector instance.  But not everything here is as smooth as we would like ... When accessing VectorConst, not one call takes place, but two, and this may already be unprofitable with so-called.  performance.  In addition, each time the main object interface changes, it is necessary to add / edit methods in IVectorConst and VectorConst, and when new suitable methods appear, the compiler does not force us to do this, we must remember this ourselves, and this is an extra headache.  But if these disadvantages are not so critical, then this approach will probably be optimal.  And in particular, if the main object has already been written and it is impossible or impractical to rewrite it. <br><br><h5>  4. The real separation of a constant object </h5><br>  On the same vector example, it will look like this: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IVectorConst</span></span>&lt;<span class="hljs-title"><span class="hljs-title">out</span></span> <span class="hljs-title"><span class="hljs-title">T</span></span>&gt; { T <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>[<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nIndex] { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IVector</span></span>&lt;<span class="hljs-title"><span class="hljs-title">in</span></span> <span class="hljs-title"><span class="hljs-title">T</span></span>&gt; { T <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>[<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nIndex] { <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> VectorConst&lt;T&gt; : IVectorConst&lt;T&gt; { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> T[] _vector; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">VectorConst</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">T[] vector</span></span></span><span class="hljs-function">)</span></span> { _vector = vector; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> T <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>[<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nIndex] { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _vector[nIndex]; } } } <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> Vector&lt;T&gt; : IVector&lt;T&gt; { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> T[] _vector; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> VectorConst&lt;T&gt; _reader; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Vector</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> nSize</span></span></span><span class="hljs-function">)</span></span> { _reader = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> VectorConst&lt;T&gt;(_vector = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> T[nSize]); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> T <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>[<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nIndex] { <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { _vector[nIndex] = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> VectorConst&lt;T&gt; Reader { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _reader; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> VectorConst&lt;T&gt;(Vector&lt;T&gt; vector) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> vector._reader; } }</code> </pre><br><br>  Now our VectorConst is not only separated, but the implementation of the vector itself is divided into two parts.  All that we had to pay for it with tz.  performance, is the initialization of the VectorConst structure by copying the _vector reference and an additional reference in memory.  When passing VectorConst to a method, the property is called and the same copy is made.  Thus, it can be said that in terms of performance, this is almost equivalent to the transfer to the method of the instance T [], but with protection against changes (which we were trying to achieve).  And so that when passing an instance of Vector to methods that accept VectorConst, you do not explicitly call the Reader property once again, you can add a conversion operator to Vector: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> VectorConst&lt;T&gt;(Vector&lt;T&gt; vector) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> vector._reader; }</code> </pre><br><br>  However, using the object directly, we cannot do without calling the Reader property: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> v = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(<span class="hljs-number"><span class="hljs-number">5</span></span>); v[<span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-number"><span class="hljs-number">0</span></span>; Console.WriteLine(v.Reader[<span class="hljs-number"><span class="hljs-number">0</span></span>]);</code> </pre><br><br>  And also, we cannot do without it if we need to use the covariance of IVectorConst (despite the presence of the transformation operator): <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">A</span></span> { } <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">B</span></span> : <span class="hljs-title"><span class="hljs-title">A</span></span> { } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ReadVector</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IVectorConst&lt;A&gt; vector</span></span></span><span class="hljs-function">)</span></span> { ... } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> vector = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector&lt;B&gt;(); ReadVector(vector.Reader);</code> </pre><br><br>  And this is the main and, perhaps, the only disadvantage of this approach: its use is somewhat unusual because of the need in some cases to call the Reader.  But while there is no const for arguments in C #, in any case you have to sacrifice something. <br><br>  Many will probably say that all these are truisms.  But perhaps for someone this article and these simple templates will be useful. </div><p>Source: <a href="https://habr.com/ru/post/199520/">https://habr.com/ru/post/199520/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../199510/index.html">Drupal.org updated to Drupal 7</a></li>
<li><a href="../199512/index.html">Bender: ideological fighter for minimal CSS / Javascript</a></li>
<li><a href="../199514/index.html">IconBIT NetTAB Mercury Q7 Review: The Only 6.5-inch Smartphone in Russia</a></li>
<li><a href="../199516/index.html">Development of the AppJS project is terminated, then use node-webkit</a></li>
<li><a href="../199518/index.html">We load SNMP monitoring data into Oracle</a></li>
<li><a href="../199526/index.html">iON Air Pro 2 Wi-Fi: the flagship "underwater" camera - the nuances and features</a></li>
<li><a href="../199528/index.html">Soon, laptops will be able to use USB ports for charging</a></li>
<li><a href="../199530/index.html">ZTE introduced its modular smartphone ECO-MOBIUS</a></li>
<li><a href="../199534/index.html">PACT Conference (Parallel Architects and Compilation Techniques) 2013. Attendance Report</a></li>
<li><a href="../199536/index.html">Personal Finance 2: Money Never Sleeps - how to protect yourself financially?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>