<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Vim after 15 years</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="My previous posts about using Vim ( 1 , 2 ) were well received by readers, and it's time to update. Vim 8 has a lot of really needed functionality, an...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Vim after 15 years</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/59/f0/83/59f083e99d4b9512710863.jpeg"></p><br><p>  My previous posts about using Vim ( <a href="https://statico.github.io/vim.html">1</a> , <a href="https://statico.github.io/vim2.html">2</a> ) were well received by readers, and it's time to update.  Vim 8 has a lot of really needed functionality, and new community sites like <a href="https://vimawesome.com/">VimAwesome</a> made it easier to find and select plugins.  Recently, I have been working a lot with Vim and have organized a workflow based on maximum efficiency, here is a snapshot of my current work. </p><br><p>  In short: </p><br><ul><li>  FZF and FZF.vim - to search for files. </li><li> ack.vim and <code>ag</code> - to search for files. </li><li>  Vim + tmux - the key to victory. </li><li>  Thanks to the asynchrony, ALE is the new Syntastic. </li><li>  ‚Ä¶And much more.  About this below. </li></ul><a name="habracut"></a><br><p><img src="https://habrastorage.org/webt/59/f0/58/59f058d81af58809955196.png"><br>  <em>Recent vim session</em> </p><br><p>  As usual, everyone can download my <a href="https://github.com/statico/dotfiles/">dot-files</a> and <a href="https://github.com/statico/dotfiles/blob/master/.vim/vimrc">vimrc</a> .  I also prepared a separate <a href="">installation script</a> for updating and installing Vim plug-ins. </p><br><h2 id="fzf">  Fzf </h2><br><p>  TextMate and Sublime Text showed us that the fastest way to search for files is fuzzy finding, when you enter parts of a file name, path, tag, or something else.  Sometimes it works, even if the characters are not located next to each other or when you are mistaken in writing.  Fuzzy search is so useful that in modern text editors has become a standard feature. </p><br><p>  For years, the lord of fuzzy search was <a href="https://vimawesome.com/plugin/ctrlp-vim-everything-has-changed">Ctrl-P</a> , but the new <a href="https://github.com/junegunn/fzf">FZF</a> tool <a href="https://github.com/junegunn/fzf">turned</a> out to be faster and unpretentious when searching for one file or tag among thousands of others.  Ctrl-P worked fine in my codebase of 30,000 files on the 2013 MacBook Pro, but began to slow down when searching through a huge tagged file, and so much so that they simply could not be used.  And the speed of FZF does not change at all - it searches for files and tags equally quickly. </p><br><p>  Getting started with FZF is easy.  Just follow <a href="https://github.com/junegunn/fzf">the installation instructions</a> ( <code>brew install FZF</code> on macOS using <a href="https://brew.sh/">Homebrew</a> ) and install the additional plugin <a href="">FZF.vim</a> to get hellishly fast functionality. </p><br><p>  FZF is accompanied by a basic Vim plugin, but its functionality is minimal, so <a href="">FZF.vim is</a> designed to provide all the features you need.  The most useful commands are <code>:Buffers</code> <code>:Files</code> and <code>:Tags</code> , I tied them to <code>;</code>  <code>,t</code> and <code>,r</code> respectively: </p><br><pre> <code class="hljs ruby">nmap ; <span class="hljs-symbol"><span class="hljs-symbol">:Buffers&lt;CR&gt;</span></span> nmap &lt;Leader&gt;t <span class="hljs-symbol"><span class="hljs-symbol">:Files&lt;CR&gt;</span></span> nmap &lt;Leader&gt;r <span class="hljs-symbol"><span class="hljs-symbol">:Tags&lt;CR&gt;</span></span></code> </pre> <br><p>  The binding is important to me <code>;</code>  because I live buffers.  I practically do not use tabs - we'll talk about this below - that's why it is important for me that I can switch to what I think about with minimal effort. </p><br><p>  Make sure FZF applies <code>ag</code> , a <code>grep/ack</code> replacement called <a href="https://github.com/ggreer/the_silver_searcher">Silver Searcher</a> .  ag will respect your <code>.gitignore</code> and <code>.agignore</code> , so there is no longer any need to store the huge <code>wildignore</code> string in your <code>vimrc</code> . </p><br><p>  FZF can also work in a shell, it comes with bindings for Zsh, Bash and Fish.  In Zsh, I can press <code>Ctrl-t</code> to instantly start a fuzzy search for any file in the current directory.  And since I configured FZF to use ag, it ignores everything that is excluded in <code>.gitignore</code> .  It is wonderful. </p><br><p>  Here is a piece of code from my <a href="https://github.com/statico/dotfiles/blob/340c01d0970bc2cd6a27284ddb87774131c00e5c/.zshrc">.zshrc</a> .  When FZF is called from Vim, FZF environment variables are also used: </p><br><pre> <code class="hljs pgsql"># FZF via Homebrew <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ -e /usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/opt/FZF/shell/completion.zsh ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> source /usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/opt/FZF/shell/key-bindings.zsh source /usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/opt/FZF/shell/completion.zsh fi # FZF via <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> installation <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ -e ~/.FZF ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> _append_to_path ~/.FZF/bin source ~/.FZF/shell/key-bindings.zsh source ~/.FZF/shell/completion.zsh fi # FZF + ag <span class="hljs-keyword"><span class="hljs-keyword">configuration</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> _has FZF &amp;&amp; _has ag; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> export FZF_DEFAULT_COMMAND=<span class="hljs-string"><span class="hljs-string">'ag --nocolor -g ""'</span></span> export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND" export FZF_ALT_C_COMMAND="$FZF_DEFAULT_COMMAND" export FZF_DEFAULT_OPTS=<span class="hljs-string"><span class="hljs-string">' --color fg:242,bg:236,hl:65,fg+:15,bg+:239,hl+:108 --color info:108,prompt:109,spinner:108,pointer:168,marker:168 '</span></span> fi</code> </pre> <br><p>  I was going to write about one big flaw in FZF: this is an external command that does not work with MacVim.  But now everything has changed!  Support was <a href="https://github.com/junegunn/fzf.vim/issues/416">added recently</a> with the help of <a href="https://vimhelp.appspot.com/terminal.txt.html">new native terminals in Vim 8</a> .  It works well, but much slower than the terminal in a large code base (~ 1 million files). </p><br><h3 id="pomimo-nechyotkogo-poiska">  In addition to fuzzy search </h3><br><p>  Although FZF, Ctrl-P and other editors support fuzzy searches in paths and file names, I hope that someone will create a search for first characters for Vim.  For example, in IntelliJ, if you want to open the class <code>FooFactoryGeneratorBean</code> , then press <code>Cmd-o</code> and write <code>FFGBEnter</code> (the first characters of each part of the class name).  This is very convenient for finding tags, because class names are often written in the Camel register, regardless of programming language.  You can, for example, treat characters before the underscore as first characters, so that <code>fbbq</code> will match a file like <code>foo_bar_baz_quux.js</code> . </p><br><h2 id="poisk-i-okno-quickfix">  Search and QuickFix window </h2><br><p>  <code>Ag</code> is the new <code>ack</code> , which was a new <code>grep</code> .  At first glance, the best way to use <code>ag</code> from Vim is <a href="https://vimawesome.com/plugin/ack-vim">ack.vim</a> , but this is a misconception because <a href="https://github.com/rking/ag.vim/issues/124">ag.vim is outdated</a> , but ack.vim supports both <code>ack</code> and <code>ag</code> . </p><br><p>  ack.vim provides the command <code>:Ack</code> , which takes arguments in the same way as ag is executed from the command line, except that it opens the QuickFix window with a list of search results: </p><br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Your browser does not support HTML5 video. <source src="https://statico.github.io/images/vim/vim3-ack.mp4" type="video/mp4"></video></div></div></div><br><p>  Note that <code>:Ack</code> defaults to the first result in the QuickFix list.  If you don't like it, use <code>:Ack!</code>  , or swap the functionality of two commands <a href="">in a particular document</a> . </p><br><p>  (You may be confused by the fact that <code>FZF.vim</code> adds the command <code>:Ag</code> , which interactively uses FZF to search using ag. I tied it to the sample for <code>,a</code> . I didn‚Äôt notice any special sense, but it‚Äôs cool.) </p><br><p>  When the results appear in the QuickFix window, the easiest way to use them is to move the cursor and press Enter to open the result.  Also to navigate through the list there are commands <code>:cnext</code> and <code>:cprev</code> , and I tried to find suitable cross-platform shortcut keys, but did not find it.  Then I discovered <a href="https://vimawesome.com/plugin/unimpaired-vim">vim-unimpaired</a> , adding useful binding like <code>[q</code> and <code>]q</code> for <code>:cprev</code> and <code>:cnext</code> .  In fact, vim-unimpaired has much more bindings for forward / backward pairs ‚Äî navigating through compiler / linter errors and including popular options like line numbers, which I think should be built into Vim. </p><br><p>  Using the QuickFix window for search results is so convenient that I wrote a few bindings to search for the current word under the cursor.  As <code>exhuberant-ctags</code> tries to search for tags in Ruby and CoffeeScript, sometimes you just need to search for the word you are looking at: </p><br><pre> <code class="hljs xml">nmap <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Mk</span></span></span><span class="hljs-tag">&gt;</span></span> :Ack! "\b<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cword</span></span></span><span class="hljs-tag">&gt;</span></span>\b" <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CR</span></span></span><span class="hljs-tag">&gt;</span></span> nmap <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Esc</span></span></span><span class="hljs-tag">&gt;</span></span>k :Ack! "\b<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cword</span></span></span><span class="hljs-tag">&gt;</span></span>\b" <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CR</span></span></span><span class="hljs-tag">&gt;</span></span> nmap <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">MSk</span></span></span><span class="hljs-tag">&gt;</span></span> :Ggrep! "\b<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cword</span></span></span><span class="hljs-tag">&gt;</span></span>\b" <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CR</span></span></span><span class="hljs-tag">&gt;</span></span> nmap <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Esc</span></span></span><span class="hljs-tag">&gt;</span></span>K :Ggrep! "\b<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cword</span></span></span><span class="hljs-tag">&gt;</span></span>\b" <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CR</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Finally, after searching and navigating, I usually press <code>\x</code> (tied to <code>:cclose</code> ) to close the QuickFix window.  Probably, I will need to return to the file that I looked at before starting the search, so I usually repeat <code>Ctrl-o</code> several times, thereby <a href="https://vimhelp.appspot.com/motion.txt.html">jumping back through the list of transitions</a> , as if pressing the Back button in the browser.  At other times I use;  to raise the list from the buffer and search for the original file there.  But now, when I thought about it, maybe I‚Äôll change the <a href="https://vimhelp.appspot.com/motion.txt.html">global mark</a> in my <code>Meta-k</code> binding to <code>'O</code> , so <code>'O</code> will always take me back to where I started. </p><br><h2 id="terminaly-paneli-i-uplotnenie-multiplexing">  Terminals, panels and seals (multiplexing) </h2><br><p>  I once mentioned that I rarely use gvim / MacVim.  I prefer the terminal, but there are a number of good reasons for choosing a separate Vim application: </p><br><ol><li>  It is more responsive than Vim inside tmux inside the terminal. </li><li>  To open txt files under MacOS and Windows, it is better to use the application by default, rather than TextEdit. </li><li>  In wide editing windows he has no problems with <a href="https://stackoverflow.com/q/7000960/102704">clicks after the 220th column</a> . </li><li>  If you are writing a long blog post with a lot of errors and the Vim terminal <a href="https://github.com/fabrizioschiavi/pragmatapro/issues/14">does not emphasize them</a> .  Or if you prefer a wavy underscore. </li><li>  If you need a <strong>real</strong> color scheme of Solarized instead of the blasphemy that was obtained by <a href="http://ethanschoonover.com/solarized/vim-colors-solarized">compressing Solarized to 256 colors</a> . </li></ol><br><p>  Besides being close to the command line, another important reason to use Vim in a terminal is <a href="https://github.com/tmux/tmux/wiki/FAQ">tmux</a> .  It is popular for remote development, but is also convenient for local development.  Today tmux is present in my daily full-screen working environment, and Vim usually occupies one of the tmux panels.  This allows me to use Vim while keeping several shells open ‚Äî usually a server and one or two utility panels.  Sometimes I temporarily open Vim full screen with a <a href="https://sanctum.geek.nz/arabesque/zooming-tmux-panes/">keyboard shortcut</a> . </p><br><p>  Killer feature tmux - the ability to <a href="http://minimul.com/increased-developer-productivity-with-tmux-part-5.html">send keystrokes</a> in the panels from anywhere.  I use tmux and Vim as an IDE: I can edit in one panel, execute commands in another, while keeping the server log in front of my eyes in case of errors.  For example, if I work with a REST endpoint, I can retest it with <code>curl</code> and view the output with <a href="https://stedolan.github.io/jq/">jq</a> by pressing just a few keys: </p><br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Your browser does not support HTML5 video. <source src="https://statico.github.io/images/vim/vim3-tmux.mp4" type="video/mp4"></video></div></div></div><br><p>  I usually make changes to Vim, to save, press <code>:wEnter</code> , then use <code>&lt;prefix&gt;h</code> go to the left panel (where <code>&lt;prefix&gt;</code> is the prefix-combination of tmux keys, usually <code>Ctrl-a</code> ), then <code>UpEnter</code> to repeat the command, and finally <code>&lt;prefix&gt;l</code> to return to Vim.  But it will be much faster to build a Binding for this in Vim: </p><br><pre> <code class="hljs xml">nmap \r :!tmux send-keys -t 0:0.1 Cp Cj <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CR</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CR</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  The <code>tmux send-keys</code> command is launched, which orders you to send keystrokes of the session, window, and panel <code>0:0.1</code> , where I had previously run <code>curl</code> .  Then <code>Ctrl-p</code> sent there, which is similar to pressing <code>Up</code> , as a result of which the last command is extracted from the history, and after <code>Enter</code> for execution.  I tied it to <code>\r</code> like run or repeat.  Learn more about <code>send-keys</code> <a href="http://minimul.com/increased-developer-productivity-with-tmux-part-5.html">here</a> and <a href="https://stackoverflow.com/a/19330452/102704">here</a> . </p><br><p>  This approach helped me six months and greatly increased my productivity.  But I must say that now Vim 8 supports <a href="https://vimhelp.appspot.com/terminal.txt.html">native terminals inside the editor</a> , and after some use, they seemed to me very sensible.  Prior to this, various plugins tried to integrate terminals into Vim with mediocre results.  New native terminals work fast, are Unicode sensitive, support 256 colors, and use the new <code>term_sendkeys()</code> function, which allows you to send keystrokes using tmux for example.  It appeared in Vim just a few months ago, so I still need to experiment.  Who knows, maybe, instead of tmux, I will choose split MacVim in combination with <code>:terminal</code> . </p><br><h3 id="primechanie-o-terminalah-na-macos">  Note about terminals on macOS </h3><br><p>  How many can remember, instead of the standard Terminal.app MacOC terminal, I chose <a href="https://www.iterm2.com/">iTerm2</a> .  And recently I noticed that when typing in Vim inside iTerm2, I feel slowness, especially inside tmux.  For comparison, I tried to use <code>urxvt</code> inside XQuartz, and everything worked with lightning speed.  Something added a noticeable delay, but I was not going to make <code>urxvt</code> my main terminal on macOS due to buffer problems, switching and the lack of support for high DPI values ‚Äã‚Äãin XQuartz. </p><br><p>  A few days later, I read <a href="https://danluu.com/term-latency/">an article</a> that said there was a delay in input between terminals on macOS and claimed that Terminal.app is now much faster than iTerm2.  I tried it myself and found that the delay after pressing the keys was somewhere between urxvt and iTerm2, so I completely switched to Terminal.app.  I turned on a <a href="https://github.com/mbadolato/iTerm2-Color-Schemes">fancy color scheme</a> and was happy to find a project that <a href="https://github.com/lysyi3m/osx-terminal-themes">converted all the themes</a> under Terminal.app. </p><br><p>  I miss only vertical splits in iTerm2 and the simplicity of using fonts of different sizes in different panels.  In iTerm2 (more precisely, in any editor in which the editing zone is not a single grid with a fixed-size cell) this is easier to do.  But I can live without it. </p><br><h2 id="napisanie-prozy-v-vim">  Writing prose in vim </h2><br><p>  The ability to write without distracting is important.  There are some nice looking native and browser applications for this, but I wanted to work with Vim, so I came up with a solution. </p><br><p><img src="https://habrastorage.org/webt/59/f0/58/59f058d811967113080452.png"></p><br><p>  Beautiful <a href="https://vimawesome.com/plugin/goyo-vim">goyo.vim</a> plugin adds a lot of functions to the buffer and hides all unnecessary.  He recognizes the status bar of Airline / Powerline / Lightline and also hides them, <a href="https://github.com/itchyny/lightline.vim/issues/83">well, for the most part</a> .  This is plus a few other tricks in the setting I call the <strong>prose mode</strong> : </p><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span>! ProseMode() <span class="hljs-keyword"><span class="hljs-keyword">call</span></span> goyo#<span class="hljs-keyword"><span class="hljs-keyword">execute</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>, []) <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> spell noci nosi noai nolist noshowmode noshowcmd <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> complete+=s <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> bg=light <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> !has(<span class="hljs-string"><span class="hljs-string">'gui_running'</span></span>) let g:solarized_termcolors=<span class="hljs-number"><span class="hljs-number">256</span></span> endif colors solarized endfunction command! ProseMode <span class="hljs-keyword"><span class="hljs-keyword">call</span></span> ProseMode() nmap \p :ProseMode&lt;CR&gt;</code> </pre> <br><p>  I tied this command to <code>\p</code> .  It includes Goyo and gets rid of all sorts of funny things useful when writing code, such as indents when entering brackets.  Also, the plugin changes the color scheme from my usual dark to a light version of Solarized.  This is important because it visually reminds me that I am in the "writing mode" and that it is impossible to be distracted: you need to create text. </p><br><p>  The command also forces the auto-complete function to pull words out of the dictionary when I press Tab in the hope that I can write faster.  This feature is still in development, but it can be useful from time to time. </p><br><h2 id="linting">  Lint </h2><br><p>  One of the best and most essential additions to Vim has become the <a href="https://vimhelp.appspot.com/channel.txt.html">management of asynchronous processes</a> .  Now, when Vim can execute processes in the background, a good new <a href="https://vimawesome.com/plugin/ale">ALE</a> plugin intrudes into the possession of <a href="https://vimawesome.com/plugin/syntastic">Syntastic</a> , asynchronously executing linters.  No more waiting for your linter to do the work each time the file is written.  I wrote a lot of Ruby-code in Jruby, and there it was necessary to wait for a long time while the linter did everything, so I turned off Syntastic.  But thanks to ALE, I can now include lint when writing code. </p><br><h2 id="lightline-powerline-airline-i-stroki-sostoyaniya">  Lightline, Powerline, Airline and status bars </h2><br><p>  I worked with Powerline for the last few years and eventually transformed it into a more lightweight <a href="https://vimawesome.com/plugin/vim-airline">Airline</a> .  But the information and widgets in the status lines are more distracting than useful.  I do not need to know the current file encoding or syntax type.  In addition, I am not pleased with <a href="https://github.com/powerline/fonts">his fonts</a> .  I switched to <a href="https://vimawesome.com/plugin/lightline-vim">Lightline</a> and put <a href="https://github.com/statico/dotfiles/blob/202e30b23e5216ffb6526cce66a0ef4fa7070456/.vim/vimrc">some effort</a> into minimizing it and adding linter status icons: </p><br><p><img src="https://habrastorage.org/webt/59/f0/58/59f058d82d45c056652681.png"></p><br><p>  I do not see the need to display the name of the current Git branch in the status bar, especially in the terminal to which you can switch at the touch of a button.  Also, I don‚Äôt like the idea of ‚Äã‚Äãputting a Git branch in shell status, because it looks messy if you switch branches from another shell.  But here I‚Äôm definitely in the minority, maybe I‚Äôm missing something. </p><br><h2 id="git">  Git </h2><br><p>  If you are using Git, several plugins will be important to you. </p><br><p>  <a href="https://vimawesome.com/plugin/vim-gitgutter">vim-gitgutter</a> shows markers for any lines that have been added, deleted, or changed, as most other editors do today.  For changes, I made the display of a color dot <code>(‚Ä¢)</code> instead of the symbols <code>-</code> and <code>+</code> by default, so it‚Äôs more understandable. </p><br><p><img src="https://habrastorage.org/webt/59/f0/58/59f058d84b289494178693.png"></p><br><p>  <a href="https://vimawesome.com/plugin/fugitive-vim">vim-fugitive</a> is the most popular Git plugin for Vim, it has plenty of features.  I have a <a href="https://github.com/statico/dotfiles/blob/master/.zshrc">lot of shell aliases for Git</a> , so in Vim I rarely use anything other than <code>:Gblame</code> and <code>:Gbrowse</code> , but there are many other nice things you expect from the Git-tools built into the editor (if your repository is hosted on GitHub, you will need <a href="https://vimawesome.com/plugin/vim-rhubarb">vim-rhubarb</a> to make it work <code>:Gbrowse</code> ). </p><br><p>  <code>:Gbrowse</code> is a miracle - it opens the current file in the browser with an optional row selection, assuming that your repository is mirrored on GitHub, GitLab or elsewhere.  Now, when used to solve problems and requests to include code, it has become even more useful to display in GitHub links to specific commits and line numbers as code fragments.  It is enough to select a few lines using <code>Shift-v</code> , execute <code>:Gbrowse</code> , copy the opened URL and insert a comment into GitHub: </p><br><p><img src="https://habrastorage.org/webt/59/f0/58/59f058d858c33465552647.png"></p><br><p>  I planned to talk about <a href="https://vimawesome.com/plugin/rootignore">RootIgnore</a> and how it automatically configures <code>wildignore</code> based on your <code>.gitignore</code> .  But this was not the best idea, because on the Vim command line, the auto-completion of paths by pressing Tab does not work if the path is in <code>wildignore</code> .  Moreover, the <code>expand()</code> built-in function returns null if the path that you ask it to expand is on the ignored list.  I did not immediately figure out that because of this, my prescribed <code>.gitignore</code> and host- <code>.vimlocal</code> file <code>.vimlocal</code> not be provided to my registered <code>.vimrc</code> . </p><br><h2 id="bufery-bufery-bufery">  Buffers, buffers, buffers </h2><br><p>  I am a strong believer in the use of buffers.  I tried to work with tabs, but did not find any use in them.  Tabs are an additional way to hide information, and in order to navigate to them, you need to memorize additional keyboard shortcuts or commands.  If you have tmux, it is easier to open it in another Vim panel.  And if you are good at using buffers, you can easily get the file you need in a few button presses - with the help of FZF, as described above. </p><br><p>  Buffers are easy to understand: after running Vim, any open or created file turns into a named buffer.  You can view them with the command <code>:buffers</code> and navigate to one of them with <code>:buf &lt;name&gt;</code> , where <code>&lt;name&gt;</code> is any part of the name of the buffer file.  Or using the numbers that appear on the command <code>:buffers</code> . </p><br><p>  If you run Vim from the command line with several files as arguments, then each file will already be opened in a buffer.  If you have installed <a href="https://vimawesome.com/plugin/unimpaired-vim">vim-unimpaired</a> , then for simple navigation between the buffers you can use <code>[b</code> and <code>]b</code> . </p><br><p>  I significantly accelerated this process by clicking the key <code>;</code>  FZF-command <code>:Buffers</code> , so that one click of the button I get a list of buffers with a fuzzy search function.  For example, if I opened three <code>vim foo.txt bar.txt quux.txt</code> files on the command line, then to go to <code>quux.txt</code> just type <code>;qEnter</code> .  (Yes, it looks like usage <code>:buf</code> , but FZF shows a live preview when you have a lot of files open with similar names.) </p><br><p>  Sometimes I accidentally create buffers, for example, when I try to open a file, I enter <code>:e</code> and press Enter too quickly.  The command <code>:bd</code> can be used to erase the buffer and remove it from the list, but then the Vim or split window in which this buffer is open will also close.  A good solution is <a href="https://vimawesome.com/plugin/bufkill-vim">bufkill.vim</a> , which provides <code>:BD</code> to erase the current buffer and keep the current window open.  I often use it, so I tied it to <code>Meta-w</code> . </p><br><p>  If you need to rename, make chmod or delete the file, you can go to the terminal and make a change, but then the Vim buffer will no longer be synchronized and will show an annoying warning ‚ÄúFile is no longer available‚Äù.  It is better to take <a href="https://github.com/scrooloose/nerdtree">NERDTree</a> and highlight the current file with <code>:NERDTreeFind</code> , press <code>m</code> to change and select an action like move or rename.  I prefer <a href="https://vimawesome.com/plugin/eunuch-vim">vim-eunuch</a> , which adds a series of commands:: <code>:Chmod</code> applies chmod to the current file <code>:Chmod</code> <code>:Rename</code> renames the file in its parent directory <code>:Chmod</code> <code>:Move</code> can move the file to another location, and <code>:Delete</code> deletes the file and the buffer.  There are a few more commands, but I resort to these most often. </p><br><h2 id="prochie-plaginy">  Other plugins </h2><br><p>  I was prompted by the <a href="https://vimawesome.com/plugin/vim-polyglot">vim-polyglot</a> plugin, in which more than 100 syntax plugins are assembled into a single package.  It loads them only on demand.  All versions are fresh, the author chose the best plug-ins, so that indentation and highlighting work well for most popular languages. </p><br><p>  Commenting code is an everyday task, so it makes sense to choose a plugin smart enough to comment on lines or blocks of code in different languages.  You can take <code>:s/^/#</code> if you write code that uses hashes to comment on lines, but I prefer the <a href="https://vimawesome.com/plugin/commentary-vim">vim-commentary</a> plugin.  It allows you to comment out or uncomment the code in any language using the <code>gc</code> command. </p><br><p>  The <a href="https://vimawesome.com/plugin/surround-vim">vim-surround</a> plugin is so useful that it can be embedded in Vim.     ,        . ,         .  ,  <code>.</code>      ,       <a href="https://vimawesome.com/plugin/repeat-vim">repeat.vim</a> . ,         <code>cS'"</code>   ,         <code>.</code> . </p><br><p>    Ruby         ,       <code>end</code> .  <a href="https://vimawesome.com/plugin/endwise-vim">endwise</a>   .      HTML  XML,    <a href="https://vimawesome.com/plugin/closetag-vim">closetag.vim</a> ,      <code>&lt;/</code> . </p><br><p>       <a href="https://statico.github.io/vim.html">     </a> ,       ,      .  <a href="https://vimawesome.com/plugin/sleuth-vim">sleuth.vim</a>     ,    .   90 %      . </p><br><h2 id="mysli-o-plaginah">    </h2><br><p>        Vim  VimL,  <a href="https://vimhelp.appspot.com/channel.txt.html">  </a>     ( <a href="https://vimhelp.appspot.com/version7.txt.html">indispensable types</a> ).     <a href="https://vimawesome.com/">VimAwesome</a>             . </p><br><p>          Vim    .        :  ,           ,     .   WordPress. ,    ,    Mac OS Classic.           . </p><br><p>    Vim   .       Y      ¬´vim X with Y¬ª,          . <a href="https://github.com/alampros/vim-styled-jsx/issues/1"></a>    ,        (binary-search)    ,     .   ,        ,    . </p><br><p>    ‚Äî       <em> </em>  Vim.     Vim,      ,       ,       ,   ,     . ,     <a href="https://vimawesome.com/plugin/easymotion">EasyMotion</a>  <a href="https://vimawesome.com/plugin/vim-sneak">vim-sneak</a> ,  ,      Vim.    Vim ,    ,    Vim,  . . </p><br><p>        ,     Vim  Ruby,  Python,    - ,  ,     . Vim 7      ,        VimL       .    <a href="https://github.com/tpope/vim-pathogen">vim-pathogen</a> ,   runtime- Vim   <code>~/.vim/bundle/</code> ,     ,  <a href=""></a> <code>git clone</code> . </p><br><p>  :     ,      Vim,    .   ,      ,            Vim   .            ,          . </p><br><h2 id="vim-ne-edinstvennyy-redaktor"> Vim    </h2><br><p>     . <a href="https://atom.io/">Atom</a>  Microsoft <a href="https://code.visualstudio.com/">Visual Studio Code</a>  ,       . <a href="https://www.sublimetext.com/">Sublime Text</a>   . <a href="https://www.jetbrains.com/idea/download/">IntelliJ IDEA</a>     Community Edition.      Vim   ,       . </p><br><p> -   ,   .       Sublime Text.    ,       ,     macOS, Windows  Linux.    ,                      .  -   Vim      . </p><br><p>    Java, , IntelliJ IDEA.  <a href="https://www.jetbrains.com/idea/download/">Community Edition</a>     , , ,   Java-  Kotlin-.     Maven-,    Git,   ,    , <a href="https://www.jetbrains.com/help/idea/viewing-method-parameter-information.html">   </a> ,  ,   ctags,  .     Ruby,   -      <code>puts</code> ,    IntelliJ     .     Vim,    <a href="https://plugins.jetbrains.com/plugin/164-ideavim">IdeaVIM</a>    . </p><br><p>    Visual Studio Code,    ,     TypeScript,    Microsoft    .           .        .   ,  Vim- <a href="https://vimawesome.com/plugin/youcompleteme">YouCompleteMe</a>  ,    C  C++,      TypeScript. </p><br><p> <a href="https://neovim.io/">NeoVim</a>  ,      .            ,         Vim. </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>      ,      .  Vim      ,      .  <a href="https://vimawesome.com/">VimAwesome.com</a>            - .         -    ¬´ <strong></strong>     ¬ª. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/340740/">https://habr.com/ru/post/340740/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../340730/index.html">Review of music software code defects. Part 3. Rosegarden</a></li>
<li><a href="../340732/index.html">Asynchrony 3: Subject model</a></li>
<li><a href="../340734/index.html">Eleven project management mistakes on the example of the transatlantic yacht crossing</a></li>
<li><a href="../340736/index.html">Three bugs iOS developer, which can be costly</a></li>
<li><a href="../340738/index.html">DevOops 2017: Docker, Docker, Docker</a></li>
<li><a href="../340742/index.html">You can‚Äôt please everyone, or what we learn from the 2006 redesign of the Facebook feed</a></li>
<li><a href="../340744/index.html">Time Travel Debugging in the new WinDbg</a></li>
<li><a href="../340746/index.html">Video calls to Zoom video from web pages</a></li>
<li><a href="../340750/index.html">Web application on Node and Vue, part 1: project structure, API, authentication</a></li>
<li><a href="../340752/index.html">Secrets of a developer who has sold half a million copies of games</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>