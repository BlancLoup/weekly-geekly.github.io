<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ZendX_JQuery + jqGrid</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Continuing the theme of the Zend / Doctrine bundle. 
 Considering that it would be necessary to resolve the issue of paginal listing of data from the ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ZendX_JQuery + jqGrid</h1><div class="post__text post__text-html js-mediator-article"> Continuing the theme of the Zend / Doctrine bundle. <br>  Considering that it would be necessary to resolve the issue of paginal listing of data from the table, it was decided to use jqGrid as this tool. <br>  The reason for the choice is simple - at the moment it is one of the most powerful grids, with good documentation, and so on. <br><a name="habracut"></a><br>  1) Create a View_Helper.  In our example, we create this class in our library - Xms_ZendX_JQuery_View_Helper_jqGrid <br><br><blockquote> <code><font color="#000000">public</font> <font color="#000000">function</font> jqGrid <font color="#009900">(</font> <font color="#000088">$id</font> <font color="#339933">,</font> <font color="#990000">array</font> <font color="#000088">$params</font> <font color="#339933">=</font> <font color="#990000">array</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">)</font> &lt;br/&gt; <br> <font color="#009900">{</font> &lt;br/&gt; <br> <font color="#000088">$params</font> <font color="#339933">=</font> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _adjuctParams <font color="#009900">(</font> <font color="#000088">$params</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#b1b100">if</font> <font color="#009900">(</font> <font color="#990000">count</font> <font color="#009900">(</font> <font color="#000088">$params</font> <font color="#009900">)</font> <font color="#339933">&gt;</font> <font color="#cc66cc">0</font> <font color="#009900">)</font> <font color="#009900">{</font> &lt;br/&gt; <br> <font color="#000088">$encodedParams</font> <font color="#339933">=</font> ZendX_JQuery <font color="#339933">::</font> <font color="#004000">encodeJson</font> <font color="#009900">(</font> <font color="#000088">$params</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#009900">}</font> <font color="#b1b100">else</font> <font color="#009900">{</font> &lt;br/&gt; <br> <font color="#000088">$encodedParams</font> <font color="#339933">=</font> <font color="#0000ff">"{}"</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#009900">}</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#000088">$js</font> <font color="#339933">=</font> <font color="#990000">sprintf</font> <font color="#009900">(</font> <font color="#0000ff">'%s("#%s").jqGrid(%s);'</font> <font color="#339933">,</font> &lt;br/&gt; <br> ZendX_JQuery_View_Helper_JQuery <font color="#339933">::</font> <font color="#004000">getJQueryHandler</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">,</font> &lt;br/&gt; <br> <font color="#000088">$id</font> <font color="#339933">,</font> &lt;br/&gt; <br> <font color="#000088">$encodedParams</font> &lt;br/&gt; <br> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> <font color="#004000">jquery</font> <font color="#339933">-&gt;</font> <font color="#004000">addOnLoad</font> <font color="#009900">(</font> <font color="#000088">$js</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> <font color="#004000">view</font> <font color="#339933">-&gt;</font> <font color="#004000">headscript</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">-&gt;</font> <font color="#004000">appendFile</font> <font color="#009900">(</font> <font color="#0000ff">'/js/jquery/jquery.jqGrid.js'</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> <font color="#004000">view</font> <font color="#339933">-&gt;</font> <font color="#004000">headLink</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">-&gt;</font> <font color="#004000">appendStylesheet</font> <font color="#009900">(</font> <font color="#0000ff">'/css/jsgrid/steel/grid.css'</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#000088">$html</font> <font color="#339933">=</font> <font color="#0000ff">"&lt;table id="</font> <font color="#0000ff">'. $id . '</font> <font color="#0000ff">"&gt;&lt;/table&gt;"</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$html</font> <font color="#339933">.=</font> <font color="#0000ff">'&lt;div id="'</font> <font color="#339933">.</font> <font color="#000088">$params</font> <font color="#009900">[</font> <font color="#0000ff">'pager'</font> <font color="#009900">]</font> <font color="#339933">.</font> <font color="#0000ff">'" class="scroll" style="text-align:center;"&gt;&lt;/div&gt;'</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#b1b100">return</font> <font color="#000088">$html</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#009900">}</font> <br></code> </blockquote> <code><font color="#000000">public</font> <font color="#000000">function</font> jqGrid <font color="#009900">(</font> <font color="#000088">$id</font> <font color="#339933">,</font> <font color="#990000">array</font> <font color="#000088">$params</font> <font color="#339933">=</font> <font color="#990000">array</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">)</font> &lt;br/&gt; <br> <font color="#009900">{</font> &lt;br/&gt; <br> <font color="#000088">$params</font> <font color="#339933">=</font> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _adjuctParams <font color="#009900">(</font> <font color="#000088">$params</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#b1b100">if</font> <font color="#009900">(</font> <font color="#990000">count</font> <font color="#009900">(</font> <font color="#000088">$params</font> <font color="#009900">)</font> <font color="#339933">&gt;</font> <font color="#cc66cc">0</font> <font color="#009900">)</font> <font color="#009900">{</font> &lt;br/&gt; <br> <font color="#000088">$encodedParams</font> <font color="#339933">=</font> ZendX_JQuery <font color="#339933">::</font> <font color="#004000">encodeJson</font> <font color="#009900">(</font> <font color="#000088">$params</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#009900">}</font> <font color="#b1b100">else</font> <font color="#009900">{</font> &lt;br/&gt; <br> <font color="#000088">$encodedParams</font> <font color="#339933">=</font> <font color="#0000ff">"{}"</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#009900">}</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#000088">$js</font> <font color="#339933">=</font> <font color="#990000">sprintf</font> <font color="#009900">(</font> <font color="#0000ff">'%s("#%s").jqGrid(%s);'</font> <font color="#339933">,</font> &lt;br/&gt; <br> ZendX_JQuery_View_Helper_JQuery <font color="#339933">::</font> <font color="#004000">getJQueryHandler</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">,</font> &lt;br/&gt; <br> <font color="#000088">$id</font> <font color="#339933">,</font> &lt;br/&gt; <br> <font color="#000088">$encodedParams</font> &lt;br/&gt; <br> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> <font color="#004000">jquery</font> <font color="#339933">-&gt;</font> <font color="#004000">addOnLoad</font> <font color="#009900">(</font> <font color="#000088">$js</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> <font color="#004000">view</font> <font color="#339933">-&gt;</font> <font color="#004000">headscript</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">-&gt;</font> <font color="#004000">appendFile</font> <font color="#009900">(</font> <font color="#0000ff">'/js/jquery/jquery.jqGrid.js'</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> <font color="#004000">view</font> <font color="#339933">-&gt;</font> <font color="#004000">headLink</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">-&gt;</font> <font color="#004000">appendStylesheet</font> <font color="#009900">(</font> <font color="#0000ff">'/css/jsgrid/steel/grid.css'</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#000088">$html</font> <font color="#339933">=</font> <font color="#0000ff">"&lt;table id="</font> <font color="#0000ff">'. $id . '</font> <font color="#0000ff">"&gt;&lt;/table&gt;"</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$html</font> <font color="#339933">.=</font> <font color="#0000ff">'&lt;div id="'</font> <font color="#339933">.</font> <font color="#000088">$params</font> <font color="#009900">[</font> <font color="#0000ff">'pager'</font> <font color="#009900">]</font> <font color="#339933">.</font> <font color="#0000ff">'" class="scroll" style="text-align:center;"&gt;&lt;/div&gt;'</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#b1b100">return</font> <font color="#000088">$html</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#009900">}</font> <br></code> <br><br>  What happens in this method <br>  1) Parameters for installing jqGrid are converted to the full view required to display the grid. <br>  2) Script and style file added <br>  3) Tags are written to display the grid itself and page by page. <br>  4) The onLoad event is added to initialize the grid on the client. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Now register helper in bootstrap <br>  $ view-&gt; addHelperPath ('Xms / ZendX / JQuery / View / Helper /', 'Xms_ZendX_JQuery_View_Helper'); <br><br>  And in our view script, call the helper to get the grid <br>  &lt;? = $ this-&gt; jqGrid ("jqGrid", $ this-&gt; jqGridParams);  ?&gt; <br><br>  Where jqGridParams is created in the controller as follows <br><blockquote> <code><font color="#000088">$columns</font> <font color="#339933">=</font> Xms_DoctrineX_Table <font color="#339933">::</font> <font color="#004000">getAccessibleColumns</font> <font color="#009900">(</font> <font color="#0000ff">'Modules'</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#b1b100">foreach</font> <font color="#009900">(</font> <font color="#000088">$columns</font> <font color="#b1b100">as</font> <font color="#000088">$key</font> <font color="#339933">=&gt;</font> <font color="#000088">$val</font> <font color="#009900">)</font> <font color="#009900">{</font> &lt;br/&gt; <br> <font color="#000088">$colNames</font> <font color="#009900">[</font> <font color="#009900">]</font> <font color="#339933">=</font> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _translate <font color="#339933">-&gt;</font> _ <font color="#009900">(</font> <font color="#000088">$key</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$colModel</font> <font color="#009900">[</font> <font color="#009900">]</font> <font color="#339933">=</font> <font color="#990000">array</font> <font color="#009900">(</font> <font color="#0000ff">"name"</font> <font color="#339933">=&gt;</font> <font color="#000088">$key</font> <font color="#339933">,</font> <font color="#0000ff">"sortable"</font> <font color="#339933">=&gt;</font> <font color="#0000ff">"true"</font> <font color="#339933">,</font> <font color="#0000ff">"align"</font> <font color="#339933">=&gt;</font> <font color="#0000ff">"right"</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#009900">}</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> <font color="#004000">view</font> <font color="#339933">-&gt;</font> <font color="#004000">jqGridParams</font> <font color="#339933">=</font> <font color="#990000">array</font> <font color="#009900">(</font> <font color="#0000ff">'url'</font> <font color="#339933">=&gt;</font> <font color="#0000ff">'/cms/modules/index'</font> <font color="#339933">,</font> &lt;br/&gt; <br> <font color="#0000ff">'colNames'</font> <font color="#339933">=&gt;</font> <font color="#000088">$colNames</font> <font color="#339933">,</font> &lt;br/&gt; <br> <font color="#0000ff">'colModel'</font> <font color="#339933">=&gt;</font> <font color="#000088">$colModel</font> <font color="#339933">,</font> &lt;br/&gt; <br> <font color="#009900">)</font> <font color="#339933">;</font> <br></code> </blockquote> <code><font color="#000088">$columns</font> <font color="#339933">=</font> Xms_DoctrineX_Table <font color="#339933">::</font> <font color="#004000">getAccessibleColumns</font> <font color="#009900">(</font> <font color="#0000ff">'Modules'</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#b1b100">foreach</font> <font color="#009900">(</font> <font color="#000088">$columns</font> <font color="#b1b100">as</font> <font color="#000088">$key</font> <font color="#339933">=&gt;</font> <font color="#000088">$val</font> <font color="#009900">)</font> <font color="#009900">{</font> &lt;br/&gt; <br> <font color="#000088">$colNames</font> <font color="#009900">[</font> <font color="#009900">]</font> <font color="#339933">=</font> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _translate <font color="#339933">-&gt;</font> _ <font color="#009900">(</font> <font color="#000088">$key</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$colModel</font> <font color="#009900">[</font> <font color="#009900">]</font> <font color="#339933">=</font> <font color="#990000">array</font> <font color="#009900">(</font> <font color="#0000ff">"name"</font> <font color="#339933">=&gt;</font> <font color="#000088">$key</font> <font color="#339933">,</font> <font color="#0000ff">"sortable"</font> <font color="#339933">=&gt;</font> <font color="#0000ff">"true"</font> <font color="#339933">,</font> <font color="#0000ff">"align"</font> <font color="#339933">=&gt;</font> <font color="#0000ff">"right"</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#009900">}</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> <font color="#004000">view</font> <font color="#339933">-&gt;</font> <font color="#004000">jqGridParams</font> <font color="#339933">=</font> <font color="#990000">array</font> <font color="#009900">(</font> <font color="#0000ff">'url'</font> <font color="#339933">=&gt;</font> <font color="#0000ff">'/cms/modules/index'</font> <font color="#339933">,</font> &lt;br/&gt; <br> <font color="#0000ff">'colNames'</font> <font color="#339933">=&gt;</font> <font color="#000088">$colNames</font> <font color="#339933">,</font> &lt;br/&gt; <br> <font color="#0000ff">'colModel'</font> <font color="#339933">=&gt;</font> <font color="#000088">$colModel</font> <font color="#339933">,</font> &lt;br/&gt; <br> <font color="#009900">)</font> <font color="#339933">;</font> <br></code> <br><br>  The set of columns is created dynamically and passed as a parameter in the view script.  This is done so that the grid can display the fields to which the user has access, as the sets of available fields are constantly changing. <br><br>  That is all.  The result is a dynamic grid, with a set of fields depending on rights. </div><p>Source: <a href="https://habr.com/ru/post/64337/">https://habr.com/ru/post/64337/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../64332/index.html">Aion video localization day</a></li>
<li><a href="../64333/index.html">Vendekapets</a></li>
<li><a href="../64334/index.html">SMSCoin - we are 3 years old!</a></li>
<li><a href="../64335/index.html">A simple program in automator</a></li>
<li><a href="../64336/index.html">OperaMini and Javascript</a></li>
<li><a href="../64345/index.html">PDA from GPS</a></li>
<li><a href="../64348/index.html">Calendar UNIQLO</a></li>
<li><a href="../64349/index.html">Talking context translator of sites</a></li>
<li><a href="../64350/index.html">The organization of distributed disk storage with the possibility of unlimited expansion using the technology of LVM and ATAoE</a></li>
<li><a href="../64353/index.html">nekobeans - cool icons for netbeans</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>