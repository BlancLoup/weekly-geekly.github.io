<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The tale of Tsar Saltan about the potential of the Laplacian</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=""Three girls under the window were spinning late in the evening." 



 Well, as spun. Not spun, of course, but like each other. Under the terms of the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The tale of Tsar Saltan about the potential of the Laplacian</h1><div class="post__text post__text-html js-mediator-article">  <i>"Three girls under the window were spinning late in the evening."</i> <br><br><img src="https://habrastorage.org/files/fc0/b5f/0be/fc0b5f0be95a47e1872561f28ae1056f.jpg" alt="image"><br><br>  Well, as spun.  Not spun, of course, but like each other.  Under the terms of the contest "Miss Sultan" girls had to choose the best among themselves. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ‚ÄúSome strange competition,‚Äù worried the girls.  And it was true.  According to the rules of the contest, the participant's like weight depended on how many likes he receives from others.  What does this mean - none of the girls did not fully understand. <br>  ‚ÄúHow complicated it all is,‚Äù the girls grieved and cheered themselves on with the song ‚ÄúIf I was a queen.‚Äù <br><br>  Soon "the king entered the luminaries - the sides of the sovereign" (shown in the figure).  "During the whole conversation ...", - well, of course, in general. <br>  ‚ÄúWe collect likes of tenderness - we form an adjacency matrix,‚Äù he said cheerfully. <br>  The beautiful girls with the names Alyona, Varvara and Sophia were embarrassed, but the likes (from the balalaika) were transmitted. <br><br>  Here is what was there: <br><ul><li>  Alena received 1 like from Sophia and 2 likes from Barbara. </li><li>  Barbara received a husky from Alena and Sophia. </li><li>  And Sophia received 2 likes from Alena and 1 from Barbara. </li></ul><br>  The king took the huskies, twirled the nuts, tapped the wheels, snorted his nose, smacked his lips, gritted his teeth, drove them into the chambers and announced the results. <br><br>  Sophia got the greatest weight of likes (7 points), but Alena got the title ‚ÄúMiss Saltan‚Äù (15 points). <br><br><div class="spoiler">  <b class="spoiler_title">More about the likes matrix</b> <div class="spoiler_text">  For matrix <br><img src="https://tex.s2cms.ru/svg/%5Cbegin%7Bmatrix%7D%0A%20%20%20%26%20A%20%26%20B%20%26%20C%20%5C%5C%0A%20A%20%26%20-%20%26%202%20%26%201%20%5C%5C%0A%20B%20%26%201%20%26%20-%20%26%201%20%5C%5C%0A%20C%20%26%202%20%26%201%20%26%20-%20%5C%5C%0A%5Cend%7Bmatrix%7D"><br><br>  the potential vector is (5, 4, 7), and the flux vector is (15, 12, 14). <br></div></div><br>  After the results were announced, the girls <s>rushed</s> to the tsar with a request to tell, where did these strange figures come from? <br><a name="habracut"></a><br><br><h2>  1. Equation of balance </h2><br>  Our world is based on balance.  This means that if in one place something arrived, then in another place as much has gone. <br><br>  Physicists demonstrate this balance <a href="http://ru.wikipedia.org/wiki/%25D0%25A3%25D1%2580%25D0%25B0%25D0%25B2%25D0%25BD%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5_%25D0%25BD%25D0%25B5%25D0%25BF%25D1%2580%25D0%25B5%25D1%2580%25D1%258B%25D0%25B2%25D0%25BD%25D0%25BE%25D1%2581%25D1%2582%25D0%25B8">by the continuity equation</a> for continuous and continuous media.  But in the modern world, <s>tank wedges are</s> controlled by discrete systems - graphs. <br><br>  The graph has nodes through which the stream flows (well, how it flows - jolts and irregularly).  The principle of balance is simple - in the graph node there is a difference between how much has flowed from it and how much has flowed into it.  And where does the flow from the node flow?  That's right - in other nodes, respectively, the stream flows into the node also from other nodes. <br><br>  We write this set of words with the formula: <br><br><img src="https://tex.s2cms.ru/svg/%5Csum%5Climits_%7Bj%7D%20%7BJ_i_j%7D%20-%20%5Csum%5Climits_%7Bj%7D%20%7BJ_j_i%7D%20%3D%20%5CDelta%20H_i%0A%5Cquad(1.1)"><br><br>  Here <img src="https://tex.s2cms.ru/svg/%5Csum%5Climits_%7Bj%7D%20%7BJ_i_j%7D">  denotes the amount of input to the <i>i-</i> th node, <img src="https://tex.s2cms.ru/svg/%5Csum%5Climits_%7Bj%7D%20%7BJ_j_i%7D">  - the number of outgoing flow from the node, <img src="https://tex.s2cms.ru/svg/%5CDelta%20H_i">  - change in the remainder in the node. <br><br>  Yes, the balances in our wallets obey this balance equation.  And all the accounting on it is based - even came up with special names: outgoing flow - credit, incoming - debit. <br><br>  It is not known who and why introduced the principle of balance into natural (physical) systems, but it is better to base the principle of balance into the basis of artificial systems (accounting, ratings, karma, etc.).  If the world survived on balance, then such a system has a chance. <br><br>  In many situations (in particular, with our evaluation competition), accounting for the remainder in the node is not needed.  That is, it is always zero - how many have flowed - so much has flowed out.  <s>Zero cost</s> zero balance game.  For such systems, the equation is simplified: <br><br><img src="https://tex.s2cms.ru/svg/%5Csum%5Climits_j%7BJ_i_j%7D%20%3D%20%5Csum%5Climits_j%7BJ_j_i%7D%0A%5Cquad(1.2)"><br><br>  Cool.  But so far it is of little use. <br><br><h3>  Potential balance </h3><br>  When we said that a stream could flow from node <i>i</i> to node <i>j</i> , we meant that there was some connection between these nodes.  Otherwise, the flow simply has nothing to flow.  The connectivity of nodes of a graph is usually called <i>the adjacency matrix (connectivity)</i> , its elements are denoted by <img src="https://tex.s2cms.ru/svg/C_i_j">  .  As applied to flows, an adjacency matrix is ‚Äã‚Äãalso called <i>a conductivity matrix</i> .  Its elements reflect the <i>bandwidth of the</i> edges of the graph. <br><br>  There is a connection - there is a flow, there is no connection - there is no flow.  It is logical to assume that the stronger the connection, the greater the flow. <br>  So, the flow between nodes is proportional to the magnitude of the connection nodes.  But what is the proportionality factor? <br><br>  The answer will be a bit foggy - the flow from the node is proportional to a certain <i>potential of the node</i> . <br>  The essence of this answer is that the nodes have some potential <img src="https://tex.s2cms.ru/svg/U_i">  and this potential directly determines the amount of outgoing flow.  If, for example, we have two nodes, the conductivity between which is the same in both directions ( <img src="https://tex.s2cms.ru/svg/C_i_j%20%3D%20C_j_i">  ), then the total flow between the nodes will be determined by the potential difference of these nodes.  The existence of electrical networks proves that this really works. <br><br>  The relationship of flow with potentials and conductivity is expressed by a simple formula: <br><br><img src="https://tex.s2cms.ru/svg/J_i_j%20%3D%20C_i_j%20U_j%5Cquad(1.3)"><br><br>  Substituting (1.3) into the balance equation (1.2) we obtain the system of equations for calculating the potentials of the nodes: <br><br><img src="https://tex.s2cms.ru/svg/%5Csum%5Climits_j%7BC_i_jU_j%7D%20%3D%20%5Csum%5Climits_j%7BC_j_iU_i%7D%20%3D%20U_iC_i%0A%5Cquad(1.4)"><br><br>  In this equation, the conductivities are known, and the potentials are unknown. <br>  The number of equations in the system is equal to the number of nodes in the graph.  Solving a system of balance equations is a direct task of calculating the potentials (and flows) of a graph. <br><br>  In equation (1.4) we used the concept of total conductivity of outgoing links from the node ‚Äî the degree of the node: <br><br><img src="https://tex.s2cms.ru/svg/C_i%20%3D%20%5Csum%5Climits_j%7BC_j_i%7D%20%5Cquad(1.5)"><br><br><h3>  Ratings and self-assessments </h3><br>  <i>‚ÄúEverything is great,‚Äù said the girls, yawning.</i>  <i>- ‚ÄúBut where does the husky come from?‚Äù</i> <br><br>  In voting systems where participants evaluate each other, ratings are taken based on the weight of each participant‚Äôs vote.  And the weight of the vote, again, depends on how this member is rated by others. <br><br>  We associate with threads.  When the <i>i-</i> th participant with the weight of the voice <img src="https://tex.s2cms.ru/svg/U_i">  evaluates the <i>j-</i> th member with a rating (number of likes) <img src="https://tex.s2cms.ru/svg/C_i_j">  he shares his stream with him <img src="https://tex.s2cms.ru/svg/C_j_iU_i">  .  There is no need to save the balance here, so each participant shares with the others everything that he received. <br><br>  Member voice is potential <img src="https://tex.s2cms.ru/svg/U_i">  , the likes matrix is ‚Äã‚Äãan adjacency (connectedness) matrix, and the final score is the total received (it is given) stream <img src="https://tex.s2cms.ru/svg/J_i">  . <br><br>  To rank the participants (determine the best), we need to solve the balance equation (1.4), that is, determine the weights of the participants who will balance the system. <br><br><h2>  2. Laplacians </h2><br>  When I <s>was young and stupid, I</s> first encountered the equation of balance (1.4), I already knew how to program and knew about cycles.  Therefore, I solved it as a programmer using the method of successive iterations.  We set the initial vector of potentials, multiply it by the adjacency matrix, divide by the degrees of the nodes, obtain a new vector of potentials, etc. As a rule, the process converges.  And I remembered about youth, having read an article about the <a href="https://habrahabr.ru/post/280312/">values ‚Äã‚Äãof a drunkard</a> , which in general led me to ‚Äúuncover formulas‚Äù. <br><br>  I remember the ‚Äúwow effect‚Äù when I learned that there is another way to calculate the potentials, about which, apparently, <s>our grandfathers</s> Laplace and Kirchhoff knew.  The method is based on the properties of matrix Laplacians.  There have <a href="https://habrahabr.ru/post/280216/">recently recalled</a> Laplacians in continuous environments.  Discrete Laplacians are no less interesting and important. <br><br>  In order to determine the matrix of the Laplacian for a given adjacency matrix, we use the above concept of the degree of nodes.  We place the degrees of the nodes diagonally on the Laplacian, and take the remaining elements from the adjacency matrix with the opposite sign.  The resulting matrix is ‚Äã‚Äãalso called <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B0%25D1%2582%25D1%2580%25D0%25B8%25D1%2586%25D0%25B0_%25D0%259A%25D0%25B8%25D1%2580%25D1%2585%25D0%25B3%25D0%25BE%25D1%2584%25D0%25B0">the Kirchhoff matrix</a> : <br><br><img src="https://tex.s2cms.ru/svg/K%20%3D%20L(C)%20%3D%20E(C_i)%20-%20C%0A%5Cquad(2.1)"><br><br><div class="spoiler">  <b class="spoiler_title">Here you can see the Laplacian from our likes.</b> <div class="spoiler_text"><img src="https://tex.s2cms.ru/svg/%5Cbegin%7Bmatrix%7D%0A%20%20%26%20A%20%26%20B%20%26%20C%20%5C%5C%0AA%20%26%203%20%26%20-2%20%26%20-1%20%5C%5C%0AB%20%26%20-1%20%26%203%20%26%20-1%20%5C%5C%0AC%20%26%20-2%20%26%20-1%20%26%202%0A%5Cend%7Bpmatrix%7D"><br></div></div><br><br>  Let us assume that the conductivity outgoing from the node <i>i</i> is given in the <i>ith</i> column of the matrix.  Accordingly, in the <i>i-</i> th row of the matrix - the conductivity of the arcs included in the node.  Then the sum of the elements of each column of the Laplacian is zero. <br><br>  Generally speaking, the matrices of this type form a separate class, - <i>Laplacians</i> .  The determinant of the Laplacians is always zero, so, for example, for them there is no ordinary inverse matrix.  But then there is another (pseudo) inverse, there is also its own identity matrix.  You can get the Laplacian not only by the above conversion.  For example, <a href="https://habrahabr.ru/post/262601/">the deviation transformation</a> also gives the Laplacian at the output. <br><br>  Laplacians can be symmetric - in them the potentials of all nodes are equal to each other - for our task, they are not interesting yet. <br><br>  Kirchhoff matrix belongs to the class of Laplacians. <br><br><h3>  Potentials of Laplacians </h3><br>  In linear algebra, there is the concept of <a href="https://ru.wikipedia.org/wiki/%25D0%2594%25D0%25BE%25D0%25BF%25D0%25BE%25D0%25BB%25D0%25BD%25D0%25B8%25D1%2582%25D0%25B5%25D0%25BB%25D1%258C%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BC%25D0%25B8%25D0%25BD%25D0%25BE%25D1%2580">an additional minor (cofactor) of a</a> matrix ‚Äî this is the determinant of a matrix obtained from the original crossing out of rows and columns (taking into account the sign).  Cofactors play a big role in laplacians. <br><br>  <b>The potential of the 1st order of the Laplacian is called the determinant of the matrix, obtained by deleting one row and one column from the original Laplacian.</b> <br><br>  Since we have assumed that in our Laplacians the sum of each column is zero, the value of the potential is determined only by the crossed out column - any line can be.  It is convenient to cross out the same line as the column - then do not think about the sign of the determinant. <br><br>  So, if we denote by <img src="https://tex.s2cms.ru/svg/A_j%5Ei(M)">  the additional minor of the matrix, the definition of the potential of the laplacian can be written as <br><br><img src="https://tex.s2cms.ru/svg/U_i%20%3D%20A_i%5Ei(K)%5Cquad(2.2)"><br><br>  So these 1st order potentials from the Kirchhoff matrix are the desired solution of equation (1.4). <br>  Amazing.  No need for any cycles, initial assignments, the product of matrices, etc. Deleted a row / column, considered the determinant - got the answer. <br><br><div class="spoiler">  <b class="spoiler_title">Properties of potentials of the 1st order</b> <div class="spoiler_text"><ul><li>  The node potential is the sum of the products (tuples) of the conductivities of the edges of the graph along all possible paths to this node, excluding contours (cycles). </li><li>  The number of multipliers in the product is 1 less than the dimension (number of nodes) of the graph. </li><li>  The node potential does not depend on the conductivities of the arcs emanating from it. </li><li>  Each tuple (path) in an expression for a node's potential consists of arcs that originate from all nodes except this one.  In one tuple there are no two arcs outgoing from one node, but there may be arcs included in one node. </li><li>  In each tuple (path) there is necessarily an arc entering the node (closure). </li><li>  In the expression for the potential there are no tuples containing cycles (contours). </li><li>  The number of tuples in the expression for the potential is determined by the well-known Cayley formula. <img src="https://tex.s2cms.ru/svg/N_u%20%3D%20n%5E%7B(n-2)%7D">  , and grows rapidly with the growth of nodes of the graph.  For 4 nodes we have 4 ^ 2 = 16 terms, for five - 5 ^ 3 = 125, and so on. </li><li>  In a symmetric graph, the potentials of all nodes are equal - a consequence of the fact that the structure of the expression for the potentials of all nodes is the same (the difference is only in the direction). </li></ul></div></div><br><div class="spoiler">  <b class="spoiler_title">Graphic structure of a 4-node graph potential</b> <div class="spoiler_text">  Demonstrates the combinatorial nature of the expression for potential. <br><img src="https://habrastorage.org/files/d5b/096/73f/d5b09673fbb748b2a3d5f29713dc3bdc.png"><br></div></div><br><br>  To determine the flow through the node, it is enough to multiply the potential of the node by its degree: <br><br><img src="https://tex.s2cms.ru/svg/F_i%20%3D%20U_iC_i%20%3D%20A_i%5Ei(K)C_i%5Cquad(2.3)"><br><br>  We got what we wanted. <br><br><div class="spoiler">  <b class="spoiler_title">We count likes</b> <div class="spoiler_text">  To calculate the weight of the voice (potential) of the participant, we delete the corresponding row and column and consider the determinant.  We get 3 potential: <br><img src="https://tex.s2cms.ru/svg/V_A%20%3D%203*2-(-1)*(-1)%3D5"><br><img src="https://tex.s2cms.ru/svg/V_B%20%3D%203*2-(-2)*(-1)%3D4"><br><img src="https://tex.s2cms.ru/svg/V_C%20%3D%203*3-(-1)*(-2)%3D7"><br><br>  This is the weight of the voice of each participant.  Now we count the streams and determine who got how many votes: <br><img src="https://tex.s2cms.ru/svg/J_A%20%3D%20V_AC_A%20%3D%205*3%20%3D%2015"><br><img src="https://tex.s2cms.ru/svg/J_B%20%3D%20V_BC_B%20%3D%204*3%20%3D%2012"><br><img src="https://tex.s2cms.ru/svg/J_C%20%3D%20V_CC_C%20%3D%207*2%20%3D%2014"><br><br>  Alain scored the most votes. <br></div></div><br><br><h3>  How to count the potentials of large graphs </h3><br>  If the graph is large (many nodes), then it is inconvenient (expensive) to calculate the potential vector through the calculation of the determinants of the Laplacian minors.  In such situations, it is better to use matrix inversion.  The algorithm is as follows: <br><ul><li>  In the matrix of the Laplacian, we replace the first row with the vector (1, 0, 0, ...). </li><li>  We consider the inverse matrix of the resulting one and find its determinant. </li><li>  We divide the values ‚Äã‚Äãof the first column of the obtained inverse matrix into its determinants.  This is the desired vector of potentials.  In the first line - the potential of the first node, in the second - the second, and so on. </li><li>  If the absolute value of the potential is unimportant, then it is not necessary to count and divide by the determinant. </li></ul><br><br><h2>  Ranking objects based on potentials and flows </h2><br>  According to the results of our example, it turned out that Sophia received the greatest weight of the vote, but Alain scored the most points. <br>  This means that the authoritative and the chosen are not the same. <br><br>  What exactly should serve as a basis for ranking - potentials or flows - requires a separate consideration in each task, since it is determined by the applied aspect. <br><br><h3>  Tournament results </h3><br>  Consider the use of a ranking system in relation to the definitions of the outcome of a chess tournament.  Is the current system of determining the winner a simple sum of points?  In our opinion, it has only one virtue - simplicity.  But in the age of smartphones, who cares about simplicity? <br>  It is unfair that the winning of the strong is essentially equal in the ‚Äúsimple system‚Äù to winning against the weak. <br><br>  A modern and correct approach is to consider weighted glasses, that is, to use the calculation of potentials and flows.  One more plus - with this system, the sharing of places is practically excluded - no need to think about what to do with equal points. <br><br>  Just recently <a href="http://chesspro.ru/tournaments/candidates16">, the Candidates Tournament ended in Moscow</a> (congratulations to Sergey Karjakin on his victory!), Following which a large number of participants divided the seats (2-3, 4-7).  Using the method of potentials, let's try to figure out who actually took the place. <br><br>  The tournament results are the adjacency matrix of the graph.  In terms of likes, losing a participant is like putting a winner to a like (although it sounds a bit unusual).  From the loser to the winner is a flow of weighted points. <br><br>  And what is the potential in relation to the players? <br>  Potential is the strength of the game shown by the participant (in this tournament).  The higher the potential of the participant - the more valuable are the points received from him by others. <br>  Is it possible for a less strong player to score more points than a stronger one?  Yes, it is quite possible, although it happens less often.  For example, in the aforementioned tournament of applicants the strength of the participant and the points scored by him coincided - the ranking by potentials and flows turned out to be equivalent. <br><br><div class="spoiler">  <b class="spoiler_title">For those interested in details</b> <div class="spoiler_text">  We normalized the potentials and flows so that their sum was equal to 100. <br><table><tbody><tr><td></td><td>  Sergey Karjakin </td><td>  Hikaru Nakamura </td><td>  Anish Giri </td><td>  Vichy anand </td><td>  Veselin Topalov </td><td>  Levon Aronian </td><td>  Fabiano Caruana </td><td>  Peter Svidler </td></tr><tr><td>  <b>U</b> </td><td>  17,8 </td><td>  11.4 </td><td>  12.5 </td><td>  13.7 </td><td>  6.4 </td><td>  12.0 </td><td>  13.8 </td><td>  12.4 </td></tr><tr><td>  <b>J</b> </td><td>  14.5 </td><td>  11.8 </td><td>  13.0 </td><td>  13.2 </td><td>  9.0 </td><td>  12.4 </td><td>  13.3 </td><td>  12.8 </td></tr><tr><td>  <b>M</b> </td><td>  one </td><td>  7 </td><td>  four </td><td>  3 </td><td>  eight </td><td>  6 </td><td>  2 </td><td>  five </td></tr></tbody></table><br>  Caruana is still the second, and Geary is the 4th. <br></div></div><br><h3>  Drunkard potentials </h3><br>  The last example that we will consider in this article is the calculation of the value of the cards in the popular game "Drunkard". <br>  Thanks for this <a href="https://habrahabr.ru/users/astgtciv/" class="user_link">astgtciv</a> example.  Without his <a href="https://habrahabr.ru/post/280312/">article</a> , perhaps it would not be this. <br><br>  Details on the formulation of the problem are in the above-mentioned article, - the cards beat each other according to the rules of precedence, but at the same time the six beat the ace. <br>  This task is good because the values ‚Äã‚Äãof the potentials (hmm, and what the flows mean what?) Can be expressed in an explicit form - with simple formulas. <br><br>  The general view of the adjacency matrix corresponds to the results of card comparisons - who beats whom. <br>  Numbering the cards from the conditional ace to the conditional six, we obtain the following form of the adjacency matrix: <br><br><img src="https://tex.s2cms.ru/svg/C_n%20%3D%20%5Cbegin%7Bpmatrix%7D%0A%20-%20%26%201%20%26%201%20%26%20%5Ccdots%20%26%201%20%26%201%20%26%200%20%5C%5C%0A%200%20%26%20-%20%26%201%20%26%20%5Ccdots%20%26%201%20%26%201%20%26%201%20%5C%5C%0A%200%20%26%200%20%26%20-%20%26%20%5Ccdots%20%26%201%20%26%201%20%26%201%20%5C%5C%0A%20%5Cvdots%20%26%20%5Cvdots%20%26%20%5Cvdots%20%26%20%5Cddots%20%26%20%5Cvdots%20%26%20%5Cvdots%20%26%20%5Cvdots%20%5C%5C%0A%200%20%26%200%20%26%200%20%26%20%5Ccdots%20%26%20-%20%26%201%20%26%201%20%5C%5C%0A%200%20%26%200%20%26%200%20%26%20%5Ccdots%20%26%200%20%26%20-%20%26%201%20%5C%5C%0A%201%20%26%200%20%26%200%20%26%20%20%5Ccdots%20%26%200%20%26%200%20%26%20-%0A%5Cend%7Bpmatrix%7D"><br><br>  The key feature - in the lower left (and / or upper right) corner - "six beats an ace." <br>  Then the Kirchhoff matrix will look like: <br><br><img src="https://tex.s2cms.ru/svg/K_n%20%3D%20%5Cbegin%7Bpmatrix%7D%0A%201%20%26%20-1%20%26%20-1%20%26%20%5Ccdots%20%26%20-1%20%26%20-1%20%26%200%20%5C%5C%0A%200%20%26%201%20%26%20-1%20%26%20%5Ccdots%20%26%20-1%20%26%20-1%20%26%20-1%20%5C%5C%0A%200%20%26%200%20%26%202%20%26%20%5Ccdots%20%26%20-1%20%26%20-1%20%26%20-1%20%5C%5C%0A%20%5Cvdots%20%26%20%5Cvdots%20%26%20%5Cvdots%20%26%20%5Cddots%20%26%20%5Cvdots%20%26%20%5Cvdots%20%26%20%5Cvdots%20%5C%5C%0A%200%20%26%200%20%26%200%20%26%20%5Ccdots%20%26%20n-1%20%26%20-1%20%26%20-1%20%5C%5C%0A%200%20%26%200%20%26%200%20%26%20%5Ccdots%20%26%200%20%26%20n-2%20%26%20-1%20%5C%5C%0A%20-1%20%26%200%20%26%200%20%26%20%20%5Ccdots%20%26%200%20%26%200%20%26%20n-2%0A%5Cend%7Bpmatrix%7D"><br><br>  Now you can clearly see why the potential of the ‚Äúsix‚Äù is equal to (n-2)!  Because having crossed out the column and the row corresponding to the ‚Äúsix‚Äù (these are the extreme rows on the right and below), we get a triangular matrix, the determinant of which is considered to be a simple multiplication of the elements of the main diagonal. <br>  The same is true for the ace (1st line and column) with the only difference that it contains an element (n-2) in the multipliers.  Therefore, it is immediately obvious that the potential of an ace is always (n-2) times the potential of the six. <br><br><div class="spoiler">  <b class="spoiler_title">Formula Summary</b> <div class="spoiler_text">  Expressions for potentials from ace to six: <br><img src="https://tex.s2cms.ru/svg/U(1%2Cn)%20%3D%20(n-2)!(n-2)%20%5C%5C%0AU(k%2Cn)%20%3D%20(n-1)!(k-2)!%2Fk!%20%3A%201%20%3C%20k%20%3C%20n%5C%5C%0AU(n%2Cn)%20%3D%20(n-2)!%20%5C%5C"><br><br>  Interestingly, the sum of the potentials of all cards (except for the six and the ace) is equal to the potential of the ace: <br><img src="https://tex.s2cms.ru/svg/%5Csum_k%7BU(k%2Cn)%7D%20%3D%20U(1%2Cn)"><br></div></div><br><br><h3>  Conclusion </h3><br><br>  How many could try and listened to the girls the tale of Tsar Saltan about the possibilities of the Laplacian, but still overcame their sound sleep. <br>  They dreamed of good fellows with great potential, managing large flows. <br><br>  It is time for us to wrap up.  Use potentials! </div><p>Source: <a href="https://habr.com/ru/post/280610/">https://habr.com/ru/post/280610/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../280598/index.html">Trends in the development of cloud data centers</a></li>
<li><a href="../280602/index.html">As we broke up mobile Lenta.ru to the speed of light</a></li>
<li><a href="../280604/index.html">Legend of international avos</a></li>
<li><a href="../280606/index.html">Collection and analysis of the logs of demons in Badoo</a></li>
<li><a href="../280608/index.html">Tuples in programming languages. Part 2</a></li>
<li><a href="../280614/index.html">Cisco Routermate</a></li>
<li><a href="../280616/index.html">How the memory is arranged NetApp FAS: NVRAM, Kesh and Tetris</a></li>
<li><a href="../280618/index.html">Exploratory testing: when to use it and how to do it</a></li>
<li><a href="../280622/index.html">Build 2016 conference text translation - second day</a></li>
<li><a href="../280624/index.html">Stand EAST 4 SCADA: how to arrange an accident on the railway</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>