<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Meet Buddy</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="According to the creators, the Buddy robot will be the world's first affordable companion robot for the whole family. Its launch is planned for 2018. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Meet Buddy</h1><div class="post__text post__text-html js-mediator-article">  According to the creators, the Buddy robot will be the world's first affordable companion robot for the whole family.  Its launch is planned for 2018.  In this article, we will share the experience of its developers in deploying architecture with high flexibility, as well as an example of calculating the cost of this solution. <br><br><img src="https://habrastorage.org/files/864/9ed/f49/8649edf4917444a39da209eeafe011c1.jpg"><br><a name="habracut"></a><br>  <a href="https://aka.ms/habr_324700_1">Blue Frog Robotics</a> is a startup founded two years ago in Paris.  He is currently developing Buddy.  The developers claim that Buddy as a social robot unites and protects all family members, interacting with each of them. <br><br>  During the 2015 crowdfunding campaign, Blue Frog managed to raise the planned amount of $ 100,000 in just one day, and by the end of the campaign, raise it to $ 620,000.  Presales continued on the Blue Frog website, and the total amount reached $ 1.5 million. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Control of the distribution of Buddy will remain at Blue Frog Robotics, and the robot will be sold through various regional store chains.  That is why it is important to create a system to account for the actual deployment and use of the Buddy robot worldwide.  This will ensure the optimum level of its service, depending on popularity. <br><br>  The cloud solution will take care of storing the collected data (consumption, sensors, and so on) and the placement of various services necessary for the proper functioning of the first 2,200 copies of the robot, which will be put into operation next year.  To operate the device efficiently, you need a reliable and scalable internal system.  In addition, it is important to develop an architecture that provides an affordable price solution and an optimal quality of service. <br><br>  During the hackfest, Blue Frog Robotics and Microsoft DX France worked together on a solution from a production perspective, which you will learn about below. <br><br><img src="https://habrastorage.org/files/938/8ca/877/9388ca877986400db86a4aada72b5ee6.JPG" align="left" width="420"><h2>  About BUDDY </h2><br>  Buddy was developed using popular tools (Arduino, OpenCV and Unity 3D) to make it easier for developers to create projects with it.  In addition, the creators are now implementing a full-featured API.  To interact with the robot, in addition to software, developers will be able to create hardware solutions. <br><br>  The kit includes a companion mobile app for family members to connect with Buddy from a distance, supporting video surveillance, video call and remote control functions.  It is developed using C # and Unity 3D, and will be available on iOS, Android and Windows. <br><br>  Buddy features: <br><br><ul><li>  Height 56 ‚Äã‚Äãcm, weight 5 kg, battery life - 8-10 hours. </li><li>  Integrated Brain - 8-inch smart tablet PC with built-in wireless network and Bluetooth. </li><li>  Using the Arduino platform, the mechanical components of the robot perform the commands of the ‚Äúbrain‚Äù. </li><li>  Three wheels and a multitude of sensors provide complete mobility: a robot can move, learn and interact with the outside world. </li><li>  3D Vision technology.  With the help of a standard camera, an infrared camera and an infrared laser transmitter, Buddy easily tracks and recognizes the movements of hands and heads, distinguishes objects, faces, animals, plants, and much more, measures the depth of objects in view. </li><li>  The state-of-the-art artificial intelligence technology allows you to recognize faces, objects and track movements. </li><li>  The robot can listen, talk and nod. </li><li>  The robot has a personality and reacts to what is happening with a wide range of emotions, which allows it to better interact with family members.  High level of <i>kawai</i> at the manifestation of any emotion.  From the cold, he can even beat his teeth! </li></ul><br><h2>  Data types </h2><br>  Buddy sends two types of data to the cloud. <br><br>  <b>Profile and contextual data</b> is a set of data created by Buddy or a companion application for synchronization or backup (map data, user profile, and so on).  This data is configured to read and write with a low request rate and is stored in JSON format. <br><br>  <b>Technical data and usage information</b> are data obtained by a tablet PC and an Arduino map from technical indicators of a robot (for example, battery level, location, servo motor activity).  This data is sent with a high frequency, not subject to change and recorded in JSON format.  The data is encoded in Base64, which reduces the length of the message. <br><br><h2>  Creation of architecture </h2><br>  The main criteria for creating architecture: cost, scaling and security.  Therefore, it is important to minimize infrastructure costs. <br><br>  For all relevant technical aspects, scaling should be considered to avoid performance problems during the global deployment of the robot. <br><br>  As for security, Buddy software implements several types of encryption and data isolation.  To ensure protection in the cloud, the data transferred is anonymous and read and write only exists for authorized systems. <br><br><img src="https://habrastorage.org/files/330/e90/b4b/330e90b4b9ec4c74ac0970d0c3f28f39.jpg"><br><br>  When deploying the selected architecture, three areas were identified: <br><br><ul><li>  Blob storage: saving and restoring data from the format of binary objects and vice versa using shared access signature (SAS). </li><li>  Collecting messages: collecting records from the event log, commands and monitoring results, creating Power BI reports. </li><li>  Automation: Create all Azure Resource Manager files and automation scripts for continuous infrastructure deployment. </li></ul><br><h2>  Collecting messages: from the robot to Power BI </h2><br>  Event hubs were selected as data sink.  To send messages to event hubs, each Buddy must receive a shared access signature.  SAS is transmitted using the <a href="https://azure.microsoft.com/ru-ru/free/%3Fwt.mc_id%3DAID570629_QSG_BLOG_139069">Azure</a> Function. <br><br>  Sample Azure Function code: <br><br><pre><code class="hljs lua">#r <span class="hljs-string"><span class="hljs-string">"Microsoft.ServiceBus"</span></span> using System.Net; using Microsoft.ServiceBus; using System.Configuration; public static async Task&lt;HttpResponseMessage&gt; Run(HttpRequestMessage req, TraceWriter <span class="hljs-built_in"><span class="hljs-built_in">log</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">log</span></span>.Info(<span class="hljs-string"><span class="hljs-string">"Generate Shared Access Signature for Event Hub"</span></span>); // parse query parameter <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> publisherName = req.GetQueryNameValuePairs() .FirstOrDefault(q =&gt; <span class="hljs-built_in"><span class="hljs-built_in">string</span></span>.Compare(q.Key, <span class="hljs-string"><span class="hljs-string">"publisherName"</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) .Value; <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> tokenTimeToLiveParam = req.GetQueryNameValuePairs() .FirstOrDefault(q =&gt; <span class="hljs-built_in"><span class="hljs-built_in">string</span></span>.Compare(q.Key, <span class="hljs-string"><span class="hljs-string">"tokenTimeToLive"</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) .Value; // Get request body dynamic data = await req.Content.ReadAsAsync&lt;object&gt;(); // Set name to query <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> body data publisherName = publisherName ?? data?.publisherName; tokenTimeToLiveParam = tokenTimeToLiveParam ?? data?.tokenTimeToLive; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( publisherName == null) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> req.CreateResponse(HttpStatusCode.BadRequest, <span class="hljs-string"><span class="hljs-string">"Please pass a publisherName on the query string or in the request body"</span></span>); TimeSpan tokenTimeToLive; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( tokenTimeToLiveParam == null) {tokenTimeToLive = TimeSpan.FromMinutes(<span class="hljs-number"><span class="hljs-number">60</span></span>);} <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {tokenTimeToLive = TimeSpan.FromMinutes(double.Parse(tokenTimeToLiveParam));} var appSettings = ConfigurationManager.AppSettings; var sas = CreateForHttpSender( appSettings[<span class="hljs-string"><span class="hljs-string">"EH_1_SAS_PolicyName"</span></span>], appSettings[<span class="hljs-string"><span class="hljs-string">"EH_1_SAS_Key"</span></span>], appSettings[<span class="hljs-string"><span class="hljs-string">"EH_1_SAS_Namespace"</span></span>], appSettings[<span class="hljs-string"><span class="hljs-string">"EH_1_SAS_HubName"</span></span>], publisherName, tokenTimeToLive); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>.IsNullOrEmpty(sas)) {<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> req.CreateResponse(HttpStatusCode.NoContent, <span class="hljs-string"><span class="hljs-string">"No SaS found!"</span></span>);} <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> req.CreateResponse(HttpStatusCode.OK, sas);} } public static <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> CreateForHttpSender(<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> senderKeyName, <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> senderKey, <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> serviceNamespace, <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> hubName, <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> publisherName, TimeSpan tokenTimeToLive) { var serviceUri = ServiceBusEnvironment.CreateServiceUri(<span class="hljs-string"><span class="hljs-string">"https"</span></span>, serviceNamespace, String.Format(<span class="hljs-string"><span class="hljs-string">"{0}/publishers/{1}/messages"</span></span>, hubName, publisherName)) .ToString() .Trim(<span class="hljs-string"><span class="hljs-string">'/'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> SharedAccessSignatureTokenProvider.GetSharedAccessSignature(senderKeyName, senderKey, serviceUri, tokenTimeToLive); }</code> </pre> <br>  The robot sends data to the event hub. <br><br>  Using the Unity 3D application, the robot receives the SAS token created above the Azure Function: <br><br><pre> <code class="hljs pgsql"> ``` /// Methode <span class="hljs-keyword"><span class="hljs-keyword">call</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> StartCoroutine(); private IEnumerator GetSaS(string publisherName) { WWW wwwSas = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> WWW(string.Format("https://tbrblobsasfunapp.azurewebsites.net/api/EventHubSasTokenCSharp?code=YourAccessKey&amp;publisherName={0}", publisherName)); yield <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> wwwSas; // <span class="hljs-keyword"><span class="hljs-keyword">check</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> errors <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (wwwSas.error == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { SaS = wwwSas.text.Trim(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-type"><span class="hljs-type">Char</span></span>[] { <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'\"'</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">Debug</span></span>.Log("Get SaS OK: " + wwwSas.text.Trim(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-type"><span class="hljs-type">Char</span></span>[] { <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'\"'</span></span> })); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">Debug</span></span>.Log("Get SaS Error: " + wwwSas.error); } } ```</code> </pre> <br>  The function has a key to control the event hub: <br><br><img src="https://habrastorage.org/files/e66/e80/fa0/e66e80fa080548b5adb1613b17c74c15.png"><br><br><img src="https://habrastorage.org/files/7f3/ea2/1cd/7f3ea21cd6124a16999a020d4573ca90.png"><br><br>  Data is also sent via a web request from Unity.  This is equivalent to cURL: <br><br><img src="https://habrastorage.org/files/d53/bc0/e5f/d53bc0e5f61e4c8ca16ca64cfe6fda39.png"><br><br>  The data goes to the Azure Event Hub: <br><br><img src="https://habrastorage.org/files/e7d/5d8/01a/e7d5d801a0e84ff7980833a17fab6f7e.png"><br><br>  Then they are processed through Azure Stream Analytics: <br><br><img src="https://habrastorage.org/files/102/24a/8ec/10224a8ecfa845e5bc62fd540b6de88d.png"><br><br>  Azure Stream Analytics sends a copy of all data to blob storage: <br><br><img src="https://habrastorage.org/files/a93/a60/805/a93a60805843467aa057f1c7102e2ba9.png"><br><br><img src="https://habrastorage.org/files/5b6/e4f/c04/5b6e4fc04f7e47fbb4fc31a0b5697103.png"><br><br>  Azure Data Lake Analytics is used for data retrieval: <br><br><img src="https://habrastorage.org/files/b7f/b45/923/b7fb4592385841518650cb8a240b9cbf.png"><br><br><img src="https://habrastorage.org/files/5d2/a0e/308/5d2a0e3084c64baa9ee9a2fbe0a3ef8a.png"><br><br><img src="https://habrastorage.org/files/e77/200/8ac/e772008ac5d24b0cb8ff425a8925261d.png"><br><br>  So the data is displayed in Power BI: <br><br><img src="https://habrastorage.org/files/372/e44/ede/372e44ede23a46ffb75369c26f2a6efd.png"><br><br><h2>  Calculation of the cost of infrastructure </h2><br>  To calculate the cost of the robot, you need to select a number of key elements: <br><br><ul><li>  The number of deployable robots: 2200 </li><li>  The number of active applications companions for the robot: 2 </li><li>  Average technical data and usage data: 100 KB </li><li>  Average amount of contextual and profile data: 3 MB </li><li>  Requests for technical data and usage data: 5 minutes </li><li>  Synchronization of context and profile data per day on a robot or device: 1 </li><li>  SAS Tokens expire: 1 hour </li><li>  Average duration of Azure Functions: 100 ms </li><li>  Azure Functions Memory Consumption: 512 MB </li></ul><br>  Round-the-clock activity for 31 days is also taken into account.  This way you will be prepared for the worst case scenario. <br><br>  Total cumulative costs amounted to $ 122.1797. <br>  Cumulative costs for 1 Buddy per month = 122.1797 / 2200 = $ 0.05554. <br><br>  A detailed calculation for each cost item can be found in the spoilers below. <br><blockquote><div class="spoiler">  <b class="spoiler_title">Blob storage costs for contextual and profile data = $ 14.8896</b> <div class="spoiler_text">  For storage of blobs, ‚Äúhot‚Äù locally redundant storage is used. <br><br>  A data set usually consists of five files of various sizes and formats (.json, .png, cartography).  The cost of Azure storage is calculated by two criteria: storage and access.  In this case, the storage cost is $ 0.024 per GB per month.  We calculate the total cost of data storage for all robots: <br><blockquote>  Total storage cost = number of robots deployed * average volume of context and profile data * storage cost per GB = 2,200 * 0.003 * 0.024 = $ 0.1584. </blockquote><br>  The cost of access depends on the type of operation, and each month the exact type and number of operations is difficult to establish.  Therefore, we take to calculate the maximum cost. <br><blockquote>  Estimated number of operations per robot or device: 10 <br>  Total number of operations per month = number of robots deployed * (number of active companion applications per robot + 1) * estimated number of operations per robot / device * 31 = 2200 * 4 * 10 * 31 = 2 728 000 operations. <br><br>  Total cost of access = total number of transactions per month / 10,000 * 0.054 = $ 14.7312. <br><br>  Costs for blob storage for contextual and profile data = $ 14.8896. </blockquote><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Event Hub Costs = $ 22.55</b> <div class="spoiler_text">  Event hubs are designed to receive millions of events per second, which allows you to process and analyze huge amounts of data from related devices and applications. <br><br>  The cost of event hubs is calculated based on the number of inbound events and units of deployed bandwidth.  To set the bandwidth, calculate the number of MB / second for an incoming event sent by robots. <br><blockquote>  Mb / s for inbound event = average amount of technical data and usage data (in MB) * number of robots to be deployed / frequency of sending requests for technical data and usage data in seconds = 0.1 * 2200/300 = 0.7333 Mb / s . </blockquote><br>  For the throughput indicator of one unit, the limit is limited to 1 Mb / s per incoming event.  Here the number of incoming requests is 27% below the limit, so we need only 1 unit of bandwidth.  Now let's calculate the number of inbound events sent by the robots. <br><blockquote>  Number of incoming events = minutes per day / frequency of sending requests for technical data and usage information * number of robots deployed * days = 1440/5 * 2200 * 31 = 19,641,600 events. <br><br>  Cost of incoming events = number of incoming events / 1,000,000 * 0.028 = 0.55 US dollars. </blockquote><br>  A standard bandwidth unit costs approximately $ 22 per month, and the total cost of using event concentrators is: <br><blockquote>  The cost of event hubs = 22 + 0.55 = 22.55 US dollars. </blockquote><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Azure Functions Costs = $ 1,1094</b> <div class="spoiler_text">  Azure Functions were used to enable SAS to access blob storage with contextual and profile data and event hubs. <br><br>  The value of Azure Functions is calculated based on the execution time and the total number of executions.  Our SAS token is valid for 1 hour, so each function is called 24 times a day on a robot or application.  Functions for accessing blobs are called by robots or applications.  Functions for accessing event concentrators are called only by robots. <br><blockquote>  Cumulative number of executions = ((number of robots being deployed + number of robots being deployed * (number of active companion applications per robot) * 24 * days) + ((number of robots being deployed * 24 * days) = ((2200 + 2200 * 2) * 24 * 31) + (2200 * 24 * 31) = 4,910,400 + 1,636,800 = 6,547,200. <br><br>  Cumulative implementation costs = (6,547,200 - 1,000,000) / 1,000,000 * 0.20 = 1,1094 US dollars. </blockquote><br>  The Azure Functions monitoring tool on the Azure portal helped to calculate the average execution time.  In this case, it is 80 ms.  The memory capacity of the functions is 512 MB.  This information helped in calculating the cost of the runtime. <br><blockquote>  Resource consumption (in seconds) = runtime * runtime (in seconds) = 6,547,200 * 0.08 = 523.776 seconds. <br><br>  Resource consumption (GB-s) = resource consumption, converted to GB * runtime (in seconds) = 512/1 024 * 523 776 = 261 888 GB-s. <br><br>  Resource Consumption Payable = Resource Consumption - Monthly Discount = 261,888 - 400,000 = 0 Gb-s. <br><br>  The cost of resource consumption each month is $ 0! <br><br>  Azure Functions costs = cumulative implementation costs + monthly resource consumption costs = $ 1,1094. </blockquote><br></div></div><br><div class="spoiler">  <b class="spoiler_title">The cost of Stream Analytics = 25,0281 US dollars</b> <div class="spoiler_text">  The cost of Stream Analytics depends on the amount of data being processed and on the number of streaming modules required for processing. <br><blockquote>  The amount of data processed by streaming = the average amount of technical data and usage data (in MB) * the number of robots to be deployed * the frequency of sending requests for technical data and usage data (in days) * days = 0.1 * 2200 * 288 * 31 = 1,964,160 MB = 1964.16 GB. <br><br>  The cost of the volume of data processed = 1,964.16 * 0.001 = 1.9641 US dollars. </blockquote><br>  For this amount, you will need only 1 streaming unit: <br><blockquote>  Costs per streaming unit = 0.031 * 24 * 31 = 23.064 US dollars. <br><br>  The cost of Stream Analytics = the cost of the amount of data processed + the cost per streaming unit = $ 25.0281. </blockquote><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Blob storage costs for technical data and usage data = $ 54.7398</b> <div class="spoiler_text">  The blob storage contains only data received from Stream Analytics.  The total size of the blob file in the storage is equal to the amount of data processed by Stream Analytics. <br><blockquote>  Storage cost = amount of data processed by streaming * the cost of 1 GB of storage = 1964.16 * 0.024 = $ 47.1398. </blockquote><br>  To calculate the cost of access, consider 1 unit of access per message processed by inbound events in the event hub to update access. <br><blockquote>  Access cost = number of incoming events * transaction costs (per 10,000) = 19,641,600 / 10,000 * 0.004 = 7.60 US dollars. <br><br>  Blob storage costs for technical data and usage information = storage cost + access cost = $ 54.7398. </blockquote><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Bandwidth costs = $ 3.8628</b> <div class="spoiler_text">  This refers to the cost of moving data to and from the Azure data center, not the cost of the content delivery network or ExpressRoute.  The data loading by the mobile application is taken into account.  We believe that each application is synchronized with the whole file twice a month. <br><blockquote>  The amount of downloaded data = the average amount of context and profile data in GB * 2 * the number of active companion applications per robot * the number of deployed robots = 0.003 * 3 * 2 * 2200 = 39.6 GB. <br><br>  The cost of outgoing data transfer = (the amount of downloaded data - a monthly discount) * transfer costs 1 GB = (39.6 - 5) * 0.087 = $ 2,5752. </blockquote><br>  A small amount of data is transferred between Azure and the robot many times, for example, to obtain a SAS token.  It was decided to add another 50% to the costs to cover these costs. <br><blockquote>  Bandwidth costs = outbound data transfer costs + 50% = 2.5752 + 1.2876 = 3.8628 US dollars. </blockquote><br></div></div></blockquote><br><h2>  Conclusion </h2><br>  In just three days, Blue Frog Robotics set up a full-featured internal system.  Now the company will be able to observe the deployment and commissioning of robots after launch, which will take place soon. <br><br>  The developed architecture is highly flexible for future development, allowing technicians to add new intermediate services, and also supports the automation of the entire development environment and architecture in many regions.  The most interesting thing is that the cost of the internal system for one unit of production was very modest. <br><br>  If you are interested in deploying a similar architecture or its component, the source code is available on <a href="https://aka.ms/habr_324700_2">GitHub</a> . <br><br>  We remind you that on March 30 there will be an online conference dedicated to <a href="https://aka.ms/habr_324700_3">IoT for business</a> , within which you can talk with experts in the field of the Internet of things, machine learning and predictive analytics. </div><p>Source: <a href="https://habr.com/ru/post/324700/">https://habr.com/ru/post/324700/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../324686/index.html">Technological stack for classifying natural language texts</a></li>
<li><a href="../324688/index.html">How does imperative programming differ from declarative</a></li>
<li><a href="../324692/index.html">Maintainer's notes: resurrection</a></li>
<li><a href="../324694/index.html">40+ Business Learning Technology Applications</a></li>
<li><a href="../324696/index.html">Report from Moscow.pm February 2</a></li>
<li><a href="../324702/index.html">So you created the game. What's next?</a></li>
<li><a href="../324704/index.html">Bug of the month: relay race from PC-Lint to PVS-Studio</a></li>
<li><a href="../324706/index.html">Updated Yii2 plugin for PhpStorm</a></li>
<li><a href="../324708/index.html">Need an energy efficient data center? Then you should build it under water.</a></li>
<li><a href="../324710/index.html">Elements, universes and registers of rules</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>