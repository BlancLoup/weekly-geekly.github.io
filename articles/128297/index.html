<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Management in Orchard CMS: command line utility</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This is a continuation of a series of articles on the development of your own sites based on the Orchard CMS content management system. The first arti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Management in Orchard CMS: command line utility</h1><div class="post__text post__text-html js-mediator-article">  This is a continuation of a series of articles on the development of your own sites based on the Orchard CMS content management system.  The first articles in this series can be found at the following links: <br><ul><li>  <a href="http://blogs.msdn.com/b/vyunev/archive/2011/03/22/orchard-cms-1-orchard-cms.aspx" rel="nofollow">How to create your website from scratch using Orchard CMS.</a>  <a href="http://blogs.msdn.com/b/vyunev/archive/2011/03/22/orchard-cms-1-orchard-cms.aspx" rel="nofollow">Part 1. Introduction to Orchard CMS</a> </li><li>  <a href="http://blogs.msdn.com/b/vyunev/archive/2011/03/23/orchard-cms-1-orchard-cms-cont.aspx" rel="nofollow">How to create your website from scratch using Orchard CMS.</a>  <a href="http://blogs.msdn.com/b/vyunev/archive/2011/03/23/orchard-cms-1-orchard-cms-cont.aspx" rel="nofollow">Part 1. Introduction to Orchard CMS (cont)</a> </li><li>  <a href="http://blogs.msdn.com/b/vyunev/archive/2011/03/29/orchard-cms.aspx" rel="nofollow">Architecture Orchard CMS.</a>  <a href="http://blogs.msdn.com/b/vyunev/archive/2011/03/29/orchard-cms.aspx" rel="nofollow">Basic concepts</a> </li><li>  <a href="http://blogs.msdn.com/b/vyunev/archive/2011/03/30/orchard-cms-cont.aspx" rel="nofollow">Architecture Orchard CMS.</a>  <a href="http://blogs.msdn.com/b/vyunev/archive/2011/03/30/orchard-cms-cont.aspx" rel="nofollow">Basic concepts.</a>  <a href="http://blogs.msdn.com/b/vyunev/archive/2011/03/30/orchard-cms-cont.aspx" rel="nofollow">Layout Concepts (cont)</a> </li><li>  <a href="http://blogs.msdn.com/b/vyunev/archive/2011/04/04/orchard-cms-cont-2.aspx" rel="nofollow">Architecture Orchard CMS.</a>  <a href="http://blogs.msdn.com/b/vyunev/archive/2011/04/04/orchard-cms-cont-2.aspx" rel="nofollow">Basic concepts.</a>  <a href="http://blogs.msdn.com/b/vyunev/archive/2011/04/04/orchard-cms-cont-2.aspx" rel="nofollow">Safety and development concepts (cont 2)</a> </li><li>  <a href="http://blogs.msdn.com/b/vyunev/archive/2011/07/27/orchard-cms-c-c-c.aspx" rel="nofollow">Orchard CMS extension.</a>  <a href="http://blogs.msdn.com/b/vyunev/archive/2011/07/27/orchard-cms-c-c-c.aspx" rel="nofollow">Creating content types</a> </li><li>  <a href="http://blogs.msdn.com/b/vyunev/archive/2011/07/28/orchard-cms-a-a.aspx" rel="nofollow">Orchard CMS extension.</a>  <a href="http://blogs.msdn.com/b/vyunev/archive/2011/07/28/orchard-cms-a-a.aspx" rel="nofollow">Creating widgets</a> </li><li>  <a href="http://blogs.msdn.com/b/vyunev/archive/2011/07/30/orchard-cms-b-b.aspx" rel="nofollow">Orchard CMS extension: module creation</a> </li><li>  <a href="http://blogs.msdn.com/b/vyunev/archive/2011/08/19/orchard-cms-zx.aspx" rel="nofollow">Orchard CMS extension: packaging and publishing modules</a> </li><li>  <a href="http://blogs.msdn.com/b/vyunev/archive/2011/08/19/orchard-cms-2.aspx" rel="nofollow">Orchard CMS Extension: Creating a Theme</a> </li></ul>  In previous articles of the cycle, we looked at the expansion of the Orchard CMS through the creation of widgets, modules, packages and themes.  In the next few articles, we will look at the management of the Orchard CMS system.  This article focuses on the command-line tool that automates a number of tasks for administrators and site developers. <br><br><a name="habracut"></a><h4>  Using the command line utility </h4><br>  The content management system offers a command line utility to automate both the administration panel functions and functions that are not accessible through the panel. <br><br>  The command line utility is called orchard.exe and is located in the bin folder of your site project.  Before launching the utility, first open the Windows command line in the root of your site (the Orchard.Web project, if you use the system source codes).  This can be easily done by pressing shift and right clicking on the site folder.  In the context menu, select the command ‚ÄúOpen window here‚Äù.  Now in the window type the command ‚Äúbin \ orchard.exe‚Äù.  Note again: you must run this utility from the root of your site. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/7e4/d91/76f/7e4d9176fafae17da22c984143d5a3ed.png" width="580" height="115"><br><br><h4>  Command use </h4><br>  To view the available commands in the Orchard command line utility, type the ‚Äúhelp commands‚Äù command. <br><br><img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/b7c/1e7/f6f/b7c1e7f6f822efc873e02f53424084ed.png" width="580" height="570"><br><br>  If you run this command before the site is installed, the only available command is the ‚Äúsetup‚Äù command.  This command allows you to do all the steps that set the initial parameters of the site: specifying the name of the site, the name and password of the administrator, the database settings.  In addition, the setup command has an optional parameter that lists the functions available for inclusion during the site installation. <br><br><img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/5f4/f71/7df/5f4f717dff958107cac1abaaec947af1.png" width="580" height="55"><br><br>  After installing the site, you can run the command ‚Äúhelp commands‚Äù and make sure that many other commands are available.  The list of available commands directly depends on the functions and modules included in the Orchard CMS system.  In order to get a list of all the features available to enable or disable, enter the ‚Äúfeature list‚Äù or ‚Äúfeature list / Summary: true‚Äù command.  You can enable any of the available functions with the ‚Äúfeature enable &lt;function-name&gt;‚Äù option. <br><br><pre>  orchard&gt; feature list / Summary: true
 Common, Enabled
 Containers, Enabled
 Contents, Enabled
 Dashboard, Enabled
 DatabaseUpdate, Disabled
 Feeds, Enabled
 Gallery, Enabled
 HomePage Enabled
 Lucene, Disabled
 Navigation, Enabled
 Orchard.ArchiveLater, Disabled
 Orchard.Blogs, Enabled
 Orchard.Blogs.RemotePublishing, Disabled
 Orchard.CodeGeneration, Enabled
 Orchard.Comments, Enabled
 Orchard.ContentTypes, Enabled
 Orchard.Email, Disabled
 Orchard.Experimental, Disabled
 Orchard.Experimental.TestingLists, Disabled
 Orchard.Experimental.WebCommandLine, Disabled
 Orchard.Indexing, Disabled
 Orchard.jQuery, Enabled
 Orchard.Lists, Enabled
 Orchard.Localization Disabled
 Orchard.Media, Enabled
 Orchard.Messaging, Disabled
 Orchard.Migrations, Disabled
 Orchard.Modules, Enabled
 Orchard.MultiTenancy, Disabled
 Orchard.Packaging, Enabled
 Orchard.Pages, Enabled
 Orchard.PublishLater, Enabled
 Orchard.Roles, Enabled
 Orchard.Scripting, Enabled
 Orchard.Scripting.Dlr, Disabled
 Orchard.Scripting.Lightweight, Enabled
 Orchard.Search, Disabled
 Orchard.Setup, Disabled
 Orchard.Tags, Enabled
 Orchard.Themes Enabled
 Orchard.Users, Enabled
 Orchard.Widgets, Enabled
 PackagingServices, Enabled
 Profiling, Disabled
 Reports, Enabled
 Routable, Enabled
 SafeMode, Disabled
 Scheduling Enabled
 Settings, Enabled
 Shapes, Enabled
 TheAdmin, Disabled
 TheThemeMachine Enabled
 TinyMce, Enabled
 XmlRpc, Disabled </pre><br><h4>  Adding Commands </h4><br>  Orchard CMS module developers can add their own commands to the command line utility through the implementation of a new class that inherits Orchard.Commands.DefaultOrchardCommandHandler.  A command is simply a method in this class that is marked with a special attribute CommandName.  The code below creates a simple ‚Äúhello world‚Äù command that takes one ‚ÄúName‚Äù parameter and contains the additional ‚ÄúYouRock‚Äù parameter. <br><br><pre><code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">CommandName(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"hello world"</span></span></span><span class="hljs-meta">)</span></span>] [CommandHelp(<span class="hljs-string"><span class="hljs-string">@"hello world &lt;name&gt; [/YouRock:true|false] Says hello and whether you rock or not."</span></span>)] [OrchardSwitches(<span class="hljs-string"><span class="hljs-string">"YouRock"</span></span>)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HelloWorld</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> name</span></span></span><span class="hljs-function">)</span></span> { Context.Output.WriteLine(T(<span class="hljs-string"><span class="hljs-string">"Hello {0}."</span></span>, name ?? <span class="hljs-string"><span class="hljs-string">"world"</span></span>)); Context.Output.WriteLine(YouRock ? <span class="hljs-string"><span class="hljs-string">"You rock."</span></span> : <span class="hljs-string"><span class="hljs-string">"You do not rock."</span></span>); }</code> </pre> <br>  The optional YouRock parameter is a property of the class with the OrchardSwitch attribute: <br><br><pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">OrchardSwitch</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> YouRock { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; }</code> </pre> <br>  Commands are executed in the full Orchard environment and can access the database, inject dependencies, and do almost everything the site code can do. <br><br><h4>  Calling Exceptions from Commands </h4><br>  Calling exceptions from commands is not recommended.  Instead, where possible, display the information on the command line and complete the command.  If you have a need to throw a general exception, use an OrchardException. <br><br><h4>  Code Generation with the Command Line Utility </h4><br>  Developers of the Orchard CMS system can use the code generation mechanism, which simplifies the creation of widgets, modules, packages and themes.  This feature is useful for developers who want to automatically create controllers, data migration classes, modules, and themes.  Code generation is a useful feature, but by default it is not enabled in the Orchard CMS system. <br><br>  You can easily enable code generation through the Orchard admin panel.  Open the panel and select the Modules section, in it go to the Gallery tab to get a list of extensions available through the official gallery.  Using the search string, find the ‚ÄúCode generation‚Äù module and install it through the Install link. <br><br><img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/b46/e1a/93b/b46e1a93b2c954e5659173f4e4aaccf6.png" width="559" height="350"><br><br>  After installation, the system will prompt you to activate the module, agree with this.  You can use the command line utility to enable or disable a module.  To enable code generation, enter the following command on the command line: <br><br><pre>  orchard&gt; feature enable Orchard.CodeGeneration
 Enabling features Orchard.CodeGeneration
 Orchard.CodeGeneration was enabled </pre><br>  After you install and enable the code generation module, the command line utility will receive additional commands for creating modules, themes, data migration classes and controllers.  Code generation commands form new files and folders in the appropriate places on your site. <br><br>  Examples of commands available in the command line utility after installing the code generation function: <br><br><pre>  codegen controller &lt;module-name&gt; &lt;controller-name&gt;
         Creates a new controller in the module.

 codegen datamigration &lt;feature-name&gt;
         Creates a new data migration class

 codegen module &lt;module-name&gt; [/ IncludeInSolution: true | false]
         Creates a new Orchard module

 codegen theme &lt;theme-name&gt; [/ CreateProject: true | false] [/ IncludeInSolution: true | false] [/ BasedOn: &lt;theme-name&gt;]
         Creates a new Orchard theme. </pre><br>  The use of code generation commands can be found in the article <a href="http://blogs.msdn.com/b/vyunev/archive/2011/07/28/orchard-cms-a-a.aspx" rel="nofollow">Expanding Orchard CMS: creating widgets</a> . </div><p>Source: <a href="https://habr.com/ru/post/128297/">https://habr.com/ru/post/128297/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../128290/index.html">The organization of the flow of cheap labor</a></li>
<li><a href="../128292/index.html">Creating full-size screenshots of web-resources</a></li>
<li><a href="../128293/index.html">PostgreSQL 9.1 released</a></li>
<li><a href="../128295/index.html">Happy Programmer's Day!</a></li>
<li><a href="../128296/index.html">HTC is considering buying a mobile OS</a></li>
<li><a href="../128299/index.html">Teagueduino - a new alternative to the Arduino "for dummies"</a></li>
<li><a href="../128300/index.html">Video Card Repair</a></li>
<li><a href="../128301/index.html">An example of a practical project using NetApp FAS2040A</a></li>
<li><a href="../128304/index.html">BUILD Conference - Live Webcast Today!</a></li>
<li><a href="../128305/index.html">Wacom announced a new professional interactive display Cintiq 24HD</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>