<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Another watch on gas-discharge indicators</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Over the past couple of months, several designs of NIXIE CLOCK watches were presented at the Habr√©. A characteristic feature of which is the output of...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Another watch on gas-discharge indicators</h1><div class="post__text post__text-html js-mediator-article">  Over the past couple of months, several designs of NIXIE CLOCK watches were presented at the Habr√©.  A characteristic feature of which is the output of time on gas-discharge indicators of the type IN12, IN18, IN17 and the like.  On the Internet, I have seen many designs of such watches.  There is something in them, some kind of soft and warm energy comes from them.  I also fired up to do something like that.  But not just just a watch so that they not only show the time, but also delight the eye. <br><a name="habracut"></a><br>  I want to share my thoughts not only in the circuitry of watches, but also the ideas that came to mind during the development of the design of watches.  It seems to me that the appearance plays an important role.  The thing should make you happy, create positive emotions, make life a little bit more colorful. <br>  I offer my structure to the readers.  I accept the criticism positively. <br>  That's actually what a watch turned out: <br><img src="https://habrastorage.org/storage2/256/104/835/256104835b75dc8b3f44ac140ef12394.jpg"><br>  A little bit about the functional.  They contain: <br><ul><li>  date display (year, month, day); </li><li>  indication of time (hours, minutes, seconds); </li><li>  indication of the days of the week; </li><li>  alarm clock; </li><li>  indication of the correction mode; </li><li>  indication "Alarm set." </li></ul><br>  Only time and date are set, and an alarm is set.  When setting the date, the day of the week is automatically determined.  The number of days in months and a leap year are taken into account. <br><br>  Power is supplied from a pulsed power supply unit 12 V. 0.3 A. Small and light.  Type of such: <br><img src="https://habrastorage.org/storage2/fa1/8be/28e/fa18be28ef0818372d35d81eaf2c9342.jpg"><br>  The idea to power the device from a 12 V source is caused by two reasons: <br><ol><li>  Excluded mains bulky transformer </li><li>  For security. </li></ol><br>  Not only is an anodic 180 V present in the circuit (under which, during adjustment, I repeatedly got a little pleasant).  I did not want to delve into the board, where there is also 220 V !!! <br><br>  In the circuit itself, to power the controller, a DC-DC step-down converter was implemented, and a step-up converter was used to power the anodes.  MC34063 was used in both converters.  In my opinion, these are wonderful chips, although they have been manufactured for a very long time. <br>  The circuits of these converters are not original and were taken from datasheets on these microcircuits. <br><img src="https://habrastorage.org/storage2/277/783/607/277783607f386557b54af48e0b484765.jpg"><br>  And here, actually, and the scheme of hours: <br><img src="https://habrastorage.org/storage2/c36/a49/fdc/c36a49fdcc6c1c32f3e9c7e773415e9b.jpg" alt="image"><br>  Assembled like this: <br><img src="https://habrastorage.org/storage2/dff/7ef/31c/dff7ef31c0a4a1c90b41a082d55f3f72.jpg"><br><img src="https://habrastorage.org/storage2/1e3/0da/2b4/1e30da2b4e8ae8794f9b2e059bcde0e2.jpg"><br>  Some of you may reproach me: ‚ÄúWhy did he not make a dynamic indication.  This would significantly reduce the number of chips. ".  And they will probably be right. <br>  The reason is pretty banal.  Laziness mother.  The fact is that the indicators were made much earlier.  This is a board with two IN12 and two K155ID1.  Under IN12 I did not find the panels, I had to solder it.  And it was lazy to unsolder.  And there was no shortage of ID1 and IR22.  And to be honest, in the manufacture of these watches, the emphasis was not on the circuit design. <br>  The IN12 was used to indicate the time, the ‚Äúneon‚Äù used to indicate the days of the week, which were torn from the ancient tube TVs.  They stood there in the program selection blocks, if I am not mistaken, they were the INS-1. <br>  In case of power failure, an emergency source is provided in the clock.  Indicators go out, but the clock continues to work. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Now about the alarm clock.  I wanted to breathe some life into the clock. <br>  In the old Soviet phones of the last century, with dialing dialers, they used metal cups-bells for the call.  So, in some models, these cups were made of a special alloy.  They are yellow in color and look like bronze.  Their sound is clear, transparent, ‚Äúcrystal‚Äù.  And these same bells I decided to use for the alarm signal.  In my opinion it turned out well. <br><img src="https://habrastorage.org/storage2/d92/f7b/ca3/d92f7bca3a1b9b48dd75b1ffe51fd5e4.jpg"><br>  The device beating the bell, had to make yourself.  For this, I used a coil from the relay.  Relay at the right time attracts reed (pictured below) and throws striker.  The sound of the cups can be adjusted by turning it around the axis (the axis of the bell is not located in the center). <br><img src="https://habrastorage.org/storage2/ea0/878/1b2/ea08781b2b724dbbc8c0585284f21d30.jpg"><br>  The case was made of plywood 10mm thick and veneered with mahogany veneer. <br>  I want to share the idea of ‚Äã‚Äãwriting on metal plates.  I think that this method can be useful to anyone who is engaged in the manufacture of various "homemade", both amateur and professional.  And it is not necessarily electronic devices. <br>  And the method is simple.  I applied a film photoresist.  The technology is the same as in the manufacture of printed circuit boards.  I will not describe, the Internet is full of information on this subject, you can easily find it.  I do not pretend to authorship, I think I have not thought of this alone. <br><br>  Back cover: <br><img src="https://habrastorage.org/storage2/ddd/0fd/688/ddd0fd6887f8adc7310df665361f0f0e.jpg"><br>  Front view: <br><img src="https://habrastorage.org/storage2/8b2/95e/5e7/8b295e5e7e09f6775020508208256e5c.jpg"><br>  These are the nameplates: <br><img src="https://habrastorage.org/storage2/eac/a1e/005/eaca1e0055eb2b716a5d12defb88a223.jpg"><br><br>  The heart of the clock is the Atmel ATMega32 microcontroller.  Clocked by quartz 4 MHz.  For clocking the clock logic used clock quartz 32.768 KHz. <br>  The program did not cause much difficulty. <br>  First implemented the logic of the clock and calendar.  Everything is simple - I consider second impulses.  I counted 60 - increased the minute and so on.  The number of days in months is known, except February, depending on the year.  According to the formula, I determine <a href="http://ru.wikipedia.org/wiki/%25D0%2592%25D0%25B8%25D1%2581%25D0%25BE%25D0%25BA%25D0%25BE%25D1%2581%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25B3%25D0%25BE%25D0%25B4">leap year</a> .  I also consider the day of the week according to the <a href="http://ru.wikibooks.org/wiki/%25D0%2590%25D0%25BB%25D0%25B3%25D0%25BE%25D1%2580%25D0%25B8%25D1%2582%25D0%25BC_%25D0%25B2%25D1%258B%25D1%2587%25D0%25B8%25D1%2581%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25B8%25D1%258F_%25D0%25B4%25D0%25BD%25D1%258F_%25D0%25BD%25D0%25B5%25D0%25B4%25D0%25B5%25D0%25BB%25D0%25B8">formula</a> .  Along the way, I check the alarm clock, but then suddenly it is necessary to beat the bells.  And at once I bring everything to the indicators. <br>  CPU time, all these operations take little, so the rest of the time I poll the buttons.  There are four of them: UP, DOWN, MODE / ENTER, ALARM. <br>  Using the UP and DOWN buttons in the setting mode, I increase or decrease the adjustable parameter.  In normal mode, any of them switches the display to the date display mode (4 seconds). <br>  MODE / ENTER - enters the clock in the mode of setting the time and date.  All changes are applied by the same button. <br>  ALARM - sets the alarm, or turns it off if the alarm rings or just wants to turn it off beforehand. <br>  Low protection against "fool" - can not be installed manually, for example, on April 31, June 31, February 29 in a non-leap year, etc.  But then I cheated a little - the year can be set only from 2000 to 2099 (there are two familiarities on the indicators), so it seemed to be enough.  Although the code considers the year completely and, theoretically, the clock can take up to 2 ^ 16 years, it is not difficult to change it. <br>  Separately implemented the ringing of bells.  Made such a similarity to the editor, that is, the melody itself is recorded in the form of durations (hit, release) for each cup.  What for?  I do not know.  All the same, he calls all the ‚Äúmelodies‚Äù as ‚ÄúDin-Don‚Äù :). <br><br>  I wrote everything in Atmel Studio 6 in assembly language. <br>  The code is available on <a href="https://github.com/zarguni/sp_clock">github</a> .  The project is working, compiled. <br><br>  A short <a href="http://youtu.be/cRaVcIau3m4">video demonstration</a> (not directed by me): <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/cRaVcIau3m4%3Ffeature%3Doembed&amp;xid=25657,15700021,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhgXwdmFPPO1doZUlMdqimcGOY5nDg" frameborder="0" allowfullscreen=""></iframe><br><br>  <b>UPD: asked for a concept in good quality.</b>  <b><a href="">dl.dropbox.com/u/66229373/clock.jpg</a></b> </div><p>Source: <a href="https://habr.com/ru/post/173637/">https://habr.com/ru/post/173637/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../173625/index.html">We configure SSH keys on Jenkins Node-ah without ssh access to them</a></li>
<li><a href="../173627/index.html">"Throw money into the furnace of a business" or problems associated with the control of the business by its owners</a></li>
<li><a href="../173631/index.html">AppCode 2. Done right</a></li>
<li><a href="../173633/index.html">Overview of project management systems</a></li>
<li><a href="../173635/index.html">Flash's main defender left Adobe for Apple</a></li>
<li><a href="../173639/index.html">Comparing C ++ Standard and Boost</a></li>
<li><a href="../173641/index.html">Crash IE9 with CSS</a></li>
<li><a href="../173643/index.html">Pre-order for Samsung Galaxy S IV available</a></li>
<li><a href="../173645/index.html">Personal computer in the living room</a></li>
<li><a href="../173647/index.html">Another vulnerability in the lock of some Samsung smartphones</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>