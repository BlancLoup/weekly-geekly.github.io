<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Chrome 70 supports [feature list] and AV1 - why is support for this codec so important?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The 69th version of Chrome was a big upgrade , because showed a new interface for desktop and mobile versions. Chrome 70 is not so radical, but its ne...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Chrome 70 supports [feature list] and AV1 - why is support for this codec so important?</h1><div class="post__text post__text-html js-mediator-article">  <a href="https://www.androidpolice.com/2018/09/05/chrome-69-new-material-theme-support-display-cutouts-apk-download/">The 69th version of Chrome was a big upgrade</a> , because  showed a new interface for desktop and mobile versions.  Chrome 70 is not so radical, but its new features are very important.  We made an adapted translation and added material about the most, in our opinion, important in the new version - support for the AV1 codec, which sets a new performance bar.  For now, the codec will be used only during video playback, but we hope that it will get to WebRTC - this will give us the opportunity to use advanced coding in video calls and conferences (for example, using <a href="https://voximplant.com/docs/references/websdk">our Web SDK</a> ). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lj/nq/q5/ljnqq5cxnntiri3hjokkhd6ix9q.png" width="780"></div><br><a name="habracut"></a><br><h2>  AV1 support </h2><br>  Almost 10 years ago, Google rolled out its own rival codec for H.264 - it was <a href="https://en.wikipedia.org/wiki/VP8">VP8</a> .  While technological competitors were not very different, VP8 was free, and H.264 required a license.  Android supported VP8 out of the box, starting with 2.3 Gingerbread.  Also, all major browsers (with the exception of Safari) can play VP8-video. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ej/0-/bs/ej0-bs9dh8n5rxmlzjppjin2ce0.png"></div><br>  Google is now part of the Alliance for Open Media, a group of companies that is developing a VP8 / VP9 successor called AV1.  <a href="https://www.androidpolice.com/2018/04/13/alliance-open-medias-av1-video-codec-outperforms-popular-standards-testing-finds/">Facebook has already tested the codec on thousands of popular videos</a> and found out that it gives an increase in compression by more than 30% compared to VP9, ‚Äã‚Äãnamely by 50.3%, 46.2% and 34% (compared to the main profile x264, high x264 profile and libvpx-vp9, respectively). <br><br>  Starting with Chrome 70, AV1 codec supports the default for desktop and Android.  And although the codec will take time to become widely used, it is still an important step, because  no other browser supports AV1 yet. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  AV1 in detail </h2><br>  Explanation: This section is an excerpt from the <a href="https://people.xiph.org/~xiphmont/demo/av1/demo1.shtml">next generation video: Introducing AV1</a> article. <br><br><h3>  Chroma from luma </h3><br>  Chroma from Luma prediction (hereinafter - CfL) is one of the new prediction methods used in AV1.  CfL predicts the colors in the image (chroma) based on the brightness value (luma).  First, the brightness values ‚Äã‚Äãare encoded / decoded, then the CfL attempts to predict colors.  If the attempt is successful, then the amount of color information to be encoded is reduced;  therefore, the place remains. <br><br>  It is worth noting that CfL first appeared not in AV1.  The founding document on the CFL dates back to 2009;  at the same time, LG and Samsung offered early implementation of CfL under the name <a href="">LM Mode</a> , but it all curtailed during the development of HEVC / H.265.  Cisco's Thor codec uses a similar technique, and HEVC implemented an improved version called Cross-Channel Prediction (CCP). <br><br><h3>  Improved intraframe prediction </h3><br>  Until recently, video compression was based on <b>interframe prediction</b> , i.e.  on the difference of the frame from the others, when the basis of the prediction are the <b>reference frames</b> .  Despite the fact that this technique has developed powerfully, it still requires reference frames that do not rely on other frames.  As a result, the reference frames use only intraframe prediction. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/0a/sl/mr/0aslmrxpvsbzof-51vebsgyrnfc.png"></div>  <font color="gray">The first 60 frames of the test video.</font>  <font color="gray">The histogram begins with a reference frame that is ~ 20 times the rest.</font> <br><br>  Reference frames are much more than intermediate frames - therefore, they are tried to be used as little as possible.  But if there are a lot of reference frames, it increases the video bitrate.  In order to cope with this and reduce the size of the reference frames, codecs focused on improving intraframe prediction (which can also be applied to intermediate frames). <br><br>  Summarizing, it can be argued that CfL is just an advanced intra-frame prediction technique, since  it works based on the brightness <b>within the frame</b> . <br><br><h3>  Colored chalk </h3><br>  CfL is basically a colorization of a monochrome image based on sound, accurate prediction.  The prediction is facilitated by the fact that the image is broken into small blocks, in which the encoding occurs independently. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/n9/f5/mj/n9f5mjqodtleypctkzjawbpz_jg.jpeg"></div>  <font color="gray">Splitting into blocks to maximize coding accuracy.</font> <br><br>  Since the coder does not work with the whole image, but with its pieces, it is enough to reveal the correlations in small areas - this is enough to predict the colors at the true brightness.  Take a small block image: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zn/3p/is/zn3pisvn_crzz4turwtfetlhhu4.jpeg"></div><br>  Based on this fragment, the encoder will establish that it is bright = green, and the darker, the less saturation.  And also with the rest of the blocks. <br><br><h3>  CfL to AV1 </h3><br>  CfL did not use the <a href="https://people.xiph.org/~jm/daala/pvq_demo/">PVQ</a> algorithm, so the costs for the pixel and frequency domains are about the same.  Plus, AV1 uses discrete sine transformation and pixel domain identity transform, so AV1 CfL in the frequency domain is not very easy.  But - surprise - AV1 and does not need a CfL in the frequency domain, because  The basic CfL equations work equally in both areas. <br><br>  fL in AV1 is designed to simplify the reconstruction as much as possible.  For this, it is necessary to explicitly encode Œ± and calculate Œ≤ on its basis, although ... It is possible not to calculate Œ≤, but instead use the DC chroma offset already predicted by the encoder (it will be less accurate, but still suitable): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ms/hr/jr/mshrjr26hjrszyetyj19mfmjmty.png"></div>  <font color="gray">Comparing the default DC prediction (calculation based on neighboring pixels) with the calculated Œ≤-value (calculation based on pixels in the current block).</font> <br><br>  Thus, the complexity of the approximation on the side of the coder is optimized maximally through the use of prediction.  If the prediction is not enough, then the remaining transformations are performed;  if the prediction does not give a benefit in bits, then it is not used at all. <br><br><h3>  Some tests </h3><br>  Open Media Alliance uses a <a href="https://media.xiph.org/video/derf/">series of tests</a> that are also available in the <a href="https://arewecompressedyet.com/">Are We Compressed Yet?</a> <br><br>  Below is a table with a bit rate in the context of various indicators.  Pay attention to CIE delta-E 2000, this is a metric of perceptual-uniform color error.  Notice how the bitrate is saved?  Up to 8%! <br><table><tbody><tr><td></td><td colspan="7" align="center">  BD-rate </td></tr><tr><td></td><td>  PSNR </td><td>  PSNR-HVS </td><td>  SSIM </td><td>  <b>CIEDE2000</b> </td><td>  PSNR Cb </td><td>  PSNR Cr </td><td>  MS SSIM </td></tr><tr><td>  Average </td><td>  -0.43 </td><td>  -0.42 </td><td>  -0.38 </td><td>  <b>-2.41</b> </td><td>  -5.85 </td><td>  -5.51 </td><td>  -0.40 </td></tr><tr><td>  1080p </td><td>  -0.32 </td><td>  -0.37 </td><td>  -0.28 </td><td>  <b>-2.52</b> </td><td>  -6.80 </td><td>  -5.31 </td><td>  -0.31 </td></tr><tr><td>  1080p-screen </td><td>  -1.82 </td><td>  -1.72 </td><td>  -1.71 </td><td>  <b>-8.22</b> </td><td>  -17.76 </td><td>  -12.00 </td><td>  -1.75 </td></tr><tr><td>  720p </td><td>  -0.12 </td><td>  -0.11 </td><td>  -0.07 </td><td>  <b>-0.52</b> </td><td>  -1.08 </td><td>  -1.23 </td><td>  -0.12 </td></tr><tr><td>  360p </td><td>  -0.15 </td><td>  -0.05 </td><td>  -0.10 </td><td>  <b>-0.80</b> </td><td>  -2.17 </td><td>  -6.45 </td><td>  -0.04 </td></tr></tbody></table><br><h2>  ... and other news in Chrome 70 </h2><br><h3>  PWA on Windows </h3><br>  Although support for Progressive Web Apps is mainly implemented on <a href="https://www.androidpolice.com/2017/02/02/progressive-web-apps-will-soon-act-like-native-applications/">mobile platforms</a> , Google does not forget about the desktop.  In the desktop, Chrome 67, there was a PWA installation button, and already Chrome 70 introduced several improvements for Windows users. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ai/wy/hw/aiwyhwqfbrwaxrvo5bhyuq56vv8.jpeg" width="720"></div><br><br>  Now Chrome shows the ‚ÄúInstall app?‚Äù Pop-up for PWA (after you interacted with them for a while).  If you install PWA, the browser will create a shortcut for PWA in the Start menu.  Similar to the mobile experience, the browser interface will be hidden in the open PWA. <br><br>  Google promises to roll out this functionality for Mac and Linux in 72 versions. <br><br><h3>  Shape Detection API </h3><br>  Web applications can read barcodes and recognize faces differently, usually using machine learning JS libraries, but this can work very slowly.  To make this feature more accessible and productive, Google introduces its own functionality in Chrome - shape detection. <br><br>  <a href="https://www.chromestatus.com/feature/4757990523535360">Shape Detection API</a> in Chrome 70 is an experimental function (origin trial), i.e.  it is not yet ready for widespread use.  The API can define 3 types of objects / images - faces, shtrikody and text.  At the moment, compatibility varies across platforms, because the OS requires functionality to define objects.  You can try the demo <a href="https://qrsnapper.com/">here</a> . <br><br><h3>  TLS 1.3 </h3><br>  <a href="https://en.wikipedia.org/wiki/Transport_Layer_Security">Transport Layer Security</a> is a protocol that allows you to safely transfer data over the Internet.  When you use the site on HTTPS, then most likely, the data is sent via TLS.  Chrome 70 supports TLS 1.3, which was released last month. <br><br>  The list of changes is available <a href="https://en.wikipedia.org/wiki/Transport_Layer_Security">here</a> , but in general, version 1.3 improves both efficiency and security (for example, ‚Äúwon‚Äù BREACH and CRIME, so you can safely use https compression again, thanks to <a href="https://habr.com/users/menstenebris/" class="user_link">menstenebris</a> ).  It takes fewer steps to establish a connection, so you can notice a slight improvement in time (if the site you are logged in to supports TLS 1.3, of course).  Here is a visual comparison of the difference <a href="https://blog.cloudflare.com/introducing-tls-1-3/">from CloudFlare</a> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/t6/na/y1/t6nay1xeg4mddjdhxb2ysnyeyle.jpeg"></div><br><br>  With the release of TLS 1.3, support for old features, such as SHA1 and MD5, also ceases.  Google announced this on the <a href="https://www.chromestatus.com/feature/5934924745932800">Status Page</a> : <br><blockquote>  TLS 1.3 was a multi-year project that brought together adherents from various industries, research groups and other participants to work on the standard.  Previously, we experimented with draft versions of the standard, but when the standard was fully implemented, we can finally embed it in Chrome. <br></blockquote><br>  Firefox 60 added support for TLS 1.3 (draft 23), which was rolled out in May of this year;  then it began to use and CloudFlare. <br><br><h3>  Other features </h3><br>  As always, Chrome 70 includes innovations for users and developers.  Here is a list of other changes in this update: <br><br><ul><li>  Speech synthesis API will not work until the page has even once interacted with this API.  This API is often used for spamming pop-ups on mobile devices up to the <a href="https://www.androidpolice.com/2018/04/18/chrome-66-includes-experimental-modern-design-ui-updates-media-player-apk-download/">new autoplay policy</a> in Chrome 66; </li><li>  Touch ID on Macbook Pro can be used as a login method in the Web Authentication API; </li><li>  if the page is in full screen mode, then pop-up will bring the page out of full screen; </li><li>  AppCache no longer works on non-https pages; </li><li>  on Android devices, the OC build number (for example, ‚ÄúNJH47F‚Äù) is no longer included in the user agent to prevent browser identification.  Chrome on iOS will leave the build number "15E148" instead of completely removing it in order to follow the implementation in Safari; </li><li>  opus audio is now supported for MP4, Ogg and WebM containers; </li><li>  WebUSB now uses the context of an individual worker, which should improve performance; </li><li>  <a href="https://developers.google.com/web/updates/2015/07/interact-with-ble-devices-on-the-web">Web Bluetooth</a> now works in Windows 10; </li><li>  A new synchronization dialog on desktops; </li><li>  service workers can be given names; </li><li>  Credential Management API now supports <a href="https://developer.mozilla.org/en-US/docs/Web/API/PublicKeyCredential">PublicKeyCredential</a> ; </li><li>  the initial implementations of Custom Elements, HTML imports, navigator.getGamepads, and Shadow DOM API are now deprecated; </li><li>  <a href="https://www.androidpolice.com/2018/08/15/lazy-loading-feature-speed-browsing-now-available-chrome-canary/">Lazy Loading</a> can now be enabled using the <b># enable-lazy-frame-loading</b> and <b># enable-lazy-image-loading</b> flags. </li></ul></div><p>Source: <a href="https://habr.com/ru/post/427021/">https://habr.com/ru/post/427021/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../427011/index.html">My ‚ÄúHello World!‚Äù On FPGA or the next version of UART</a></li>
<li><a href="../427013/index.html">"The confrontation" NeoQUEST-2018: remember how it was</a></li>
<li><a href="../427015/index.html">Why do commercial data centers "intelligent" PDU</a></li>
<li><a href="../427017/index.html">How serious is Tim Berners-Lee's plan to decentralize the web?</a></li>
<li><a href="../427019/index.html">Data Halloween - a conference about the possibilities of Data Science for business</a></li>
<li><a href="../427025/index.html">Five stones in the blockchain garden</a></li>
<li><a href="../427027/index.html">Where to work in IT, issue 2: SKB Kontur</a></li>
<li><a href="../427029/index.html">Diagnosis of sensuality</a></li>
<li><a href="../427031/index.html">Automation with Codeception + Gherkin + PageObject for the smallest</a></li>
<li><a href="../427035/index.html">Internet of things: are we stuck in place?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>