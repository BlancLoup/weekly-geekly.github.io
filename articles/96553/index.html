<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Russian-made equipment or one day in the life of ITshnik</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I continue the cycle of articles I started six months ago about Russian manufacturers of telecom equipment, and more specifically, about their product...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Russian-made equipment or one day in the life of ITshnik</h1><div class="post__text post__text-html js-mediator-article">  I continue the cycle of articles I started six months ago about Russian manufacturers of telecom equipment, and more specifically, about their products. <br>  This time we will talk about the organization of a wireless communication channel based on Wi-Fi module Infinet R5000IL. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/904/9f1/891/9049f18911b9ac08aac17ce93ed1b6f7.jpg"><br><br>  At first I will tell about technical characteristics and some subtleties of setting, and deeper under the cut there will be a accompanying installation story for those interested. <br><a name="habracut"></a><br><h5>  Theory </h5><br>  Wi-Fi has already deeply entered our lives.  But in addition to apartment-office use, there is also an industrial one, when directional / panel antennas and devices operate in point-to-point mode on both sides.  This is our case.  Needed a link to a distance of five hundred meters.  In general, in this mode, the distance can reach several kilometers. <br>  The principle of operation is exactly the same: one device acts as a base station and determines the frequency of operation.  Multiple subscriber stations can be connected to one BS when using multiple antennas and a splitter (that is, point-to-multipoint mode also works).  If the BS determines the frequency of the network, then the connection speed adjusts on the subscriber side and is transmitted to the BS.  This is done from those considerations that there may be a different signal in quality to each specific client device. <br>  Available modes of operation: <br>  Frequency: <br>  2412, 2417, 2422, 2427, 2432, 2437, <br>  2442, 2447, 2452, 2457, 2462, 2467, <br>  2472, 2477, 2482. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Speed: <br>  1000, 2000, 5500, 11000 <br><br>  These are the characteristics of the modem that was in my hands.  Infinet also has 5 GHz modems.  And, it seems, they give them preference.  I suppose that this is due to the fact that in this range it is easier to obtain permissions to use frequencies, especially since mobility is not at all necessary. <br>  The R5000IL consists of a power supply unit, an internal module (IDU) and an external module (ODU). <br>  IDU is the brain of the system.  It includes a radio module that performs the functions of ADC, Fourier transform, multiplexing, and modulation.  In addition, it is also a router.  The built-in WanFlex OS has three software interfaces: lo, eth0 and rf.  Within one BS, there is local IP addressing in the 192.168.0.0 subnet. <br>  On the case of the device there is a power connector, Ethernet and a connector for connecting the feeder from the antenna. <br>  ODU in our case is a common antenna.  There are also external modules into which the radio modules are integrated.  IDU c ODU is connected via a high-frequency cable - feeder.  A splitter can be placed between them, for connecting several antennas and an amplifier to increase the length of the feeder path, since its recommended length at a frequency of 5 GHz is only 1 meter. <br>  From my own practice and the words of the old-timers, I can say that the devices are flawless and honestly fulfill their role.  Not a single gap in any weather and the speed corresponds to the stated. <br>  One major drawback: in the firmware that is installed in our modem there is one serious problem - the authorization does not work.  Despite the configured parameters for entering the control mode, any login / password is suitable.  But, most likely, this has been fixed in new versions. <br><br>  Below, as I promised, the story of a single montage. <br><br><h5>  Story </h5><br>  New work always foreshadows many interesting things.  So it happened.  Less than a month in a new place, as happened a minivan.  Morning of the third of May began on the roof of the old factory.  It was necessary to hang this very Wi-Fi antenna to provide access to the corporate network for an organization located in this building. <br>  Why a weekend?  Because communication is necessary for a company that sells alcohol, and the old channel is no longer working.  Meanwhile, the ninth of May soon ... The loss of profits could be calculated in numbers with a large number of zeros. <br>  No, of course, I could refuse, given the fact that this output is not paid, but would I really be a real ITshnik after that?  It was always interesting to me to study new pieces of iron.  And it was a chance to touch Infinet.  It used to be called Revolution. <br>  So morning began on the roof.  Someone's optics proudly fluttered in the wind, the Siberian-April's cold brightened our loneliness. <br><br> <a href=""><img src="https://habrastorage.org/getpro/geektimes/post_images/9a9/ad6/886/9a9ad6886a3005cd70a526ba169e1b39.jpg"></a> <br><br> <a href=""><img src="https://habrastorage.org/getpro/geektimes/post_images/ad1/b87/710/ad1b877107ffbc835b90be57dd9891eb.jpg"></a> <br><br>  The modem was dismantled from another building about two hundred meters from the current installation point, so all you had to do was to install the antenna on the roof, direct it in the right direction, forward the feeder (coaxial cable) to the IDU and adjust the antenna.  Everything at first glance is simple.  But if this were so, then this continuation would not exist now. <br>  By the way, when dismounting a modem and a switch, once again the horror of the state of switching and server racks in modern organizations opened up to me. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/3eb/35c/a7d/3eb35ca7d1fba8b740855dca8052ac70.jpg"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/02c/81e/184/02c81e184d032361c06b292a7a748707.jpg"><br><br>  The first obvious difficulty is the length of the feeder.  The manufacturer recommends a cable length of not more than 1m for a frequency of 5 GHz.  We also have a device running at 2.4 GHz and about 35 meters from the server, where the modem should be located, to the roof.  Of course, we tried to probe this question beforehand, but we didn‚Äôt manage to get any convincing answer from the support - the answer form filled in on the website infinet.ru was not followed, their e-mail was also silent, the girl said by telephone that ‚Äúyes, One meter "and advised to download from their website a program for calculating the tract, which turned out to be in * .jar format. <br>  ‚ÄúThey will not give a try for hands‚Äù - so we thought and decided to stretch it out of the server room - the shortest way - along the street. <br><br>  The server is located on the second floor, there are no stairs, there are no lifts, the only way to stretch the cable is to push it into the hole from the room and lift it to the roof, tying the end to a twisted pair.  Then it all started.  My partner on the roof tied a package with a brick to the twisted pair to make it easier to lower.  Needless to say that the polyethylene could not stand it and the brick flew down. <br><br>  In the photo moment for a second before the fall: <br><br> <a href=""><img src="https://habrastorage.org/getpro/geektimes/post_images/6d0/703/202/6d070320223179a5fa8a706380239328.jpg"></a> <br><br>  Running away, I still didn‚Äôt fully understand what was happening, but I saw that there was some kind of foreign car downstairs and our ‚Äútag‚Äù was right on the path of movement.  From a height of 25 meters should have been a very not weak blow.  None of us had a chance to get scared.  There was some passing understanding that we were ‚Äúcaught‚Äù, which quickly evaporated.  The brick hit the ledge on the wall and scattered into two parts, which fell on opposite sides of the ‚Äútag‚Äù less than half a meter from it, and only dust fell on the roof. <br><br>  The second time, they have not yet decided to try their luck with such rationalization decisions. <br><br>  We lowered the twisted pair cable, tied the feeder to it with a tie, and pulled it up neatly unraveling it to prevent knots and rings. <br><br>  After the cable was tightened, laid, secured everywhere with ties, crimped, inserted into connectors and sealed with silicone (sealing is a mandatory step, since moisture entering the microwave cable significantly degrades its performance), we went down and turned on the modem.  But he did not turn on.  We were shaking - when dismantling, we didn‚Äôt just not turn off the power before disconnecting the antenna, but bite the feeder with side cutters.  As far as I know, it is not recommended to turn on the radio equipment without a connected antenna in order to avoid failure.  In our case, a closure could have occurred. <br><br>  But panic is not our method.  The power supply turned out to be from Dlink, that is, it has already been replaced before, and the quality of power supply units from this manufacturer is known to all.  Street ‚Üí car ‚Üí road ‚Üí office ‚Üí warehouse ‚Üí new power unit of the same company and a couple more with similar characteristics ‚Üí car ‚Üí road ‚Üí <br><br>  ‚Üí <img src="https://habrastorage.org/getpro/geektimes/post_images/0ab/e10/322/0abe10322e82e449c97b79d3f2bb90b8.jpg" alt="Between this and then">  ‚Üí <br><br>  ‚Üí plant.  When turned on, a thin squeak is heard (at least some sign of life, albeit frightening), a friendly blinking of LEDs, there is a connection via ethernet.  But alas, nothing comes from the antenna.  The command <b>rma bs</b> (information about the BS to which the modem is connected) the device is silent.  There can be several reasons: the cable is damaged, poor contact on the connectors, the radio signal does not ‚Äúpush through‚Äù such a length, the radio module itself is damaged. <br>  We solder the contacts on the connectors below, we go up.  Here it should be noted that this plant produced beer, because, despite repairs, there was a nasty smell of rotted / fermented malt or barley (I am far from manufacturing techniques).  Actually civilization ended on the fourth floor.  Then began the ownership of the new owners of the building - pigeons.  As one of my heads pointedly pointed out: ‚ÄúThey have their entire life cycle there.‚Äù  Here and the stalagmites of their litter and the withered corpses of mice and their own - all in the wild venegrete in one place.  And it is generally scary to step into dark corridors. <br><br> <a href=""><img src="https://habrastorage.org/getpro/geektimes/post_images/668/2ea/1ef/6682ea1ef3929c73e873affa16a72f0a.jpg"></a> <br><br> <a href=""><img src="https://habrastorage.org/getpro/geektimes/post_images/da5/ca4/a1a/da5ca4a1aadd8546d4163ab3d0f79f9e.jpg"></a> <br><br>  All brand sealant, which the connector was richly lubricated, had to be removed.  Solder ‚Üí seal ‚Üí down to the test. <br><br>  Unfortunately, even after soldering the connectors, the situation has not improved: <b>rma bs</b> still returns an empty string.  Next step: check by directly connecting the IDU to the ODU.  For this you need to provide power on the roof.  Again, with a twisted pair cable, we lift onto the roof the end of the extension cord, which was already safely lowered after the antenna was fixed. <br><br>  As usual, a jumper is used to connect the modem with the feeder: a short piece of flexible thin coaxial cable, so there were no problems with direct connection: the IDU connects to the ODU through it - the benefit of the connectors are the same. <br><br>  This time <b>rma bs</b> showed data, something like this: <br> <code>#1&gt; rma bs <br> rf4.1: bs (123456/11000,2437) 000435ff2876 Q=159 10/7 IP=192.168.0.5 <br> Links 13, reps 13, Q=159 Rx=2 Tx=2 burst <br></code> <br><br>  signal level values ‚Äã‚Äãwere 10/7 (from BS / to BS) on a 16-point scale, which can be considered quite good. <br><br>  After connecting the laptop, setting the IP address, mask and gateway, the necessary network becomes available - fine, everything works.  Accordingly, it is necessary to shorten the length of the feeder (or the feeder itself is damaged, but we immediately discarded this option as the most unpleasant).  To do this, there is only one possibility - placing a modem near the antenna, somewhere in the room to avoid environmental influences, and pulling the power cable and twisted pair. <br><br>  The premises were found - the former elevator - an antenna was actually installed on its wall ... A twisted pair can also be thrown down the street, but I don‚Äôt want food at all, I would also not like to take it through ventilation or through staircases.  But the great strength of the experiment did not let down: despite the abandonment of the building, communications, cut wires, broken electric panels, <br><br> <a href=""><img src="https://habrastorage.org/getpro/geektimes/post_images/507/566/275/507566275b3c161304644a3eb30eb89b.jpg"></a> <br><br> <a href=""><img src="https://habrastorage.org/getpro/geektimes/post_images/189/4f7/ada/1894f7ada3eebce87cda8bc89d033388.jpg"></a> <br><br>  in the elevator room there was a switch, on which there was electricity.  The switch was powerful - Soviet with three inputs. <br><br> <a href=""><img src="https://habrastorage.org/getpro/geektimes/post_images/a1b/ef1/a2b/a1bef1a2b49ccc8d11146ab8ae2a07d6.jpg"></a> <br><br>  When closing the switch of the switch, sparks appeared.  Theoretically, the problem with nutrition is solved.  It remains only to find the phase and zero.  The phase tester helps us to establish that all three contacts are phases.  But zero because from somewhere should be taken?  Zero comes from the cable to the metal case of the switch, and from there to the ground loop passing through the entire room. <br><br> <a href=""><img src="https://habrastorage.org/getpro/geektimes/post_images/bef/c84/7ee/befc847ee49d3dce1ec4eab49a564a30.jpg"></a> <br><br>  As I was told after the installation, this is a normal practice and there is nothing wrong with that. <br>  With grief in half, this issue is also resolved: we stretch the power (flap on one side, the device will be located on the other) and the greatly shortened feeder. <br><br> <a href=""><img src="https://habrastorage.org/getpro/geektimes/post_images/92d/b3f/525/92db3f525dec4427dbf677362c5cb70c.jpg"></a> <br><br>  We check the signal - there is a connection.  The signal quality is much lower than with a direct connection.  But there is a connection with the main network.  Apparently, the length of the cable is very important here. <br><br> <a href=""><img src="https://habrastorage.org/getpro/geektimes/post_images/d3e/1f5/327/d3e1f5327ff60b34d6fd754405f631c0.jpg"></a> <br><br> <a href=""><img src="https://habrastorage.org/getpro/geektimes/post_images/bcd/d8f/ccf/bcdd8fccf4205df43e9626438549e1d2.jpg"></a> <br><br>  This is the case when I am ashamed of the quality of the installation in which I participated.  But within the framework of the set terms and conditions it was difficult to do otherwise. <br><br> <a href=""><img src="https://habrastorage.org/getpro/geektimes/post_images/1d6/388/a38/1d6388a38964e6f394fc5518e1660fd7.jpg"></a> <br><br>  Meanwhile, the time is coming to the end of the working day.  Half of the plans already fell through, the second half in the balance.  We throw the vithuha into the server room, check from there - Hooray, there is a link.  Seal.  At last, it seems, the work is finished. <br><br>  Actually because of what all the cheese boron?  It is necessary to provide employees with access via RDP, mail, software update.  Therefore, the last test is a remote desktop connection. <br><br>  Here it would end and everything ... But does it happen that way when you work on a Friday night or on a day off? <br><br>  Several attempts from different machines lead to nothing, the antivirus is not updated, the mail does not go.  About half an hour of digging and help from above led to the conclusion that large packages do not go.  Ping -l 300 is still there, ping -l 350 is gone. <br><br>  Changes on the mtu modem for different interfaces do not lead to any results.  Changing the bitrate, the default set to a maximum of 11Mb / s, 5.5Mb / s does not help.  Back up, remove the sealant layer, unscrew the connector, pull up the extension for connecting the modem.  The situation is similar, there are no solutions. <br><br>  Desperate with a zero mood, we returned to the office that day ‚Äî wiser than morning. <br><br>  The morning of the worker on May 4th was spent in reading manuals, comparing configurations with similar devices.  What is interesting is that there are no complaints about these modems for many months of work: stable good communication, fast automatic connection.  And then moving a couple of hundred meters - and does not work.  <a href="http://habrahabr.ru/blogs/telecom/78589/">LANTASIKA</a> some. <br><br>  I have never dealt with industrial Wi-Fi equipment and directional antennas for it before.  Accordingly, the control system on which it operates, WanFlex, was not familiar to me.  But during this time I have grown to it in order.  A command was found to analyze the number of retransmissions of packets on the radio interface.  In normal mode, they should be no more than 15%, and in general the network can not be handed over, if they exist at all.  In our country, their percentage turned out to be above 50. 72% of the packages repeated at least once.  For comparison, on other points, the total number of repetitions fluctuated within 5-11% (we are talking about reception).  From this we can conclude that at this interval there are some serious obstacles or interference from other equipment. <br><br>  The output looks like this: <br><br> <code>#1&gt; muffer stat <br> MAC out/rep in/rep <br> 000435ff2876 472316/132337 (00/18/21) 521770/10252 (00/01/01) =BS= <br> TOTAL: 472316/132337 (00/18/21) 521770/10252 (00/01/01) <br></code> <br><br>  The alcohol company is already suffering its first losses, and we are moving forward at a fast pace to the base station's station. <br><br>  The base station is exactly the same Infinet block as I already said (cons of the impossibility of mounting in a rack: it lies on the supply of cables as it fell in the pile of building dust) from which the microwave cable goes to the roof (20 meters) into the splitter.  From the splitter, the cable splits to two antennas - one directed to the modem to be installed, the other to the other subscriber. <br><br>  So it is: in this gap, an obstacle appeared, which was not in the past, - a metal crane - exactly closing the visibility between the antennas.  The first thought about the transfer of the antenna was found to be inhuman - and without that, work was rotated.  At the suggestion of my boss, I set the bitrate to 1 Mb / s and, lo and behold, everything works.  Large packages flew.  We wipe our eyes, try again - it works.  With this, he proposes to immediately save the config and no longer touch.  But still, I try to put on 2 Mb / s - also works - config save.  Later, I remembered that Wi-Fi when connecting up to 2 Mb / s is used noise-resistant DSSS instead of productive OFDMA, as well as a slower, but more reliable modulation scheme is chosen.  Apparently, these factors played a role.  Be that as it may, the fact is that the RDP is working, the antivirus has been updated and the connection to the mail server has started to pass. <br><br>  So on the third day our torment ended with the installation and adjustment, the mood improved, and the company suffered minimal losses.  The main thing is to consider any event in life from the positive side. <br><br>  1) Now we have experience with radio equipment. <br>  2) I know to some extent the commands of the WanFlex interface. <br>  3) We know that it is better to seal the connectors at the very last moment, after all the tests. <br>  4) Do not cut the microwave cable with the equipment turned on or even unscrew it. <br>  5) The presence of the ping response does not mean the serviceability of the service (an obvious, it seems, fact, but nevertheless it has already come across it more than once) <br>  6) Do not consider yourself very clever and consider even stupid at first glance options - also not a new remark, he himself had already given himself such a vow, however ... <br>  Yours sincerely: <br><img src="https://habrastorage.org/getpro/geektimes/post_images/737/350/ccd/737350ccd02d1c6e99bf5838a73f2189.jpg"><br><br>  &lt;This is what I like about my job?  You sit in the office: cisco, converters, networks, TCP.  The head is crammed with devils than.  Any abstract clients, channels.  Just like bookkeepers or commerce, and then rrraz - and went to the fields to see it all live and see what the booth was about, what kind of abstract optical cross hangs somewhere in the locker.  And see this: <br> <a href=""><img src="https://habrastorage.org/getpro/geektimes/post_images/961/70e/013/96170e0139bca632f18f1c4c075a5cd3.jpg"></a> </div><p>Source: <a href="https://habr.com/ru/post/96553/">https://habr.com/ru/post/96553/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../96544/index.html">Goooooool</a></li>
<li><a href="../96545/index.html">Electronic Arts Presentation at E3 2010</a></li>
<li><a href="../96547/index.html">Android 2.1 has become available for European users of HTC Hero</a></li>
<li><a href="../96549/index.html">Work with CCK Filefield. Insert and display Flash</a></li>
<li><a href="../96551/index.html">YouTube and the Guggenheim Museum are looking for the most creative videos.</a></li>
<li><a href="../96560/index.html">Circuitry - again about the goat with a gun</a></li>
<li><a href="../96561/index.html">A game created by one person. Eador. Creation</a></li>
<li><a href="../96562/index.html">Startup Crash Test 15 in Kiev</a></li>
<li><a href="../96565/index.html">New industry standard in Australia: fighting botnets or helping a big brother?</a></li>
<li><a href="../96568/index.html">Creating Scalable Vector Graphs with PHP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>