<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Virtual Juniper`s Mythbusters: Policies & Filters</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I begin a series of mini articles about the destruction of the legends associated with Juniper JunOS virtualizations on a PC. 

 Myth one: ‚ÄúPolicer Fi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Virtual Juniper`s Mythbusters: Policies & Filters</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage/0fbb983f/beb40e11/b815f742/3ad0f5b7.jpg"><br>  <i>I begin a series of mini articles about the destruction of the legends associated with Juniper JunOS virtualizations on a PC.</i> <br><br>  Myth one: <b>‚ÄúPolicer Filters (interfaces don't measure realtime traffic rates)‚Äù, this statement can be found on one of the most authoritative unofficial Juniper Olive websites.</b> <br><br>  The essence of the legend is that the Policer Filters do not work correctly, the interfaces measure traffic in real time incorrectly. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For the test, we use a fairly productive system based on the Intel Core i7 processor, with 8 Gb of RAM and the Windows 7 (x64) operating system. <br><br>  The latest version of GNS3 was also used (with applications included in its composition, such as modified qemu), the accelerator was also used - kqemu. <br><br>  Juniper Virtual JunOS 10.4 M / T Series acted as the router, debian lenny clients.  For the router, 512 Mb of RAM and 128 are allocated for each client, respectively.  The total load on the CPU of the system did not exceed 0.27. <br>  Tools for generating and receiving information about Iperf traffic. <br><br>  <i>Under the cut enough screen shots.</i> <br><a name="habracut"></a><br><br><h5>  The following configuration was assembled on the test bench: </h5><br><img src="https://habrastorage.org/storage/3176d0ac/2ce8c4f1/0fb53b3d/3906f182.png"><br><br>  For testing we used several configurations, let's stop on this: <br><img src="https://habrastorage.org/storage/2aebae76/8b436a20/2a48b280/47fbc626.gif"><br><br>  When testing without filtering on interfaces, an average bandwidth of <b>47.8Mbit / s</b> was obtained.  (screenshots could not attach, for the reason that I forgot to save them). <br>  Iperf parameters are similar to testing with filter and are listed below: <br><img src="https://habrastorage.org/storage/49416e1c/e6d80962/9f74f0d6/499ae0cb.jpg"><br><br><img src="https://habrastorage.org/storage/51b0feee/8d025eb4/57d62441/e8de67d7.jpg"><br><br>  Next, I suggest that you heed screenshots of test results with different values ‚Äã‚Äãfor the constraint: <br><img src="https://habrastorage.org/storage/b90eb444/d478fc52/f23b4b45/ef837cb0.jpg"><br><br><img src="https://habrastorage.org/storage/9472be9a/25544d86/b7cf8a4c/20a11836.jpg"><br><br><img src="https://habrastorage.org/storage/9bcdf468/156b96b8/a78e6e9a/3ff922ef.jpg"><br><br><img src="https://habrastorage.org/storage/f26b2b54/6073bc81/c1120b32/858c63c5.jpg"><br><br><h4>  Conclusion </h4><br><img src="https://habrastorage.org/storage/991c8323/20193c2a/c199226b/a45b6d74.jpg"><br><br><h5>  In the next series - VLANs ... </h5></div><p>Source: <a href="https://habr.com/ru/post/112390/">https://habr.com/ru/post/112390/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../112384/index.html">Do not do anything for 2 minutes</a></li>
<li><a href="../112386/index.html">Dynamics by sub-cuts: basic things and ‚Äúone is good and two are better‚Äù</a></li>
<li><a href="../112387/index.html">Twitter surveys</a></li>
<li><a href="../112388/index.html">Another hot offer from GoDaddy.com</a></li>
<li><a href="../112389/index.html">The number of downloads of applications from the Apple App Store has exceeded 10 billion</a></li>
<li><a href="../112392/index.html">In Russia, more and more mobile phone owners are using mobile Internet access.</a></li>
<li><a href="../112393/index.html">Who will take a pack of tickets, he will receive a water pump!</a></li>
<li><a href="../112394/index.html">Monoids and their applications: monoidal calculations in trees</a></li>
<li><a href="../112396/index.html">The creators of Pirate Bay are planning to launch Music Bay</a></li>
<li><a href="../112399/index.html">‚ÄúWhen ideas are worth something‚Äù or what if the scheme is ‚Äúflipped‚Äù?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>