<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Writing a plugin for jQuery</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article is intended to give an idea of ‚Äã‚Äãthe basic rules, the approaches that give the best results, and common mistakes that you should pay atte...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Writing a plugin for jQuery</h1><div class="post__text post__text-html js-mediator-article">  This article is intended to give an idea of ‚Äã‚Äãthe basic rules, the approaches that give the best results, and common mistakes that you should pay attention to when developing plug-ins for jQuery. <br><a name="habracut"></a><br><br><h4>  Getting started </h4><br>  First we create a new property-function for the jQuery object, where the name of our property will be the name of our plugin: <br><br><pre><code class="javascript hljs">jQuery.fn.myPlugin = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      };</span></span></code> </pre> <br>  But wait, where is the dollar badge we are used to, which we all know well?  It is still here, and so that it does not conflict with other libraries that can also use the dollar symbol, it is recommended to ‚Äúwrap‚Äù the jQuery object into a directly executed expression function (IIFE, Immediately Invoked Function Expression) that links the jQuery object with the ‚Äú$ "so that it is not overridden by another library at run time. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> $ </span></span></span><span class="hljs-function">) </span></span>{ $.fn.myPlugin = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      }; })(jQuery);</span></span></code> </pre><br>  That's better.  Now inside this closure, we can use the dollar sign as we please. <br><br><h4>  Context </h4><br>  Now we have a shell inside which we can start writing the plug-in code.  But before we begin, I would like to say a few words about the context.  In the immediate scope of the function of our plugin, the keyword ‚Äúthis‚Äù refers to the jQuery object for which this plugin was invoked. <br><br>  And here they often make mistakes, assuming that in other calls, where jQuery accepts a callback function, ‚Äúthis‚Äù points to the element of the DOM tree.  That, in turn, leads to the fact that the developers additionally wrap ‚Äúthis‚Äù in the jQuery function. <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> $ </span></span></span><span class="hljs-function">)</span></span>{ $.fn.myPlugin = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    $(this),   "this" -    jQuery //  $(this)   $($('#element')); this.fadeIn('normal', function(){ //  "this" -    DOM }); }; })( jQuery );</span></span></code> </pre><br><pre> <code class="javascript hljs"> $(<span class="hljs-string"><span class="hljs-string">'#element'</span></span>).myPlugin();</code> </pre><br><h4>  The basics </h4><br>  Now that we understand how to work with the context, we will write a jQuery plugin that performs useful work. <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> $ </span></span></span><span class="hljs-function">)</span></span>{ $.fn.maxHeight = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> max = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.each(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ max = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.max( max, $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).height() ); }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> max; }; })( jQuery );</code> </pre><br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tallest = $(<span class="hljs-string"><span class="hljs-string">'div'</span></span>).maxHeight(); <span class="hljs-comment"><span class="hljs-comment">//     div-</span></span></code> </pre><br>  This is a simple plugin that, using <a href="http://xhtml.co.il/ru/jQuery/height">.height ()</a> , returns the height of the highest div on the page. <br><br><h4>  We support the possibility of call chains </h4><br>  The previous example calculates and returns the integer value of the highest div on the page.  Typically, a plugin modifies a set of DOM tree elements, and passes them on to the next method in the call chain.  This is the beauty of jQuery and one of the reasons for its popularity.  So in order for your plugin to support call chains, make sure your plugin returns this. <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> $ </span></span></span><span class="hljs-function">)</span></span>{ $.fn.lockDimensions = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> type </span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.each(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> = $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !type || type == <span class="hljs-string"><span class="hljs-string">'width'</span></span> ) { $<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.width( $<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.width() ); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !type || type == <span class="hljs-string"><span class="hljs-string">'height'</span></span> ) { $<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.height( $<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.height() ); } }); }; })( jQuery );</code> </pre><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'div'</span></span>).lockDimensions(<span class="hljs-string"><span class="hljs-string">'width'</span></span>).css(<span class="hljs-string"><span class="hljs-string">'color'</span></span>, <span class="hljs-string"><span class="hljs-string">'red'</span></span>);</code> </pre><br>  Since the plugin returns this in its immediate scope, it therefore supports call chains, and the jQuery collection can continue to be handled by jQuery methods, such as <a href="http://xhtml.co.il/ru/jQuery/css">.css</a> , for example. <br>  And, if your plugin should not return any calculated value, you should always return this in the immediate scope of the plugin function.  Arguments that are passed to the plugin when called are passed to the immediate scope of the plugin function.  So, in the previous example, the string 'width' is the value of the ‚Äútype‚Äù parameter for the plugin function. <br><br><h4>  Settings and defaults </h4><br>  For more complex and customizable plugins, providing a large number of customization options, it is better to have default settings that expand (using <a href="http://xhtml.co.il/ru/jQuery/jQuery.extend">$ .extend</a> ) during a plugin call. <br><br>  So instead of calling a plugin with a large number of parameters, you can call it with one parameter, which is the object literal of the settings you want to expand.  For example, you can do this: <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> $ </span></span></span><span class="hljs-function">)</span></span>{ $.fn.tooltip = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> options </span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   -,     ,    var settings = $.extend( { 'location' : 'top', 'background-color' : 'blue' }, options); return this.each(function() { //     tooltip }); }; })( jQuery );</span></span></code> </pre><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'div'</span></span>).tooltip({ <span class="hljs-string"><span class="hljs-string">'location'</span></span> : <span class="hljs-string"><span class="hljs-string">'left'</span></span> });</code> </pre><br>  In this example, after calling the tooltip plug-in with the specified parameters, the value of the location parameter ('location') <br>  is overridden by the value of 'left', while the value of the 'background-color' parameter remains equal to 'blue'.  As a result, the settings object contains the following values: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">'location'</span></span> : <span class="hljs-string"><span class="hljs-string">'left'</span></span>, <span class="hljs-string"><span class="hljs-string">'background-color'</span></span> : <span class="hljs-string"><span class="hljs-string">'blue'</span></span> }</code> </pre><br>  This is a good way to create customizable plugins without having to define each of the available settings. <br><br><h4>  Namespace Definition </h4><br>  Correct definition of the namespace for a plugin is very important and provides a fairly low probability of overriding by another plugin or code running on the same page.  In addition, the definition of the namespace simplifies development, as it simplifies tracking the necessary methods, events and data. <br><br><h5>  Plug-in methods </h5><br>  Under any circumstances, one plugin must define no more than one namespace for the jQuery.fn object. <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> $ </span></span></span><span class="hljs-function">)</span></span>{ $.fn.tooltip = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> options </span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   }; $.fn.tooltipShow = function( ) { //  }; $.fn.tooltipHide = function( ) { //  }; $.fn.tooltipUpdate = function( content ) { // !!! }; })( jQuery );</span></span></code> </pre><br>  This practice is not welcome, as it pollutes the $ .fn namespace <br>  To avoid this, combine all the methods of your plugin into one object literal and call them, passing the name of the method as a string. <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> $ </span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> methods = { <span class="hljs-attr"><span class="hljs-attr">init</span></span> : <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> options </span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    }, show : function( ) { //  }, hide : function( ) { //  }, update : function( content ) { // !!! } }; $.fn.tooltip = function( method ) { //    if ( methods[method] ) { return methods[ method ].apply( this, Array.prototype.slice.call( arguments, 1 )); } else if ( typeof method === 'object' || ! method ) { return methods.init.apply( this, arguments ); } else { $.error( '   ' + method + '    jQuery.tooltip' ); } }; })( jQuery ); //   init $('div').tooltip(); //   init $('div').tooltip({ foo : 'bar' });</span></span></code> </pre><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   hide $('div').tooltip('hide');</span></span></code> </pre><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   update $('div').tooltip('update', '   ');</span></span></code> </pre><br>  This type of plug-in architecture allows you to encapsulate all of your methods in the parent of the plug-in closure, and call them, first passing the name of the method as a string, and then passing any additional parameters for this method.  This approach to encapsulating methods is a standard in the jQuery plugin community and is used in countless plug-ins and widgets in <a href="http://jquery.page2page.ru/index.php5/JQuery_UI">jQueryUI.</a> <br><br><h5>  Developments </h5><br>  A little-known feature of <a href="http://xhtml.co.il/ru/jQuery/bind">the bind method</a> is that it allows you to define namespaces for related events.  If your plugin binds some functionality to an event, then the namespace for this event will be a good tone.  And if you later need to <a href="http://xhtml.co.il/ru/jQuery/unbind">decouple</a> this functionality from the event, then you can do it without affecting the functionality that can be attached to this same type of event. <br><br>  You can define a namespace for your events by simply adding a period and name of the namespace to the name of the type of event you are associating with. <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> $ </span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> methods = { <span class="hljs-attr"><span class="hljs-attr">init</span></span> : <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> options </span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.each(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ $(<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>).bind(<span class="hljs-string"><span class="hljs-string">'resize.tooltip'</span></span>, methods.reposition); }); }, <span class="hljs-attr"><span class="hljs-attr">destroy</span></span> : <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> </span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.each(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ $(<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>).unbind(<span class="hljs-string"><span class="hljs-string">'.tooltip'</span></span>); }) }, <span class="hljs-attr"><span class="hljs-attr">reposition</span></span> : <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> </span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... }, show : function( ) { // ... }, hide : function( ) { // ... }, update : function( content ) { // ... } }; $.fn.tooltip = function( method ) { if ( methods[method] ) { return methods[method].apply( this, Array.prototype.slice.call( arguments, 1 )); } else if ( typeof method === 'object' || ! method ) { return methods.init.apply( this, arguments ); } else { $.error( '   ' + method + '    jQuery.tooltip' ); } }; })( jQuery );</span></span></code> </pre><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'#fun'</span></span>).tooltip(); <span class="hljs-comment"><span class="hljs-comment">//   ... $('#fun').tooltip('destroy');</span></span></code> </pre><br>  In this example, when the tooltip plugin was initialized using the init method, it associates the reposition method with the window resize (resizing) event, specifying the name tooltip namespace.  Later, when the developer intends to destroy the tooltip object, he can untie all the handlers attached to the plugin by specifying the appropriate namespace.  In this case, the 'tooltip' for the unbind method.  This allows you to safely unlink handlers from events without the risk of accidentally unlink an event associated with a handler outside this plugin. <br><br><h5>  Data </h5><br>  Often, during plug-in development, you may encounter the need to save states or check whether the plug-in has already been initialized for the specified element.  Using the data method from jQuery is a good way to track the state of variables for each element.  However, instead of tracking a lot of separate data calls with different names, it is recommended to use one object literal that will combine all your variables under the same roof and you will access this object through one namespace. <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> $ </span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> methods = { <span class="hljs-attr"><span class="hljs-attr">init</span></span> : <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> options </span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.each(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> = $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>), data = $<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.data(<span class="hljs-string"><span class="hljs-string">'tooltip'</span></span>), tooltip = $(<span class="hljs-string"><span class="hljs-string">'&lt;div /&gt;'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : $<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.attr(<span class="hljs-string"><span class="hljs-string">'title'</span></span>) }); <span class="hljs-comment"><span class="hljs-comment">//      if ( ! data ) { /* *    */ $(this).data('tooltip', { target : $this, tooltip : tooltip }); } }); }, destroy : function( ) { return this.each(function(){ var $this = $(this), data = $this.data('tooltip'); //   !!11 $(window).unbind('.tooltip'); data.tooltip.remove(); $this.removeData('tooltip'); }) }, reposition : function( ) { // ... }, show : function( ) { // ... }, hide : function( ) { // ... }, update : function( content ) { // ...} }; $.fn.tooltip = function( method ) { if ( methods[method] ) { return methods[method].apply( this, Array.prototype.slice.call( arguments, 1 )); } else if ( typeof method === 'object' || ! method ) { return methods.init.apply( this, arguments ); } else { $.error( '   ' + method + '    jQuery.tooltip' ); } }; })( jQuery );</span></span></code> </pre><br>  Using data allows you to track the state of variables between calls to your plugin.  Defining a namespace for data in a single object literal provides both simple centralized access to the properties of the plug-in and reduces the name space of data, which allows you to simply delete unnecessary data as needed. <br><br><h4>  Conclusion and useful tips </h4><br>  Creating jQuery plugins allows you to get the most out of this library and abstract your most successful solutions and frequently used functions into reusable code that can save you time and make the development process more efficient.  Below is a brief excerpt of what should be remembered while developing your jQuery plugin: <br><br><ul><li>  Always wrap your plugin in a design: <br><br><pre> <code class="javascript hljs"> (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> $ </span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> })( jQuery );</code> </pre><br>  <i>Translator's note: in the original article, this syntax is called closure, but it is not a closure, but a directly called function (IIFE).</i> <i><br></i> <br></li><li>  In the immediate area of ‚Äã‚Äãthe function of your plugin, do not wrap this in unnecessary syntax. </li><li>  Unless you return a particular value from the plugin function, always return a reference to this to support call chains. </li><li>  If you need to transfer a long list of parameters, pass the settings of your plug-in as an object literal, the values ‚Äã‚Äãof which will be distributed to the default values ‚Äã‚Äãfor the parameters of your plug-in. </li><li>  For one plugin, define no more than one jQuery.fn namespace. </li><li>  Always define a namespace for your methods, events, and data. </li></ul></div><p>Source: <a href="https://habr.com/ru/post/158235/">https://habr.com/ru/post/158235/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../158223/index.html">Life in the era of "dark" silicon. Part 1</a></li>
<li><a href="../158225/index.html">Dynamic personalized reporting reporting tools Crystal Reports</a></li>
<li><a href="../158229/index.html">Experience developing a plugin for Yasca</a></li>
<li><a href="../158231/index.html">Pseudo-Holography Screen Technologies</a></li>
<li><a href="../158233/index.html">Karateka game remake</a></li>
<li><a href="../158239/index.html">About cameras and lenses</a></li>
<li><a href="../158245/index.html">Matt Cutts: Do not keep the domain in the parking lot before opening the site</a></li>
<li><a href="../158253/index.html">Errors on Habr√© and how to get rid of them</a></li>
<li><a href="../158255/index.html">Is the CIA model useful for protecting a process control system?</a></li>
<li><a href="../158259/index.html">It's time to give Samsung 900x3c</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>