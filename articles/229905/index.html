<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Make the simplest filter by product properties using ElasticSearch on Symfony2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I was inspired to write this article by the lack of a ready-made step-by-step guide on the Internet ‚Äúhow to implement a filter of products on ElasticS...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Make the simplest filter by product properties using ElasticSearch on Symfony2</h1><div class="post__text post__text-html js-mediator-article">  I was inspired to write this article by the lack of a ready-made step-by-step guide on the Internet ‚Äúhow to implement a filter of products on ElasticSearch‚Äù, and the task to do this was clear and unshakable.  It was possible to find fragmentary reference information, but not a cookbook for solving the most trivial tasks. <br><br>  I focus your attention on symfony2, because I will use FOSElasticaBundle, which allows you to describe the mapping of elasticsearch indexes in convenient yaml configs and attach Doctrine ORM entities or Doctrine ODM documents to them.  Proposed indexes are populated from related doctrina entities with the help of a single console command.  In addition, it includes a vendor library for constructing search and filtering queries.  Search results are returned as an array of entity objects or a Doctrine ORM / ODM document bound to a search index.  Learn more about FOSElasticaBundle, traditionally, on the githaba: <a href="https://github.com/FriendsOfSymfony/FOSElasticaBundle">github.com/FriendsOfSymfony/FOSElasticaBundle</a> <br><br>  Using a bundle allows you to completely abstract from manipulations with pure JSON, encode and decode something with json_encode and json_decode functions, climb somewhere using Surl.  Here, only the OOP approach! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  A bit about SQL data schema </h5><br>  Since my products are stored in a relational DBMS, I needed to implement the EAV model for their properties and values ‚Äã‚Äã(for more information: <a href="http://en.wikipedia.org/wiki/Entity%25E2%2580%2593attribute%25E2%2580%2593value_model">en.wikipedia.org/wiki/Entity%E2%80%93attribute%E2%80%93value_model</a> ) <br><br>  As a result, I got this data scheme: <br><img src="https://habrastorage.org/getpro/habr/post_images/8fd/b46/2ab/8fdb462ab85879436dd31e468069bbb6.png" alt="image"><br><a name="habracut"></a><br><br>  base dump: <a href="https://drive.google.com/file/d/0B30Ybwiexqx6S1hCanpISHVvcjQ/edit%3Fusp%3Dsharing">drive.google.com/file/d/0B30Ybwiexqx6S1hCanpISHVvcjQ/edit?usp=sharing</a> <br>  On it we will create doctrinal entities and they will map them in ElasticSearch. <br><br><h5>  Mappim EAV model in ElasticSearch </h5><br>  So, first install FOSElasticaBundle.  In composer.json you need to specify: <br><br><pre><code class="php hljs"><span class="hljs-string"><span class="hljs-string">"friendsofsymfony/elastica-bundle"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span></code> </pre> <br><br>  Update the dependencies and prescribe the established bundle in AppKernel.php: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FOS\ElasticaBundle\FOSElasticaBundle()</code> </pre><br><br>  Now we set the following settings in config.yml: <br><br><pre> <code class="php hljs">fos_elastica: clients: <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: { host: localhost, port: <span class="hljs-number"><span class="hljs-number">9200</span></span> } indexes: test: types: product: mappings: name: ~ price: ~ category: ~ productsOptionValues: type: <span class="hljs-string"><span class="hljs-string">"object"</span></span> properties: productOption: index: not_analyzed value: type: string index: not_analyzed persistence: driver: orm model: Vendor\TestBundle\Entity\Product provider: ~ listener: immediate: ~ finder: ~</code> </pre><br><br>  To fill the index created above with data you need to run the console command php app / console fos: elastica: populate.  As a result, FOSElasticaBundle will fill the index with data from the database. <br><br>  <b>Note:</b> Inside the product in the form of an embedded object, we put the characteristics and their values.  In order for everything to work as it should, you should specify the type: ‚Äúobject‚Äù instead of type: ‚Äúnested‚Äù for the collection of the characteristics of productsOptionValues.  Otherwise, the characteristics will be stored as arrays as described here: <a href="http://www.elasticsearch.org/guide/en/elasticsearch/guide/current/complex-core-fields.html">www.elasticsearch.org/guide/en/elasticsearch/guide/current/complex-core-fields.html#_arrays_of_inner_objects</a> and the filter will not work correctly.  It should also be noted that the filtered fields should not be analyzed for what the index: not_analyzed line is responsible for.  Otherwise, problems will arise when filtering strings containing spaces. <br><br>  Now you can see the list of products with the characteristics embedded in them at localhost: 9200 / test / product / _search? Pretty In my case, the server's response looks like this: <br>  <a href="https://gist.github.com/ArFeRR/3976778079d64d5a72cd">gist.github.com/ArFeRR/3976778079d64d5a72cd</a> <br><br><h5>  Render filtering form </h5><br><br>  My form itself looks like this: <br><img src="https://habrastorage.org/files/292/f5f/1ec/292f5f1ec3004f5d85e454_6b304d760f.png"><br><br>  In the controller, we will execute requests for all properties and products, declare an empty filter array and transfer all this to the TWIG template: <br><br><pre> <code class="php hljs">$options = $entityManager-&gt;getRepository(<span class="hljs-string"><span class="hljs-string">"ParfumsTestBundle:ProductOption"</span></span>)-&gt;findAll(); $products = $entityManager-&gt;getRepository(<span class="hljs-string"><span class="hljs-string">"ParfumsTestBundle:Product"</span></span>)-&gt;findAll(); $request = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;get(<span class="hljs-string"><span class="hljs-string">'request'</span></span>); $filter = $request-&gt;query-&gt;get(<span class="hljs-string"><span class="hljs-string">'filter'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;render(<span class="hljs-string"><span class="hljs-string">'ParfumsTestBundle:Default:filter.html.twig'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'options'</span></span>=&gt;$options, <span class="hljs-string"><span class="hljs-string">'products'</span></span> =&gt; $products, <span class="hljs-string"><span class="hljs-string">'filter'</span></span> =&gt; $filter));</code> </pre><br><br>  Here you should group by property names to avoid duplicating them on the form, but to save space, I do not do that.  Write a DQL request to your entity / document repository yourself.  FindAll request for goods is needed to display the entire list of products, if nothing is selected on the filter. <br><br>  And here is the twig itself: <br><pre> <code class="html hljs xml">{% extends "TwigBundle::layout.html.twig" %} {% block body %} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> {% for option in options %} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> {{ option.name }} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> {% for value in option.productsOptionValues %} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"checkbox"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{{ value.value }}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"filter[{{ option.name }}][{{ value.id }}]"</span></span></span><span class="hljs-tag"> {% </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">filter</span></span></span><span class="hljs-tag">[</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">option.name</span></span></span><span class="hljs-tag">][</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value.id</span></span></span><span class="hljs-tag">] </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">is</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">defined</span></span></span><span class="hljs-tag"> %} </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">checked</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"checked"</span></span></span><span class="hljs-tag"> {% </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">endif</span></span></span><span class="hljs-tag"> %} /&gt;</span></span> {{ value.value }} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> {% endfor %} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> {% endfor %} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag">&gt;</span></span> {% for product in products %} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span>{{ product.name }}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span>{{ product.price }}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> {% for option_value in product.productsOptionValues %} {{ option_value.productOption }} : {{ option_value.value }} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag"> /&gt;</span></span> {% endfor %} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> {% endfor %} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag">&gt;</span></span> {% endblock %}</code> </pre><br><br><h5>  We process the filtering form </h5><br>  Let's get to the fun part. <br>  Now we will need to construct a search query (or, more precisely, a JSON filter), which will be passed to ElasticSearch for processing.  This is done using the Elastica.io library built into the FOSElasticaBundle (more: <a href="http://elastica.io/">elastica.io</a> ) <br>  So, in the action of your controller, we process the filtering array received from the form: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!<span class="hljs-keyword"><span class="hljs-keyword">empty</span></span>($filter)) { $finder = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;container-&gt;get(<span class="hljs-string"><span class="hljs-string">'fos_elastica.finder.parfums.product'</span></span>); $andOuter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \Elastica\Filter\Bool(); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span>($filter <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $optionKey=&gt;$arrValues) { $orOuter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \Elastica\Filter\Bool(); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span>($arrValues <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $value) { $andInner = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \Elastica\Filter\Bool(); $optionKeyTerm = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \Elastica\Filter\Term(); $optionKeyTerm-&gt;setTerm(<span class="hljs-string"><span class="hljs-string">'productOptionValues.productOption'</span></span>, $optionKey); $valueTerm = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \Elastica\Filter\Term(); $valueTerm-&gt;setTerm(<span class="hljs-string"><span class="hljs-string">'productOptionValues.value'</span></span>, $value); $andInner-&gt;addMust($optionKeyTerm); $andInner-&gt;addMust($valueTerm); $orOuter-&gt;addShould($andInner); } $andOuter-&gt;addMust($orOuter); } $filtered = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \Elastica\Query\Filtered(); $filtered-&gt;setFilter($andOuter); $products = $finder-&gt;find($filtered); }</code> </pre><br><br>  Here I take an array passed through the address line and iterate through the filter values ‚Äã‚Äãselected by the user to create a tree structure of class objects for which the Elastica library will generate a JSON string, by which ElasticSearch will filter our data set: <br>  <a href="https://gist.github.com/ArFeRR/97671e54515dfd7be012">gist.github.com/ArFeRR/97671e54515dfd7be012</a> <br><br>  This JSON roughly corresponds to the following condition in a relational database: <br>  WHERE ((option = resolution AND value = 1980x1020) OR (option = resolution AND value = 1600x900)) AND (option = weight AND value = 2.7 kg) <br><br>  As a result, as a result, we must receive products that must have the same weight and at least one of the two screen resolutions selected by the user.  In my data set, this is only 1 item. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/827/08e/0fb/82708e0fbe76b6f70e10e9ce77d9e66f.png"><br><br>  It seems to be working properly. <br><br>  The above filtering example can be improved.  The next step should be the implementation of sorting the results by relevance, their paginated output and setting up aggregations (private implementation of the facets in ES).  I will write about it later if it will be interesting to the habr-community. <br><br><h5>  upd0: </h5>  At the request of readers, a filter form handler was rewritten using the secure Symfony \ Component \ HttpFoundation \ Request object.  It should be embedded in the action (passed as a parameter) or obtained from the service via $ request = $ this-&gt; get ('request') in the action. </div><p>Source: <a href="https://habr.com/ru/post/229905/">https://habr.com/ru/post/229905/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../229893/index.html">Functional JavaScript, Part 1: Introduction</a></li>
<li><a href="../229895/index.html">Synthesis of optimal facial recognition algorithm</a></li>
<li><a href="../229899/index.html">Copyright maze generated?</a></li>
<li><a href="../229901/index.html">Hayload in the cloud on a live example</a></li>
<li><a href="../229903/index.html">SharePoint Farm - a new feature in Microsoft Azure</a></li>
<li><a href="../229909/index.html">Search Preview - Chrome extension</a></li>
<li><a href="../229911/index.html">How to create a legend</a></li>
<li><a href="../229917/index.html">We program for iPhone and iPad. 3rd ed</a></li>
<li><a href="../229919/index.html">Assessment of renewable energy potential. Regional experience</a></li>
<li><a href="../229921/index.html">Using the principles of psychology to increase the conversion of sites. Part 1: Gestalt psychology, the law of brevity</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>