<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>When the star goes out: an interview with Jim Weirich</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="From the translator: Jim Weirich is a legendary personality in the Ruby community. Unfortunately, he, like all of us, is mortal. Not so long ago, he l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>When the star goes out: an interview with Jim Weirich</h1><div class="post__text post__text-html js-mediator-article"><h6>  <i>From the translator: Jim Weirich is a legendary personality in the Ruby community.</i>  <i>Unfortunately, he, like all of us, is mortal.</i>  <i>Not so long ago, he left us.</i>  <i>This translation is a tribute to this man who changed the world a little.</i> </h6><br>  I heard about Jim for a long time: after all, he is the author of the <a href="http://rake.rubyforge.org/">rake</a> utility, which has become the de facto standard among rubists.  To my great luck, I was among the listeners of his speech at <a href="http://www.confreaks.com/videos/988-goruco2012-power-rake">GoRuCo 2012</a> , where he was told about the advanced features of rake.  I remember how I was struck by the dexterity and ease with which Jim spoke on complex topics.  Later that year, at the RubyConf conference, I watched one more of his <a href="http://www.confreaks.com/videos/1287-rubyconf2012-y-not-adventures-in-functional-programming">remarkable speeches</a> explaining some of the basic principles of Lambda calculus.  Jim not only explained this not so simple topic in an accessible way, but also did not lose his listeners on the way. <br><br>  I think now you understand why I was so glad to take this interview from Jim, because this is a unique opportunity to learn a little more about him and to learn something.  We also managed to talk about the beginning of his journey in the world of development, about his first steps in Ruby, about functional programming, the threading model in Ruby and even his test framework: <a href="https://github.com/jimweirich/rspec-given">RSpec-Given</a> .  So open this interview, do not be lazy to learn about one of the most advanced and charismatic developers! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/955/d5f/1ea/955d5f1ea9ba321d937c04d8d1062f10.jpg"><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Programmer's brief summary </h4><br>  <b>How did you become a developer?</b>  <b>What are your reasons for choosing this profession?</b> <br><br>  I ran into programming back in school, in the good old seventies.  I then took a book in the library devoted to the development of a BCD system.  As a programming language, an assembler-like language was used.  In general, this is somewhat insane, of course, to write under BCD in assembler, but I figured it out. <br><br>  <b>What does the abbreviation BCD mean?</b> <br><br>  BCD is ‚ÄúBinary Coded Decimal‚Äù, a system in which all numbers are stored in the decimal number system (as opposed to the traditional binary). <br><br>  This is a very unusual machine architecture, and yet valid for a beginner in the programming world.  I remember how I came off while learning to write code.  I think you can guess what exactly I said to the consultant for the choice of profession.  True, after reading the description of a typical programmer in a pamphlet, I am notably despondent. <br><br>  <b>Do not worry what was written there?</b> <br><br>  Well, something like: <br><br>  <i>‚Äú... You are sitting completely alone, in deep darkness.</i>  <i>... You do not communicate with anyone for many hours of your work! ‚Äù</i> <br><br>  After that, I thought that programming is great, but this kind of work ... No, thank you! <br><br>  During my college years, our consultant advised me: ‚ÄúWhy don't you sign up for the Fortran for Beginners course?‚Äù  You might like it. ‚Äù  When I came to the first lesson, the lecturer went to the blackboard and began to write code, explaining it in the course.  I still remember the name of the first function he wrote - member.  I listened to a lecture and suddenly it dawned on me: ‚ÄúThis is some kind of strange Fortran dialect.  Too many brackets! ‚Äù  Oh yes, it was Lisp!  As it turned out, I got on the first and only course of Dan Friedman, author of the book Little Lisper. <br><br>  <b>Well, what about the ominous description of the programmer from the brochure?</b> <br><br>  Ha, programming turned out to be a very social activity.  Today, even if you work alone, you can always communicate with other people via Twitter, IRC, issues on a githaba, or mailings ... We are no longer the lone wolves that we were described in the 1970s. <br><br><h4>  Happy discovery </h4><br>  <b>How did you come to Ruby?</b> <br><br>  It was in 2000, if my memory serves me.  I then wrote in C ++ and Java, and also very decently in Perl (well, you know, small scripts to reduce the daily routine).  And Pearl, unfortunately, after a while began to upset me: he was perfect for fast hacks, but only because it is difficult to write beautiful abstractions on it.  Here, for example, I need a list ‚Äî please spit in Perl, but when the list of lists is already needed, that's all, the language starts to behave awkwardly. <br><br>  And so I began to look for a new, suitable language for me personally.  I wanted something more expressive, which would allow more active use of abstraction.  And since I loved object-oriented programming, I also wanted an appropriate language.  I very carefully studied Python and made at least 3 approaches to it.  But, you know, there was no such thing in the head ‚ÄúBam!‚Äù.  Therefore, after a while I stopped my progress in Python, since he never became close to me. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f1a/168/e2c/f1a168e2cbd901a503180d07e12c200e.jpg"><br><br>  Somewhere during my 3 attempts to learn Python, I received a letter from Dave Thomas in which he wrote: ‚ÄúI found a small language called Ruby here and I really liked it, it can also be to your liking.‚Äù I then finished read the book <a href="http://pragprog.com/the-pragmatic-programmer">The Pragmatic Programmer</a> and decided that if Dave himself recommends something, then it is definitely worth a look at.  I downloaded Ruby, played with him for just a few minutes and suddenly realized: ‚ÄúWell, here it is!  This is exactly the language I was looking for! ‚Äù  After 3 days I stopped writing in Perl and completely switched to Ruby. <br><br>  <b>What version of ruby ‚Äã‚Äãwas it?</b> <br><br>  It was Ruby 1.6 (since it was summer 2000 in the yard). <br><br>  <b>What exactly are you so hooked Ruby?</b> <br><br>  He did everything in the same way as Pearl, but only in an object-oriented manner.  I remember, then I thought: ‚ÄúWell, I would write this puzzle in Perl, but if I had objects, I would solve the problem in this way‚Äù.  After that, I sat down at Ruby, and my solution, built on the facilities, just worked!  Of course, I could use quick (and dirty) tricks, like those Pearl allowed me to do, but after a while I found out that Ruby has simply excellent abstractions and the language itself has developed very correctly.  I was just happy to meet him. <br><br><h4>  Is Ruby functional? </h4><br>  <b>Well, Ruby is an object-oriented language.</b>  <b>But is it functional at the same time?</b>  <b>And what does the word "functional" mean in general?</b> <br><br>  This is a good question, really.  Today, functional languages ‚Äã‚Äãare given increased attention, for example, tonight I will have a meeting with programmers in functional languages ‚Äã‚Äãin the city of Cincinnati.  My wife, in response to this decision, said: ‚ÄúWell, well, tomorrow you are meeting with mere mortal developers?‚Äù <br><br>  In general, there are 2 requirements to make a language functional, the first of which is manipulating functions as first-class objects: transferring functions from one place to another, associating them with variables, using closures to create new functions, and so on.  Ruby satisfies the first requirement: we have lambdas and closures, we can associate them with variables and even create dynamically new functions.  So, if you look from this side, Ruby is a very functional language. <br><br>  But there is a second requirement!  It makes functional languages ‚Äã‚Äãso interesting.  It is the inadmissibility of changing the state of entities.  Ruby does not meet this requirement, because the state of objects is constantly changing! <br><br>  Functional programming is interesting for its implementation of multithreading.  One of the important problems in multithreaded programming is the race condition, when you have, for example, 2 threads working with the same data.  With this race, it is unknown who will win.  For example, increasing the counter.  There are 2 threads, the first of which reads the current value, increments it in the memory register and then puts it back.  At this time, the second stream reads, increments the value and writes it.  <b>If</b> (and only if) they alternate in strict order one after another and we start with the number 10, then there will be 11, 12 and so on.  You have to be very, very careful when the threads in the shared resource can be changed. <br><br>  To solve this problem, there are 2 ways: not to use a shared resource, or not to change this resource itself.  Functional programming uses the second approach: the data does not change, but only is created.  With this approach, multi-threaded programming becomes much easier.  I think that in our technological society with each new piece of hardware / processor, the need for multithreading will only grow.  And in languages ‚Äã‚Äãsuch as Clojure, very good constructions are already built in for easy flow manipulation.  In Clojure, if you even change the data, you do it in very specific conditions, when it is safe. <br><br>  I'm afraid Ruby suffers from this because his model for streams comes from 1960-1970. <br><br><h4>  Thread Model in Ruby </h4><br>  <b>Yes, it especially affected Ruby's MRI.</b>  <b>I personally believe that the interpreter itself is not thread-safe.</b>  <b>Is it really so?</b> <br><br>  The interpreter is thread-safe, but this was achieved with the help of GIL (Global Interpreter Lock), the developers spoke a lot about it at RubyConf.  The essence of this approach is that when entering the interpreter, a lock is set so that other threads cannot enter it at the same time.  All this leads to thread safety, of course, but somewhat, let's say, complicates the work with the threads themselves. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/092/9d0/d5e/0929d0d5eac0605ade4d25a0aae8c0c7.jpg"><br><br>  <b>However, are JRuby and Rubinius thread safe?</b> <br><br>  Yes!  They impose a lock on the lower level.  There is such a thing: if, initially, the architecture of laying the lock at the required level, then it will be easy to do so in the end.  To add thread safety to an already existing language is the real problem that MRI developers have to contend with.  They added GIL in the end, but this is a somewhat superficial decision. <br><br>  Matz mentioned that they were testing a different approach, with micro-locks (microlocking), in other words, locking them on shared data.  He also said that in this case the code started working much slower than the version with GIL.  Here is such a solution price.  So if you need to work with streams, then you should look to JRuby or Rubinius.  But even when they are used, it must be remembered that shared resources may change, since Ruby does not yet offer good solutions to this problem. <br><br><h4>  10 publications that every developer should read </h4><br>  <b>I like the fact that new, modern ideas are often based on research and the basis of distant days from the past.</b>  <b>For example, the ideas of functional programming or Lambda calculus, which you talked about during your speech at RubyConf.</b> <br><br>  These are things of eighty-year exposure! <br><br>  <b>Do you still have such things up your sleeve?</b> <br><br>  In 2009, Michael Feathers wrote the article <a href="http://michaelfeathers.tumblr.com/post/81489281/10-papers-every-programmer-should-read-at-least-twice">"10 Papers Every Programmer Should Read at Least Twice"</a> ( <i>unfortunately, the original article itself is no longer available</i> ). <br><br>  The first book is written by David Parnan and is called <a href="http://www.cs.umd.edu/class/spring2003/cmsc838p/Design/criteria.pdf">‚ÄúOn the criteria to be used in decomposing systems into modules‚Äù</a> .  He wrote a simple program ‚ÄúKeyword in context‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2e5/b85/57e/2e5b8557e9687459f80700c2ca20e646.jpg"><br><br>  The program runs through the text file, finds all the words, finds parts of the text in which these words are found, and records the found blocks of text so that the words can later be displayed in the catalog along with the text in which they are located.  It was an experiment.  David wrote two programs using different approaches, and then looked at what happens when new requirements are placed on these programs.  During the experiment, it was found that the best way to write a program is to break it down into modules, each of which hides internal content. <br><br>  <b>Is this one of the ideas of object-oriented programming (OOP)?</b> <br><br>  Yes, one of them, in the OOP, each object stores a piece of information, and what happens inside the world does not care.  Therefore, changing the method of storage and interaction with internal parts will not affect others.  And this very simple experiment showed what to do.  I highly recommend reading <a href="http://www.cs.umd.edu/class/spring2003/cmsc838p/Design/criteria.pdf">this article in</a> its entirety.  I like that David really did the experiment: he wrote the code and checked how he behaves under the new conditions. <br><br>  Another cool article is <a href="http://www.thocp.net/biographies/papers/backus_turingaward_lecture.pdf">‚ÄúCan Programming Be Liberated from the von Neumann Style?‚Äù</a> By John Backus.  This is one of the first publications, which he called "ML", that is, a functional programming language.  ML became the basis for languages ‚Äã‚Äãsuch as Haskell and OCalm. <br><br>  Another exciting study that I would like to share is Ken Thompson's <a href="http://cm.bell-labs.com/who/ken/trust.html">‚ÄúReflections on Trusting Trust‚Äù</a> .  He described a hack for the compiler, with which you can add a bug in Unix, which is not in the source code. <br><br><h4>  Speeches </h4><br>  <b>You have a natural talent: you can explain very complex topics.</b>  <b>How do you do it?</b> <br><br>  You know, I read a bunch of books about performances: how to prepare correctly, how to conduct, actually, a performance and so on.  In all books, it is recommended to take notes in the fields and other similar things - but this approach does not work with me! <br><br>  When preparing for a performance, I like to use a marker board or utility, like Omnigraffle for Mac OS.  I start with small rectangles inside which an idea is written.  After that, I connect the corresponding ideas with lines.  For example, if the performance is related to Ruby, then I write out all the things that I would like to talk about.  After that, I connect them with connections, you know, like ‚Äúmind mapping‚Äù.  I, however, get a directed graph. <br><br>  After that, I try to write an interesting story on paper, walking along my resulting graph.  Not necessarily in the order in which ideas are located, of course. <br><br>  <b>That is, is it something like a technical writer?</b> <br><br>  Yes, I like this description! <br><br>  <b>To transform such difficult topics as Lambda calculus into an interesting story is art.</b>  <b>I think many would have lost their eyes when trying to read original scientific works on this topic, written 80 years ago.</b> <br><br>  I believe that the key to a successful performance is to have the most burning eyes.  If what you are telling is interesting first of all to you, then you will be interested in the rest of the audience.  If only you knew how many professors I met with a terribly monotonous voice while I was studying!  This is a quiet horror.  After this unforgettable experience, I decided that if I ever perform, I <b>will never</b> do it the way my lecturers did.  All these preparations for the performance - this, of course, is good and it helps, but much more important is the flame in your eyes during the performance. <br><br><h4>  Rspec-given </h4><br>  <b>Do you still plan to perform?</b> <br><br>  In January, I'm going to talk about my brainchild: the <a href="https://github.com/jimweirich/rspec-given">Given / When / Then</a> framework.  This is my favorite child: every time I write tests, I use my framework because it expresses my thoughts very elegantly.  I will tell about it on <a href="http://codemash.org/">CodeMash</a> . <br><br>  <b>Does this framework have something in common with the BDD philosophy?</b>  <b>And with Cucumber?</b>  <b>Or the fact that you use those 3 keywords is just a coincidence?</b> <br><br>  This is just a coincidence, my framework is not related to Cucumber, although I like it very much with my approach using Given / When / Then. <br><br>  Using Rspec-Given you simply specify: this is given, this is the code that we are testing and this must be true for the tests to pass.  In my opinion, this is a great way to write tests.  I used a similar approach, even when I wrote on Test :: Unit: the data is given, here is the test code, and here are the tests themselves.  But I tried to find a more elegant solution, since neither Test :: Unit nor Rspec give the necessary methods. <br><br>  About 2-3 years ago, I reflected on this problem by sketching my ideas on paper.  At that time, I was at the Ruby Hoedown conference in Nashville.  I passed this piece of paper to the developers next door to collect feedback and opinions.  And then Joe O'Brien turned to me and said: "You are not going to write another test framework?" <br><br>  I played with my ideas for a year or two, until I came across a very simple and wonderfully working implementation on Rspec.  It's cool that the rspec has enough flexibility and abstractness to implement what I wanted.  As a result, a small library was written on top of Rspec.  Thus, you can use the knowledge gained when writing on Rspec with the addition of greater clarity to the tests. <br><br><h6>  <i>From the translator: Please report any errors found using personal messages, they will be promptly corrected.</i> </h6><br>  <i><b>References:</b></i> <br><br><ul><li>  Jim's Biography: <a href="http://en.wikipedia.org/wiki/Jim_Weirich">en.wikipedia.org/wiki/Jim_Weirich</a> </li><li>  Jim's speech at GoRuCo 2012 (dedicated to rake): <a href="http://www.confreaks.com/videos/988-goruco2012-power-rake">www.confreaks.com/videos/988-goruco2012-power-rake</a> </li><li>  Jim's speech at Ruby Conference 2012 (Y Not - Adventures in Functional Programming): <a href="http://www.confreaks.com/videos/1287-rubyconf2012-y-not-adventures-in-functional-programming">www.confreaks.com/videos/1287-rubyconf2012-y-not-adventures-in-functional-programming</a> </li><li>  Rspec-Given Library: <a href="https://github.com/jimweirich/rspec-given">github.com/jimweirich/rspec-given</a> </li><li>  Last commit: <a href="https://github.com/jimweirich/wyriki/commit/d28fac7f18aeacb00d8ad3460a0a5a901617c2d4">github.com/jimweirich/wyriki/commit/d28fac7f18aeacb00d8ad3460a0a5a901617c2d4</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/215567/">https://habr.com/ru/post/215567/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../215547/index.html">Cancellation of links in the ranking of commercial requests</a></li>
<li><a href="../215549/index.html">Robot Lucky at the contest "Miss Russia 2014"</a></li>
<li><a href="../215555/index.html">How we did the homework robot</a></li>
<li><a href="../215557/index.html">Bitcoin: Decentralized Electronic Monetary System</a></li>
<li><a href="../215559/index.html">Valve has unveiled the source for the Direct3D translator in OpenGL</a></li>
<li><a href="../215569/index.html">Secure Active Directory management. Part 1</a></li>
<li><a href="../215573/index.html">We lift the domain controller on Ubuntu Server</a></li>
<li><a href="../215575/index.html">Sir Tim Berners-Lee: The World Wide Web is 25 years old. Keep it free and open.</a></li>
<li><a href="../215577/index.html">Strace</a></li>
<li><a href="../215581/index.html">As I bought, I finished and set up a Chinese 3D printer Wanhao Duplicator 4</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>