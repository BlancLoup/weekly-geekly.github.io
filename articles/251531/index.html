<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Formatting Python Code</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 Python, more precisely its most famous representative of CPython, is not very designed for any quick calculations. In other words, his ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Formatting Python Code</h1><div class="post__text post__text-html js-mediator-article"><h3>  Introduction </h3><br>  Python, more precisely its most famous representative of CPython, is not very designed for any quick calculations.  In other words, his performance is not so <a href="http://benchmarksgame.alioth.debian.org/u64q/python.html">good</a> .  But the speed of development and readability is excellent. <br><br>  On readability and will be discussed, but rather how to increase it. <br><a name="habracut"></a><br><h3>  Formatting problems </h3><br>  There is no perfect formatting code.  For each language, it is worth adjusting to the generally accepted code design rules.  But what to say, if among the newbies of C ++ there are still wars about putting brackets on the next line or not. <br>  For python, the basic formatting problem is ‚ÄúC style‚Äù.  It is not uncommon for the language in question to come from C-like languages, but it is common for them to write with the characters ") (;". <br>  Symbols are not the only problem, there is also the problem of the redundancy of writing constructions.  Python, unlike Java, is less verbose, and it takes a lot of time to get used to beginners. <br>  These are the two main problems that occur most often. <br><br><h3>  Standards and guidelines for registration </h3><br>  If you can use <a href="http://zokis.github.io/Python--Faster-Way/">different approaches</a> to increase the speed of code execution, although these approaches are very individual, then there is a straight slyle guide for text formatting - this is pep8.  Further I will call it ‚Äústandard‚Äù. <br>  You can read about the standard <a href="https://www.python.org/dev/peps/pep-0008/">here</a> , in Russian <a href="http://pep8.ru/doc/pep8/">here.</a> <br>  Pep8 is very extensive and allows the programmer to write REALLY readable code. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It includes: <br><ul><li>  maximum length of lines of code and documentation </li><li>  source file encoding </li><li>  recommendations how to make comments </li><li>  naming conventions for functions / classes, arguments </li><li>  and much more </li></ul><br>  In general, covers a variety of code formatting rules.  However, it is worth noting that not all python programmers follow these rules. <br>  Large companies, such as Google, have their own recommendations for writing python-code, you can read them <a href="http://habrahabr.ru/post/179271/">here</a> and <a href="http://habrahabr.ru/post/180509/">here</a> . <br>  Very interesting reading, I recommend. <br><br><h3>  Automating Formatting </h3><br>  If you look at how many rules in pep8, then you can sit down for refactoring for a long time.  That's just it is lazy, and when writing a new code, there will be some errors of the rules.  To do this, consider how you can simplify life. <br><br><h4>  pep8 </h4><br>  In order to have an idea of ‚Äã‚Äãhow many design errors in the code, you should use the <a href="https://pypi.python.org/pypi/pep8">pep8</a> utility. <br>  She has a sufficient list of parameters that allows recursively browse all files in folders for compliance with the pep8 standard. <br>  The utility output is something like this: <br><br><pre><code class="bash hljs">$ pep8 --first optparse.py optparse.py:69:11: E401 multiple imports on one line optparse.py:77:1: E302 expected 2 blank lines, found 1 optparse.py:88:5: E301 expected 1 blank line, found 0 optparse.py:222:34: W602 deprecated form of raising exception optparse.py:347:31: E211 whitespace before <span class="hljs-string"><span class="hljs-string">'('</span></span> optparse.py:357:17: E201 whitespace after <span class="hljs-string"><span class="hljs-string">'{'</span></span> optparse.py:472:29: E221 multiple spaces before operator optparse.py:544:21: W601 .has_key() is deprecated, use <span class="hljs-string"><span class="hljs-string">'in'</span></span></code> </pre> <br>  According to it, you can clearly understand: where is the error and what happened. <br><br><h4>  autopep8 </h4><br>  Standard errors often repeat from file to file.  And there is a strong desire to automate the fix.  In this case, <a href="https://pypi.python.org/pypi/autopep8">autopep8</a> enters the <a href="https://pypi.python.org/pypi/autopep8">arena</a> . <br>  Like pep8, it can identify errors on its own and correct them.  A list of correctable formatting errors can be found <a href="">here.</a> <br>  The use of autopep8 itself is extremely simple and may look like this: <br><br><pre> <code class="bash hljs">$ autopep8 ./ --recursive --<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>-place -a</code> </pre> <br>  After executing this command, the utility will recursively go through the subfolders and begin to correct errors in the files themselves. <br><br><h4>  autoflake </h4><br>  You can go further and take <a href="https://pypi.python.org/pypi/autoflake/">autoflake</a> as a weapon.  This utility helps to remove unused imports and variables. <br>  Used like this: <br><br><pre> <code class="bash hljs">$ autoflake --<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>-place --remove-all-unused-imports --remove-unused-variables -r ./</code> </pre> <br>  This will recursively clean the files in the directory. <br><br><h4>  unify </h4><br>  The final, final point in code editing is strings.  Someone likes to write them in single apostrophes, someone in double ones.  That's just for this, there are recommendations, as well as a utility that allows you to automatically align - <a href="https://pypi.python.org/pypi/unify">unify</a> <br>  Using: <br><br><pre> <code class="bash hljs">$ unify --<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>-place -r ./src/</code> </pre> <br>  As elsewhere, the utility will do its dirty work recursively for the files in the folder. <br><br><h4>  docformatter </h4><br>  All the time we are talking about the code itself, but the comments have never been spoken about.  The time has come - <a href="https://pypi.python.org/pypi/docformatter">docformatter</a> .  This utility helps to bring your docstring under the agreement of <a href="https://www.python.org/dev/peps/pep-0257/">PEP 257</a> .  The agreement prescribes proper documentation. <br>  Using the utility is no more difficult than the previous ones: <br><br><pre> <code class="bash hljs">$ docformatter --<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>-place example.py</code> </pre> <br><br><h4>  And all together you can? </h4><br>  The utilities are described above, they can be launched by adding some bash script under the magic name clean.bash and running.  And you can go the other way and use a wrapper over these utilities - <a href="https://pypi.python.org/pypi/pyformat">pyformat</a> <br><br><h3>  findings </h3><br>  Python code is easy to read, however, there are ways to make noodles from readable code. <br>  This article has been voiced some problems of code design, as well as ways to find these problems.  Several utilities that allow you to automatically remove some flaws in code design were considered. <br>  It is necessary to voice out loud the following recommendation when writing code that is universal for any language: a more important design rule than similar pep8 documents is the constancy of style.  Chose what style you will write the program in, in the same and write all the code. <br><br>  If readers are interested, in the next article I will describe how to automatically look for errors in the code. </div><p>Source: <a href="https://habr.com/ru/post/251531/">https://habr.com/ru/post/251531/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../251501/index.html">What exactly happens when a user types google.com in the address bar? Part 2</a></li>
<li><a href="../251503/index.html">What should be able to cool call center for IT-parts and what options are there at all</a></li>
<li><a href="../251507/index.html">Apache Spark: What's under the hood?</a></li>
<li><a href="../251525/index.html">How we "married" cloud PBX, GSM and realtors (part 2)</a></li>
<li><a href="../251529/index.html">Vagrant for kids, or as on Windows it is easy to get a customized server for developing web applications</a></li>
<li><a href="../251533/index.html">Market growth, games from The Sun, Angry Birds in Chinese - and other news of the week for a mobile developer</a></li>
<li><a href="../251535/index.html">How to create 40% more sales in the online store using cashback services</a></li>
<li><a href="../251537/index.html">Fractal Flame - Build Algorithm</a></li>
<li><a href="../251539/index.html">Another thermostat on Arduino, but with OpenTherm</a></li>
<li><a href="../251541/index.html">Merge Proxmox nodes into a cluster using OpenVPN</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>