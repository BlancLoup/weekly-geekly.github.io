<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>As I looked all ...</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="... and then another Ponastavil likes. 

 It all started with the fact that on a single dating site, I found that the photos are stored there without ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>As I looked all ...</h1><div class="post__text post__text-html js-mediator-article">  ... and then another Ponastavil likes. <br><br>  It all started with the fact that on a single dating site, I found that the photos are stored there without processing. <br><a name="habracut"></a><br>  Of course, for avatars, ribbons and the like, the photos were scaled, cropped and subjected to other deformations, but during viewing you could click on the link ‚ÄúOriginal photo‚Äù and really open the original with all its contents (EXIF), if it was there of course.  Rarjpeg also worked.  Yes, if you uploaded photos in PNG format, then it was converted to JPEG. <br><br>  It was decided to download the photos and see who that about themselves, without knowing it, laid out in open access.  If the user has not set up the reverse, then the profile with one photo is visible even to unregistered users.  In general, I was interested in geotags, everything else was secondary. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For a start, we will limit ourselves to female questionnaires aged 0 to 99 years with photos.  Questionnaire such at that time turned out 10611. It is time to choose a tool with which information about the questionnaires, and then from the questionnaires, will be processed.  The choice fell on C #.  To search you do not even need to log in to the site. <br><br>  We look, how many pages were found, we do a cycle, we download search results.  We have 443 pages.  The next step is to go through these pages and extract id questionnaires from them.  At this stage, we got a database consisting of id, nickname and age. <br><br><img src="http://i.imgur.com/R72RSb4.jpg" alt="image"><br><br>  It was necessary to download pages.  At this stage it was already necessary to be authorized on the site.  All my attempts to log in via webclient were unsuccessful, as was the attempt to get cookies from the webbrowser.  Wget comes into play.  Using excel, a cmd file was created consisting of 10,611 lines call getPage% id and a file getPage.cmd, which called wget with the parameters to save the session, load cookies from the cookie.txt file that was created using firebug, and the user agent of the same firefox .  The pages, by the way, were downloaded from the old version of the site, because the date of registration of the questionnaire, the date of editing and the date of the last activity were displayed on it, as well, sometimes the ‚Äúname‚Äù field could be present if the user specified it.  The output was 850 MB of html files.  When the script finished, the site in the ‚ÄúYou watched‚Äù section had four and a half hundred pages of viewed profiles.  To process the questionnaire again returned to C #.  After processing the questionnaire files, the name and date were added to the existing database.  There were some very interesting specimens.  For example, an active questionnaire created in 2005 and never after that is not editable. <br><br><img src="http://i.imgur.com/wacCzqI.jpg" alt="image"><br><br>  When processing the questionnaire files, it turned out that some of them were blocked and no information could be obtained from them.  Links to photos were also received and the download started.  In the end, it turned out 46,235 files, 12.5 GB of photos.  True, some have already managed to delete photos and then a 1 by 1 pixel file was downloaded.  To work with the metadata was chosen exiftool. <br><br><img src="http://i.imgur.com/8br5C4j.png" alt="image"><br><br>  He himself handled all the subdirectories himself, and gave the results to text files next to the photos.  As it turned out, only 1% of the 46 thousand photos contained geotags.  At this point, those who I looked into began to visit my page.  By the evening it was under a hundred guests.  Some put huskies, which brought my photos to various tops.  I decided to repay the same. <br><br>  Training "on the cat" was held on your own profile.  It became clear that everything happens through ajax and a json request with an indication of the action, in our case ‚Äúput like‚Äù, id photos, id profiles with photos, id json.  The lesion area was reduced to 1,500 questionnaires.  Using C #, json files were created, 7334 pieces, which were sent to the site using wget. <br><br><img src="http://i.imgur.com/em0fv2q.jpg" alt="image"><br><br>  A quick check by the browser showed that carpet laymet was successful.  In the rest we have 12.5 GB of photos and the increased popularity on a dating site. <br><br><img src="http://i.imgur.com/Q2Fxgte.png" alt="image"></div><p>Source: <a href="https://habr.com/ru/post/282107/">https://habr.com/ru/post/282107/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../282089/index.html">The Basics of Developing 3D Games in Intel XDK at BabylonJS</a></li>
<li><a href="../282093/index.html">Liscript - we realize TCO</a></li>
<li><a href="../282099/index.html">Django development for Windows using Docker-machine</a></li>
<li><a href="../282103/index.html">Rake, emulator, animator (upd@21.06)</a></li>
<li><a href="../282105/index.html">Rudolf Svoren - a man of legend (the author of the book "Electronics step by step"). Part 2</a></li>
<li><a href="../282111/index.html">ONLYOFFICE 8.8.0: mail and calendar integration, the right to review and other updates</a></li>
<li><a href="../282113/index.html">Emoji ?! No, I have not heard</a></li>
<li><a href="../282115/index.html">Essay tool: from idea to monetization</a></li>
<li><a href="../282117/index.html">Free Practical Courses on Basic JavaScript Programming</a></li>
<li><a href="../282119/index.html">We write a simple file parser (for beginners)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>