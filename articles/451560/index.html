<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Dear customer, this is why this change took so long.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Changes in complex software systems seem to be taking forever, aren't they? Even engineers often feel that the changes are going more than they should...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Dear customer, this is why this change took so long.</h1><div class="post__text post__text-html js-mediator-article">  Changes in complex software systems seem to be taking forever, aren't they?  Even engineers often feel that the changes are going more than they should, although we are aware of the complexity of the system! <br><br>  For customers, the situation is even more incomprehensible.  The problem is exacerbated by the random complexity that is added over time due to poor system support.  There is a feeling that we are trying to draw water from a ship with a thousand holes. <br><br>  Therefore, sooner or later, the customer will send a letter: ‚ÄúWhy the hell does it take so long?‚Äù Let's not forget that we, as software engineers, have a window into the world, which they often lack.  They trust us very much, but sometimes the seemingly insignificant change takes a lot of time.  This is why questions arise. <br><a name="habracut"></a><br>  Do not be offended by this question;  Take it as an opportunity to show empathy and give people a clearer picture of the complexity of the system.  At the same time, you can suggest ways to improve the situation.  When someone is upset, this is the best time to offer a solution! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Below is a letter that, in one form or another, we have repeatedly sent over the years.  We hope it will help you to answer such questions. <br><br><h1>  Letter </h1><br>  Dear Customer, <br><br>  I saw your comment on the ‚ÄúNotify before the end of the assignment deadline‚Äù card and I will be happy to discuss it at our next meeting.  Here, for reference, I will summarize my thoughts, it is not necessary to answer. <br><br>  Paraphrasing your note: <br><br>  <i>Changing the deadline for completing tasks by one day for mail notification should occupy one line.</i>  <i>How can it take 4-8 hours?</i>  <i>What am I missing?</i> <br><br>  On the one hand, I agree with you.  It is enough just to change part of the request with <code>tasks due &lt;= today</code> to <code>tasks due &lt;= tomorrow</code> . <br><br>  On the other hand, reducing it to such a simplified idea, we inadvertently ignore the inherent complexity and make a number of engineering decisions.  Some of them we should discuss. <br><br><h1>  Part 1. Why is this small change more than it seems? </h1><br>  This is a simple, small change, one line of code.  Spending on it all day, even half a day, seems excessive. <br><br>  Of course, you can not just roll out the change in production, without running at least locally or on a test server.  You should make sure that the code is executed correctly, and in case of changing the request, you need to compare the output and make sure that it looks more or less correct. <br><br>  Here, the comparison of the output may be minimal, only a small sample check: make sure that the results make sense, etc. This notification is for internal employees.  If the mathematics by date is incorrect (a slight error), we will quickly hear about it from the teams.  If this were, say, an email to your customers, it would require more in-depth study.  But for this easy testing and review, 20-40 minutes is enough, depending on whether something strange or unexpected appears.  Digging into the data can be time consuming.  Issuing changes without a review is simply unprofessional negligence. <br><br>  Thus, we add time for normal logistics, such as commit code, merging changes, deployment, and so on: from the beginning of work to production in production, it takes at least an hour for a competent, professional engineer. <br><br>  Of course, this assumes that you know exactly which line of code to change.  The task workflow mostly lives in the old system, but some parts of the logic live in the new system.  Moving logic from the old system is good, but it means that the task functionality is currently divided into two systems. <br><br>  Since we have worked together for so long, our team knows which process is sending an email with an overdue task and can point to a line of code in the new system that initiates the process.  So we do not need to spend time figuring it out. <br><br>  But if we look at the task code in the old system, there are at least four different ways to determine when the task has arrived.  In addition, looking at the patterns and behavior of e-mail, there are at least two more places where non-standard logic seems to be implemented for this task. <br><br>  And then the notification logic is harder than you thought.  It distinguishes between general and individual tasks, open and private, recurring, the function of additional notification to the manager in case of an overdue task, etc. But we can quickly find out that only 2 of 6+ definitions of the overdue task are actually used for notifications.  And only one thing needs to be changed to achieve the goal. <br><br>  Such a review can easily take another half hour or so, maybe less, if you were recently in this part of the code base.  In addition, the hidden complexity means that we can exceed our estimate for manual testing.  But let's just add 30 minutes for extra effort. <br><br>  Thus, we have reached 1.5 hours to feel confident that the change will be carried out as it should be. <br><br>  Of course, we have not yet verified whether any other processes use a mutable query.  We do not want to accidentally disrupt other functions by changing the concept of ‚Äúdeadline‚Äù to the day that precedes the last day to complete the task.  We must consider the code base from this point of view.  In this case, there seems to be no underlying dependencies ‚Äî probably because the bulk of the user interface is still in the old system.  Therefore, there is no need to worry about changing or testing other processes.  At best, this is another 15-30 minutes. <br><br>  Oh, and since the main part of the user interface of the task is still in the old system, we really need to do a quick overview of the functionality of the task in this system and make sure that the feedback is correct.  For example, if the user interface highlights the tasks whose deadline has arrived, we can change this logic to match the notification.  Or at least go back and ask the customer how he wants to do it.  Recently, I have not looked at the functionality of the task in the old system and I do not remember whether it has any idea about the term / overdue.  This review adds another 15-30 minutes.  Perhaps more if the old system also has several definitions of a ‚Äútask‚Äù, etc. <br><br>  Thus, we went into the range of 2‚Äì2.5 hours to complete the task with the confidence that everything would go well, without unintended side effects or confusion in the user's work. <br><br><h1>  Part 2. How can I reduce this time? </h1><br>  Unfortunately, the only result of these efforts is only the fulfillment of the task.  This is suboptimal, which is quite disappointing.  The knowledge gained by the developer during the work is personal and ephemeral.  If another developer (or ourselves after 6 months) needs to make changes to this part of the code again, the process will have to be repeated. <br><br>  There are two main tactics to correct the situation: <br><br><ol><li>  Actively clean code base to reduce duplication and complexity. <br></li><li>  Write automated tests. </li></ol><br>  Note: we have already discussed the documentation, but in this case it is not the best solution.  Documentation is useful for high-level ideas, for example, to explain business logic or frequently repeated processes, such as a list of new partners.  But when it comes to code, documentation quickly becomes too voluminous and becomes outdated as the code changes. <br><br>  You have noticed that none of these tactics are included in our 2‚Äì2.5 hours. <br><br>  For example, maintaining a clean code base means that instead of simply completing the task, we ask questions: <br><br><ul><li>  Why are there so many different ways to identify tasks whose deadline has expired? <br></li><li>  Do they all need and work on them? <br></li><li>  Is it possible to reduce these methods to one or two concepts / methods? <br></li><li>  If the concept is divided between the old and the new systems, can it be consolidated? </li></ul><br>  And so on. <br><br>  Answers to these questions can be quite fast: for example, if we encounter a clearly dead code.  Or it may take several hours: for example, if tasks are used in many complex processes.  Once we have these answers, it will take even more time to refactor to reduce duplication / confusion and get a single description of the ‚Äúdue date‚Äù concept ‚Äî or rename the concepts in the code to clearly understand how they differ and why. <br><br>  But in the end, this part of the code base will become much easier, it will be easier to read and modify. <br><br>  Another tactic we usually use is automated testing.  In a sense, automated tests are like documentation that cannot become obsolete and which is easier to detect.  Instead of manually running the code and viewing the output, we write test code that runs the request and programmatically checks the output.  Any developer can run this test code to understand how the system should work and make sure that it still works in this way. <br><br>  If you have a system with a decent test coverage, these changes will take much less time.  You can change the logic and then run the full test suite and make sure that <br><br><ol><li>  the change works correctly; <br></li><li>  the change did not break anything (this is even more valuable information than in the first paragraph). </li></ol><br>  When we build systems from scratch at Simple Thread, we always include time to write automated tests in time estimates.  This may slow down initial development, but greatly improves the efficiency of work and maintenance.  Only when the system grows, you really understand the importance of tests, but by this point it can be very difficult to return tests to the system.  The presence of tests also greatly simplifies the work of new employees, and changing the behavior of the system is much faster and safer. <br><br><h1>  Part 3. Where did we come from?  Where are we going? </h1><br>  To date, we rarely indicate in the assessment for you the time to clean up the code or write tests.  This is partly because writing tests from scratch is a minor overhead, and adding back tests to the code base in hindsight is a lot of work, like restoring the foundation to the house where people live. <br><br>  This is also partly explained by the fact that starting to work with you, we immediately go into resuscitation mode.  We have almost daily problems with synchronizing third-party data, weekly problems with generating reports, constant requests for supporting small data changes, inadequate monitoring and logging of the system, etc. The codebase is sinking under the weight of technical debts, and we frantically try to keep the systems afloat while simultaneously sealing the holes with tape. <br><br>  Over time, systems become more stable and reliable, we automate / provide a UI for self-service frequent support requests.  We still have a lot of technical debts, but we are out of emergency mode.  But I do not think that we will ever completely withdraw from this resuscitation mentality to a more proactive, mature ‚Äúplan and execute‚Äù mentality. <br><br>  We try to clear the code on the go, and we always test thoroughly.  But being careful and diligent is not a proactive refactoring and not creating the infrastructure necessary for good automated tests. <br><br>  If we do not start paying some technical debts, we can never significantly improve the situation.  It will take months for highly qualified, competent developers to navigate and make non-trivial changes. <br><br>  In other words, 4‚Äì8 hours for this task is a margin of about 2‚Äì4 times, but it will significantly reduce efforts for such changes in the future.  If this part of the codebase were cleaner and had good coverage with automatic tests, then a competent experienced developer would execute it in an hour or less.  And the key point is that the work of a new developer will take slightly longer. <br><br>  For such a change of time, we need your consent.  This is a conscious attempt at a fundamental level to improve the performance of your system, and not just how users perceive it.  I understand that it is difficult to agree on such investments precisely because there is no visible benefit, but we are happy to sit down with you and prepare some clear figures that will show how these investments will pay off in the long run from an engineering point of view. <br><br>  Thank, <br>  El </div><p>Source: <a href="https://habr.com/ru/post/451560/">https://habr.com/ru/post/451560/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../451532/index.html">News from the world of OpenStreetMap ‚Ññ459 (04.30.2019-06.05.2019)</a></li>
<li><a href="../451536/index.html">The future is here: AI will control melee on American fighters</a></li>
<li><a href="../451538/index.html">Amazon Redshift Parallel Scaling Guide and Test Results</a></li>
<li><a href="../451544/index.html">Gathering of the system operators of the ‚ÄúMedium‚Äù network points in Moscow, on May 18 at 14:00 at the Patriarshie Prudy</a></li>
<li><a href="../451552/index.html">We build the network channels of sales of the gadget DO-RA</a></li>
<li><a href="../451562/index.html">How to escape from the sect?</a></li>
<li><a href="../451566/index.html">Operation TaskMasters: how we exposed the cyber grouping, the attacking organizations of Russia and the CIS</a></li>
<li><a href="../45157/index.html">Is it appropriate to give a link to a competitor's website?</a></li>
<li><a href="../451570/index.html">Moving to France for work: salaries, visas and resumes</a></li>
<li><a href="../451574/index.html">We develop the utility on GraalVM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>