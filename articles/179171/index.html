<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>New Firefox Cookie Policy</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Starting with the 22nd release, the Firefox cookie policy will be more in line with user preferences. This mini-FAQ addresses some of the questions I ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>New Firefox Cookie Policy</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/5c7/476/370/5c74763704f90e47db9c3b7ee1a49314.jpg"><br><br>  Starting with the 22nd release, the Firefox cookie policy will be more in line with user preferences.  This mini-FAQ addresses some of the questions I received from Mozilla supporters, web developers, and users. <br><a name="habracut"></a><br><h4>  How do new Firefox cookie policies work? </h4><br>  In short: only sites that you actually visited can use cookies. <br><br>  In more detail: if the site is the main <sup><a href="https://habr.com/ru/post/179171/">1</a></sup> , nothing will change.  The content of third-party sites will have a cookie permission only if you have visited these sites and they have set at least one value in the cookie. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  What does the new Firefox policy look like compared to other major browsers? </h4><br>  <b>Chrome</b> - allows all cookies. <br><br>  <b>Internet explorer</b> - cookie permissions are determined <a href="http://msdn.microsoft.com/en-us/library/ms537343(v%3Dvs.85).aspx">by P3P policy</a> .  In practice, almost all third-party cookies are allowed <sup><a href="https://habr.com/ru/post/179171/">2</a></sup> . <br><br>  <b>Safari</b> - the content of the main site <i>(the site you are viewing - approx. Transl.)</i> Has permission to the cookie.  The content of third-party sites has a cookie permission only if you have visited these sites and they have set at least one value in the cookie. <br><br>  In general, the new Firefox policy is a slightly simplified version of Safari <sup><a href="https://habr.com/ru/post/179171/">3</a></sup> policies. <br><br><h4>  Will the new Firefox policy break websites? </h4><br>  Side effects should be limited.  Safari cookie policies have been around for ten years, both in the desktop and in the iOS versions of the browser.  Some sites may require small code changes to work with Firefox as well as with Safari. <br><br>  For more confidence, the Mozilla development team, which deals with privacy issues, closely monitors the work of the policy before the final release.  The change will be present for about six weeks in the <a href="http://nightly.mozilla.org/">pre-alpha</a> , <a href="https://www.mozilla.org/en-US/firefox/aurora/">alpha</a> and <a href="https://www.mozilla.org/en-US/firefox/beta/">beta</a> assemblies.  If you find any errors, please report it to <a href="http://support.mozilla.org/en-US/home">Mozilla Support Services</a> <sup>[ <a href="http://support.mozilla.org/ru/home">rus.</a></sup>  <sup>]</sup> ! <br><br><h4>  How can I check if my website has cookie permissions? </h4><br>  Easy: try setting a cookie.  This method can demonstrate cookie permissions for both server and client code. <br>  Browser-based methods are generally undesirable, as they can be unreliable and require constant updating.  In addition, such methods do not take into account Chrome and Internet Explorer users who do not use the default policy. <br><br><h4>  I work with a third-party site that uses cookies.  What should I do? </h4><br>  If a Firefox user interacts directly with your content, use the same tactics as with Safari <sup><a href="https://habr.com/ru/post/179171/">4</a></sup> users.  Examples of such content are Facebook applications and widgets for sending comments in which the user enters text. <br>  If the user does not directly interact with your content, or you are not sure about this in advance, you should request permission before setting the cookie.  Most analytic services, ad networks, and non-user social network widgets fall into this category. <br>  In general, in some cases, circumventing technical policy restrictions may be justified, but not for the purpose of circumventing the privacy policy. <br><br><h4>  What happens to an existing cookie? </h4><br>  The new policy does not provide any conditions for existing cookies.  Firefox users will need to clear cookies in order to get the effect of the new policies.  <sup><a href="https://habr.com/ru/post/179171/">five</a></sup> <br><br><h4>  What is the future of Firefox cookie policy? </h4><br>  There is still a lot of work to be done.  Some areas in which I am interested: <br><ul><li>  Extending cookie policies to other data storage technologies on the user side (for example, <a href="https://bugzilla.mozilla.org/show_bug.cgi%3Fid%3D536509">HTML5 Web Storage</a> ). </li><li>  Providing a unified mechanism for requesting storage permissions. </li><li>  Relaxation policies for sites that adhere to the policy of <a href="http://donottrack.us/">Do Not Track</a> . </li></ul><br>  Share your ideas on the <a href="https://groups.google.com/forum/%3Ffromgroups">mozilla.dev.privacy</a> mailing list! <br><hr><br>  All the above is my point of view.  I do not speak for the entire Mozilla organization. <br>  This was my first commit to the Firefox code.  Many thanks to the following people: <a href="http://www.sidstamm.com/">Sid Stamm</a> , Monica Chew, <a href="https://brendaneich.com/">Brendan Eich</a> , <a href="http://weblogs.mozillazine.org/asa/">Asa Dotzler</a> , <a href="http://www.joshmatthews.net/">Josh Matthews</a> , <a href="https://blog.mozilla.org/dolske/">Justin Dolske</a> , Daniel Veditz, and other members of the Mozilla community for their advice, guidance, and patience with my inexperience. <br><br>  Footnotes: <br><a name="1"></a>  1. Defined as a <a href="http://publicsuffix.org/">public suffix</a> +1 level. <br><a name="2"></a>  2. Many have criticized Microsoft‚Äôs approach for its inefficiency, complexity, and dependence on the de facto obsolete P3P standard.  By topic - read the <a href="http://www.ftc.gov/os/comments/privacyreportframework/00453-58004.pdf">distortion of the privacy policy of the site due to errors in the key of P3P</a> , by Leon, etc. <br><a name="3"></a>  3. The difference mainly lies in the convenience for developers. <br><a name="4"></a>  4. The most acceptable way is to redirect users through your site.  You can also use non-cookie storage technologies, although this alternative will also be limited by the policy in the future. <br><a name="5"></a>  5. It makes sense to clear cookies every few months. <br><br>  <b>Upd</b> .  <i>From the translator: in the <a href="http://nightly.mozilla.org/">pre-alpha</a> version, you can already test innovations yourself.</i>  <i>The settings window with the new option looks like <a href="">this</a> .</i>  <i>Selective translation from mozilla.dev.privacy discussion:</i> <br><br>  <b>Question</b> : What is considered third-party content in this context?  [any] iframe is third-party content? <br>  <b>Answer</b> : the same as for the rest.  [third-party content is] everything that has a source other than that of the parent document. <br><br>  <b>Question</b> : What will be the behavior of the browser if the content, without having permission to do so, makes an attempt to set a cookie? <br>  <b>The answer is</b> : silent failure.  It might be possible to add an error message to the console, but I'm not sure what to do.  For a web server, it will look as if the Set-Cookie header was lost during transmission. <br><br>  <b>Question</b> : Do I think that as a result of these innovations, centralization will increase around the major players in the targeting industry (Google / Yahoo / Facebook / etc.), which will become practically the only sites that can set cookies for almost all users?  With attendant interesting / ambiguous trade-offs (fewer players in the market - it is easier for the government to regulate them, etc.). <br>  Jason <br>  <b>Answer</b> : counter-measures will always be taken against any counter-measures, including the use of local storage (local storage): it can replace the cookie, but the cookie setting does not apply to it;  or redirect users to bypass restrictions;  and what you voiced. <br>  But does this mean that we should never try partial solutions?  I do not think. <br><br>  <b>Question</b> : What will be the level of heuristics?  What I mean: I visited <a href="http://www.socialnetwork.com/">www.socialnetwork.com</a> and then try to set a cookie from api.socialnetwork.com.  Will it work out? <br>  <b>The answer</b> is yes.  And with both old and new politicians.  Third-party sites are sites that are defined as a public +1 suffix (see mozIThirdPartyUtil) <br><br>  <b>Question</b> : I visit <a href="http://www.randomblog.com/">www.randomblog.com</a> , which has a "+100500" button from api.socialnetwork.com.  Will it work, even though I have never visited api.socialnetwork.com directly? <br>  <b>Answer</b> : the button will be displayed and will be pressed as usual.  But, if the user has never visited socialnetwork.com or its subdomain (more precisely, if the user has never received a cookie from socialnetwork.com or its subdomain), then the button will not be able to set a cookie. <br><br>  <b>Question</b> : What about online banking, where do sites include third-party payment content in an iframe?  You will never visit these third-party sites directly, although they are very necessary for a user to work on an important site.  I remember Safari, the last time I opened such a site in Safari, the site reported that the Safari browser is not supported [sad smiley] <br>  <b>Answer</b> : For many years I have not come across sites incompatible with Safari, presumably due to the increased popularity of iOS devices.  In any case, indeed, services that use workarounds to support Safari will now have to apply them to Firefox. </div><p>Source: <a href="https://habr.com/ru/post/179171/">https://habr.com/ru/post/179171/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../179159/index.html">xdebug in the hands of the administrator</a></li>
<li><a href="../179161/index.html">Diablo III's economy has been destroyed by integer overflow</a></li>
<li><a href="../179163/index.html">DevConf contest - dedicated to the Victory Day!</a></li>
<li><a href="../179167/index.html">Introducing GStreamer: Data Sources</a></li>
<li><a href="../179169/index.html">We tame Ustream.tv for HD video broadcasting on our own website without displaying ads</a></li>
<li><a href="../179173/index.html">Cutting into two equal parts, part three</a></li>
<li><a href="../179179/index.html">Evaluation of the effectiveness and security of authentication mechanisms</a></li>
<li><a href="../179183/index.html">Google and Time have launched a service that shows how the planet has changed in 30 years.</a></li>
<li><a href="../179185/index.html">Amazon is developing a smartphone with a 3D screen.</a></li>
<li><a href="../179189/index.html">In the US, it is proposed to legalize the removal of the SIM lock and the DRM bypass</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>