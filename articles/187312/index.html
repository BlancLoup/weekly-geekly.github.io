<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>5 useful batteries for Django</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Developing constantly face various tasks that are often not solved in the forehead. But many problems have already been solved by someone - you just n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>5 useful batteries for Django</h1><div class="post__text post__text-html js-mediator-article">  Developing constantly face various tasks that are often not solved in the forehead.  But many problems have already been solved by someone - you just need to find this solution. <br><br>  So, day by day, I collected a small collection of batteries that made my life much easier.  What I want to share: <a name="habracut"></a><br><br><h4>  django-select2 </h4><br>  As the name implies, the battery allows the use of the popular <a href="http://ivaynberg.github.io/select2/">select2</a> library in its Django projects. <br>  The application includes a set of form fields and widgets for all occasions. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It presents two types of widgets: <br><ul><li>  <b>Light</b> - widgets for not very long lists of values, since all values ‚Äã‚Äãare rendered per page at once; </li><li>  <b>Heavy</b> - advanced widgets for loading data via Ajax from an external source.  This source can be your own View or, if no complicated logic is required, the built-in django-select2 View in conjunction with the corresponding <b>AutoHeavy</b> widget can be used to <b>upload</b> data. </li></ul><br>  <a href="https://github.com/applegrew/django-select2">Github</a> <br>  <a href="http://django-select2.readthedocs.org/en/latest/">Documentation</a> <br><br><h4>  django-bitfield </h4><br>  Allows you to store lists of values ‚Äã‚Äãin the model field in the form of a bitmap, the length of which is limited by the maximum BigInt length in the database used. <br><br>  Example of use (taken from the documentation): <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> bitfield <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> BitField <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyModel</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(models.Model)</span></span></span><span class="hljs-class">:</span></span> flags = BitField(flags=( <span class="hljs-string"><span class="hljs-string">'awesome_flag'</span></span>, <span class="hljs-string"><span class="hljs-string">'flaggy_foo'</span></span>, <span class="hljs-string"><span class="hljs-string">'baz_bar'</span></span>, ))</code> </pre> <br><h5>  BUT </h5><br>  The battery has a significant, in my opinion, drawback - it is impossible to display flags using standard means in an understandable form either in the admin panel or in its own templates.  For myself, this problem I decided as follows: <br><br><h6>  models.py: </h6><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> django.db <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> models <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> django.utils.translation <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ugettext_lazy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> bitfield <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> BitField <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyModel</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(models.Model)</span></span></span><span class="hljs-class">:</span></span> FLAGS = ( (<span class="hljs-string"><span class="hljs-string">'flag1'</span></span>, _(<span class="hljs-string"><span class="hljs-string">'flag 1 description'</span></span>)), (<span class="hljs-string"><span class="hljs-string">'flag2'</span></span>, _(<span class="hljs-string"><span class="hljs-string">'flag 2 description'</span></span>)), (<span class="hljs-string"><span class="hljs-string">'flag3'</span></span>, _(<span class="hljs-string"><span class="hljs-string">'flag 3 description'</span></span>)), ) flags = BitField([k <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> k, v <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> FLAGS])</code> </pre><br><br><h6>  forms.py </h6><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> django <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> forms <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> .models <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> MyModel <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyModelForm</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(forms.ModelForm)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_set_choices</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, field, choices)</span></span></span><span class="hljs-function">:</span></span> self.fields[field].widget.choices = choices <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, *args, **kwargs)</span></span></span><span class="hljs-function">:</span></span> super(MyModelForm, self).__init__(*args, **kwargs) self._set_choices(<span class="hljs-string"><span class="hljs-string">'flags'</span></span>, MyModel.FLAGS)</code> </pre><br><br><h6>  admin.py </h6><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> django.contrib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> admin <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> .forms <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> MyModelForm <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> .models <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> MyModel <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyModelAdmin</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(admin.ModelAdmin)</span></span></span><span class="hljs-class">:</span></span> form = MyModelForm admin.site.register(MyModel, MyModelAdmin)</code> </pre><br>  <a href="https://github.com/disqus/django-bitfield">Github</a> <br><br><h4>  django-tagging </h4><br>  There are several tag implementations for Django, but I would like to draw your attention to the machinetags branch from this <a href="https://github.com/garyp/django-tagging">repository</a> . <br>  In this implementation of tags, the ability to divide them between namespaces (namespaces) is added and, accordingly, use different sets of tags for different fields. <br>  It is also possible to assign additional values ‚Äã‚Äãto the tag and store sets of identical tags, but with different values.  Honestly, I have not found this application yet. <br><br>  <a href="https://github.com/Yuego/django-tagging">My fork on github</a> with some fixes. <br><br>  But the module itself does not support autocompletion - and this, you see, is a very useful function.  There are many implementations: <a href="https://github.com/alekam/django-tagging-autocomplete">one</a> , <a href="https://github.com/pije76/django-tagging-autocomplete-tag-it">two</a> , <a href="https://github.com/originell/django-tagging-autocomplete">three</a> - these are only the first links from Google. <br>  But none of them support the namespaces of the django-tagging version described above, so I took the liberty to eliminate this flaw.  And so my fork appeared ... <br><br><h4>  django-tagging-autosuggest </h4><br>  I will not rewrite the documentation, so I‚Äôll just give you an example of use: <br><br>  The application must be added to the INSTALLED_APPS and to the project urls.py: <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> django.conf.urls <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> patterns, include, url urlpatterns = patterns(<span class="hljs-string"><span class="hljs-string">''</span></span>, url(<span class="hljs-string"><span class="hljs-string">r'^tagging/'</span></span>, include(<span class="hljs-string"><span class="hljs-string">'tagging_autosuggest.urls'</span></span>)), )</code> </pre><br><br>  And add the required fields to the model: <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> django.db <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> models <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> tagging_autosuggest.fields <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> TagAutosuggestField <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyModel</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(models.Model)</span></span></span><span class="hljs-class">:</span></span> tags1 = TagAutosuggestField(namespace=<span class="hljs-string"><span class="hljs-string">'ns1'</span></span>, max_length=<span class="hljs-number"><span class="hljs-number">300</span></span>) tags2 = TagAutosuggestField(namespace=<span class="hljs-string"><span class="hljs-string">'ns2'</span></span>, max_length=<span class="hljs-number"><span class="hljs-number">300</span></span>)</code> </pre><br><br>  Result: <br><img src="https://habrastorage.org/storage2/714/81d/0b8/71481d0b8194e2e92782587476d83412.png"><br>  <a href="https://github.com/Yuego/django-tagging-autosuggest">Github</a> <br><br><h4>  django-autocomplete-light </h4><br>  Another battery that makes it easier to work with lists.  It creates convenient widgets with autocompletion in the admin panel for fields such as CharField, ForeignKey, ManyToMany, as well as for generic links (ForeignKey and M2M). <br><br>  Examples of use can be found in the <a href="https://github.com/yourlabs/django-autocomplete-light/tree/master/test_project">test project</a> . <br><br>  And this is how GenericForeignKey looks like in a real project: <br><img src="https://habrastorage.org/storage2/115/3ca/e1a/1153cae1aeb2f37b3ca27a6480a3cffd.png"><br>  <a href="https://github.com/yourlabs/django-autocomplete-light">Github</a> <br>  <a href="http://django-autocomplete-light.readthedocs.org/en/latest/">Documentation</a> <br><br>  My humble contribution to opensource: <a href="https://github.com/Yuego%3Ftab%3Drepositories">github.com/Yuego?tab=repositories</a> <br><br>  Error messages, typographical errors, etc., are traditionally received in a personal. </div><p>Source: <a href="https://habr.com/ru/post/187312/">https://habr.com/ru/post/187312/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../187294/index.html">Ice cream trailer on request from a mobile application</a></li>
<li><a href="../187298/index.html">Disney Research has developed a tactile feedback system based on a vortex cannon.</a></li>
<li><a href="../187300/index.html">Simple-Science - Simple Experiments (Digest # 25)</a></li>
<li><a href="../187304/index.html">[Poll] Application for saving and synchronizing history in the clipboard. To be or not to be?</a></li>
<li><a href="../187310/index.html">ConceptNet 5 - Real AI is around the corner</a></li>
<li><a href="../187316/index.html">Startup WigWag creates an environment for programming smart home in JavaScript</a></li>
<li><a href="../187322/index.html">The digest of news from the world of mobile development in the last week ‚Ññ21 (July 15 - 21, 2013)</a></li>
<li><a href="../187324/index.html">New for web designer for June 2013</a></li>
<li><a href="../187326/index.html">Fanless mini-home server based on the HD-Plex H3.S chassis</a></li>
<li><a href="../187330/index.html">Hacked official forum Ubuntu</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>