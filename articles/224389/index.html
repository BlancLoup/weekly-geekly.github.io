<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Blocks of information collection. Introduction</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Many on Habr√© use the ADC in various projects, ranging from ‚ÄúSmart Home‚Äù, virtual-music, musical toys on the STM and ending with homemade phase laser ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Blocks of information collection. Introduction</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/9fc/c91/c9f/9fcc91c9f8f8f83765b773ad308116fc.jpg"><br><br>  Many on Habr√© use the ADC in various projects, ranging from ‚ÄúSmart Home‚Äù, virtual-music, musical toys on the STM and ending with homemade phase laser range finders.  The range of application is quite wide, however, often it all comes down to receiving data from one ADC with a small frequency (ten Hz per channel), processing this sample and outputting some kind of control result, or just a value on the screen. <br><br>  Now imagine that you need to remove data from one ADC, but for example, from hundreds or several thousand, and even with a frequency in the range of 5-200 kHz.  You can also add real-time job requirements, lossless data logging, or considering them.  In general, what is there to dream.  It is easier to imagine a large enough stand for testing a car, engine or an airplane body. <br><a name="habracut"></a><br>  If you try to organize data collection via a channel on a separate controller, then the cost of such a system will be comparable to the cost of the engine itself, or slightly less.  This is where the Information Collecting Unit (BSI) comes to the rescue. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The BSI has different requirements for operating temperature, pressure, humidity, protection, etc. Many of these requirements for technology are regulated in the KT-160D standard.  Depending on the conditions of use, this system can be assigned to a conditional class: <br><br><ol><li>  Bench (industrial) application - working conditions: 0 ... +50 ¬∫ C, humidity not more than 85%, no requirements for work in an atmosphere with reduced pressure, mechanical shocks and sinusoidal vibration. <br></li><li>  Field application - working conditions: -40 ... +70 ¬∫ C, humidity not more than 95% within two hours, work in an atmosphere with reduced pressure up to 26.8 kPa, resistance to mechanical shocks of a single and repeated action up to 20 g, stability to linear acceleration. <br></li><li>  Application in harsh environments - Operating conditions: -55 ... +75 ¬∫ C, humidity not more than 95% within two hours, work in an atmosphere with reduced pressure up to 0.26 kPa, resistance to mechanical shocks of a single and multiple action up to 150 g , resistance to linear acceleration. <br></li></ol><br>  This classification is very conditional, because before the development of the BSI is determined by the class of devices.  The class is assigned depending on many parameters.  For example, a civilian or military aircraft / helicopter imposes different requirements on vibration (I hope readers can guess why).  Therefore, first choose the object of application, then the place of operation of the device in this object (non / habitable block pressure depends on it), the device class is assigned and only after the assigned class can the device be developed based on the requirements of standards and GOST. <br>  Another way to develop a device is to first make and then refine to a certain class. <br><br>  For tough conditions, the BSI are performed in a single package with group connectors.  A single body allows you to make the structure quite rigid.  By increasing the size of the block gets heated, protection from vibrations and shocks.  Group connectors provide better tightness, now salt fog is not terrible.  If tightness is not so important, then the dimensions will allow for normal ventilation inside the case. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ff3/bd1/4b6/ff3bd14b654e0eb059dcaae993ae51e3.jpg"><br><br>  And this BSI is intended for field use.  The requirements are softer, respectively, you can install individual modules: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/886/b1f/4f5/886b1f4f5550932c00cd90da9a5046cb.jpg"><br><br>  The main functions of the BSI are - data collection and storage.  In addition to collecting the BSI, it can transmit data to an operator station, where the operator monitors the values ‚Äã‚Äãof all channels in real time.  Especially ‚Äúsmart‚Äù BSIs before receiving data allow you to program your channels (set the polling frequency, switching modes, input value ranges, connecting shunts and much, much more), save data from the channels, like inside (on NAND / Flash), and transfer to PC for later storage and processing. <br><br>  Looking at the image of the BSI with individual connectors, you can partially understand what parts the BSI consists of. <br>  Typically, the BSI emit the following components: <br><br><ol><li>  The controller is a board with a processor that provides various interfaces for PC communication and data collection. </li><li>  Backplane (backplane) - in fact, a simplified motherboard, into which are inserted separate modules </li><li>  Power supply - here and so everything is clear.  I would like to note that for harsh operating conditions at temperatures from -40 ¬∞ C, the power supply and the controller first start to warm up so that they can start after heating (to -30 ¬∞ C). </li><li>  Housing - is determined on the basis of requirements for external influences. </li><li>  Modules are separate boards that provide data reception from the ADC and their transfer to the controller. </li></ol><br><br>  National Instruments clearly shows which BSIs they develop: <br><img src="https://habrastorage.org/getpro/habr/post_images/347/6e8/40e/3476e840e4d4c843ef197c34c2978579.jpg"><br><br>  Consider a little more controller.  At a minimum, it implements the following functions: <br><ul><li>  device communication with PC </li><li>  module configuration </li><li>  receiving data from modules </li><li>  data processing (filtering optional) </li><li>  data transfer to PC </li><li>  data storage on NAND / Flash (optional) </li></ul><br><br>  As a controller core, you can consider several options (often found in practice): <br><ul><li>  adsp 2191 - software for assembler, interfaces for PC communication (ethernet) - additional physics </li><li>  Cyclone III / IV - VHDL / Verilog software, Nios II soft processor (C / C ++ software), interfaces for PC communication (ethernet) - additional physics (IP cores for connection) </li><li>  OmapL137 / 138 - C / C ++ software, ARM9 / DSP core, built-in Ethernet </li><li>  Xilinx Zynq - ARM9 / FPGA, Built-in USB </li></ul><br><br>  To select the kernel, you need to figure out what the task is and how best to solve it.  We return to our ADC. <br>  In a multichannel system, a certain group of channels may be similar in characteristics.  For example, channels for temperature sensors.  If there are no serious requirements for the error and the sampling frequency of less than 1000 Hz, then there is no need for a separate channel to give a separate ADC.  In this case, modules with a switched ADC are ideal. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f2f/0b6/8cf/f2f0b68cf0791fd106282f8d626de960.jpg"><br><br>  On the switched module is located one ADC, several switches and a group input connector.  Usually such modules have 4, 8, 16, 32 channels.  Such savings on the ADC leads to some limitations. <br><br>  With a polling frequency of 100 Hz for one channel, the polling period is 10 ms.  During this time, you need to get one value from the ADC.  A module with 32 channels must receive data from the ADC 32 times in the same 10 ms.  For one channel, the time is reduced from 10,000 ¬µs to 312 ¬µs. <br><br>  Data acquisition occurs as follows: <br><ol><li>  switch channel </li><li>  subtract data from ADC </li><li>  transfer data to the controller (optional) </li><li>  switch the next channel </li><li>  etc. </li></ol><br>  Each of the operations takes time.  For example, the recording of the SPI register config may take about 10-20 ms.  Read ADC 1-5 ¬µs. <br>  But with such an algorithm for proofreading, side effects appear in the form of channel interference, when the value of physical.  values ‚Äã‚Äãon one channel starts to affect the other.  To avoid this, between receiving data from different input lines, the ADC is switched to ground.  During this time of grounding part of the charge from the previous channel goes away. <br><br>  Thus, the notion of a cyclogram appears - switching channels and the ground to the ADC by hard timing. <br><br>  For example, at a frequency of 100 Hz, switching of an ADC per channel is usually provided - 150 ¬µs, to earth 100 ¬µs. <br><br>  If you set the values ‚Äã‚Äãof the order of 5 Œºs, then you can observe a noticeable interaction, feeding different sinusoids to both channels.  The less time the ADC spends between collecting data from different channels, the greater the interference, i.e.  increases the error of the module. <br><br>  The complete opposite of switching modules is modules with independent ADCs.  Such modules can independently adjust a single channel - in frequency, in the range of input values ‚Äã‚Äãand many parameters.  It would seem that everything is great, only the cost of such modules increases due to a large number of ADCs. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a3a/e65/d34/a3ae65d34b6387025110a3749b90b598.jpg"><br><br>  The following article will address some issues from the following list: <br><ul><li>  algorithms for obtaining data from the ADC </li><li>  choice of computational core for the controller </li><li>  choice of computational core for the module </li><li>  data exchange between modules and controller </li><li>  data acquisition from high-speed modules </li></ul></div><p>Source: <a href="https://habr.com/ru/post/224389/">https://habr.com/ru/post/224389/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../224375/index.html">Skype: Online Voice Translator</a></li>
<li><a href="../224379/index.html">How Wikipedia works (part 1)</a></li>
<li><a href="../224381/index.html">The presentation of the server line EcoServer held at the All-Russian forum of providers of hosting</a></li>
<li><a href="../224383/index.html">Bootloader with AES-128 and EAX on AVR Assembler in 1024 bytes</a></li>
<li><a href="../224387/index.html">Google released its own model of the robot car</a></li>
<li><a href="../224391/index.html">Introduction to JadePHP</a></li>
<li><a href="../224393/index.html">Oracle introduced Solaris 11.2 Beta</a></li>
<li><a href="../224397/index.html">Is there a future for IT? View of David Vernon University Innopolis Professor</a></li>
<li><a href="../224401/index.html">Personal entertainment device from the Russian Railways - passenger view</a></li>
<li><a href="../224403/index.html">Writing a Simple SailsJS Blog: Visual Practice for Beginners (Part 2)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>