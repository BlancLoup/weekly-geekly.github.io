<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Evolution of the Test The Text algorithm</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Test The Text highlights the stop words in the text. Stop words make the text harder, weaker, longer. 

 Stop words are divided into several categorie...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Evolution of the Test The Text algorithm</h1><div class="post__text post__text-html js-mediator-article">  <a href="http://test-the-text.ru/">Test The Text</a> highlights the stop words in the text.  Stop words make the text harder, weaker, longer. <br><br>  Stop words are divided into several categories: <br>  - modal verbs; <br>  - empowering and generalized definitions and adverbs; <br>  - cliches and clericals; <br>  - hyperonyms; <br>  - parasites of time; <br>  - verbal nouns; <br>  - passive voice; <br>  - adverbs; <br>  - participial momentum. <br><br>  The prototype singled out modal verbs using the list ‚Äúto be able‚Äù, ‚Äúmust‚Äù and ‚Äúneed‚Äù in all forms: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="python hljs"><span class="hljs-string"><span class="hljs-string">'modal'</span></span>: { <span class="hljs-string"><span class="hljs-string">'can'</span></span>: <span class="hljs-string"><span class="hljs-string">u""", , , , , , , , , , , , , , , """</span></span>, <span class="hljs-string"><span class="hljs-string">'need'</span></span>: <span class="hljs-string"><span class="hljs-string">u', , , , '</span></span>, <span class="hljs-string"><span class="hljs-string">'should'</span></span>: <span class="hljs-string"><span class="hljs-string">u', , , '</span></span>, <span class="hljs-string"><span class="hljs-string">'other'</span></span>: <span class="hljs-string"><span class="hljs-string">u', , , , '</span></span> },</code> </pre> <br><a name="habracut"></a><br><br>  The text was divided into words by a regular expression (?: [\ S,.:] | \ A | \ Z), each word was compared with stop words.  Matches were marked in the source text &lt;span class = "class of stop words"&gt;, the marked text was returned back and replaced the text on the page. <br><br>  The prototype worked, the list of stop words grew, but when I got to the cliche, I realized that I would not be able to further list stop words in all forms.  Each stop word turned into 63. Three kinds √ó three times √ó seven cases.  I connected the <a href="">pystemmer</a> . <br><br>  Stemmer removes the ending and suffix of the word, leading it to normal form. <br><pre> <code class="python hljs"> ‚Üí   ‚Üí   ‚Üí   ‚Üí   ‚Üí </code> </pre>  Pystemmer works on the <a href="http://snowball.tartarus.org/texts/introduction.html">Snowball</a> algorithm. <br><br>  Now the algorithm went over the stop words, discarding the endings and suffixes, then the words of the text.  The initial forms of stop words and words in the text were compared.  Stop phrases, like, ‚Äúdubious pleasure,‚Äù the algorithm breaks down into words, stimmiruet and collects back.  When searching for a stop phrase in the word list of the text, the word to be checked is taken and a few words follow it. <br><br>  Unfortunately, it is impossible to verify adverbs, passive voice, and sacrament turns through dictionaries of stop words.  Imagine a list of all the dialects of the Russian language?  It's time to connect the morphological analyzer.  There is no choice for python besides <a href="https://github.com/kmike/pymorphy2">pymorphy2</a> from <a href="http://habrahabr.ru/users/kmike/" class="user_link">kmike</a> , so I <a href="http://habrahabr.ru/users/kmike/" class="user_link">‚Äôll</a> stop on it. <br><br>  A morphological analyzer defines for a word a part of speech (noun, verb, adjective, ...), gender, singular / plural, case, person, tense, voice for verbs.  Full list in <a href="https://github.com/kmike/pymorphy2/blob/master/pymorphy2/tagset.py">source code</a> .  <a href="http://habrahabr.ru/post/176575/">A fascinating article on</a> how pymoprhy2 works. <br><pre> <code class="python hljs">[Parse(word=<span class="hljs-string"><span class="hljs-string">u''</span></span>, tag=OpencorporaTag(<span class="hljs-string"><span class="hljs-string">'PRTS,perf,past,pssv masc,sing'</span></span>), normal_form=<span class="hljs-string"><span class="hljs-string">u''</span></span>, score=<span class="hljs-number"><span class="hljs-number">1.0</span></span>, methods_stack=((&lt;DictionaryAnalyzer&gt;, <span class="hljs-string"><span class="hljs-string">u''</span></span>, <span class="hljs-number"><span class="hljs-number">745</span></span>, <span class="hljs-number"><span class="hljs-number">71</span></span>),))] [Parse(word=<span class="hljs-string"><span class="hljs-string">u''</span></span>, tag=OpencorporaTag(<span class="hljs-string"><span class="hljs-string">'ADJF plur,nomn'</span></span>), normal_form=<span class="hljs-string"><span class="hljs-string">u''</span></span>, score=<span class="hljs-number"><span class="hljs-number">0.212962962962963</span></span>, methods_stack=((&lt;DictionaryAnalyzer&gt;, <span class="hljs-string"><span class="hljs-string">u''</span></span>, <span class="hljs-number"><span class="hljs-number">162</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>), (&lt;UnknownPrefixAnalyzer&gt;, <span class="hljs-string"><span class="hljs-string">u''</span></span>))), Parse(word=<span class="hljs-string"><span class="hljs-string">u''</span></span>, tag=OpencorporaTag(<span class="hljs-string"><span class="hljs-string">'ADJF inan,plur,accs'</span></span>), normal_form=<span class="hljs-string"><span class="hljs-string">u''</span></span>, score=<span class="hljs-number"><span class="hljs-number">0.212962962962963</span></span>, methods_stack=((&lt;DictionaryAnalyzer&gt;, <span class="hljs-string"><span class="hljs-string">u''</span></span>, <span class="hljs-number"><span class="hljs-number">162</span></span>, <span class="hljs-number"><span class="hljs-number">24</span></span>), (&lt;UnknownPrefixAnalyzer&gt;, <span class="hljs-string"><span class="hljs-string">u''</span></span>))), Parse(word=<span class="hljs-string"><span class="hljs-string">u''</span></span>, tag=OpencorporaTag(<span class="hljs-string"><span class="hljs-string">'PRTF,impf,tran,pres,actv plur,nomn'</span></span>), normal_form=<span class="hljs-string"><span class="hljs-string">u''</span></span>, score=<span class="hljs-number"><span class="hljs-number">0.212962962962963</span></span>, methods_stack=((&lt;DictionaryAnalyzer&gt;, <span class="hljs-string"><span class="hljs-string">u''</span></span>, <span class="hljs-number"><span class="hljs-number">1609</span></span>, <span class="hljs-number"><span class="hljs-number">33</span></span>), (&lt;UnknownPrefixAnalyzer&gt;, <span class="hljs-string"><span class="hljs-string">u''</span></span>))), Parse(word=<span class="hljs-string"><span class="hljs-string">u''</span></span>, tag=OpencorporaTag(<span class="hljs-string"><span class="hljs-string">'PRTF,impf,tran,pres,actv inan,plur,accs'</span></span>), normal_form=<span class="hljs-string"><span class="hljs-string">u''</span></span>, score=<span class="hljs-number"><span class="hljs-number">0.212962962962963</span></span>, methods_stack=((&lt;DictionaryAnalyzer&gt;, <span class="hljs-string"><span class="hljs-string">u''</span></span>, <span class="hljs-number"><span class="hljs-number">1609</span></span>, <span class="hljs-number"><span class="hljs-number">37</span></span>), (&lt;UnknownPrefixAnalyzer&gt;, <span class="hljs-string"><span class="hljs-string">u''</span></span>))), Parse(word=<span class="hljs-string"><span class="hljs-string">u''</span></span>, tag=OpencorporaTag(<span class="hljs-string"><span class="hljs-string">'PRTF,impf,intr,pres,actv plur,nomn'</span></span>), normal_form=<span class="hljs-string"><span class="hljs-string">u''</span></span>, score=<span class="hljs-number"><span class="hljs-number">0.03703703703703704</span></span>, methods_stack=((&lt;FakeDictionary&gt;, <span class="hljs-string"><span class="hljs-string">u''</span></span>, <span class="hljs-number"><span class="hljs-number">1670</span></span>, <span class="hljs-number"><span class="hljs-number">33</span></span>), (&lt;KnownSuffixAnalyzer&gt;, <span class="hljs-string"><span class="hljs-string">u''</span></span>))), Parse(word=<span class="hljs-string"><span class="hljs-string">u''</span></span>, tag=OpencorporaTag(<span class="hljs-string"><span class="hljs-string">'PRTF,impf,intr,pres,actv inan,plur,accs'</span></span>), normal_form=<span class="hljs-string"><span class="hljs-string">u''</span></span>, score=<span class="hljs-number"><span class="hljs-number">0.03703703703703704</span></span>, methods_stack=((&lt;FakeDictionary&gt;, <span class="hljs-string"><span class="hljs-string">u''</span></span>, <span class="hljs-number"><span class="hljs-number">1670</span></span>, <span class="hljs-number"><span class="hljs-number">37</span></span>), (&lt;KnownSuffixAnalyzer&gt;, <span class="hljs-string"><span class="hljs-string">u''</span></span>))), Parse(word=<span class="hljs-string"><span class="hljs-string">u''</span></span>, tag=OpencorporaTag(<span class="hljs-string"><span class="hljs-string">'PRTF,impf,tran,pres,actv plur,nomn'</span></span>), normal_form=<span class="hljs-string"><span class="hljs-string">u''</span></span>, score=<span class="hljs-number"><span class="hljs-number">0.03703703703703704</span></span>, methods_stack=((&lt;FakeDictionary&gt;, <span class="hljs-string"><span class="hljs-string">u''</span></span>, <span class="hljs-number"><span class="hljs-number">2631</span></span>, <span class="hljs-number"><span class="hljs-number">33</span></span>), (&lt;KnownSuffixAnalyzer&gt;, <span class="hljs-string"><span class="hljs-string">u''</span></span>))), Parse(word=<span class="hljs-string"><span class="hljs-string">u''</span></span>, tag=OpencorporaTag(<span class="hljs-string"><span class="hljs-string">'PRTF,impf,tran,pres,actv inan,plur,accs'</span></span>), normal_form=<span class="hljs-string"><span class="hljs-string">u''</span></span>, score=<span class="hljs-number"><span class="hljs-number">0.03703703703703704</span></span>, methods_stack=((&lt;FakeDictionary&gt;, <span class="hljs-string"><span class="hljs-string">u''</span></span>, <span class="hljs-number"><span class="hljs-number">2631</span></span>, <span class="hljs-number"><span class="hljs-number">37</span></span>), (&lt;KnownSuffixAnalyzer&gt;, <span class="hljs-string"><span class="hljs-string">u''</span></span>)))]</code> </pre><br><br>  After connecting the morphological analyzer, Test The Text highlights adverbs, passive voice, sacramental turn and, at the same time, interjections. <br><br>  It remains to deal with problems on the client.  I had no idea that there could be so many problems with a simple text entry field.  I had to write a java-script to clear the text when inserting and the insertion code &lt;br&gt; by pressing enter.  In the new version, I replaced my code with <a href="http://xing.github.io/wysihtml5/">Wysihtml5</a> .  Wysihtml5 is a lightweight html editor.  Found it, studying how did the editor in Basecamp. <br><br>  In addition, I had to transfer the text markup to the client.  Verification of the text is not instantaneous, the user could enter a couple more sentences before answering.  And since the text was laid out on the server, all user changes were erased. <br><br>  Instead, the server began to return a list of stop words with their class, starting and ending position.  And the markup has already happened on the client.  If the word on the position does not match the response from the server, the word is not marked.  In case the user has changed the text and the position of the word has shifted. <br><br>  Development plans: <br>  - Highlighting sentences of more than 17 words, they are difficult to read. <br>  - Select paragraphs longer than 8 lines.  Most likely such paragraphs need to be broken. <br>  - Tracking the " <a href="http://lib.rus.ec/b/259930/read">rhythm</a> " of the text.  In a good text, long sentences alternate with medium and short, the text becomes not monotonous.  The reader does not fall asleep. <br>  - The repetition of words in adjacent sentences. <br>  - Subjunctive mood. <br>  - Public API. <br><br><hr>  Subscribe to our <a href="http://habrahabr.ru/company/ttt/">Habra blog</a> and <a href="http://eepurl.com/Jntoz">useful letters</a> .  We write about the information style, we analyze other people's posts. </div><p>Source: <a href="https://habr.com/ru/post/204898/">https://habr.com/ru/post/204898/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../204876/index.html">Launch iframe application in Vkontakte</a></li>
<li><a href="../204878/index.html">Using Backload for Downloadable Files in ASP.NET MVC</a></li>
<li><a href="../204886/index.html">Yandex conducts an experiment on encrypting the request text in the Referer header</a></li>
<li><a href="../204894/index.html">Beeline + Apple = L ...</a></li>
<li><a href="../204896/index.html">KM in games</a></li>
<li><a href="../204900/index.html">Cloud ci: travis-ci and drone.io</a></li>
<li><a href="../204902/index.html">Why Meteor will ruin Ruby on Rails</a></li>
<li><a href="../204906/index.html">Analysis of the protocols of the remote controls</a></li>
<li><a href="../204910/index.html">Multi-port PoE MIP-8LP adapter with integrated lightning protection</a></li>
<li><a href="../204912/index.html">Board games: what is played in IT offices this year</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>