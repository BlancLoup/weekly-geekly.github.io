<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Two extra rounds, zero penalty laps</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Last week I studied the capabilities of the new Bluetooth 4.0. What for? Then, that now Apple installs it on their smartphones and tablets. 
 If you a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Two extra rounds, zero penalty laps</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/805/5c2/659/8055c265909fdcc08c17c0edee46ee06.jpg"><br>  Last week I studied the capabilities of the new Bluetooth 4.0.  What for?  Then, that now Apple installs it on their smartphones and tablets. <br>  If you are the owner of a bunch of iPhone 4S and iPad Mini, then you can repeat my experiments.  The rest leave a short video with a demonstration of the application.  Honestly, the applications I riveted as many as 5 pieces. <br>  The meaning of all five new applications is as simple as the Metro style - I use iPhone as a peripheral gamepad.  Imagine a gamepad not only with buttons, but with a video camera and an accelerometer! <br>  AyPad respectively plays the role of the TV on which the game unfolds. <br><br>  Among other things, I posted one application in App Store, and Apple immediately approved it, to my unspeakable amazement. <br>  About the results of weekly sales, too, will tell. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  What you need to develop </h4>  To write my own application, I downloaded the <a href="https://developer.apple.com/library/ios/">BTLE Central Peripheral Transfer</a> sample from my Apple site. <br><br>  Threw away the apple ViewController and replaced it with about the next piece of code. <br><pre><code class="objectivec hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ([[<span class="hljs-built_in"><span class="hljs-built_in">UIDevice</span></span> currentDevice] userInterfaceIdiom] == <span class="hljs-built_in"><span class="hljs-built_in">UIUserInterfaceIdiomPhone</span></span>) { iPad = <span class="hljs-number"><span class="hljs-number">0</span></span>; shotView = [[ShootingViewController alloc] initWithNibName:<span class="hljs-string"><span class="hljs-string">@"ShootingViewController"</span></span> bundle:<span class="hljs-literal"><span class="hljs-literal">nil</span></span> viewController:<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>]; [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view addSubview:shotView.view]; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { iPad = <span class="hljs-number"><span class="hljs-number">1</span></span>; targetView = [[TargetViewController alloc] initWithNibName:<span class="hljs-string"><span class="hljs-string">@"TargetViewController"</span></span> bundle:<span class="hljs-literal"><span class="hljs-literal">nil</span></span> viewController:<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>]; [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view addSubview:targetView.view]; }</code> </pre> <br><br>  On the side of the iPhone, you can change the contents of the <i>peripheralManager</i> function, to transfer to iPad any data that is useful to you on the receiving side.  These can be accelerations, video processing results, button presses, other events. <br><br><pre> <code class="objectivec hljs"><span class="hljs-comment"><span class="hljs-comment">/** Catch when someone subscribes to our characteristic, then start sending them data */</span></span> - (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)peripheralManager:(CBPeripheralManager *)peripheral central:(CBCentral *)central didSubscribeToCharacteristic:(CBCharacteristic *)characteristic { <span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *sendText = [<span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> stringWithFormat:<span class="hljs-string"><span class="hljs-string">@"%d,%d,%d,%@"</span></span>, _numShots, (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) xt, (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) yt, [[<span class="hljs-built_in"><span class="hljs-built_in">UIDevice</span></span> currentDevice] name]]; <span class="hljs-built_in"><span class="hljs-built_in">NSLog</span></span>(<span class="hljs-string"><span class="hljs-string">@"Central subscribed to characteristic: %@"</span></span>, sendText); <span class="hljs-comment"><span class="hljs-comment">// Get the data self.dataToSend = [sendText dataUsingEncoding:NSUTF8StringEncoding]; // Reset the index self.sendDataIndex = 0; // Start sending [self sendData]; }</span></span></code> </pre><br><br>  I want to warn you that the amount of data transmitted at one time should not exceed 30-50 bytes.  Otherwise, the connection is often lost, and packets are lost accordingly. <br><br>  In addition, if the program on the iPhone processes events from the accelerometer 100 times per second, then the data on iPad should be sent no more than 10-15 times per second.  Otherwise, the application may hang, the communication channel seems to be clogged, and iPad does not have time to process it. <br><br><h4>  Application Biathlon 2013 </h4><br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/EajlMSwE5P0%3Ffeature%3Doembed&amp;xid=25657,15700023,15700186,15700190,15700253,15700259&amp;usg=ALkJrhgajqW9I6r5Ohqto0rNkEbwJHboqg" frameborder="0" allowfullscreen=""></iframe><br><br>  The very first one I did was biathlon application, target shooting simulator.  Inspired by the victories of Malyshko and Shipulina at the World Cup, he did it in a day.  Billets, though there were already, such as examples of working with the sound of shooting.  Two pictures still had to borrow from the network, scale and wipe the watermarks. <br><br>  The iPhone is a rifle with optics, I aim at the iPad through the optics and make a shot by clicking on the iPhone screen. <br><br>  To recognize iPad geometry, I draw a bright blue line on top of the shooting range.  At first I chose an orange color, but it worked only in the office environment.  Houses all around are yellow lamps, and orange is just everywhere.  The recognition program is unfortunately bad, just subtracting the pixel values ‚Äã‚Äãfrom top to bottom with the condition of the presence of the blue component.  If you play in the blue and white office of Intel, then recognition does not work well. <br><br>  But these are problems of the shooter; for a hint, I draw the viewer in green, which indicates the boundaries of the iPad screen. <br><br><h4>  Biathlon 2013 in App Store </h4><br>  I usually make all my applications free.  But I insert advertising.  There is no point in putting advertising into this application - there are few such people who possess a bunch of apple-based last devices. <br><br>  On the other hand, if a person has new-fashioned expensive pieces of iron, then he has money.  Let him buy and application.  For 5 bucks, so to them, bourgeois. <br><br>  I posted biathlon on the 6th for 5 bucks and forgot about it.  And January 15th - rraz!  - The application is approved and ready for sale. <br>  I make a sale - otherwise no chance at all that they will notice. <br>  3 dollars.  Also fat. <br><br>  Well, I think, as usual, 1-2 jumps in the first five days, then sluggish 50 jumps in a year. <br><br>  But no, more horse racing.  For example, today's report. <br><pre> <code class="diff hljs">Title Units Price Store Biathlon 2013 11 2.69 EUR DE Biathlon 2013 2 2.69 EUR FR Biathlon 2013 1 21 NOK NO Biathlon 2013 1 99 RUB RU Biathlon 2013 1 2.69 EUR SI</code> </pre><br><br>  I want to note that links to videos posted in app and app have no effect.  As it was 50 views a week ago and left. <br><br>  But from the publication on Habr√© 7000 views are usually typed.  But there is no sense from them, you will not smear on bread. <br><br>  I think this is the first app in app store using this technology.  If not, correct me. <br><br><h4>  Other applications </h4><br><br>  Three-dimensional Tetris.  It is based on the rotation of the iPhone, as a rigid body - I transfer one number from 24 positions, into which the figure is turned. <br><br>  Digger - classic dosovsky control with iphone.  Giving a click on the K4 button. <br><br>  Wolfenstein.  Just a shooter - passing the angle of rotation and event shot. <br><br>  Darts.  Imitation by iphone motion of throwing a dart.  Accelerometer deflections along axes transform into displacements X - play on the target. <br><br><br>  Most are ready for 50-90 percent and so far I am not impressed. <br><br>  Yes, I forgot!  Tennis!  Tennis is cool!  Now I will make a screenshot. <br><br><img src="https://habrastorage.org/storage2/e59/10c/9b8/e5910c9b8dd116628b749071c841be37.jpg"><br><br>  It is interesting to play tennis.  On iPad, I only give the type of impact - on the left or on the right. </div><p>Source: <a href="https://habr.com/ru/post/166515/">https://habr.com/ru/post/166515/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../166503/index.html">Cach√© Studio development using TortoiseGit</a></li>
<li><a href="../166507/index.html">How to return money from a mobile account, if you did not connect third-party services</a></li>
<li><a href="../166509/index.html">Restore access to Amazon EC2 instance when pem file is lost</a></li>
<li><a href="../166511/index.html">Digest of new materials in Russian MSDN for December 2012 and January 2013</a></li>
<li><a href="../166513/index.html">NeoQUEST - 2013: start of registration</a></li>
<li><a href="../166517/index.html">Add air! Basics of visual design for graphics, web and multimedia</a></li>
<li><a href="../166523/index.html">How Kotlin received 11 contributors from four universities</a></li>
<li><a href="../166527/index.html">Methodology Milashevich training technical translation</a></li>
<li><a href="../166529/index.html">Intel Perceptual Computing SDK</a></li>
<li><a href="../166531/index.html">Github is blocked in China</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>