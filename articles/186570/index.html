<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using ncurses in PHP</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As a programmer and web developer, you probably from time to time write programs in php to administer the site from the console. The language can only...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using ncurses in PHP</h1><div class="post__text post__text-html js-mediator-article">  As a programmer and web developer, you probably from time to time write programs in php to administer the site from the console.  The language can only make a program outputting / reading from the console, but using the <i>ncurses library</i> you can create a console utility with a rather complex appearance that will look the same in different types of terminals. <br><br>  PHP is very flexible and extensible, with it you can create scripts that can be replaced with similar ones in other languages ‚Äã‚Äã(Perl / bash scripts, etc.).  The <i>ncurses</i> functionality is amazing and really takes the ability to work with a terminal php application to a new level. <br><br>  The purpose of the article is to give you a "push" in the field of writing console tools for php, which will use the opportunity of this library.  I‚Äôm going to show only the most important thing related to the library itself, and I hope to give you a base for using ncurses in your application. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h6>  Who is the article for? </h6><br>  The material is intended for experienced php-programmers interested in creating console php-applications with a user interface.  <i>(comment of the translator: material is useful to the developer of any level, here there is nothing difficult).</i> <br><a name="habracut"></a><br><h4>  Topics studied </h4><br>  From this article you will learn: <br><ul><li>  How to create windows using <i>ncurses</i> and fill them with data </li><li>  How to create multiple windows and dynamically resize them to the size of the terminal </li><li>  How to "catch" keystrokes </li><li>  How to write a small program that extends the functionality of <i>traceroute</i> , using all the features of the <i>ncurses library</i> </li></ul><br><h4>  Definitions </h4><br><ul><li>  <b>Ncurses</b> (new curses) is a free software <i>library</i> imitating <i>curses</i> (System V Release 4.0) and even more.  It uses the Terminfo format, supports familiarity, colors, multiple backlighting, use of function keys, and all the other features of SYSV curses.  If you used linux, then you most likely saw it in action: midnight commander, <br>  ncftp, iptraf, trafshow and many others use <i>ncurser</i> to create an interface. </li><li>  <b>A window</b> means only a terminal section created using ncurses. </li></ul><br><h4>  From the author </h4><br>  The documentation for <i>ncurses</i> functions in php is very limited.  Some features used in this article are not available on the official website.  Applications with <i>ncurses</i> follow C programming style as if they were real programs, not scripts. <br><br>  If you have programming experience in C or C ++, you may already be familiar with <i>ncurses</i> and can imagine what a useful tool <i>ncurses</i> can be when used with an interpreted language such as PHP. <br><br><h4>  What you need to know </h4><br>  You need PHP compiled with the <code>-with-ncurses</code> option on a unix-like system.  Not all terminals support color output, so I did not include the use of colors in the article. <br><br>  Know that you may need to ‚Äúreset‚Äù your terminal command <i>reset</i> .  If any error occurs and <code>ncurses_end()</code> not called, your terminal will not work properly. <br><br>  The order of the following functions is also important.  PHP may show an error if you try to update a window that does not have a corresponding handler. <br><br>  Let's start with a simple application before moving on to a complex one. <br><br><h3>  Simple example with windows </h3><br>  First, create a main window that will use all the available space.  Then add a smaller window in the middle of the screen and place a line of text there.  To make it like this: <br><img src="https://habrastorage.org/getpro/habr/post_images/c5a/b4d/0ea/c5ab4d0ea15c81965f7961f7968c84f1.gif" alt="image"><br><br>  You need to start by calling <code>ncurses_init();</code>  to switch to ncurses mode.  Without this, when calling the functions of the PHP library will fall with an error. <br><br>  <b>Script to display two windows and lines</b> <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">//     $ncurse = ncurses_init(); //    $fullscreen = ncurses_newwin ( 0, 0, 0, 0); //     ncurses_border(0,0, 0,0, 0,0, 0,0); //    $small = ncurses_newwin(10, 30, 7, 25); //    ncurses_wborder($small,0,0, 0,0, 0,0, 0,0); ncurses_refresh(); //   //     ncurses_mvwaddstr($small, 5, 5, " Test String "); //       ncurses_wrefresh($small); $pressed = ncurses_getch(); //    ncurses_end(); //    ncurses,  </span></span></code> </pre><br><br>  Try resizing the window and run the script again.  The main window will again occupy exactly the entire space. <br><br>  Now you may want to see some action when pressing the key, or you want to make it possible to exit the application by pressing any button.  I prefer to use for this esc (27 ascii-code). <br>  To add the ability to <b>exit by pressing ESC</b> , add this code instead of <code>$pressed = ncurses_getch();</code> <br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) { $pressed = ncurses_getch(); <span class="hljs-comment"><span class="hljs-comment">//    if ($pressed == 27) { break; } else { ncurses_mvwaddstr($small, 5, 5, $pressed); ncurses_wrefresh($small); } }</span></span></code> </pre> <br>  Now if you press esc, the program will end, otherwise the ascii-code of the pressed key will be displayed in a small window. <br><br>  You can <b>add a header</b> by placing the code before calling <code>ncurses_refresh();</code>  : <br><pre> <code class="php hljs">ncurses_attron(NCURSES_A_REVERSE); ncurses_mvaddstr(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-string"><span class="hljs-string">"My first ncurses application"</span></span>); ncurses_attroff(NCURSES_A_REVERSE);</code> </pre> <br>  You are not limited to REVERSE mode (color and background are interchanged), there is also DIM, UNDERLINE and others. <br><br>  You can increase comfort by adding an interactive menu selection. <br><br><h3>  Create a menu </h3><br>  Many programs have menus and the ability to choose from it.  In the past, on pure PHP we could only display a list of options, and give the opportunity to enter the number of the desired one.  Such an awkward choice of one option can be replaced by a more intuitive one. <br><img src="http://habrastorage.org/getpro/habr/post_images/fe8/c36/eb6/fe8c36eb647c7a6bafe2120f6e8fcfb7.gif" alt="image"><br><br>  <b>Menu output script with a choice</b> <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> define(<span class="hljs-string"><span class="hljs-string">'ESCAPE_KEY'</span></span>, <span class="hljs-number"><span class="hljs-number">27</span></span>); $ncurse = ncurses_init(); $fullscreen = ncurses_newwin ( <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); ncurses_border(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>); $small = ncurses_newwin(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>); ncurses_wborder($small,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>); ncurses_attron(NCURSES_A_REVERSE); ncurses_mvaddstr(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-string"><span class="hljs-string">"My first ncurses application"</span></span>); ncurses_attroff(NCURSES_A_REVERSE); ncurses_refresh(); $currently_selected = <span class="hljs-number"><span class="hljs-number">0</span></span>; $menu = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'one'</span></span>, <span class="hljs-string"><span class="hljs-string">'two'</span></span>, <span class="hljs-string"><span class="hljs-string">'three'</span></span>, <span class="hljs-string"><span class="hljs-string">'four'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>($i=<span class="hljs-number"><span class="hljs-number">0</span></span>; $i&lt;count($menu); $i++){ $out = $menu[$i]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>($currently_selected == intval($i)){ ncurses_wattron($small,NCURSES_A_REVERSE); ncurses_mvwaddstr($small, <span class="hljs-number"><span class="hljs-number">1</span></span>+$i, <span class="hljs-number"><span class="hljs-number">1</span></span>, $out); ncurses_wattroff($small,NCURSES_A_REVERSE); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { ncurses_mvwaddstr($small, <span class="hljs-number"><span class="hljs-number">1</span></span>+$i, <span class="hljs-number"><span class="hljs-number">1</span></span>, $out); } } ncurses_wrefresh($small); $pressed = ncurses_getch(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($pressed == NCURSES_KEY_UP) { $currently_selected--; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($currently_selected &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) $currently_selected = <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">elseif</span></span> ($pressed == NCURSES_KEY_DOWN) { $currently_selected++; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($currently_selected &gt;= count($menu)) $currently_selected = count($menu)<span class="hljs-number"><span class="hljs-number">-1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">elseif</span></span>($pressed == ESCAPE_KEY) { <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { ncurses_mvwaddstr($small, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, $pressed); } } ncurses_end();</code> </pre><br>  On the resulting menu, you can navigate with the arrow keys and exit with esc. <br><br>  Now you are probably thinking of console applications that you can create, knowing only a few of the functions used above.  Further on, we will create a useful application that will be the starting point for further development. <br><br><h3>  Together </h3><br>  The php.net website lists 119 functions of the ncurses library.  The table below contains a list of the functions used and links to the documentation.  I note that four of these functions are missing in the official documentation.  <i>(comment of the translator: at the moment all functions are contained in the documentation on php.net, but without a detailed description).</i> <br><table><tbody><tr><th>  Function </th><th>  Description </th><th>  Documentation </th></tr><tr><td>  <b>ncurses_init</b> </td><td>  Initializes ncurses </td><td>  <a href="http://www.php.net/manual/en/function.ncurses-init.php">www.php.net/manual/en/function.ncurses-init.php</a> </td></tr><tr><td>  <b>ncurses_newwin</b> </td><td>  Creates a new window </td><td>  <a href="http://www.php.net/manual/en/function.ncurses-newwin.php">www.php.net/manual/en/function.ncurses-newwin.php</a> </td></tr><tr><td>  <b>ncurses_getmaxyx</b> (resource window, int <br>  return Y, int return X); </td><td>  Writes to variables X and Y the maximum size of the terminal </td><td>  - </td></tr><tr><td>  <b>ncurses_border</b> </td><td>  Draws a frame around the main window </td><td>  <a href="http://www.php.net/manual/en/function.ncurses-border.php">www.php.net/manual/en/function.ncurses-border.php</a> </td></tr><tr><td>  <b>ncurses_refresh</b> </td><td>  Updates the main window.  To redraw secondary windows use <b>ncurses_wrefresh</b> </td><td>  <a href="http://www.php.net/manual/en/function.ncurses-refresh.php">www.php.net/manual/en/function.ncurses-refresh.php</a> </td></tr><tr><td>  <b>ncurses_attron</b> </td><td>  Applies an attribute to the displayed text. </td><td>  <a href="http://www.php.net/manual/en/function.ncurses-attron.php">www.php.net/manual/en/function.ncurses-attron.php</a> </td></tr><tr><td>  <b>ncurses_attroff</b> </td><td>  Disable attribute use </td><td>  <a href="http://www.php.net/manual/en/function.ncurses-attroff.php">www.php.net/manual/en/function.ncurses-attroff.php</a> </td></tr><tr><td>  <b>ncurses_mvaddstr</b> </td><td>  Displays the string </td><td>  <a href="http://www.php.net/manual/en/function.ncurses-mvaddstr.php">www.php.net/manual/en/function.ncurses-mvaddstr.php</a> </td></tr><tr><td>  <b>ncurses_wborder</b> (resource window, int <br>  left, int right, int top, int bottom, int tl_corner, int tr_corner, int <br>  bl_corner, int br_corner); </td><td>  Draws a frame for the background window. </td><td>  - </td></tr><tr><td>  <b>ncurses_wattron</b> (resource window, int <br>  attribute) </td><td>  <b>Same</b> as <b>ncurses_attron</b> , only applies to <i>window</i> </td><td>  - </td></tr><tr><td>  <b>ncurses_mvwaddstr</b> </td><td>  Places the string in the secondary window </td><td>  <a href="http://www.php.net/manual/en/function.ncurses-mvwaddstr.php">www.php.net/manual/en/function.ncurses-mvwaddstr.php</a> </td></tr><tr><td>  <b>ncurses_wattroff</b> (resource window, int <br>  attribute) </td><td>  Identical to <b>ncurses_wattroff</b> , only used for <i>window</i> </td><td>  - </td></tr><tr><td>  <b>ncurses_wrefresh</b> </td><td>  Redraws the background window. </td><td>  <a href="http://www.php.net/manual/en/function.ncurses-wrefresh.php">www.php.net/manual/en/function.ncurses-wrefresh.php</a> </td></tr><tr><td>  <b>ncurses_getch</b> </td><td>  Waiting for input from the keyboard or mouse. </td><td>  <a href="http://www.php.net/manual/en/function.ncurses-getch.php">www.php.net/manual/en/function.ncurses-getch.php</a> </td></tr></tbody></table><br><br><h3>  Improved traceroute </h3><br>  Now we will create a really useful program: traceroute with the output of whois information about each jump. <br><img src="http://habrastorage.org/getpro/habr/post_images/c1b/a3a/4a2/c1ba3a4a25d6c5049c1f6179ac0658be.gif" alt="image"><br><br>  This script runs traceroute to <i>zend.com</i> (max 10 hops) and shows the results in a single window.  You can navigate through the elements using the arrows.  When you click on enter, information about this ip will be shown in the bottom window.  By pressing esc, the program will end. <br><br><div class="spoiler">  <b class="spoiler_title">Script content</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">//    define("ESCAPE_KEY", 27); define("ENTER_KEY", 13); //   $tr_return = traceroute("www.zend.com"); array_shift($tr_return); $ncurses_session = ncurses_init(); $main = ncurses_newwin(0, 0, 0, 0); //   ncurses_getmaxyx($main, $lines, $columns); ncurses_border(0, 0, 0, 0, 0, 0, 0, 0); //    ncurses_attron(NCURSES_A_REVERSE); ncurses_mvaddstr(0,1, "Traceroute example"); ncurses_attroff(NCURSES_A_REVERSE); //  ,      ... $lower_frame_window = ncurses_newwin ($lines-14, $columns-3, 13, 1); ncurses_wborder($lower_frame_window, 0,0, 0,0, 0,0, 0,0); //  $lower_main_window = ncurses_newwin ($lines - 16, $columns-5, 15, 2); $main_list_window = ncurses_newwin (12, $columns-3, 1, 1); ncurses_wborder($main_list_window, 0,0, 0,0, 0,0, 0,0); //  ncurses_refresh(); $currently_selected = 0; while(true) { for($a=0; $a &lt; count($tr_return); $a++){ $out = $tr_return[$a]; if($currently_selected == intval($a)) { ncurses_wattron($main_list_window,NCURSES_A_REVERSE); ncurses_mvwaddstr ($main_list_window, 1+$a, 1, $out); ncurses_wattroff($main_list_window,NCURSES_A_REVERSE); } else { ncurses_mvwaddstr ($main_list_window, 1+$a, 1, $out); } } ncurses_move(-1,1); //      ncurses_wrefresh($lower_frame_window); ncurses_wrefresh($lower_main_window); //   ncurses_wrefresh($main_list_window); //    $y = ncurses_getch($lower_main_window); if ($y == ENTER_KEY) { $newout = explode(" ", trim($tr_return[$currently_selected])); $rwhois_return = rwhois($newout[2]); foreach ($rwhois_return as $n =&gt; $l) { ncurses_mvwaddstr($lower_main_window, $n - 1, 1, $l); } } elseif($y == ESCAPE_KEY) { ncurses_end(); exit; } elseif ($y == NCURSES_KEY_UP) { $currently_selected--; if ($currently_selected &lt; 0) $currently_selected = 0; } elseif($y == NCURSES_KEY_DOWN) { $currently_selected++; if ($currently_selected &gt;= count($tr_return)) $currently_selected = count($tr_return)-1; } } //       function traceroute($address) { exec("traceroute -n -m 10 $address", $trreturn); return $trreturn; } // reverse whois function rwhois($query) { $fp = fsockopen ("rwhois.arin.net", 4321, $errno, $errstr, 30); if (!$fp) { $ret[] = "$errstr ($errno)\n"; } else { fputs($fp, "$query\r\n"); while (!feof($fp)) { $back = trim(fgets ($fp, 256)); if (empty($back) || stripos($back, ':') === false || substr($back, 0, 1) == '#') continue; $ret[] = $back; }//wend fclose ($fp); } return $ret; }</span></span></code> </pre></div></div><br><br><h3>  Finally </h3><br>  The above code is quite simple and can serve as a basis for your application using <i>ncurses</i> . <br><br>  We did not consider using the mouse, colors and many other output functions. <br><br>  Perhaps you will create a set of functions to use this output library.  As a start, I suggest you two functions that will simplify the creation of windows.  You can add panels to them, draw headlines or something else. <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** Creates an ncurses window that is write-safe on the left-hand side of the screen * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> integer $size is how wide it will be * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> window handle of inner window. */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">left_window</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($size=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">15</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> $fullscreen; ncurses_getmaxyx($fullscreen, $MAX_Y, $MAX_X); $c = ncurses_newwin ($MAX_Y<span class="hljs-number"><span class="hljs-number">-2</span></span> ,$size, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); ncurses_wborder($c,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">// border it // now create window overtop the other just // slightly smaller so that we won't write over // the border. $d = ncurses_newwin ($MAX_Y-4 ,$size-2, 1+1, 2); ncurses_wrefresh($c); // show it ncurses_wrefresh($d); return $d; } # # creates an upper-right window # function upperr_window($size=15){ global $fullscreen; ncurses_getmaxyx($fullscreen, $MAX_Y, $MAX_X); $c = ncurses_newwin ($size ,$size, 1, $MAX_X-($size+1)); ncurses_wborder($c,0,0, 0,0, 0,0, 0,0); // border it ncurses_wrefresh($c); // show it return $c; }</span></span></code> </pre> <br><br>  Happy programming! <br><br><h5>  useful links </h5><br><ul><li>  <a href="http://www.opengroup.org/onlinepubs/007908799/xcurses/curses.h.html">www.opengroup.org/onlinepubs/007908799/xcurses/curses.h.html</a> is the documentation for the ncurses header file, which will be an excellent reference for library functions. </li><li>  <a href="http://dickey.his.com/ncurses/ncurses-intro.html">dickey.his.com/ncurses/ncurses-intro.html</a> is useful material on using ncurses in C. There are many things you can use with PHP. </li><li>  And always use <code>man ncurses</code> .  In addition, each function has its own help page (eg <code>man wborder</code> </li></ul><br><br><h5>  From translator </h5><br>  <b>Installing the ncurses extension</b> <br><ol><li>  Install pecl.  Package <i>php5-dev</i> in ubuntu, <i>php-pear</i> in arch </li><li>  Install the extension itself: <code>pecl install ncurses</code> ( <code>pecl install ncurses</code> rights, therefore with sudo) </li><li>  Connect extension.  Add the line "extension = ncurses.so" to your php.ini </li></ol><br>  Original article: <a href="http://devzone.zend.com/173/using-ncurses-in-php/">devzone.zend.com/173/using-ncurses-in-php</a> <br>  <sub><i>Please report typos in HP</i></sub> </div><p>Source: <a href="https://habr.com/ru/post/186570/">https://habr.com/ru/post/186570/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../186554/index.html">I, the pirate (chapters 3-5)</a></li>
<li><a href="../186558/index.html">Astrid Task Manager closes. Comparison of alternatives</a></li>
<li><a href="../186560/index.html">Viewing images from the L15 format of the Electro-L satellite</a></li>
<li><a href="../186564/index.html">Index the sky</a></li>
<li><a href="../186568/index.html">Automatic notification of changes in the status of postal parcels via SMS</a></li>
<li><a href="../186572/index.html">A simple technique for building product filters using MongoDb and MapReduce</a></li>
<li><a href="../186574/index.html">About coffee and about the Web, or why PHP is a bicycle</a></li>
<li><a href="../186576/index.html">Cubietruck talk (by Cubieboard creators)</a></li>
<li><a href="../186580/index.html">NY Times: Governments are interested in 0day</a></li>
<li><a href="../186582/index.html">The future of Russian Gentoo Linux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>