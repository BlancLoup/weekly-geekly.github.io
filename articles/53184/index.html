<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Multimedia keys do not work under GNU / Linux? Lirc will help us.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I have a multimedia keyboard , and some keys on it do not work. To make them work, there is a manual , but everything is too confused there, so I didn...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Multimedia keys do not work under GNU / Linux? Lirc will help us.</h1><div class="post__text post__text-html js-mediator-article">  I have a <a href="http://www.microsoft.com/hardware/mouseandkeyboard/productdetails.aspx%3Fpid%3D043">multimedia keyboard</a> , and some keys on it do not work.  To make them work, there is a <a href="http://www.gentoo-wiki.info/HOWTO_Microsoft_Natural_Ergonomic_Keyboard_4000">manual</a> , but everything is too confused there, so I didn‚Äôt get involved with it. <br>  Here we must make a small digression: <br>  In addition to the keyboard, I also have a remote control.  So, I stumbled upon a line in the Xorg logs: <br><blockquote>  (II) saa7134 IR (Avermedia AVerTV St: Configuring as keyboard </blockquote><br>  those.  The remote is perceived as a keyboard.  And while the digital keyboard on the remote functions normally without additional software.  But since the rest of the keys on the remote are configured via <a href="http://www.lirc.org/">lirc</a> , the question arose: <b>can the non-working keys on the keyboard be made to work via lirc?</b>  It turned out you can!  Moreover, there is even an application that has the necessary capabilities: inputlircd. <a name="habracut"></a>  Here is a quote from man'a (translated for "clarity"): <blockquote>  inputlircd is a small LIRC daemon that reads / dev / input / eventX from files (devices) and sends the received codes to the keys of connected LIRC clients. <br>  inputlircd does not need a configuration, because  uses standardized names for key codes, such as those used in the kernel.  Many USB remotes that provide HID devices, like multimedia keyboards, should work right out of the box. </blockquote>  In other words, this is exactly what we need :). <br><blockquote>  Note: I set it up under Gentoo. </blockquote> Install: <br><br> <code>emerge -av inputlircd</code> <br> <br>  Editing the configuration file: <br><br> <code>vim /etc/conf.d/inputlircd</code> <br> <br>  You can register several devices in INPUTLIRCD_OPT by separating them with a space.  In my case it turned out like this: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <code>INPUTLIRCD_OPTS="/dev/input/by-path/pci-0000:02:08.0-event-ir /dev/input/event4"</code> <br> <br>  In theory, it is better to specify the by-path, since  event number (event) may change when adding / removing an input device.  But for me, if I specify the path for the keyboard, then the keys I needed did not work.  In addition, I have two events for the keyboard (numbered 3 and 4), and path one.  And the necessary keys work only in the case of event4. <br>  Run: <br><br> <code>/etc/init.d/inputlircd start</code> <br> <br>  Add to autostart: <br><br> <code>rc-update add inputlircd default</code> <br> <br>  Now you can test the performance with irw.  To do this, simply run this utility in the terminal: <br><br> <code>irw</code> <br> <br>  We try multimedia keys and get in response something like this: <br><br> <code>1a2 0 KEY_ZOOMIN event4&lt;br/&gt;1a3 0 KEY_ZOOMOUT event4&lt;br/&gt;8c 0 KEY_CALC event4&lt;br/&gt;</code> <br>  Now you need to create / edit the file ~ / .lircrc.  For the keys above, you can add the following lines to this file: <br> <code>begin <br> &lt;br/&gt;    prog = irxevent <br> button = KEY_ZOOMIN <br> config = Key ctrl-plus CurrentWindow <br> end <br> begin <br> prog = irxevent <br> button = KEY_ZOOMOUT <br> config = Key ctrl-minus CurrentWindow <br> end <br> begin <br> prog = irexec <br> button = KEY_CALC <br> config = kcalc <br> end <br></code> <br>  In this example, the keys KEY_ZOOMIN and KEY_ZOOMOUT are assigned the combination Ctrl + + and Ctrl + -, which are accepted for increasing and decreasing, respectively.  These combinations are transmitted, as it is not difficult to guess, to the current window.  The KEY_CALC key is assigned to start the calculator. <blockquote>  About irexec and irxevent can be read in man'ah or <a href="http://www.lirc.org/html/index.html">here</a> . </blockquote>  Thus, you can make any multimedia keys work. </div><p>Source: <a href="https://habr.com/ru/post/53184/">https://habr.com/ru/post/53184/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../53175/index.html">Asus eeePC 1000H and OpenBSD</a></li>
<li><a href="../53179/index.html">Isn't it time to stop?</a></li>
<li><a href="../53181/index.html">Google Geo - big data update in Google Earth, underwater models in Sketh Up</a></li>
<li><a href="../53182/index.html">Question: Linux and Java-based IDE</a></li>
<li><a href="../53183/index.html">Fresh exchange rates from the future?</a></li>
<li><a href="../53185/index.html">The story of my startup</a></li>
<li><a href="../53191/index.html">File Upload Indicator in Ruby on Rails Web Applications</a></li>
<li><a href="../53192/index.html">Darwinism and web programming</a></li>
<li><a href="../53193/index.html">Invites to dcdnet.ru</a></li>
<li><a href="../53201/index.html">Update the working draft on the server.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>