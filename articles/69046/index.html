<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Accelerate Wordpress to the speed of light</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Speed ‚Äã‚Äãand resiliency - one of those factors that invariably affect the popularity of your resource, because even with the best content in the world,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Accelerate Wordpress to the speed of light</h1><div class="post__text post__text-html js-mediator-article"><img src="http://img33.imageshack.us/img33/2056/7337481781ba67dec1.gif" alt="image"><br>  Speed ‚Äã‚Äãand resiliency - one of those factors that invariably affect the popularity of your resource, because even with the best content in the world, a slow working site will irritate readers and sooner or later you will lose them.  In this article, we will optimize the most popular blogging engine - Wordpress, running on PHP.  And at the same time consider a few general points in the optimization of sites. <br><a name="habracut"></a><br><h4>  1 Test current speed </h4><br>  To find out whether something has changed after our optimization, it doesn‚Äôt hurt to measure the current download speed of blog pages to start with, so that it has something to compare with.  There are several tools to help do this: <br><br><h5>  1.1 Pingdom </h5><br>  <a href="http://tools.pingdom.com/fpt/">Pingdom</a> conducts quick and visual testing of the download speed of all elements on the page and presents the results in the form of a convenient chart where you can see which site elements load slower than necessary and other problem areas. <br><img src="https://habrastorage.org/getpro/habr/post_images/5be/986/a9d/5be986a9d04910b2352266635c1c47f0.jpg" alt="image"><br>  <a href="http%253A%252F%252Fhabrahabr.ru%252F%26id%3D1214365">The benchmark of</a> a fairly well-known resource. <br><br><h5>  1.2 YSlow </h5><br>  <a href="http://developer.yahoo.com/yslow/">YSlow</a> is a plugin for Firefox, which is built into perhaps the best plugin for a web developer, <a href="http://getfirebug.com/">Firebug</a> .  It analyzes more than 20 factors that affect the speed of the site and estimates the overall performance on a 100-point scale, and each individual element is rated from A to F. <br><img src="https://habrastorage.org/getpro/habr/post_images/aad/3c9/c2f/aad3c9c2fea811388200d79c2f307ec4.gif" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  1.3 The number of requests and the time of their execution </h5><br>  By inserting a small piece of PHP code, you can put into the footer the number of queries to the database and the time spent on their execution. <br><blockquote><code><font color="black"><font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">echo</font> <font color="#ff0000">get_num_queries</font> (); ? <font color="#0000ff">&gt;</font> queries in <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">timer_stop</font> ( <font color="#ff0000">1</font> ); ? <font color="#0000ff">&gt;</font> seconds.</font></code> </blockquote> <br><h4>  2 Web Hosting </h4><br>  Believe it or not, web hosting is one of the most important details affecting blog performance.  Without going into details, here is a very simple description of the most popular types of hosting, which will help you to roughly estimate the load on the server: <br><ul><li>  Shared Hosting - on average about 100 people can be hosted on one server; </li><li>  VPS - about 20 people can be hosted on one server; </li><li>  Dedicated - the server will be used only by you. </li></ul><br>  To view the approximate load on the server, log in via ssh and enter the <i><b>top</b></i> command in the console. <br><br>  This, of course, does not mean that you will not be able to speed up a blog that runs on shared hosting (Shared Hosting), but it is worth remembering that the higher the productivity, the more resources we have at our disposal. <br><br>  The geographic location of the server also plays a significant role; therefore, you always have to present your target audience approximately.  For example, if they are Russian-speaking users, you should not buy an American hosting, etc. <br><br><h4>  3 Installing and configuring the server </h4><br>  Make sure that the planned load corresponds to the capacity of the server and it can handle it.  First of all it will depend on the amount of RAM and processor.  As a rule, Wordpress is installed on <a href="http://apache.org/">Apache</a> , but many successful solutions exist on the basis of other http servers: <a href="http://nginx.net/">nginx</a> , <a href="httpd.net/">lighttpd</a> , etc. <br><br>  Do not forget to upgrade to the latest version of <a href="http://www.php.net/downloads.php">PHP</a> and <a href="httpd.apache.org/download.cgi">Apache</a> . <br><br><h5>  3.1 Disable unused services </h5><br>  You can get more available RAM by disabling unused services and optimizing MySQL and Apache. <br><ul><li>  Remove clamd; </li><li>  Configure SpamD to use only 1 child process; </li><li>  Remove Mailman, of course, if you are not going to start the mail service. </li></ul><br><h5>  3.2 MYSQL Query Cache </h5><br>  Since the stability and speed of Wordpress is quite dependent on the work of the database, you should make sure that the settings in <b><i>my.cnf</i></b> correspond to the capabilities of the server.  The first step is to set the query caching settings by adding the following lines to <b><i>my.cnf</i></b> : <br><blockquote>  <font color="blue">query_cache_type = 1</font> <font color="blue"><br></font>  <font color="blue">query_cache_limit = 2M</font> <font color="blue"><br></font>  <font color="blue">query_cache_size = 20M</font> <font color="blue"><br></font> </blockquote><br>  In order for the settings to take effect, you will have to restart the MySQL service. <br><br><h5>  3.3 Compiler Cache: XCache or Eaccelerator? </h5><br>  The compiler cache increases the performance of compiled scripts on the server by caching them - this will help reduce the time it takes to execute PHP scripts.  It is worth trying both solutions, however, according to the results of the experiments, an increase in productivity when using Xcache is 5% higher than with the Eaccelerator. <br><br><h5>  3.4 Increase the maximum number of connections on Apache </h5><br>  Increasing the maximum number of connections in <b><i>httpd.conf</i></b> will increase performance, because  the server will be able to handle more connections at once.  However, you should change this parameter carefully, in order not to exhaust the entire amount of RAM and not to slow down the server, so always test the new settings before starting them up.  Install for example 150 connections: <br><blockquote>  <font color="blue">max_connections = 150</font> </blockquote><br>  Do not forget to restart the Apache service to apply the settings. <br><br><h4>  4 Optimization of code and graphics </h4><br>  So, the server is working and now it‚Äôs time to play with the Wordpress code. <br><br><h5>  4.1 Disable Hotlinks </h5><br>  Every time you use your server to store images, you use its resources substantially more.  Quite often, people borrow your images by putting hotlinks on their servers.  This not only takes the channel, but also creates a certain load on the server. <br>  Add the following code to the <b><i>.htaccess</i></b> file, replacing <b>example.com</b> with the name of your domain to disable the use of hotlinks: <br><blockquote> <code><font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">IfModule</font> <font color="#ff0000">mod_rewrite</font> . <font color="#ff0000">c</font> <font color="#0000ff">&gt;</font> <br> RewriteEngine on <br> RewriteCond %{HTTP_REFERER} !^$ <br> RewriteCond %{HTTP_REFERER} !^http://(www\.)?example\.com/.*$ [NC] <br> RewriteRule .*\.(gif|jpg|png|ico)$ - [F,L] <br> <font color="#0000ff">&lt;/</font> <font color="#800000">ifModule</font> <font color="#0000ff">&gt;</font></font></code> </blockquote> <br><h5>  4.2 Use external hosting to store images </h5><br>  Hosting images on external servers can significantly reduce server load.  In the example below, you can see a decrease in the amount of RAM used on one of the blogs after transferring images to <a href="http://aws.amazon.com/s3/">Amazon S3</a> service. <br><img src="https://habrastorage.org/getpro/habr/post_images/968/80b/ea7/96880bea762755578868ef894d905e6e.png" alt="image"><br><br><h5>  4.3 Compress java-script code </h5><br>  Compressing javascript is quite a simple task.  Because it runs every time you view a page, you can reduce the size of Javascript by removing all unfilled space.  Here is a simple tool to help you do this for you - <a href="http://javascriptcompressor.com/">JavaScript Compressor</a> . <br><br><h5>  4.4 Javascript at the top of the page </h5><br>  It often happens that the site starts loading slowly or stops at all, because  another resource from which javascript is called (for example Digg badges, Tweetmeme, etc.) is not available or offline.  To avoid this, bring the entire javascript code to the bottom of the page, and the fact that for some reason could not be rendered - try to conclude in iFrame. <br><br><h5>  4.5 Use browser cache </h5><br>  The browser cache itself will certainly not make your blog faster, but it will help reduce the load on the server by caching frequently loaded objects (styles, interface elements, etc.). <br>  Try inserting the following code into the <b><i>.htaccess</i></b> file: <br><blockquote> <code><font color="black">FileETag MTime Size <br> <font color="#0000ff">&lt;</font> <font color="#800000">ifmodule</font> <font color="#ff0000">mod_expires</font> . <font color="#ff0000">c</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">filesmatch</font> <font color="#0000ff">"\.(jpg|gif|png|css|js)$"</font> <font color="#0000ff">&gt;</font> <br> ExpiresActive on <br> ExpiresDefault "access plus 1 year" <br> <font color="#0000ff">&lt;/</font> <font color="#800000">filesmatch</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">ifmodule</font> <font color="#0000ff">&gt;</font></font></code> </blockquote> <br><h5>  4.6 Compress Static Data </h5><br>  You can reduce the size of the loaded page by allowing the browser to receive and transmit data in a compressed form.  It will also reduce channel loading and the amount of data loaded. <br>  The following code in <b><i>.htaccess</i></b> can help you with this: <br><blockquote>  <font color="blue">AddOutputFilterByType DEFLATE text / html text / plain text / xml application / xml application / xhtml + xml text / javascript text / css application / x-javascript</font> <font color="blue"><br></font>  <font color="blue">BrowserMatch ^ Mozilla / 4 gzip-only-text / html</font> <font color="blue"><br></font>  <font color="blue">BrowserMatch ^ Mozilla / 4.0 [678] no-gzip</font> <font color="blue"><br></font>  <font color="blue">BrowserMatch bMSIE! No-gzip! Gzip-only-text / html</font> <font color="blue"><br></font> </blockquote><br><h5>  4.7 Use CDN for static files. </h5><br>  If you store all the images on the same domain, the browser will wait for them to download one by one.  Suppose you have 12 pieces on their page, if you divide them between three subdomains, they will be loaded simultaneously from three ‚Äúdifferent‚Äù sources instead of being loaded by the browser one by one. <br>  You can try to transfer all css &amp; javascript files to <b>files.yoursite.com</b> , and images and temporary files to <b>static.yoursite.com</b> .  Or simply use a <a href="http://en.wikipedia.org/wiki/Content_delivery_network">CDN</a> (Content Delivery Network) - a large network of servers located around the world, which will not only store your files on different subdomains, and therefore download them in parallel, but also deliver data to the user from the server closest to him.  All this will allow to load data much faster. <br><br><h4>  5 wordpress </h4><br>  In this part of the article, we will look at performance enhancements that can be applied directly to Wordpress. <br><br><h5>  5.1 Update to the latest version. </h5><br>  Updates to newer versions not only make it possible to fix the detected vulnerabilities, but also improve performance.  For example, wordpress 2.8 was significantly optimized to work with the database. <br><br><h5>  5.2 Disable Post Revisions </h5><br>  In all versions of wordpress, starting from 2.6, the editors of your articles were automatically saved each time they were edited.  This slows down the database and increases its size without special need. <br>  To disable post revisions, add the following line to <b><i>wp-config.php</i></b> : <br><blockquote> <code><font color="blue">define('WP_POST_REVISIONS', false);</font></code> </blockquote> <br>  To delete previously saved text revisions, run the following query in PHPmyadmin: <br><blockquote> <code><font color="black"><font color="#0000ff">DELETE</font> a,b,c <br> <font color="#0000ff">FROM</font> wp_posts a <br> <font color="#0000ff">LEFT</font> <font color="#0000ff">JOIN</font> wp_term_relationships b <font color="#0000ff">ON</font> (a.ID = b.object_id) <br> <font color="#0000ff">LEFT</font> <font color="#0000ff">JOIN</font> wp_postmeta c <font color="#0000ff">ON</font> (a.ID = c.post_id) <br> <font color="#0000ff">WHERE</font> a.post_type = <font color="#A31515">'revision'</font></font></code> </blockquote> <br><h5>  5.3 Reduce the number of requests </h5><br>  Remove unnecessary requests to speed up page generation.  For example, the following typical code is found in all themes for wordpress: <br><blockquote> <code><font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">meta</font> <font color="#ff0000">http-equiv</font> <font color="#0000ff">="Content-Type"</font> <font color="#ff0000">content</font> =" <font color="#ff0000">&lt;</font> ? <font color="#ff0000">php</font> <font color="#ff0000">bloginfo</font> ( <font color="#0000ff">'html_type'</font> ); ? <font color="#0000ff">&gt;</font> ; charset= <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">bloginfo</font> ( <font color="#0000ff">'charset'</font> ); ? <font color="#0000ff">&gt;</font> " <font color="#0000ff">/&gt;</font></font></code> </blockquote> <br>  We can easily rewrite to: <br><blockquote> <code><font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">meta</font> <font color="#ff0000">http-equiv</font> <font color="#0000ff">="Content-Type"</font> <font color="#ff0000">content</font> <font color="#0000ff">="text/html; charset=UTF-8"</font> <font color="#0000ff">/&gt;</font></font></code> </blockquote> <br>  Already two requests less.  Pretty simple, isn't it? <br><br><h5>  6 Wordpress Plugins </h5><br>  And lastly I offer you a few plugins that can improve wordpress performance.  Once everything described above is complete, these plugins will help achieve even higher performance. <br><br>  <a href="http://wordpress.org/extend/plugins/wp-super-cache/">WP Super Cache</a> <br>  This is probably the best plugin for wordpress.  WP Super Cache creates static html versions of each page and loads them every time, thereby doing without queries to the database.  This significantly increases the speed of loading pages and reduces the load on the server.  Strictly recommended for installation. <br><br>  <a href="http://aciddrop.com/2009/02/02/php-speedy-wp-052-bug-fix/">PHP Speedy WP</a> <br>  This plugin solves another problem indicated in this article - the removal of empty space in CSS &amp; javascript.  However, there are some compatibility issues with this plugin with WP Super Cache, besides, it has not been updated for a long time, so use it at your own peril and risk. <br><br>  <a href="http://wordpress.org/extend/plugins/optimize-db/">Optimize DB</a> <br>  The plugin allows you to optimize MySQL tables without the help of PHPmyadmin. <br><br>  <b>Happiness to you and your cozy website,%% username.</b> </div><p>Source: <a href="https://habr.com/ru/post/69046/">https://habr.com/ru/post/69046/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../69038/index.html">Cloud computing (overview)</a></li>
<li><a href="../69039/index.html">Asus announced a series of ultra-thin monitors Designo MS</a></li>
<li><a href="../69040/index.html">Spy 2.0</a></li>
<li><a href="../69041/index.html">Sdcv console dictionary</a></li>
<li><a href="../69044/index.html">Old components</a></li>
<li><a href="../69047/index.html">New anti-Linux propaganda from Microsoft</a></li>
<li><a href="../69049/index.html">The first interactive online series</a></li>
<li><a href="../69050/index.html">IE8 and SmartScreen Filter</a></li>
<li><a href="../69051/index.html">Smartphone LG Etna with Android</a></li>
<li><a href="../69054/index.html">Global "monopoly"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>