<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Does the amount of data on the complexity of the development. Accounting in the anthill</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I recently had a discussion with a colleague about whether the amount of data affects the complexity of development. 

 The bottom line remains: 


- ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Does the amount of data on the complexity of the development. Accounting in the anthill</h1><div class="post__text post__text-html js-mediator-article">  I recently had a discussion with a colleague about whether the amount of data affects the complexity of development. <br><br>  The bottom line remains: <br><ul><li>  The amount of data should not have a significant impact on the complexity of the development.  The main complexity of development, as a rule, is related to the complexity of the data processing algorithm, and not to their number.  Knowing in advance the actual amount of data, it is enough to develop a code that works on small data, and then it can be applied to the required volume. </li><li>  All the basic computational algorithms have long been known (at least for several decades).  The main thing is to determine the correct approach to the task as early as possible (before the start of development).  But this is not a question of laboriousness, but professional suitability - that is, the materiel must be studied in advance, but developed quickly. </li><li>  Not one Customer will understand why the laboriousness of developing a code of several hundred lines took a lot of time.  It is easier for the customer to change the team, than to invest his time and money in someone's learning process or in some kind of incomprehensible experiment. </li><li>  Small overhead associated with the amount of data, of course, can be.  But these costs, as a rule, do not exceed the errors of the initial (correct) assessment of labor intensity and it does not make sense to take them separately. </li></ul><br><br>  For the developer, frankly, the conclusions were not very funny and unambiguous. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      But the discussion arose not from scratch, but within the framework of a discussion of the problem with a simple computational algorithm, but with a large amount of data. <br><br>  The purpose of the publication is to share the experience of how, in a reasonable time, to process two linked lists of a billion entries each. <br><a name="habracut"></a><br><h4>  Formulation of the problem </h4><br>  The data presented in the publication are similar to those in the original problem.  The changes affected mainly applied terminology.  Let's call it "Accounting in the anthill". <br><br><div class="spoiler">  <b class="spoiler_title">For clarity, the process was as follows:</b> <div class="spoiler_text">  In one fairy forest decided to conduct accounting of animals.  To do this, create a simple accounting system, which recorded all the animals - only about a thousand.  The system was made, the animals were assigned numbers, and the numbers were also received by minks, dens, nests.  In short, everything turned out simply and quickly. <br><br>  This was learned in the anthill and also decided to develop their own accounting system.  Based on the accounting system of animals. <br><br>  As a result, each ant received a number-name and number-home accommodation.  Each ant was given the type: worker, soldier, ... Houses were divided into areas of the anthill: center, top, bottom, ... <br><br>  After the registration was completed, and at the ant meeting everyone happily celebrated the completion of the work, the main ant soldier took the floor.  He said (of course, he said spreading all sorts of pheromones - so it‚Äôs clearer to the ants) that he likes the account, it‚Äôs necessary and useful, and now it is necessary to send lists of ant soldiers living in this part of the anthill to all parts of the anthill.  This should be done, as is customary in such cases, urgently and without delay. <br><br>  Here, other ant representatives also began to fuss - they also needed lists for the distribution of all kinds of worm bugs and for holding other equally important events. <br><br>  And there were ants - a billion. <br></div></div><br><br><img src="https://habrastorage.org/files/92b/a3b/008/92ba3b008e5947ee85feb64caddfc13a.jpg" alt="Image - ER Diagram"><br><br>  The data structure is shown in the figure: <br><ul><li>  ant_type - types of ants (1 - queen, 2 - larva, 3 - nanny, 4 - worker, 5 - soldier) </li><li>  hill_type - anthill areas (1 - center, 2 - top, 3 - bottom, 4 - north, 5 - south, 6 - east, 7 - west) </li><li>  ant_list - list of ants (billion records) </li><li>  cell_list - list of homes (billion records) </li><li>  ant_to_cell - which ant in which house lives (billion records) </li></ul><br><br>  The task is to prepare for each area of ‚Äã‚Äãthe anthill (hill_type) its list of ants living in it (ant_list), of a certain type (ant_type) and with their house numbers (cell_list). <br><br><h4>  Test data </h4><br>  Who cares, there is a utility for generating test data.  The utility is prepared as a console program written in C # (Visual Studio Community 2013). <br><br>  The utility code is laid out on GitHub in the file <a href="">anthill-makedata.cs</a> .  To get a working program in Visual Studio, you need to create a console project, replace the file program.cs with anthill-makedata.cs, ‚Äã‚Äãand build the project.  This approach is chosen in terms of compactness, visibility and safety of distribution. <br><br>  By default (without parameters), the utility prepares a set of test data (5 files in CSV format) per thousand records.  As a parameter, you can specify the desired data size - from thousands to billion: <br><br>  anthill-makedata.exe 1000000000 <br><br>  Preparation of test data in a billion records will take up to 30 minutes and about 50 GB of disk space.  Runtime can be viewed in the log (anthill-makedata.log). <br><br>  You can use FAR to view the data. <br><br><h4>  Decision </h4><br>  Here, who are interested, you can think - and how would they begin to solve this problem. <br><br>  During the development process, it turned out that I didn‚Äôt have much to do with the materiel, because I failed to achieve an acceptable speed from either the first or second approach.  Processing on the complete data went, well, very slowly.  The reason for this was the search procedure, which was performed quickly on small data, but as data increased, everything slowed down indecently. <br><br>  In the end, a solution was found.  Moreover, to work on complete data, even what was not under the hood of my not very powerful computer was enough: CPU - Core 5i, RAM - 12Gb (it was 8, added 4), HDD - the easiest (5400 about). <br><br>  The essence of the solution is to use a regular index array.  For each list, an array of a billion is created.  The cell number in the array corresponds to the number of the object (ant, house).  In the cells of the arrays are placed, respectively, the identifiers of the types of ants and the types of parts of the anthill.  After the arrays of ants and houses are filled (from the test data ‚Äî anthill-ant-list.csv and anthill-cell-list.csv files), the anthill-ant-to-cell.csv communication file is pulled and the files are simultaneously written ( CSV) with results. <br><br>  Accessing an array cell by index occurs instantly, since there is no time spent on searching.  At the same time, most of the time is taken by reading and writing files (working with HDD). <br><br>  The solution was prepared as a console program written in C # (Visual Studio Community 2013). <br><br>  The program code is laid out on GitHub in the file <a href="">anthill-makeresult.cs</a> .  To get a working program in Visual Studio, you need to create a console project, replace the program.cs file with anthill-makeresult.cs, and build the project (note: in the project properties, in the BUILD section, uncheck the [Prefer 32-bit] checkbox).  Run the program in the same directory as the test data files. <br><br>  By default (without parameters), the program prepares lists of ant soldiers (CSV files).  As a parameter, you can specify the desired type: <br><br>  anthill-makeresult.exe 4 (4 - work type code) <br><br>  Preparation of the results according to the complete data takes up to 30 minutes.  Taking into account the test data, it requires about 100 gigabytes of disk space. <br><br><h4>  Brief summary </h4><br>  For the considered task, the statement that the volume of data does not have a significant impact on the complexity of the development turned out to be true: <br><ul><li>  The ready solution turned out to be simple and packed in 300 lines of code, including error handling, logging and comments. </li><li>  The solution works the same way on both small and large (up to a given size) data. </li><li>  The main brake is not in data processing, but in I / O operations (slow HDD operation). </li></ul><br><br>  Of the minuses can be noted: <br><ul><li>  The approach is not universal.  For example, another structure or another format of application data can have a significant impact on the solution. </li><li>  Working with CSV files is not always convenient, is not protected from errors and does not guarantee data integrity. </li></ul></div><p>Source: <a href="https://habr.com/ru/post/264807/">https://habr.com/ru/post/264807/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../264797/index.html">I can do without Git, yeah</a></li>
<li><a href="../264799/index.html">Introduction to High Frequency Trading (HFT)</a></li>
<li><a href="../264801/index.html">Contingency Tables: Log Linear Models and Markov Networks</a></li>
<li><a href="../264803/index.html">Simplify the for-cycle index: range-based version</a></li>
<li><a href="../264805/index.html">Test lab v.8 - pentest laboratory, built on the basis of a real corporate network</a></li>
<li><a href="../264811/index.html">Clustering graphs and searching for communities. Part 2: k-medoids and modifications</a></li>
<li><a href="../264815/index.html">As we raised the IT infrastructure [from the bottom]</a></li>
<li><a href="../264819/index.html">Asterisk Manager Interface in dialplan</a></li>
<li><a href="../264821/index.html">DMP Part 1. Microsegmentation of the audience using keywords</a></li>
<li><a href="../264823/index.html">We write Observer implementation over KVO on objective-c</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>