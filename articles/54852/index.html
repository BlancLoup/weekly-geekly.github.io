<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PGP encryption</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sometimes you come across a situation where in a rather large enterprise they do not understand at all (or do not want to understand) why data encrypt...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PGP encryption</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="http://triest.com.ua/images/gpg.png"></div><br>  Sometimes you come across a situation where in a rather large enterprise they do not understand at all (or do not want to understand) why data encryption, communication channels, mail correspondence are necessary.  This situation occurs in my work.  The situation with the strange loss of client-bank data helped to cut this Gordian knot. <br><br>  Now the team is trained in the basics of working with the gpg program in several stages.  The decision to use the GnuPG utility to encrypt mail correspondence and files is made because of its availability in various Linux distributions.  You ask what Linux is doing in the enterprise.  I will answer this way - as a result of persistent 3-month work, the network of about 200 pc was transferred to linux with 90% success, which I will probably tell you a little later. <br><a name="habracut"></a><br><br>  We will understand for a start with the basics and principles of encryption.  We will analyze the system known as public key encryption, which has become the de facto standard for encrypting various kinds of information. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This scheme uses two keys: one is the private key, which is kept only by the user, and the second is the public key, which is in the public domain and is transmitted to other users.  The public key belonging to the user himself or to whom he wants to send encrypted information is used for encryption.  And only the owner of the corresponding private key will be able to decrypt the data.  There is also a third key, called a session key.  It is automatically generated and used for encryption and decryption.  And since all this is done automatically, it is rarely mentioned in the process description. <br><br>  Widespread are two encryption packets according to the public key scheme.  The first is commercial PGP (Pretty Cood Privacy), GPG (GNU Privacy Guard), which is a free implementation of PGP.  The second is OpenSSH.  Further we will consider only GPG, in view of its openness and prevalence. <br><br>  The main task of GPG is to perform file encryption.  It does not set up secure data channels, as OpenSSH does.  It simply encrypts the data and checks its integrity. <br><br>  The first thing to do before you start working with GPG is to create a pair of keys: public and private.  It is best to do this under the account under which you are constantly working.  The command for creating keys is: <br><br>  <b>gpg --gen-key</b> <br><br>  In the process of generation, you must select the type of key (the first option suits by default), its size, expiration date, user name, e-mail, password.  All these points are intuitive and I will not dwell on them. <br><br>  Generation is complete, a pair of keys is ready for use.  Both files ‚Äî pubring.gpg (a bunch of public keys) and secring.gpg (a bunch of private keys) ‚Äîare stored in binary code in the $ HOME / .gnupg directory.  The public key can be presented in two forms: in the form of a binary code and in text format.  The default is binary.  To convert the key into text format, you must do: <br><br>  <b>gpg -a --export user&gt; user.pub.key.asc</b> <br><br>  The ‚Äú&gt; user.pub.key.asc‚Äù part of the command is used to redirect output not to the screen, but to a file. <br><br>  In order to see the key identifier, you can run a key check, which will result in a list of keys in the pubring.gpg file: <br><br>  <b>gpg --list-key</b> <br><br>  Up to this point we carried out operations with our keys.  And what to do with the keys of other users?  To do this, you need to insert the public key received from the side into your public keychain: <br><br>  <b>gpg --import otherkey.pub.key.gpg.asc</b> (where otherkey.pub.key.gpg.asc is the resulting key file) <br><br>  Encryption is only one way to verify the integrity and reliability of information.  Another way is to sign files.  In this method, based on the characteristics of the file, a kind of signature is created, in the creation of which the private key data is involved.  If the file did not change between the time it was signed and the time it was received, the following message will appear when decrypting or checking it using GPG: <br><br>  <b>[user @ host] $ gpg --verify foo.txt.asc foo.txt</b> <b><br></b>  <b>gpg: Signature made Thu March 18 14:10:50 2009 EST using DSA key ID 12EA888D</b> <b><br></b>  <b>gpg: Good signature from "******"</b> <br><br>  To sign a file with the name ‚Äúfile‚Äù, you need to run: <br><br>  <b>gpg -b file</b> <br><br>  As a result of this command, a binary file will be created.  In order to translate it into an ASCII representation, you need to do this: <br><br>  <b>gpg -ba file</b> <br><br>  The ‚Äú-b‚Äù option is used to create a separate signature file.  The signature file has the same name as the file being signed, but only with the extension .gpg or .asc, depending on whether it is binary or in ASCII - this file is signed. <br><br>  And finally, I'll tell you how to actually encrypt files.  Suppose a user has a public key for you and wants to send you an encrypted file.  For this it needs to execute the following command: <br><br>  <b>gpg -r user -e file</b> (where "user" is the key identifier in the bundle, the encrypted file is sent to its owner, "file" is the name of the encrypted file) <br><br>  As a result, a file file.gpg is created that can be sent.  It is also possible to immediately get a file in the text view at the output: <br><br>  <b>gpg -r user -ea file</b> (where "user" is the key identifier in the bundle, the encrypted file is sent to its owner, "file" is the name of the encrypted file) <br><br>  Having received such a file, you only need to run: <br><br>  <b>gpg -d file.gpg</b> (or .asc) <br><br>  You can combine encryption and signing with one command: <br><br>  <b>gpg -r user -bea file</b> <br><br>  As a result, we will get an encrypted file, which, when decrypted, will take steps to create a signature for it. <br><br>  Original <a href="http://triest.com.ua/%3Fp%3D194">blog post</a> . </div><p>Source: <a href="https://habr.com/ru/post/54852/">https://habr.com/ru/post/54852/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../54845/index.html">DPI & P2P</a></li>
<li><a href="../54847/index.html">Is the client always right?</a></li>
<li><a href="../54849/index.html">How I program under ExtJS and Zend Framework</a></li>
<li><a href="../54850/index.html">Plone hosting in Russia</a></li>
<li><a href="../54851/index.html">Expression Web SuperPreview</a></li>
<li><a href="../54853/index.html">Bookmarklamp - concept lamp-bookmarks</a></li>
<li><a href="../54855/index.html">Scato language for learning and just for fun</a></li>
<li><a href="../54856/index.html">Survival in moments of critical load</a></li>
<li><a href="../54857/index.html">Yandex Advertising Campaign - Mocked</a></li>
<li><a href="../54858/index.html">SMS services throw ...</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>