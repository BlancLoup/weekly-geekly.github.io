<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Displaying a hierarchical data structure in WPF using anchors and templates</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 Representing a dataset as a hierarchical structure (of any nesting level) in WPF is very simple. As a rule, the System.Windows.Controls...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Displaying a hierarchical data structure in WPF using anchors and templates</h1><div class="post__text post__text-html js-mediator-article"><h5>  Introduction </h5><br>  Representing a dataset as a hierarchical structure (of any nesting level) in WPF is very simple.  As a rule, the System.Windows.Controls.TreeView class is used for this and the result looks like this: <br> <a title="An example of a tree view of a certain structure" href=""><img src="https://habrastorage.org/storage/habraeffect/e0/48/e04819a199fc4e05d1652024372670af.png"></a> <br><br>  I will demonstrate two cases of building such a tree, differing from each other by <b>a data source</b> : <br><ul><li>  Database hosted on MS SQL Server 2008 </li><li>  XML file. </li></ul><br><a name="habracut"></a><br>  The application will implement the ability to dynamically replace one data source with another. <br>  First of all, it is necessary to create data sources from which information should be obtained.  Such sources will be: <br><ol><li>  <b>MyTestDb.mdf</b> database </li><li>  <b>XMLFile1.xml XML</b> file </li></ol><br>  This will create a single solution (Solution) consisting of two projects (Projects): <br><ol><li>  <b>Linq2SqlProject</b> is a library containing a set of classes that are the object projection of the relational database structure. </li><li>  <b>WpfGuiProject</b> - a graphical part of the application (GUI), made using WPF technology.  In the same project will be posted code relating to working with XML-data. </li></ol><br>  Interaction with all data sources considered in the topic will be implemented using LINQ technology. <br><br><h4>  1. Creating a database </h4><br>  In our example, the database will consist of two tables - this is enough to demonstrate the solution of the voiced task: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <a title="Database schema" href=""><img src="https://habrastorage.org/storage/habraeffect/b0/35/b03585364a354b1150ce7662d5badd7e.png"></a> <br><br>  I added the following entries to the MySchema.Categories table: <br><br> <a title="The contents of the table MySchema.Categories" href=""><img src="https://habrastorage.org/storage/habraeffect/3c/91/3c91b2750b2eb4d97f0b9a097ec68092.png"></a> <br><br>  The following data has been entered into the MySchema.Books table: <br><br> <a title="MySchema.Book table contents" href=""><img src="https://habrastorage.org/storage/habraeffect/46/20/46201a8ea3d48347f51a0d546048f5af.png"></a> <br><br>  In order not to complicate the example, I will not create a set of stored procedures in the database, with the help of which the client application should work with the database (although in real work, of course, you should conduct a dialogue with the database only through stored procedures to avoid the possibility of sql injection). <br>  Download the above database <a href="http://openfile.ru/602330/">from here</a> and connect it to our database. <br><br><h4>  2. Create an object-oriented projection database </h4><br><br>  1. Create a new empty solution (Solution), giving it the name "TreeStructureBrowse": <br><br> <a title="Create a new solution" href=""><img src="https://habrastorage.org/storage/habraeffect/60/93/6093df3356348fa99ad8a9afcc325dfd.png"></a> <br><br>  2. From the context menu, obtained by clicking on the solution name in Solution Explorer, select Add =&gt; New Project ... <br>  3. Select the project type ‚ÄúClass Library‚Äù and assign the name ‚ÄúLinq2Sql‚Äù to our project, then press the OK key. <br>  4. From the context menu, obtained by clicking the mouse on the name of the project that we added in step 3, select the Add =&gt; New Item item ... <br>  5. Select the LINQ to SQL Classes item and assign the file name ‚ÄúMyTestDb‚Äù to the file: <br><br> <a title="Create a new project" href=""><img src="https://habrastorage.org/storage/habraeffect/ea/4d/ea4db11b6828e2ba5a3b91a039976425.png"></a> <br><br>  6. From the menu "View", select the item "Server Explorer".  In the window that appears, click "Connect to Database": <br><br> <a title="Set up a connection to our database" href=""><img src="https://habrastorage.org/storage/habraeffect/55/f4/55f41c5391538e0cf4a920ad20a1e7c0.png"></a> <br><br>  7. Specify all the necessary parameters of the connection string (in my case Windows authentication is used): <br><br> <a title="Connection settings" href=""><img src="https://habrastorage.org/storage/habraeffect/46/fd/46fd7776fd85a017b73fe77a06210c36.png"></a> <br><br>  8. Click the ‚ÄúTest Connection‚Äù button to make sure that we can connect, then click the OK button to close the ‚ÄúAdd Connection‚Äù window. <br>  9. Now in the Server Explorer window we will see the following picture: <br><br> <a title="Data in Server Explorer" href=""><img src="https://habrastorage.org/storage/habraeffect/a8/12/a812dd0f731acb22f1637f4d105a108b.png"></a> <br><br>  ps <b>powercomp</b> is the name of my computer <br><br>  10. Hold down the Shift key, select both our tables (Books and Categories) and drag them to the MyTestDb.dbml * tab, with the result that we get the following picture: <br><br> <a title="Generated class set" href=""><img src="https://habrastorage.org/storage/habraeffect/6c/55/6c55dfe365f94078b68b26e380cde107.png"></a> <br><br>  11. Save our project and execute the command Build =&gt; Rebuild Solution. <br><br>  So  we have just created an <b>object-oriented model of our relational database</b> , which is the first key point (of the three) in solving our problem. <br><br><h4>  3. Creating a graphic part (GUI), writing converters and generating templates </h4><br>  1. In the solution we created in the previous section, we will add a new project, giving it the name WpfGuiProject: <br><br> <a title="Add a new project (WPF)" href=""><img src="https://habrastorage.org/storage/habraeffect/d9/5d/d95daf0562854f3f46b22365328d0633.png"></a> <br><br>  2. From the context menu, caused by right-clicking on the name of the project that was just added to our solution, select the ‚ÄúSet as StartUp Project‚Äù item, thus making the GUI project run by default. <br>  3. Add a link to the Linq2Sql project to the WpfGuiProject project: <br><br> <a title="Adding links to the project Linq2Sql" href=""><img src="https://habrastorage.org/storage/habraeffect/b4/e5/b4e5e487481ac35cf2c1dc07d526c43d.png"></a> <br><br>  4. Add a resource dictionary to our project: from the context menu, called by clicking the right mouse button on the name of our project, activate the Add =&gt; Resource Dictionary item ... and in the dialog box that appears, select the element of the same name: <br><br> <a title="Add a resource dictionary" href=""><img src="https://habrastorage.org/storage/habraeffect/08/12/0812f98f09aa4e3fe94184ebc6f14e22.png"></a> <br><br>  5. Through the context menu of the project, we add a new ‚ÄúClass‚Äù file to it, assigning the name ‚ÄúMyConverters.cs‚Äù to it. <br>  6. We connect the assembly ‚ÄúSystem.Data.Linq‚Äù to our project. <br>  7. In the file created in paragraph 5 we write the following code: <br><br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } }</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <ol><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { //   Category.    -     Category. <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><font color="#0000ff"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } else { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } //   XElement.    -     XElement,  <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> //   Category. <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><font color="#0000ff"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } else { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> </ol> <code><font color="gray"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Collections. <font color="#2B91AF">Generic</font> ; <font color="#0000ff">using</font> System.Linq; <font color="#0000ff">using</font> System.Text; <font color="#0000ff">using</font> System.Windows.Data; <font color="#0000ff">using</font> Linq2Sql; <font color="#0000ff">using</font> System.Xml.Linq; <font color="#0000ff">namespace</font> WpfGuiProject { <font color="#008000">//   Category.    -     Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> CategoryValueConverter : IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> Category) { Category x = (Category) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> (x).Categories.Where(n =&gt; n.ParrentCategoryId == x.CategoryId).OrderBy(n =&gt; n.CategoryName); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } <font color="#008000">//   XElement.    -     XElement, </font> <font color="#008000">//   Category.</font> <font color="#0000ff">public</font> <font color="#0000ff">sealed</font> <font color="#0000ff">class</font> XmlConverter :IValueConverter { <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">if</font> ( <font color="#0000ff">value</font> <font color="#0000ff">is</font> <font color="#2B91AF">XElement</font> ) { <font color="#2B91AF">XElement</font> x = ( <font color="#2B91AF">XElement</font> ) <font color="#0000ff">value</font> ; <font color="#0000ff">return</font> x.Elements( <font color="#A31515">"Category"</font> ); } <font color="#0000ff">else</font> { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } } <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, System.Globalization.CultureInfo culture) { <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); } } }</font> * This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Created in paragraph 7 is the second (of the three) key point for solving the task before us - a hierarchical visual presentation of information, implemented with the help of data binding.  In the code, we define the logic for obtaining the children we need, which should be involved in building a hierarchical model. <br>  8. Edit the file "Dictionary1.xaml": <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">&lt;</font> <font color="#800000">ResourceDictionary</font> <font color="#ff0000">xmlns</font> <font color="#0000ff">= "http://schemas.microsoft.com/winfx/2006/xaml/presentation"</font> </li><li>  <font color="#ff0000">xmlns: x</font> <font color="#0000ff">= "http://schemas.microsoft.com/winfx/2006/xaml"</font> </li><li>  <font color="#ff0000">xmlns: linq2Xml</font> <font color="#0000ff">= "clr-namespace: System.Xml.Linq; assembly = System.Xml.Linq"</font> </li><li>  <font color="#ff0000">xmlns: linq</font> <font color="#0000ff">= "clr-namespace: Linq2Sql; assembly = Linq2Sql"</font> </li><li>  <font color="#ff0000">xmlns: local</font> <font color="#0000ff">= "clr-namespace: WpfGuiProject"</font> <font color="#0000ff">&gt;</font> </li><li>  <font>&lt;! - Template for hierarchical display of instances of the TreeTable class IN THE CASE OF CONNECTING TO THE DATABASE -&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">HierarchicalDataTemplate</font> <font color="#ff0000">x: Key</font> <font color="#0000ff">= "key1"</font> <font color="#ff0000">DataType</font> <font color="#0000ff">= "{x: Type linq: Category}"</font> <font color="#0000ff">&gt;</font> </li><li>  <font>&lt;! - I specify the data source on the basis of which the partition tree should be formed -&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">HierarchicalDataTemplate.ItemsSource</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Binding</font> <font color="#ff0000">Path</font> <font color="#0000ff">= "."</font>  <font color="#0000ff">&gt;</font> </li><li>  <font>&lt;! - I specify a converter that allows you to get a list of child elements of type Category, in relation to this -&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Binding.Converter</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">local: CategoryValueConverter</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Binding.Converter</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Binding</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">HierarchicalDataTemplate.ItemsSource</font> <font color="#0000ff">&gt;</font> </li><li>  <font>&lt;! - I create a visual representation of the element displayed in the section tree -&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">DockPanel</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">TextBlock</font> <font color="#ff0000">Text</font> <font color="#0000ff">= "{Binding Path = CategoryName}"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">TextBlock.ToolTip</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Binding</font> <font color="#ff0000">Path</font> <font color="#0000ff">= "Description"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">TextBlock.ToolTip</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Textblock</font> <font color="#0000ff">&gt;</font> </li><li>  <font>&lt;! - Number of books placed directly in the section -&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">TextBlock</font> <font color="#ff0000">Name</font> <font color="#0000ff">= "txtLeft"</font> <font color="#ff0000">Text</font> <font color="#0000ff">= "("</font> <font color="#ff0000">Grid</font> . <font color="#ff0000">Column</font> <font color="#0000ff">= "1"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">TextBlock</font> <font color="#ff0000">Name</font> <font color="#0000ff">= "txtCount"</font> <font color="#ff0000">Text</font> <font color="#0000ff">= "{Binding Path = Books.Count}"</font> <font color="#ff0000">Grid</font> .  <font color="#ff0000">Column</font> <font color="#0000ff">= "2"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">TextBlock</font> <font color="#ff0000">Name</font> <font color="#0000ff">= "txtRight"</font> <font color="#ff0000">Text</font> <font color="#0000ff">= ")"</font> <font color="#ff0000">Grid</font> .  <font color="#ff0000">Column</font> <font color="#0000ff">= "3"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">DockPanel</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">HierarchicalDataTemplate</font> <font color="#0000ff">&gt;</font> </li><li>  <font>&lt;! - Template for displaying instances of the class Book in the event of connecting to the database -&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">DataTemplate</font> <font color="#ff0000">DataType</font> <font color="#0000ff">= "{x: Type linq: Book}"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">TextBlock</font> <font color="#ff0000">Text</font> <font color="#0000ff">= "{Binding Path = BookName}"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">TextBlock.ToolTip</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Binding</font> <font color="#ff0000">Path</font> <font color="#0000ff">= "ToolTipText"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">TextBlock.ToolTip</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Textblock</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">DataTemplate</font> <font color="#0000ff">&gt;</font> </li><li></li><li>  <font>&lt;! - Template for hierarchical data display in case of connecting to XML-file -&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">HierarchicalDataTemplate</font> <font color="#ff0000">x: Key</font> <font color="#0000ff">= "key2"</font> <font color="#ff0000">DataType</font> <font color="#0000ff">= "{x: Type linq2Xml: XElement}"</font> <font color="#0000ff">&gt;</font> </li><li>  <font>&lt;! - I specify the data source on the basis of which the partition tree should be formed -&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">HierarchicalDataTemplate.ItemsSource</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Binding</font> <font color="#ff0000">Path</font> <font color="#0000ff">= "."</font>  <font color="#0000ff">&gt;</font> </li><li>  <font>&lt;! - I specify a converter that allows you to get a list of child elements of type Category, in relation to this -&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Binding.Converter</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">local: XmlConverter</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Binding.Converter</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Binding</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">HierarchicalDataTemplate.ItemsSource</font> <font color="#0000ff">&gt;</font> </li><li>  <font>&lt;! - I create a visual representation of the element displayed in the section tree -&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">TextBlock</font> <font color="#ff0000">Text</font> <font color="#0000ff">= "{Binding Path = Attribute [CategoryName] .Value}"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">TextBlock.ToolTip</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Binding</font> <font color="#ff0000">Path</font> <font color="#0000ff">= "Attribute [ToolTipText] .Value"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">TextBlock.ToolTip</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Textblock</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">HierarchicalDataTemplate</font> <font color="#0000ff">&gt;</font> </li><li></li><li>  <font>&lt;! - Template for displaying instances of the class Book in the event of connecting to an XML file -&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">DataTemplate</font> <font color="#ff0000">x: Key</font> <font color="#0000ff">= "key3"</font> <font color="#ff0000">DataType</font> <font color="#0000ff">= "{x: Type linq2Xml: XElement}"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Grid</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Grid.RowDefinitions</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">RowDefinition</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">RowDefinition</font> <font color="#ff0000">Height</font> <font color="#0000ff">= "Auto"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Grid.RowDefinitions</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">TextBlock</font> <font color="#ff0000">Text</font> <font color="#0000ff">= "{Binding Path = Attribute [BookName] .Value}"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">TextBlock.ToolTip</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Binding</font> <font color="#ff0000">Path</font> <font color="#0000ff">= "Attribute [ToolTipText] .Value"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">TextBlock.ToolTip</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Textblock</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Grid</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">DataTemplate</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">ResourceDictionary</font> <font color="#0000ff">&gt;</font> </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><br>  The xml markup created in step 8 is the third key point.  In this markup, using the HierarchicalDataTemplate class is defined ‚Äî a data display template and a converter that should be used to get children relative to the current one. <br><br>  Now we are starting to form a graphical representation of our window. <br><br>  9. Edit the contents of the file "MainWindow.xaml": <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Window</font> <font color="#ff0000">x: Class</font> <font color="#0000ff">= "WpfGuiProject.MainWindow"</font> </li><li>  <font color="#ff0000">xmlns</font> <font color="#0000ff">= "http://schemas.microsoft.com/winfx/2006/xaml/presentation"</font> </li><li>  <font color="#ff0000">xmlns: x</font> <font color="#0000ff">= "http://schemas.microsoft.com/winfx/2006/xaml"</font> </li><li>  <font color="#ff0000">xmlns: linq</font> <font color="#0000ff">= "clr-namespace: Linq2Sql; assembly = Linq2Sql"</font> </li><li>  <font color="#ff0000">xmlns: local</font> <font color="#0000ff">= "clr-namespace: WpfGuiProject"</font> </li><li>  <font color="#ff0000">Title</font> <font color="#0000ff">= "Hierarchical display of data using the binding"</font> <font color="#ff0000">Height</font> <font color="#0000ff">= "350"</font> <font color="#ff0000">Width</font> <font color="#0000ff">= "525"</font> <font color="#0000ff">&gt;</font> </li><li>  <font>&lt;! - Connect the resource file -&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Window.Resources</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">ResourceDictionary</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">ResourceDictionary.MergedDictionaries</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">ResourceDictionary</font> <font color="#ff0000">Source</font> <font color="#0000ff">= "Dictionary1.xaml"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">ResourceDictionary.MergedDictionaries</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">ResourceDictionary</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Window.Resources</font> <font color="#0000ff">&gt;</font> </li><li>  <font>&lt;! - We create the visual contents of the window -&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Grid</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Grid.ColumnDefinitions</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">ColumnDefinition</font> <font color="#ff0000">Width</font> <font color="#0000ff">= "50 *"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">ColumnDefinition</font> <font color="#ff0000">Width</font> <font color="#0000ff">= "Auto"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">ColumnDefinition</font> <font color="#ff0000">Width</font> <font color="#0000ff">= "50 *"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Grid.ColumnDefinitions</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Grid.RowDefinitions</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">RowDefinition</font> <font color="#ff0000">Height</font> <font color="#0000ff">= "Auto"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">RowDefinition</font> <font color="#ff0000">Height</font> <font color="#0000ff">= "100 *"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">RowDefinition</font> <font color="#ff0000">Height</font> <font color="#0000ff">= "Auto"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Grid.RowDefinitions</font> <font color="#0000ff">&gt;</font> </li><li>  <font>&lt;! - Display the tree structure -&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">TreeView</font> <font color="#ff0000">Name</font> <font color="#0000ff">= "treeStructure"</font> <font color="#ff0000">Margin</font> <font color="#0000ff">= "2"</font> <font color="#ff0000">Grid</font> .  <font color="#ff0000">Row</font> <font color="#0000ff">= "1"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font>&lt;! - Display notes for the item selected in the hierarchy -&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">GroupBox</font> <font color="#ff0000">Header</font> <font color="#0000ff">= "Note"</font> <font color="#ff0000">Margin</font> <font color="#0000ff">= "2"</font> <font color="#ff0000">Grid</font> .  <font color="#ff0000">Row</font> <font color="#0000ff">= "2"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">TextBlock</font> <font color="#ff0000">Name</font> <font color="#0000ff">= "selectedNodeDescription"</font> <font color="#ff0000">TextWrapping</font> <font color="#0000ff">= "Wrap"</font> <font color="#ff0000">Text</font> <font color="#0000ff">= "{Binding ElementName = treeStructure, Path = SelectedItem.Description}"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Groupbox</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">GridSplitter</font> <font color="#ff0000">Width</font> <font color="#0000ff">= "5"</font> <font color="#ff0000">HorizontalAlignment</font> <font color="#0000ff">= "Center"</font> <font color="#ff0000">VerticalAlignment</font> <font color="#0000ff">= "Stretch"</font> <font color="#ff0000">Grid</font> .  <font color="#ff0000">Column</font> <font color="#0000ff">= "1"</font> <font color="#ff0000">Grid</font> .  <font color="#ff0000">RowSpan</font> <font color="#0000ff">= "3"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">ListBox</font> <font color="#ff0000">Name</font> <font color="#0000ff">= "listBooks"</font> <font color="#ff0000">Margin</font> <font color="#0000ff">= "2"</font> <font color="#ff0000">Grid</font> .  <font color="#ff0000">Column</font> <font color="#0000ff">= "2"</font> <font color="#ff0000">Grid</font> .  <font color="#ff0000">RowSpan</font> <font color="#0000ff">= "2"</font> <font color="#ff0000">ItemsSource</font> <font color="#0000ff">= "{Binding ElementName = treeStructure, Path = SelectedItem.Books}"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">GroupBox</font> <font color="#ff0000">Header</font> <font color="#0000ff">= "Note"</font> <font color="#ff0000">Margin</font> <font color="#0000ff">= "2"</font> <font color="#ff0000">Grid</font> .  <font color="#ff0000">Column</font> <font color="#0000ff">= "2"</font> <font color="#ff0000">Grid</font> .  <font color="#ff0000">Row</font> <font color="#0000ff">= "2"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">TextBlock</font> <font color="#ff0000">Name</font> <font color="#0000ff">= "selectedBookDescription"</font> <font color="#ff0000">TextWrapping</font> <font color="#0000ff">= "Wrap"</font> <font color="#ff0000">Text</font> <font color="#0000ff">= "{Binding ElementName = listBooks, Path = SelectedItem.Description}"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Groupbox</font> <font color="#0000ff">&gt;</font> </li><li>  <font>&lt;! - Provide the user to select the data source of interest.</font>  <font>This block must be placed AFTER the XAML markup, which defines</font> </li><li>  <font>treeStructure element.</font>  <font>This requirement is due to the fact that the XAML markup of the RadioButton elements contains the registration</font> </li><li>  <font>Checked events, the body of which, in turn, contains code using the treeStructure element, and according to the rules of XAML documents, the element cannot be used</font> </li><li>  <font>before it is determined -&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">GroupBox</font> <font color="#ff0000">Header</font> <font color="#0000ff">= "Data Source"</font> <font color="#ff0000">Margin</font> <font color="#0000ff">= "2"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">StackPanel</font> <font color="#ff0000">Margin</font> <font color="#0000ff">= "2"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">RadioButton</font> <font color="#ff0000">Name</font> <font color="#0000ff">= "rbDatabase"</font> <font color="#ff0000">Content</font> <font color="#0000ff">= "MS SQL Server</font> <font color="#ff0000">Database</font> <font color="#0000ff">"</font> <font color="#ff0000">IsChecked</font> <font color="#0000ff">= "True"</font> <font color="#ff0000">Checked</font> <font color="#0000ff">= "Change_DataSource"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">RadioButton</font> <font color="#ff0000">Name</font> <font color="#0000ff">= "rbXmlFile"</font> <font color="#ff0000">Content</font> <font color="#0000ff">= "XML file"</font> <font color="#ff0000">IsChecked</font> <font color="#0000ff">= "False"</font> <font color="#ff0000">Checked</font> <font color="#0000ff">= "Change_DataSource"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">StackPanel</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Groupbox</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Grid</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Window</font> <font color="#0000ff">&gt;</font> </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><br>  This markup will form the following window: <br><br> <a title="View in XAML-designer" href=""><img src="https://habrastorage.org/storage/habraeffect/27/2f/272f84d544e81ad80aec849a6791878a.png"></a> <br><br>  10. Add the file ‚ÄúXMLFile1.xml‚Äù to our project, which will be an alternative data source: <br><br> <a title="Add an XML file that will be an alternative data source." href=""><img src="https://habrastorage.org/storage/habraeffect/10/41/1041c7a45d80b692ff62d50d37c15c24.png"></a> <br><br>  Fill the file we created with the data written in the xml-format: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">&lt;?</font>  <font color="#800000">xml</font> <font color="#ff0000">version</font> <font color="#0000ff">= "1.0"</font> <font color="#ff0000">encoding</font> <font color="#0000ff">= "utf-8"</font> ?  <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">MyXmlDocument</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Category</font> <font color="#ff0000">CategoryName</font> <font color="#0000ff">= "Computer literature"</font> <font color="#ff0000">Description</font> <font color="#0000ff">= "Various computer literature"</font> <font color="#ff0000">ToolTipText</font> <font color="#0000ff">= "My section"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Category</font> <font color="#ff0000">CategoryName</font> <font color="#0000ff">= "Windows applications"</font> <font color="#ff0000">Description</font> <font color="#0000ff">= "This OS is most popular"</font> <font color="#ff0000">ToolTipText</font> <font color="#0000ff">= "My axis"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Category</font> <font color="#ff0000">CategoryName</font> <font color="#0000ff">= "MS Office 2007"</font> <font color="#ff0000">Description</font> <font color="#0000ff">= "Office Suite"</font> <font color="#ff0000">ToolTipText</font> <font color="#0000ff">= "My Office"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Category</font> <font color="#ff0000">CategoryName</font> <font color="#0000ff">= "Autodesk Products"</font> <font color="#ff0000">Description</font> <font color="#0000ff">= "Various CAD"</font> <font color="#ff0000">ToolTipText</font> <font color="#0000ff">= "My Choice"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Category</font> <font color="#ff0000">CategoryName</font> <font color="#0000ff">= "AutoCAD"</font> <font color="#ff0000">Description</font> <font color="#0000ff">= "Most Common CAD"</font> <font color="#ff0000">ToolTipText</font> <font color="#0000ff">= "My CAD"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Book</font> <font color="#ff0000">BookName</font> <font color="#0000ff">= "AutoCAD 2010. N.N. Poleshchuk"</font>  <font color="#ff0000">Description</font> <font color="#0000ff">= "My book for this CAD"</font> <font color="#ff0000">ToolTipText</font> <font color="#0000ff">= "Reference"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Book</font> <font color="#ff0000">BookName</font> <font color="#0000ff">= "AutoCAD 2007, user's bible. (I don‚Äôt remember the author)"</font> <font color="#ff0000">Description</font> <font color="#0000ff">= "Another my book on this CAD system"</font> <font color="#ff0000">ToolTipText</font> <font color="#0000ff">= "Old book"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Category</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Category</font> <font color="#ff0000">CategoryName</font> <font color="#0000ff">= "Revit"</font> <font color="#ff0000">Description</font> <font color="#0000ff">= "new generation of CAD (BIM)"</font> <font color="#ff0000">ToolTipText</font> <font color="#0000ff">= "Not yet my CAD"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Category</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Category</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Category</font> <font color="#ff0000">CategoryName</font> <font color="#0000ff">= "Linux applications"</font> <font color="#ff0000">Description</font> <font color="#0000ff">= "Free OS"</font> <font color="#ff0000">ToolTipText</font> <font color="#0000ff">= "Interesting, but not very common"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Category</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Category</font> <font color="#ff0000">CategoryName</font> <font color="#0000ff">= "Classic"</font> <font color="#ff0000">Description</font> <font color="#0000ff">= "Classic Literature"</font> <font color="#ff0000">ToolTipText</font> <font color="#0000ff">= "Useful for General Development"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Category</font> <font color="#ff0000">CategoryName</font> <font color="#0000ff">= "Stories and Stories"</font> <font color="#ff0000">Description</font> <font color="#0000ff">= "Verses by Russian Authors"</font> <font color="#ff0000">ToolTipText</font> <font color="#0000ff">= "For the Soul"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Book</font> <font color="#ff0000">BookName</font> <font color="#0000ff">= "Captain's daughter. AS Pushkin"</font> <font color="#ff0000">Description</font> <font color="#0000ff">= "School course"</font> <font color="#ff0000">ToolTipText</font> <font color="#0000ff">= "I read once ..."</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Category</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Category</font> <font color="#ff0000">CategoryName</font> <font color="#0000ff">= "Poetry"</font> <font color="#ff0000">Description</font> <font color="#0000ff">= "Stories and stories of domestic authors"</font> <font color="#ff0000">ToolTipText</font> <font color="#0000ff">= "This is also for the soul"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Category</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">MyXmlDocument</font> <font color="#0000ff">&gt;</font> </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><br>  11. Make changes to the ‚ÄúMainWindow.xaml.cs‚Äù file: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">using</font> System; </li><li>  <font color="#0000ff">using</font> System.Collections.  <font color="#2B91AF">Generic</font> ; </li><li>  <font color="#0000ff">using</font> System.Linq; </li><li>  <font color="#0000ff">using</font> System.Text; </li><li>  <font color="#0000ff">using</font> System.Windows; </li><li>  <font color="#0000ff">using</font> System.Windows.Controls; </li><li>  <font color="#0000ff">using</font> System.Windows.Data; </li><li>  <font color="#0000ff">using</font> System.Windows.Documents; </li><li>  <font color="#0000ff">using</font> System.Windows.Input; </li><li>  <font color="#0000ff">using</font> System.Windows.Media; </li><li>  <font color="#0000ff">using</font> System.Windows.Media.Imaging; </li><li>  <font color="#0000ff">using</font> System.Windows.Navigation; </li><li>  <font color="#0000ff">using</font> System.Windows.Shapes; </li><li></li><li>  <font color="#008000">// Add links to the namespaces we need</font> </li><li>  <font color="#0000ff">using</font> Linq2Sql; </li><li>  <font color="#0000ff">using</font> System.Xml.Linq; </li><li></li><li>  <font color="#0000ff">namespace</font> WpfGuiProject </li><li>  { </li><li>  <font color="#008000">/// &lt;summary&gt;</font> </li><li>  <font color="#008000">/// Interaction logic for MainWindow.xaml</font> </li><li>  <font color="#008000">/// &lt;/ summary&gt;</font> </li><li>  <font color="#0000ff">public</font> <font color="#0000ff">partial</font> <font color="#0000ff">class</font> MainWindow: Window </li><li>  { </li><li>  <font color="#2B91AF">XElement</font> xml; </li><li>  <font color="#0000ff">public</font> MainWindow () </li><li>  { </li><li>  Initializecomponent (); </li><li>  xml = <font color="#2B91AF">XElement</font> .Load ( <font color="#A31515">@ ".. \ .. \ XMLFile1.xml"</font> ); </li><li>  } </li><li></li><li>  <font color="#008000">// This method is all the logic for specifying the data source to be displayed in the window</font> </li><li>  <font color="#0000ff">private</font> <font color="#0000ff">void</font> Change_DataSource ( <font color="#0000ff">object</font> sender, RoutedEventArgs e) </li><li>  { </li><li>  <font color="#0000ff">if</font> (rbDatabase.IsChecked == <font color="#0000ff">true</font> ) <font color="#008000">// Database is selected as a data source</font> </li><li>  { </li><li>  listBooks.ItemTemplate = <font color="#0000ff">null</font> ; </li><li>  treeStructure.ItemsSource = <font color="#0000ff">new</font> MyTestDbDataContext (). Categories.Where (n =&gt; n.ParrentCategoryId == <font color="#0000ff">null</font> ); </li><li>  treeStructure.ItemTemplate = (HierarchicalDataTemplate) FindResource ( <font color="#A31515">"key1"</font> ); </li><li>  <font color="#008000">// Customize Note Binding</font> </li><li>  DescriptionBinding (selectedNodeDescription, <font color="#A31515">"SelectedItem.Description"</font> , treeStructure); </li><li>  DescriptionBinding (selectedBookDescription, <font color="#A31515">"SelectedItem.Description"</font> , listBooks); </li><li>  <font color="#008000">// Set up the book display binding</font> </li><li>  Binding bind = <font color="#0000ff">new</font> Binding ( <font color="#A31515">"SelectedItem.Books"</font> ) {Source = treeStructure}; </li><li>  listBooks.SetBinding (ItemsControl.ItemsSourceProperty, bind); </li><li>  } </li><li>  <font color="#0000ff">else</font> <font color="#008000">// XML file is selected as a data source</font> </li><li>  { </li><li>  treeStructure.ItemsSource = xml.Elements ( <font color="#A31515">"Category"</font> ); </li><li>  treeStructure.ItemTemplate = (HierarchicalDataTemplate) FindResource ( <font color="#A31515">"key2"</font> ); </li><li>  <font color="#008000">// Customize Note Binding</font> </li><li>  DescriptionBinding (selectedNodeDescription, <font color="#A31515">"SelectedItem.Attribute [Description] .Value"</font> , treeStructure); </li><li>  DescriptionBinding (selectedBookDescription, <font color="#A31515">"SelectedItem.Attribute [Description] .Value"</font> , listBooks); </li><li>  <font color="#008000">// Set up the book display binding</font> </li><li>  listBooks.ItemTemplate = (DataTemplate) FindResource ( <font color="#A31515">"key3"</font> ); </li><li>  Binding bind = <font color="#0000ff">new</font> Binding ( <font color="#A31515">"SelectedItem.Elements [Book]"</font> ) {Source = treeStructure}; </li><li>  listBooks.SetBinding (ItemsControl.ItemsSourceProperty, bind); </li><li></li><li>  } </li><li>  } </li><li></li><li>  <font color="#008000">/// &lt;summary&gt;</font> </li><li>  <font color="#008000">/// Configure data mapping binding</font> </li><li>  <font color="#008000">/// &lt;/ summary&gt;</font> </li><li>  <font color="#008000">/// &lt;param name = "textBlock"&gt; A text object that should display the text of the note &lt;/ param&gt;</font> </li><li>  <font color="#008000">/// &lt;param name = "pathValue"&gt; Binding Path value &lt;/ param&gt;</font> </li><li>  <font color="#008000">/// &lt;param name = "source"&gt; link to the source object from which data is read through the Path property &lt;/ param&gt;</font> </li><li>  <font color="#0000ff">void</font> DescriptionBinding (TextBlock textBlock, <font color="#0000ff">string</font> pathValue, Control source) </li><li>  { </li><li>  textBlock.SetBinding (TextBlock. TextProperty, <font color="#0000ff">new</font> Binding (pathValue) {Source = source}); </li><li>  } </li><li>  } </li><li>  } </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><br>  Now you can run our application for execution and enjoy the results of work ... So, press the <b>F5</b> key and see what we have ... <br><br>  <b>A. The source is the database:</b> <br><br> <a title="Result when specifying a database as a data source" href=""><img src="https://habrastorage.org/storage/habraeffect/00/55/0055426121e0f5cb3664241b2ea0fb63.png"></a> <br><br>  <b>B. The source is an xml file:</b> <br><br> <a title="Result when specifying an XML file as a data source" href=""><img src="https://habrastorage.org/storage/habraeffect/37/ee/37ee83c5a576b1f6fe02a7142e3c5122.png"></a> <br><br>  Solution source code in MS Visual Studio 2010 format can be downloaded <a href="">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/94231/">https://habr.com/ru/post/94231/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../94224/index.html">Path to 10 Billion Tweets</a></li>
<li><a href="../94225/index.html">The European Commission plans to provide all Europeans with high-speed Internet access by 2020</a></li>
<li><a href="../94226/index.html">Event Reminder with HolidaySH</a></li>
<li><a href="../94228/index.html">KA4-TV: Issue # 21: Splinter Cell: Conviction</a></li>
<li><a href="../94230/index.html">Django and time zones</a></li>
<li><a href="../94238/index.html">QR code as the basis of the brand</a></li>
<li><a href="../94240/index.html">Rutracker.Org Addons: Firefox extension for Rutracker.Org</a></li>
<li><a href="../94241/index.html">Computer games 26 years ago</a></li>
<li><a href="../94245/index.html">Google AdWords Remarketing</a></li>
<li><a href="../94246/index.html">Dotted frame around links and keyboard navigation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>