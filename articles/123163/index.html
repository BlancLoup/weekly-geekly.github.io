<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Unhealthy minimalism: ide</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When programming in common lisp, the standard development environment is SLIME . Perhaps the only major flaw in SLIME is emacs, especially for vi fans...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Unhealthy minimalism: ide</h1><div class="post__text post__text-html js-mediator-article">  When programming in common lisp, the standard development environment is <a href="http://common-lisp.net/project/slime/">SLIME</a> .  Perhaps the only major flaw in SLIME is emacs, especially for vi fans.  Of course, there are crafts for vim, but vim itself is also not the height of minimalism. <br><br>  Under the cut is the minimum ide for interpretable media <s>without blackjack and whores</s> . <br><br><a name="habracut"></a><br>  What you need: <br><ul><li>  A quick acquaintance with tmux </li><li>  Tmux itself </li><li>  The interpreter program of your favorite PL </li></ul>  Who is familiar with the screen, but not familiar with tmux: <a href="http://tmux.svn.sourceforge.net/viewvc/tmux/trunk/FAQ">differences in the official FAQ</a> (EN), who is not familiar with either the screen or tmux: a <a href="http://www.openbsd.org/faq/faq7.html">mini tmux introduction</a> .  For those who do not like English - <a href="http://ru.wikipedia.org/wiki/Tmux">wikipedia</a> (RU). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote>  - What's wrong with the screen? <br>  ‚ÄúBy the fact that it is GNU and besides it cannot divide the window vertically.‚Äù </blockquote><br><h2>  Concept </h2><br>  The main problem of working with a clean interpreter is that you must save the code in some way (provided that it does not do it for you).  It is solved quite simply: <br><ol><li>  open terminal with interpreter </li><li>  open text editor </li><li>  typing code in the editor </li><li>  we copy in the terminal </li><li>  see the result, rejoice / grieve </li></ol>  The code is saved in the editor.  So you can live, but sad.  It would be necessary to automate.  We use tmux, and to help him write a couple of simple scripts. <br><br><h2>  Implementation </h2><br><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/sh #  ide interpreter="sbcl" windowname="ide" ide_running=`tmux list-windows | grep "$windowname"` if [ "$TMUX" ]; then if [ "$ide_running" ]; then tmux select-window -t "$windowname" else tmux rename-window "$windowname" \; split-window -dhp 40 "$interpreter" fi else if [ "$ide_running" ]; then tmux attach-session \; select-window -t "$windowname" elif tmux has-session &gt;/dev/null 2&gt;&amp;1; then tmux attach-session \; new-window -n "$windowname" \; split-window -dhp 40 "$interpreter" else tmux new-session -n "$windowname" \; split-window -dhp 40 "$interpreter" fi fi</span></span></code> </pre> <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/sh #  idepipe tmpfile=`mktemp /tmp/tmuxbuffer.XXXXXX` tee $tmpfile tmux load-buffer $tmpfile &gt;/dev/null 2&gt;&amp;1 tmux paste-buffer -dt 1 &gt;/dev/null 2&gt;&amp;1 rm -f $tmpfile</span></span></code> </pre><br>  The first script starts / restores the tmux session with the ide window and two panels.  In the left console, in the right - the interpreter from the $ interpreter variable.  In the console, run your favorite text editor.  On BSD vi systems, the default clone is nvi.  It fits, and run it. <br><br> <a href=""><img src="http://a13.in/4/g676.png"></a> <br><br>  The second script is a filter.  The code for the interpreter is fed to the standard input, the output is written to the interpreter window and to the standard output.  Standard output is necessary for vi, without it all your precious code will be <s>permanently</s> erased from the buffer. <br><br><h2>  Examples </h2><br><h4>  Common lisp </h4><br>  Put the scripts in $ PATH, run ide.  In the text editor vi, type arbitrary code.  When it looks quality enough, type the command <code>:%!idepipe</code> .  For those who are not familiar with vi, it should be clarified: the colon starts the command, <code>%</code> means the entire file, <code>idepipe</code> name of the filter.  In human language, it will sound like this: output the entire buffer to the input of the <code>idepipe</code> and overwrite the entire buffer with what we get at the output.  It's clear that we don‚Äôt want to change the code, so <code>tee</code> used inside the <code>idepipe</code> .  If everything worked out as planned, then the interpreter window will contain all the desired code, as well as the result of its execution.  To execute all the code, the last line in the file must be empty, otherwise you need to press enter in the interpreter window yourself. <br><br> <a href=""><img src="http://a13.in/4/5515.png"></a> <br><br>  In addition to the <code>%</code> sign, you can use many more address symbols.  Thus, only part of the code (which has been changed) can be sent to the interpreter, without the need to re-digest the entire file. <br><blockquote>  <code>:10,30!idepipe</code> - interpret everything between 10 and 30 lines, inclusive <br>  <code>(!)idepipe</code> (without a colon) - interpret one lisp block </blockquote>  Moreover, there is no need to type these commands every time, it is enough to put them down once. <blockquote>  <code>:map {ctrl-v}{F3} {ctrl-v}{esc}(!)idepipe{ctrl-v}{enter}</code> - we interpret the code block by pressing F3 <br>  <code>:map {ctrl-v}{F5} {ctrl-v}{esc}:%!idepipe{ctrl-v}{enter}</code> - we interpret the entire file by pressing F5 <br>  In place of curly brackets, you must press the corresponding key <br>  Both commands operate including from edit mode. </blockquote><blockquote>  - And will work with other interpreters. <br>  - Should work with any REPL environments (Read Eval Print Loop).  Check out a couple more. </blockquote><br><h4>  Python </h4><br> <a href=""><img src="http://a13.in/4/tprk.png"></a> <br>  Python I run for the first time, so the code is not too tricky, but it works. <br><br><h4>  Shell </h4><br> <a href=""><img src="http://a13.in/4/tkow.png"></a> <br><br>  In addition, mysql, irb, and others should work. <br><blockquote>  - It looks good, but I still want cards and girls. <br>  - No problem.  Add a mega feature. </blockquote><br><h2>  Mega feature </h2><br>  First, let's change the idepipe script. <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/sh #  idepipe tmpfile=`mktemp /tmp/tmuxbuffer.XXXXXX` tee $tmpfile tmux load-buffer $tmpfile &gt;/dev/null 2&gt;&amp;1 tmux paste-buffer -t 1 &gt;/dev/null 2&gt;&amp;1 tmux paste-buffer -t 2 &gt;/dev/null 2&gt;&amp;1 tmux paste-buffer -dt 3 &gt;/dev/null 2&gt;&amp;1 rm -f $tmpfile</span></span></code> </pre>  Wow, two new lines.  What kind of minimalism is there?  What makes this change?  Everything is very simple: instead of one interpreter, we can send the code to three at once.  To the unspoken question ‚Äúwhy?‚Äù The answer is very simple: different implementations of the common lisp language have incompatibilities.  Checking the code in three interpreters at once - we kill <s>two</s> three birds with one stone. <br><br>  <sub>disclaimer: <code>idepipe</code> written without any kind of fool protection, so to avoid the strange behavior of tmux, you must manually create two additional panels on the ide window and run interpreters in them.</sub>  <sub>The number of interpreter panels (as can be seen from the script) should be 1, 2 and 3.</sub> <br><br> <a href=""><img src="http://a13.in/4/ahg0.png"></a> <br><br>  So, the moment X. <code>(!)idepipe</code> familiar command <code>(!)idepipe</code> on one of the functions and observe the execution of the code in three different interpreters.  This is WAY cool!  We will limit ourselves to one feature, minimalism demands. <br><br> <a href=""><img src="http://a13.in/4/egok.png"></a> <br><br><h4>  A portion of unhealthy minimalism </h4><br>  Geoff's favorite text editor tr - ed.  Who would have thought that ed was suitable for this article, and in fact was suitable.  He and the minimum, and the text in the pipe can transfer.  What else is needed for happiness?  We execute 12,13w! Idepipe and the result appears in all panels. <br><br> <a href=""><img src="http://a13.in/4/yebc.png"></a> <br><br><h4>  Thanks </h4>  I got the original idea from <a href="https://github.com/jpalardy/vim-slime">the vim plugin</a> . </div><p>Source: <a href="https://habr.com/ru/post/123163/">https://habr.com/ru/post/123163/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../123157/index.html">How to distribute invites on Google+</a></li>
<li><a href="../123159/index.html">Hiccuper - Reviews on everything in the world</a></li>
<li><a href="../123160/index.html">Google+ for Android</a></li>
<li><a href="../123161/index.html">New Gmail Design</a></li>
<li><a href="../123162/index.html">Modular transport system or 1 wheel per person</a></li>
<li><a href="../123164/index.html">The greatest threat - employees</a></li>
<li><a href="../123167/index.html">Dream office for a small team of social game developers</a></li>
<li><a href="../123168/index.html">What do monks have in common with optical text recognition and goat cheese?</a></li>
<li><a href="../123169/index.html">NskConf Developer Conference</a></li>
<li><a href="../123177/index.html">Thermaltake - inside view</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>