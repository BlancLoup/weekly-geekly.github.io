<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>WPF Binding: The Power of Styles and Templates in WPF.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In WPF, there is a very clear separation between Control's behavior and how it looks. For example, the behavior of the object of the Button class is t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>WPF Binding: The Power of Styles and Templates in WPF.</h1><div class="post__text post__text-html js-mediator-article">  In WPF, there is a very clear separation between Control's behavior and how it looks.  For example, the behavior of the object of the Button class is to respond to various events with a click, but it can be any kind - you can make a button in the form of an arrow, a fish, or something else that is suitable for your application.  Redefining the Control display is very simple when using VS with styles and templates, and even easier if you have Microsoft Expression Blend.  In this example, I will show you how to override the ListBox mapping that is used to display a list of planets. <br><a name="habracut"></a><br>  I decided to start by creating a data source with planets and the sun.  I defined the class ‚ÄúSolarSystemObject‚Äù with the following properties: Name, Orbit, Diameter, Image and Details.  I overloaded the ToString () method in this class so that it returns the name of the object of the solar system.  Then I added the class ‚ÄúSolarSystem‚Äù with the property ‚ÄúSolarSystemObjects‚Äù with type ObservableCollection.  In the SolarSystem class constructor, I added the sun and nine planets to the SolarSystemObjects collection. <br><br>  As soon as I identified the data source, I was ready to add to the main ListBox window that was associated with this collection: <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">Window.Resources</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">local:SolarSystem</font> <font color="#ff0000">x:Key</font> =‚Äù <font color="#ff0000">solarSystem</font> ‚Äù <font color="#0000ff">/&gt;</font> (‚Ä¶) <font color="#0000ff">&lt;/</font> <font color="#800000">Window.Resources</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">ListBox</font> <font color="#ff0000">ItemsSource</font> =‚Äù{ <font color="#ff0000">Binding</font> <font color="#ff0000">Source</font> ={ <font color="#ff0000">StaticResource</font> <font color="#ff0000">solarSystem</font> }, <font color="#ff0000">Path</font> = <font color="#ff0000">SolarSystemObjects</font> }‚Äù <font color="#0000ff">/&gt;</font></font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <ol><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">&lt;</font> <font color="#800000">Window.Resources</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">local:SolarSystem</font> <font color="#ff0000">x:Key</font> =‚Äù <font color="#ff0000">solarSystem</font> ‚Äù <font color="#0000ff">/&gt;</font> (‚Ä¶) <font color="#0000ff">&lt;/</font> <font color="#800000">Window.Resources</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">ListBox</font> <font color="#ff0000">ItemsSource</font> =‚Äù{ <font color="#ff0000">Binding</font> <font color="#ff0000">Source</font> ={ <font color="#ff0000">StaticResource</font> <font color="#ff0000">solarSystem</font> }, <font color="#ff0000">Path</font> = <font color="#ff0000">SolarSystemObjects</font> }‚Äù <font color="#0000ff">/&gt;</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">&lt;</font> <font color="#800000">Window.Resources</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">local:SolarSystem</font> <font color="#ff0000">x:Key</font> =‚Äù <font color="#ff0000">solarSystem</font> ‚Äù <font color="#0000ff">/&gt;</font> (‚Ä¶) <font color="#0000ff">&lt;/</font> <font color="#800000">Window.Resources</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">ListBox</font> <font color="#ff0000">ItemsSource</font> =‚Äù{ <font color="#ff0000">Binding</font> <font color="#ff0000">Source</font> ={ <font color="#ff0000">StaticResource</font> <font color="#ff0000">solarSystem</font> }, <font color="#ff0000">Path</font> = <font color="#ff0000">SolarSystemObjects</font> }‚Äù <font color="#0000ff">/&gt;</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">&lt;</font> <font color="#800000">Window.Resources</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">local:SolarSystem</font> <font color="#ff0000">x:Key</font> =‚Äù <font color="#ff0000">solarSystem</font> ‚Äù <font color="#0000ff">/&gt;</font> (‚Ä¶) <font color="#0000ff">&lt;/</font> <font color="#800000">Window.Resources</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">ListBox</font> <font color="#ff0000">ItemsSource</font> =‚Äù{ <font color="#ff0000">Binding</font> <font color="#ff0000">Source</font> ={ <font color="#ff0000">StaticResource</font> <font color="#ff0000">solarSystem</font> }, <font color="#ff0000">Path</font> = <font color="#ff0000">SolarSystemObjects</font> }‚Äù <font color="#0000ff">/&gt;</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">&lt;</font> <font color="#800000">Window.Resources</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">local:SolarSystem</font> <font color="#ff0000">x:Key</font> =‚Äù <font color="#ff0000">solarSystem</font> ‚Äù <font color="#0000ff">/&gt;</font> (‚Ä¶) <font color="#0000ff">&lt;/</font> <font color="#800000">Window.Resources</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">ListBox</font> <font color="#ff0000">ItemsSource</font> =‚Äù{ <font color="#ff0000">Binding</font> <font color="#ff0000">Source</font> ={ <font color="#ff0000">StaticResource</font> <font color="#ff0000">solarSystem</font> }, <font color="#ff0000">Path</font> = <font color="#ff0000">SolarSystemObjects</font> }‚Äù <font color="#0000ff">/&gt;</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">&lt;</font> <font color="#800000">Window.Resources</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">local:SolarSystem</font> <font color="#ff0000">x:Key</font> =‚Äù <font color="#ff0000">solarSystem</font> ‚Äù <font color="#0000ff">/&gt;</font> (‚Ä¶) <font color="#0000ff">&lt;/</font> <font color="#800000">Window.Resources</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">ListBox</font> <font color="#ff0000">ItemsSource</font> =‚Äù{ <font color="#ff0000">Binding</font> <font color="#ff0000">Source</font> ={ <font color="#ff0000">StaticResource</font> <font color="#ff0000">solarSystem</font> }, <font color="#ff0000">Path</font> = <font color="#ff0000">SolarSystemObjects</font> }‚Äù <font color="#0000ff">/&gt;</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> </ol> <code><font color="gray"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">Window.Resources</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">local:SolarSystem</font> <font color="#ff0000">x:Key</font> =‚Äù <font color="#ff0000">solarSystem</font> ‚Äù <font color="#0000ff">/&gt;</font> (‚Ä¶) <font color="#0000ff">&lt;/</font> <font color="#800000">Window.Resources</font> <font color="#0000ff">&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">ListBox</font> <font color="#ff0000">ItemsSource</font> =‚Äù{ <font color="#ff0000">Binding</font> <font color="#ff0000">Source</font> ={ <font color="#ff0000">StaticResource</font> <font color="#ff0000">solarSystem</font> }, <font color="#ff0000">Path</font> = <font color="#ff0000">SolarSystemObjects</font> }‚Äù <font color="#0000ff">/&gt;</font></font> * This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  And so, the ListBox displays the planets, but visually it still looks somewhat rustic: <br><div style="text-align:center;"><img src="http://www.beacosta.com/uploaded_images/37PlanetsListBox1.PNG"></div><br><br>  At this stage, I began to think about how to map the planets in the most realistic way - my goal was to achieve a display similar to the solar system diagrams in school books.  The first step was to change the layout of ListBoxItem.  The standard layout for ListBox is StackPanel, which causes ListBoxItem to appear one after another (to be more precise, this is VirtualizingStackPanel, which adds virtualization to the traditional StackPanel).  In order to display the planets the way I want, I need a Canvas, which allows me to position elements in it according to a certain number of pixels to the left and on top of the borders of this Canvas.  The ListBox has an ItemsPanel property of type ItemsPanelTemplate that can be used to change the layout of a ListBox, as is done in my example.  This is how I did it: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Style</font> <font color="#ff0000">TargetType</font> = ‚Äù <font color="#ff0000">ListBox</font> ‚Äù <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Setter</font> <font color="#ff0000">Property</font> = ‚Äù <font color="#ff0000">ItemsPanel</font> ‚Äù <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Setter.Value</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">ItemsPanelTemplate</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Canvas</font> <font color="#ff0000">Width</font> = ‚Äù <font color="#ff0000">590</font> ?  <font color="#ff0000">Height</font> = ‚Äù <font color="#ff0000">590</font> ?  <font color="#ff0000">Background</font> = " <font color="#ff0000">Black</font> " <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">ItemsPanelTemplate</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Setter.Value</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Setter</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Style</font> <font color="#0000ff">&gt;</font> </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br>  My next step was to define the mapping of each planet.  I did this using a DataTemplate.  I decided to represent each planet with its image and white ellipse, imitating its orbit around the sun.  I also added a hint with detailed information about the planet, which appears when the cursor is over the planet. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">&lt;</font> <font color="#800000">DataTemplate</font> <font color="#ff0000">DataType</font> <font color="#0000ff">= "{x: Type local: SolarSObject}"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Canvas</font> <font color="#ff0000">Width</font> <font color="#0000ff">= "20"</font> <font color="#ff0000">Height</font> <font color="#0000ff">= "20"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Ellipse</font> </li><li>  <font color="#ff0000">Canvas</font> .  <font color="#ff0000">Left</font> <font color="#0000ff">= "{Binding Path = Orbit, Converter = {StaticResource convertOrbit}, ConverterParameter = -1.707}"</font> </li><li>  <font color="#ff0000">Canvas</font> .  <font color="#ff0000">Top</font> <font color="#0000ff">= "{Binding Path = Orbit, Converter = {StaticResource convertOrbit}, ConverterParameter = -0.293}"</font> </li><li>  <font color="#ff0000">Width</font> <font color="#0000ff">= "{Binding Path = Orbit, Converter = {StaticResource convertOrbit}, ConverterParameter = 2}"</font> </li><li>  <font color="#ff0000">Height</font> <font color="#0000ff">= "{Binding Path = Orbit, Converter = {StaticResource convertOrbit}, ConverterParameter = 2}"</font> </li><li>  <font color="#ff0000">Stroke</font> <font color="#0000ff">= "White"</font> </li><li>  <font color="#ff0000">StrokeThickness</font> <font color="#0000ff">= "1"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Image</font> <font color="#ff0000">Source</font> <font color="#0000ff">= "{Binding Path = Image}"</font> <font color="#ff0000">Width</font> <font color="#0000ff">= "20"</font> <font color="#ff0000">Height</font> <font color="#0000ff">= "20"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Image.ToolTip</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">StackPanel</font> <font color="#ff0000">Width</font> <font color="#0000ff">= "250"</font> <font color="#ff0000">TextBlock</font> .  <font color="#ff0000">FontSize</font> <font color="#0000ff">= "12"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">TextBlock</font> <font color="#ff0000">FontWeight</font> <font color="#0000ff">= "Bold"</font> <font color="#ff0000">Text</font> <font color="#0000ff">= "{Binding Path = Name}"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">StackPanel</font> <font color="#ff0000">Orientation</font> <font color="#0000ff">= "Horizontal"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">TextBlock</font> <font color="#ff0000">Text</font> <font color="#0000ff">= "Orbit:"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">TextBlock</font> <font color="#ff0000">Text</font> <font color="#0000ff">= "{Binding Path = Orbit}"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">TextBlock</font> <font color="#ff0000">Text</font> <font color="#0000ff">= "AU"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">StackPanel</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">TextBlock</font> <font color="#ff0000">Text</font> <font color="#0000ff">= "{Binding Path = Details}"</font> <font color="#ff0000">TextWrapping</font> <font color="#0000ff">= "Wrap"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">StackPanel</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Image.ToolTip</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Image</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Canvas</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">DataTemplate</font> <font color="#0000ff">&gt;</font> </li><li></li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Style</font> <font color="#ff0000">TargetType</font> <font color="#0000ff">= "ListBoxItem"</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Setter</font> <font color="#ff0000">Property</font> <font color="#0000ff">= "Canvas.Left"</font> <font color="#ff0000">Value</font> <font color="#0000ff">= "{Binding Path = Orbit, Converter = {StaticResource convertOrbit}, ConverterParameter = 0.707}"</font> <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Setter</font> <font color="#ff0000">Property</font> <font color="#0000ff">= "Canvas. Bottom"</font> <font color="#ff0000">Value</font> <font color="#0000ff">= "{Binding Path = Orbit, Converter = {StaticResource convertOrbit}, ConverterParameter = 0.707}"</font> <font color="#0000ff">/&gt;</font> </li><li>  (...) </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Style</font> <font color="#0000ff">&gt;</font> </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br>  As you can see in the template and style above, the properties that determine the position of the ListBoxItem and the position and size of Ellips are based on the orbit of the planet and all use the same converter, only with different parameters.  The task of the converter is to convert the distances between the objects of the solar system into the distances inside the Canvas in pixels.  My first implementation of this converter simply multiplied the value of the orbit by a constant, but I found that the inner planets were very closely spaced to each other.  Therefore, I decided to slightly change the calculation to make it nonlinear.  I also decided that the converter would take a certain parameter that would scale the final result by some value so that I could use this logic many times. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">public</font> <font color="#0000ff">class</font> ConvertOrbit: IValueConverter </li><li>  { </li><li>  <font color="#0000ff">public</font> <font color="#0000ff">object</font> <font color="#2B91AF">Convert</font> ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, CultureInfo culture) </li><li>  { </li><li>  <font color="#0000ff">double</font> orbit = ( <font color="#0000ff">double</font> ) <font color="#0000ff">value</font> ; </li><li>  <font color="#0000ff">double</font> factor = System.  <font color="#2B91AF">Convert</font> .ToDouble (Parameter); </li><li>  <font color="#0000ff">return</font> <font color="#2B91AF">Math</font> .Pow (orbit / 40, 0.4) * 770 * factor; </li><li>  } </li><li></li><li>  <font color="#0000ff">public</font> <font color="#0000ff">object</font> ConvertBack ( <font color="#0000ff">object</font> <font color="#0000ff">value</font> , Type targetType, <font color="#0000ff">object</font> parameter, CultureInfo culture) </li><li>  { </li><li>  <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotSupportedException ("This method should never be called"); </li><li>  } </li><li>  } </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br>  If you start the application now, you will see that all the planets are correctly located in relation to the sun.  If you hover your mouse over them, you will get more detailed information about the planet.  If you click on the planet, the standard ListBoxItem template will assign a blue background to the selected item, which looks like a small frame around the item.  This is not the effect that I would like to see, so I decided to change the presentation of the selected element. <br>  To change this style, I think it would be easier to use Microsoft Expression Blend to look at the standard template and then redo it the way you want it.  I started by selecting the ListBox in Blend, then I proceeded to the ‚ÄúObject‚Äù menu, selected ‚ÄúEdit Other Styles‚Äù, ‚ÄúEdit ItemContainerStyle‚Äù and then ‚ÄúEdit a Copy‚Äù.  Then I set a name for the template and clicked on ‚ÄúOK‚Äù.  If at this stage you follow the ‚ÄúXAML‚Äù tab, then you will see the full standard style for ListBoxItem, which includes the following template: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Setter</font> <font color="#ff0000">Property</font> = ‚Äù <font color="#ff0000">Template</font> ‚Äù <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Setter.Value</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">ControlTemplate</font> <font color="#ff0000">TargetType</font> = ‚Äù{ <font color="#ff0000">x: Type</font> <font color="#ff0000">ListBoxItem</font> }‚Äù <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Border</font> <font color="#ff0000">SnapsToDevicePixels</font> = ‚Äù <font color="#ff0000">true</font> ‚Äù <font color="#ff0000">x: Name</font> = ‚Äù <font color="#ff0000">Bd</font> ‚Äù <font color="#ff0000">Background</font> = ‚Äù{ <font color="#ff0000">TemplateBinding</font> <font color="#ff0000">Background</font> }‚Äù ‚Äù <font color="#ff0000">BorderBrush</font> =‚Äù { <font color="#ff0000">TemplateBinding</font> <font color="#ff0000">BorderBrush</font> } ‚Äù <font color="#ff0000">BorderThickness</font> =‚Äù { <font color="#ff0000">TemplateBinding</font> <font color="#ff0000">BorderThickness</font> } ‚Äù <font color="#ff0000">Padding</font> =‚Äù { <font color="#ff0000">TemplateBinding</font> <font color="#ff0000">Padding</font> } ‚Äù <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">ContentPresenter</font> <font color="#ff0000">SnapsToDevicePixels</font> = ‚Äù{ <font color="#ff0000">TemplateBinding</font> <font color="#ff0000">SnapsToDevicePixels</font> }‚Äù <font color="#ff0000">HorizontalAlignment</font> = ‚Äù{ <font color="#ff0000">TemplateBinding</font> <font color="#ff0000">HorizontalContentAlignment</font> }‚Äù <font color="#ff0000">VerticalAlignment</font> = ‚Äù{ <font color="#ff0000">TemplateBinding</font> <font color="#ff0000">VerticalContentAlignment</font> }‚Äù <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Border</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">ControlTemplate.Triggers</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Trigger</font> <font color="#ff0000">Property</font> = ‚Äù <font color="#ff0000">IsSelected</font> ‚Äù <font color="#ff0000">Value</font> = ‚Äù <font color="#ff0000">true</font> ‚Äù <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Setter</font> <font color="#ff0000">Property</font> = ‚Äù <font color="#ff0000">Background</font> ‚Äù <font color="#ff0000">TargetName</font> = ‚Äù <font color="#ff0000">Bd</font> ‚Äù <font color="#ff0000">Value</font> = ‚Äù{ <font color="#ff0000">DynamicResource</font> { <font color="#ff0000">x: Static</font> <font color="#ff0000">SystemColors</font> .  <font color="#ff0000">HighlightBrushKey</font> }} ‚Äù <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Setter</font> <font color="#ff0000">Property</font> = ‚Äù <font color="#ff0000">Foreground</font> ‚Äù <font color="#ff0000">Value</font> = ‚Äù{ <font color="#ff0000">DynamicResource</font> { <font color="#ff0000">x: Static</font> <font color="#ff0000">SystemColors</font> .  <font color="#ff0000">HighlightTextBrushKey</font> }} ‚Äù <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Trigger</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">MultiTrigger</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">MultiTrigger.Conditions</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Condition</font> <font color="#ff0000">Property</font> = ‚Äù <font color="#ff0000">IsSelected</font> ‚Äù <font color="#ff0000">Value</font> = ‚Äù <font color="#ff0000">true</font> ‚Äù <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Condition</font> <font color="#ff0000">Property</font> = ‚Äù <font color="#ff0000">Selector</font> .  <font color="#ff0000">IsSelectionActive</font> ‚Äù <font color="#ff0000">Value</font> =‚Äù <font color="#ff0000">false</font> ‚Äù <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">MultiTrigger.Conditions</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Setter</font> <font color="#ff0000">Property</font> = ‚Äù <font color="#ff0000">Background</font> ‚Äù <font color="#ff0000">TargetName</font> = ‚Äù <font color="#ff0000">Bd</font> ‚Äù <font color="#ff0000">Value</font> = ‚Äù{ <font color="#ff0000">DynamicResource</font> { <font color="#ff0000">x: Static</font> <font color="#ff0000">SystemColors</font> .  <font color="#ff0000">ControlBrushKey</font> }} ‚Äù <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Setter</font> <font color="#ff0000">Property</font> = ‚Äù <font color="#ff0000">Foreground</font> ‚Äù <font color="#ff0000">Value</font> = ‚Äù{ <font color="#ff0000">DynamicResource</font> { <font color="#ff0000">x: Static</font> <font color="#ff0000">SystemColors</font> .  <font color="#ff0000">ControlTextBrushKey</font> }} ‚Äù <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">MultiTrigger</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Trigger</font> <font color="#ff0000">Property</font> = ‚Äù <font color="#ff0000">IsEnabled</font> ‚Äù <font color="#ff0000">Value</font> = ‚Äù <font color="#ff0000">false</font> ‚Äù <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Setter</font> <font color="#ff0000">Property</font> = ‚Äù <font color="#ff0000">Foreground</font> ‚Äù <font color="#ff0000">Value</font> = ‚Äù{ <font color="#ff0000">DynamicResource</font> { <font color="#ff0000">x: Static</font> <font color="#ff0000">SystemColors</font> .  <font color="#ff0000">GrayTextBrushKey</font> }} ‚Äù <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Trigger</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">ControlTemplate.Triggers</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">ControlTemplate</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Setter.Value</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Setter</font> <font color="#0000ff">&gt;</font> </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br>  Using it as a basis, I created a simple template that adds a yellow ellipse around the selected planet: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Style</font> <font color="#ff0000">TargetType</font> = ‚Äù <font color="#ff0000">ListBoxItem</font> ‚Äù <font color="#0000ff">&gt;</font> </li><li>  (...) </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Setter</font> <font color="#ff0000">Property</font> = ‚Äù <font color="#ff0000">Template</font> ‚Äù <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Setter.Value</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">ControlTemplate</font> <font color="#ff0000">TargetType</font> = ‚Äù{ <font color="#ff0000">x: Type</font> <font color="#ff0000">ListBoxItem</font> }‚Äù <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Grid</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Ellipse</font> <font color="#ff0000">x: Name</font> = ‚Äù <font color="#ff0000">selectedPlanet</font> ‚Äù <font color="#ff0000">Margin</font> = ‚Äù <font color="#ff0000">-10</font> ‚Äù <font color="#ff0000">StrokeThickness</font> = ‚Äù <font color="#ff0000">2</font> ‚Äù <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">ContentPresenter</font> <font color="#ff0000">SnapsToDevicePixels</font> = ‚Äù{ <font color="#ff0000">TemplateBinding</font> <font color="#ff0000">SnapsToDevicePixels</font> }‚Äù </li><li>  <font color="#ff0000">HorizontalAlignment</font> = ‚Äù{ <font color="#ff0000">TemplateBinding</font> <font color="#ff0000">HorizontalContentAlignment</font> }‚Äù </li><li>  <font color="#ff0000">VerticalAlignment</font> = ‚Äù{ <font color="#ff0000">TemplateBinding</font> <font color="#ff0000">VerticalContentAlignment</font> }‚Äù <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Grid</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">ControlTemplate.Triggers</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Trigger</font> <font color="#ff0000">Property</font> = ‚Äù <font color="#ff0000">IsSelected</font> ‚Äù <font color="#ff0000">Value</font> = ‚Äù <font color="#ff0000">true</font> ‚Äù <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;</font> <font color="#800000">Setter</font> <font color="#ff0000">Property</font> = ‚Äù <font color="#ff0000">Stroke</font> ‚Äù <font color="#ff0000">TargetName</font> = ‚Äù <font color="#ff0000">selectedPlanet</font> ‚Äù <font color="#ff0000">Value</font> = ‚Äù <font color="#ff0000">Yellow</font> ‚Äù <font color="#0000ff">/&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Trigger</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">ControlTemplate.Triggers</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">ControlTemplate</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Setter.Value</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Setter</font> <font color="#0000ff">&gt;</font> </li><li>  <font color="#0000ff">&lt;/</font> <font color="#800000">Style</font> <font color="#0000ff">&gt;</font> </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br>  The following screenshot shows the final version of the application.  If you hover your mouse over a picture of the planet, you will receive more detailed information about it.  If you click on the planet, a yellow ellipse surrounds the planet. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="http://www.beacosta.com/uploaded_images/37PlanetsListBox2.PNG"></div><br>  <a href="">Here</a> you can find a project for Visual Studio with the code that was used in the article. </div><p>Source: <a href="https://habr.com/ru/post/43474/">https://habr.com/ru/post/43474/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../434730/index.html">In-memory databases: application, scaling and important additions</a></li>
<li><a href="../434732/index.html">Life at 6200 DPI. HyperX Pulsefire Core Review</a></li>
<li><a href="../434734/index.html">Fourier transform. The fast and the furious</a></li>
<li><a href="../434736/index.html">Using the Mikrotik log database to suppress brute force</a></li>
<li><a href="../434738/index.html">Learning with reinforcement in Python</a></li>
<li><a href="../434740/index.html">The neural network was taught to detect solar panels on satellite images and predict their level of distribution.</a></li>
<li><a href="../434742/index.html">Part 2: Using Cypress UDB PSoC Controllers to Reduce the Number of Interrupts in a 3D Printer</a></li>
<li><a href="../434744/index.html">Samsung SSD 860 QVO 1 TB and 4 TB: the first consumer SATA QLC (part 2)</a></li>
<li><a href="../434746/index.html">BLE under the microscope 4</a></li>
<li><a href="../434748/index.html">Mail.ru plans to buy music licensing partner for $ 100 million</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>