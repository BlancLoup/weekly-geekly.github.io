<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>JavaScript: includes vs indexOf</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Starting with ECMAScript 2016, a new includes method for working with arrays has appeared in JavaScript. At its core, it is very much like indexOf. In...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>JavaScript: includes vs indexOf</h1><div class="post__text post__text-html js-mediator-article">  Starting with ECMAScript 2016, a new includes method for working with arrays has appeared in JavaScript.  At its core, it is very much like indexOf.  In this article I want to consider in more detail why the etod method was introduced and how it differs from indexOf. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b11/83a/dba/b1183adba473bb543c3a9a5797553797.png" alt="image"><br><a name="habracut"></a><br><h3>  Arrays </h3><br>  So, the Array.prototype.includes method determines whether the required value is in the array and returns <i>true</i> or <i>false</i> .  Thus, unlike indexOf, which returns an integer, includes returns a boolean value.  This innovation will help developers write cleaner and cleaner code. <br><br>  For example, here is a standard example of checking whether an element is contained in an array using indexOf: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> numbers = [<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">23</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (numbers.indexOf(<span class="hljs-number"><span class="hljs-number">1</span></span>) !== <span class="hljs-number"><span class="hljs-number">-1</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br>  Using includes, you can write the same thing like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> numbers = [<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">23</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (numbers.includes(<span class="hljs-number"><span class="hljs-number">1</span></span>)) { <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre><br>  Also, when introducing this method, some non-obvious features that were noticed when working with indexOf were taken into account.  With regard to <i>NaN</i> values, the behavior of this method is different. <br><br>  Consider an example: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> numbers = [<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">23</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-literal"><span class="hljs-literal">NaN</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (numbers.indexOf(<span class="hljs-literal"><span class="hljs-literal">NaN</span></span>) !== <span class="hljs-number"><span class="hljs-number">-1</span></span>) { <span class="hljs-comment"><span class="hljs-comment">//     } if (numbers.includes(NaN)) { //    }</span></span></code> </pre><br>  Thus, indexOf ( <i>NaN</i> ) always returns -1, regardless of whether this value is contained in an array, and includes ( <i>NaN</i> ) returns <i>true</i> or <i>false</i> , depending on whether this element is in the array or not. <br><br><h3>  Performance </h3><br>  The performance evaluation of javascript methods is not so obvious because, in fact, in different browsers the same function can be implemented differently depending on the language of the browser itself.  In addition, a lot depends on the computer on which this assessment is made.  But, nevertheless, I tried to do a little analysis. <br><br>  I created an array of 10,000 positive integers and used the site <a href="http://jsbench.github.io/">jsbench.github.io</a> for analysis.  In both cases, for the purity of the experiment, the same array was used.  The assessment was made in browsers Chrome 53 and Firefox 48. <br><br><table><tbody><tr><th colspan="3">  Chrome </th></tr><tr><td></td><td>  includes </td><td>  indexOf </td></tr><tr><th>  there is an element <br>  in the middle of the array </th><td>  8.361 ops / sec ¬± 0.38% </td><td>  31.296 ops / sec ¬± 0.65% </td></tr><tr><th>  there is an element <br>  at the beginning of the array </th><td>  22.043.904 ops / sec ¬± 1.89% </td><td>  136,512,737 ops / sec ¬± 2.06% </td></tr><tr><th>  required element <br>  no in array </th><td>  4,018 ops / sec ¬± 0.71% </td><td>  95,221 ops / sec ¬± 0.53% </td></tr></tbody></table><br><table><tbody><tr><th colspan="3">  Firefox </th></tr><tr><td></td><td>  includes </td><td>  indexOf </td></tr><tr><th>  there is an element <br>  in the middle of the array </th><td>  84.880 ops / sec ¬± 0.59% </td><td>  86,612 ops / sec ¬± 1.35% </td></tr><tr><th>  there is an element <br>  at the beginning of the array </th><td>  34,087,623 ops / sec ¬± 0.99% </td><td>  33,196,839 ops / sec ¬± 0.84% </td></tr><tr><th>  required element <br>  no in array </th><td>  25,253 ops / sec ¬± 2.75% </td><td>  14.994 ops / sec ¬± 1.16% </td></tr></tbody></table><br>  It turns out that in Chrome indexOf always works faster, and in Firefox there is practically no tangible difference (except for the case when there is no required element in the array).  And the behavior of the new method in Firefox seems more logical, since, in general, indexOf and includes should have the same computational complexity in logic. <br><br><h3>  Strings </h3><br>  A similar method was added to work with strings since ECMAScript 2015. Earlier in Firefox in versions 18 to 39, this method existed under the name of contains, however, due to compatibility issues, it was renamed includes (). <br><br>  In conclusion, it should be noted that this method is not yet supported by all browsers. <br><table><tbody><tr><th>  Browser </th><th>  Array </th><th>  Strings </th></tr><tr><th>  Chrome </th><td>  47 </td><td>  41 </td></tr><tr><th>  Firefox </th><td>  43 </td><td>  40 </td></tr><tr><th>  IE </th><td>  not </td><td>  not </td></tr><tr><th>  Opera </th><td>  34 </td><td>  not </td></tr><tr><th>  Safari </th><td>  9 </td><td>  9 </td></tr></tbody></table></div><p>Source: <a href="https://habr.com/ru/post/313374/">https://habr.com/ru/post/313374/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../313356/index.html">Add disk space for a Linux ‚Äì server in the Azure Pack Infrastructure cloud, and at the same time, we are working with LVM</a></li>
<li><a href="../313364/index.html">Experience in building and operating large file storage</a></li>
<li><a href="../313366/index.html">Sharding - patterns and antipatterns</a></li>
<li><a href="../313370/index.html">Elements of functional programming in C ++: partial application</a></li>
<li><a href="../313372/index.html">Elections 2016. Part 2 is amazing nearby and it is allowed</a></li>
<li><a href="../313376/index.html">Soviet "Elbrus" - an overview of the architecture</a></li>
<li><a href="../313380/index.html">learnopengl. Lesson 1.5 - Shaders</a></li>
<li><a href="../313382/index.html">Virtual server with video card</a></li>
<li><a href="../313384/index.html">Dribbble review number 2 - the most interesting interface designs for the last 2 weeks</a></li>
<li><a href="../313386/index.html">The digest of interesting materials for the mobile developer # 176 (October 17-23)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>