<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Layout e-mail newsletters - "pitfalls". Part one. Pictures</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon, dear habravchane! 
 Not so long ago, we came up against the task of creating e-mail newsletters. This is not the most pleasant thing, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Layout e-mail newsletters - "pitfalls". Part one. Pictures</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage/habraeffect/26/4e/264e080c693f28fa682f542079b22a14.png" alt="Layout e-mail newsletters. Part one. Pictures." align="left">  Good afternoon, dear habravchane! <br>  Not so long ago, we came up against the task of creating e-mail newsletters.  This is not the most pleasant thing, but many companies are actively using corporate newsletters, and layout is becoming an increasingly important task. <br><br>  It would seem that difficult - to impose a simple page?  But there are ‚Äúpitfalls‚Äù that can bewildered even an experienced layout designer.  It is these ‚Äústones‚Äù that the post is devoted to (we make a reservation right away - all the experiments described in the post were carried out under Windows with the software that many have at hand). <br><br><h4>  First Stone - Images </h4><br>  Virtually every newsletter contains pictures.  Logo, hat, photos, social network icons ... <br>  There are 2 ways to use pictures: <br><a name="habracut"></a><br><h5>  1. Upload from server </h5><br>  <strong>Pros:</strong> <br><ul><li>  Low weight letters; </li><li>  All email programs ‚Äúunderstand‚Äù such use of pictures and are able to load them from a specified location. </li></ul><br>  <strong>Minuses:</strong> <br><ul><li>  In large bureaucratic companies, it is often not possible to quickly allocate space on the server for displaying pictures, and placing pictures on a third-party server is unacceptable for such companies.  In this case, uploading images from the server is basically impossible. </li><li>  Client policies may prohibit uploading graphics.  For example, in Windows Live Mail, Outlook Express, Outlook 2007, no images are uploaded by default.  Pictures are loaded only if the user manually allows you to perform this action, or if he (again, manually) configures the program to automatically upload images.  In other mail programs, blocking the loading of graphics can be manually configured by the user intentionally. <br></li></ul><br><blockquote>  Blocking graphics, firstly, leads to the fact that the user has to perform unnecessary actions to view the pictures, and secondly, if the pictures were not loaded right away, then while viewing the letter, it will not be possible to view the pictures. </blockquote>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  2. Attaching images directly to the letter </h5><br>  The first thing that needs to be said is how exactly to achieve the attachment of pictures to the letter.  When viewing the html-code of letters with attached pictures, you can see that the paths of all the embedded pictures are set using the special identifier cid. <br><blockquote>  The MIME standard, which describes the transmission of data via e-mail, defines in particular the mechanism for transmitting non-textual content (such as pictures).  " <a href="http://ru.wikipedia.org/wiki/MIME">MIME defines a set of e-mail headers to define additional message attributes</a> ."  One of these headlines is Content-ID.  Content-ID is a unique identifier for a message part.  The value of the identifier is indicated in angle brackets after the title: <br>  Content-ID: &lt;1.23.44455.9874563210@test.example&gt; <br>  The main condition for the formation of the Content-ID is uniqueness, one of the conventions that was adopted regarding the formation of the Content-ID is the use of the ‚Äú@‚Äù symbol and an indication of the host name of the computer to the right of it, to the left of the sign there should be a unique identifier for this computer. </blockquote><br><br>  When using pictures in the body of letters (img tag), the link to the picture (‚Äúsrc‚Äù parameter) indicates the required identifier using the ‚Äúcid‚Äù URI scheme, the identifier syntax differs from the Content-ID by the absence of angle brackets: <br> <code>cid: 1.23.44455.9874563210@test.example</code> <br> <br>  In addition to headers, the MIME standard defines a data conversion scheme for transmission via e-mail ‚Äî this is the base64 scheme.  Any image that is transmitted in the body of the letter is first converted to base64 format. <br><br>  <strong>Thus, in order to manually generate a letter with attached pictures, you need to convert the pictures to base64, register the Content-ID headers, and for all images in the ‚Äúsrc‚Äù parameter, prescribe the URI scheme with the necessary identifier.</strong> <br><br>  You have to agree, it‚Äôs not so easy to do it manually and it will take a decent amount of time.  However, there is no need to do it manually.  Mail programs that allow you to use html-templates of letters for distribution, automatically convert images themselves, put down headings and identifiers, convert absolute paths to pictures into cid uri-schemes. <br><br>  It remains only to determine in which mail programs you can use html files as message templates. <br><br>  In <b>Outlook Express,</b> this feature is and is described in many sources (‚ÄúMessage - Create with use ‚Äî Select a form ...‚Äù).  But in a more modern analogue - <b>Windows Live Mail</b> there is no special option, as there is none in <b>Outlook 2007</b> .  However, common sense suggested that the opportunity should be somewhere, and it was revealed.  To use html-templates in these programs, you need to <b>drop the html-file of the letter onto the Inbox folder</b> in the program from the folder in which the letter is located ‚Äî the letter will automatically be generated from the template.  At the same time, if the letter uses pictures that lie somewhere on the computer, and <b>absolute paths</b> are written to them - the pictures are automatically attached to the letter, and the paths are automatically changed to the resource identifiers ‚Äúcid‚Äù ":" content-id. <br><blockquote>  The important point is that absolute paths should be spelled out.  Example: the picture header.jpg lies in y: \ temp \ mailing \ along with the html file of the letter.  If the path is registered to the picture <br>  src = "y: \ temp \ mailing \ header.jpg" or <br>  src = ‚Äúfile: /// Y: /temp/differe/header.jpg‚Äù - the image will be loaded.  If you register simply <br>  src = "header.jpg" - alas, nothing will come of it. </blockquote><br><br>  <strong>Common advantages:</strong> <br>  Pictures are displayed in all email programs.  Even if the automatic loading of graphics is disabled in the program settings, ‚Äúembedded‚Äù pictures will be displayed (you do not need to load them); <br>  There is no need to quickly search for a place to place pictures (as mentioned above, for large bureaucratic companies such a search can be very problematic). <br>  <strong>Total minus:</strong> <br>  The letter will weigh more - each recipient will receive a letter with a full set of pictures. <br><br><h4>  Comparison of Windows Live Mail, Outlook Express, Outlook 2007 programs in terms of using HTML templates </h4><br><h5>  Original layout </h5><br><img src="https://habrastorage.org/storage/habraeffect/33/dc/33dc2256830a8a1fb3fc916c9a8c0b2b.png" alt="Original layout"><br><br><h6>  Windows Live Mail </h6><br>  <strong>Minuses:</strong> <br><ul><li>  All pictures used in the mailing list will be attached to the letter as attachments, and this is an important point: even if the same picture is used 100 times (spacer, for example), 100 identical pictures will be attached to the letter (!!!); </li><li>  When using gifs with transparency, some mailers may have display problems.  For example, in the program TheBat!  instead of transparency, black appears; </li><li>  Images in jpg will add "shadows" - that is, in fact, the images spoil.  In TheBat!  corrupted images are displayed with strong distortions. </li></ul><br><img src="https://habrastorage.org/storage/habraeffect/ba/ab/baab26fbae0287e7af948997bfafd7b9.png" alt="image"><br><br><h6>  Outlook Express </h6><br>  <strong>Pros:</strong> <br><ul><li>  Duplicate pictures will not be attached to the letter - even if the picture is used 100 times, only one picture will be attached to the letter. </li><li>  Jpg are transmitted normally, without distortion. </li></ul><br>  <strong>Minuses:</strong> <br><ul><li>  When using transparent gifs, instead of transparency in TheBat!  there will be a black background. </li></ul><br><img src="https://habrastorage.org/storage/habraeffect/26/5e/265e772c23c4e98a683cfa7164ce8550.png" alt="image"><br><br><h6>  Outlook 2007 </h6><br>  <strong>Pros:</strong> <br><ul><li>  Jpg are transmitted without distortion; </li><li>  Absolutely identical pictures will not be attached with duplicates to the letter, one picture will be attached; </li><li>  If a transparent gif file is used to ‚Äúfill in‚Äù individual cells, Outlook 2007 analyzes this, converts the gif to png, and attaches as many png files to the email as there are differently sized areas of the ‚Äúfilled‚Äù gif. </li></ul><br><blockquote>  The mechanism on the example: <br>  The list uses spacer.gif file in the size 1x1, transparent.  This file is used to fill several areas: 2 cells 800x10, and 3 cells 120x10.  As a result, 2 png files are attached to the letter: one is 800x10, the other is 120x10.  Also, the mailing list uses 2 times the file top_g.gif, which is opaque - it is attached to the letter once, it is not converted to png. </blockquote><br><br>  <strong>Minuses:</strong> <br><ul><li>  Outlook 2007 paid - the license can either be purchased separately or in the MS Office 2007 package (not available only in the Home And Student version). </li></ul><br><img src="https://habrastorage.org/storage/habraeffect/a9/f2/a9f24e0edfd0629f1697c606ae1eff30.png" alt="image"><br><br><h4>  Summary: </h4><br>  Various useful articles were read in the search for truth (special thanks to <a href="https://habrahabr.ru/users/aralot/" class="user_link">Aralot</a> for the article <a href="http://habrahabr.ru/blogs/webdev/60420/">10 recommendations on the html layout of emails</a> and <a href="https://habrahabr.ru/users/dudeonthehorse/" class="user_link">dudeonthehorse</a> for the article <a href="http://habrahabr.ru/blogs/css/114234/">Layout of mailing lists: debriefing</a> and the preceding 3). <br><br><img src="https://habrastorage.org/storage/habraeffect/3e/cd/3ecd1779da8c271764044acde14b7111.png" alt="Inserting pictures into various email programs"><br><br>  Which of the two ways to use pictures in e-mail lists to use is an individual question, the one and the other have their own pros and cons.  So one cannot give definite advice here - it all depends on the situation. </div><p>Source: <a href="https://habr.com/ru/post/114472/">https://habr.com/ru/post/114472/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../114465/index.html">Google launched recipe search</a></li>
<li><a href="../114466/index.html">At OpenStreetMap, a large download of the map of Georgia, created by volunteers, has begun</a></li>
<li><a href="../114469/index.html">SSD and HDD in the body of one MacBook Pro</a></li>
<li><a href="../114470/index.html">Goto in application programming</a></li>
<li><a href="../114471/index.html">2000 of 3000 icons are ready - become a co-author! (order table)</a></li>
<li><a href="../114474/index.html">In the Android Market began to sell books</a></li>
<li><a href="../114475/index.html">Useful tips for interface designers</a></li>
<li><a href="../114480/index.html">Into the cloud with Microsoft and Softline!</a></li>
<li><a href="../114481/index.html">HackDay: Games, Moscow, March 12-13</a></li>
<li><a href="../114483/index.html">Use console to the full</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>