<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>VoIP Zoo - Provisioning</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 Once the management approved the experiment on the implementation of IP telephony in our office. Since my experience in this area was s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>VoIP Zoo - Provisioning</h1><div class="post__text post__text-html js-mediator-article"><h4>  Introduction </h4><br>  Once the management approved the experiment on the implementation of IP telephony in our office.  Since my experience in this area was scanty, the task aroused great interest in me and I plunged into the study of various aspects of the issue.  At the end of the dive, I decided to share the acquired knowledge - in the hope that it would be useful to someone.  So‚Ä¶ <br><br><h4>  Initial data </h4><br>  Asterisk is selected and deployed as an IP PBX.  The park of phones consists of Cisco 7906g, Panasonic UT-KX123B, Grandstream GXP1400 and Dlink DPH-150S (E) / F3, Yealink T19 and T21 devices.  This variation is due to the fact that in the framework of the experiment it was decided to try a little bit of everything in order to form an opinion on the price / quality / convenience ratio. <br><br><h4>  Task </h4><br>  Maximally simplify and unify the process of setting up new devices.  All phones must be synchronized in time, have a phone book loaded from the server and provide access to the settings for the administrator. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The solution to this problem is simple - to implement automatic phone configuration, the so-called.  Provisioning.  Actually, my implementation of this remarkable function will be discussed. <br><a name="habracut"></a><br><h4>  Configure tftpd, dhcpd </h4><br>  To distribute the settings to the phones, I chose tftp as a universal option, supported by all platforms, easy to configure and manage. <br><br>  No specific configuration for tftp was required.  I installed a regular tftpd and placed all the necessary files in its root directory. <br>  Files with settings placed in directories in accordance with the manufacturer of the phone.  True, the device from Cisco has not reached into its folder, I had to keep it in the root. <br><br>  In order to indicate to the telephones the location of the tftp server, I used option-66.  In addition, he divided them into separate classes by manufacturer.  Each class received its own address segment and an individual folder for configuration files.  By the way, the devices from D-link had to be calculated by MAC addresses, since they do not provide information about the manufacturer in the dhcp request. <br><br><div class="spoiler">  <b class="spoiler_title">Dhcpd.conf fragment</b> <div class="spoiler_text"><pre>  # Specify the necessary options 
 option option-66 code 66 = text;

 class "panasonic" {
	 match if substring (option vendor-class-identifier, 0.9) = "Panasonic";
	 option option-66 "10.1.1.50/panasonic/";
 }
 class "cisco" {
	 match if substring (option vendor-class-identifier, 0.36) = "Cisco Systems, Inc. IP Phone CP-7906";
	 option option-66 "10.1.1.50/cisco/";
 }

 class "grandstream" {
  match if substring (option vendor-class-identifier, 0.11) = "Grandstream";
  option option-66 "10.1.1.50/grandstream/";
 }

 class "dlink" {
	 match if (binary-to-ascii (16,8, ":", substring (hardware, 1,4)) = "c8: d3: a3: 8d") or
	 (binary-to-ascii (16.8, ":", substring (hardware, 1,4)) = "90: 94: e4: 72");
	 option option-66 "10.1.1.50/dlink/";
 }

 class "yealink" {
                 match if substring (option vendor-class-identifier, 0,7) = "Yealink";
                 option option-66 "10.1.1.50/yealink/";
         }

</pre><br></div></div><br>  Phones had to be forcibly excluded from the common pool.  Otherwise, they didn‚Äôt want to go to their ‚Äúsplash pool‚Äù. <br><div class="spoiler">  <b class="spoiler_title">Subnet Settings Example</b> <div class="spoiler_text"><pre> subnet 10.1.1.0 netmask 255.255.255.0 {
         option routers 10.1.1.1;
         pool {
                 deny members of "cisco";
                 deny members of "panasonic";
                 deny members of "dlink";
                 range 10.1.1.230 10.1.1.240;
         }
         pool {
                 allow members of "cisco";
                 range 10.1.1.65 10.1.1.69;
         }
         pool {
                 allow members of "panasonic";
                 range 10.1.1.60 10.1.1.64;
         }
         pool {
                 allow members of "dlink";
                 range 10.1.1.55 10.1.1.59;
         }
 }
</pre><br></div></div><br>  After restarting all the services involved, the phones confidently went over the settings to the tftp-server they set.  It remains only to place them there. <br><br><h4>  Cisco 7906 </h4><br>  These devices I got in the original packaging.  I had to change it to make friends with asterisk.  But this is a separate story.  In the specific case for setting up the device, I, according to the instructions, created the file SEPAABBCCDDEEFF.cnf.xml in the root of the tftp server.  Where AABBCCDDEEFF is the MAC address of the machine. <br><br>  About setting up phones from Cisco has been written more than once, so I'll just leave the working file with the settings. <br><div class="spoiler">  <b class="spoiler_title">Settings for cisco</b> <div class="spoiler_text"><pre> &lt;? xml version = "1.0" encoding = "UTF-8"?&gt; &lt;device xsi: type = "axl: XIPPhone" ctiid = "94"&gt; &lt;fullConfig&gt; true &lt;/ fullConfig&gt; &lt;deviceprotocol&gt; SIP &lt;/ deviceProtocol&gt; &lt;sshUserId&gt; root &lt;/ sshUserId&gt; &lt;sshPassword&gt; ADMIN_PWD &lt;/ sshPassword&gt; &lt;devicePool&gt; &lt;dateTimeSetting&gt; &lt;dateTemplate&gt; DMY &lt;/ dateTemplate&gt; &lt;timeZone&gt; Central Pacific Standard Time &lt;/ timeZone&gt; &lt;ntps&gt; &lt;ntp&gt; &lt;name&gt; 10.1.1.4 &lt;/ name&gt; &lt;ntpMode&gt; Unicast &lt;/ ntpMode&gt; &lt;/ ntp&gt; &lt;/ ntps&gt; &lt;/ dateTimeSetting&gt; &lt;callManagerGroup&gt; &lt;members&gt; &lt;member priority = "0"&gt; &lt;callManager&gt; &lt;name&gt; 10.1.1.50 &lt;/ name&gt; &lt;ports&gt; &lt;ethernetPhonePort&gt; 2000 &lt;/ ethernetPhonePort&gt; &lt;sipPort&gt; 5060 &lt;/ sipPort&gt; &lt;securedSipPort&gt; 5061 &lt;/ securedSipPort&gt; &lt;/ ports&gt; &lt;processNodeName&gt; 10.1.1.50 &lt;/ processNodeName&gt; &lt;/ callManager&gt; / member&gt; &lt;/ members&gt; &lt;/ callManagerGroup&gt; &lt;srstInfo&gt; &lt;srstOption&gt; Disable &lt;/ srstOption&gt; &lt;/ srstInfo&gt; &lt;connectionMonitorDuration&gt; 120 &lt;/ connectionMonitorDuration&gt; &lt;/ devicePool&gt; &lt;sipProfile&gt; &lt;sipCallFeatures&gt; &lt;cnfhst in anti-ioin&gt; &lt;sipCallFonerDo&gt;&gt; &lt;sipCallFoatures&gt; &lt;sipCallFo&gt; cnfJoinEnabled&gt; &lt;callForwardURI&gt; x-cisco-serviceuri-cfwdall &lt;/ callForwardURI&gt; &lt;cal  lPickupURI&gt; x-cisco-serviceuri-pickup &lt;/ callPickupURI&gt; x-cisco-serviceuri-opickup &lt;/ i&gt; &lt;callPickupListURI&gt; &lt;callPickupGroupURI&gt; x-cisco-serviceuri-gpickup &lt;/ callPickupURI&gt; x-cisco-serviceuri-gpickup &lt;/ callPickupURI&gt; meetme &lt;/ meetMeServiceURI&gt; &lt;&lt;abbreviatedDialURI&gt; x-cisco-serviceuri-abbrdial. &gt; &lt;&gt; anonymCallBlock&gt; 2 &lt;/ anonymousCallBlock&gt; &lt;callerIdBlocking&gt; 2 &lt;/ caltIdBlocking&gt; &lt;dndControl&gt; 0 &lt;/ dndControl&gt; &lt;remoteCcEnable&gt; true &lt;/ remoteCcEnable&gt; &lt;retainForwardInformation&gt; false &lt;/ retainForwardInformation&gt; &lt;/ sipEcable&gt; &lt;retainForwardInformation&gt; false &lt;/ retainForwardInformation&gt; &lt;/ sipEcable&gt; &lt;retainForwardInformation&gt; &gt; 6 &lt;/ timerSubscr  ibeExpires&gt; &lt;timerSubscribeDelta&gt; 5 &lt;/ timerSubscribeDelta&gt; &lt;timerT1&gt; 500 &lt;/ timerT1&gt; &lt;timerT2&gt; 4000 &lt;/ timerT2&gt; &lt;maxRedirects&gt; 70 &lt;/ maxRedirects&gt; &lt;remotePartyID&gt; true &lt;/ remotePartyID&gt; &lt;userInfo&gt; None &lt;/ userInfo&gt; &lt;/ sipStack&gt; &lt;autoAnswerTimer&gt; 1 &lt;/ autoAnswerTimer&gt; &lt;autoAnswerAltBehavior&gt; false &lt;/ autoAnswerAltBehavior&gt; &lt;autoAnswerOverride&gt; true &lt;/ autoAnswerOverride&gt; &lt;transferOnhookEnabled&gt; false &lt;/ transferOnhokEnabled&gt; / &lt;&gt; preferred copper optics &lt;phone&gt;  ig&gt; &lt;poundEndOfDial&gt; false &lt;/ poundEndOfDial&gt; &lt;startMediaPort&gt; 16384 &lt;/ startMediaPort&gt; &lt;stopMediaPort&gt; 32766 &lt;/ stopMediaPort&gt; &lt;sipLines&gt; &lt;line button = "1" lineIndex = "1"&gt; &lt;featureID&gt; 9 &lt;/ featureID&gt; &lt;proxy&gt; 10.1.1.50 &lt;/ proxy&gt; &lt;port&gt; 5060 &lt;/ port&gt; &lt;autoAnswer&gt; &lt;autoAnswerEnabled&gt; 2 &lt;/ autoAnswerEnabled&gt; &lt;/ autoAnswer&gt; &lt;callWaiting&gt; 3 &lt;/ callWaiting&gt; &lt;sharedLine&gt; false &lt;/ sharedLine&gt; &lt; messageWaitingLampPolicy&gt; 3 &lt;/ messageWaitingLampPolicy&gt; &lt;messagesNumber&gt; &lt;/ messagesNumber&gt; &lt;ringSettingIdle&gt; 4 &lt;/ ringSettingIdle&gt; &lt;ringSettingActive&gt; 5 &lt;/ ringSettingActive&gt; &lt;forwardCallInfoDisplay&gt; &lt;callerName&gt; true &lt;/ callerName&gt; &lt;&gt; &lt;&gt; &lt;callCallInfoDisplay&gt; &lt;callerName&gt; true &lt;/ callerName&gt; &lt;&gt; &lt;&gt; redirectedNumber&gt; false &lt;/ redirectedNumber&gt; &lt;dialedNumber&gt; true &lt;/ dialedNumber&gt; &lt;/ forwardCallInfoDisplay&gt; &lt;featureLabel&gt; &lt;/ featureLabel&gt; &lt;displayName&gt; User # 103 &lt;/ displayName&gt; &lt;name&gt; 103 &lt;/ name&gt; &lt;authName&gt; 103 &lt;&lt; authName&gt; &lt;authPassword&gt; SIP_PWD &lt;/ authPassword&gt; &lt;/ line&gt; &lt;/ sipLines&gt; &lt;externalNumberMask&gt; $ num &lt;/ externalNumberMask&gt; &lt;voipControlPort&gt; 5060 &lt;/ voipControlPort&gt; &lt;dscpAAudio&gt; 184 &lt;/ dscpForAudio  &gt; &lt;ringSettingBusyStationPolicy&gt; 0 &lt;/ ringSettingBusyStationPolicy&gt; &lt;dialTemplate&gt; dialplan.xml &lt;/ dialTemplate&gt; &lt;/ sipProfile&gt; &lt;commonProfile&gt; &lt;phonePassword&gt; * 0 #&gt; callLogBlfEnabled&gt; &lt;/ commonProfile&gt; &lt;loadInformation&gt; &lt;/ loadInformation&gt; &lt;vendorConfig&gt; &lt;disableSpeaker&gt; false &lt;/ disableSpeaker&gt; &lt;disableSpeakerAndHeadset&gt; false &lt;/ disableSpeakerAndHeadset&gt; &lt;forwardingDelay&gt; 1 &lt;/ forwardingDelay &lt;&lt;&lt;&gt;&gt; &lt;&gt; &lt;/ div&gt; &lt;&gt; &lt;/ RTI&gt;&gt; 1 &lt;/ /&gt; &lt;/ s&gt;&gt; &lt;/ /&gt; / &lt;/ /&gt; / etc / 1&gt; &lt;/ forwardSeakerAndHeadset&gt; &gt; 1 &lt;/ settingsAccess&gt; &lt;garp&gt; 0 &lt;/ garp&gt; &lt;voiceVlanAccess&gt; 0 &lt;/ voiceVlanAccess&gt; &lt;videoCapability&gt; 0 &lt;/ videoCapability&gt; &lt;autoSelectLineEnable&gt; 1 &lt;/ autoSelectLineEnable&gt; &lt;webAccess&gt; 0 &lt;/ webAccess&gt; &lt;daysDisplayNotActive&gt; 1 , 7 &lt;/ daysDisplayNotActive&gt; &lt;displayOnTime&gt; 09:00 &lt;/ displayOnTime&gt; &lt;displayOnDuration&gt; 12:00 &lt;/ displayOnDuration&gt; &lt;displayIdleTimeout&gt; 01:00 &lt;/ displayIdleTimeout&gt; &lt;spanToPCPort&gt; 1 &lt;/ spanToPCPort&gt; &lt;loggingDisplay&gt; 2 &lt; loggingDisplay&gt; &lt;loadServer&gt; 10.1.1.50 &lt;/ loadServer&gt; &lt;recordingTone&gt; 0 &lt;/ recordingTone&gt; &lt;reco  rdingToneLocalVolume&gt; 100 &lt;objekt&gt; objekt &lt;/ hands &lt;userLocale&gt; &lt;name&gt; Russian_Russian_Federation &lt;/ name&gt; &lt;langCode&gt; en_US &lt;/ langCode&gt; &lt;version&gt; &lt;/ version&gt; &lt;winCharSet&gt; utf-8 &lt;/ winCharSet&gt; &lt;/ userLocale&gt; &lt;networkLocale&gt; &lt;/ networkLocale&gt; &lt;networkLocaleInf  o&gt; &lt;name&gt; &lt;/ name&gt; &lt;version&gt; &lt;/ version&gt; &lt;/ networkLocaleInfo&gt; &lt;deviceSecurityMode&gt; 1 &lt;/ deviceSecurityMode&gt; &lt;idleTimeout&gt; 0 &lt;/ idleTimeout&gt; &lt;authenticationURL&gt; &lt;/ authenticationURL&gt; &lt;directoryURL&gt; http: // 10.1.1.50/provisioning/cisco-services.xml &lt;/ directoryURL&gt; &lt;idleURL&gt; &lt;/ idleURL&gt; &lt;informationURL&gt; &lt;/ informationURL&gt; &lt;messagesURL&gt; &lt;/ messagesURL&gt; &lt;proxyServerURL&gt; &lt;/ proxyServerURL&gt; &lt;servicesURL&gt; http: // 10.1.1.a.kz 0 &lt;/ singleButtonBarge&gt; &lt;capfAuthMode&gt; 0 &lt;/ capfAuthMode&gt; &lt;capfList&gt; &lt;capf&gt; &lt;phonePort&gt; 3804 &lt;/ phonePort&gt; &lt;! - &lt;processNodeName&gt; 10.1.1.50 &lt;/ processNodeName&gt; -&gt; &lt;/ capf&gt; &lt;/ capfList&gt; &lt;certHash&gt; &lt;/ certHash&gt; &lt;encrConfig&gt; false &lt;/ encrConfig&gt; &lt;advertiseG722Codec&gt; 1 &lt;/ advertiseG722Codec&gt; &lt;/ device&gt; </pre><br></div></div><br><br><h4>  D-Link DPH-150S / F3 </h4><br>  If you only have to buy a phone in this series, be careful, auto-tuning is supported only on 150S / F3 devices.  On the 150S / F2 device, which fell into my hands, I did not find such functionality. <br><br>  The configuration file can be either in xml format or plain text.  For xml there is one requirement: the tag must be at the beginning of the line, otherwise the parser will ignore it and the value of the corresponding parameter will not change. <br><br>  To configure the phone uses two files.  f0D00580000.cfg - to store the settings of all the phones and 00112233aabb.cfg (MAC address in lowercase) for individual settings.  Individual settings naturally take precedence. <br><br>  A full set of settings has more than a thousand lines, so as not to clutter an article, I will describe the minimum sufficient set of settings. <br><br>  The root node <b>VOIP_CONFIG_FILE</b> and the <b>version</b> node nested in it are <b>required</b> .  Settings will be applied only if the file version is higher than the current settings in the device.  You can find out this value through the phone's .web interface in the maintenance section (system management).  For phones with factory settings in both cases, this is 2.0002.  In addition, the version of the individual file must be larger than the version of the shared file. <br><br>  The first is a common configuration file for all phones.  In fact, it stores all settings, an individual file will be responsible only for the phone number and the inscription on the screen. <br><br>  In the two blocks below, the time zone and time synchronization parameters are set, the initial port for the RTP and the network bridge between the WAN and LAN connectors of the device are turned on. <br><br><div class="spoiler">  <b class="spoiler_title">Fragment number 1</b> <div class="spoiler_text"><pre> &lt;GLOBAL_CONFIG_MODULE&gt;
 &lt;WAN_Mode&gt; DHCP &lt;/ WAN_Mode&gt;
 &lt;Default_Protocol&gt; 2 &lt;/ Default_Protocol&gt;
 &lt;Enable_DHCP&gt; 1 &lt;/ Enable_DHCP&gt;
 &lt;DHCP_Auto_DNS&gt; 1 &lt;/ DHCP_Auto_DNS&gt;
 &lt;DHCP_Auto_Time&gt; 0 &lt;/ DHCP_Auto_Time&gt;
 &lt;Host_Name&gt; VOIP &lt;/ Host_Name&gt;
 &lt;RTP_Initial_Port&gt; 10000 &lt;/ RTP_Initial_Port&gt;
 &lt;RTP_Port_Quantity&gt; 200 &lt;/ RTP_Port_Quantity&gt;
 &lt;SNTP_Server&gt; 10.1.1.4 &lt;/ SNTP_Server&gt;
 &lt;Enable_SNTP&gt; 1 &lt;/ Enable_SNTP&gt;
 &lt;Time_Zone&gt; 71 &lt;/ Time_Zone&gt;
 &lt;Time_Zone_Name&gt; UCT_011 &lt;/ Time_Zone_Name&gt;
 &lt;Enable_DST&gt; 0 &lt;/ Enable_DST&gt;
 &lt;SNTP_Timeout&gt; 60 &lt;/ SNTP_Timeout&gt;
 &lt;Default_UI&gt; 12 &lt;/ Default_UI&gt;
 &lt;MTU_Length&gt; 1500 &lt;/ MTU_Length&gt;
 &lt;/ GLOBAL_CONFIG_MODULE&gt;
 &lt;LAN_CONFIG_MODULE&gt;
 &lt;Enable_Bridge_Mode&gt; 1 &lt;/ Enable_Bridge_Mode&gt;
 &lt;Enable_Port_Mirror&gt; 1 &lt;/ Enable_Port_Mirror&gt;
 &lt;/ LAN_CONFIG_MODULE&gt;
</pre><br></div></div><br>  Actually the names of configuration parameters are sufficiently ‚Äúspeaking‚Äù in order not to describe them in detail. <br><div class="spoiler">  <b class="spoiler_title">SIP for one line</b> <div class="spoiler_text"><pre> &lt;SIP_CONFIG_MODULE&gt;
 &lt;SIP__Port&gt; 5060 &lt;/ SIP__Port&gt;
 &lt;SIP_Line_List&gt;
 &lt;SIP_Line_List_Entry&gt;
 &lt;Id&gt; sip1 &lt;/ id&gt;
 &lt;Register_Addr&gt; 10.1.1.50 &lt;/ Register_Addr&gt;
 &lt;Register_Port&gt; 5060 &lt;/ Register_Port&gt;
 &lt;Register_TTL&gt; 3600 &lt;/ Register_TTL&gt;
 &lt;Enable_Reg&gt; 1 &lt;/ Enable_Reg&gt;
 &lt;Proxy_Addr&gt; 10.1.1.50 &lt;/ Proxy_Addr&gt;
 &lt;DTMF_Mode&gt; 1 &lt;/ DTMF_Mode&gt;
 &lt;DTMF_Info_Mode&gt; 0 &lt;/ DTMF_Info_Mode&gt;
 &lt;VoiceCodecMap&gt; G711A, G711U, G722 &lt;/ VoiceCodecMap&gt;
 &lt;/ SIP_Line_List_Entry&gt;
 &lt;/ SIP_Line_List&gt;
 &lt;/ SIP_CONFIG_MODULE&gt;
</pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Remote control settings</b> <div class="spoiler_text"><pre> &lt;MMI_CONFIG_MODULE&gt;
 &lt;Telnet_Port&gt; 23 &lt;/ Telnet_Port&gt;
 &lt;Web_Port&gt; 80 &lt;/ Web_Port&gt;
 &lt;Web_Server_Type&gt; 0 &lt;/ Web_Server_Type&gt;
 &lt;Https_Web_Port&gt; 443 &lt;/ Https_Web_Port&gt;
 &lt;Remote_Control&gt; 1 &lt;/ Remote_Control&gt;
 &lt;Enable_MMI_Filter&gt; 0 &lt;/ Enable_MMI_Filter&gt;
 &lt;Telnet_Prompt&gt; &lt;/ Telnet_Prompt&gt;
 &lt;MMI_Filter&gt;
 &lt;MMI_Filter_Entry&gt;
 &lt;Id&gt; item1 &lt;/ id&gt;
 &lt;First_IP&gt; 10.1.1.152 &lt;/ First_IP&gt;
 &lt;End_IP&gt; 10.1.1.160 &lt;/ End_IP&gt;
 &lt;/ MMI_Filter_Entry&gt;
 &lt;/ MMI_Filter&gt;
 &lt;MMI_Account&gt;
 &lt;MMI_Account_Entry&gt;
 &lt;ID&gt; Account1 &lt;/ ID&gt;
 &lt;Name&gt; admin &lt;/ Name&gt;
 &lt;Password&gt; ADMIN_PWD &lt;/ Password&gt;
 &lt;Level&gt; 10 &lt;/ Level&gt;
 &lt;/ MMI_Account_Entry&gt;
 &lt;MMI_Account_Entry&gt;
 &lt;ID&gt; Account2 &lt;/ ID&gt;
 &lt;Name&gt; guest &lt;/ name&gt;
 &lt;Password&gt; GUEST_PWD &lt;/ Password&gt;
 &lt;Level&gt; 5 &lt;/ Level&gt;
 &lt;/ MMI_Account_Entry&gt;
 &lt;/ MMI_Account&gt;
 &lt;/ MMI_CONFIG_MODULE&gt;
</pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Phone settings</b> <div class="spoiler_text"><pre> &lt;PHONE_CONFIG_MODULE&gt;
 &lt;Menu_Password&gt; 123 &lt;/ Menu_Password&gt;
 &lt;KeyLock_Password&gt; 123 &lt;/ KeyLock_Password&gt;
 &lt;Fast_Keylock_Code&gt; &lt;/ Fast_Keylock_Code&gt;
 &lt;Enable_KeyLock&gt; 0 &lt;/ Enable_KeyLock&gt;
 &lt;Emergency_Call&gt; 112 &lt;/ Emergency_Call&gt;
 &lt;LCD_Title&gt; Company &lt;/ LCD_Title&gt;
 &lt;LCD_Constrast&gt; 5 &lt;/ LCD_Constrast&gt;
 &lt;LCD_Luminance&gt; 1 &lt;/ LCD_Luminance&gt;
 &lt;Backlight_Off_Time&gt; 30 &lt;/ Backlight_Off_Time&gt;
 &lt;Enable_Power_LED&gt; 0 &lt;/ Enable_Power_LED&gt;
 &lt;Time_Display_Style&gt; 0 &lt;/ Time_Display_Style&gt;
 &lt;Enable_TimeDisplay&gt; 1 &lt;/ Enable_TimeDisplay&gt;
 &lt;Alarm__Clock&gt; 0,, 1 &lt;/ Alarm__Clock&gt;
 &lt;Date_Display_Style&gt; 0 &lt;/ Date_Display_Style&gt;
 &lt;Date_Separator&gt; 0 &lt;/ Date_Separator&gt;
 &lt;Enable_Pre-Dial&gt; 1 &lt;/ Enable_Pre-Dial&gt;
 &lt;Xml_PhoneBook&gt;
 &lt;Xml_PhoneBook_Entry&gt;
 &lt;ID&gt; XML-PBook1 &lt;/ ID&gt;
 &lt;Name&gt; Phonebook &lt;/ Name&gt;
 &lt;Addr&gt; http://10.1.1.50/provisioning/dlink-phonebook.xml &lt;/ Addr&gt;
 &lt;Auth&gt;: &lt;/ auth&gt;
 &lt;Policy&gt; 0 &lt;/ Policy&gt;
 &lt;Sipline&gt; 0 &lt;/ Sipline&gt;
 &lt;/ Xml_PhoneBook_Entry&gt;
 &lt;/ Xml_PhoneBook&gt;
 &lt;Phonebook_Groups&gt; friend, home, work, business, classmate, colleague &lt;/ Phonebook_Groups&gt;
 &lt;/ PHONE_CONFIG_MODULE&gt;
</pre><br></div></div><br>  All other settings will remain ‚Äúdefault‚Äù.  Now, any Dlink phone connected to the network will immediately accept a common set of parameters.  To set individual parameters for the device you need a separate file.  It only needs to specify the necessary settings for the individual subscriber. <br><div class="spoiler">  <b class="spoiler_title">subscriber settings</b> <div class="spoiler_text"><pre> &lt;? xml version = "1.0" encoding = "UTF-8"?&gt;
 &lt;VOIP_CONFIG_FILE&gt;
 &lt;version&gt; 2.0006 &lt;/ version&gt;
 &lt;SIP_CONFIG_MODULE&gt;
 &lt;SIP_Line_List&gt;
 &lt;SIP_Line_List_Entry&gt;
 &lt;Id&gt; sip1 &lt;/ id&gt;
 &lt;Display_Name&gt; User # 117 &lt;/ Display_Name&gt;
 &lt;Phone_Number&gt; 117 &lt;/ Phone_Number&gt;
 &lt;Register_Port&gt; 5060 &lt;/ Register_Port&gt;
 &lt;Register_User&gt; 117 &lt;/ Register_User&gt;
 &lt;Register_Pswd&gt; SIP_PWD &lt;/ Register_Pswd&gt;
 &lt;Register_TTL&gt; 3600 &lt;/ Register_TTL&gt;
 &lt;Enable_Reg&gt; 1 &lt;/ Enable_Reg&gt;
 &lt;Proxy_Port&gt; 5060 &lt;/ Proxy_Port&gt;
 &lt;Proxy_User&gt; 117 &lt;/ Proxy_User&gt;
 &lt;Proxy_Pswd&gt; SIP_PWD &lt;/ Proxy_Pswd&gt;
 &lt;/ SIP_Line_List_Entry&gt;
 &lt;/ SIP_Line_List&gt;
 &lt;/ SIP_CONFIG_MODULE&gt;
 &lt;/ VOIP_CONFIG_FILE&gt;
</pre><br></div></div><br><h4>  Panasonic UT-KX123B </h4><br>  These devices receive settings in a slightly different pattern.  The configuration is stored in text files.  The maximum size of the configuration file is 120 KB.  Regardless of the number of files, their total size should not exceed 120 KB. <br>  A configuration file consists of a set of lines on which the following conditions apply: <br><br><ul><li>  The first is always a comment line, which includes the following sequence of characters (44 bytes): <br>  # Panasonic SIP Phone Standard Format File # <br>  Hexadecimal representation of this sequence: <br>  23 20 50 61 6E 61 73 6F 6E 69 63 20 53 49 50 20 50 68 6F 6E 65 20 53 74 61 6E 64 61 72 64 20 46 6F 72 6D 61 74 20 46 69 6C 65 20 23 <br>  To prevent accidental changes to the established sequence of characters, it is recommended to start the configuration file from the line: <br>  # Panasonic SIP Phone Standard Format File # DO NOT CHANGE THIS LINE! <br></li><li>  Configuration files must end with an empty line. </li><li>  Each line must end with the sequence "&lt;CR&gt; &lt;LF&gt;". </li><li>  The maximum string length is 537 bytes, including the sequence "&lt;CR&gt; &lt;LF&gt;" </li><li>  The following lines are ignored: <br><ul><li>  lines exceeding the limit of 537 bytes; </li><li>  blank lines; </li><li>  comment lines that begin with a "#"; </li></ul></li><li>  The string of each parameter is written in the form XXX = "yyy" (XXX: the name of the parameter, yyy: its value).  The value must be enclosed in double quotes. </li><li>  Splitting a parameter line into several lines is not allowed.  This will lead to an error processing the configuration file and, as a result, to initialization failure. </li><li>  The values ‚Äã‚Äãof some parameters must be specified separately for each line.  The parameter with the suffix "_1" in the title is the parameter for line 1;  "_2" - for line 2, etc. </li><li>  The maximum length of the parameter name is 32 characters. </li><li>  The maximum length of the parameter value is 500 characters with the exception of double quote characters. </li><li>  Spaces in the string are not allowed unless the value includes a space character. </li><li>  The values ‚Äã‚Äãof some parameters can be specified as ‚Äúempty‚Äù to set an empty parameter value. </li><li>  Parameters are specified in no particular order. </li><li>  If the same parameter is specified in the configuration file more than once, the value specified first is applied. </li></ul><br><br>  Such a serious set of requirements for the configuration file, frankly, upset me.  In my opinion, the implementation of interaction with the management server for Panasonic phones is made extremely inconvenient.  By this parameter, the phone is significantly inferior to the rest. <br>  When you first turn on the device (or after resetting it to the factory settings), it tries to load a so-called product file (in this case, KX-UT123RU.cfg), which should contain the paths to the rest of the configuration files. <br><div class="spoiler">  <b class="spoiler_title">Product file</b> <div class="spoiler_text">  # Panasonic SIP Phone Standard Format File # DO NOT CHANGE THIS LINE! <br><br>  CFG_STANDARD_FILE_PATH = "tftp: //10.1.1.50/panasonic/ {mac} .cfg" <br>  CFG_PRODUCT_FILE_PATH = "tftp: //10.1.1.50/panasonic/KX-UT123RU.cfg" <br>  CFG_MASTER_FILE_PATH = "tftp: //10.1.1.50/panasonic/master.cfg" <br></div></div><br>  After that, the phone will display a message on the successful completion of the preparation and will wait until it is rebooted.  And after the reboot, it will start processing the configuration files it needs. <br><br>  In the master.cfg file, it is recommended to specify general settings for all phones.  As in the case of Dlink, I will only indicate some parameters.  The names of the remaining parameters and their values ‚Äã‚Äãcan be found in the documentation on the manufacturer's website <br><div class="spoiler">  <b class="spoiler_title">master.cfg</b> <div class="spoiler_text">  ################################################## ########## <br>  # System Settings # <br>  ################################################## ########## <br>  ## Login Account Settings <br>  ADMIN_ID = "admin" <br>  ADMIN_PASS = "ADMIN_PWD" <br>  USER_ID = "user" <br>  USER_PASS = "USER_PWD" <br><br>  ## System Time Settings <br>  NTP_ADDR = "10.1.1.4" <br>  TIME_ZONE = "660" <br>  DST_ENABLE = "N" <br>  DST_OFFSET = "60" <br>  DST_START_MONTH = "3" <br>  DST_START_ORDINAL_DAY = "2" <br>  DST_START_DAY_OF_WEEK = "0" <br>  DST_START_TIME = "120" <br>  DST_STOP_MONTH = "10" <br>  DST_STOP_ORDINAL_DAY = "2" <br>  DST_STOP_DAY_OF_WEEK = "0" <br>  DST_STOP_TIME = "120" <br>  LOCAL_TIME_ZONE_POSIX = "" <br><br>  ## Syslog Settings <br>  SYSLOG_ADDR = "10.1.1.50" <br>  SYSLOG_PORT = "514" <br>  SYSLOG_EVENT_SIP = "6" <br>  SYSLOG_EVENT_CFG = "6" <br>  SYSLOG_EVENT_VOIP = "6" <br>  SYSLOG_EVENT_TEL = "6" <br><br>  ## Provisioning Settings <br>  OPTION66_ENABLE = "Y" <br>  OPTION66_REBOOT = "N" <br>  PROVISION_ENABLE = "Y" <br>  CFG_STANDARD_FILE_PATH = "tftp: //10.1.1.50/panasonic/ {mac} .cfg" <br>  CFG_PRODUCT_FILE_PATH = "tftp: //10.1.1.50/panasonic/KX-UT123RU.cfg" <br>  CFG_MASTER_FILE_PATH = "tftp: //10.1.1.50/panasonic/master.cfg" <br><br>  ################################################## ########## <br>  # Network Settings # <br>  ################################################## ########## <br>  ## IP Settings <br>  CONNECTION_TYPE = "1" <br>  HOST_NAME = "UT123" <br>  DHCP_DNS_ENABLE = "Y" <br>  STATIC_IP_ADDRESS = "" <br>  STATIC_SUBNET = "" <br>  STATIC_GATEWAY = "" <br>  USER_DNS1_ADDR = "" <br>  USER_DNS2_ADDR = "" <br><br>  ## DNS Settings <br>  DNS_QRY_PRLL = "Y" <br>  DNS_PRIORITY = "N" <br>  DNS1_ADDR = "10.1.1.1" <br>  DNS2_ADDR = "" <br><br>  ## HTTP Settings <br>  HTTPD_PORTOPEN_AUTO = "Y" <br>  HTTP_VER = "1" <br>  HTTP_USER_AGENT = "Panasonic_ {MODEL} / {fwver} ({mac})" <br>  HTTP_SSL_VERIFY = "0" <br>  CFG_ROOT_CERTIFICATE_PATH = "" <br><br>  ## XML Application Settings <br>  XML_HTTPD_PORT = "6666" <br>  XMLAPP_ENABLE = "Y" <br>  XMLAPP_USERID = "" <br>  XMLAPP_USERPASS = "" <br>  XMLAPP_START_URL = "" <br>  XMLAPP_INITIAL_URL = "" <br>  XMLAPP_INCOMING_URL = "" <br>  XMLAPP_TALKING_URL = "" <br>  XMLAPP_MAKECALL_URL = "" <br>  XMLAPP_CALLLOG_URL = "" <br>  XMLAPP_IDLING_URL = "" <br>  XMLAPP_LDAP_URL = " <a href="">10.1.1.50/provisioning/panasonic-phonebook.xml</a> " <br>  XMLAPP_LDAP_USERID = "" <br>  XMLAPP_LDAP_USERPASS = "" <br></div></div><br>  In the individual device configuration file, by tradition, only the subscriber‚Äôs settings remain. <br><div class="spoiler">  <b class="spoiler_title">aabbccddeeff.cfg</b> <div class="spoiler_text">  DISPLAY_NAME_1 = "User # 168" <br><br>  PHONE_NUMBER_1 = "168" <br>  SIP_URI_1 = "168" <br>  LINE_ENABLE_1 = "Enabled" <br>  PROFILE_ENABLE_1 = "Enabled" <br>  SIP_AUTHID_1 = "168" <br>  SIP_PASS_1 = "SIP_PWD" <br></div></div><br><br><h4>  Grandstream GXP-1400 </h4><br>  The parameters of these phones are stored in one xml file with the name cfg {mac} .xml.  Or in a plain text cfg {mac}.  This phone asks only for an individual configuration file, so optimizing the settings by bringing them into the general file will not work.  Another feature of Grandstream settings is parameter naming.  All are numbered and denoted as P ###.  For example: <br><br>  P1650 - is responsible for the web interface to manage the phone (0 - HTTPS, 1 - HTTP) <br>  P47 - SIP server address for connection. <br><br>  If the configuration is stored in a text file, the parameters do not require any grouping and go in any order.  Lines starting with # are treated as comments. <br><br>  If the settings are in the xml format, they should be nested in the &lt;config version = ‚Äù1‚Äù&gt; node, which in turn should be nested in &lt;gs_provision version = "1"&gt;.  All parameters are recorded as corresponding tags with the parameter value inside. <br><div class="spoiler">  <b class="spoiler_title">Setup example</b> <div class="spoiler_text"><pre> &lt;? xml version = "1.0" encoding = "UTF-8"?&gt;
 &lt;gs_provision version = "1"&gt;
   &lt;config version = "1"&gt;
     &lt;P271&gt; 1 &lt;/ P271&gt;
     &lt;! - Account Name.  Cannot be empty.  -&gt;
     &lt;P270&gt; 109 &lt;/ P270&gt;
     &lt;! - SIP User ID -&gt;
     &lt;P35&gt; 109 &lt;/ P35&gt;
     &lt;! - Authenticate ID -&gt;
     &lt;P36&gt; 109 &lt;/ P36&gt;
     &lt;! - Authenticate password -&gt;
     &lt;P34&gt; SIP_PWD &lt;/ P34&gt;
     &lt;! - Display Name (John Doe) -&gt;
     &lt;P3&gt; User # 109 &lt;/ P3&gt;
 &lt;! - Common settings -&gt;
         &lt;P207&gt; 10.1.1.50 &lt;/ P207&gt;
         &lt;P208&gt; 2 &lt;/ P208&gt;
    &lt;P47&gt; 10.1.1.50 &lt;/ P47&gt; &lt;! - line 1 sip server -&gt;
    &lt;P401&gt; 0 &lt;/ P401&gt; &lt;! - Line 2 disable -&gt;
    &lt;P2&gt; ADMIN_PWD &lt;/ P2&gt; &lt;! - admin password -&gt;
    &lt;P196&gt; USER_PWD &lt;/ P196&gt; &lt;! - user web console pwd -&gt;
    &lt;P1362&gt; en &lt;/ P1362&gt; &lt;! - display lang -&gt;
         &lt;P212&gt; 0 &lt;/ P212&gt; &lt;! - Upgrade from TFTP -&gt;
         &lt;P192&gt; 10.1.1.50/grandstream &lt;/ P192&gt;
    &lt;P1357&gt; 1 &lt;/ P1357&gt; &lt;! - lock configuration via phone (basic only) -&gt;
    &lt;P64&gt; TZc-11 &lt;/ P64&gt; &lt;! - timezone -&gt;
    &lt;P30&gt; 10.1.1.4 &lt;/ P30&gt; &lt;! - NTP-server -&gt;
         &lt;P330&gt; 1 &lt;/ P330&gt; &lt;! - Download PB from HTTP -&gt;
         &lt;P331&gt; http://10.1.1.50/provisioning/grandstream &lt;/ P331&gt; &lt;! - phonebook base url -&gt;
         &lt;P333&gt; 30 &lt;/ P333&gt; &lt;! - Auto update PB in 30 min -&gt;
   &lt;/ config&gt;
 &lt;/ gs_provision&gt;
</pre><br></div></div><br><h4>  Yealink T19 and T21 </h4><br>  The devices of these models support individual configuration files for devices and common for models.  In my case, I had to place the general parameters in the files y000000000031.cfg and y000000000034.cfg, respectively.  Individual configuration files are named according to the MAC address: 00112233aabb.cfg. <br><br>  Settings for yealinks are stored in text format.  Of the mandatory requirements only the presence in the first line of the file version, in the format #! Version: 1.0.0.1. <br><br>  All parameters are written as parameter = value.  Comments must begin with the "#" character.  The names of the parameters and their values ‚Äã‚Äãcan be found in the documentation on the manufacturer's website. <br><div class="spoiler">  <b class="spoiler_title">General settings</b> <div class="spoiler_text">  #! version: 1.0.0.1 <br>  #Configure the WAN port type;  0-DHCP (default), 1-PPPoE, 2-Static IP Address; <br>  network.internet_port.type = 0 <br>  #Configure the PC port type;  0-Router, 1-Bridge (default); <br>  network.bridge_mode = 1 <br>  #Configure the access type of the web server;  0-Disabled, 1-HTTP &amp; HTTPS (default), 2-HTTP Only, 3-HTTPS Only; <br>  network.web_server_type = 3 <br>  #Configure the maximum local RTP port.  It ranges from 0 to 65535, the default value is 11800. <br>  network.port.max_rtpport = 10100 <br>  #Configure the minimum local RTP port.  It ranges from 0 to 65535, the default value is 11780. <br>  network.port.min_rtpport = 10000 <br>  security.user_name.admin = root <br>  security.user_password = root: ADMIN_PWD <br>  security.user_name.user = user <br>  security.user_password = user: USER_PWD <br>  #Specify the web language, the valid values ‚Äã‚Äãare: English, Chinese, Turkish, Portuguese, Italian, French, Russian, Deutsch and Czech. <br>  lang.wui = Russian <br>  #Specify the LCD language, the English (default), Chinese_S, Chinese_T, German, French, Turkish, Italian, Polish, Spanish and Portuguese. <br>  lang.gui = Russian <br>  #Configure the time zone and time zone name.  The time zone ranges from -11 to +12, the default value is +8. <br>  #The default time zone name is China (Beijing). <br>  #Refer to Yealink IP Phones User Guide for more available time zones and time zone names. <br>  local_time.time_zone = +11 <br>  local_time.time_zone_name = Vladivostok <br>  #Configure the domain name or the IP address of the NTP server.  The default value is cn.pool.ntp.org. <br>  local_time.ntp_server1 = 10.1.1.4 <br>  #Configure the logo mode of the LCD screen;  0-Disabled (default), 1-System logo, 2-Custom logo; <br>  phone_setting.lcd_logo.mode = 1 <br>  #Configure the access URL and dispaly name of the phonebook remote.  X ranges from 1 to 5. <br>  remote_phonebook.data.1.url = <a href="">10.1.1.50/provisioning/yealink-phonebook.xml</a> <br>  remote_phonebook.data.1.name = Phonebook <br>  features.remote_phonebook.flash_time = 3600 <br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">individual settings</b> <div class="spoiler_text">  #! version: 1.0.0.1 <br>  #Enable or disable the account1, 0-Disabled (default), 1-Enabled; <br>  account.1.enable = 1 <br>  #Configure the label for account1. <br>  account.1.label = Test phone <br>  #Configure the display name of account1. <br>  account.1.display_name = User 998 <br>  #Configure the username password for register authentication. <br>  account.1.auth_name = 998 <br>  account.1.password = 998 <br>  #Configure the register user name. <br>  account.1.user_name = 998 <br>  #Configure the SIP server address. <br>  account.1.sip_server_host = 10.1.1.50 <br>  #Specify the port for the SIP server.  The default value is 5060. <br>  account.1.sip_server_port = 5060 <br></div></div><br><br>  As a result, thanks to the remarkable auto-provision feature provided in the phones I mentioned, there were no problems connecting to the network of new devices.  It all came down to finding out the phone's MAC address and generating a configuration file using a template. <br><br>  I hope that you have read to the end and have benefited from reading. <br><br>  Thanks for attention. </div><p>Source: <a href="https://habr.com/ru/post/237951/">https://habr.com/ru/post/237951/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../237937/index.html">The specifics of the technical support of the modular system</a></li>
<li><a href="../237939/index.html">"Radar Detector" for a penny: a review of a GPS informant iconBIT TRACKER MINI</a></li>
<li><a href="../237941/index.html">Rust Style C ++ Mutexes</a></li>
<li><a href="../237943/index.html">Juniper ipsec tunnel tracing</a></li>
<li><a href="../237947/index.html">How does the chosen LTE network affect the power consumption of the phone, or the disadvantages of LTE networks in the CIS</a></li>
<li><a href="../237955/index.html">Router from DAP-1160</a></li>
<li><a href="../237959/index.html">[Translation] The problem of JavaScript constructors and three ways to solve it</a></li>
<li><a href="../237961/index.html">Where to register a domain. Price comparison</a></li>
<li><a href="../237963/index.html">Adaperio means "reveal the truth." The story of creating a startup in two hardcore monologues</a></li>
<li><a href="../237965/index.html">Biocentrism. How life creates the universe</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>