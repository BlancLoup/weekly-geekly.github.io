<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Overview of the HPE Aruba Switch Family, ArubaOS 16.X New Features</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In 2015, Hewlett Packard Enterprise acquired Aruba Networks and supplemented its portfolio of wireless solutions with best-in-class Wi-Fi equipment. S...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Overview of the HPE Aruba Switch Family, ArubaOS 16.X New Features</h1><div class="post__text post__text-html js-mediator-article">  In 2015, Hewlett Packard Enterprise acquired Aruba Networks and supplemented its portfolio of wireless solutions with best-in-class Wi-Fi equipment.  Since then, the rebranding of one of the campus switch lines has occurred, the ProVision operating system has become ArubaOS (currently version 16.03 is available for customers).  With the change of name added new functionality.  In this article, we will go through the new products in the HPE Aruba switch model range, consider the new features of the ArubaOS operating system and their application scenarios. <br><br><img src="https://habrastorage.org/files/af7/80d/53a/af780d53a80945a381052e006390d0ba.jpg"><br><a name="habracut"></a><br>  Hewlett Packard Enterprise Networking provides customers with a complete product line for campus networks on the ArubaOS operating system: <br><br><ul><li>  Kernels or campus distribution networks, with high performance, fault tolerance, a wide range of supported network protocols and the ability to install service modules.  Available in the 5400R and 3810M series; 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </li><li>  Distribution or access to the campus network, with high performance, a wide range of supported network protocols, support for 1-, 10-, and 40-gigabit Ethernet ports, stacking.  Available in the 3810M, 2930F, 2920 and 2540 series. </li></ul><br><img src="https://habrastorage.org/files/874/ebd/f80/874ebdf80ae64410afe509e64fe1b9f5.PNG"><br><img src="https://habrastorage.org/files/57b/ed8/101/57bed81010274412a0d05183522f3d27.PNG"><br><br>  Switches on ArubaOS OS are easy to deploy and operate, and have a lifetime warranty.  Aruba ClearPass Policy Manager, Aruba AirWave, and Aruba Central's cloud-based service are integrated with modern management and security tools, optimized for software-defined networks (SDN) with support for OpenFlow technology. <br><br><img src="https://habrastorage.org/files/2d8/1d3/6b2/2d81d36b29c94c96bdba24f4b354c68c.png"><br><br>  The key features of the new operating system include: <br><br><ul><li>  Work in tunneling mode; </li><li>  Device profiling; </li><li>  SmartRate support; </li><li>  ZTP (Zero Touch Provisioning) and support for new control systems (Aruba Activate, Central and AirWave); </li><li>  Differentiation of user access by roles using Aruba CPPM (ClearPass Policy Manager); </li><li>  Access OSPF for access switches; </li><li>  New graphical interface. </li></ul><br><h1>  <font color="#00b882">1. Work in tunneling mode</font> </h1><br><img src="https://habrastorage.org/files/d37/10d/674/d3710d6743b54b588c236ffc62cb24a3.png"><br><br>  In traditional campus networks, access switches direct user traffic to distribution switches or the core (in the case of a two-tier architecture).  In the tunneling mode, switches running the ArubaOS operating system can forward incoming traffic from ports to Aruba Mobility controllers via L2-GRE tunnels, depending on the hardware platform, the bandwidth can reach 40 Gbit / s, it is possible to distribute the load across several controllers. <br><br>  The advantages of tunneling: <br><br><ul><li>  Controller authentication of wired devices through the Web-portal or by MAC address; </li><li>  Profiling wired devices; </li><li>  Functional NGFW, DPI, traffic filtering, restrictions based on application classes. </li></ul><br><h3>  <font color="#00b882">Setup example</font> </h3><br>  As an example, consider a network consisting of a 2920 switch with ArubaOS 16.03 installed and two 7240 controllers with AOS 6.5.0.4 (the diagram is shown in the figure). <br><br><img src="https://habrastorage.org/files/4ea/368/893/4ea368893c694c6f911c275bcc234f55.png"><br><br>  Switch side settings: <br><br><div class="spoiler">  <b class="spoiler_title">1) Register IP-addresses of the main and backup controllers</b> <div class="spoiler_text">  HP-2920-24G-PoEP (config) # tunneled-node-server controller-ip 10.76.130.66 <br>  HP-2920-24G-PoEP (config) # tunneled-node-server backup-controller-ip 10.76.130.68 </div></div><br><div class="spoiler">  <b class="spoiler_title">2) Set the keepalive timer</b> <div class="spoiler_text">  HP-2920-24G-PoEP (config) # tunneled-node-server keepalive 8 </div></div><br><div class="spoiler">  <b class="spoiler_title">3) Turn on tunneling on the physical interface</b> <div class="spoiler_text">  HP-2920-24G-PoEP (config) # interface 2 <br>  HP-2920-24G-PoEP (config) # tunneled-node-server </div></div><br>  Controller-side configuration: <br><br><div class="spoiler">  <b class="spoiler_title">1) Turn on the server</b> <div class="spoiler_text">  "Configuration-&gt; Advanced Services-&gt; Wired Access-&gt; Enable Wired Access Concentration Server" <img src="https://habrastorage.org/files/457/0cc/997/4570cc9971e343ccb64ebe90f9389460.PNG"></div></div><br><div class="spoiler">  <b class="spoiler_title">2) Configure the AAA Profile (in this example, the default)</b> <div class="spoiler_text">  "Configuration-&gt; Advanced Services-&gt; Wired Access-&gt; Wired Access AAA Profile" <img src="https://habrastorage.org/files/0c3/6c8/bea/0c36c8bea2b94152b167c76e5050da91.PNG"></div></div><br><div class="spoiler">  <b class="spoiler_title">3) Configure the role (in this example, the standard logon)</b> <div class="spoiler_text">  "Configuration-&gt; Security-&gt; Access Control-&gt; User Roles-&gt; Edit Role (logon)" <img src="https://habrastorage.org/files/3ab/4b6/531/3ab4b6531f594208b1d5bf2df0e69799.png"></div></div><br><h3>  <font color="#00b882">Monitoring and troubleshooting</font> </h3><br><div class="spoiler">  <b class="spoiler_title">1) Debug</b> <div class="spoiler_text">  HP-2920-24G-PoEP (eth-2) # debug event <br>  HP-2920-24G-PoEP (eth-2) # debug destination session <br><br>  I 01/01/90 01:33:25 05183 tunneledNode: Using server 10.76.130.66 <br>  I 01/01/90 01:33:25 04344 SI-TUNNEL: Service Tunnel: TunneledNodeTnl02 <br>  (318767435) created. <br>  I 01/01/90 01:33:25 04341 SI-TUNNEL: Service Tunnel: TunneledNodeTnl02 <br>  (318767435) is on-line. <br>  I 01/01/90 01:33:25 05184 tunneledNode: Port 2: tunnel established to server <br>  10.76.130.66 <br></div></div><br><div class="spoiler">  <b class="spoiler_title">2) Server Information</b> <div class="spoiler_text">  HP-2920-24G-PoEP # show tunneled-node-server <br><br>  Tunneled Node Server Information <br>  State: Enabled <br>  Primary Controller: 10.76.130.66 <br>  Backup Controller: 10.76.130.68 <br>  Keepalive Interval (seconds): 8 <br></div></div><br><div class="spoiler">  <b class="spoiler_title">3) Tunnel statistics (for each physical port of the switch)</b> <div class="spoiler_text">  HP-2920-24G-PoEP # show tunneled-node-server state <br><br>  Tunneled Node Port State <br><br>  Active Controller IP Address: 10.76.130.66 <br><br>  Port state <br>  - - 2 Complete <br><br>  HP-2920-24G-PoEP # show tunneled-node-server statistics <br><br>  Tunneled Node Statistics <br><br>  Port: 2 <br><br>  Control Plane Statistics <br><br>  Bootstrap packets sent: 16372 <br>  Bootstrap packets received: 3 <br>  Bootstrap packets invalid: 0 <br><br>  Tunnel statistics <br><br>  Rx Packets: 84 <br>  Tx Packets: 457 <br>  Rx 5 Minute Weighted Average Rate (Pkts / sec): 0 <br>  Tx 5 Minute Weighted Average Rate (Pkts / sec): 0 <br><br>  Aggregate Statistics <br><br>  Heartbeat packets sent: 34340 <br>  Heartbeat packets received: 34332 <br>  Heartbeat packets invalid: 0 <br>  Fragmented Packets Dropped (Rx): 0 <br>  Packets to Non-Existent Tunnel: 0 <br>  MTU Violation Drop: 0 <br></div></div><br><div class="spoiler">  <b class="spoiler_title">4) Tunnels on the controller</b> <div class="spoiler_text">  "Monitoring-&gt; Controller-&gt; Tunneled Node Ports" <img src="https://habrastorage.org/files/6f2/8c0/565/6f28c0565b684d69a8349d86ed16736c.png"></div></div><br><h3>  <font color="#00b882">Application Methods</font> </h3><br><ol><li>  Guest access for wired clients - it is possible to terminate traffic in the DMZ, it is possible to authorize through the web-portal, by MAC address; </li><li>  Connection of cash registers, payment terminals - we terminate client traffic on the controller, no need to stretch the VLAN; </li><li>  Securely connecting ‚Äúsilly‚Äù wired devices without 802.1x support ‚Äî sensors, base stations, consoles.  Especially true for IoT. </li></ol><br><img src="https://habrastorage.org/files/799/958/9c2/7999589c21274bd2ae6ff12a41091b69.png"><br><h1>  <font color="#00b882">2. Device profiling</font> </h1><br>  Profiling allows you to automatically change the settings on the switch port when a specific type of device is connected.  For example, a new access point connects to the switch, the correct VLAN is automatically assigned to the port, the maximum PoE budget, CoS, etc. <br><br>  To determine the type of devices used LLDP: <br><br><img src="https://habrastorage.org/files/16f/7b5/25f/16f7b525f27c491db54cc2d23d8ea317.png"><br><br>  After the switch determines that the connected device is an access point, the port settings change according to the desired profile: <br><br><div class="spoiler">  <b class="spoiler_title">1) Default profiles</b> <div class="spoiler_text">  HP-2920-24G-PoEP # show device-profile config <br><br>  Device Profile Configuration <br><br>  Configuration for device-profile: default-ap-profile <br>  untagged-vlan: 1 <br>  tagged-vlan: None <br>  ingress-bandwidth: 100% <br>  egress-bandwidth: 100% <br>  cos: 0 <br>  speed-duplex: auto <br>  poe-max-power: Class / LLDP <br>  poe-priority: critical <br>  allow-jumbo-frames: Disabled <br><br>  Configuration for device-profile: default-aos-profile <br>  untagged-vlan: 1 <br>  tagged-vlan: None <br>  ingress-bandwidth: 100% <br>  egress-bandwidth: 100% <br>  cos: None <br>  speed-duplex: auto <br>  poe-max-power: Class / LLDP <br>  poe-priority: critical <br>  allow-jumbo-frames: Disabled <br><br>  Configuration for device-profile: default-scs-profile <br>  untagged-vlan: 1 <br>  tagged-vlan: None <br>  ingress-bandwidth: 100% <br>  egress-bandwidth: 100% <br>  cos: None <br>  speed-duplex: auto <br>  poe-max-power: Class / LLDP <br>  poe-priority: critical <br>  allow-jumbo-frames: Disabled <br><br>  Device Profile Association <br><br>  Device Type: aruba-ap <br>  Profile Name: default-ap-profile <br>  Device Status: Disabled <br><br>  Device Type: aruba-switch <br>  Profile Name: default-aos-profile <br>  Device Status: Disabled <br><br>  Device Type: scs-wan-cpe <br>  Profile Name: default-scs-profile <br>  Device Status: Disabled </div></div><br><div class="spoiler">  <b class="spoiler_title">2) Configure new profile</b> <div class="spoiler_text">  HP-2920-24G-PoEP (config) # device-profile name new <br>  HP-2920-24G-PoEP (device-profile) # untagged-vlan 2 <br>  HP-2920-24G-PoEP (device-profile) # tagged-vlan 5 <br>  HP-2920-24G-PoEP (device-profile) # poe-priority critical <br>  HP-2920-24G-PoEP (device-profile) # exit <br>  HP-2920-24G-PoEP (config) # device-profile type aruba-ap associate new <br>  HP-2920-24G-PoEP (config) # show device-profile config <br><br>  ... <br><br>  Configuration for device-profile: new <br>  untagged-vlan: 2 <br>  tagged-vlan: 5 <br>  ingress-bandwidth: 100% <br>  egress-bandwidth: 100% <br>  cos: None <br>  speed-duplex: auto <br>  poe-max-power: Class / LLDP <br>  poe-priority: critical <br>  allow-jumbo-frames: Disabled <br><br>  .... </div></div><br><h1>  <font color="#00b882">3. SmartRate support</font> </h1><br><img src="https://habrastorage.org/files/100/f75/9d0/100f759d0a234b63851ddb55e5e652c3.png"><br>  Ports supporting HPE Smart Rate technology can operate at speeds of 1, 2, 5 or 10 GbE, provide PoE + power and are ideal for connecting high-speed 802.11ac devices. <br><br>  This technology is supported on the following equipment: <br><br><ul><li>  Aruba 3810M 40G 8 HPE Smart Rate PoE + 1-slot Switch - JL076A; </li><li>  Aruba 5400R 20-port GbE PoE + / 4-port Smart Rate PoE + MACsec v3 zl2 Module - J9991A; </li><li>  Aruba 5400R 8-port Smart Rate PoE + MACsec v3 zl2 Module - J9995A. </li></ul><br><img src="https://habrastorage.org/files/664/9b6/e30/6649b6e3047f432e99ec40784a3be67e.png"><br><br>  One of the main advantages of this technology is the possibility of using the existing SCS, network updating is possible without replacing cables: <br><br><img src="https://habrastorage.org/files/7de/78c/ae6/7de78cae6ce94d52ba61cbe695a4ca5e.PNG"><br><br><h1>  <font color="#00b882">findings</font> </h1><br>  The new version of the operating system allows for a tighter integration of LAN and WLAN, while the simplicity of operation is provided by a unified management system.  It is possible to automatically configure the new equipment. <br><br>  In more detail on the new functionality we will talk in the upcoming <a href="http://p.brighttalk.com/hpe/ru/%3Fcommid%3D244395%26utm_source%3Dpost%26utm_medium%3Dsmm%26utm_campaign%3Dhabr">webinars</a> (the next one will take place on March 22, the recording will be available upon completion). <br><br>  Some useful links: <br><br>  1) <a href="http://h17007.www1.hpe.com/us/en/networking/products/configurator/">HPE Networking Online Configurator</a> (better to use IE, prices in the GPL); <br>  2) <a href="https://h10145.www1.hpe.com/support/SupportLookUp.aspx">Networking support search tool</a> (search for information on products, on the same portal you can find manuals on setting up the equipment); <br>  3) <a href="http://h17007.www1.hpe.com/us/en/networking/support/warranty/index.aspx">HPE Networking warranty</a> ; <br>  4) <a href="https://apps.kaonadn.net/5185710160084992/index.html">3D equipment models</a> . </div><p>Source: <a href="https://habr.com/ru/post/323858/">https://habr.com/ru/post/323858/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../323848/index.html">Again asynchronous on callbacks. In arrays</a></li>
<li><a href="../323850/index.html">How to add reference tables in the Advanced Reporting Tool</a></li>
<li><a href="../323852/index.html">What was at the ISE-2017 exhibition (displays, LEDs, software for screens)</a></li>
<li><a href="../323854/index.html">Fresh KDE from developers plus stability Ubuntu 16.04 -> KDE Neon</a></li>
<li><a href="../323856/index.html">The story of how I am a master parser for the diary</a></li>
<li><a href="../323860/index.html">Turning Ubuntu Server into a domain controller using samba-tool</a></li>
<li><a href="../323862/index.html">Easy work with lists - RendererRecyclerViewAdapter</a></li>
<li><a href="../323864/index.html">Password Requirements - Complete Nonsense</a></li>
<li><a href="../323866/index.html">Engineer VS Programmer. Or where engineers go</a></li>
<li><a href="../323868/index.html">Analysis of tariffs for virtual servers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>