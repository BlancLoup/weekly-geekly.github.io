<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ambilight for World of Tanks - New Year Lights</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="To start the video. (This is not exactly Ambilight - this is a color indicator of tank health). The video shakes and shakes due to the fact that with ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Ambilight for World of Tanks - New Year Lights</h1><div class="post__text post__text-html js-mediator-article">  To start the video.  (This is not exactly Ambilight - this is a color indicator of tank health).  The video shakes and shakes due to the fact that with one hand I take off, the second I try to play. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/D8Tr7JS8ejE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  In the manufacture of everything came out very simple. <br><a name="habracut"></a><br>  Ingredients Required: <br><br>  <b>1.</b> Arduino - what is; <br>  <b>2.</b> WS2812B LEDs (I used the ring - I bought it a long time ago, now I decided to use it); <br>  <b>3.</b> <a href="https://yadi.sk/d/ECwrCAsJ35pD6K">Mod for tanks</a> .  Mod for my project was written by comrade <a href="http://www.koreanrandom.com/forum/user/16412-kotyarko-o/">Kotyarko_O</a> from the forum koreanrandom, for which a special thank you to him.  In the archive with the mod source attached; <br>  <b>4.</b> <a href="https://yadi.sk/d/dAxq5Zga35pFS7">Application for PC.</a>  - in the archive source and application in the folder bin. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      All this does not look very nice, I stuck it to the monitor on double-sided tape. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/f04/b7b/565/f04b7b565ded415497d61b33db098ba9.jpg" alt="image"></div><br>  BUT!  Minimum details.  For the code, please do not judge strictly, it is crooked :) I am a programmer of copy-and-paste :) Who would not like it much, you can remake it beautifully and practically. <br><br><div class="spoiler">  <b class="spoiler_title">Arduino code</b> <div class="spoiler_text"><pre><code class="hljs dos">#include &lt;Adafruit_NeoPixel.h&gt; #ifdef __AVR__ #include &lt;avr/power.h&gt; #endif #define PIN <span class="hljs-number"><span class="hljs-number">6</span></span> #define NUMPIXELS <span class="hljs-number"><span class="hljs-number">8</span></span> Adafruit_NeoPixel pixels = Adafruit_NeoPixel(NUMPIXELS, PIN, NEO_GRB + NEO_KHZ800); String ser; int red = <span class="hljs-number"><span class="hljs-number">0</span></span>; int green =<span class="hljs-number"><span class="hljs-number">0</span></span>; void setup() { pixels.begin(); // This initializes the NeoPixel library. Serial.begin(<span class="hljs-number"><span class="hljs-number">9600</span></span>); while (!Serial) { ; // wait <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> port to be ready } Serial.setTimeout(<span class="hljs-number"><span class="hljs-number">100</span></span>); } void loop() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Serial.available() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { ser = Serial.readString(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ser != "end") { green = ser.toInt()*<span class="hljs-number"><span class="hljs-number">2</span></span>; red = green-<span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(int i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;NUMPIXELS;i++) { pixels.setPixelColor(i, pixels.<span class="hljs-built_in"><span class="hljs-built_in">Color</span></span>(red,green,<span class="hljs-number"><span class="hljs-number">0</span></span>)); } pixels.show(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(int i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;NUMPIXELS;i++) { pixels.setPixelColor(i, pixels.<span class="hljs-built_in"><span class="hljs-built_in">Color</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>)); } pixels.show(); } } }</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">PC program written in C #</b> <div class="spoiler_text"><br>  private void button1_Click (object sender, EventArgs e) <br>  { <br>  timer1.Enabled = true; <br>  } <br><br>  private void timer1_Tick (object sender, EventArgs e) <br>  { <br>  XmlDocument doc = new XmlDocument (); <br>  SerialPort serialPort1 = new SerialPort (); <br>  doc.Load (@ "C: \ World_of_Tanks \ res_mods \ 0.9.17.0.1 \ scripts \ client \ gui \ mods \ mod_ArduinoHP.xml"); <br>  string maxHealth = doc.DocumentElement.ChildNodes [0] .InnerText; <br>  string currentHealth = doc.DocumentElement.ChildNodes [1] .InnerText; <br>  string healthProgress = doc.DocumentElement.ChildNodes [2] .InnerText; <br>  serialPort1.PortName = "COM13";  // set the name of the COM port with which the Arduino works <br>  serialPort1.Open ();  // open the COM port <br><br>  if (healthProgress! = "") <br>  { <br>  serialPort1.Write (healthProgress); <br>  } <br>  else <br>  serialPort1.Write ("end"); <br>  serialPort1.Close ();  // close the COM port <br>  } <br></div></div><br>  Well, that's all, respectively.  It works in the simplest way.  The mod for tanks adds all the necessary information to the xml file, and the PC application in turn reads xml and transmits all the information to Arduin, which in turn controls the color. <br><br>  <b>PS</b> All this can be improved, finished, finished, improved ... But I want to sleep already :) <br><br>  <b>PPS Happy</b> New Year! </div><p>Source: <a href="https://habr.com/ru/post/400461/">https://habr.com/ru/post/400461/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../400449/index.html">Hits of Geek season 2016</a></li>
<li><a href="../400451/index.html">IBM 5 in 5: five innovations that will change our lives in the next five years</a></li>
<li><a href="../400453/index.html">Why the remains of stars are green</a></li>
<li><a href="../400455/index.html">10 years ago the world saw the iPhone</a></li>
<li><a href="../400457/index.html">How not to go blind, using gadgets: applications for vision</a></li>
<li><a href="../400463/index.html">FLProg + Nextion HMI Enhanced</a></li>
<li><a href="../400465/index.html">Useful stuff with Kickstarter</a></li>
<li><a href="../400467/index.html">Answers to unasked questions or reflections of the popularizer</a></li>
<li><a href="../400469/index.html">Christmas + a selection of films about skyscrapers</a></li>
<li><a href="../400471/index.html">Osborne 1 - the long-promised review</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>