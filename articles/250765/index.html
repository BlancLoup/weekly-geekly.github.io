<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Navigation Drawer in Material Design style in 5 minutes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article, I will explain how to quickly add a side menu (aka Navigation Drawer) in the Material Design style to your Android application. To do...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Navigation Drawer in Material Design style in 5 minutes</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/034/743/add/034743add8f547cfa1d48859d33d1a0e.png" alt="image" align="left">  In this article, I will explain how to quickly add a side menu (aka Navigation Drawer) in the Material Design style to your Android application.  To do this, we will use the <a href="https://github.com/mikepenz/MaterialDrawer">library</a> , kindly provided by <a href="http://portfolio.mikepenz.com/">Mike Penz</a> . <br><br>  You will have Navigation Drawer, which: <br><br><ul><li>  Complies with the latest design guidelines (Google Material Design Guidelines); </li><li>  Supports the use of multiple Drawer (you can push the second one to the right); </li><li>  Supports the use of badges; </li><li>  It has a simple and intuitive interface (API); </li><li>  It can crawl out both under and over the Status Bar; </li><li>  Allows you to change icons, colors, badges at runtime; </li><li>  Uses AppCompat support library; </li><li>  Works starting from API 14. </li></ul><br>  In addition, newcomers will learn to integrate third-party libraries into their project, which is extremely useful, given their immense diversity on Github. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><h2>  Project creation </h2><br>  The example will use Google‚Äôs integrated development studio Android Studio, based on IntelliJ IDEA, which the corporation itself is actively promoting.  All actions can be played using other environments, such as Eclipse.  However, the article is aimed at beginners, and they will mostly use Android Studio, since Google now offers it to Google when downloading the Android SDK from <a href="http://developer.android.com/sdk/index.html">developer.android.com</a> (Eclipse could be downloaded before). <br><br>  So, choose in the menu ‚ÄúFile‚Äù -&gt; ‚ÄúNew Project ...‚Äù: <br><br><img src="https://habrastorage.org/files/898/27a/f49/89827af492db472abdfc8dc8a7a6824d.png"><br><br>  Fill in the name of the application package, select the SDK. <br><br>  We will create the project with the support of a minimum API Level of 14, which corresponds to Android 4.0 Ice Cream Sandwich, since everything below is less than 8% of the audience and introduces a disproportionately more headache: <br><br><img src="https://habrastorage.org/files/7dd/9bc/943/7dd9bc943f404a4094bd0d71fb32195e.png" alt="image"><br><br>  In the last two windows, leave everything by default, click "Finish". <br><br><h2>  Android Support Library </h2><br>  In order for the beautiful Navigation Drawer to work on Android versions below 5.0 and look like Material Design, you need to include in the project a Google support library called the <a href="http://developer.android.com/tools/support-library/features.html">v7 appcompat library</a> .  In the current version of Android Studio (1.0.2), the library is connected by default when creating a project.  Check this in the project file \ app \ build.gradle, in the dependencies section there should be a line (the numbers may not necessarily be "21.0.3"): <br><br><pre><code class="java hljs">compile <span class="hljs-string"><span class="hljs-string">'com.android.support:appcompat-v7:21.0.3'</span></span></code> </pre> <br>  and the class MainActivity should be inherited from ActionBarActivity <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ActionBarActivity</span></span></span><span class="hljs-class"> </span></span>{</code> </pre><br>  Also check in \ res \ values ‚Äã‚Äã\ styles.xml for the application theme to inherit from Theme.AppCompat or its variations without an ActionBar (we will replace the ActionBar with the ToolBar), for example: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"AppTheme"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.AppCompat.Light.NoActionBar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="undefined"></span></code> </pre><br><h2>  Connection of MaterialDrawer library </h2><br>  Add lines \ app \ build.gradle to the dependencies section <br><pre> <code class="java hljs">compile(<span class="hljs-string"><span class="hljs-string">'com.mikepenz.materialdrawer:library:0.9.5@aar'</span></span>) { transitive = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> }</code> </pre><br>  and click the ‚ÄúSync Now‚Äù button that appears at the top of the window to synchronize your project. <br><br><h2>  Preparing Markup for Navigation Drawer </h2><br>  In the main layout of the application you need to add a ToolBar.  Give activity_main.xml to this view: <br><br><pre> <code class="java hljs">&lt;RelativeLayout xmlns:android=<span class="hljs-string"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span> xmlns:tools=<span class="hljs-string"><span class="hljs-string">"http://schemas.android.com/tools"</span></span> android:layout_width=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span> android:layout_height=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span> tools:context=<span class="hljs-string"><span class="hljs-string">".MainActivity"</span></span>&gt; &lt;android.support.v7.widget.Toolbar android:id=<span class="hljs-string"><span class="hljs-string">"@+id/toolbar"</span></span> android:layout_width=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span> android:layout_height=<span class="hljs-string"><span class="hljs-string">"wrap_content"</span></span> android:background=<span class="hljs-string"><span class="hljs-string">"?attr/colorPrimary"</span></span> android:elevation=<span class="hljs-string"><span class="hljs-string">"4dp"</span></span> android:minHeight=<span class="hljs-string"><span class="hljs-string">"?attr/actionBarSize"</span></span> android:paddingTop=<span class="hljs-string"><span class="hljs-string">"@dimen/tool_bar_top_padding"</span></span> android:transitionName=<span class="hljs-string"><span class="hljs-string">"actionBar"</span></span> /&gt; &lt;/RelativeLayout&gt;</code> </pre><br><br>  Create a file in the layout folder file drawer_header.xml with the following content <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ImageView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:adjustViewBounds</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:orientation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vertical"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:scaleType</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fitCenter"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@drawable/header"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ImageView</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  this file is a markup for the top of Drawer, in which the picture is located.  Now put in the \ res \ drawable \ folder any image with the name header.jpg, which will be displayed in the upper part of the Drawer, for example this: <br><img src="https://habrastorage.org/files/87c/913/f5f/87c913f5fa3a4d4c807efbcccfa047f7.jpg"><br><br>  File \ res \ strings.xml, containing string resources, lead to the following form <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app_name"</span></span></span><span class="hljs-tag">&gt;</span></span>My Application<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"action_settings"</span></span></span><span class="hljs-tag">&gt;</span></span>Settings<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"drawer_item_home"</span></span></span><span class="hljs-tag">&gt;</span></span>Home<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"drawer_item_free_play"</span></span></span><span class="hljs-tag">&gt;</span></span>Free Play<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"drawer_item_custom"</span></span></span><span class="hljs-tag">&gt;</span></span>Custom<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"drawer_item_settings"</span></span></span><span class="hljs-tag">&gt;</span></span>Settings<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"drawer_item_help"</span></span></span><span class="hljs-tag">&gt;</span></span>Help<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"drawer_item_open_source"</span></span></span><span class="hljs-tag">&gt;</span></span>Open Source<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"drawer_item_contact"</span></span></span><span class="hljs-tag">&gt;</span></span>Contact<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><h2>  Initializing Navigation Drawer </h2><br>  In the onCreate method of your MainActivity, we initialize the ToolBar, add the following code after setContentView: <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// Handle Toolbar Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar); setSupportActionBar(toolbar); getSupportActionBar().setDisplayHomeAsUpEnabled(true);</span></span></code> </pre><br>  Then we initialize the Navigation Drawer itself, add it below: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Drawer() .withActivity(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) .withToolbar(toolbar) .withActionBarDrawerToggle(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) .withHeader(R.layout.drawer_header) .addDrawerItems( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PrimaryDrawerItem().withName(R.string.drawer_item_home).withIcon(FontAwesome.Icon.faw_home).withBadge(<span class="hljs-string"><span class="hljs-string">"99"</span></span>).withIdentifier(<span class="hljs-number"><span class="hljs-number">1</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PrimaryDrawerItem().withName(R.string.drawer_item_free_play).withIcon(FontAwesome.Icon.faw_gamepad), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PrimaryDrawerItem().withName(R.string.drawer_item_custom).withIcon(FontAwesome.Icon.faw_eye).withBadge(<span class="hljs-string"><span class="hljs-string">"6"</span></span>).withIdentifier(<span class="hljs-number"><span class="hljs-number">2</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SectionDrawerItem().withName(R.string.drawer_item_settings), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SecondaryDrawerItem().withName(R.string.drawer_item_help).withIcon(FontAwesome.Icon.faw_cog), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SecondaryDrawerItem().withName(R.string.drawer_item_open_source).withIcon(FontAwesome.Icon.faw_question).setEnabled(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DividerDrawerItem(), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SecondaryDrawerItem().withName(R.string.drawer_item_contact).withIcon(FontAwesome.Icon.faw_github).withBadge(<span class="hljs-string"><span class="hljs-string">"12+"</span></span>).withIdentifier(<span class="hljs-number"><span class="hljs-number">1</span></span>) ) .build();</code> </pre><br>  In case of errors, make sure that your import section in MainActivity looks like this: <br><br><div class="spoiler">  <b class="spoiler_title">Import Section in MainActivity</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.support.v7.app.ActionBarActivity; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.Bundle; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.support.v7.widget.Toolbar; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.Menu; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.MenuItem; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.mikepenz.iconics.typeface.FontAwesome; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.mikepenz.materialdrawer.Drawer; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.mikepenz.materialdrawer.model.DividerDrawerItem; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.mikepenz.materialdrawer.model.PrimaryDrawerItem; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.mikepenz.materialdrawer.model.SecondaryDrawerItem; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.mikepenz.materialdrawer.model.SectionDrawerItem;</code> </pre><br></div></div><br>  Now you can run the application and evaluate the result: <br><br><img src="https://habrastorage.org/files/e5e/6ae/649/e5e6ae649c6849209db3d4ddc1d5fe52.png"><br><br><h2>  Navigation Drawer Improvements </h2><br>  To make Navigation Drawer more closely follow Google‚Äôs recommendations, you can make the following improvements (see the full listing MainActivity at the end of the article): <br><br><ul><li>  Hide keyboard when opening NavigationDrawer: <br><br><pre> <code class="java hljs">.withOnDrawerListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Drawer.OnDrawerListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDrawerOpened</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View drawerView)</span></span></span><span class="hljs-function"> </span></span>{ InputMethodManager inputMethodManager = (InputMethodManager) MainActivity.<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getSystemService(Activity.INPUT_METHOD_SERVICE); inputMethodManager.hideSoftInputFromWindow(MainActivity.<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getCurrentFocus().getWindowToken(), <span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDrawerClosed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View drawerView)</span></span></span><span class="hljs-function"> </span></span>{ } })</code> </pre><br></li><li>  Close NavigationDrawer by pressing the ‚ÄúBack‚Äù system button: <br><br><pre> <code class="java hljs"> <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onBackPressed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(drawerResult.isDrawerOpen()){ drawerResult.closeDrawer(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onBackPressed(); } }</code> </pre><br></li><li>  Handle click and long click events on Drawer elements </li><li>  Decrease / increase badge values </li></ul><br><br>  You can see the implementation of all these improvements in the full listing MainActivity: <br><br><div class="spoiler">  <b class="spoiler_title">Full code MainActivity</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> ru.sample.drawer.myapplication; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.app.Activity; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.Bundle; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.support.v7.app.ActionBarActivity; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.support.v7.widget.Toolbar; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.util.Log; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.Menu; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.MenuItem; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.View; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.inputmethod.InputMethodManager; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.widget.AdapterView; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.widget.Toast; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.mikepenz.iconics.typeface.FontAwesome; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.mikepenz.materialdrawer.Drawer; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.mikepenz.materialdrawer.model.DividerDrawerItem; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.mikepenz.materialdrawer.model.PrimaryDrawerItem; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.mikepenz.materialdrawer.model.SecondaryDrawerItem; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.mikepenz.materialdrawer.model.SectionDrawerItem; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.mikepenz.materialdrawer.model.interfaces.Badgeable; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.mikepenz.materialdrawer.model.interfaces.IDrawerItem; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.mikepenz.materialdrawer.model.interfaces.Nameable; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ActionBarActivity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Drawer.Result drawerResult = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState); setContentView(R.layout.activity_main); <span class="hljs-comment"><span class="hljs-comment">//  Toolbar Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar); setSupportActionBar(toolbar); getSupportActionBar().setDisplayHomeAsUpEnabled(true); //  Navigation Drawer drawerResult = new Drawer() .withActivity(this) .withToolbar(toolbar) .withActionBarDrawerToggle(true) .withHeader(R.layout.drawer_header) .addDrawerItems( new PrimaryDrawerItem().withName(R.string.drawer_item_home).withIcon(FontAwesome.Icon.faw_home).withBadge("99").withIdentifier(1), new PrimaryDrawerItem().withName(R.string.drawer_item_free_play).withIcon(FontAwesome.Icon.faw_gamepad), new PrimaryDrawerItem().withName(R.string.drawer_item_custom).withIcon(FontAwesome.Icon.faw_eye).withBadge("6").withIdentifier(2), new SectionDrawerItem().withName(R.string.drawer_item_settings), new SecondaryDrawerItem().withName(R.string.drawer_item_help).withIcon(FontAwesome.Icon.faw_cog), new SecondaryDrawerItem().withName(R.string.drawer_item_open_source).withIcon(FontAwesome.Icon.faw_question).setEnabled(false), new DividerDrawerItem(), new SecondaryDrawerItem().withName(R.string.drawer_item_contact).withIcon(FontAwesome.Icon.faw_github).withBadge("12+").withIdentifier(1) ) .withOnDrawerListener(new Drawer.OnDrawerListener() { @Override public void onDrawerOpened(View drawerView) { //     Navigation Drawer InputMethodManager inputMethodManager = (InputMethodManager) MainActivity.this.getSystemService(Activity.INPUT_METHOD_SERVICE); inputMethodManager.hideSoftInputFromWindow(MainActivity.this.getCurrentFocus().getWindowToken(), 0); } @Override public void onDrawerClosed(View drawerView) { } }) .withOnDrawerItemClickListener(new Drawer.OnDrawerItemClickListener() { @Override //   public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id, IDrawerItem drawerItem) { if (drawerItem instanceof Nameable) { Toast.makeText(MainActivity.this, MainActivity.this.getString(((Nameable) drawerItem).getNameRes()), Toast.LENGTH_SHORT).show(); } if (drawerItem instanceof Badgeable) { Badgeable badgeable = (Badgeable) drawerItem; if (badgeable.getBadge() != null) { // ,   ,      "+" try { int badge = Integer.valueOf(badgeable.getBadge()); if (badge &gt; 0) { drawerResult.updateBadge(String.valueOf(badge - 1), position); } } catch (Exception e) { Log.d("test", "   ,  ! :)"); } } } } }) .withOnDrawerItemLongClickListener(new Drawer.OnDrawerItemLongClickListener() { @Override //   , ,   SecondaryDrawerItem public boolean onItemLongClick(AdapterView&lt;?&gt; parent, View view, int position, long id, IDrawerItem drawerItem) { if (drawerItem instanceof SecondaryDrawerItem) { Toast.makeText(MainActivity.this, MainActivity.this.getString(((SecondaryDrawerItem) drawerItem).getNameRes()), Toast.LENGTH_SHORT).show(); } return false; } }) .build(); } @Override public void onBackPressed() { //  Navigation Drawer     ""    if (drawerResult.isDrawerOpen()) { drawerResult.closeDrawer(); } else { super.onBackPressed(); } } // ,    @Override public boolean onCreateOptionsMenu(Menu menu) { getMenuInflater().inflate(R.menu.menu_main, menu); return true; } // ,    @Override public boolean onOptionsItemSelected(MenuItem item) { int id = item.getItemId(); //noinspection SimplifiableIfStatement if (id == R.id.action_settings) { return true; } return super.onOptionsItemSelected(item); } }</span></span></code> </pre><br></div></div><br><br><h2>  Alternatives </h2><br>  I would like to draw your attention to the fact that no library will cover all the needs of all programmers.  Therefore, I will give a list of similar libraries with the connection of which you can play: <br>  <a href="https://github.com/neokree/MaterialNavigationDrawer">https://github.com/neokree/MaterialNavigationDrawer</a> <br>  <a href="https://github.com/HeinrichReimer/material-drawer">https://github.com/HeinrichReimer/material-drawer</a> <br>  <a href="https://github.com/kanytu/android-material-drawer-template">https://github.com/kanytu/android-material-drawer-template</a> <br>  <a href="https://github.com/balysv/material-menu">https://github.com/balysv/material-menu</a> <br>  <a href="https://github.com/ikimuhendis/LDrawer">https://github.com/ikimuhendis/LDrawer</a> <br>  <a href="https://github.com/Zlate87/material-navigation-drawer-example">https://github.com/Zlate87/material-navigation-drawer-example</a> <br>  As for the library described in the article, the author easily makes contact and reacts very quickly to comments and feature-requets, you can talk to him by <a href="https://github.com/mikepenz/MaterialDrawer/issues">creating an issue</a> , for example. <br>  If you don‚Äôt have any libraries at all, you can always write your own :) <br><br><h2>  Links </h2><br>  Ready example from article on Github: <a href="https://github.com/tral/MaterialDrawerSample">https://github.com/tral/MaterialDrawerSample</a> ; <br>  Ready example with fragments: <a href="https://github.com/tral/MaterialDrawerFragmentSample">https://github.com/tral/MaterialDrawerFragmentSample</a> ; <br>  Mike Penz's MaterialDrawer library: <a href="https://github.com/mikepenz/MaterialDrawer">https://github.com/mikepenz/MaterialDrawer</a> <br>  Google Material Design Guidelines: Navigation Drawer: <a href="http://www.google.com/design/spec/patterns/navigation-drawer.html">http://www.google.com/design/spec/patterns/navigation-drawer.html</a> ; <br>  Dashboards: <a href="https://developer.android.com/about/dashboards/index.html%3Futm_source%3Dausdroid.net">https://developer.android.com/about/dashboards/index.html?utm_source=ausdroid.net</a> ; <br>  Support Library: <a href="https://developer.android.com/tools/support-library/index.html">https://developer.android.com/tools/support-library/index.html</a> </div><p>Source: <a href="https://habr.com/ru/post/250765/">https://habr.com/ru/post/250765/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../250755/index.html">Configure autoscaling in InfoboxCloud</a></li>
<li><a href="../250757/index.html">5 invalid errors when collecting product reviews</a></li>
<li><a href="../250759/index.html">Interesting moments of work Linq to Sql</a></li>
<li><a href="../250761/index.html">Brakes ng-repeat? No - just ngAnimate + transition to css</a></li>
<li><a href="../250763/index.html">Analysis of the problem ‚ÄúMirror in the corridor‚Äù and outrage</a></li>
<li><a href="../250767/index.html">TLS1.1 + support for legacy CommuniGate versions</a></li>
<li><a href="../250769/index.html">A short course in computer graphics, addendum: ambient occlusion</a></li>
<li><a href="../250771/index.html">Improving JavaScript code using the StarWars API</a></li>
<li><a href="../250773/index.html">ASP.NET Day: Ballmer Peak, Pluralsight and the future of ASP.NET</a></li>
<li><a href="../250775/index.html">Mom said: do not trust the firmware of hard drives</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>