<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>GraphQL - a new look at the API. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello everyone, I want to share the accumulated knowledge of GraphQL, which was formed on the basis of about a hundred read articles / docks and the m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>GraphQL - a new look at the API. Part 1</h1><div class="post__text post__text-html js-mediator-article">  Hello everyone, I want to share the accumulated knowledge of GraphQL, which was formed on the basis of about a hundred read articles / docks and the month of building an API using GraphQL. <br><br><h2>  Well, let's start with what GraphQL is? </h2><br>  GraphQL is a standard for declaring data structure and data retrieval methods, which acts as an additional layer between the client and the server. <br><br>  One of the main features of GraphQL is that the structure and volume of data is determined by the client application. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Consider an example of a simple user request. <br><br><img src="https://habrastorage.org/webt/it/09/p8/it09p8lz9ns8cvjwmdqdovuiewg.png" width="200"><br><br>  The client specifies exactly what data he wants to receive using a declarative, graph-like structure that is very similar to the JSON format. <br><a name="habracut"></a><br>  In this case, the client requests three fields (name, email and age).  But it can request both one field, for example name, and an arbitrary number of fields that are defined in the user type on the GraphQL server. <br><br>  In this approach, in addition to convenience, we have reduced either the number of requests or the volume of data at the transport level. <br><br>  <b>GraphQL makes it easy to aggregate data from multiple sources.</b> <br><br>  Let's look at a simple client-server architecture. <br><br><img src="https://habrastorage.org/webt/de/a5/zk/dea5zk2cxkfhuddycbko8o3dbp8.png"><br>  We have a client application and one server.  Data transport looks pretty simple <br>  no matter which data transfer protocol is used for this.  In the case of http, we send a request and get an answer, everything is quite simple. <br><br><img src="https://habrastorage.org/webt/6o/jp/r4/6ojpr4l3exhd4x9kgda8tau2q08.png"><br><br>  As I said before, GraphQL is an additional layer between the client and the server, and if you look at this architecture, using GraphQL looks like it‚Äôs redundant. <br><img src="https://habrastorage.org/webt/g2/v8/kw/g2v8kwfdbs1whaimd8e-ub6pp4m.png"><br>  But as soon as another service is added, everything falls into place. <br><br>  Services can be written in any programming language, interact with different databases, Sql or NoSql, can have different APIs.  Working with such an architecture becomes quite difficult, and adding each new service requires a lot of resources. <br><br>  <i>This is a classic problem of scaling a project, and you probably use some kind of ‚ÄúAPI Gateway‚Äù when working with several services.</i> <br><br>  GraphQL is this standardized API Gateway.  Client-server data transport can be performed using any protocol (http, ssh, ws, cli, etc.). <br><br>  Client requests resources from GraphQL server using GraphQL query.  GraphQL server analyzes the query, recursively traverses the graph and performs its ‚Äúresolver‚Äù function for each field.  When all the data on the request will be collected, GraphQL server will return the answer. <br><br>  It is important to note that adding a new service does not affect the existing application.  Due to the fact that the client determines what data he wants to receive, you can without fear of expanding existing types. <br><br><h2>  Type system </h2><br>  <b>GraphQL uses a type system to describe data.</b> <br><br><img src="https://habrastorage.org/webt/3g/wc/an/3gwcannravnpv1o7w7x5aoldye0.jpeg"><br>  In GraphQL, fields can be represented by both basic and custom types.  In this example, the user field is represented by the user type User.  The User type has a set of fields that are represented by base types. <br><br>  <b>Thus, the graph-like structure of an indefinite nesting level is realized.</b> <br><br><h2>  Compare GraphQL API and REST API </h2><br><ul><li>  <b>Dependence on the data transfer protocol.</b> <br>  GraphQL is independent of the data transfer protocol, it can use any (http, ws, ssh, cli, etc.) <br>  REST is based on the http protocol, and depends on it. <br></li><li>  <b>Single entry point.</b>  <b>(Entry point)</b> <br>  In GraphQL for working with data, we always refer to a single entry point - GraphQL server.  Changing the structure, fields, query parameters, we work with different data. <br>  In the REST API, each route (route) is a separate entry point. <br></li><li>  <b>Ability to return different data formats.</b> <br>  GraphQL can only return JSON format. <br>  REST is more flexible in this case.  REST API can return data in various formats - JSON, XML, etc., it depends on the http request headers, and on the implementation of the API itself. <br></li><li>  <b>Declaration, documentation, development tools</b> <br>  GraphQL allows you to write documentation directly in the code (inline documentation). <br><br><img src="https://habrastorage.org/webt/d5/5q/l_/d55ql_omdvwyjbjp3rgjddx0wvg.png" width="300"><br><br>  In GraphQL, we can describe any type we create.  To do this, when creating a type, you need to describe in the "description" field what this type is needed for.  This documentation can parse various utilities, IDE, which greatly simplifies working with GraphQL. <br><br><img src="https://habrastorage.org/webt/y8/8c/ca/y88ccaseze6ezfxrvtmjwp9srxc.png"><br><br>  Also, GraphQL out of the box has its own IDE, which works in a browser and is called GraphiQL. <br><br>  GraphiQL stores query history, highlights syntax, prompts fields that we can request from the current type, pars documentation.  This makes writing queries much easier. <br><br><img src="https://habrastorage.org/webt/ob/np/y0/obnpy0bkqelhglc64x7ct7vxrje.png"><br><br>  GraphiQL can be enabled via the GraphQL configuration, using the graphiql = true setting and following the path &lt;domain name&gt; / graphiql.  Or you can use one of the browser extensions that have almost the same functionality but a different UI. <br><br>  REST does not have this functionality, but it is possible to implement it using SWAGGER. <br><br><img src="https://habrastorage.org/webt/jl/lw/8g/jllw8gd0ljeg4xamaa9jdj4endc.png"><br></li><li>  <b>The ability to form the structure and amount of data on the client</b> <br><br>  Actually, this is one of the main features of GraphQL, the format and data structure is defined on the client side.  In REST, the format and data structure are strictly defined on the server. <br></li><li>  <b>Passing Arguments to a Request</b> <br><br><img src="https://habrastorage.org/webt/m3/ev/ay/m3evayasyvtvy7nqs7qo7y-ebbe.png"><br>  Making a conclusion from the preceding paragraphs, you probably already know the answer, due to the fact that GraphQL is a single entry point into GraphQL, we have the opportunity to pass arguments to any nesting level. <br><br>  In REST, each path is represented as a separate entry point, in which case we can pass arguments only for the entire request. <br></li></ul><br>  At the end of the first part, the second part will be added soon.  Thanks to all!) </div><p>Source: <a href="https://habr.com/ru/post/343872/">https://habr.com/ru/post/343872/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../343860/index.html">One-stop digital marketing: dismantling SAS cloud products</a></li>
<li><a href="../343862/index.html">Startup of the day (November 2017)</a></li>
<li><a href="../343864/index.html">F # on Linux as a cure for the soul</a></li>
<li><a href="../343866/index.html">Electricity in the data center</a></li>
<li><a href="../343870/index.html">Most Popular Books on Reddit Programming</a></li>
<li><a href="../343874/index.html">Installing Solaris 10 on a SunFire V240 over a network using a Debian Stretch-based boot server</a></li>
<li><a href="../343876/index.html">Real-time anti-aliasing algorithms</a></li>
<li><a href="../343878/index.html">Good bot for Slack</a></li>
<li><a href="../343880/index.html">How we made an application under Windows 10 with Fluent Design (UWP / C #)</a></li>
<li><a href="../343882/index.html">Undefined behavior! = Insecure programming</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>