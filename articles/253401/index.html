<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Analysis of the tasks of the warm-up training round of the Russian Code Cup 2015</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On Sunday, I passed the warm-up training round of the Russian Code Cup. The first place was taken by Mikhail ‚Äúmmaxio‚Äù Majorov from Perm. The second is...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Analysis of the tasks of the warm-up training round of the Russian Code Cup 2015</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/files/465/d17/6d2/465d176d232a4ce5b56e650eff185eb0.jpg"></div><br><br>  On Sunday, I passed the warm-up training round of the Russian Code Cup.  The first place was taken by Mikhail ‚Äúmmaxio‚Äù Majorov from Perm.  The second is Igor ‚Äúkraskevich‚Äù Kraskiewicz from Moscow.  Third - Valentine "ValenKof" Kofman from Moscow.  Congratulations to the winners! <br><br>  Ahead of qualifying rounds of the championship.  We remind you that the first qualifying round will be held on March 28 at 18:00 Moscow time, and registration for the championship takes place on the website <a href="http://www.russiancodecup.ru/">http://www.russiancodecup.ru/</a> before the start of the third qualifying round. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Russian Code Cup is an opportunity for Russian-speaking programmers from around the world to test their strength and demonstrate their skills, solving original problems of varying complexity, as well as express themselves to the expert IT community.  The Olympiad is held in three stages: qualifying rounds, the qualifying round and the final - each of which offers participants from four to eight diverse tasks.  Tasks and technical part of the competition are provided by Mail.Ru Group experts and experts from ITMO University, co-organizer of the Russian Code Cup. <br><br>  And now let's deal with the problem of the warmup-round. <br><br>  <b>Task A. <a href="http://www.russiancodecup.ru/championship/round/34/problem/A/">Balloons</a></b> <br><a name="habracut"></a><br>  Find the number of different numbers in the array.  If it is greater than or equal to <i>k</i> , then we can type <i>k</i> different colors in the answer.  If it is less than <i>k</i> , then we take one ball of each color, and take the missing balls in an arbitrary way.  You can find all the different numbers in the array by sorting. <br><br>  <b>Task B. <a href="http://www.russiancodecup.ru/championship/round/34/problem/B/">Test purchase</a></b> <br><br>  In the task it was necessary to simulate the process described in the condition.  We duplicate the boxes: let's say we have not one box with two payment methods, but two with different values, from which you can buy only one.  Sort by event time: cash receipts and boxes.  Moreover, if the time of the nearest receipt and the box are the same, we give preference to receipt.  For each event of receipt of money, we simply add the amount received to the current amount.  For each event of the appearance of the box, which we have not bought yet, we check whether there is enough money, and if so, then we buy the box. <br><br>  <b>Problem C. <a href="http://www.russiancodecup.ru/championship/round/34/problem/C/">Solemn Parade</a></b> <br><br>  If <i>k&gt; n <sub>2</sub></i> or the number of simple ones up to 10 <sup>7 is</sup> less than <i>k</i> , then there is no solution, in other cases there is a solution. <br><br>  Let us take advantage of the fact that the number of divisors of a number <i>n = p1 <sub>s1</sub> √ó p2 <sub>s2</sub> √ó‚Ä¶ √ó pk <sub>sk</sub></i> is equal to <i>(s <sub>1</sub> +1) √ó (s <sub>2</sub> +1) √ó‚Ä¶ √ó (s <sub>k</sub> +1)</i> . <br><br>  We generate such a matrix so that in each row and each column the sets of powers of primes are equal, that is, the numbers in them have the form <i>p1 <sub>s1</sub> √ó p2 <sub>s2</sub> √ó ... √ó pk <sub>sk</sub></i> where <i>p <sub>i</sub></i> are some prime numbers, possibly different for each row and column, and <i>s <sub>i</sub></i> - fixed numbers for all rows and columns. <br><br>  If <i>k&gt; n</i> , then fill the <i>n <sub>2</sub> - (k - n)</i> cells of the matrix as follows: fill the <i>i</i> -th row of the matrix with the <i>i</i> -th cyclic shift of the first <i>n</i> primes, and fill the remaining <i>k - n</i> cells of the matrix with the remaining <i>k - n</i> primes .  Thus, in each row and each column there will be exactly <i>n</i> different prime numbers, and the number of dividers for them will be the same. <br><br>  If <i>k ‚â§ n</i> , then in <i>a [i] [j]</i> -th cell of the matrix we put <i>(i + j) mod k</i> -th prime number (when indexing from zero).  You can make sure that such a filling gives the desired result. <br><br>  <b>Problem D. The <a href="http://www.russiancodecup.ru/championship/round/34/problem/D/">minions are having fun.</a></b> <br><br>  We reformulate the condition as follows: in an undirected graph, we need to find a cycle whose sum of weights of the minimum and maximum edges is maximal.  First, we note that the function <i>\ emph {is it true that the answer to the problem ‚â• x}</i> is monotone.  So, you can run a binary search on it.  How to check that the answer to the problem <i>‚â•x</i> ? <br><br>  Subtract <i>x / 2</i> from all edges.  Now we need to check the existence of a cycle whose sum of the minimum and maximum edges is greater than 0. Take the minimum edge with a non-negative weight, let its weight be <i>w <sub>1</sub></i> .  Add to the data structure <i>\ emph {a system of disjoint sets}</i> all edges whose weight does not exceed <i>-w <sub>1</sub></i> .  After that add an edge <i>w <sub>1</sub></i> .  If, while adding, the ends of the edge lay in one component of the connectivity, then we have found the required cycle, if not - it has not yet. <br><br>  After that, we continue the algorithm - take the next nonnegative edge with weight <i>w <sub>2</sub></i> by weight, add all edges with weights <i>-w <sub>2 ..</sub> -w <sub>1</sub> -1</i> and add edge itself <i>w <sub>2</sub></i> .  If, while adding, the ends of the edge lay in one component, then the cycle is found, if not - it is not there yet.  Continue to execute the algorithm for all non-negative edges. <br><br>  <b>Problem E. <a href="http://www.russiancodecup.ru/championship/round/34/problem/E/">Lottery</a></b> <br><br>  We first solve the problem when all <i>x <sub>i are</sub></i> different.  Sort queries in ascending order <i>x <sub>i</sub></i> .  At each moment in time, we want to know which elements of the array are already occupied by some number.  Initially, no array element is occupied. <br><br>  Let us now have an array, in it some elements are occupied.  We want to process a request whose answer is <i>x <sub>i</sub></i> .  Requests for all <i>x <sub>j</sub></i> such that <i>x <sub>j</sub> &lt;x <sub>i</sub></i> have already been processed.  Calculate the number of unoccupied elements on the segment <i>l <sub>i</sub> ..r <sub>i</sub></i> .  Let it be <i>cnt</i> .  Then we say that in all these elements we put some number and multiply the answer to <i>x <sub>icnt</sub> - (x <sub>i</sub> -1) <sub>cnt</sub></i> - the number of ordered sets of <i>cnt</i> numbers, at least one number in which is equal to <i>x <sub>i</sub></i> .  A number greater than <i>x <sub>i</sub></i> , in these elements, we can not deliver (the answer to the request in this case will not be equal to <i>x <sub>i</sub></i> ).  Therefore, we have not lost any arrays. <br><br>  After we process all requests, we can put any numbers in the empty elements of the array.  Therefore, we multiply the answer by <i>k <sub>cnt</sub></i> . <br><br>  Complete solution: we will solve the problem as in the previous case.  Now we have <i>x <sub>i</sub></i> can be the same.  We solve the problem for queries, the answer to which is equal to <i>x</i> .  Remove from consideration all the segments that contain others.  For the remaining ones, we calculate the dynamics: <i>dp [i]</i> is the number of ways to arrange the numbers on the prefix of length <i>i</i> so that the number <i>x is</i> at the end.  Then we have to go through, when the last time met the number <i>x</i> , let it be the position of <i>j</i> (in the remaining cells between <i>j</i> and <i>i, the</i> numbers are strictly less than <i>x</i> ), but this must be done so that we do not miss the segment.  That is, so that there is no such segment ( <i>l, r</i> ), with the answer <i>x</i> , that <i>j &lt;l ‚â§ r &lt;i</i> .  If it is, then there will be no <i>x on it</i> . <br><br>  Therefore, <i>dp [i] = sum (j = k..i-1: dp [j] (x-1) <sub>i - j - 1</sub></i> , where k is the left border of the segment, whose right border is up to position <i>i</i> and its left the end is closest to this position <i>i</i> . Such dynamics will work in total for <i>O (nm)</i> . <br><br>  Note that the value of <i>k</i> for position <i>i</i> can change compared to position <i>i-1</i> only if there was an end of some segment in position <i>i-1</i> .  If, on the <i>i-1</i> position, there was no right grancia of the segment, then <i>dp [i] = dp [i-1] √ó (x-1) + dp [i-1] = dp [i-1] √ó x</i> .  Therefore, we can get rid of the multiplier <i>n</i> in the asymptotics, considering the value of the dynamics between two adjacent right boundaries, as <i>x <sub>cnt</sub></i> , where <i>cnt</i> is the number of places where you can put something. <br><br>  The resulting solution will work for <i>O (m log n + n)</i> . </div><p>Source: <a href="https://habr.com/ru/post/253401/">https://habr.com/ru/post/253401/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../253389/index.html">The hero of IT-stories: quest</a></li>
<li><a href="../253391/index.html">DUMP-2015 Conference: Serverside.Experience and Serverside.Knowledge section</a></li>
<li><a href="../253393/index.html">As we with third-graders programmed the address garland</a></li>
<li><a href="../253395/index.html">Mongoose rake</a></li>
<li><a href="../253397/index.html">Dagaz: Kicks to common sense (part 4)</a></li>
<li><a href="../253403/index.html">Semaphore App. Ruby on Rails. Continuous integration / delivery</a></li>
<li><a href="../253405/index.html">The Golden App mobile application competition has started</a></li>
<li><a href="../253407/index.html">CNC machine with advanced functionality</a></li>
<li><a href="../253413/index.html">Installing gitolite on a Centos server</a></li>
<li><a href="../253419/index.html">Visualization of equipment performance statistics with R - Shiny</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>