<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>YaLinqo (LINQ to Objects for PHP) - version 2.0</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I'm sorry, what? 

 LINQ is a thing that allows you to write queries, something like SQL, right in the code. LINQ to Objects, in fact, allows you to w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>YaLinqo (LINQ to Objects for PHP) - version 2.0</h1><div class="post__text post__text-html js-mediator-article"><img align="right" src="https://habrastorage.org/getpro/habr/post_images/a88/804/a0d/a88804a0d87bfaf21b6817ade48e772b.png">  <i>I'm sorry, what?</i> <br><br>  LINQ is a thing that allows you to write queries, something like SQL, right in the code.  LINQ to Objects, in fact, allows you to write queries to objects, arrays, and all that with which you operate in code. <br><br>  <i>This is why?</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If you have a base, then you have a favorite ORM (or a favorite bare SQL - as you like).  But sometimes objects come from web services, from files, and in general darkness of objects may require non-trivial processing: conversion, filtering, sorting, grouping, aggregation ... Apply the usual ORM or SQL - but there is no base.  This is where LINQ to Objects comes to the rescue, in this case YaLinqo. <br><br>  <i>What can?</i> <br><br><ul><li>  The most complete .NET LINQ port in PHP, with many additional methods.  In total, more than 70 methods have been implemented. </li><li>  Lazy calculations, text exceptions and more, as in the original LINQ. </li><li>  Detailed PHPDoc documentation for each method.  The text of articles is adapted from MSDN. </li><li>  100% coverage with unit tests. </li><li>  Callbacks can be specified by closures, "function pointers" in the form of strings and arrays, and string "lambdas" with support for multiple syntaxes. </li><li>  Keys are given as much attention as they are to values: transformations can be applied to both;  most callbacks accept both as input;  keys, if possible, are not lost during conversions. </li><li>  Minimal invention of bicycles: Iterator, IteratorAggregate, etc. are used for iteration (and they can be used along with Enumerable);  whenever possible, exceptions are used native pokapeshnye </li><li>  Composer is supported, there is a pack on Packagist. </li><li>  No external dependencies. </li></ul><br>  <i>What happened?</i> <br><br>  A year has passed since PHP 5.5 came out with all sorts of goodies such as generators and corrected iterators.  Since on my conscience the most full-fledged LINQ port in PHP, I decided that it was time to update it and use new features of the language. <br><br><a name="habracut"></a>  <i>What's new?</i> <br><br>  The speed is new.  Tons of code are thrown out (about 800 lines under Git's calculations): there are no crutches like <code>Enumerator</code> to generate <code>Iterator</code> 's;  there were no useless collections, in fact the only advantage of which was the storage of objects in the keys;  there was no <code>call_user_func</code> ... And the most important thing - there was no heap of low-grade code for generating iterators, which is impossible to understand.  Stay <code>foreach</code> and <code>yield</code> .  All this in the amount gave a sickly increase in speed. <br><br>  You have no idea with what pleasure I replaced this monster: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Enumerable(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">use</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($self, $inner, $outerKeySelector, $innerKeySelector, $resultSelectorValue, $resultSelectorKey)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> $self Enumerable */</span></span> <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> $inner Enumerable */</span></span> <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> $arrIn array */</span></span> $itOut = $self-&gt;getIterator(); $itOut-&gt;rewind(); $lookup = $inner-&gt;toLookup($innerKeySelector); $arrIn = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; $posIn = <span class="hljs-number"><span class="hljs-number">0</span></span>; $key = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Enumerator(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($yield)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">use</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($itOut, $lookup, &amp;$arrIn, &amp;$posIn, &amp;$key, $outerKeySelector, $resultSelectorValue, $resultSelectorKey)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> $itOut \Iterator */</span></span> <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> $lookup \YaLinqo\collections\Lookup */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ($arrIn === <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> || $posIn &gt;= count($arrIn)) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($arrIn !== <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) $itOut-&gt;next(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!$itOut-&gt;valid()) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; $key = call_user_func($outerKeySelector, $itOut-&gt;current(), $itOut-&gt;key()); $arrIn = $lookup[$key]; $posIn = <span class="hljs-number"><span class="hljs-number">0</span></span>; } $args = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>($itOut-&gt;current(), $arrIn[$posIn], $key); $yield(call_user_func_array($resultSelectorValue, $args), call_user_func_array($resultSelectorKey, $args)); $posIn++; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; }); });</code> </pre><br>  to concise: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Enumerable(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">use</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($inner, $outerKeySelector, $innerKeySelector, $resultSelectorValue, $resultSelectorKey)</span></span></span><span class="hljs-function"> </span></span>{ $lookup = $inner-&gt;toLookup($innerKeySelector); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $ok =&gt; $ov) { $key = $outerKeySelector($ov, $ok); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($lookup[$key])) <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($lookup[$key] <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $iv) <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> $resultSelectorKey($ov, $iv, $key) =&gt; $resultSelectorValue($ov, $iv, $key); } });</code> </pre><br>  In addition, I finally added human tags with versions to the repository and described branch aliases in <code>composer.json</code> , so working with Composer should now cause less pain. <br><br>  <i>So what is it, after all?</i> <br><br>  Suppose you have arrays: <br><br><pre> <code class="php hljs">$products = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Keyboard'</span></span>, <span class="hljs-string"><span class="hljs-string">'catId'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'hw'</span></span>, <span class="hljs-string"><span class="hljs-string">'quantity'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Mouse'</span></span>, <span class="hljs-string"><span class="hljs-string">'catId'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'hw'</span></span>, <span class="hljs-string"><span class="hljs-string">'quantity'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Monitor'</span></span>, <span class="hljs-string"><span class="hljs-string">'catId'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'hw'</span></span>, <span class="hljs-string"><span class="hljs-string">'quantity'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Joystick'</span></span>, <span class="hljs-string"><span class="hljs-string">'catId'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'hw'</span></span>, <span class="hljs-string"><span class="hljs-string">'quantity'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">4</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'CPU'</span></span>, <span class="hljs-string"><span class="hljs-string">'catId'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'hw'</span></span>, <span class="hljs-string"><span class="hljs-string">'quantity'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">5</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Motherboard'</span></span>, <span class="hljs-string"><span class="hljs-string">'catId'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'hw'</span></span>, <span class="hljs-string"><span class="hljs-string">'quantity'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">6</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Windows'</span></span>, <span class="hljs-string"><span class="hljs-string">'catId'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'os'</span></span>, <span class="hljs-string"><span class="hljs-string">'quantity'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">666</span></span>, <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">7</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Linux'</span></span>, <span class="hljs-string"><span class="hljs-string">'catId'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'os'</span></span>, <span class="hljs-string"><span class="hljs-string">'quantity'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">666</span></span>, <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">8</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Mac'</span></span>, <span class="hljs-string"><span class="hljs-string">'catId'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'os'</span></span>, <span class="hljs-string"><span class="hljs-string">'quantity'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">666</span></span>, <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">9</span></span>), ); $categories = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Hardware'</span></span>, <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'hw'</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Operating systems'</span></span>, <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'os'</span></span>), );</code> </pre><br>  Suppose you need to place products with a non-zero quantity into the appropriate categories sorted by name, and sort the products within categories first by decreasing quantity, then by name.  Now you start building three-nested loops in your mind, function calls for arrays, trying to remember which prefix of a suitable sorting function ... Instead of all this you can write: <br><br><pre> <code class="php hljs">$result = from($categories) -&gt;orderBy(<span class="hljs-string"><span class="hljs-string">'$cat ==&gt; $cat["name"]'</span></span>) -&gt;groupJoin( from($products) -&gt;where(<span class="hljs-string"><span class="hljs-string">'$prod ==&gt; $prod["quantity"] &gt; 0'</span></span>) -&gt;orderByDescending(<span class="hljs-string"><span class="hljs-string">'$prod ==&gt; $prod["quantity"]'</span></span>) -&gt;thenBy(<span class="hljs-string"><span class="hljs-string">'$prod ==&gt; $prod["name"]'</span></span>), <span class="hljs-string"><span class="hljs-string">'$cat ==&gt; $cat["id"]'</span></span>, <span class="hljs-string"><span class="hljs-string">'$prod ==&gt; $prod["catId"]'</span></span>, <span class="hljs-string"><span class="hljs-string">'($cat, $prods) ==&gt; [ "name" =&gt; $cat["name"], "products" =&gt; $prods ]'</span></span> );</code> </pre><br>  If the creators of PHP were not stubborn donkeys and did not abandon the pull-request with lambdas, you could even write this: <br><br><pre> <code class="php hljs">$result = from($categories) -&gt;orderBy($cat ==&gt; $cat[<span class="hljs-string"><span class="hljs-string">'name'</span></span>]) -&gt;groupJoin( from($products) -&gt;where($prod ==&gt; $prod[<span class="hljs-string"><span class="hljs-string">'quantity'</span></span>] &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) -&gt;orderByDescending($prod ==&gt; $prod[<span class="hljs-string"><span class="hljs-string">'quantity'</span></span>]) -&gt;thenBy($prod ==&gt; $prod[<span class="hljs-string"><span class="hljs-string">'name'</span></span>]), $cat ==&gt; $cat[<span class="hljs-string"><span class="hljs-string">'id'</span></span>], $prod ==&gt; $prod[<span class="hljs-string"><span class="hljs-string">'catId'</span></span>], ($cat, $prods) ==&gt; [ <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; $cat[<span class="hljs-string"><span class="hljs-string">'name'</span></span>], <span class="hljs-string"><span class="hljs-string">'products'</span></span> =&gt; $prods, ] );</code> </pre><br>  Anyway, at the output we get: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> ( [hw] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> ( [name] =&gt; Hardware [products] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> ( [<span class="hljs-number"><span class="hljs-number">0</span></span>] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> ( [name] =&gt; Mouse [catId] =&gt; hw [quantity] =&gt; <span class="hljs-number"><span class="hljs-number">20</span></span> [id] =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> ) [<span class="hljs-number"><span class="hljs-number">1</span></span>] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> ( [name] =&gt; CPU [catId] =&gt; hw [quantity] =&gt; <span class="hljs-number"><span class="hljs-number">15</span></span> [id] =&gt; <span class="hljs-number"><span class="hljs-number">5</span></span> ) [<span class="hljs-number"><span class="hljs-number">2</span></span>] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> ( [name] =&gt; Joystick [catId] =&gt; hw [quantity] =&gt; <span class="hljs-number"><span class="hljs-number">15</span></span> [id] =&gt; <span class="hljs-number"><span class="hljs-number">4</span></span> ) [<span class="hljs-number"><span class="hljs-number">3</span></span>] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> ( [name] =&gt; Motherboard [catId] =&gt; hw [quantity] =&gt; <span class="hljs-number"><span class="hljs-number">11</span></span> [id] =&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> ) [<span class="hljs-number"><span class="hljs-number">4</span></span>] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> ( [name] =&gt; Keyboard [catId] =&gt; hw [quantity] =&gt; <span class="hljs-number"><span class="hljs-number">10</span></span> [id] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> ) ) ) [os] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> ( [name] =&gt; Operating systems [products] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> ( [<span class="hljs-number"><span class="hljs-number">0</span></span>] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> ( [name] =&gt; Linux [catId] =&gt; os [quantity] =&gt; <span class="hljs-number"><span class="hljs-number">666</span></span> [id] =&gt; <span class="hljs-number"><span class="hljs-number">8</span></span> ) [<span class="hljs-number"><span class="hljs-number">1</span></span>] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> ( [name] =&gt; Mac [catId] =&gt; os [quantity] =&gt; <span class="hljs-number"><span class="hljs-number">666</span></span> [id] =&gt; <span class="hljs-number"><span class="hljs-number">9</span></span> ) [<span class="hljs-number"><span class="hljs-number">2</span></span>] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> ( [name] =&gt; Windows [catId] =&gt; os [quantity] =&gt; <span class="hljs-number"><span class="hljs-number">666</span></span> [id] =&gt; <span class="hljs-number"><span class="hljs-number">7</span></span> ) ) ) )</code> </pre><br>  For aesthetes and optimizers, it is possible to use anonymous functions, not ‚Äústring lambdas‚Äù.  Instead of <code>'$prod ==&gt; $prod["quantity"] &gt; 0'</code> you can write <code>function ($prod) { return $prod['quantity'] &gt; 0; }</code>  <code>function ($prod) { return $prod['quantity'] &gt; 0; }</code> .  For wild obfuscators, it is possible to use the default argument names (v is the value, k is the key, etc.), that is, you can simply write <code>'$v["quantity"] &gt; 0'</code> (not recommended for complex nested queries). <br><br>  <i>Where is LINQ to Database?</i> <br><br>  Yes, in fact, in the .NET world, LINQ queries are also used in ORM (someone will say that this is a general purpose in general), but this particular feature is absent in the library, because any attempt to implement it will result in a ton of crutches, brakes and other unsightly things due to the lack of support at the language level (parsing expressions, in particular).  LINQ to Objects didn‚Äôt do without crutches in the form of ‚Äústring lambda‚Äù, and here you will need a full-fledged translator from PHP to SQL with full parsing and tons of optimizations - the sunset manually. <br><br>  <i>Come on!</i> <br><br><ul><li>  <a href="https://github.com/Athari/YaLinqo">YaLinqo on github</a> . </li><li>  <a href="https://packagist.org/packages/athari/yalinqo">YaLinqo on Packagist</a> . </li></ul><br>  PS Old version supports PHP 5.3.  Functionally not inferior, but somewhat slower (iterators, s). <br><br>  PPS Finally, a sane competitor (Ginq) appeared.  There are tons of SPL, Symfony and other architecture, zero comments, a lot of brakes (overhead from x2 to x50 relative to my version).  Benchmarks in the process, I will write next time. </div><p>Source: <a href="https://habr.com/ru/post/229763/">https://habr.com/ru/post/229763/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../229747/index.html">A simple way to connect an arbitrary video source in Qml</a></li>
<li><a href="../229749/index.html">Raspberry Developers Release Raspberry Pi Model B +</a></li>
<li><a href="../229755/index.html">Meet Avaya ERS 4000</a></li>
<li><a href="../229757/index.html">Search and analysis of the optimal color space for the construction of eye-catching objects on a given class of images</a></li>
<li><a href="../229761/index.html">Fail story of SaaS Helpdesk for small business</a></li>
<li><a href="../229765/index.html">Juniper SRX Series Basic Setup</a></li>
<li><a href="../229767/index.html">Efficient multithreading in Python</a></li>
<li><a href="../229773/index.html">Android "Evolution": how it was</a></li>
<li><a href="../229777/index.html">How to communicate with the 36-year-old space probe using GNU Radio</a></li>
<li><a href="../229779/index.html">Weka project for the task of recognition of tonality (sentiment)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>