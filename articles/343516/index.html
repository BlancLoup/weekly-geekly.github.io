<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Developers on the dirtiest software tricks in games</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When time runs out, the developers are exhausted, and the mysterious problems continue to appear, sometimes non-standard solutions are required. When ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Developers on the dirtiest software tricks in games</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d48/e11/563/d48e11563ee77f107d981694c7053a32.jpg" alt="image"></div><br><br>  When time runs out, the developers are exhausted, and the mysterious problems continue to appear, sometimes non-standard solutions are required.  When you need to complete the project at any cost, everything is at stake ... In a couple of classic articles originally published in the friendly Game Developer magazine, we studied several amazing examples of such real-life decisions.  These timeless masterpieces can be read <a href="https://www.gamasutra.com/view/feature/132500/dirty_coding_tricks.php">here</a> ( <a href="https://habrahabr.ru/post/328552/">transfer</a> to Habr√©) and <a href="https://www.gamasutra.com/view/news/249475/More_dirty_coding_tricks_from_game_developers.php">here</a> . <br><br>  Gamasutra again decided to consider this topic.  We have collected from the entire gaming industry unusual solutions to unusual problems.  Those who shared these solutions with us may not be proud of such ‚Äúcorrections‚Äù, but in fact they should be proud.  They managed to release the game, they did not spoil anything and, most importantly, no one noticed.  At least until this article. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Enjoy ingenuity, marvel at fearlessness, learn from the mistakes of your predecessors, and most importantly - release running games, and also on time. <br><a name="habracut"></a><br>  If you want to share your amazing solutions invented for the release of games, then we are happy to know about them!  <a href="">Send your dirty tricks to Gamasutra</a> (with the subject of ‚Äúdirty coding tricks‚Äù) and maybe they will be presented in the next article. <br><br><h1>  The day when the <em>Super Time Force</em> batteries are gone </h1><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d6b/b3b/9a0/d6bb3b9a0d80f7ffd00ae5df869ebc89.jpg"></div><br><br>  Maybe this is imperceptible, but <a href="http://supertimeforce.com/"><em>Super Time Force</em></a> barely fit within the limits of Xbox 360 memory. Because of the time rewind function, we had to store all the information of each active level object for the entire duration of the rewind time scale.  Each new player, enemy, bullet, explosion, platform, heap of garbage and a torn part of the body ate off the rewind memory, and this problem poisoned the whole process of game development. <br><br>  At the final stage of certification, after meticulously debugging the perfect balance of each level and rewind buffer, we received from the quality control department a report on a new error: <br><br>  ‚ÄúStart any level.  As quickly as possible, press all the buttons on the controller for two minutes.  Rewind and repeat it twenty more times.  Memory exhausted. <br><br>  The quick spamming of the buttons ate the rewind memory faster than expected from user input.  Instead of going back to the very beginning and completely changing the balance of the file levels and buffer sizes, we stopped at a simpler solution: recognize long unreasonable intervals by quickly pressing buttons and immediately destroy the player, and then rewind it back to the beginning of the level.  We "pretended" that the player, by violently pressing buttons, accidentally turned on the rewind function.  Now the bug has become a feature. <br><br>  A few days later, we received another error report: <br><br>  ‚ÄúStart 199X level 2. Complete the level, exploding everything and leaving as many debris as possible, continuously firing a machine gun until time runs out.  Rewind and repeat twenty more times.  Memory exhausted. <br><br>  The limit of the rewind memory turned out to be possible in the indecently rare case of the appearance at this particular level of a certain number of bullets and explosions creating debris.  And again, instead of changing the balance of the file levels and the size of the game buffers, we came up with a simpler idea: when the game approaches the rewind memory limit, we simply pause the game, display a huge blinking ‚Äúlow battery‚Äù icon and gracefully throw the player into level selection menu. <br><br>  No, in fact, the controller is not discharged battery.  No, we did not explain anything to anyone.  Yes, the quality control department accepted this correction and we passed certification. <br><br>  <a href="https://twitter.com/Capy_Ken">Kenneth Jung</a> , Capy Games CTO <br><br><h1>  Additional tachometer </h1><br>  I worked as a lead racing programmer for PS2 and PSP, developed in parallel for PS3 and 360. <br><br>  The quality control department complained that driving was slightly different from other versions of the game.  It felt not very natural.  We could not find the problem, so we invited one of the testers to our office to discuss it.  He played the game with us and confirmed that the problem does not occur in the office, but manifests itself in the assembly for the quality department. <br><br>  We tried to narrow the discrepancies between the QA build and our test build, and found that the differences in control were related to the frame rate counter that we displayed in the corner of the test build screen.  Turning it off, as in the master assembly that the quality control department used, we really felt that management felt a little differently.  In fact, it gets better.  We spent some time on blind testing (closed the part of the screen on which the frame counter was displayed and played with the meter turned on and off) to see for ourselves that this was exactly the case.  The difference seemed insignificant and difficult to recognize.  One thing was obvious - the output of the frame rate "corrected" problems with the management. <br><br>  We spent a couple of weeks looking for the causes of this problem.  We investigated the code of physics that the team that worked on other versions of the game passed to us, looked for uninitialized variables (which could be affected by the stack state of the font procedure) or possible problems with timings.  We tried to initialize the memory.  But they did not find any reason or solution. <br><br>  The last thing one could hope for was to check whether the movement of the frame rate counter off-screen influences the control of the machine.  It turned out that the place where the frame rate was displayed did not change anything, even if the counter was outside the screen. <br><br>  And only during the last test, on the eve of the certification of the game, we guessed it before solving the problem - if not to its cause.  We have released a game with a constantly enabled debug counter frame rate, just brought it slightly beyond the right edge of the screen. <br><br>  <strong><a href="https://twitter.com/martinturton">Martin Turton</a> , Director, <a href="http://www.cleverbeans.co.uk/">Clever Beans Ltd</a></strong> <br><br><h1>  Carried away </h1><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/35e/9a4/c98/35e9a4c9833321646c9271509e2fe4a9.jpg"></div><br><br>  The most undoubtedly dirty trick remembered from the development of <em>Titan Quest</em> , was the management of scripting events.  Technology quests / events had a serious weakness - after the action triggered there were no ways to postpone it.  Therefore, if we wanted something to happen five seconds after the player had run through any limiting volume, then we could not set a delay.  The action has always been instant. <br><br>  The end of development was already nearing, so it was difficult to ask for the introduction of additional functions, the developers were already struggling to manage to deliver everything necessary for the next stage.  One of the QA testers began to help us with the work on scripting, and found out that in fact there is a way to delay the triggering of an event by changing the duration of the animation. <br><br>  As a result, he took the gaps that were creatures of the environment in the game, and used them as an animation timer.  So they became the default timing mechanism.  The tester created an invisible version of the white one, which he located in the places of the levels we needed, and then tied the entire countdown to the duration of her waiting animation.  Thanks to this creative solution of the problem, he was promoted to a designer in the next project. <br><br>  Arthur Bruno, owner / lead designer of <a href="http://www.crateentertainment.com/">Crate Entertainment</a> <br><br><h1>  Advertise phobia </h1><br>  The latest version of our game has a new feature that gave players in-game currency for viewing video ads (which also increased our income).  After the release of the game, we found that video ads were requested incorrectly, which is why only one video was played during the gaming session - a serious nuisance. <br><br>  In our game, the server side infrastructure was used to perform various actions in different cases, allowing us to expand the functionality of the game after the release.  The system checked the rules, and if they were executed, then it started the specified actions. <br><br>  The rules were judged by reflection.  For example, when specifying the rule VideoAds.IsVideoAvailable = true, using reflection, this property was called and the action was performed if the property was true. <br><br>  Fortunately for us, this system could have been easily hacked, so we added a new rule VideoAds.RefreshVideos = true.  This rule was never equal to true (therefore, the action was never executed), but it caused the code that updates the video, which allowed us to ‚Äúforce‚Äù the system to use the primitive mechanism for executing remote code.  Problem solved! <br><br>  <a href="https://twitter.com/liortal">Lior Tal</a> , CEO <a href="https://cyngn.com/">Cyanogen</a> <br><br><h1>  And ... filmed! </h1><br>  We worked on a major update for the game under Android two weeks before the ‚Äúgold release‚Äù.  The quality control department informed us that on some random devices, after a cutscene playback, a crash occurs.  My colleague spent a week trying to isolate the error or figure out the cause.  We did not find her.  But we found that when you press the back button to skip the video, a crash does not occur.  Our dirty little trick was to put a timer into the cutscene and, one second before it was completed, simulate pressing the back button.  We used it as a temporary solution to the problem.  Six months later, this "temporary solution" was still in the code. <br><br>  Marlon Ruwalkaba Munoz, <a href="http://www.karaokulta.com/">Karaokulta</a> <br><br><h1>  Black ice white noise </h1><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2e7/c6d/e27/2e7c6de27ceecc64954fc59c4fc7e1f7.jpg"></div><br><br>  When working on <a href="http://store.steampowered.com/app/311800/Black_Ice/"><em>Black Ice,</em></a> I wanted to create a sky that looked like an endless room (as in the screenshot), but the location of hundreds of objects in the sky reduced performance, and mirrors in games from the 90s were not very viable.  So I decided to do it with particles.  Everything was quite simple - I wrote a script to position them in the world, but then a problem arose: the particles disappeared when the player turned away from the origin point of the world. <br><br>  It took me some time to find out that Unity‚Äôs legacy system of particles cut off all the particles in the system when the invisible particle emitter was outside of the camera view.  (Does everyone know what cut-off by the pyramid of visibility is?) I struggled for a long time with the problem, but once a solution came to me - I attached the emitter to the player‚Äôs face, about six inches lower.  Thus, the player could not turn away from the emitter, in whatever direction he looked!  I had to change the particle emission based on the position in the world and update them as the player moves, but it worked! <br><br>  The GIF below shows what it looks like in the editor and in the game. <br><br><div class="spoiler">  <b class="spoiler_title">In the editor</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/191/e55/35e/191e5535e88d4f15b7f0a1b2c6e7946b.png"></div><br><br><div class="spoiler">  <b class="spoiler_title">In Game</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br>  <a href="https://twitter.com/superdupergc">Garrett Cooper</a> , Game Creator, <a href="http://superdupergc.com/">Super Duper Game Company</a> <br><br><h1>  Head straight to jail </h1><br>  When I worked at Backbone Entertainment, Kevin Wilson and I worked on a very intense project to transfer Midway arcade games to PSN.  It was the very beginning of the PS3 era.  It seems that among the first eleven games available for download were ours: <em>Joust</em> , <em>Championship Sprint</em> , <em>Rampage World Tour</em> , <em>Rampart</em> and <em>Mortal Kombat 2</em> , and some other similar game. <br><br>  Backbone had previously released these games in the XBox Live Arcade, but they were not developed very cross-platform.  The project needed to be folded in just a few weeks, so we did what anybody would do with such a temporary load: we partially implemented Direct X on the PS3.  I spent the last week of the project hiding tracks. <br><br>  <a href="https://twitter.com/kawaiipandax">Ian Sherman</a> , programmer at <a href="http://www.otherocean.com/">Other Ocean</a> <br><br><h1>  Dll it yourself </h1><br>  The client, very concerned about concealing his ‚Äúknow-how,‚Äù gave us several DLLs only for our target console platforms, that is, the libraries were essentially a ‚Äúblack box‚Äù.  We persistently did not give any libraries for the PC, no matter how we begged.  The whole front-end of the game was performed on a PC, and in the code there was only a blank engine, enough to run the gameplay, but we could not test the work of this game on the PC, and this did not suit us for many reasons. <br><br>  We thus went through the whole development cycle for PS3 / X360.  Then, for the next iteration of the game, we switched to Xbox One and PS4, having received updated versions of the engine libraries, but still without a version for PC, which made our work very difficult, especially on PS4. <br><br>  But the magic happened - the Xbox One libraries actually turned out to be a fully working 64-bit code for the PC, and they could simply be connected to the Windows executable file.  It was enough to have a PC with a fairly new CPU that contained the same instruction set extensions as the CPU on the Xbox.  We were happy, like children, when this system was able to get to work. <br><br>  Epilogue - on the next cycle, when we were making a version for Steam, customers finally became generous with the real PC library, so the hack was unnecessary. <br><br>  Dan filner <br><br><h1>  Is the bridge too far? </h1><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c5e/bb9/79a/c5ebb979af22bde702c57a2eb3252ef9.jpg"></div><br><br>  This is more like kit bash <i>(creation of something new from standard blanks, including three-dimensional modeling)</i> than a software trick, but when I started working on <a href="http://store.steampowered.com/app/219990/Grim_Dawn/"><em>Grim Dawn</em></a> , I practically worked alone.  There were several acquaintances who helped me in my free time (mostly former colleagues of Iron Lore), but I worked alone in full force.  A few months later, I was joined by a programmer, but before coming out on Kickstarter we didn‚Äôt have our own artist.  As a result, I spent some of my personal savings on hiring an artist, and one of the first objects I created was a wooden bridge.  It consisted of flat wooden planks, long rounded beams and metal railway crutches holding wood like nails. <br><br>  Sometimes volunteers came to the team, found themselves too busy with work and family, and then disappeared.  I got to the stage where not many new graphics appeared.  I am not an artist, my skills are limited to creating textures from photographs and the simplest basics of modeling.  In fact, I didn‚Äôt have much choice, except with the varying success to change the finished objects and correct the UV-maps. <br><br>  But I desperately needed more environmental objects so that I could move further in building the world.  Therefore, I had to open this bridge in the editor and use its separate parts to create new wooden buildings.  As a result, I got a lot of objects out of it.  Other bridges laid out from the boards of the footpath, entrances to the houses, fences, heaps of garbage, the gallows, which can be seen on the initial screen, signs, a table, roofs of houses ... redone, but fragments of this first bridge are still used in many subjects. <br><br>  Arthur Bruno, owner / lead designer of <a href="http://www.crateentertainment.com/">Crate Entertainment</a> <br><br><h1>  Sounds good! </h1><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f95/6b0/dfa/f956b0dfa1fabb486bd907b9ef9689bb.jpg"></div><br><br>  While working on the <em>Mega Man Legacy Collection</em> for 3DS, I discovered a ‚Äúbug‚Äù with a sound that I couldn‚Äôt track.  Any first sound that was played was either distorted or played incorrectly. <br><br>  I myself wrote the audio playback layer, but it was based on the Nintendo sound API for 3DS.  The playback system was supposed to support continuous streaming of such things as background music or NES sound emulation (the last one was not written by me), plus short small one-time sounds for actions such as UI effects and a demonstration of the initial logo. <br><br>  Each of the 3DS sound ‚Äúchannels‚Äù transmitted with it a data structure containing various flags and information for tracking the current state.  One of them is a flag that determines whether the channel is active or reproducible.  Nintendo's official documentation said that the flag is true if the channel plays something, and false otherwise. <br><br>  With this, I had a couple of bugs, the root cause of which I could not find due to lack of time.  Simply put, in nine out of ten cases when you started the game, the melody that accompanied the Digital Eclipse logo of the [game collection developer] was differently distorted - it stuttered or did not play at all.  It was the very first sound in the game, and I found out that the error always happens with the first sound that is played - the subsequent sounds are played without problems. <br><br>  When I started debugging, it turned out that in some cases this ‚Äúplayback‚Äù flag was true even when nothing was lost!  It was obvious that we could not release a project in such a state, and I had already finished all the clever ideas.  So what was my decision? <br><br>  When loading the game, before playing this first melody, I lost a second of silence.  And in this state the project was released. <br><br>  <a href="http://tps//twitter.com/ablitter">Keith Kaysershot</a> , <a href="http://www.digitaleclipse.com/">Digital Eclipse</a> Programmer </div><p>Source: <a href="https://habr.com/ru/post/343516/">https://habr.com/ru/post/343516/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../343506/index.html">MSA and more: how we create high-load services for the bank</a></li>
<li><a href="../343508/index.html">Yes, PVS-Studio can detect memory leaks</a></li>
<li><a href="../343510/index.html">Olympiad "I am a professional" track "Information and cyber security"</a></li>
<li><a href="../343512/index.html">Is it possible to push number recognition in any tamagotchi?</a></li>
<li><a href="../343514/index.html">Face Recognition. Create and try on masks</a></li>
<li><a href="../343518/index.html">How we rewrote the Yandex.Pogoda architecture and made a global forecast on maps</a></li>
<li><a href="../343522/index.html">Setting up a WEB system - testing based on headless chromium-browser, chromedriver, nightwatch and node.js on Ubuntu</a></li>
<li><a href="../343524/index.html">Network JTAG programmer for Altera Quartus Prime from Raspberry Pi3</a></li>
<li><a href="../343526/index.html">Two geometric tasks that came across at the interview, and where they live</a></li>
<li><a href="../343530/index.html">Development for Sailfish OS: Using Sensors (Part 2)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>