<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Create an OLAP cube. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Continuing the theme of Multidimensional Cubes, OLAP and MDX and olap for a small company , traditionally, I suggest starting with a simple ‚ÄúHello Wor...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Create an OLAP cube. Part 1</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/419/55a/02d/41955a02d1e46ecf4854c5cd1711bb29.png" alt="OLAP" align="right"><br><br>  Continuing the theme of <a href="http://habrahabr.ru/blogs/sql/66356/">Multidimensional Cubes, OLAP and MDX</a> and <a href="http://habrahabr.ru/blogs/sql/66920/">olap for a small company</a> , traditionally, I suggest starting with a simple <i>‚ÄúHello World‚Äù</i> cube that will analyze the processes and trends of voting on Habr√©. <br><br>  So let's try to create our first OLAP system. <br>  But, before, rubbing your hands, run Business Intelligence Studio, I suggest first creating a data storage for habr-voices, the so-called <b>Data Warehouse</b> . <br>  What for?  There are several reasons for this: <br><ul><li>  the very essence of Data Warehouse is to store ‚Äúcleaned‚Äù data, ready for analysis, so even its original structure can be very different from the structure of our Habr-OLTP database </li><li>  in <b>HabraDW</b> (as we will call it), we will carry out only the information that we need for analysis, nothing superfluous </li><li>  Data Warehouse does not impose normalization requirements.  On the contrary, by denormalizing some data, a clearer scheme for building a cube can be achieved, as well as a speed of loading data into a cube. </li></ul><a name="habracut"></a><br><h4>  A bit of theory. </h4><br>  In essence, Data Warehouse can be: <br><ul><li>  purely virtual (for example, defined as a set of SELECTs or even calls to complex stored procedures that somehow define the input to the cube) </li><li>  quite real, that is, to exist physically on some server (or servers) </li></ul>  In the latter case, you most likely want to implement <b>ETL processes</b> (using Integration Services or something else), but this is a reason for another, no less interesting, article. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  What should be Data Warehouse? </h4><br>  It's very simple - your Data Warehouse should have a <b>star-</b> shape structure or a <b>snowflake</b> model and consist of <b>facts</b> (facts) and dimensions. <br><br>  <i>Facts</i> are actual records (records) about some process that we want to analyze, for example, the voting process on Habr, or the process of changing the price of goods on the exchange.  Very often, the facts contain some numerical data, for example, the actual value of the voice or price. <br><br>  <i>Dimensions</i> are the defining attributes of facts, and usually answer all kinds of questions: when did the fact happen, over or with what exactly, who was the object or subject, etc.  In general, measurements have a more descriptive (i.e. textual) character, for example, user name or month name, since it will be much easier for the end user to perceive the results described by the text (for example, the name of the month) rather than numbers (the month number of the year). <br><br>  Determining where we have the facts, and where the measurements - it is very easy to build a <i>star</i> model. <br><br><h4>  Star. </h4><br><img src="https://habrastorage.org/getpro/habr/post_images/419/55a/02d/41955a02d1e46ecf4854c5cd1711bb29.png" alt="Star"><br><br>  In the center we indicate our fact table, and with the rays we derive measurements. <br><br><h4>  And now the snowflake. </h4><br>  <i>A snowflake</i> is the same <i>star</i> , only measurements can depend on measurements of the next level, and those in turn can include more levels. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/419/55a/02d/41955a02d1e46ecf4854c5cd1711bb29.png" alt="Snowflake"><br>  Each of these models has its own advantages and disadvantages, and the choice of the model itself should be based on the requirements for cube design, data loading speed, disk space, etc. <br>  Naturally, the final Data Warehouse is usually much more complicated and consists of several stars or snowflakes that can share common measurements. <br><br><h4>  HabraDW. </h4><br>  Let's move on to the actual development of our Data Warehouse. <br><br>  <u><i>Our goal</i></u> is to analyze the tendencies of voting on Habr√©, finding patterns and trends. <br>  The main trends that we want to identify: <br><ul><li>  what time of year / month / week votes better / worse / more often </li><li>  how to vote on Fridays and Mondays (for example) </li><li>  How does Microsoft affect the result of a vote, or Karma </li><li>  average activity of users, "peaks" of voting </li><li>  etc. </li></ul>  For clarity, our first model will be absolutely simple - we will include only what is relevant to the voting and exclude all unnecessary, including the time of user registration and the fact of who posted the article, as well as the voting time (only date) and other attributes (all these data can be included in the following articles and try to analyze more complex things). <br><br>  As a result, we have the following tables: <br><ul><li>  Fact table <b>FactHabravote</b> - determines who, when, for what and how exactly voted.  The value of Vote in our case will be + - 1, but the field type allows you to expand the delta with votes, for example, + - 10 </li><li>  Time Measurement <b>DimTime</b> - determines the time attributes (values ‚Äã‚Äãand names) necessary for analysis </li><li>  <b>DimUser</b> user <b>dimension</b> - defines Habr users, while only a nickname </li><li>  Measurement of posts <b>DimPost</b> - defines posts, in our case contains a header and boolean fields that determine whether the post contains the words Microsoft and Karma. </li></ul><br><h4>  The final scheme of our star will be like this. </h4><br><img src="https://habrastorage.org/getpro/habr/post_images/419/55a/02d/41955a02d1e46ecf4854c5cd1711bb29.png" alt="HabraDW"><br><br>  And here is the original SQL script that creates and fills (so far only random data) our repository. <br><br>  Well, now everything is ready to load the data into the cube. <br>  See you in the next article. </div><p>Source: <a href="https://habr.com/ru/post/67272/">https://habr.com/ru/post/67272/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../67265/index.html">Gmail is in the big three</a></li>
<li><a href="../67267/index.html">Lightweight Ruby Web Applications</a></li>
<li><a href="../67268/index.html">Is Russia eyeing Qimonda ?! Part two</a></li>
<li><a href="../67270/index.html">Installing Linux from an iso image under Windows</a></li>
<li><a href="../67271/index.html">Top 10 Android Remix Logos from Mashable's</a></li>
<li><a href="../67273/index.html">August 19 Fyodor Samorodov in the free webinar ‚ÄúSQL Server 2008: A New Approach to Database Management‚Äù</a></li>
<li><a href="../67274/index.html">Safari & Mouse gestures</a></li>
<li><a href="../67279/index.html">Theoretically, car parking in Riga is 5 times cheaper</a></li>
<li><a href="../67280/index.html">And you say the crisis ...</a></li>
<li><a href="../67284/index.html">Xbox Mi—Åro</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>