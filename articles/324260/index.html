<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating Web Applications with Scala.js and React - Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Translation of the article Pedro Palma Ramos " Building Web applications with Scala.js and React - Part 1 " 


 As a Scala programmer developing web a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating Web Applications with Scala.js and React - Part 1</h1><div class="post__text post__text-html js-mediator-article"><p>  Translation of the article Pedro Palma Ramos " <a href="http://enear.github.io/2017/03/07/scalajs-react-part1/">Building Web applications with Scala.js and React - Part 1</a> " </p><br><p>  As a Scala programmer developing web applications, I usually find it unpleasant to switch from a neat, functional, and type-safe Scala backend to a front end written in JavaScript.  Fortunately, there is a powerful and mature alternative to our (not always) favorite standard language for the Web. </p><br><p>  <a href="https://www.scala-js.org/"><strong>Scala.js</strong></a> is the Scala implementation by <a href="https://github.com/sjrd">S√©bastien Doeraene</a> , which compiles the Scala code in JavaScript, not the JVM bytecode.  It supports full two-way interoperability between Scala and JavaScript code and, therefore, allows you to develop Scala front-end web applications using JavaScript libraries and frameworks.  It also helps reduce code duplication compared to a regular Scala web application, because it allows you to reuse models and business logic developed for the server side on the front-end. </p><br><p>  <a href="https://facebook.github.io/react/"><strong>React</strong></a> , on the other hand, is a web-framework for creating user interfaces in JavaScript, developed and maintained by Facebook and other companies.  It promotes a clear separation between updating the state of an application in response to user events and visualizing views based on a specified state.  Therefore, the React framework is particularly suitable for the functional paradigm that is used in Scala programming. </p><a name="habracut"></a><br><p>  We could use React directly from Scala.js, but fortunately, <a href="https://github.com/japgolly">David Barri</a> created the <a href="https://github.com/japgolly/scalajs-react"><strong>scalajs-react</strong></a> : Scala library, which provides a set of wrappers for React to make it safe and more convenient to use in Scala.js.  It also defines some useful abstractions, such as the <a href="">Callback</a> class: a composite, repeatable, side-by-side calculation that should be performed by the React framework. </p><br><p>  This article is the first part of a tutorial describing how we create a front-end web application using scalajs-react on the <a href="http://www.enear.co/"><strong>e.near</strong></a> website.  It focuses on creating a clean project on Scala.js, and the second part will combine Scala.js and the ‚Äústandard‚Äù Scala code for the JVM.  I assume that you are an experienced Scala user and at least familiar with HTML and the basics of <a href="http://getbootstrap.com/">Bootstrap</a> .  Previous experience with JavaScript or the React framework is not required. </p><br><p>  The end result will be a simple web application using the open <a href="https://developer.spotify.com/web-api/">API</a> Spotify to search for artists and display their albums and tracks (which you can watch <a href="http://enear.github.io/pages/spotify-webapp/">here</a> ).  Despite its simplicity, this example should give you an idea of ‚Äã‚Äãhow to develop web applications in Scala.js React, including the response to user input, the REST API call through Ajax, and the display update. </p><br><p>  The code, fragments of which are used in this article, is fully accessible at <a href="https://github.com/enear/scalajs-react-guide-part1">https://github.com/enear/scalajs-react-guide-part1</a> . </p><br><h3 id="nastroyka">  Customization </h3><br><p>  A quick way to get started with the Scala.js project is to clone <a href="https://github.com/sjrd/scala-js-example-app">an application template</a> written by S√©bastien Doeraene using GIT. </p><br><p> You will need to add the link to <code>scalajs-react</code> to the build.sbt file: </p><br><pre> <code class="scala hljs">libraryDependencies ++= <span class="hljs-type"><span class="hljs-type">Seq</span></span>( <span class="hljs-string"><span class="hljs-string">"com.github.japgolly.scalajs-react"</span></span> %%% <span class="hljs-string"><span class="hljs-string">"core"</span></span> % <span class="hljs-string"><span class="hljs-string">"0.11.3"</span></span> ) jsDependencies ++= <span class="hljs-type"><span class="hljs-type">Seq</span></span>( <span class="hljs-string"><span class="hljs-string">"org.webjars.bower"</span></span> % <span class="hljs-string"><span class="hljs-string">"react"</span></span> % <span class="hljs-string"><span class="hljs-string">"15.3.2"</span></span> / <span class="hljs-string"><span class="hljs-string">"react-with-addons.js"</span></span> minified <span class="hljs-string"><span class="hljs-string">"react-with-addons.min.js"</span></span> commonJSName <span class="hljs-string"><span class="hljs-string">"React"</span></span>, <span class="hljs-string"><span class="hljs-string">"org.webjars.bower"</span></span> % <span class="hljs-string"><span class="hljs-string">"react"</span></span> % <span class="hljs-string"><span class="hljs-string">"15.3.2"</span></span> / <span class="hljs-string"><span class="hljs-string">"react-dom.js"</span></span> minified <span class="hljs-string"><span class="hljs-string">"react-dom.min.js"</span></span> dependsOn <span class="hljs-string"><span class="hljs-string">"react-with-addons.js"</span></span> commonJSName <span class="hljs-string"><span class="hljs-string">"ReactDOM"</span></span>, <span class="hljs-string"><span class="hljs-string">"org.webjars.bower"</span></span> % <span class="hljs-string"><span class="hljs-string">"react"</span></span> % <span class="hljs-string"><span class="hljs-string">"15.3.2"</span></span> / <span class="hljs-string"><span class="hljs-string">"react-dom-server.js"</span></span> minified <span class="hljs-string"><span class="hljs-string">"react-dom-server.min.js"</span></span> dependsOn <span class="hljs-string"><span class="hljs-string">"react-dom.js"</span></span> commonJSName <span class="hljs-string"><span class="hljs-string">"ReactDOMServer"</span></span> )</code> </pre> <br><p>  The Scala.js plugin for SBT adds the <code>jsDependencies</code> parameter.  It allows SBT to manage JavaScript dependencies using WebJars.  <code>&lt;project-name&gt;-jsdeps.js</code> they are compiled into the file <code>&lt;project-name&gt;-jsdeps.js</code> . </p><br><p>  To compile the code, we can use the <code>fastOptJS</code> command (moderate optimization for development) or <code>fullOptJS</code> (full optimization for production) inside SBT.  The artifacts <code>&lt;project-name&gt;-fastopt/fullopt.js</code> and <code>&lt;project-name&gt;-launcher.js</code> .  The first one contains our compiled code, and the second one is a script that simply calls our main method. </p><br><p>  We will also need an HTML file with an empty <code>&lt;div&gt;</code> tag where React will insert the rendered content. </p><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Example Scala.js application<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">http-equiv</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Content-Type"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/html; charset=UTF-8"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"viewport"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app-container"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"playground"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"./target/scala-2.12/scala-js-react-guide-jsdeps.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"./target/scala-2.12/scala-js-react-guide-fastopt.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"./target/scala-2.12/scala-js-react-guide-launcher.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h3 id="postroenie-komponentov-react">  Building React Components </h3><br><p>  The entry point for Scala.js is determined by the object that inherits the JSApp <code>JSApp</code> .  This ensures that the object and its main method will be exported to JavaScript with their full names. </p><br><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JSApp</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@JSExport</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span></span>(): <span class="hljs-type"><span class="hljs-type">Unit</span></span> = { <span class="hljs-type"><span class="hljs-type">ReactDOM</span></span>.render(<span class="hljs-type"><span class="hljs-type">TrackListingApp</span></span>.component(), dom.document.getElementById(<span class="hljs-string"><span class="hljs-string">"playground"</span></span>)) } }</code> </pre> <br><p>  <code>scalajs-react</code> provides the <a href="">Router</a> class to manage multiple React components on a one-page application, but this is beyond the scope of this tutorial, since our application consists of only one React component, which we will display inside the tag with the <code>"playground"</code> identifier. </p><br><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TrackListingApp</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> component = <span class="hljs-type"><span class="hljs-type">ReactComponentB</span></span>[<span class="hljs-type"><span class="hljs-type">Unit</span></span>](<span class="hljs-string"><span class="hljs-string">"Spotify Track Listing"</span></span>) .initialState(<span class="hljs-type"><span class="hljs-type">TrackListingState</span></span>.empty) .renderBackend[<span class="hljs-type"><span class="hljs-type">TrackListingOps</span></span>] .build</code> </pre> <br><p>  All React components must define the <code>render</code> method, which returns HTML as a function of its arguments and / or states.  Our component does not require arguments, so the parameter of type <code>Unit</code> , but it requires an object with the state of type <code>TrackListingState</code> .  We delegate the drawing of this component to the <code>TrackListingOps</code> class, where we can also describe the methods that control the state of the component. </p><br><p>  The state of our application will be stored as follows: </p><br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TrackListingState</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params"> artistInput: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-class"><span class="hljs-params">, //   albums: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Seq</span></span></span></span><span class="hljs-class"><span class="hljs-params">[</span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Album</span></span></span></span><span class="hljs-class"><span class="hljs-params">], //   tracks: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Seq</span></span></span></span><span class="hljs-class"><span class="hljs-params">[</span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Track</span></span></span></span><span class="hljs-class"><span class="hljs-params">] //   </span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TrackListingState</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> empty = <span class="hljs-type"><span class="hljs-type">TrackListingState</span></span>(<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-type"><span class="hljs-type">Nil</span></span>, <span class="hljs-type"><span class="hljs-type">Nil</span></span>) }</code> </pre> <br><p>  The <code>Album</code> and <code>Track</code> classes are defined in the next section. </p><br><p>  You can look at other ways to create React components <a href="">here</a> . </p><br><h3 id="vyzov-rest-api">  REST API call </h3><br><p>  We will use three methods of <a href="https://developer.spotify.com/web-api/endpoint-reference/">the</a> Spotify public <a href="https://developer.spotify.com/web-api/endpoint-reference/">API</a> : </p><br><table><thead><tr><th>  Method </th><th>  Point of entry </th><th>  Purpose </th><th>  Return value </th></tr></thead><tbody><tr><td>  Get </td><td>  / v1 / search? type = artist </td><td>  Find an artist </td><td>  artists </td></tr><tr><td>  Get </td><td>  / v1 / artists / {id} / albums </td><td>  Get artist albums </td><td>  albums * </td></tr><tr><td>  Get </td><td>  / v1 / albums / {id} / tracks </td><td>  Get songs from the album </td><td>  tracks * </td></tr></tbody></table><br><p>  This API returns objects in JSON format, and they can be parsed using JavaScript.  We can use this in Scala.js by defining the types of facades that will become the interface between Scala models and JavaScript.  To do this, we mark the traits using <code>@js.native</code> and inherit them from <code>js.Object</code> . </p><br><pre> <code class="scala hljs"><span class="hljs-meta"><span class="hljs-meta">@js</span></span>.native <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">trait</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SearchResults</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">js</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Object</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">artists</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">ItemListing</span></span>[<span class="hljs-type"><span class="hljs-type">Artist</span></span>] } <span class="hljs-meta"><span class="hljs-meta">@js</span></span>.native <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">trait</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ItemListing</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">T</span></span></span><span class="hljs-class">] </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">js</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Object</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">items</span></span></span></span>: js.<span class="hljs-type"><span class="hljs-type">Array</span></span>[<span class="hljs-type"><span class="hljs-type">T</span></span>] } <span class="hljs-meta"><span class="hljs-meta">@js</span></span>.native <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">trait</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Artist</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">js</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Object</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">id</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">name</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">String</span></span> } <span class="hljs-meta"><span class="hljs-meta">@js</span></span>.native <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">trait</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Album</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">js</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Object</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">id</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">name</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">String</span></span> } <span class="hljs-meta"><span class="hljs-meta">@js</span></span>.native <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">trait</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Track</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">js</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Object</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">id</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">name</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">track_number</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">Int</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">duration_ms</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">Int</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">preview_url</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">String</span></span> }</code> </pre> <br><p>  Finally, we can asynchronously call the Spotify API using the <a href="http://scala-js.github.io/scala-js-dom/">Ajax</a> Scala.js object (which for convenience returns Future, thus ensuring that you are not confused in all these <a href="https://en.wiktionary.org/wiki/callback_hell">callbacks</a> ). </p><br><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SpotifyAPI</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fetchArtist</span></span></span></span>(name: <span class="hljs-type"><span class="hljs-type">String</span></span>): <span class="hljs-type"><span class="hljs-type">Future</span></span>[<span class="hljs-type"><span class="hljs-type">Option</span></span>[<span class="hljs-type"><span class="hljs-type">Artist</span></span>]] = { <span class="hljs-type"><span class="hljs-type">Ajax</span></span>.get(artistSearchURL(name)) map { xhr =&gt; <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> searchResults = <span class="hljs-type"><span class="hljs-type">JSON</span></span>.parse(xhr.responseText).asInstanceOf[<span class="hljs-type"><span class="hljs-type">SearchResults</span></span>] searchResults.artists.items.headOption } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fetchAlbums</span></span></span></span>(artistId: <span class="hljs-type"><span class="hljs-type">String</span></span>): <span class="hljs-type"><span class="hljs-type">Future</span></span>[<span class="hljs-type"><span class="hljs-type">Seq</span></span>[<span class="hljs-type"><span class="hljs-type">Album</span></span>]] = { <span class="hljs-type"><span class="hljs-type">Ajax</span></span>.get(albumsURL(artistId)) map { xhr =&gt; <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> albumListing = <span class="hljs-type"><span class="hljs-type">JSON</span></span>.parse(xhr.responseText).asInstanceOf[<span class="hljs-type"><span class="hljs-type">ItemListing</span></span>[<span class="hljs-type"><span class="hljs-type">Album</span></span>]] albumListing.items } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fetchTracks</span></span></span></span>(albumId: <span class="hljs-type"><span class="hljs-type">String</span></span>): <span class="hljs-type"><span class="hljs-type">Future</span></span>[<span class="hljs-type"><span class="hljs-type">Seq</span></span>[<span class="hljs-type"><span class="hljs-type">Track</span></span>]] = { <span class="hljs-type"><span class="hljs-type">Ajax</span></span>.get(tracksURL(albumId)) map { xhr =&gt; <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> trackListing = <span class="hljs-type"><span class="hljs-type">JSON</span></span>.parse(xhr.responseText).asInstanceOf[<span class="hljs-type"><span class="hljs-type">ItemListing</span></span>[<span class="hljs-type"><span class="hljs-type">Track</span></span>]] trackListing.items } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">artistSearchURL</span></span></span></span>(name: <span class="hljs-type"><span class="hljs-type">String</span></span>) = <span class="hljs-string"><span class="hljs-string">s"https://api.spotify.com/v1/search?type=artist&amp;q=</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${URIUtils.encodeURIComponent(name)}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">albumsURL</span></span></span></span>(artistId: <span class="hljs-type"><span class="hljs-type">String</span></span>) = <span class="hljs-string"><span class="hljs-string">s"https://api.spotify.com/v1/artists/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">$artistId</span></span></span><span class="hljs-string">/albums?limit=50&amp;market=PT&amp;album_type=album"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tracksURL</span></span></span></span>(albumId: <span class="hljs-type"><span class="hljs-type">String</span></span>) = <span class="hljs-string"><span class="hljs-string">s"https://api.spotify.com/v1/albums/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">$albumId</span></span></span><span class="hljs-string">/tracks?limit=50"</span></span> }</code> </pre> <br><p>  To learn more ways to interact with JavaScript code, you can refer to the Scala.js <a href="https://www.scala-js.org/doc/interoperability/">documentation</a> . </p><br><h3 id="otrisovka-html-koda">  HTML drawing </h3><br><p>  Now we define the <code>render</code> method of the <code>TrackListingOps</code> class as a function of the state: </p><br><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TrackListingOps</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">$: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">BackendScope</span></span></span></span><span class="hljs-class"><span class="hljs-params">[</span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Unit</span></span></span></span><span class="hljs-class"><span class="hljs-params">, </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">TrackListingState</span></span></span></span><span class="hljs-class"><span class="hljs-params">]</span></span></span><span class="hljs-class">) </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">render</span></span></span></span>(s: <span class="hljs-type"><span class="hljs-type">TrackListingState</span></span>) = { &lt;.div(^.cls := <span class="hljs-string"><span class="hljs-string">"container"</span></span>, &lt;.h1(<span class="hljs-string"><span class="hljs-string">"Spotify Track Listing"</span></span>), &lt;.div(^.cls := <span class="hljs-string"><span class="hljs-string">"form-group"</span></span>, &lt;.label(^.`<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>` := <span class="hljs-string"><span class="hljs-string">"artist"</span></span>, <span class="hljs-string"><span class="hljs-string">"Artist"</span></span>), &lt;.div(^.cls := <span class="hljs-string"><span class="hljs-string">"row"</span></span>, ^.id := <span class="hljs-string"><span class="hljs-string">"artist"</span></span>, &lt;.div(^.cls := <span class="hljs-string"><span class="hljs-string">"col-xs-10"</span></span>, &lt;.input(^.`<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class">` </span></span>:= <span class="hljs-string"><span class="hljs-string">"text"</span></span>, ^.cls := <span class="hljs-string"><span class="hljs-string">"form-control"</span></span>, ^.value := s.artistInput, ^.onChange ==&gt; updateArtistInput ) ), &lt;.div(^.cls := <span class="hljs-string"><span class="hljs-string">"col-xs-2"</span></span>, &lt;.button(^.`<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class">` </span></span>:= <span class="hljs-string"><span class="hljs-string">"button"</span></span>, ^.cls := <span class="hljs-string"><span class="hljs-string">"btn btn-primary custom-button-width"</span></span>, ^.onClick --&gt; searchForArtist(s.artistInput), ^.disabled := s.artistInput.isEmpty, <span class="hljs-string"><span class="hljs-string">"Search"</span></span> ) ) ) ), &lt;.div(^.cls := <span class="hljs-string"><span class="hljs-string">"form-group"</span></span>, &lt;.label(^.`<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>` := <span class="hljs-string"><span class="hljs-string">"album"</span></span>, <span class="hljs-string"><span class="hljs-string">"Album"</span></span>), &lt;.select(^.cls := <span class="hljs-string"><span class="hljs-string">"form-control"</span></span>, ^.id := <span class="hljs-string"><span class="hljs-string">"album"</span></span>, ^.onChange ==&gt; updateTracks, s.albums.map { album =&gt; &lt;.option(^.value := album.id, album.name) } ) ), &lt;.hr, &lt;.ul(s.tracks map { track =&gt; &lt;.li( &lt;.div( &lt;.p(<span class="hljs-string"><span class="hljs-string">s"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${track.track_number}</span></span></span><span class="hljs-string">. </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${track.name}</span></span></span><span class="hljs-string"> (</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${formatDuration(track.duration_ms)}</span></span></span><span class="hljs-string">)"</span></span>), &lt;.audio(^.controls := <span class="hljs-literal"><span class="hljs-literal">true</span></span>, ^.key := track.preview_url, &lt;.source(^.src := track.preview_url) ) ) ) }) ) }</code> </pre> <br><p>  The code may seem complicated, especially if you are not familiar with Bootstrap, but keep in mind that this is nothing more than typed HTML.  Tags and attributes are written as methods of objects <code>&lt;</code> and <code>^</code> respectively (you first need to import <code>japgolly.scalajs.react.vdom.prefix_&lt;^._</code> ). </p><br><p>  Strange arrows ( <code>--&gt;</code> and <code>==&gt;</code> ) are used to bind event handlers that are defined as <a href="">Callback</a> callbacks: </p><br><ul><li>  <code>--&gt;</code> takes a simple <code>Callback</code> argument, </li><li>  <code>==&gt;</code> accepts a function <code>(ReactEvent =&gt; Callback)</code> , which is useful when you need to handle a value that was captured from a triggered event. </li></ul><br><p>  You can refer to the scalajs-react documentation for more details on how to create a virtual DOM. </p><br><h3 id="reakciya-na-sobytiya">  Reaction to events </h3><br><p>  It remains only to define event handlers. </p><br><p>  Let's take another look at the definition of the class <code>TrackListingOps</code> : </p><br><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TrackListingOps</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">$: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">BackendScope</span></span></span></span><span class="hljs-class"><span class="hljs-params">[</span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Unit</span></span></span></span><span class="hljs-class"><span class="hljs-params">, </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">TrackListingState</span></span></span></span><span class="hljs-class"><span class="hljs-params">]</span></span></span><span class="hljs-class">) </span></span>{</code> </pre> <br><p>  The $ constructor argument provides an interface for updating the state of an application using the <code>setState</code> and <code>modState</code> .  We can define lenses for all state fields for a shorter record of their updates. </p><br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> artistInputState = $.zoom(_.artistInput)((s, x) =&gt; s.copy(artistInput = x)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> albumsState = $.zoom(_.albums)((s, x) =&gt; s.copy(albums = x)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> tracksState = $.zoom(_.tracks)((s, x) =&gt; s.copy(tracks = x))</code> </pre> <br><p>  As you remember, we use three event handlers: </p><br><ul><li>  <code>updateArtistInput</code> , when the artist's name changes, </li><li>  <code>updateTracks</code> when a new album is selected, </li><li>  <code>searchForArtist</code> when the search button is pressed. </li></ul><br><p>  Let's start with <code>updateArtistInput</code> : </p><br><pre> <code class="scala hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateArtistInput</span></span></span></span>(event: <span class="hljs-type"><span class="hljs-type">ReactEventI</span></span>): <span class="hljs-type"><span class="hljs-type">Callback</span></span> = { artistInputState.setState(event.target.value) }</code> </pre> <br><p>  The <code>setState</code> and <code>modState</code> do not perform the update immediately, but return the corresponding callback callback, so they are suitable here. </p><br><p>  For the updateTracks method, we need to use an asynchronous callback, since we have to load the list of songs in the album.  Fortunately, we can convert <code>Future[Callback]</code> to asynchronous <code>Callback</code> using the <code>Callback.future</code> method: </p><br><pre> <code class="scala hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateTracks</span></span></span></span>(event: <span class="hljs-type"><span class="hljs-type">ReactEventI</span></span>) = <span class="hljs-type"><span class="hljs-type">Callback</span></span>.future { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> albumId = event.target.asInstanceOf[<span class="hljs-type"><span class="hljs-type">HTMLSelectElement</span></span>].value <span class="hljs-type"><span class="hljs-type">SpotifyAPI</span></span>.fetchTracks(albumId) map { tracks =&gt; tracksState.setState(tracks) } }</code> </pre> <br><p>  Finally, let's define the <code>searchForArtist</code> method, which uses all three API methods and completely updates the state: </p><br><pre> <code class="scala hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">searchForArtist</span></span></span></span>(name: <span class="hljs-type"><span class="hljs-type">String</span></span>) = <span class="hljs-type"><span class="hljs-type">Callback</span></span>.future { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> { artistOpt &lt;- <span class="hljs-type"><span class="hljs-type">SpotifyAPI</span></span>.fetchArtist(name) albums &lt;- artistOpt map (artist =&gt; <span class="hljs-type"><span class="hljs-type">SpotifyAPI</span></span>.fetchAlbums(artist.id)) getOrElse <span class="hljs-type"><span class="hljs-type">Future</span></span>.successful(<span class="hljs-type"><span class="hljs-type">Nil</span></span>) tracks &lt;- albums.headOption map (album =&gt; <span class="hljs-type"><span class="hljs-type">SpotifyAPI</span></span>.fetchTracks(album.id)) getOrElse <span class="hljs-type"><span class="hljs-type">Future</span></span>.successful(<span class="hljs-type"><span class="hljs-type">Nil</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> { artistOpt <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-type"><span class="hljs-type">None</span></span> =&gt; <span class="hljs-type"><span class="hljs-type">Callback</span></span>(window.alert(<span class="hljs-string"><span class="hljs-string">"No artist found"</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-type"><span class="hljs-type">Some</span></span>(artist) =&gt; $.setState(<span class="hljs-type"><span class="hljs-type">TrackListingState</span></span>(artist.name, albums, tracks)) } } }</code> </pre> <br><h3 id="zaklyuchenie">  Conclusion </h3><br><p>  Once you have reached this point, you should now be able to simulate the front-end web application using purely functional constructs in Scala.js.  If you are interested, be sure to read the documentation on <a href="https://www.scala-js.org/doc/index.html">Scala.js</a> and on <a href="">scalajs-react</a> . </p><br><p>  Expect the second part of the tutorial, which will be devoted to creating a full-fledged web application on Scala and how you can reuse the data model and general business logic in the backend and frontend. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/324260/">https://habr.com/ru/post/324260/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../324244/index.html">How to search for patterns in stock data and use them in trading?</a></li>
<li><a href="../324246/index.html">Active Directory Recycle Bin: Usage Guidelines</a></li>
<li><a href="../324250/index.html">Calling Go functions from other languages</a></li>
<li><a href="../324256/index.html">Segmental</a></li>
<li><a href="../324258/index.html">How the dislike for the code helped me to ‚Äúpump over‚Äù designer skills</a></li>
<li><a href="../324262/index.html">Interview IT specialists. On ‚Äúyou‚Äù or on ‚Äúyou‚Äù?</a></li>
<li><a href="../324264/index.html">Get the list of PostgreSQL statements</a></li>
<li><a href="../324266/index.html">On the market, a man sold a cow (optimally)</a></li>
<li><a href="../324268/index.html">Juniper: composite-next-hop</a></li>
<li><a href="../324272/index.html">Using the Entity Framework Core code-first with SQLite DBMS when developing WinForms-applications in VisualStudio 2015</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>