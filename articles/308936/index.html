<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>UDL support</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Have you ever wondered why you are writing code in Cach√© Object Script, and it is exported to an XML file? 



 So, it's time to change. Starting with...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>UDL support</h1><div class="post__text post__text-html js-mediator-article">  Have you ever wondered why you are writing code in Cach√© Object Script, and it is exported to an XML file? <br><br><img src="https://habrastorage.org/files/8ff/670/9f2/8ff6709f25bd4f1e93e80909fc1f6e76.jpg"><br><br>  So, it's time to change.  Starting with the release of the Atelier development environment and the version of Cach√© 2016.2, you will have the opportunity to export and import files in the format in which you write in the studio, the so-called UDL (Universal Definition Language) format.  Now you can write code that is not only fast, but also pleasing to the eye in the exported form.  But another, equally important problem arises: if all new projects are in UDL format, then who will take care of backward compatibility? <br><a name="habracut"></a><br><h3>  let's start </h3><br>  At InterSystems, the issue of backward compatibility is taken very seriously, so we decided to give a new life to some old projects and add a new feature - working with UDL. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">Comparison</b> <div class="spoiler_text">  As it is clear in the picture - COS exported to XML, on the right - UDL: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/24f/019/46f/24f01946f659b2b5b67118340a5610a8.png"><br></div></div><br><h3>  <a href="https://github.com/intersystems-ru/cache-source-control">Cach√© Source Control</a> </h3><br>  The first in line was a rather simple but very useful project called Cache Source Control.  Its task is very simple - take all the project files and export them to a folder after each successful compilation, as well as import new files that appear in the folder.  Before rebirth, this <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25B8%25D1%2581%25D1%2582%25D0%25B5%25D0%25BC%25D0%25B0_%25D1%2583%25D0%25BF%25D1%2580%25D0%25B0%25D0%25B2%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25B8%25D1%258F_%25D0%25B2%25D0%25B5%25D1%2580%25D1%2581%25D0%25B8%25D1%258F%25D0%25BC%25D0%25B8">version control</a> could export files in two formats: <br><br><ul><li>  xml - all files had the extension .xml </li><li>  (cls, mac, int, dfi) .xml - all files had the extension .cls.xml, etc. </li></ul><br>  Now it's enough to change the ExpMode parameter to the UDL format in order for it to work. <br><br><h3>  Installation </h3><br>  To install, just follow 4 simple steps: <br><br><ul><li>  Download or clone repository </li><li>  Import SourceControl.cls.xml file in Studio </li><li>  Open the portal, go to Configuration / Additional Settings / Source Control and select Util.SourceControl as the class of version control in your area </li><li> Open a terminal, open your area and run <code>do ##class(Util.SourceControl).Init()</code> </li></ul><br>  And what if I want to export to another folder? <br><br><div class="spoiler">  <b class="spoiler_title">Decision</b> <div class="spoiler_text">  There are several options for this.  .. # ExpMode can have values ‚Äã‚Äã0, 1, 2 for export to .xml, .cls.xml and in UDL formats, respectively.  Parameter .. # SourceFolder specifies where to save the files.  .. # RefreshTime indicates how many seconds you need to check for new files in the folder to import them. <br></div></div><br>  In principle, in conjunction with git, this project provides all the necessary functions. <br><br><h3>  <a href="https://github.com/intersystems-ru/CacheUpdater/">Cacheupdater</a> </h3><br>  The next project in the resurrection list was CacheUpdater.  Its function can be perfectly understood by example.  Suppose you have a GitHub repository and 100,500 servers that use it.  It will be a nightmare if you want to change something (everywhere you have to use handles to update each server).  This is exactly what CacheUpdater solves this problem - it periodically updates local files by downloading them from GitHub. <br><br><h4>  Installation </h4><br>  Its installation is a bit more complicated: <br><br><ul><li>  Also download all files </li><li>  Import Task.cls.xml file into Studio </li><li>  Open System Operation / Task Manager / New Task </li><li>  Think up any name for the task, select the area in which you want to synchronize files, select GitHubUpdater as the type of task, enter the data of the repository and your account on GitHub </li><li>  Click Finish </li><li>  Select update frequency </li></ul><br>  You are ready for battle, no additional settings are needed. <br><br><h3>  <a href="https://github.com/intersystems-ru/CacheGitHubCI/">CacheGitHubCI</a> </h3><br>  The same project is a fully implemented system for continuous integration with GitHub. <br><br><h3>  Project Installation </h3><br><ul><li>  Just download the Install.cls.xml file (if you want, you can download all the files) and import it into the project <br><br></li><li>  Run in terminal ^ <br><br><pre> <code class="hljs pgsql"> <span class="hljs-keyword"><span class="hljs-keyword">Set</span></span> pVars("Namespace") = "{namespace}" <span class="hljs-keyword"><span class="hljs-keyword">Set</span></span> pVars("IP") = "{IP}" <span class="hljs-keyword"><span class="hljs-keyword">Do</span></span> ##<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>(CacheGitHubCI.Install).setup(.pVars)</code> </pre><br>  where namespace is the area where you want to install the project.  If not, it will be created automatically; <br>  IP is an optional parameter of your server (used for webhook operation). <br><br>  For example, <br><br><pre> <code class="hljs pgsql"> <span class="hljs-keyword"><span class="hljs-keyword">Set</span></span> pVars("Namespace") = "SAMPLES" <span class="hljs-keyword"><span class="hljs-keyword">Set</span></span> pVars("IP") = "45.45.45.45:57776" <span class="hljs-keyword"><span class="hljs-keyword">Do</span></span> ##<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>(CacheGitHubCI.Install).setup(.pVars)</code> </pre></li></ul><br>  Done, to test the performance is enough.  Then, it will be necessary to carry out the same manipulations with the creation of Task, as in CacheUpdater.  Great, it works!  And, probably, inadvertently in your head you had a question - ‚ÄúWhy do I need CacheGitHubCI if I can use CacheUpdater?‚Äù. <br><br><div class="spoiler">  <b class="spoiler_title">Answer</b> <div class="spoiler_text">  CacheGitHubCI allows you to specify what actions should be performed before and after compilation, to do unit tests.  You can configure webhook'i, so that everything is updated, as soon as a new commit in the repository, and much more.  How to set up all the buns of this system can be found in the repository itself. <br></div></div><br><h3>  Total </h3><br>  So far we have only updated 3 repositories.  There is something to strive for, in the list is <a href="https://github.com/intersystems-ru/cache-tort-git">Cache Tort Git</a> , which represents a full-fledged work with git in conjunction with <a href="https://tortoisegit.org/">TortoiseGit</a> . </div><p>Source: <a href="https://habr.com/ru/post/308936/">https://habr.com/ru/post/308936/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../308926/index.html">Webpack + React. How to reduce the bundle 15 times</a></li>
<li><a href="../308928/index.html">The OSX / Keydnap malware is distributed using the trusted application Transmission</a></li>
<li><a href="../308930/index.html">Accelerate npm scripts</a></li>
<li><a href="../308932/index.html">Creating and managing the FQDN of the 3CX server name</a></li>
<li><a href="../308934/index.html">New practical courses on JavaScript and ES6</a></li>
<li><a href="../308938/index.html">Errors of questionnaires. Error 2: questionnaire wording. 13 cases of misunderstanding and manipulation in the survey (part 1)</a></li>
<li><a href="../308940/index.html">iKnow Review Analyzer (iKRA)</a></li>
<li><a href="../308944/index.html">Check the speed of the promis</a></li>
<li><a href="../308946/index.html">Finding errors in the GCC compiler code using the PVS-Studio analyzer</a></li>
<li><a href="../308948/index.html">How to use UrlManager to set up routing and create ‚Äúfriendly‚Äù URLs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>