<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Unity: particle systems</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Particle systems are like salt: even a small amount can add to the upcoming ‚Äúdish‚Äù of style. Modern games that do not use particle systems look rather...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Unity: particle systems</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9ae/6b6/b5d/9ae6b6b5d5999033803aa86a3857a8c5.jpg" alt="image"></div><br>  Particle systems are like salt: even a small amount can add to the upcoming ‚Äúdish‚Äù of style.  Modern games that do not use particle systems look rather pale. <br><br>  In the past, we had to program every stream of smoke on our own.  Fortunately, thanks to the built-in modular particle system, Unity <em>Shuriken</em> makes creating particles a fairly simple task.  This particle system is easy to learn and allows you to create complex effects. <br><br>  In this tutorial you will learn the following: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  How to add new particle systems to Unity. </li><li>  Find out which particle system modules are used most often, and learn how to use them. </li></ul><br>  This tutorial consists of two main parts: in the first we will create a flame of a torch, in the second - the effect of a bomb explosion. <br><a name="habracut"></a><br><blockquote>  <em>Note:</em> this tutorial assumes that you are familiar with the basics of working in Unity.  If you are new to Unity or you need to refresh your knowledge, then start by reading our tutorial <a href="http://www.raywenderlich.com/110263/unity-tutorial-getting-started-part-1">Introduction to Unity</a> . </blockquote><br><h2>  Getting Started with Particle Systems </h2><br>  Download the <a href="">project template for this tutorial</a> and unpack it in a place convenient for you.  Note that to work with tutorial you need at least Unity 2017.2. <br><br>  Open the <em>Starter Project</em> in Unity.  Assets inside it are distributed in several folders: <br><br><ul><li>  <em>Materials</em> : contains fire material. </li><li>  <em>Models</em> : contains models of torch and bombs, as well as their materials. </li><li>  <em>Prefabs</em> : contains prefab bombs. </li><li>  <em>Scenes</em> : contains scenes of Torch and Bomb. </li><li>  <em>Scripts</em> : here are the source scripts. </li><li>  <em>Textures</em> : here is the texture for the fire material. </li></ul><br>  Having dealt with where what is, we can begin to study the work of particle systems in Unity. <br><br><h2>  Add particle system </h2><br>  In the general case, a particle system emits particles at random points within a predetermined space, which may be in the form of, for example, a sphere or a cone.  The system determines the lifetime of the particle itself, and when it ends, the system destroys the particle. <br><br>  In particle systems, it‚Äôs convenient that they are components that can be added to any GameObject in the scene.  Do you want laser rays to escape from shark eyes?  Just add a particle system to your GameObject! <br><br>  Open the <em>Torch</em> scene in the Project Window and run the scene: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/85a/fc3/6e9/85afc36e9bda6f92c9a4924dde8137d2.png"></div><br>  So far nothing interesting happens here.  The torch hangs on the wall, but there is no fire on it.  First we need to add a particle system. <br><br>  Stop the scene and select <em>TorchFireParticles</em> in the Hierarchy.  In the Inspector, click on the <em>Add Component</em> button.  Find the <em>Particle System</em> and click to add it: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/317/8b6/4a6/3178b64a653f88cdfa8d5220b5a68747.png"></div><br><blockquote>  <em>Note:</em> You may have noticed that I did not add the particle system directly to the GameObject MedievalTorch.  I made the particles emit from the fuel tank in the upper part, and not from the middle of the torch. </blockquote><br>  Launch the scene and you will see that particles are already being emitted: <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f82/6f0/58f/f826f058f19506c73ddf7ed2ba67ac91.gif"></div></div></div><br><blockquote>  <em>Note:</em> you can see pink particles instead of white.  It seems that this is a Unity bug with the default texture setting.  If this has happened to you, then do not worry, soon we will set the correct flame texture.  If you want to fix this bug now, then click on the <em>Render</em> section of the particle system, click on the <em>dot</em> next to the <em>Material</em> field and double-click <em>Default-Particle</em> in the window that opens. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/be9/a08/78d/be9a0878d1f7ec16352d3895672b609b.gif"></div></blockquote><br>  When you select a GameObject with a particle system attached to it, you will notice a black dialog box in the lower right corner of the scene window.  This dialog box allows you to simulate or stop a particle system.  Clicking on the <em>Simulate</em> button activates the particle system and replaces it with the ‚ÄúPause‚Äù button.  To stop the simulation, you need to click on the ‚ÄúStop‚Äù button. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/056/0ea/e9f/0560eae9ff709bb08f77554f7313dbc4.png"></div><br>  This dialog box is useful when creating particle systems that run for a limited period of time, for example, for explosions. <br><br><h2>  Consider a particle system more carefully. </h2><br>  Take a look at the Inspector.  You will notice that the particle system component we added has several subsections: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e9d/9af/3a9/e9d9af3a9ba11a52334b406c7894bb31.png"></div><br>  Each of these subsections is called a module.  These modules contain the parameters of the particle system.  The default module is called the <em>Main</em> module: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/098/f90/e75/098f90e751b197ffb7fa7ab00853eba8.png"></div><br>  The Main module is the foundation of any particle system in Unity.  Here are the most basic parameters of the particles: <br><br><ul><li>  <em>Duration</em> : the execution time of the particle system in seconds.  Leave here the default value of <em>5.00</em> . </li><li>  <em>Looping</em> : re-emit particles until the particle system stops.  The cycle is restarted after reaching the <em>Duration</em> time.  The fire should be lit constantly, so leave this option on. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4e3/91f/df4/4e391fdf448d4ebeef8791efb0644880.gif"><br>  <i>Enabled and Disabled</i> <br></li><li>  <em>Prewarm</em> : Used only when <em>Looping is on</em> .  The particle system will behave as if it has completed a full cycle at startup. <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/56d/369/14b/56d36914bc66294db49d66735e41b281.gif"></div></div><br>  <i>Enabled and Disabled</i> <br>  For the fire effect, turn it off to make it appear that the torch has just been set on fire. </li><li>  <em>Start Delay</em> : delay in seconds before the particle system starts to emit particles.  Leave here the default value of <em>0</em> . </li><li>  <em>Start Lifetime</em> : the initial lifetime of the particles in seconds.  After the end of time the particle is destroyed. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/686/946/0f7/6869460f700bdd5dd558a89347c145da.gif"><br>  <i>Above: 8 seconds.</i>  <i>Down: 3 seconds</i> <br><br>  Let's make the lifetime equal to <em>4</em> seconds;  thanks to this, the flame will not be too high. </li><li>  <em>Start Speed</em> : the initial velocity of the particles.  The greater the velocity of the particles, the more they will spread. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8b7/6de/36f/8b76de36f770a21e330d4c5cbcaf2e7c.gif"><br>  <i>From above: 2. From below: 10</i> <br><br>  Set the speed to <em>0.75</em> ;  so the flame effect will be slower and denser. </li></ul><br><blockquote>  <em>Note: by</em> changing the parameters of the particle system, you will see its preview in the Game window.  In the process of doing the tutorial, look at this preliminary review. </blockquote><br>  Run the scene to see how the changes have affected: <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1d1/d64/846/1d1d64846f90a522f3a89c228abe2ca9.gif"></div></div></div><br>  We set up a torch, but the effect of fire leaves much to be desired.  Fortunately, in the Main module there are additional options to improve the shape and behavior of the torch. <br><br><h2>  Other properties of the Main module </h2><br>  Select <em>TorchFireParticles</em> in the GameObject <em>hierarchy</em> and scroll down to the particle system.  In the Main Module, look at the following properties: <br><br><ul><li>  <em>Start Size</em> : the initial particle size. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/073/2e0/c21/0732e0c210120ff9d5534bc67cf06790.gif"><br>  <i>Above: 0.2.</i>  <i>Below: 1.</i> <br><br>  Choose size <em>3</em> ;  This is a convenient size that allows you to see individual particles more clearly. </li><li>  <em>Start Rotation</em> : The initial angle of rotation of the particles. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e79/889/389/e79889389eea3a1c1a9c26c6ddc93249.gif"><br>  <i>Above: 0 ¬∞.</i>  <i>Below: 45 ¬∞</i> <br><br>  Leave the value <em>0 ¬∞</em> ;  the particles are round, so you can hardly notice the difference. </li><li>  <em>Start Color</em> : the original color of the particles.  Leave the color equal to the original <em>pure white (255,255,255)</em> ;  we will color the fire using texture. <br></li><li>  <em>Gravity Modifier</em> : scales the <em>gravity</em> value specified in the Unity <em>Physics Manager</em> window.  If it is 0, then gravity will be disabled. <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/05b/c59/6e6/05bc596e687dc72dc2807128c15c20b5.gif"></div></div></div><br>  This is an image from a system with a gravity modifier equal to <em>1</em> , that is, particles fall down like a waterfall.  Make the gravity in your system equal to <em>0</em> ;  particles will move up at the speed specified in <em>Start Speed</em> . </li><li>  <em>Simulation Space</em> : moves particles to <em>Local Space</em> along with a particle system.  When choosing <em>World Space,</em> particles move freely after emission. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/227/db8/7fb/227db87fbcedf39b39c4dcdc7fdfffbc.gif"><br>  <i>From above: local space.</i>  <i>Below: world space</i> <br><br>  Leave the <em>Space</em> value for your simulation.  The effect of the parameter will be noticeable only when the particle system moves. </li><li>  <em>Play On Awake</em> : starts to emit particles immediately after switching on.  If this parameter is disabled, then you will have to manually launch the particle system through a script or animation system.  Leave it on, because we want the flame to start burning when the scene starts. </li><li>  <em>Max Particles</em> : The maximum number of particles that can be alive in a particle system at a time.  If you try to emit more particles than the value specified here, they will not be emitted at all.  This parameter is mainly needed for performance reasons, and the default value of <em>1000</em> particles in our case is more than enough. </li></ul><br>  Wow, this is the list!  But as a result, we learned how to add a particle system to the scene and customize it to your liking. <br><br>  Run the scene again to see how it was affected by the changes: <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f4e/4d0/798/f4e4d0798c473bdd353e311ecdafe170.gif"></div></div></div><br>  Each time it becomes more and more like a flame, right? <br><br>  However, we need more particles.  For this we need to change the <em>emission</em> system. <br><br><h2>  Introduction to the Emission Module </h2><br>  The <em>Emission</em> module controls the number and time of emitted particles in the system and allows you to create any effects, from constant flow to a sharp explosion of particles. <br><br>  While in the particle Inspector, click on the Emission module header: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4fc/d27/047/4fcd2704713f4e6106660a9e9736b8a5.png"></div><br>  This will open the Emission module: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/963/d08/a59/963d08a59166cd5c51f99b34aa301e7d.png"></div><br>  <em>Rate over Time</em> represents the number of particles emitted per second.  Set <em>Rate over Time</em> to <em>15</em> . <br><br>  Run the scene again;  now the particle system will look more like a burning flame. <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/506/694/28e/50669428e55613a3472307f2d9667c78.gif"></div></div></div><br>  But it is noticeable that it is still more like smoke.  And here we will make the biggest change at the current stage of the tutorial: your own texture! <br><br><h2>  Add your own texture </h2><br>  All particles have a particle material and texture that defines their appearance.  With the default texture, we can only do this.  Replacing the texture, we can create effects like magic stars, smoke and, of course, fire. <br><br>  Replacing the texture of particles is quite simple.  Up to this point, the particles were drawn on the screen using the <em>Default-Particle</em> material, which is a material of particles with a circular gradient texture: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/211/8be/c31/2118bec313ab5779c619db4ec99277ae.png"></div><br>  To replace this material, select <em>TorchFireParticles</em> in the GameObject <em>hierarchy</em> .  Then, find the particle system components in the inspector and open the particle system's <em>Renderer</em> module. <br><br>  Open the <em>Materials</em> folder in the Project View window and drag and drop onto the <em>FireMaterial Material</em> onto the <em>Material</em> property: <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4ab/3ac/b28/4ab3acb28f48a212fe7880f13a8c0851.gif"></div></div></div><br>  Then run the scene to see how our selected texture is applied: <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/124/3c8/51f/1243c851f1acb605a3ade17b3f351f39.gif"></div></div></div><br>  Feel the heat?  However, the flame is too wide;  To fix this, we need to change the shape of the particle system. <br><br><h2>  Reshaping the particle system </h2><br>  The <em>Shape</em> module, as the name implies, controls the shape and behavior of particles in this shape.  You can choose from several different shapes;  each has its own parameters.  This allows you to create particles in a parallelepiped, in a sphere or even in your own mesh! <br><br>  Deploy the <em>Shape</em> module in the inspector: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/80f/02f/0fb/80f02f0fb0358fa291a6027489c743f7.png"></div><br>  As the shape ( <em>shape</em> ) of the particle system, a cone ( <em>cone</em> ) is selected, that is, particles are emitted from the base <em>base</em> and move outward at an angle ( <em>angle</em> ): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/045/f6e/9f1/045f6e9f16bfc2846f99ff157661773c.png"></div><br>  In the example shown above, the base is colored <em>blue</em> , the corner is <em>green</em> , and the particles are <em>red</em> .  It is also worth noting that with the Shape module deployed, we see in the Scene window a convenient preview of the cone: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/12f/082/6cb/12f0826cb004a3000ef7ab0168c908be.png"></div><br>  Changing <em>Angle</em> , you can change the size of the cone, making it wider or narrower.  Enter a value of <em>7</em> ;  this way we get a convenient narrow border that expands a bit when the particles go up. <br><br>  By changing the <em>Radius</em> , we can change the size of the base.  The larger the value, the more particles will be scattered during emission.  Select a value of <em>0.2</em> ;  so we will ensure the creation of a flame inside the tank for the fuel torch. <br><br>  Start the scene and see how the shape of the flame has changed: <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dfd/bee/af2/dfdbeeaf2c1ab88e29b892b286b01021.gif"></div></div></div><br>  It begins to resemble a real flame!  The last thing you can do is change the size of the particles over time. <br><br><h2>  Resizable over time </h2><br>  Using the <em>Size over Lifetime</em> module, you can create particles that increase or decrease with the course of their life, or even pulsate, like fireflies in the forest. <br><br>  Find the <em>Size over Lifetime</em> section in the list of modules of the particle system.  The default is off, so check the box next to the module name: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/08c/0cc/631/08c0cc631d732bb088f14cb1a5693115.png"></div><br>  Expand the Size over Lifetime module by clicking on its name.  This will open a dark gray background with a flat curve ( <em>Curve</em> ) at the top: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7cf/6e6/a4d/7cf6e6a4d6f95312fa1200699413a229.png"></div><br>  Click on the <em>dark gray background</em> to open the curves editor at the bottom of the inspector.  The horizontal axis represents the lifetime of the particle, and the vertical axis - its size: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/66e/7ee/964/66e7ee964c3459926d04d1f4899059c1.png"></div><br>  To edit the curve, you can move the key points on both sides of the red line;  You can add new keys by double clicking anywhere on the curve.  To delete key points, right-click the point and select <em>Delete Key</em> .  You can also choose one of the previously created curves in the lower part of the window: <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0fb/be0/7e1/0fbbe07e11cc44a1ea81308efdbd46d9.gif"></div></div></div><br>  Remember how the flames behave in the real world: they decrease when the particles are lifted up.  To simulate this behavior, we will select the third ready curve on the right to create a smoothly descending curve: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ab2/f72/203/ab2f722037da0d9d5fd961fe57a10c27.png"></div><br>  Run the scene to see the effect in its entirety! <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2f2/136/72f/2f213672fa1522abb3bbf975a856c11b.gif"></div></div></div><br>  Congratulations!  You have learned how to customize a new particle system and modify it to your liking to create a beautiful fire effect. <br><br>  In the next section, we‚Äôll wake up the inner Michael Bay in ourselves to learn how to create the effects of explosions! <br><br><h2>  Bomb effect creation </h2><br>  Creating an explosion effect in Unity is quite simple.  Once you figure out how to create particles of your own, you can use this effect for things like car wheels, sparks when rubbing on the ground, or balloons that explode and throw confetti out of you. <br><br>  Open the <em>Bomb scene</em> in the Project Window and run the scene: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0f1/e49/b0a/0f1e49b0ae2f5efbd8ee04815a2886f2.png"></div><br>  There is a floor at the bottom of the scene, but nothing besides it happens in the scene. <br><br>  To create bombs, pass the <em>Bomb</em> prefab to the <em>Bomb Emitter</em> prefab slot: <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dbe/963/c48/dbe963c48bf38b18981b10214bf78924.gif"></div></div></div><br>  Run the scene again to see the bombs appear: <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b2e/642/d66/b2e642d6658604b8c55cc9ce42496335.gif"></div></div></div><br>  The emitter creates a new bomb every two seconds.  So that they <i>rotate</i> , you need to add a small rotational force when creating the bomb. <br><br>  Open the <em>Bomb</em> script in the <em>Scripts</em> folder of the Project Window. <br><br>  Add the following code to <code>Start()</code> : <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> randomX = UnityEngine.Random.Range (<span class="hljs-number"><span class="hljs-number">10f</span></span>, <span class="hljs-number"><span class="hljs-number">100f</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> randomY = UnityEngine.Random.Range (<span class="hljs-number"><span class="hljs-number">10f</span></span>, <span class="hljs-number"><span class="hljs-number">100f</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> randomZ = UnityEngine.Random.Range (<span class="hljs-number"><span class="hljs-number">10f</span></span>, <span class="hljs-number"><span class="hljs-number">100f</span></span>); Rigidbody bomb = GetComponent&lt;Rigidbody&gt; (); bomb.AddTorque (randomX, randomY, randomZ); }</code> </pre> <br>  The first three lines generate random float values ‚Äã‚Äãfrom 10 to 100 for the x, y, and z axes.  Next, we get a reference to the Rigidbody bomb component and apply a moment to it.  Due to this, the bomb begins to rotate in a random direction.  Save the changes in the script, go back to Unity and run the scene. <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/22b/ff4/dc6/22bff4dc67788a20a4377427ec221080.gif"></div></div></div><br>  Now the bombs when falling fall beautifully.  But I promised you explosions! <br><br>  In the hierarchy, click the <em>Create</em> button and select <em>Create Empty</em> .  Click on the created GameObject and name it <em>ExplosionParticles</em> .  Next, add to this GameObject a new particle system.  If you forgot how to create a particle system, then look at the first section of the tutorial. <br><br>  After creating the particle system, drag GameObject <em>ExplosionParticles</em> from the hierarchy to the <em>Prefabs</em> folder in the Project Browser.  After that, remove the GameObject <em>ExplosionParticles</em> from the Project Hierarchy. <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cd4/3c2/76f/cd43c276f4cc479e556cf54242862a77.gif"></div></div></div><br>  Then select the <em>Bomb</em> prefab in the <em>Prefabs</em> folder and drag the <em>ExplosionParticles</em> prefab into the Explosion Particles Prefab <em>Bomb</em> slot as follows: <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/27f/a4a/1f3/27fa4a1f33b43da23716406e4b9a4c27.gif"></div></div></div><br>  Now when the bomb touches the ground, a new GameObject Explosion Particles will be created. <br><br>  Run the scene to see what the blast looks like.  If you again have a bug with pink textures, then do not worry, we will change the texture. <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/91b/ed9/578/91bed9578c2aa8c55249cd8d41fba86c.gif"></div></div></div><br>  Very <i>magical</i> , but so far completely unlike the explosion! <br><br>  As in the case of the torch, we will use the material Fire for the particle system. <br><br>  Select the Prefab <em>ExplosionParticles</em> in the Project Window, and then deploy the <em>Renderer</em> module in the inspector.  Drag <em>FireMaterial</em> from the Materials folder from the Project Window to the <em>Material</em> slot, as shown below: <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/745/1ef/6cf/7451ef6cfcf7301126dd784c75291b8d.gif"></div></div></div><br>  To complete the effect, we need to change the following parameters in the Main module: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9b0/d2a/af6/9b0d2aaf6ec5a5ade8a3990133a0248b.png"></div><br><ol><li>  Set the <em>Duration</em> to <em>0.70</em> . </li><li>  <em>Looping</em> needs to be disabled.  Particles should be emitted only once. </li><li>  Set the <em>Start Lifetime</em> value to <em>0.7</em> . </li><li>  Set <em>Start Speed</em> to <em>10</em> . </li><li>  Set the <em>Start Size</em> to <em>2</em> . </li><li>  Set the <em>Gravity Modifier</em> to <em>1</em> .  Due to this, the particles at the end will slightly go down. </li></ol><br>  Run a scene with a bomb to see.  what we created: <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e75/62a/b35/e7562ab35dfd70c370fc2092ca81a6b5.gif"></div></div></div><br>  Well, this is already like an explosion, but you can definitely do better! <br><br><h2>  Making a blast </h2><br>  To improve the explosion, we will change the properties of the modules of the particle system.  Guess what module we will change?  Here's a hint - we already used it. <br><br>  If you decide that this is an Emission module, then you are well done! <br><br>  Deploy the <em>Emission Module</em> .  Rate is the number of particles created per second.  For an explosion, we need not a constant stream of particles, but a sharp flash. <br><br>  Set the <em>Rate over Time</em> to <em>0</em> .  Now go to <em>Rate over Distance</em> and you will see a list of <em>Bursts</em> , which is empty by default: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eef/e50/52d/eefe5052d3f93b75563104de34acf8f5.png"></div><br>  A burst is a collection of particles emitted simultaneously at a certain point in time. <br><br>  Click the <em>+ button</em> in the bottom right corner to add a new burst.  You will see two fields: <em>Time</em> and <em>Count</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/687/108/0f4/6871080f4c1648ed53819c239569de65.png"></div><br>  Leave <em>Time</em> equal to <em>0</em> , and set <em>Count</em> to <em>150</em> .  Such parameters will cause the particle system to simultaneously emit 150 particles at the beginning of the system. <br><br>  Run the scene.  How does everything look now? <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b94/2ff/213/b942ff21339f3e1eecf64125fcda0fb3.gif"></div></div></div><br>  Now it's <em>more</em> like a blast!  Although this explosion looks better, it still has an ugly conical shape, and the particles do not fade, but simply disappear.  To give the explosion a final look, he needs to set the correct form. <br><br>  First, let's deploy the <em>Shape</em> module: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1d1/516/962/1d15169627084fed58499731077eb55a.png"></div><br>  We have already used this module to form a flame of a torch, but here you can choose other forms.  Click on the drop-down box that says <em>Cone</em> to see all the available options: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/558/242/b91/558242b91cb282242e26e4a678b673cf.png"></div><br>  Each form affects the emitter in its own way.  Each animation shown below shows the same emitter, in which only the shape changes: <br><br>  <em>Sphere</em> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/14f/6ec/ab0/14f6ecab0565133b8cbdfbd654f43b3f.gif"></div><br>  <em>Hemisphere (HemiSphere)</em> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4f5/d23/7dc/4f5d237dc2e5297d408e6630cba2bfa9.gif"></div><br>  <em>Cone (Cone)</em> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bf1/c4c/fe0/bf1c4cfe0202667e08045f3182861bec.gif"></div><br>  <em>Box</em> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/add/343/430/add3434300b8dc0d84ab3a7ede9fc77b.gif"></div><br>  <em>Mesh (cube) (Mesh)</em> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c04/c5a/c36/c04c5ac364e38b06af498061217a5f61.gif"></div><br>  <em>Circle</em> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/57a/0b3/255/57a0b32553f460472494125e4b5c5a7d.gif"></div><br>  <em>Edge</em> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/08f/406/159/08f406159ec3e505511bff30a0664e2d.gif"></div><br>  From one system you can get a lot of different effects, just changing its shape!  To create a realistic explosion, choose the shape of <em>Sphere</em> . <br><br>  Launch the scene and get ready to <i>explode</i> : <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/216/bc0/e95/216bc0e95b7f5fecdf9217c2c709491d.gif"></div></div></div><br>  Now everything looks amazing! <br><br>  Although the explosion is beautiful, we have a small problem.  The particles just disappear.  This creates a feeling of trembling and looks completely unnatural.  Instead of just disappearing, the particles should fade out with time so that the explosion disappears gradually. <br><br><h2>  Color change </h2><br>  With the particle system open in the inspector, click the checkbox next to the <em>Color over Lifetime</em> module to turn it on, and then expand it.  You will immediately see the word <em>Color</em> with a white block next to it.  <em>Click</em> on the <em>white block</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/581/d85/b76/581d85b76c9a572fe965c0f14c038af1.png"></div><br>  This will open the gradient editor: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/01e/dfa/14c/01edfa14cec488602e102500f64483cb.png"></div><br>  The color change during the lifetime of the particles is represented as a gradient.  The initial color is on the left, and the particles gradually change color to the one on the right: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6d5/7ff/514/6d57ff5142f434f547322a8a01770694.png"></div><br>  Four white stripes on the edges are called <em>markers</em> ;  Click between two existing markers to add a new one.  To remove a marker, drag it from the bar: <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c4a/452/cd0/c4a452cd0d287e628bc6e493ecf4df88.gif"></div></div></div><br>  The upper markers control the <em>Alpha</em> or the opacity of the color, and the lower markers control the <em>RGB</em> (Red, Green, Blue) color values. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ab8/7cd/5e5/ab87cd5e5bf407224b37febf5ebcafe3.png"></div><br>  Click on the rightmost alpha marker.  The current value of the alpha channel will be shown at the bottom of the gradient editor: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/587/c3e/8d9/587c3e8d95fa23189ce17c180858f982.png"></div><br>  Drag the slider to <em>0</em> .  Now the particles will gradually become transparent over the course of their lifetime. <br><br>  Run the scene again to see how the changes have affected: <br><br><div class="spoiler">  <b class="spoiler_title">Gif</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/35d/8c0/130/35d8c0130fac89ff9fa9f49c227e8aec.gif"></div></div></div><br>  Wonderful blast! <br><br>  Want to further enhance the scene?  Go back to the scene with the torch and have the flame use the <em>Size Over Lifetime Module</em> to get a similar effect. <br><br><h2>  Where to go next? </h2><br>  The finished project can be downloaded <a href="">from here</a> . <br><br>  In this tutorial, you learned how particle systems and their modules work in Unity, as well as how to customize them to get the desired effect.  Experiment with different parameters to see what other effects can be achieved. <br><br>  For more information about the Shuriken particle system and its modules, see the <a href="http://docs.unity3d.com/Manual/ParticleSystems.html">official Unity documentation</a> and the <a href="https://unity3d.com/learn/tutorials/modules/beginner/live-training-archive/particle-systems">particle system video</a> .  You can also learn more about particle system scripting <a href="https://docs.unity3d.com/ScriptReference/ParticleSystem.html" rel="noopener">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/351458/">https://habr.com/ru/post/351458/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../351448/index.html">Evolution of testing strategies - stop being a monkey</a></li>
<li><a href="../351450/index.html">Classification of topics for contact center calls</a></li>
<li><a href="../351452/index.html">Why Photo Scarlett Johansson made PostgresSQL Mine Monero</a></li>
<li><a href="../351454/index.html">How to write a random number generator and is it possible to predict Math.random?</a></li>
<li><a href="../351456/index.html">Why let the characters down</a></li>
<li><a href="../351460/index.html">Computer vision and the Internet of things</a></li>
<li><a href="../351462/index.html">Classification of musical compositions by performers with the help of Hidden Markov Models</a></li>
<li><a href="../351464/index.html">Integration of 3CX with its own CRM system: CRM template generator</a></li>
<li><a href="../351466/index.html">Annual Report on Cyber ‚Äã‚Äãand Info Security for 2017</a></li>
<li><a href="../351468/index.html">Our on Delex: how was the first DevOps and advanced Test Automation conference held in Minsk</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>