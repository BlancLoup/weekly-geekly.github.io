<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>In the wake of Spring Pet Clinic. Maven / Spring Context / Spring Test / Spring ORM / Spring Data JPA</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 
 Spring MVC , according to RevbelLabs Java tools and technologies review for 2014 , is the most popular web framework. 
 Further the same revi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>In the wake of Spring Pet Clinic. Maven / Spring Context / Spring Test / Spring ORM / Spring Data JPA</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/872/047/052/8720470528074f95bc4ff8d0c08b461d.jpg"><br>  Hello! <br>  <a href="http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html">Spring MVC</a> , according <a href="http://zeroturnaround.com/rebellabs/java-tools-and-technologies-landscape-for-2014/">to RevbelLabs Java tools and technologies review for 2014</a> , is the most popular web framework. <br>  Further the same review names the leader of ORM - <a href="http://hibernate.org/orm/">Hibernate</a> and the leader of web containers - Apache Tomcat.  Add here the most used java script library <a href="http://jquery.com/">jQuery</a> , the most popular css framework <a href="http://getbootstrap.com/">Bootstrap</a> , still the most popular (unceasingly on the offensive Gradle) build tool <a href="http://www.apache-maven.ru/">Maven</a> , the absolute leader among the test frameworks <a href="http://junit.org/">JUnit</a> and its developers: <br>  <a href="https://github.com/spring-projects/spring-petclinic">Spring Pet Clinic</a> ( <a href="http://demo-spring-petclinic.cfapps.io/">demo application</a> ). <br>  In addition to the above, this fairly simple in functionality project also includes Spring-Jdbc, Spring-ORM, <br>  <a href="http://projects.spring.io/spring-data-jpa/">Spring Data JPA</a> , <br>  <a href="http://hibernate.org/validator/">Hibernate Validator</a> , <br>  <a href="http://www.slf4j.org/">SLF4J</a> , <br>  <a href="https://github.com/FasterXML/jackson">Json Jackson</a> <br>  <a href="http://ru.wikipedia.org/wiki/JSP">Jsp</a> <br>  <a href="http://en.wikipedia.org/wiki/JavaServer_Pages_Standard_Tag_Library">Jstl</a> <br>  <a href="http://www.webjars.org/">WebJars</a> , <br>  <a href="http://dandelion.github.io/datatables/">Dandelion DataTables</a> , <br>  <a href="http://hsqldb.org/">HSQLDB</a> , <br>  <a href="http://hamcrest.org/JavaHamcrest/">Hamcrest</a> , <br>  <a href="http://code.google.com/p/mockito/">Mockito</a> and dozens of other dependencies. <br><a name="habracut"></a><br>  Progress in software development involves reducing the amount of your own application code, ideally, only to the business logic of the application. <br>  However, this is not given for free - the number of dependencies even exceeded fifty for a simple project (there is 61 jar in WEB-INF \ lib in PetClinic). <br>  Of course, it is not necessary to know them all, some jar catch up in the background, and we don‚Äôt even suspect them until we look at the finished war or <br>  run <code>mvn project-info-reports:dependencies</code> (in IDEA: Show Dependencies ... on the Maven project).  But you have to work with the main ones.  And to fight <br>  some of their features sometimes spend hours or even days.  And you have to deal with the bugs of the frameworks themselves ... <br><br>  Recently, inspired by the Pet Clinic, when I created a webinar on these technologies, I created the Todo Management List application: managing my to-do list <br>  with authorization and user registration.  <a href="http://projects.spring.io/spring-security/">Spring Security</a> has added to Pet Clinic's addictions / very fresh <a href="http://spring.io/blog/2014/05/07/preview-spring-security-test-method-security">Spring Security</a> <a href="http://spring.io/blog/2014/05/07/preview-spring-security-test-method-security"><br></a>  <a href="http://spring.io/blog/2014/05/07/preview-spring-security-test-method-security">Test</a> and <br>  jQuery <a href="http://www.appelsiini.net/projects/jeditable">jeditable</a> and <a href="http://ned.im/noty/">jQuery notification</a> plugins. <br>  The length of the article does not allow to describe the steps of creating an application (the webinar on creating an application takes 30 hours), <br>  so here I share resources, some thoughts and decisions that came in the process of its creation. <br>  On <a href="https://www.heroku.com/">PaaS Heroku</a> you can find <a href="http://topjava.herokuapp.com/">demo applications</a> (first <br>  Once started, a long boot and server error is possible, repeat). <br><br><h1>  Application examples </h1><br>  On the Internet, many applications built on Spring / JPA / MVC / Security.  You can download the sources and choose the solution that suits you best. <br><ul><li>  First on the list is <a href="https://github.com/spring-projects/spring-petclinic">Pet Clinic</a> ; </li><li>  then the Heroku <a href="https://github.com/heroku/devcenter-spring-mvc-hibernate">Pet Clinic</a> using <a href="http://habrahabr.ru/post/221939/">Spring Roo</a> ; <br></li><li>  from Spring Security Test <a href="https://github.com/rwinch/spring-security-test-blog">rwinch / spring-security-test-blog</a> </li><li>  Alexey Rezchikov project <a href="https://github.com/mcgray/TODOShare">mcgray / TODOShare</a> </li><li>  <a href="https://github.com/sivaprasadreddy/sivalabs-blog-samples-code">sivaprasadreddy / sivalabs-blog-samples-code</a> family of examples </li><li>  <a href="https://github.com/Fruzenshtein/security-spr">Fruzenshtein / security-spr</a> </li><li>  <a href="https://github.com/e-ivaldi/easy-bank">e-ivaldi / easy-bank</a> </li><li>  <a href="https://github.com/fpants/shoppingcart">fpants / shoppingcart</a> </li><li>  from the worker of JetBrains Andrey Cheptsov <a href="https://github.com/cheptsov/SpringMVCApp">cheptsov / SpringMVCApp</a> </li><li>  dandelion <a href="https://github.com/dandelion/dandelion-samples">dandelion samples</a> </li><li>  <a href="">SpringExceptionHandling</a> </li><li>  <a href="">spring-security-login-example-database</a> <br></li><li>  finally mkyong tutorials: <a href="http://www.mkyong.com/tutorials/spring-tutorials/">Spring Tutorial</a> , <a href="http://www.mkyong.com/tutorials/spring-mvc-tutorials/">Spring MVC Tutorial</a> and <a href="http://www.mkyong.com/tutorials/spring-security-tutorials/">Spring Security Tutorial</a> </li></ul><br><h1>  Spring namespace configuration </h1><br>  In Spring configuration, there is a tendency to hide implementation details under their namespaces. <br>  The configuration becomes smaller and clearer, but the process of customization or debag is not entirely trivial: first you need to find the beans, <br>  where it is implemented. <br>  Compare for example <a href="http://docs.spring.io/spring/docs/current/spring-framework-reference/html/jdbc.html">initialization</a> <a href="http://docs.spring.io/spring/docs/current/spring-framework-reference/html/jdbc.html"><br></a>  <a href="http://docs.spring.io/spring/docs/current/spring-framework-reference/html/jdbc.html">bases</a> : <br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"org.springframework.jdbc.datasource.init.DataSourceInitializer"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">depends-on</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"entityManagerFactory"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"databasePopulator"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"resourceDatabasePopulator"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"dataSource"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"dataSource"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"resourceDatabasePopulator"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"org.springframework.jdbc.datasource.init.ResourceDatabasePopulator"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"scripts"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">array</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>classpath*:db/${jdbc.initLocation}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>classpath*:db/populateDB.sql<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">array</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  and <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">jdbc:initialize-database</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-source</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"dataSource"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">enabled</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${database.init}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">jdbc:script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">location</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"classpath:db/${jdbc.initLocation}"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">jdbc:script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">location</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"classpath:db/populateDB.sql"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">jdbc:initialize-database</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  This is especially evident when comparing the former Acegi Security and Spring Security (all filters are hidden under the <a href="">namespace security</a> ). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  @Transactional in tests </h1><br>  It is customary to use transactionalities in Spring tests: after each test is executed, the base rollbacks to the initial state occurs. <br>  However, @Transactional itself greatly influences the behavior of tests: for example, you forgot in the @Transactional service / repository, the test passed, and the application crashed. <br>  Even worse, when in the test they get for comparison the essence from the base: <br>  they fall into the same transactional context and the behavior of the methods being tested becomes somewhat different (it only saves evict or detach). <br>  The state of the base during the test debug is also not displayed until the test transaction has ended. <br>  More honestly use the database initializer before each test: <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DbPopulator"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">constructor-arg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"scriptLocation"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"classpath:db/populateDB.sql"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DbPopulator</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ResourceDatabasePopulator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> ResourceLoader RESOURCE_LOADER = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DefaultResourceLoader(); <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> DataSource dataSource; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DbPopulator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String scriptLocation)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(RESOURCE_LOADER.getResource(scriptLocation)); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">execute</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ DatabasePopulatorUtils.execute(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, dataSource); } } <span class="hljs-meta"><span class="hljs-meta">@ContextConfiguration</span></span>(<span class="hljs-string"><span class="hljs-string">"classpath:spring/spring-app.xml"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@RunWith</span></span>(SpringJUnit4ClassRunner.class) <span class="hljs-meta"><span class="hljs-meta">@ActiveProfiles</span></span>({<span class="hljs-string"><span class="hljs-string">"postgres"</span></span>, <span class="hljs-string"><span class="hljs-string">"jpa"</span></span>}) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TodoItemServiceTest</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> DbPopulator dbPopulator; <span class="hljs-meta"><span class="hljs-meta">@Before</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ dbPopulator.execute(); }</code> </pre><br><br>  Update: in Spring 4.1, there appeared an annotation replacing the DbPopulator: <br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@org</span></span>.springframework.test.context.jdbc.Sql</code> </pre><br><h1>  Configure EntityManagerFactory </h1><br>  Having got used to Spring 3.0 to bugs about an entity that was not announced in persistence.xml, I was surprised that everything works without it! <br>  After some digging in the code, I saw that the entire target / classes was scanned for the entity anotation.  I was also pleased with the ability to configure JPA without persistence.xml. <br>  You can set specific packages for scanning models, configure provider-specific and general JPA parameters. <br>  Moreover, they can be transferred to a common db.properties file: <br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"entityManagerFactory"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">p:dataSource-ref</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"dataSource"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">p:packagesToScan</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"**.model"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--p:persistenceUnitName="persistenceUnit"&gt;--&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jpaPropertyMap"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">map</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">entry</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">util:constant</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">static-field</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"org.hibernate.cfg.AvailableSettings.FORMAT_SQL"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>${hibernate.format_sql}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">entry</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">entry</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">util:constant</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">static-field</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"org.hibernate.cfg.AvailableSettings.USE_SQL_COMMENTS"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>${hibernate.use_sql_comments}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">entry</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">map</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jpaVendorAdapter"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">p:showSql</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${jpa.showSql}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">p:generateDdl</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${jpa.generateDdl}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><h1>  Choice of implementation of a pool of connections. </h1><br>  The traditional choice for implementing the DataSource <a href="http://commons.apache.org/proper/commons-dbcp/">Commons DBCP</a> seems to be losing ground. <br>  According to StackOverflow, for implementation you need to take <a href="http://jolbox.com/">BoneCP</a> , used in <a href="http://www.playframework.com/">playframework</a> (if you are already using it or are going to, <br>  Note that some effort is required to avoid memory leaks voiced in the <a href="http://www.youtube.com/watch%3Fv%3DsSmQ6W-ovZE">report from the developer Plumbr</a> ). <br>  And in PetClinic <a href="http://blog.ippon.fr/2013/03/13/improving-the-performance-of-the-spring-petclinic-sample-application-part-3-of-5">tomcat-jdbc is used</a> . <br>  If the application is deployed to Tomcat, you can not include it in war (scope = provided), but at the same time in $ TOMCAT_HOME / lib <br>  It is necessary to put the driver of the database, because the libraries of your war are unavailable from the native tomcat-jdbc. <br>  And of course, when deploying to Tomcat, you shouldn‚Äôt forget about the ability to take a pool of connections from <br>  Tomcat configuration context.xml resources: <br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">beans</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">profile</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jndi"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">jee:jndi-lookup</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"dataSource"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">jndi-name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"java:comp/env/jdbc/javatop"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">beans</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><h1><a name="datajpa"></a><br>  <a href="http://projects.spring.io/spring-data-jpa/">Spring Data JPA</a> </h1><br>  Having got used in each project to create our own AbstractDAO, parameterized by the entity and key with the implementation of the main CRUD based on the EntityManager, I was pleased, <br>  that he finally entered Spring, however, into the Spring Data JPA project: <br> <code>JpaRepository&lt;T, ID extends Serializable&gt;</code> <br>  It is inherited from the more general <code>CrudRepository&lt;T, ID extends Serializable&gt;</code> <br>  from <a href="http://docs.spring.io/spring-data/data-commons/docs/current/reference/html/">Spring Data Commons</a> . <br>  Working with <a href="http://docs.spring.io/spring-data/jpa/docs/current/reference/html/jpa.repositories.html">JPA repositories is</a> amazing first: just write <br><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserRepository</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Repository</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Integer</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-function"><span class="hljs-function">User </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findByEmail</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String email)</span></span></span></span>; }</code> </pre><br>  and the method itself will work without a single line of implementation! <br><br>  Appeal to the original sources showed that the insides of magic - proxying, regexp and reflection: <br><ul><li>  First, the interface in <code>JpaRepositoryFactory.getRepositoryBaseClass</code> proxied by one of the implementations: <code>QueryDslJpaRepository</code> (when using <br>  <a href="http://www.querydsl.com/">Unified Queries for Java</a> ) or <code>SimpleJpaRepository</code> <br></li><li>  then all methods that are candidates for Query ( <code>DefaultRepositoryInformation.isQueryMethodCandidate</code> ) are <code>DefaultRepositoryInformation.isQueryMethodCandidate</code> . <br>  Simply put, everything gets there with the <code>@Query</code> annotation and everything that is not in the <code>JpaRepository</code> ; <br></li><li>  then the method names are parsed in PartTree via <br><pre> <code class="java hljs"> PartTree.PREFIX_TEMPLATE: Pattern.compile(<span class="hljs-string"><span class="hljs-string">"^(find|read|get|count|query)(\\p{Lu}.*?)??By"</span></span>)</code> </pre><br>  and it is looking for compliance with the essence of the entity; <br></li><li>  Finally, the method is trivially implemented through the <a href="http://www.objectdb.com/java/jpa/query/criteria">JPA Criteria API</a> . <br></li></ul><br>  A rhetorical question for readers: can java be considered a dynamic language :)? <br><br>  If JpaRepository and the generated methods are not enough, you can write <a href="https://blog.42.nl/articles/spring-data-jpa-with-querydsl-repositories-made-easy/">your own implementation of the methods or Query queries</a> . <br>  In <code>@Query</code> you can write JPQL queries (which are generated in <code>@NamedQuery</code> ), or you can refer to already declared <code>@NamedQuery</code> in entities (for some reason in PetClinic <code>@NamedQuery</code> <br>  ignored, although such requests are built and checked at the deployment stage). <br>  For example, the method <br><pre> <code class="java hljs"> <span class="hljs-meta"><span class="hljs-meta">@Modifying</span></span> <span class="hljs-meta"><span class="hljs-meta">@Transactional</span></span> <span class="hljs-meta"><span class="hljs-meta">@Query</span></span>(name = User.DELETE) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">delete</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@Param(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"id"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> id)</span></span>;</code> </pre><br>  refers to the @NamedQuery declared in User <br><pre> <code class="java hljs"> <span class="hljs-meta"><span class="hljs-meta">@NamedQueries</span></span>({ ... <span class="hljs-meta"><span class="hljs-meta">@NamedQuery</span></span>(name = User.DELETE, query = <span class="hljs-string"><span class="hljs-string">"DELETE FROM User u WHERE u.id=:id"</span></span>) }) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NamedEntity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String DELETE = <span class="hljs-string"><span class="hljs-string">"User.delete"</span></span>;</code> </pre><br>  Unlike <code>void CrudRepository.delete(ID id)</code> it will return the number of records modified. <br><br>  However, there is a problem: the inheritance of the business data access interface from the <code>JpaRepository</code> means that the level of service becomes dependent on implementation. <br>  In addition, for example, in the <code>List&lt;T&gt; findAll(Sort sort)</code> method, the <code>List&lt;T&gt; findAll(Sort sort)</code> class is also located in Spring Data and you do not want to set it in services. <br>  The signature of the methods of the interface becomes bound to signatures in the <code>JpaService</code> .  Inconvenient debazitsya and logging.  All <code>JpaRepository</code> methods that we don‚Äôt need at the service level are <code>JpaRepository</code> in the business interface, or, when inheriting from the <code>org.springframework.data.repository.Repository</code> marker, we don‚Äôt have <code>@Override</code> ... <br>  All these problems are solved by another level of delegation: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ProxyUserRepository</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JpaRepository</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Integer</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Modifying</span></span> <span class="hljs-meta"><span class="hljs-meta">@Query</span></span>(<span class="hljs-string"><span class="hljs-string">"DELETE FROM User u WHERE u.id=?1"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Transactional</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">delete</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> id)</span></span></span></span>; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-meta"><span class="hljs-meta">@Transactional</span></span> <span class="hljs-function"><span class="hljs-function">User </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">save</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(User user)</span></span></span></span>; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-function">User </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findOne</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Integer id)</span></span></span></span>; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-function">List&lt;User&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findAll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Sort sort)</span></span></span></span>; } <span class="hljs-meta"><span class="hljs-meta">@Repository</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DataJpaUserRepository</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserRepository</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Sort SORT_NAME_EMAIL = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Sort(<span class="hljs-string"><span class="hljs-string">"name"</span></span>, <span class="hljs-string"><span class="hljs-string">"email"</span></span>); <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ProxyUserRepository proxy; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">delete</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> id)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> proxy.delete(id) != <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> User </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">save</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(User user)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> proxy.save(user); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> User </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> id)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> proxy.findOne(id); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> List&lt;User&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getAll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> proxy.findAll(SORT_NAME_EMAIL); } }</code> </pre><br><h1>  Finally: resources by topic </h1><br><br><h3>  Spring </h3><br><ul><li>  <a href="http://www.youtube.com/watch%3Fv%3DBmBr5diz8WA">Evgeny Borisov - Spring-Ripper, Part 1</a> </li><li>  <a href="http://www.youtube.com/watch%3Fv%3Dcou_qomYLNU">Evgeny Borisov - Spring-Ripper, part 2</a> </li><li>  <a href="http://www.youtube.com/watch%3Fv%3DhRtQFIVJ0ws">Evgeniy Borisov - Spring 4.0: A New Generation</a> </li><li>  <a href="http://jeeconf.com/archive/jeeconf-2013/materials/spring-data/">Alexey Rezchikov: Spring Data - a new look at persistence</a> </li><li>  Rapid Development: <a href="http://habrahabr.ru/post/221939/">Spring Roo</a> </li></ul><br><h3>  Maven </h3><br><ul><li>  Russian resource about <a href="http://www.apache-maven.ru/">Maven</a> . </li><li>  Starting the project and customizing <a href="http://habrahabr.ru/post/111408/">Maven archetype</a> </li><li>  Translation of old article <a href="http://habrahabr.ru/blogs/java/106717/">Disadvantages of Maven</a> .  Some of the listed <br>  no longer relevant, some remained. <br></li><li>  <a href="http://blog.bintray.com/2014/02/11/bintray-as-pain-free-gateway-to-maven-central/">Bintray: gateway to Maven Central</a> </li><li>  <a href="http://howtodoinjava.com/2014/02/18/maven-bom-bill-of-materials-dependency/">Maven bom</a> <a href="http://howtodoinjava.com/2014/02/18/maven-bom-bill-of-materials-dependency/"><br></a>  <a href="http://howtodoinjava.com/2014/02/18/maven-bom-bill-of-materials-dependency/">[Bill Of Materials] Dependency</a> , used by PetClinic to resolve dependencies. </li></ul><br><h3>  Logging </h3><br><ul><li>  <a href="http://habrahabr.ru/post/113145/">Java Logging: a nightmare story</a> . </li><li>  <a href="http://skipy.ru/useful/logging.html">Application logging</a> </li><li>  <a href="http://www.slf4j.org/legacy.html">Slf4j adapters</a> </li></ul><br><h3>  Persistence </h3><br><ul><li>  <a href="http://www.jpab.org/All/All/All.html">JPA Performance Benchmark</a> </li><li>  <a href="http://codehelper.ru/questions/205/new/repository-%25D0%25B8-dao-%25D0%25BE%25D1%2582%25D0%25BB%25D0%25B8%25D1%2587%25D0%25B8%25D1%258F-%25D0%25BF%25D1%2580%25D0%25B5%25D0%25B8%25D0%25BC%25D1%2583%25D1%2589%25D0%25B5%25D1%2581%25D1%2582%25D0%25B2%25D0%25B0-%25D0%25BD%25D0%25B5%25D0%25B4%25D0%25BE%25D1%2581%25D1%2582%25D0%25B0%25D1%2582%25D0%25BA%25D0%25B8">Comparison Repository and</a> <a href="http://codehelper.ru/questions/205/new/repository-%25D0%25B8-dao-%25D0%25BE%25D1%2582%25D0%25BB%25D0%25B8%25D1%2587%25D0%25B8%25D1%258F-%25D0%25BF%25D1%2580%25D0%25B5%25D0%25B8%25D0%25BC%25D1%2583%25D1%2589%25D0%25B5%25D1%2581%25D1%2582%25D0%25B2%25D0%25B0-%25D0%25BD%25D0%25B5%25D0%25B4%25D0%25BE%25D1%2581%25D1%2582%25D0%25B0%25D1%2582%25D0%25BA%25D0%25B8"><br></a>  <a href="http://codehelper.ru/questions/205/new/repository-%25D0%25B8-dao-%25D0%25BE%25D1%2582%25D0%25BB%25D0%25B8%25D1%2587%25D0%25B8%25D1%258F-%25D0%25BF%25D1%2580%25D0%25B5%25D0%25B8%25D0%25BC%25D1%2583%25D1%2589%25D0%25B5%25D1%2581%25D1%2582%25D0%25B2%25D0%25B0-%25D0%25BD%25D0%25B5%25D0%25B4%25D0%25BE%25D1%2581%25D1%2582%25D0%25B0%25D1%2582%25D0%25BA%25D0%25B8">DAO</a> </li><li>  <a href="http://www.petrikainulainen.net/spring-data-jpa-tutorial/">Spring Data JPA Tutorial</a> </li></ul><br><br>  If you like the article, I will prepare Part 2 with the misplaced Spring MVC, Spring Security, Jackson, etc. <br>  Thank you for your attention, it will be interesting to hear your opinion on the topics covered. </div><p>Source: <a href="https://habr.com/ru/post/232381/">https://habr.com/ru/post/232381/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../232359/index.html">Scan mail. Has Google gone too far?</a></li>
<li><a href="../232361/index.html">Distributed computing: some theory</a></li>
<li><a href="../232363/index.html">DNS failure with registrar R01 and some fatal accidents</a></li>
<li><a href="../232367/index.html">A selection of backend libraries</a></li>
<li><a href="../232369/index.html">Why there are no simple solutions that it is better to buy servers or optimize code</a></li>
<li><a href="../232383/index.html">Meeting the comet today</a></li>
<li><a href="../232385/index.html">URI - tricky about simple (Part 1)</a></li>
<li><a href="../232387/index.html">Professional 3d hand scanners</a></li>
<li><a href="../232391/index.html">Real-time cyber attacks</a></li>
<li><a href="../232393/index.html">The release of the cloud hosting Infobox Jelastic 2. Announcement for developers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>