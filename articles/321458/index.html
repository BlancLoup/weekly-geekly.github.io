<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How we made the application of the international loyalty program PINS: case</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At the end of 2016, we released a mobile application for the international loyalty program PINS, which brings together more than 700 suppliers of good...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How we made the application of the international loyalty program PINS: case</h1><div class="post__text post__text-html js-mediator-article">  At the end of 2016, we released a mobile application for the international loyalty program PINS, which brings together more than 700 suppliers of goods and services and operates mainly in northern Europe and in Russia.  But the geography is expanding, the number of partners and users of PINS is increasing, so the application was conceived as a scalable tool for targeted service to all its users - wherever they are.  As part of the development, we faced several interesting problems.  Among them - to provide support for six European languages, to implement a number of geographic functions and to make the registration procedure as simple as possible. <br><br><img src="https://habrastorage.org/files/65b/28e/2d9/65b28e2d90fe40ad98ba7dde9f7eb648.png"><br><a name="habracut"></a><br><br>  <b>Goal:</b> Mobile application should become a powerful accelerator of customer influx into PINS loyalty system. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/3a2/3ab/d94/3a23abd944954e41927c7e16a09a500c.png" alt="image" align="left" width="200">  <b>Maxim Dimitrenko, Project Manager, Redmadrobot</b> <br>  <i>‚ÄúBefore the application appeared, people made out a personal plastic card on the site, waited for its delivery, and only then started using it.</i>  <i>That is, a person went to a shop or cafe, saw a PINS sticker, understood that this was a potentially beneficial thing for him, but could not do anything without a card.</i>  <i>And now it can - it downloads the application, enters its phone number and instantly participates in the program, uses discounts, saves and spends points.</i>  <i>The name card will still come to him, but as long as it goes, he already uses it.</i>  <i>In the future, plastic will be completely abandoned. ‚Äù</i> <i><br></i> <br><br><img src="https://habrastorage.org/files/b2d/28d/3b2/b2d28d3b2f4b432caba4b0f49245d833.png"><br><br><h3>  Data is the key <br></h3><br>  Loyalty programs are not a new phenomenon, but not every business can afford to run and maintain such a system on its own.  It is worthwhile to issue plastic cards, deploy IT infrastructure for their services and hire specialists to support it.  PINS provides all this on an outsourcing, and at the same time conducts marketing activities in its common database of registered users, increasing the consumer audience for its partners (cafes, cinemas, retail stores, etc.).  The most valuable thing in such programs is, of course, user data, and getting it from customers is crucial for business. <br><br><img src="https://habrastorage.org/files/3a2/3ab/d94/3a23abd944954e41927c7e16a09a500c.png" alt="image" align="left" width="200"><br>  <b>Maxim Dimitrenko, Project Manager, Redmadrobot</b> <b><br></b> <br>  <i>‚ÄúThe win-win principle is traced here: I, as a simple user, want some kind of discount and get it using the PINS card.</i>  <i>This discount is paid to me by the partner of the program, who for this money gets access to the database with my data, which then can form targeted offers. ‚Äù</i> <i><br></i> <br><br><h3>  Startup Tasks <br></h3><br>  PINS wanted a mobile app that: <br><br>  - Replace plastic cards <br>  - It will be simple and comfortable to use <br>  - Will offer the user a reward system <br>  - will collect customer data <br>  - Will be geo-referenced <br>  - Will work in six languages <br><br>  Initially, the list was broader and included some ideas that had to be abandoned.  For example, we put back "weather" functions in the backbone - let's say it rains, and the user gets suggestions where you can buy an umbrella nearby at a discount or in which cafe or movie theater you can ‚Äúwait out‚Äù bad weather.  At the first stage, we did the usual geotargeting - the user enters the application and sees the most relevant offers from PINS partners at this time and in this place. <br><br><img src="https://habrastorage.org/files/61c/c5c/42b/61cc5c42bfcd45009ee866deaa80cc96.png"><br><br><h3>  Design and design <br></h3><br>  ‚ÄúReplacing‚Äù plastic cards with an application is the easiest part of the story: the user shows a virtual card with a bar code and an index number from the screen of a mobile device.  The index is necessary because not all PINS partners keep bar code readers, and in this case the card can be checked by number. <br><br><img src="https://habrastorage.org/files/af7/a9d/f41/af7a9df41f0c446b867afbe19e93ff7e.png"><br><br>  PINS has a corporate identity, which is based on white dots of various sizes and circles on a black background - a reference to the stationery buttons-carnations.  Our visual concept was built on the basis of this style: severity, contrast, minimalism.  Almost everywhere - a black background and mostly white color of fonts and interface elements.  We even made an exclusive set of icons, starting from the PINS identity. <br><br><img src="https://habrastorage.org/files/f50/6eb/f65/f506ebf65f304161bc61195ba4d95fd7.png"><br><br>  We made sure that images of discount cards from partners of PINS (partner discount programs) will also fit into our design, regardless of their richness and contrast.  Looking ahead - in the memory of the device itself the images of these cards are not stored, but are pulled from the server (otherwise the assembly would be too heavy). <br><br>  We wanted to provide geographic maps with a black background, but this idea had to be abandoned, since Google Maps works on both <a href="https://play.google.com/store/apps/details%3Fid%3Dcom.redmadrobot.pins">Android</a> and <a href="https://itunes.apple.com/ru/app/pins-mobile-app/id1144087109">iOS</a> in the application. <br><br><h3>  Registration, gamification and localization </h3><br>  On the one hand, everything is simple and clear: PINS gives users discounts in exchange for information about themselves.  However, the registration process can literally scare away all users (especially mobile).  According to various estimates, from 15% to 68% of users delete newly installed applications if it seems to them that the onboarding (registration process) is too long.  Therefore, convenient registration has become for us one of the key tasks. <br><br><img src="https://habrastorage.org/files/df9/7e3/a38/df97e3a381eb4abcb55743f380293ca1.png" alt="image" align="left" width="200"><br>  <b>Sergey Galtsev, art director of Redmadrobot</b> <br>  <i>‚ÄúPINS partners need to find out a lot of different information about the user - address of residence, gender, age, and so on.</i>  <i>This data is really a lot.</i>  <i>For the user to enter them all is notorious stress.</i>  <i>It is inconvenient - especially from a mobile device, unpleasant - I want to leave some ‚Äúleft‚Äù data.</i>  <i>If you immediately propose to enter all this information, there will be a very high failure rate, and no influx of customers will happen. ‚Äù</i> <i><br></i> <br><br>  How to be here?  We got out of the situation with a rather simple trick: during the initial registration, the user enters only the phone number.  That's it, the application is ready to use and accumulate pins (PINS points).  Additional information will be required to enter only when the user wants to spend the accumulated points.  Then he will have a much greater incentive to enter the necessary information. <br><img src="https://habrastorage.org/files/922/ae2/afd/922ae2afdd624860a7aea687671ca6a7.png"><br>  Another detail: users do not like to scroll through too many screens.  Thanks to the overlapping menus, we managed to make it so that the user gets the impression that he remains on the same screen. <br><br>  We also integrated the game element into the application: the user can set himself a goal to accumulate pins so that they would be enough to buy some product or service (this could be air travel, gadgets, gift certificates and much more).  This process is visualized as a progress bar, which, like the ultimate goal of accumulation, is visible immediately upon entering the application. <br><br><img src="https://habrastorage.org/files/abd/b82/48a/abdb8248aa344bdc85916a8873c8299a.png" alt="image" align="left" width="200"><br>  <b>Dmitry Sokolov, specialist in digital products, PINS</b> <b><br></b>  <i>‚ÄúWhen designing the application, we paid close attention to the preferences of our users, we learned that they are most interested in our program.</i>  <i>One of the main functions, perhaps, is the element of gamification - the ability to set a personal goal.</i>  <i>We wanted users to immediately find for themselves the motivation to actively participate in the program and gradually go to the goal ‚Äù</i> <i><br></i> <br><br>  Another interesting story is localization.  The application should work immediately in six European languages ‚Äã‚Äã- English, Estonian, Finnish, Latvian, Lithuanian and Russian.  Languages ‚Äã‚Äãare different, the average word length is also different - there is not much space on the screens of mobile devices, and, for example, words in Finnish are very long.  Therefore, testing different language versions of the interface had to be especially meticulous.  From the very beginning, even at the design stage in the design, we laid the maximum permissible length of the text in all interface elements.  In those cases, when the length of the fields was still not enough, we picked up shorter words-synonyms. <br><img src="https://habrastorage.org/files/ad4/448/2ab/ad44482abd814afc9b4cf61c1932beca.png"><br><br><h3>  Development <br></h3><br>  The iOS version of the PINS application was no longer our first project entirely on Swift.  Kotlin was used to write the Android version.  We actively used our own libraries. <br><br><img src="https://habrastorage.org/files/2f1/100/83d/2f110083d228436898c3f4957c25401e.png" alt="image" align="left" width="200"><br>  <b>Roman Churkin <a href="https://habrahabr.ru/users/firmach/" class="user_link">firmach</a> , a leading iOS developer Redmadrobot</b> <b><br></b> <br>  <i>‚ÄúWe have some internal developments that we use from project to project.</i>  <i>These include the Foundation library, which allows you to quickly deploy a layer of loading, processing and storage of data and a library with the implementation of the most typical UI solutions - non-standard controls and techniques that Redmadrobot designers like to use. ‚Äù</i> <br><br>  But the component Progress Bar we wrote from scratch, with an eye to the beautiful animation.  The task was to make the process of user interaction with the application continuous.  The download animation is quite extraordinary by itself: for the Android version, we decided not to use frame-by-frame animation, since it would not be as smooth as we would like.  In addition, it would increase the amount of memory consumed and the total size of the application.  But in iOS, it was decided to still do frame-by-frame animation: this saved time at the initial stages of development, since the implementation is elementary. <br><br><img src="https://habrastorage.org/files/3ef/a4d/3a4/3efa4d3a47654f818fbab9d4eb0905b9.gif"><br><br>  We also made the same text input fields in the iOS and Android versions.  We have partially implemented this element during the development of past projects.  It is part of our UI library.  During the development of PINS, we polished the component, finalized the animation between states. <br><br><img src="https://habrastorage.org/files/bd9/3f4/76c/bd93f476c3cb4d45a903e9cbfb618b88.png"><br><br><img src="https://habrastorage.org/files/cdd/c9d/85a/cddc9d85a2a340b7b320a44a95c1f753.png" alt="image" align="left" width="200">  <b>Alexander Blinov <a href="https://habrahabr.ru/users/xanderblinov/" class="user_link">Xanderblinov</a> , leading Android developer Redmadrobot</b> <br><br>  <i>‚ÄúThe visual presentation of iOS and Android is getting very close, as they use each other‚Äôs UX patterns.</i>  <i>This is a positive trend, as it simplifies the migration of users between operating systems.</i> <i><br><br></i>  <i>Until recently, the Android platform has not provided for the lower horizontal navigation bar, which has long been in iOS.</i>  <i>Navigation had to be done sideways, as a result, applications for iOS and Android, even executed in the same style, still differed in this aspect.</i>  <i>Also, the size of devices on Android is increasing, and the area of ‚Äã‚Äãcomfortable interaction goes down to the bottom of the smartphone.</i> <i><br><br></i>  <i>The Android platform had a tremendous need for a lower navigation pattern and when we were developing an application for PINS, Google unexpectedly announced the appearance of Bottom Bar.</i>  <i>Of course, we decided to include it in the application "</i> <br><br>  The problem was that the announcement and the main recommendations from Google were received, but the development tools were not: the developers had not had time to roll out the standard implementation of this widget.  It appeared only after the release of PINS and to this day remains extremely unstable.  We used a third-party open library where we fixed a number of bugs. <br><br><h3>  On the server side </h3><br>  In addition to the mobile applications themselves, we also completed the backend part of the project.  The implementation of the necessary functionality required integration with a sufficiently large number of customer systems, as well as the development of its own solutions. <br><br><img src="https://habrastorage.org/files/c3b/a89/593/c3ba895932c541cdbd8b5beb617f8fc9.png" alt="image" align="left" width="200" height="200">  <b>Andrei Muravyev, Redmadrobot backend developer</b> <br><br>  <i>‚ÄúMost of the data for the mobile application is received by our backend from the customer‚Äôs CLM, which has several limitations.</i>  <i>We were also asked, if possible, to reduce the number of requests to this system so as not to overload it, because it is through it that all transactions go through, bonus points are credited, and so on.</i>  <i>As a result, wherever possible, the backend of the application caches information on its side, some system data is not exchanged in real time, but through regular synchronization.</i>  <i>In some cases, CLM calls are made asynchronously to shorten the response time from our server. ‚Äù</i> <br><br>  Two other major components of the system with which it was necessary to integrate are the rewards-platform PINS, which allows to spend accumulated points, and the partner card.  A separate story concerns a ‚Äúdouble‚Äù search - by geo-queries and by brands. <br>  We are faced with the limitation of the existing system that stores actual information about the points of sale of partners, which, as it turned out, is able to search for objects by tags (for example, name, type of activity), but not by their addresses.  Under tight deadlines, the team, together with PINS, developed a solution with two search fields, geographic search was implemented using the capabilities of Google Maps. <br><br>  Among the interesting tasks in terms of the backend was the targeting of offers to certain users on a number of grounds - gender, age, country of residence, current geographic location and date.  In addition, offers can be directly targeted to specific users, and some of them should be displayed to customers only before the first use of the service. <br><br>  It was necessary to come up with an architecture that would allow to quickly search for suitable offers for each user.  We settled on a solution using the Elasticsearch search engine and were pleased with the choice. <br><br>  Push notifications are also personalized and, if necessary, can be sent only to the desired segments of users.  There are also several categories of automatic notifications - for example, birthday greetings, or, for example, if the user has not entered the application for a long time, he will receive an invitation to finally do it. <br><br><h3>  Total </h3><br>  We managed to make a convenient and useful product: to achieve continuity on iOS- and Android due to lower navigation, to make convenient onboarding, to implement targeted submission of offers and promotions by user‚Äôs location / time / language used.  The application will evolve, new features will appear, including with an emphasis on gamification. </div><p>Source: <a href="https://habr.com/ru/post/321458/">https://habr.com/ru/post/321458/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../321446/index.html">How does it feel to be a developer in Russia when you're forty</a></li>
<li><a href="../321448/index.html">Load balancing and fault tolerance in Odnoklassniki</a></li>
<li><a href="../321452/index.html">CEF, Angular 2 using .Net Core class events</a></li>
<li><a href="../321454/index.html">Connecting Facebook SDK for Xamarin.Forms</a></li>
<li><a href="../321456/index.html">The method of recursive coordinate bisection for decomposition of computational grids</a></li>
<li><a href="../321460/index.html">Games do not have to entertain</a></li>
<li><a href="../321462/index.html">Changes in the procedure for issuing a certificate for signing the code for Certum</a></li>
<li><a href="../321464/index.html">Stack Overflow told what languages ‚Äã‚Äãand programming technologies are popular as a hobby</a></li>
<li><a href="../321466/index.html">Telerik UI for UWP has become Open Source</a></li>
<li><a href="../321468/index.html">How to create, build, install and use packages with programs and libraries for UNIX-like systems</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>