<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Notes on cross-compiling DD-WRT applications</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, the Wi-Fi router stopped working for me and after some thought I ordered the Asus RT-N16. I wanted to finally get acquainted with alternativ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Notes on cross-compiling DD-WRT applications</h1><div class="post__text post__text-html js-mediator-article">  Recently, the Wi-Fi router stopped working for me and after some thought I ordered the Asus RT-N16.  I wanted to finally get acquainted with alternative firmware.  Characteristics of this ruter were already <a href="http://habrahabr.ru/blogs/hardware/88587/">described</a> on Habr√©.  So, DD-WRT is installed (v2.24), a samba is running, a system flash drive is plugged into the first port, and an external hard drive is inserted into the second one.  And then I became interested: can I run my programs on this router?  I did not find online manuals for building programs under the router and I hope to fill the gap with this article.  Let me give you a step by step guide with a description of the small problems encountered on the way. <br><br>  As an experimental program, I wanted to run Easysync, which I recently <a href="http://habrahabr.ru/blogs/i_am_advertising/116215/">wrote about</a> .  I repeat that this is an open program for synchronizing files in the dropbox style.  The program is written using Qt 4, and Unison is used as the synchronization engine.  So, this article describes how to compile Qt, Unison, Easysync for MIPS architecture and talks about running Easysync on your home router. <br><a name="habracut"></a><br><h3>  Mistress on the note. </h3><br>  <em>Routers use non-standard processors.</em>  <em>Home users are used to x86 architecture, Intel and AMD processors.</em>  <em>The Asus RT-N16 uses a Broadcom BCM4718 <a href="http://ru.wikipedia.org/w/index.php%3Ftitle%3DMIPS_(%25D0%25B0%25D1%2580%25D1%2585%25D0%25B8%25D1%2582%25D0%25B5%25D0%25BA%25D1%2582%25D1%2583%25D1%2580%25D0%25B0)">processor</a> with <a href="http://ru.wikipedia.org/w/index.php%3Ftitle%3DMIPS_(%25D0%25B0%25D1%2580%25D1%2585%25D0%25B8%25D1%2582%25D0%25B5%25D0%25BA%25D1%2582%25D1%2583%25D1%2580%25D0%25B0)">MIPS</a> architecture.</em>  <em>There may not be enough resources on the router itself to build the program, and therefore programs are usually compiled on a big brother (for example, a familiar desktop computer), but under the desired architecture.</em>  <em>This process is called cross-compiling.</em> <br><br><h1>  Instruments. </h1><br><ul><li>  We will need a working computer with Linux on board.  I used Ubuntu; </li><li>  Compilers (gcc, g ++); </li><li>  Standard libraries C, C ++; </li><li>  Utilities in the form of GNU make, TAR, GZIP, GIT, and so on;).  In the case of Ubuntu, most are already installed. </li></ul><br><h1>  Steps </h1><br><ol><li>  The first thing we need is to understand how DD-WRT programs are assembled at all.  <a href="http://www.dd-wrt.com/wiki/index.php/Development">A page</a> in their wiki introduces up to date.  Particularly interesting section <a href="http://www.dd-wrt.com/wiki/index.php/Development">Instructions</a> .  There is a link to the toolchain (hereinafter - toolchain), which is used to build DD-WRT from source.  The tool in this case is the <a href="http://ru.wikipedia.org/wiki/UClibc">Uclibc</a> library compiled for the desired architecture, as well as the compiler.  So, the toolchain is <a href="">swinging</a> from the DD-WRT site.  It is not written there, but everything is built under the x86_64 architecture.  Therefore, if you do not see something with a value of 64 (x86_64 or amd64) in the terminal, typing the command <em>uname -m</em> , then you will have to install a new version of Linux.  An alternative method is to build the toolchain myself, but I preferred to install the system I need.  After waiting for the download to complete (and this is currently 716 MB), we proceed to the next item. </li><li>  We open archive, in it folders with toolchains under different architectures.  We need toolchain-mipsel_gcc4.1.2.  I unpacked this folder in / home / fralik /.  Why toolchain-mipsel_gcc4.1.2?  Mipsel, because I saw that optware is placed on the router from mipsel packets, which means that the order of bytes from the youngest to the oldest (little-endian) is used.  The rest of the folders containing mipsel in the name, in my opinion, are used to assemble the components of the core DD-WRT. </li><li>  Add the toolchain to the path: <br><blockquote><ol><li>  <font color="#007800">PATH</font> = <font color="#007800">$ PATH</font> : ~ <font color="#000000">/</font> toolchain-mipsel_gcc4.1.2 <font color="#000000">/</font> bin <font color="#000000">/</font> </li><li>  <font color="#7a0874">cd</font> ~ </li><li>  mipsel-linux-gcc <font color="#660033">--version</font> </li></ol></blockquote><br>  You should see the GCC version information. </li><li>  To check that everything works, you can use two helloworld programs.  helloworld-cc: <br><blockquote><ol><li>  <font color="#339900">#include &lt;stdlib.h&gt;</font> </li><li>  <font color="#339900">#include &lt;stdio.h&gt;</font> </li><li></li><li>  <font color="#0000ff">int</font> main <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">{</font> </li><li>  <font color="#0000dd">printf</font> <font color="#008000">(</font> <font color="#FF0000">"Hello world! <font color="#000099">\ n</font> "</font> <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  <font color="#0000ff">return</font> <font color="#0000dd">0</font> <font color="#008080">;</font> </li><li>  <font color="#008000">}</font> </li></ol></blockquote><br>  We compile and check using the file command: <br><blockquote>  mipsel-linux-gcc helloworld-cc <font color="#660033">-o</font> helloworld-c <br>  <font color="#c20cb9">file</font> helloworld-c </blockquote><br>  Must see: <pre>  helloworld-c: ELF 32-bit LSB executable, MIPS32, MIPS32 version 1 (SYSV), dynamically linked (uses shared libs), not stripped </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      You can run helloworld-c on the router and test the performance also in reality.  Now helloworld-cpp.cpp: <br><blockquote>  <font color="#339900">#define NEED_PRINTF 1</font> <br>  <font color="#339900">#include &lt;iostream&gt;</font> <br><br>  <font color="#0000ff">int</font> main <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">{</font> <br>  std <font color="#008080">::</font> <font color="#0000dd">cout</font> <font color="#000080">&lt;&lt;</font> <font color="#FF0000">"Hellow world!"</font>  <font color="#000080">&lt;&lt;</font> std <font color="#008080">::</font> <font color="#007788">endl</font> <font color="#008080">;</font> <br>  <font color="#0000ff">return</font> <font color="#0000dd">0</font> <font color="#008080">;</font> <br>  <font color="#008000">}</font> </blockquote><br>  In the terminal: <br><blockquote>  mipsel-linux-g ++ helloworld-cpp.cpp <font color="#660033">-o</font> helloworld-cpp </blockquote><br>  Pay attention to the first line!  Without it, the program will not build and an error will be issued: <br><pre>  /home/fralik/toolchain-mipsel_gcc4.1.2/bin/../lib/gcc/mipsel-linux-uclibc/4.1.2/../../../../include/c++/4.1.2/ cstdio: 126: error: ':: printf' has not been declared </pre><br>  We collect, check that everything works on the router. </li><li>  It's time to build Qt.  We swing <a href="">Qt libraries for embedded Linux</a> .  I also unpacked the archive into my home directory. </li><li>  Go to the terminal in the folder with Qt.  It is necessary to pay attention to the mkspecs / qws folder.  It stores Make files for different architectures.  For example, <em>mkspecs / qws / linux-mips-g ++ / qmake.conf</em> . <br>  Copy the <em>linux-mips-g ++</em> folder into <em>linux-mipsel-g ++</em> : <br><pre>  cp -R mkspecs / qws / linux-mips-g ++ / mkspecs / qws / linux-mipsel-g ++ </pre></li><li>  Edit the <em>mkspecs / qws / linux-mipsesl-g ++ / qmake.conf file</em> so that it uses the mipsel-linux- * commands instead of the mips-linux- * command.  I use as flags <pre>  -mel -march = mips32r2 </pre></li><li>  Next, proceed to the Qt configuration.  But first, install libxext-dev, otherwise we get an error: <pre>  Basic XLib functionality test failed! </pre><br><blockquote>  <font color="#c20cb9">sudo</font> <font color="#c20cb9">apt-get</font> <font color="#c20cb9">install</font> libxext-dev <br>  .  <font color="#000000">/</font> configure <font color="#660033">-no-cups</font> <font color="#660033">-release</font> <font color="#660033">-shared</font> <font color="#660033">-no-qt3support</font> <font color="#660033">-no-phonon</font> <font color="#660033">-no-audio-backend</font> <font color="#660033">-no-javascript-jit</font> <font color="#660033">-no-webkit</font> <font color="#660033">-qt-sql-lite</font> <font color="#660033">-no-script</font> <font color="#660033">-no-scripttools</font> <font color="#660033">-opensource</font> <font color="#660033">-no-gui</font> <font color="#660033">-no-nis</font> <font color="#660033">-no-opengl</font> <font color="#660033">-nomake</font> examples <font color="#660033">-nomake</font> demos </blockquote><br><br>  Must see: <br><pre>  Qt is now configured for building.  Just run 'make'.
 Once everything is built, you must run 'make install'.
 Qt will be installed into /usr/local/Trolltech/Qt-4.7.2 </pre><br><br>  Run the configurator again: <br><blockquote>  .  <font color="#000000">/</font> configure <font color="#660033">-no-cups</font> <font color="#660033">-release</font> <font color="#660033">-shared</font> <font color="#660033">-no-qt3support</font> <font color="#660033">-no-phonon</font> <font color="#660033">-no-audio-backend</font> <font color="#660033">-no-javascript-jit</font> <font color="#660033">-no-webkit</font> <font color="#660033">-qt-sql-sqlite</font> <font color="#660033">-no-script</font> <font color="#660033">-no-scripttools</font> <font color="#660033">-platform</font> linux-g ++ - <font color="#000000">64</font> <font color="#660033">-xplatform</font> qws <font color="#000000">/</font> linux-mipsel-g ++ <font color="#660033">-opensource</font> <font color="#660033">-no-gui</font> <font color="#660033">-no-nis</font> <font color="#660033">-embedded</font> mips <font color="#660033">-little-endian</font> <font color="#660033">-no-opengl</font> <font color="#660033">-nomake</font> examples <font color="#660033">-nomake</font> demos </blockquote><br>  The first time we configured Qt for the current architecture, the second for MIPS.  In the second command, the <em>xplatform</em> argument points to the folder that we created in step 6. I removed the support for unnecessary things: no-qt3support, no-phonon, no-audio-backend, -nomake example, etc. <br>  As a result, we see the following message: <br><pre>  Qt is now configured for building.  Just run 'make'.
 Once everything is built, you must run 'make install'.
 Qt will be installed into /usr/local/Trolltech/QtEmbedded-4.7.2-mips
</pre></li><li>  Run <em>make</em> .  You can go for a smoke or brew tea.  =) <br>  At this step, I have another problem: <br><pre>  .obj / release-shared-emb-mips / qrect.o: In function `QRectF :: toAlignedRect () const ':
 qrect.cpp :(. text + 0x1468): undefined reference to `ceilf '
 qrect.cpp :(. text + 0x1488): undefined reference to `ceilf ' </pre><br>  The fact is that in the uclibc library the ceilf function is not enabled by default.  You can, of course, rebuild the library and add this function there, but we still use the toolchain from DD-WRT and this means there is also a library on the router without the <em>ceilf</em> function.  In this step, I danced a long time with a tambourine, trying to turn the <em>ceilf</em> challenge into a <em>ceil</em> .  But Qt was unmoved.  I had to tackle the scalpel, especially considering that I would not need the <em>QRect</em> class.  Open the file <em>~ / qt-everywhere-opensource-src-4.7.2 / src / corelib / tools / qrect.cpp</em> , find the line 2379. Change to: <br><pre>  int xmax = int ((float) ((int) xp + w)); </pre><br>  that is, we replace the call <pre>  qCeil (xp + y) </pre>  on <pre>  (float) ((int) xp + y) </pre>  We perform a similar operation on line 2381, and also in line 640 of the <em>~ / qt-everywhere-opensource-src-4.7.2 / src / corelib / tools / qtimeline.cpp file</em> <br>  Call make again, this time the process should complete successfully. </li><li>  We carry out <pre>  sudo make install </pre>  We check that we now have a Qt library under MIPS (despite Qt‚Äôs assurances that the installation will take place in the <em>/usr/local/Trolltech/QtEmbedded-4.7.2-mips</em> folder, I have everything installed in <em>/ usr / local / Trolltech / Qt -4.7.2</em> ): <br><blockquote>  <font color="#c20cb9">file</font> <font color="#000000">/</font> usr <font color="#000000">/</font> local <font color="#000000">/</font> Trolltech <font color="#000000">/</font> Qt-4.7.2 <font color="#000000">/</font> lib <font color="#000000">/</font> libQtCore.so.4.7.2 </blockquote><br><pre>  /usr/local/Trolltech/Qt-4.7.2/lib/libQtCore.so.4.7.2: ELF 32-bit LSB shared object, MIPS, MIPS32 version 1 (SYSV), dynamically linked (shared shared libs), not stripped </pre></li><li>  Moving on to the Easysync build. <br><blockquote>  <font color="#666666"># Go to some directory, for example,</font> <br>  <font color="#7a0874">cd</font> ~ <br>  git clone git: <font color="#000000">//</font> github.com/fralik/ Easysync.git <br>  <font color="#7a0874">cd</font> Easysync <font color="#000000">/</font> server <br>  <font color="#000000">/</font> usr <font color="#000000">/</font> local <font color="#000000">/</font> Trolltech <font color="#000000">/</font> Qt-4.7.2 <font color="#000000">/</font> bin <font color="#000000">/</font> qmake easysync-server.pro <br>  <font color="#c20cb9">make</font> <br>  <font color="#666666"># check:</font> <br>  <font color="#c20cb9">file</font> build <font color="#000000">/</font> easysync-server </blockquote></li><li>  Now we need Unison.  Despite its usefulness, it is not in optware.  We will collect it directly on the router.  Go to the router via ssh or telnet. <br><blockquote>  ipkg-opt <font color="#c20cb9">install</font> buildroot ocaml <br>  <font color="#c20cb9">mkdir</font> <font color="#000000">/</font> mnt <font color="#000000">/</font> unison <br>  <font color="#7a0874">cd</font> <font color="#000000">/</font> mnt <font color="#000000">/</font> unison <br>  <font color="#c20cb9">wget</font> http: <font color="#000000">//</font> <a href="http://www.seas.upenn.edu/">www.seas.upenn.edu</a> <font color="#000000">/</font> ~ bcpierce <font color="#000000">/</font> unison <font color="#000000">//</font> download <font color="#000000">/</font> releases <font color="#000000">/</font> stable <font color="#000000">/</font> unison-2.40.61.tar.gz <br>  <font color="#c20cb9">tar</font> xvfz unison-2.40.61.tar.gz <br>  ocaml mkProjectInfo.ml <font color="#000000">&gt;</font> Makefile.ProjectInfo <br>  <font color="#666666"># Before collecting unison, you need to make a symbolic link from libncurses to libcurses</font> <br>  <font color="#c20cb9">ln</font> <font color="#660033">-s</font> <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libncurses.so.5.7 <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libcurses.so.5.7 <br>  <font color="#c20cb9">ln</font> <font color="#660033">-s</font> <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libcurses.so.5.7 <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libcurses.so.5 <br>  <font color="#c20cb9">ln</font> <font color="#660033">-s</font> <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libcurses.so.5 <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libcurses.so <br>  <font color="#c20cb9">make</font> <font color="#007800">NATIVE</font> = <font color="#c20cb9">false</font> <font color="#007800">UISTYLE</font> = text <br>  .  <font color="#000000">/</font> unison <font color="#660033">-version</font> <br>  <font color="#c20cb9">cp</font> .  <font color="#000000">/</font> unison <font color="#000000">/</font> opt <font color="#000000">/</font> bin <font color="#000000">/</font> unison </blockquote><br>  Here the key point is <em>ocaml mkProjectInfo.ml&gt; Makefile.ProjectInfo</em> .  Without this, it will not gather. </li><li>  Now we need to run all that we have collected.  Suppose the router address is 192.168.2.1 and the <em>/ mnt</em> directory is accessible to us <br><blockquote>  <font color="#c20cb9">scp</font> <font color="#000000">/</font> usr <font color="#000000">/</font> local <font color="#000000">/</font> Trolltech <font color="#000000">/</font> Qt-4.7.2 <font color="#000000">/</font> lib <font color="#000000">/</font> libQtCore.so.4.7.2 root <font color="#000000">@</font> 192.168.2.1: <font color="#000000">/</font> opt <font color="#000000">/</font> lib <br>  <font color="#c20cb9">scp</font> <font color="#000000">/</font> usr <font color="#000000">/</font> local <font color="#000000">/</font> Trolltech <font color="#000000">/</font> Qt-4.7.2 <font color="#000000">/</font> lib <font color="#000000">/</font> libQtNetwork.so.4.7.2 root <font color="#000000">@</font> 192.168.2.1: <font color="#000000">/</font> opt <font color="#000000">/</font> lib <br>  <font color="#c20cb9">scp</font> <font color="#000000">/</font> usr <font color="#000000">/</font> local <font color="#000000">/</font> Trolltech <font color="#000000">/</font> Qt-4.7.2 <font color="#000000">/</font> lib <font color="#000000">/</font> libQtSql.so.4.7.2 root <font color="#000000">@</font> 192.168.2.1: <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> <br>  <font color="#7a0874">cd</font> <font color="#000000">&lt;</font> Easysync <font color="#000000">/</font> server <font color="#000000">&gt;</font> <br>  <font color="#666666"># Packing Easysync-server in one file to make it easier to transfer to the router:</font> <br>  .  <font color="#000000">/</font> build_package_dd-wrt.sh <br>  <font color="#c20cb9">scp</font> dd-wrt_bundle.tar.gz root <font color="#000000">@</font> 192.168.2.1: <font color="#000000">/</font> mnt </blockquote></li><li>  Go to the router, in the folder <em>/ mnt</em> , unpack <em>easysync-server-mipsel32.tar.gz</em> <br><blockquote>  <font color="#c20cb9">tar</font> xvfz easysync-server_mipsel.tar.gz <br>  <font color="#c20cb9">ln</font> <font color="#660033">-s</font> <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libQtCore.so.4.7.2 <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libQtCore.so.4.7 <br>  <font color="#c20cb9">ln</font> <font color="#660033">-s</font> <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libQtCore.so.4.7 <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libQtCore.so.4 <br>  <font color="#c20cb9">ln</font> <font color="#660033">-s</font> <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libQtCore.so.4 <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libQtCore.so <br>  <font color="#c20cb9">ln</font> <font color="#660033">-s</font> <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libQtSql.so.4.7.2 <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libQtSql.so.4.7 <br>  <font color="#c20cb9">ln</font> <font color="#660033">-s</font> <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libQtSql.so.4.7 <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libQtSql.so.4 <br>  <font color="#c20cb9">ln</font> <font color="#660033">-s</font> <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libQtSql.so.4 <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libQtSql.so <br>  <font color="#c20cb9">ln</font> <font color="#660033">-s</font> <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libQtNetwork.so.4.7.2 <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libQtNetwork.so.4.7 <br>  <font color="#c20cb9">ln</font> <font color="#660033">-s</font> <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libQtNetwork.so.4.7 <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libQtNetwork.so.4 <br>  <font color="#c20cb9">ln</font> <font color="#660033">-s</font> <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libQtNetwork.so.4 <font color="#000000">/</font> opt <font color="#000000">/</font> lib <font color="#000000">/</font> libQtNetwork.so <br></blockquote></li><li>  Then it makes sense to check the work of the unison without Easysync (you can refer both to the <a href="http://www.cis.upenn.edu/~bcpierce/unison/download/releases/stable/unison-manual.html">documentation of</a> the unison itself and to the Easysync <a href="https://github.com/fralik/Easysync/blob/master/client/INSTALL.linux.markdown">install files</a> ).  After setting up the unison, go back to the router, edit the file <em>config.ini.sample</em> and run: <br><pre>  ./setup_dd-wrt.sh </pre></li></ol><br><br>  That's it, now we have a synchronization server on our home router.  If you can connect to the router from outside, then the synchronization will work from anywhere. <br><br><h1>  Brief squeeze </h1><br><ol><li>  You can build programs for DD-WRT using the toolchain from their site.  For C ++ programs, you must use <em>#define NEED_PRINTF</em> . </li><li>  Despite the lack of unison in the assembly of optware, it can be assembled on a router.  You can, in principle, do cross-compilation, but I did not understand this. </li><li>  Qt almost seamlessly builds under MIPS: +1 to the cross-platform nature of your programs. </li><li>  Easysync is now on home routers!  It is worth noting that after rebooting the service will not be started automatically.  Most likely, it will not even be marked as checked (because the installation flag is stored in <em>/ tmp</em> ).  You can install it again using the <em>/ opt / bin / easysync-server -i</em> command or you can start it without installing it <em>using the /opt/etc/init.d/easysync-server start</em> command <em>.</em> <br>  For those who are interested in Easysync, but do not want to build it from source, an already <a href="https://github.com/fralik/Easysync/downloads">compiled version is available</a> . <br><br><h1>  Update 05/30/2016 </h1><br>  User <a href="https://habrahabr.ru/users/Nabytovych/">Nabytovych</a> suggests that some links are outdated with time.  Updated links to toolchain and Qt. </li></ol></div><p>Source: <a href="https://habr.com/ru/post/117194/">https://habr.com/ru/post/117194/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../117189/index.html">New version of Image Composite Editor released</a></li>
<li><a href="../117190/index.html">Branded MTS 1055 Tablet</a></li>
<li><a href="../117191/index.html">10 years of RSDN</a></li>
<li><a href="../117192/index.html">Do you buy a ticket on anywayanyday.com? Make sure you are not sick!</a></li>
<li><a href="../117193/index.html">Wake up, in the courtyard of the XXI century</a></li>
<li><a href="../117195/index.html">How is the industry changing</a></li>
<li><a href="../117197/index.html">Models of reality in the design of interfaces, or how to increase the efficiency of the process several times</a></li>
<li><a href="../117198/index.html">Web Private Detective 1.0</a></li>
<li><a href="../117199/index.html">Keep API simple</a></li>
<li><a href="../117200/index.html">Visual demonstration of sorting algorithms</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>