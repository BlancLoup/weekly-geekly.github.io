<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What is what and who is who in the DDoS protection market</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I‚Äôve been in the digital market since 2008, and during that time I‚Äôve seen a transition from Joomla websites (remember this?) To today's Internet with...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What is what and who is who in the DDoS protection market</h1><div class="post__text post__text-html js-mediator-article">  I‚Äôve been in the digital market since 2008, and during that time I‚Äôve seen a transition from Joomla websites (remember this?) To today's Internet with its mobile-first applications and hundreds of millions of IoT devices connected to the network. <br>  The attacks on the Internet have also developed well during this time :) <br>  But the DDoS protection market and the attack protection technology used by operators are still quite closed. <br>  I'll tell you what I learned about him, supporting websites and Internet services that have been under continuous attacks for the past few years. <br><br> <a href=""><img src="https://habrastorage.org/webt/hh/qr/ab/hhqrabfc2kbsjf6aj3bmimutclu.png" alt="image"></a> <br>  <i>Regular attacks.</i>  <i>350k req total, 52k req legitimate</i> <br><a name="habracut"></a><br>  The first attacks appeared almost simultaneously with the Internet.  DDoS as a phenomenon has become widespread since the end of the 2000s ( <a href="https://www.cloudflare.com/learning/ddos/famous-ddos-attacks/">see www.cloudflare.com/learning/ddos/famous-ddos-attacks</a> ). <br><br>  Since about 2015-2016, almost all hosting providers have come under protection from DDoS attacks, like most visible sites in competitive areas (do whois on the IP sites eldorado.ru, leroymerlin.ru, tilda.ws, see the network of protection operators). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If 10-20 years ago most of the attacks could be repelled on the server itself (evaluate the <a href="http://lib.ru/WEBMASTER/sowetywww2.txt_with-big-pictures.html">recommendations of the Lenta.ru system administrator Maxim Moshkov from the 90s</a> ), now everything is more complicated. <br><br>  First, briefly about the types of attacks. <br><br><h2>  Types of DDoS attacks in terms of the choice of operator protection </h2><br><h4>  L3 / L4 attacks (by OSI model) </h4><br><ul><li>  UDP flood from a botnet (many requests are sent directly to the attacked service directly from infected devices, servers are flooded with a channel); </li><li>  DNS / NTP / etc amplification (many requests for vulnerable DNS / NTP / etc are sent from infected devices, the sender's address is faked, a cloud of packets with the response to requests floods the channel to the one being attacked; this is how the most massive attacks in the modern Internet are performed); </li><li>  SYN / ACK flood (many connection requests are sent to the attacked servers, the connection queue overflows); </li><li>  packet fragmentation attacks, ping of death, ping flood (google plz); </li><li>  etc. </li></ul><br>  These attacks aim to ‚Äúfill up‚Äù the channel to the server or ‚Äúkill‚Äù its ability to receive new traffic. <br>  Although SYN / ACK flood and amplification are very different, many companies struggle equally well with them.  Problems arise with attacks from the next group. <br><br><h4>  L7 attacks (application level) </h4><br><ul><li>  http flood (if a website or any http api is being attacked); </li><li>  attack on vulnerable parts of the site (not having a cache, very heavily loading the site, that is.). </li></ul><br>  The goal is to make the server ‚Äúhard to work‚Äù, to process a lot of ‚Äúas if real requests‚Äù and to remain without resources for real requests. <br>  Although there are other attacks, these are the most common. <br>  Serious attacks at the L7 level are created in a unique way for each project attacked. <br><br>  <b>Why 2 groups?</b> <br><br>  Because there are many who are able to repel attacks well at the L3 / L4 level, but either do not take up the defense at the application level (L7) at all, or while they are weaker than the alternatives. <br><br><h2>  Who is who in the DDoS protection market </h2><br>  (my personal view) <br><br><h4>  L3 / L4 protection </h4><br>  To repel attacks with amplification (‚Äúblockage‚Äù of the server channel), there are enough wide channels (many of the protection services connect to most major backbone providers in Russia and have channels with a theoretical capacity of more than 1 Tbit).  Do not forget that very rare attacks with amplification last longer than an hour.  If you are a Spamhaus and everyone doesn‚Äôt like you, yes, you can try to put channels for several days even with a risk for the continued survival of the used world botnet.  If you just have an online store, even if it is mvideo.ru - 1 Tbit in a few days you will see very soon (hopefully). <br><br>  In order to repel attacks with SYN / ACK flood, packet fragmentation, equipment or software systems are needed to detect and cut off such attacks. <br><br>  Such equipment is produced by many (Arbor, there are solutions from Cisco, Huawei, software implementations from Wanguard, etc.), many backbone operators have already installed it and are selling DDoS protection services (I know about installations from Rostelecom, Megafon, TTC, MTS , in fact, for all major providers, hosters with their own protection, a-la OVH.com, Hetzner.de, have done it themselves in ihor.ru).  Some companies are developing their software solutions (technologies like DPDK allow processing traffic of tens of gigabits on one physical x86 machine). <br><br>  Of the known players, L3 / L4 DDoS is more or less effective, everyone can do it.  I won‚Äôt say now who has the maximum channel capacity (this is insider information), but usually this is not so important, and the only difference is how quickly the protection is triggered (instantly or after a few minutes of downtime of the project, as in Hetzner). <br><br>  The question is how well this is done: an attack with amplification can be repulsed by blocking traffic from countries with the most harmful traffic, and only really extra traffic can be discarded. <br><br>  But at the same time, based on my experience, all serious players in the Russian market cope with it without problems: Qrator, DDoS-Guard, Kaspersky, G-Core Labs (formerly SkyParkCDN), ServicePipe, Stormwall, Voxility, etc. <br><br>  Companies in Russia rarely work with foreign security operators, with the exception of Cloudflare.  I will write about Cloudflare separately. <br><br>  Protection from operators such as Rostelecom, Megafon, TTK, Beeline did not come across, according to colleagues, they provide these services fairly well, but so far the lack of experience periodically affects: sometimes you need to screw something up through the support of the protection operator. <br>  Some operators have a separate service ‚Äúprotection against attacks at the L3 / L4 level‚Äù, or ‚Äúchannel protection‚Äù, it costs much less than protection at all levels. <br><br><div class="spoiler">  <b class="spoiler_title">But how not a trunk provider beats off attacks of hundreds of Gbps, doesn‚Äôt it have its own channels?</b> <div class="spoiler_text">  The protection operator can connect to any of the major providers and repel the attacks "at his expense."  You will have to pay for the channel, but all these hundreds of Gbps will not always be utilized, there are options for a significant reduction in the cost of channels in this case, so the scheme remains operable. </div></div><br> <a href=""><img src="https://habrastorage.org/webt/l0/nv/70/l0nv70ydhaz69tiqttecs0ug1_w.png"></a> <br>  <i>These are the reports from the upstream L3 / L4 protection I regularly received, supporting the hosting provider system.</i> <br><br><h4>  L7 protection (application level) </h4><br>  Attacks at the L7 level (application level) are consistently and efficiently able to repel units. <br>  I have a real big enough experience with <br><br><ul><li>  Qrator.net; </li><li>  DDoS-Guard; </li><li>  G-Core Labs; </li><li>  Kaspersky. </li></ul><br>  They charge for every megabit of pure traffic, a megabit costs about several thousand rubles.  If you have at least 100 Mbps of pure traffic - oh.  Protection will be very expensive.  I can tell in the following articles how to design applications in order to save very well on the capacity of protection channels. <br><br>  The real "king of the hill" - Qrator.net, the rest of them are somewhat behind.  Qrator is so far the only ones in my practice who give close to zero percentage of false positives, but they are several times more expensive than other market players. <br><br>  Other operators also have high-quality and stable protection.  Many services on our support (including very well-known in the country!) Are protected from DDoS-Guard, G-Core Labs, and quite satisfied with the result, I can recommend them. <br><br> <a href=""><img src="https://habrastorage.org/webt/95/i0/ap/95i0api3gqlvnmwnk-3l8byibqq.png"></a> <br>  <i>Qrator repelled attacks</i> <br><br>  There is also experience with small protection operators like cloud-shield.ru, ddosa.net, etc.  I definitely cannot recommend, because  the experience is not very great, I will tell you about the principles of their work.  The cost of protection from them is often 1-2 orders of magnitude lower than that of large players.  As a rule, they buy the partial protection service (L3 / L4) from one of the larger players + they do their own defense against attacks at higher levels.  This can be quite effective + you can get good service for less money, but these are still small companies with a small staff, please note. <br><br><h4>  Cloudflare </h4><br>  CloudFlare is a separate phenomenon.  This is already a huge company that costs several billion dollars, their customers are half of the traffic generators of the world, and the DDoS protection service is simply the most famous among their services.  We also constantly use them for DNS hosting, CDN, as a traffic proxying service. <br><br>  For a website / service that doesn‚Äôt attack complex attacks, Cloudflare is quite ok, but with serious attacks (when they‚Äôre not just ‚Äúflooding‚Äù the channel, but combining many types of attacks), they never saved us with a $ 200 Business plan, but talk about them Enterprise protection for Russia does not make sense, it is cheaper and more effective to turn to other players. <br>  Why is that?  I think it is difficult to make a massive, almost free service of very high quality. <br>  By the way, many Russian-speaking engineers work in CF :) <br><br><h4>  Foreign security operators </h4><br>  I once had real experience with Dragonara.net (once the largest defense operator in the world), which no longer exists now. <br>  Habr√© already has a lot of articles about modern operators, I‚Äôll just give you a link to a fresh review: <a href="https://habr.com/ru/post/350384/">habr.com/ru/post/350384</a> <br>  Surely many of them are very good if the project is not aimed at the Russian market, but in Russia there are problems with them. <br>  The first is that effective protection should be as close as possible to the defender and should take into account local peculiarities (some in Russia, some in China, others in South America). <br>  The second reason: the really difficult and expensive task is the protection at the L7 level.  And yes, it is expensive for everyone, in principle, not many companies in the world do a good L7 protection, and Russian services often simply win the competition. <br><br><h4>  What is the difficulty of repelling attacks at the L7 level? </h4><br>  All applications are unique, and you need to allow traffic that is useful to them and block harmful traffic.  It is not always possible to weed out bots uniquely, so you have to use a lot, really MANY degrees of traffic cleaning. <br><br>  Once, the <a href="https://github.com/kyprizel/testcookie-nginx-module">nginx-testcookie module was</a> enough, and it is still enough to repel a large number of attacks.  When I worked in the hosting industry, my L7 protection was built just for nginx-testcookie.  By the way, Beget.ru, Netangels.ru, FastVPS.ru had a similar system. <br><br>  Alas, the attacks have become more difficult.  testcookie uses checks on JS-based bots, and many modern bots are able to successfully pass them. <br><br>  Attacking botnets are also unique, and you need to take into account the characteristics of each large botnet. <br>  Amplification, direct flood from botnet, traffic filtering from different countries (different filtering for different countries), SYN / ACK flood, packet fragmentation, ICMP, http flood, while at the application / http level you can come up with an unlimited number of different attacks. <br><br>  In total, at the level of channel protection, specialized equipment for traffic cleaning, special software, additional filtering settings for each client, there may be tens and hundreds of filtering levels. <br><br>  To properly manage this and correctly tyunit filtering settings for different users, you need a lot of experience and qualified personnel.  Even a large operator who decides to provide protection services cannot ‚Äústupidly throw money at a problem‚Äù: experience will have to be packed on lying sites and false positives on legitimate traffic. <br><br>  For the protection operator there is no ‚Äúrepel DDoS‚Äù button, there are a large number of tools, they need to be able to use them. <br><br>  And one more bonus example. <br><br> <a href=""><img src="https://habrastorage.org/webt/ya/wr/mq/yawrmqrp_xyx2o_nlg_hqeogl30.png"></a> <br>  <i>The server without protection was blocked by the hoster during an attack with a capacity of 600 Mbps</i> <br>  <i>(The ‚Äúloss‚Äù of traffic is not noticeable, since only 1 site was attacked, it was temporarily removed from the server and the block was removed within an hour).</i> <br> <a href=""><img src="https://habrastorage.org/webt/ty/b_/2b/tyb_2baae8seawlsujllodb5kd0.png"></a> <br>  <i>The same server is protected.</i>  <i>The attackers "surrendered" after a day of repulsed attacks.</i>  <i>The attack itself was not the strongest.</i> <br><br>  L3 / L4 attacks and protection against them are more trivial, mainly they depend on the thickness of the channels, the algorithms of detection and filtering attacks. <br><br>  L7 attacks are harder and more original, they depend on the attacked application, capabilities and fantasy of the attackers.  Protection from them requires great knowledge and experience, and the result may not be immediately and not one hundred percent.  So far, Google has not invented another neural network for protection. </div><p>Source: <a href="https://habr.com/ru/post/450092/">https://habr.com/ru/post/450092/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../45008/index.html">I'm not a spammer and not a flooder! I have a question! Is it possible to promote your interests on habrahabr.ru?</a></li>
<li><a href="../450080/index.html">Indigenous microbes and digestive features</a></li>
<li><a href="../450084/index.html">Self-made receiving part of the Qi standard</a></li>
<li><a href="../450088/index.html">How I draw illustrations for mathematics abstracts in Inkscape</a></li>
<li><a href="../450090/index.html">News from the world of OpenStreetMap ‚Ññ457 (16.04.2019-22.04.2019)</a></li>
<li><a href="../450096/index.html">Automatic cat toilet</a></li>
<li><a href="../450098/index.html">Yury Bushmelev "Map of the rake in the field of collecting and delivering logs" - decoding the report</a></li>
<li><a href="../4501/index.html">Amateur video advertising will reach $ 850 million in 2010</a></li>
<li><a href="../45010/index.html">Once again about all of us favorite vote for topics</a></li>
<li><a href="../450102/index.html">Self-adjusting electronic display clock</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>