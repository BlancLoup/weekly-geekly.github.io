<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How I draw illustrations for mathematics abstracts in Inkscape</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the last article I told you how to write notes on math on LaTeX in Vim. In this article, I‚Äôll show you how pictures are created for these notes usi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How I draw illustrations for mathematics abstracts in Inkscape</h1><div class="post__text post__text-html js-mediator-article">  In the <a href="https://habr.com/ru/post/445066/">last article</a> I told you how to write notes on math on LaTeX in Vim.  In this article, I‚Äôll show you how pictures are created for these notes using Inkscape, and I‚Äôll also tell you about my self-made hotkey manager. <br><br><h1>  Some examples </h1><br>  First, let me show examples of some of the drawings.  They are made for complex analysis, differential geometry, electrodynamics and my bachelor thesis on elliptic curves.  I drew them during the lecture - with the exception, of course, of my thesis - using Inkscape, so let's start with that. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a3d/835/524/a3d8355247bd45c94fc1fe6488ad35e7.png"><a name="habracut"></a><img src="https://habrastorage.org/getpro/habr/post_images/bc5/ba8/1b4/bc5ba81b41cf31017d6d471157a8b96f.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/468/2e0/77d/4682e077db8e6ea1f6db10f519945d28.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/78d/0c2/9bd/78d0c29bd1e86f8de35ecd1a597d113a.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/642/b31/7a7/642b317a7bf3a567ee3a84116183fc56.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  What is Inkscape? </h1><br>  <a href="https://inkscape.org/">Inkscape</a> is an open source vector graphics editor available for all major platforms.  This is a free, but perhaps less functional alternative to Adobe Illustrator.  It can be used to design flyers and logos, as in the image below, but it is also a powerful tool for drawing geometric shapes. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/dbd/836/083/dbd83608392526716e011ccccc608fd4.png"></a> <br><br><h1>  Why Inkscape? </h1><br>  The most common solutions for adding images to LaTeX documents are TikZ, PSTricks and Asymptote.  They have one thing in common: they all work on teams, that is, you simply write code that defines how to draw a shape.  For example, the code TikZ: <br><br><pre><code class="matlab hljs">\begin{tikzpicture} \coordinate (A) at (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>); \draw[thick, -&gt;] (<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>) -- (A); \node[above right] at (A) {$A = (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)$}; \<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>{tikzpicture}</code> </pre> <br>  displays such a picture: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/495/c0e/1ef/495c0e1effe15fd0c795c1d19ca1e6a7.png"><br><br>  The advantage of these packages is that drawing is very similar to programming: you can use variables, perform calculations, use <code>for</code> loops, and so on. In addition, pictures fit well into a document because all text is typed directly into LaTeX.  This means that it is easy to type formulas, and if you later decide to change the font of the document, all the pictures will automatically change to match the new font. <br><br>  However, these advantages have to be paid for by the absence of visual feedback and low speed.  Drawing complex shapes is inherently a graphical task and can be extremely time-consuming without a graphical interface.  It is not possible to click and drag an object, draw a curve by hand, or drag a control point of a Bezier curve.  Because of this, TikZ is much more complicated and slower than Inkscape.  Although I sometimes use TikZ for complex drawings, but in most cases the benefits of Inkscape far outweigh the benefits of TikZ, especially if you are under time pressure during the lecture. <br><br>  With this done, let's begin. <br><br><h1>  Embedding Inkscape drawings in a LaTeX document </h1><br>  Like TikZ, Inkscape has the ability to display text in a drawing using LaTeX.  For this, the editor exports figures to both pdf and LaTeX files.  In the first picture with a separate text, and in the LaTeX file - the code necessary for the correct placement of the text.  For example, you are working in Inkscape on this picture: <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/a17/a20/001/a17a20001eaf1118264551dee81815dd.png"></a> <br>  <i><font color="gray">Riemann's theorem</font></i> <br><br>  To include this image in the LaTeX document, go to the <i>File ‚Ä∫Save As</i> menu, select 'pdf' as an extension, and then click <i>Save</i> , after which the following dialog box will appear: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4f2/783/349/4f27833491554fa5845eb2600f24ec9c.png"></div><br><br>  Selecting 'Omit text in pdf and create LaTeX file' saves the drawing as pdf + LaTeX.  To insert Inkscape images into a LaTeX document, you can add the following code to the preamble: <br><br><pre> <code class="matlab hljs">\usepackage{import} \usepackage{xifthen} \usepackage{pdfpages} \usepackage{transparent} \newcommand{\incfig}[<span class="hljs-number"><span class="hljs-number">1</span></span>]{<span class="hljs-comment"><span class="hljs-comment">% \def\svgwidth{\columnwidth} \import{./figures/}{#1.pdf_tex} }</span></span></code> </pre> <br>  Assuming that the image is in the <code>figures/riemmans-theorem.svg</code> , you can insert it with a simple code: <br><br><pre> <code class="matlab hljs">\begin{<span class="hljs-built_in"><span class="hljs-built_in">figure</span></span>}[ht] \centering \incfig{riemmans-theorem} \caption{Riemmans theorem} \label{fig:riemmans-theorem} \<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">figure</span></span>}</code> </pre> <br>  After compiling the document you will see it: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/51e/1b7/bd9/51e1b7bd9a3691f6f2a90554cfdd864e.png"><br><br>  As you can see, the text is visualized using LaTeX, which looks very nice.  If you later decide to change the font, it will be updated accordingly: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8b7/ca4/03c/8b7ca403c83cb410958ec55eea5bdde0.png"><br><br>  Such a system allows you to draw in Inkscape, continuing to type text in LaTeX. <br><br><h1>  Quickly create and insert images </h1><br>  When I am writing a synopsis during a lecture, I need to add pictures on the fly without disrupting the flow, that is, not to waste time opening Inkscape, searching for the right catalog, entering LaTeX code to insert the figure manually, and so on.  To avoid this, I added some keyboard shortcuts for managing images in Vim.  For example, when I type a picture title and <code>Ctrl+F</code> , the following happens: <br><br><ol><li>  The script finds the catalog of pictures depending on the location of the LaTeX root file. <br></li><li>  It then checks if there is a drawing with the same name.  If so, the script does nothing. <br></li><li>  If not, the pattern is copied to the <code>/figures</code> directory. <br></li><li>  The current line with the title of the picture is replaced with the LaTeX code to insert it. <br></li><li>  A new drawing opens in Inkscape. <br></li><li>  Monitoring of files is configured in such a way that whenever you save a picture to an svg file by pressing <code>Ctrl+S</code> it is also saved as pdf + LaTeX.  Thus, the annoying pdf save dialog that we discussed earlier no longer appears. </li></ol><br>  Scheme in action: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a48/c6e/f9b/a48c6ef9b7407f13e4e0e86b2649333f.gif"><br><br>  When I want to edit a drawing, I <code>Ctrl+F</code> in normal mode.  A selection dialog opens that allows you to search for pictures in the current document.  After selecting it, it opens the drawing in Inkscape.  When I save it, the embed code is copied to the clipboard.  Thus, I can re-insert it if I deleted the source. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6f6/ff7/a6c/6f6ff7a6c0d74474ae9177369c8392a9.gif"><br><br>  These hot keys allow you to add and open pictures on the fly.  No need to remember that for each you need to specify pdf + LaTeX, choose the correct directory or write code to insert.  Barrier to add a new pattern is much lower than if you do it manually.  My script for managing images published <a href="https://github.com/gillescastel/inkscape-figures">on Github</a> . <br><br>  Having dealt with management, let's talk about how to actually draw shapes in Inkscape. <br><br><h1>  Drawing </h1><br>  Although drawing in Inkscape is usually faster than in TikZ, it is still slower than drawing by hand.  The process is accelerated with Inkscape's built-in keyboard shortcuts, but still not enough. <br><br>  So I decided to program a self-made keyboard shortcut manager in Python that allows you to intercept all keyboard events before they reach Inkscape.  So I have complete control over how each keystroke is interpreted, which gives more flexibility. <br><br><h4>  Drawing shapes </h4><br>  Let's start with the built-in keyboard shortcuts Inkscape.  For example, <code>r</code> activates the rectangle drawing tool, <code>e</code> draws ellipses, and so on. From the implementation point of view, this means that the combination manager will ‚Äúplay‚Äù these keyboard events, i.e., just send them to Inkscape. <br><br>  However, instead of the default labels <code>p</code> for a pencil and <code>b</code> for Bezier curves, I use <code>w</code> and <code>f</code> , since it is a little more convenient to press them with my left hand if in the right mouse.  In the spirit of combinations for the left hand, I also compared <code>z</code> for cancellation, <code>Shift+z</code> for deletion and <code>x</code> for switching the reference, which is usually assigned to hard-to-reach <code>%</code> . <br><br><h4>  Key combinations for frequently used styles </h4><br>  Style objects are the second most common thing I do in Inkscape.  Styles for drawing shapes are pretty simple: <br><br><ul><li>  Shapes like rectangles and circles are usually black, light gray, white or transparent, perhaps.  with contour. <br></li><li>  Lines (including contours) are mostly solid, dashed or dotted.  They can be (very) bold or normal width, and sometimes with an arrow on one or both sides. </li></ul><br>  The combination of these parameters gives the following table of frequently used styles: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d20/c8f/ca2/d20c8fca2750f96b0535992d0cc02bdb.png"><br><br>  Since I use these styles very often, I want to do it quickly, but using the default combinations in Inkscape takes too much time.  For example, you want to change the style of some objects as follows: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e93/9d1/818/e939d18189933d5ae1cff3e9bc93c13d.png"><br><br>  You have to press <code>Ctrl+Shift+F</code> to open the style panel, and update the style of each object by clicking on it, because you cannot do this using the keyboard shortcuts in Inkscape.  It is tiring.  Ideally, I would like to perform such an operation in a split second. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/863/913/dd0/863913dd071183ce203e5f34db5641b7.gif"><br><br>  This is where keyboard shortcuts come into play, which consist of two or more simultaneous keystrokes.  For example, when I simultaneously press <code>s</code> and <code>f</code> , my combination manager will apply a solid outline and a gray fill to the current selection.  When I need a bold outline, I press together <code>s+f+g</code> , where <code>g</code> means bold. <br><br>  Thus, each property corresponds to a key: <code>s</code> denotes a normal contour, <code>f</code> - gray filling, <code>g</code> - thickness, <code>a</code> - arrow, <code>d</code> - points, <code>e</code> - dotted line, etc. Here is the complete table of possible options: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ae4/536/4f2/ae45364f2423fb0546a0aaf74f46ba7a.png"><br><br>  Some styles in this table correspond to only one key, for example, the style in the upper left corner: filling with gray without contour.  This can be a problem, because pressing one <code>f</code> starts the Bezier curve tool.  The solution is to press the <code> + f</code> , where the space character acts as a placeholder. <br><br>  With such combinations, the previous problem is solved in a few taps: <br><br><ul><li>  <code>f</code> + <code>s</code> makes the rectangle gray and adds a solid outline; <br></li><li>  <code>f</code> + <code>h</code> + <code>e</code> means filling and bold dotted <br></li><li>  <code>a</code> + <code>g</code> + <code>d</code> adds an arrow and turns the line into a bold dotted line. </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/ead/303/302/ead30330292ec820d614b2ef69a0f907.gif"><br><br><h4>  Adding text </h4><br>  Since the drawings often contain mathematical formulas, I want to use <a href="https://castel.dev/post/lecture-notes-1">my snippets</a> in Vim.  To do this, I press <code>t</code> , which opens a small Vim window where I enter the LaTeX code.  After the release, the text fragment is inserted into Inkscape: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ca4/e1a/d5e/ca4e1ad5e470b77c905ac3c004e2fd77.gif"><br><br>  As I said, this text will be displayed by LaTeX when inserting a picture into a document.  But sometimes I want to immediately display LaTeX, which can be done with <code>Shift+T</code> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/510/80c/e34/51080ce34ccfb23e55eee8b599c116ee.gif"><br><br>  Both options have their advantages and disadvantages.  Basically, I use the first method because the text is displayed in a LaTeX document.  This means that the fonts always match and you can use macros defined in the preamble of the document.  But there is a drawback: sometimes it is a little difficult to perform text positioning.  Since you do not see the final result in Inkscape, it is sometimes necessary to switch from Inkscape to the pdf viewer and back to fine-tune the results. <br><br><h4>  Preservation and use of rarer styles </h4><br>  Although the basic styles are sufficient in 90% of cases, sometimes you want to use a special style.  For example, to draw diagrams for optics, it is useful to have glass and beam styles.  To do this, you first need to create a style in Inkscape using the default combinations: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0ff/713/b29/0ff713b294966af16e328f0cbcfcd17c.png"><br><br>  To save these styles, I select one of the objects and press <code>Shift + s</code> .  Then I enter the name of the new style, in this case 'glass', and press Enter to confirm.  Now the style is saved, and later I can use it. <br><br>  Now, when I select an object, press <code>s</code> and enter 'glass', the appropriate style will be applied to the object.  However, there is no need to enter the full name, because the style is applied immediately if it is the only one that matches the characters entered.  For example, if I have only one style, starting with 'g', inputting one of this letter is enough to apply the style.  If you have multiple styles, you‚Äôll have to type in 'gl' or even 'gla'. <br><br>  In such a situation, failures are annoying when you enter too many characters: suppose that typing 'gl' will apply the style, but you typed 'gla' - and then <code>a</code> will be interpreted as another command.  Therefore, the combination manager waits 500 ms before returning to default mode.  This time is enough for a person to see that the style is applied and stop typing. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2ce/e8b/968/2cee8b968a68a5db3018d72966cad8be.gif"><br><br><h4>  Adding and saving objects </h4><br>  The last element of my settings is adding and saving objects, which is done with <code>a</code> and <code>Shift+a</code> , respectively.  For example, pressing <code>a</code> and typing 'ec' adds an elliptic curve: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/625/e7b/aae/625e7baae7c4dce1acbe9b008994c4a9.png"><br><br>  As another example: pressing <code>a</code> and entering 'dg' adds a ‚Äúkeyhole‚Äù, a keyhole ('dg' is a mirror image of 'kh' on the keyboard).  Using <code>Ctrl+-</code> shape you can subtract it from the given form: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7b6/77b/963/7b677b963dca0e683aa35f892d6b73fa.gif"><br><br>  Some other examples: blobs and 2D, 3D axes, which I quite often use in complex analysis and differential geometry. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/028/4df/ae8/0284dfae8ffaf3d959fd1fd4ca89d9df.png"><br><br><h1>  Code </h1><br>  If you want to try it yourself, the <a href="https://github.com/gillescastel/inkscape-figures">script for managing images in Vim</a> and <a href="https://github.com/gillescastel/inkscape-shortcut-manager">the keyboard shortcut manager Inkscape are</a> published on Github.  Both scripts only work on Linux systems.  The first should work out of the box, the second will probably require additional configuration. <br><br><h1>  Conclusion </h1><br>  With Inkscape, you can easily and quickly create illustrations for articles, books, and presentations.  They look professional and fit well into the document.  Although it is slower than drawing by hand, in most cases Inkscape is faster than TikZ.  My keyboard shortcuts and a script for managing drawings in Vim further accelerate the work, allowing you to draw figures during lectures, keeping up with the lecturer. </div><p>Source: <a href="https://habr.com/ru/post/450088/">https://habr.com/ru/post/450088/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../450076/index.html">We specify the description of system functions using the Sequence diagram.</a></li>
<li><a href="../450078/index.html">Hertz customer filed a lawsuit against Accenture integrator, demanding $ 32 + million for a "defective" site upgrade</a></li>
<li><a href="../45008/index.html">I'm not a spammer and not a flooder! I have a question! Is it possible to promote your interests on habrahabr.ru?</a></li>
<li><a href="../450080/index.html">Indigenous microbes and digestive features</a></li>
<li><a href="../450084/index.html">Self-made receiving part of the Qi standard</a></li>
<li><a href="../450090/index.html">News from the world of OpenStreetMap ‚Ññ457 (16.04.2019-22.04.2019)</a></li>
<li><a href="../450092/index.html">What is what and who is who in the DDoS protection market</a></li>
<li><a href="../450096/index.html">Automatic cat toilet</a></li>
<li><a href="../450098/index.html">Yury Bushmelev "Map of the rake in the field of collecting and delivering logs" - decoding the report</a></li>
<li><a href="../4501/index.html">Amateur video advertising will reach $ 850 million in 2010</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>