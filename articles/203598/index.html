<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We assemble a sound station based on Linux and MPD</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At the heart of the reference Bryston BDP ‚Äì 2 audio player cost, for a minute, 156 thousand rubles is a standard motherboard with an Intel Atom proces...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We assemble a sound station based on Linux and MPD</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/624/878/9a1/6248789a113936a2da6c10af8d14db09.jpg"><br><br>  At the heart of the reference Bryston BDP ‚Äì 2 audio player cost, for a minute, 156 thousand rubles is a standard motherboard with an Intel Atom processor and an ESI Juli @ PCI sound card.  Developers have chosen Debian Linux as the OS for this player.  If you have the time and desire, you can assemble a similar digital source from the available hardware, and this article will help you with installing the necessary software and fine-tuning the system parameters. <br><a name="habracut"></a><br><br><h1>  Introduction </h1><br>  It should be noted that when creating BDP ‚Äì 2, engineers from Bryston did not bother themselves with the work on the software part: Debian 6.0.1 stock comes in delivery, kernel 2.6.32 without realtime support is offered, almost untouched MPD settings are offered, there are no optimizations at all .  The fact is that standard cores have a rather large sound delay (11‚Äì20 ms), and this does not allow to work with sound professionally.  In a realtime system, this delay is ~ 1 ms, which is already considered an excellent result.  Therefore, first we compile the kernel and MPD sound server with RT patches to minimize delays, then set a high-precision event timer, set maximum priorities for devices and processes related to audio transmission, and finally finish tuning the system parameters.  In general, let's do what the hi-end should have done. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We will consider the example of an ancient company (VIA Epia-MS motherboard, VIA C3 800 MHz percents, 512 MB of RAM, ESI Juli @ PCI sound card) and the Debian 7.1 distribution installed at the minimum, that is, without graphics and unnecessary services.  You may have another sound, only we would recommend PCI / PCI-E, since external USB cards may not work correctly with some motherboards. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/de2/86a/ace/de286aace708f9bb09a579125d3f7ede.jpg" alt="Experimental computer, Juli @ dismantled ESI"><br>  Experimental computer, the analog part of ESI Juli @ dismantled <br><br><img src="https://habrastorage.org/getpro/habr/post_images/604/509/213/6045092134d79f315100246fede1ba38.png" alt="For the tests used a digital-to-analog converter Nagra DAC"><br>  For the tests used a digital-to-analog converter Nagra DAC <br><br><br><br><h1>  Compiling RT kernels </h1><br>  RT-patch is designed to support real-time in the core, and not ‚Äúsoft‚Äù, but ‚Äúhard‚Äù.  The difference lies in the fact that ‚Äúsoft‚Äù real-time systems allow a slight excess of the desired execution time, while in ‚Äúhard‚Äù real-time systems, such an excess is unacceptable.  The patch is superimposed on the vanilla core, so we put everything needed to compile it and download the core and patch: <br><br><pre><code class="hljs pgsql"># apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install kernel-package libncurses5-dev fakeroot build-essential pkg-config wget gcc autoconf git # mkdir kernel &amp;&amp; cd $_ # wget <span class="hljs-type"><span class="hljs-type">bit</span></span>.ly/<span class="hljs-number"><span class="hljs-number">149</span></span>djQn # wget <span class="hljs-type"><span class="hljs-type">bit</span></span>.ly/<span class="hljs-number"><span class="hljs-number">14</span></span>rDBvQ</code> </pre> <br>  Unpack and patch: <br><br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># tar xjf linux-3.8.13.tar.bz2 &amp;&amp; cd linux-3.8.13 # bzcat ../patch-3.8.13-rt11.patch.bz2 | patch -p1</span></span></code> </pre><br>  Then in the menuconfig / nconfig we enable the option Processor type and features -&gt; Preemption Model -&gt; Fully Preemptible Kernel (RT) and build the kernel: <br><br><pre> <code class="hljs go"># CONCURENCY_LEVEL=<span class="hljs-number"><span class="hljs-number">3</span></span> fakeroot <span class="hljs-built_in"><span class="hljs-built_in">make</span></span>-kpkg --initrd --<span class="hljs-built_in"><span class="hljs-built_in">append</span></span>-to-version=-rt kernel_image kernel_headers</code> </pre><br>  Instead of CONCURENCY_LEVEL = 3, you can put your own number, depending on the number of processor cores + 1. <br>  Install and reboot: <br><br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># dpkg -i ../*.deb # reboot</span></span></code> </pre><br><img src="https://habrastorage.org/getpro/habr/post_images/0ca/706/c16/0ca706c1631923999625d369fbb333dd.jpg" alt="Choosing the right kernel option"><br>  Choosing the right kernel option <br><br><br><h1>  MPD preparation </h1><br>  For starters, what is it?  Why do we need another player, if there are already enough of them?  Actually, MPD is a daemon with a client-server architecture, which opens up quite interesting possibilities, namely: <br><br><ul><li>  Unlike many other graphical players, it does very well without the Xs, so if they fall or are completely absent on the computer, the music will still play; </li><li>  this is a client-server application ‚Äî if desired, it can be controlled from a graphical interface; </li><li>  MPD is not only client-server - it is also networked!  Consequently, it can be put on a headless server and calmly steer it even from a netbook, even from another computer, even from a smartphone or tablet (iOS / Android). </li></ul><br><br>  MPD itself supports many features, including support for FLAC, ALAC, WAV, MP3, OGG, streaming audio playback, gapless playback (playback without pauses) ... you can‚Äôt name it all. <br>  Sources are taken from the official site (for the reasons given below, version 0.17.1 is required), then we put the necessary dependencies for the build: <br><br><pre> <code class="hljs pgsql"># wget <span class="hljs-type"><span class="hljs-type">bit</span></span>.ly/<span class="hljs-number"><span class="hljs-number">14</span></span>wxPtj # tar xjvf mpd<span class="hljs-number"><span class="hljs-number">-0.17</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>.tar.bz2 # cd mpd<span class="hljs-number"><span class="hljs-number">-0.17</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> # apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> build-dep mpd # apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install libcdio-paranoia-dev</code> </pre><br>  After that, you can, in principle, go to the directory and type the autogen command, and then make ... but we will not rush, because otherwise MPD will be compiled with default options, which may not be suitable for us.  In addition, you will have to apply the RT patch to the MPD itself, which is designed to improve the sound quality by controlling the priorities of the streams (in vain, did you compile the RT core?).  Since the player itself is developing faster than the patch, the MPD version should be exactly 0.17.1.  Download the patch and apply it: <br><br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># wget bit.ly/10kbsHY -O mpd-rtopt.diff.gz # gunzip -c mpd-rtopt.diff.gz | patch -p1</span></span></code> </pre><br>  Now you can choose build options.  Of course, this is a matter of taste, but we collected with the following options: <br><br><pre> <code class="hljs mel"># ./autogen.sh CFLAGS=<span class="hljs-string"><span class="hljs-string">"-O2 -mtune=`uname -m`"</span></span> --enable-alsa --enable-rtopt --enable-id3 --enable-sqlite --enable-audiofile --enable-flac --enable-cdio-paranoia --enable-lsr --<span class="hljs-keyword"><span class="hljs-keyword">disable</span></span>-oss --<span class="hljs-keyword"><span class="hljs-keyword">disable</span></span>-pulse --<span class="hljs-keyword"><span class="hljs-keyword">disable</span></span>-jack --<span class="hljs-keyword"><span class="hljs-keyword">disable</span></span>-ipv6 --<span class="hljs-keyword"><span class="hljs-keyword">disable</span></span>-inotify # make &amp;&amp; make install</code> </pre><br>  Consider some options in more detail: <br><br><ul><li>  --enable-alsa - includes ALSA support; </li><li>  --enable-rtopt - actually, for the sake of which we patch; </li><li>  --enable-id3 - ID3 tag support; </li><li>  --enable-sqlite - SQLite support for internal MPD database; </li><li>  --enable-audiofile - support for wav files; </li><li>  --enable-flac - support for FLAC - compression format without loss of quality; </li><li>  --enable-cdio-paranoia - audioCD; </li><li>  --enable-lsr - support for changing the sampling rate on the fly; </li><li>  --disable-oss - since we will use ALSA, we will not need OSS; </li><li>  --disable-pulse, --disable-jack - we also don‚Äôt need wrappers around ALSA; </li><li>  --disable-ipv6 - if there is no IPv6, why include it? </li><li>  --disable-inotify - for less resource consumption. </li></ul><br><br>  And now, after successful assembly and installation, let's move on to setting up the audio system. <br><br><br><h1>  Initial setup and tuning </h1><br>  Here are the most important parts of the mpd.conf file: <br><br><pre> <code class="hljs mel">#   .     music_directory <span class="hljs-string"><span class="hljs-string">"/var/mpd/music"</span></span> # - playlist_directory <span class="hljs-string"><span class="hljs-string">"/var/mpd/plists"</span></span> #     db_file <span class="hljs-string"><span class="hljs-string">"/var/mpd/mpd_db"</span></span> #     ‚Äî         sticker_file <span class="hljs-string"><span class="hljs-string">"/var/mpd/sticker_db"</span></span> log_file <span class="hljs-string"><span class="hljs-string">"/var/log/mpd.log"</span></span> #   ESI Juli@,   SPDIF (Toslink  RCA)    #   ‚Äî      <span class="hljs-string"><span class="hljs-string">`mpd.conf`</span></span>.      audio_output { # ,    ALSA type <span class="hljs-string"><span class="hljs-string">"alsa"</span></span> #   name <span class="hljs-string"><span class="hljs-string">"ESI Julia SPDIF"</span></span> #    (         aplay -L) device <span class="hljs-string"><span class="hljs-string">"iec958:CARD=Juli,DEV=0"</span></span> #   bit-perfect playback,      ,   ,         replay_gain_handler <span class="hljs-string"><span class="hljs-string">"none"</span></span> auto_resample <span class="hljs-string"><span class="hljs-string">"no"</span></span> auto_channels <span class="hljs-string"><span class="hljs-string">"no"</span></span> auto_format <span class="hljs-string"><span class="hljs-string">"no"</span></span> #  Memory-mapping I/O use_mmap <span class="hljs-string"><span class="hljs-string">"yes"</span></span> #    priority <span class="hljs-string"><span class="hljs-string">"FIFO:99"</span></span> } ... #      audio_buffer_size <span class="hljs-string"><span class="hljs-string">"2048"</span></span> #        buffer_before_play <span class="hljs-string"><span class="hljs-string">"50%"</span></span> ... #  realtime- MPD ‚Äî       realtime_option { memlock <span class="hljs-string"><span class="hljs-string">"yes"</span></span> #  locks <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">memory</span></span> stack_reserve <span class="hljs-string"><span class="hljs-string">"1024"</span></span> #   ( ) heap_reserve <span class="hljs-string"><span class="hljs-string">"10240"</span></span> #   (  ) main_priority <span class="hljs-string"><span class="hljs-string">"OTHER:0"</span></span> player_priority <span class="hljs-string"><span class="hljs-string">"FIFO:50"</span></span> decoder_priority <span class="hljs-string"><span class="hljs-string">"FIFO:47"</span></span> update_priority <span class="hljs-string"><span class="hljs-string">"OTHER:0"</span></span> #   }</code> </pre><br>  Optionally (and if MPD was compiled with the appropriate option) you can, for example, enable streaming audio via HTTP - for the latter you need to add the following lines to the config: <br><br><pre> <code class="hljs pgsql">audio_output { <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> "httpd" <span class="hljs-type"><span class="hljs-type">name</span></span> "My HTTP Stream" #  ,   vorbis  lame encoder "vorbis" port "8000" # quality "5.0" #  quality  bitrate  bitrate "128" #   (<span class="hljs-number"><span class="hljs-number">44</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span> , <span class="hljs-number"><span class="hljs-number">16</span></span> , ) <span class="hljs-keyword"><span class="hljs-keyword">format</span></span> "44100:16:2" }</code> </pre><br><img src="https://habrastorage.org/getpro/habr/post_images/bbd/463/f27/bbd463f272accb97c90270dc32293a80.jpg" alt="Mpd.conf configuration file"><br>  Mpd.conf configuration file <br><br>  It is also necessary to make tuning of the system.  First of all, create the file /etc/security/limits.d/mpd with the following content: <br><br><pre> <code class="hljs scala"><span class="hljs-meta"><span class="hljs-meta">@audio</span></span> - rtprio <span class="hljs-number"><span class="hljs-number">99</span></span> <span class="hljs-meta"><span class="hljs-meta">@audio</span></span> - memlock unlimited <span class="hljs-meta"><span class="hljs-meta">@audio</span></span> - nice <span class="hljs-number"><span class="hljs-number">-19</span></span></code> </pre><br>  This file almost disables the priority limits for the daemon.  Next, you need to change the HPET setting (which is a clock frequency generator and is not used by default on many rather old motherboards).  To do this, edit the line in the / etc / default / grub file - at the same time we will add the threadirqs option, which is related to the RT core and will be needed later: <br><br><pre> <code class="hljs objectivec">GRUB_CMDLINE_LINUX_DEFAULT=<span class="hljs-string"><span class="hljs-string">"quiet clocksource=hpet threadirqs"</span></span></code> </pre><br>  HPET is required for more accurate (in time) signal to the DAC.  It would seem that the difference of several micro (and even nano-) seconds when applying the bit stream is so insignificant that you should not pay attention to it ... but no.  One bit was delayed, two came ahead of time - and in a high-end stereo system, the difference can be felt by the human ear.  With HPET, the likelihood of such a scenario is reduced. <br>  Let's also configure some kernel parameters through sysctl.  Open /etc/sysctl.conf in your favorite editor and add the following lines to it: <br><br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta">#   ,         vm.overcommit_memory = 2 vm.overcommit_ratio = 50 vm.swappiness = 10 #     HPET dev.hpet.max-user-freq = 2048</span></span></code> </pre><br>  In addition to the last parameter, you need to change the same for rtc - but, since it is in sysfs, you will have to write it in rc.local: <br><br><pre> <code class="hljs kotlin">echo <span class="hljs-number"><span class="hljs-number">2048</span></span> &gt; /sys/<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">rtc</span></span></span><span class="hljs-class">/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">rtc0</span></span></span><span class="hljs-class">/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">max_user_freq</span></span></span></span></code> </pre><br>  Put the package rtirq-init.  It contains a script that increases the priorities of IRQ streams associated with sound equipment: <br><br><pre> <code class="hljs swift"># apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install rtirq-<span class="hljs-keyword"><span class="hljs-keyword">init</span></span></code> </pre><br>  After installation, you may need to edit the / etc / default / rtirq file, namely the list of IRQ streams that will have increased priority: <br><br><pre> <code class="hljs objectivec">RTIRQ_NAME_LIST=<span class="hljs-string"><span class="hljs-string">"rtc snd usb i8042"</span></span></code> </pre><br>  And finally - if you have a PCI sound card, then you need to maximize the timeout timer (latency timer, which sets the time that the card on the bus can take, if other cards turn to the bus) for it and, accordingly, slightly increase its for other PCI devices.  But first you need to know the PCI ID card: <br><br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># lspci | grep -i audio</span></span></code> </pre><br>  In my case, the ID was 01: 09.0, therefore, to increase the latency timer, we type the commands <br><br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># setpci -v -d *:* latency_timer=b0 # setpci -v -s 01:09.0 latency_timer=ff</span></span></code> </pre><br>  You can also register these commands in rc.local. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/88c/e8d/861/88ce8d8613811e4ac6b981b497d26708.jpg" alt="QMPDClient interface"><br>  QMPDClient interface <br><br><img src="https://habrastorage.org/getpro/habr/post_images/086/901/e35/086901e35d9cff9cdb0b925266e45e79.jpg" alt="Sonata is another MPD client."><br>  Sonata is another MPD client. <br><br><blockquote>  RT patch turns Linux kernel into fully pre-emptive (i.e. with preemptive multitasking) </blockquote><br><h1>  Health check </h1><br>  In general, you can now start the MPD daemon.  Before launching, make sure that the music in the appropriate directory is present and a directory for playlists has been created.  If it is scattered in different directories, then you can point at them with symlinks.  The command for manual start looks like this: <br><br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># mpd /etc/mpd.conf</span></span></code> </pre><br>  But how to check the performance?  The fact is that even the simplest console client is not included in the MPD source code, like the libmpdclient library, so you can either compile them yourself or install the appropriate package.  Since the client does not require the imposition of patches, there is no special reason to bother with the compilation, which means we install the package: <br><br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># apt-get install mpc</span></span></code> </pre><br>  Before starting, we recommend to look at the settings of the mixer - in Debian 7.1 the sound is disabled by default.  Update the MPD database, add all the music to the playlist and start playback: <br><br><pre> <code class="hljs pgsql"># mpc <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> <span class="hljs-comment"><span class="hljs-comment">--wait # mpc listall | mpc add # mpc play</span></span></code> </pre><br>  If everything is normal, then the music should sound.  In the case of streaming playback, you also need to check the operation of this stream.  We specify the address and port registered in the config.  For some players, you must also specify the file mpd.ogg - for example, <a href="http://192.168.1.5/">192.168.1.5</a> : 8000 / mpd.ogg. <br><br><br><h1>  Remove unnecessary </h1><br>  Well, now you need to clean up the system.  In general, you can do it yourself, but there are some subtleties - for example, packages installed with apt-get build-dep cannot be completely removed.  So, first we mark the necessary packages for MPD so that they will not be removed by the following command, and only then we remove the packages related to the assembly: <br><br><pre> <code class="hljs lua"># apt-mark manual libcdio-paranoia1 libavahi-glib1 libcurl3-gnutls libshout3 # apt-get autoremove kernel-<span class="hljs-built_in"><span class="hljs-built_in">package</span></span> libncurses5-dev fakeroot build-essential pkg-<span class="hljs-built_in"><span class="hljs-built_in">config</span></span> wget gcc autoconf git # apt-get <span class="hljs-built_in"><span class="hljs-built_in">remove</span></span> libcdio-paranoia-dev</code> </pre><br>  Then we execute the following three-story command: <br><br><pre> <code class="hljs swift"># apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> remove $(apt-cache showsrc <span class="hljs-string"><span class="hljs-string">"mpd"</span></span> | grep <span class="hljs-type"><span class="hljs-type">Build</span></span>-<span class="hljs-type"><span class="hljs-type">Depends</span></span> | perl -p -e 's/(?:[\[(].+?[\])]|<span class="hljs-type"><span class="hljs-type">Build</span></span>-<span class="hljs-type"><span class="hljs-type">Depends</span></span>:|,|\|)<span class="hljs-comment"><span class="hljs-comment">//g')</span></span></code> </pre><br>  This command looks frightening, but it does quite a harmless thing - it removes all the packages that were needed to build MPD. <br><br>  We also delete the MTA - why do we need mail at the audio station? <br><br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># apt-get remove exim</span></span></code> </pre><br>  In general, you can remove the rest of the packages useless for an audio station yourself.  But if you are not sure whether you need, for example, cron or syslog, it is better to simply disable them from the init scripts. <br><br><blockquote><h3>  Mounting root FS in RO mode </h3><br>  If you have music on a different storage device than the system, it makes sense to install the root file system in read only mode when downloading.  The easiest way to do this is to write the appropriate option in / etc / fstab.  However, this will require placing all mutable parts on other sections or removing the programs that generate this data, which is sometimes not entirely simple. <br>  Another way is to use unionfs / aufs / overlayfs ‚Äî these file systems allow you to combine both RO and RW in one mount point - the latter can be placed in RAM.  This technique is used to create live distributions.  More information on how to do this can be found on the <a href="http://bit.ly/17BmZbf">page</a> . <br></blockquote><br><h1>  MPD clients </h1><br>  Are there other clients for MPD?  Of course have.  Moreover, having multiple clients is one of the features of this daemon.  Some of them will describe in more detail. <br><br><ul><li>  Ncmpc is a fairly simple MPD client based on ncurses.  Unfortunately, it is not very convenient to work with playlists. </li><li>  But another client on ncurses - ncmpcpp is in this sense much more pleasant.  It has a search by tags. </li><li>  The xfce client, xfmpc, is notable for its minimalism and lack of extra features. </li><li>  Another graphical client, Sonata, allows, among other things, to download album covers and lyrics from the Internet and has a large number of settings.  For example, it supports work with several MPD servers.  True, the settings window is not too intuitive. </li><li>  QMPDClient, as the name implies, is a Qt-client and looks like a very powerful player - but not very impressed.  Nevertheless, we note the possibility of automatically deleting the already played composition from the playlist. </li></ul><br><br>  We should also mention clients for communicators.  For Android, there were MPDroid and DroidMPD on Google Play.  Which one to choose is a matter of taste;  The interface of the second seemed somewhat coarse.  For iPhone / iPod, MPoD is popular, for iPad there is a specialized version - MPaD. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/797/098/09d/79709809d20c893cfe880554670d092b.jpg" alt="The MPDRoid interface is pretty cute."><br>  The MPDRoid interface is pretty cute. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/95a/018/cb5/95a018cb5a3b8b51c3e54e44b063e7f1.jpg" alt="MPoD: iPhone Client"><br>  MPoD: iPhone Client <br><br><br><br><h1>  Around Audio Distributions </h1><br>  There are many distributions for working with sound - from minimalistic, to work exclusively as an audio center without a monitor with network control, to sophisticated ones with a bunch of sequencers and VST plug-ins.  All of them, of course, can not be described, but a small overview of the individual does not hurt.  And we will start with Voyage MPD. <br><br>  <a href="http://linux.voyage.hk/voyage-mpd">Voyage MPD</a> is an embeddable distribution based on Debian 7.1.  The latest version at the time of this writing contains MPD 0.18, kernel 3.8.13 with the latest ALSA drivers, Meshlium-based web interface, DoP support (DSD over PCM, packaging DSD into PCM frames) is also announced.  There is a Voyage MPD Starter Kit that allows you to build an audio station.  The cost of a set of 149 dollars, but the sound card is not included. <br><br>  <a href="http://www.64studio.com/">64 Studio</a> is a distribution kit (again on Debian), positioned as sharpened for creating media content.  It has the following features: low-latency core, sequencers such as Rosegarden, Ardour - multitrack sound editor ... However, the distribution has not been updated since 2008. <br><br>  <a href="http://ubuntustudio.org/">Ubuntu Studio</a> - as they say, no comment.  In fact, the same Ubuntu with XFCE, sharpened by the creation of multimedia content.  Nothing special stands out - except for the low-latency kernel and the ability to put a meta package on a regular Ubuntu and turn it into a given distribution. <br><br>  <a href="http://www.bandshed.net/AVLinux.html">AV Linux</a> , despite the name, is not an antivirus for Linux, but another distribution for working with audio and video.  Of the features, it can be called that it includes not only free software, but also demos of proprietary products such as LinuxDSP and Mixbus. <br><br><blockquote><ul><li>  <a href="http://www.linuxmusicians.com/">Lots of info about Linux music</a> </li><li>  <a href="http://bit.ly/14WQQXS">Detailed description of Bryston BDP ‚Äì 2 from distributor</a> </li></ul><br></blockquote><br><br><h1>  Results </h1><br>  Linux can be used both as software for audio centers, and as software for professional work with sound.  And if the first aspect is even more or less visible (although there are some subtleties here, as one could see from the above), then professional work with sound is so diverse that you will not embrace it in the framework of the book.  The article, however, did not pursue such a goal - we just wanted to show that a system can be built on the basis of an ancient company, the sound quality of which will not be inferior to equipment worth thousands of dollars. <br><br><blockquote><h3>  Optimal BIOS settings </h3><br>  Here are some BIOS settings that are recommended to be tweaked to improve performance: <br><br><ul><li>  If there is HyperThreading, it is better to disable it. </li><li>  Video BIOS shadow is also better off. </li><li>  For PCI devices, turn off the PCI Delay Transaction option because it increases latency. </li><li>  Disable all unnecessary embedded devices. </li></ul><br></blockquote><br><img src="https://habrastorage.org/getpro/habr/post_images/83b/b9e/0e6/83bb9e0e6cf8f31f55bbb31d1298a604.jpg"><br>  <i>First published in the magazine "Hacker" from 08/2013.</i> <br><br>  <a href="http://issuu.com/xakep_magazine/docs/xakep_-_prikladnaya_audiofiliya">Publication on Issuu.com</a> <br><br>  Subscribe to "Hacker" <br><ul><li>  <a href="http://bit.ly/habr_subscribe_paper">Paper version</a> </li><li>  <a href="http://bit.ly/xakep_on_ipad">Hacker on iOS / iPad</a> </li><li>  <a href="http://bit.ly/habr_android">"Hacker" on Android</a> </li></ul><br><br> <a href="http://bit.ly/xakep_on_ipad"><img src="https://habrastorage.org/getpro/habr/post_images/6d3/e39/90b/6d3e3990b645b719835d84e9c02699ef.png"></a> <br><br> <a href="http://bit.ly/habr_android"><img src="https://habrastorage.org/getpro/habr/post_images/117/fc7/5d3/117fc75d3fe93b8601be69119c2ecd88.jpg"></a> </div><p>Source: <a href="https://habr.com/ru/post/203598/">https://habr.com/ru/post/203598/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../203582/index.html">Contest: Telegram for Windows Phone - 3 million rubles in the first round</a></li>
<li><a href="../203584/index.html">SMM's rest, the programmer is working. Automatically Voyager VKontakte</a></li>
<li><a href="../203586/index.html">Monte Carlo simulation of the blogosphere</a></li>
<li><a href="../203592/index.html">Dynamic access control: what resources are</a></li>
<li><a href="../203594/index.html">Will lawyers replace the laptop on the tablet?</a></li>
<li><a href="../203602/index.html">Pochta Rossii invites private carriers and implements GLONASS</a></li>
<li><a href="../203608/index.html">Order Nexus 5 D821 from Japan</a></li>
<li><a href="../203610/index.html">Ideal site - TK as the basis of the site, built on the basis of competent software solutions</a></li>
<li><a href="../203612/index.html">Turn any webcam into a powerful microscope</a></li>
<li><a href="../203618/index.html">Introducing Coarray Fortran: will we be parallel?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>