<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How we adjusted the process from storage to software licensing: SupplyLab project</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Positive Technologies is a grocery company. This means that we develop a large number of products , and it is important to understand that all of them...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How we adjusted the process from storage to software licensing: SupplyLab project</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/company/pt/blog/314216/"><img src="https://habrastorage.org/files/ede/35e/51b/ede35e51b96343959c8d8b4300b9efe0.jpg"></a> <br><br>  Positive Technologies is a grocery company.  This means that we develop a <a href="https://www.ptsecurity.com/ru-ru/products/">large number of products</a> , and it is important to understand that all of them are boxed.  Accordingly, we need to somehow deliver the solutions we have developed to the infrastructure of the final customer.  Moreover, our software often has a complex configuration - there are many different components in it that must be installed on different target machines, and these computers have different roles, etc. <br><br>  That is, we need to be able to release and deliver products through the Internet, and then also deploy them on the final infrastructure.  In addition, we must not forget that not all customers buy everything they can - each product has its own types of licenses, implying access to certain functionality.  So, you need to somehow make sure that our software not only gets to the client, but he can use exactly what he paid for. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To solve all these problems, we decided to develop a common system for publishing and updating software.  The project was named SupplyLab, and today we would like to talk about this tool in more detail. <a name="habracut"></a><br><br><h4>  What should be able to system </h4><br>  Before proceeding to the creation of the system, we conducted an analysis and identified several of its functional features.  So, she should be able to: <br><br><ul><li>  store release builds; </li><li>  publish them; </li><li>  license; </li><li>  filter; </li><li>  deliver software to customer infrastructure; </li><li>  deploy it on this infrastructure; </li><li>  configure the product for specific customer tasks. </li></ul><br>  All these tasks are performed by a huge number of programs and components, for example, storage can be performed using Yum and Nuget, licensing using Guardant and Gemalto Sentinel, and SaltStack or Ansible can be used for deployment.  And how to combine all this diversity, and even make this solution cross-platform, running on any customer infrastructure (which we know nothing about in advance)? <br><br><h4>  SupplyLab: striving for the best combination. </h4><br>  As a result, we developed a system called SupplyLab, which combines a number of tools. <br><br><ul><li>  SaltStack is responsible for deployment; </li><li>  Own Global Update Server (GUS) is used to publish updates; </li><li>  Front Local Update Server (FLUS) is needed for delivery; </li><li>  Artifactory - this system was chosen as a package repository; </li><li>  LicenseLab - we could not find a ready-made licensing system on the market that would suit us, so we have to create it ourselves on the basis of Guardant and Gemalto Sentinel. </li></ul><br><img src="https://habrastorage.org/files/5a8/562/a2e/5a8562a2e9734e39b70358bbc9574541.png"><br><br>  Let's talk about how the code "lives" in our system.  After assembly, the package is stored in the Artifactory, then the release manager publishes it to the Global Update Server (this can be done automatically by selected criteria), and from there the code goes to Front Local Update servers that are deployed at specific sites.  These servers are accessed by the SaltStack deployment tool - at the time of such a call, licensing is filtered (can the client get the update code). <br><br><img src="https://habrastorage.org/files/9fe/9d2/005/9fe9d2005c284b2ebcbdb99aa0809132.png"><br><br>  One of the most important elements of the system is the licensing mechanism, which we get the name LicenseLab.  Now we are developing this tool.  At the moment, the ideology assumes the existence of a large number of licenses for one customer, and in each license there can be many soft keys. <br><br>  In the end, the update deployment scheme using SupplyLab from the very beginning to the last stage looks like this: <br><br><img src="https://habrastorage.org/files/e36/0b3/70b/e360b370bf8f4832ad4d0d10c36c4f73.png"><br><br>  We will be able to present the results of implementation and performance analysis of the system we are developing for SupplyLab next year. <br><br><h4>  Plans </h4><br>  We are not satisfied with what has been achieved, it is obvious that we still have a lot of work to do.  In the future, we plan to refine the system and introduce new components into it.  In particular, in the plans: <br><br><ul><li>  Creating a common LicenseServer on the customer side; </li><li>  Identification of the installation of the customer will be carried out through the developed LicenseServer. </li><li>  We also plan to expand the number of software and hardware manufacturers in order not to become attached to solutions of any one company. </li><li>  In addition, we want to establish integration with CMS key manufacturers (for example, Gemalto) - this simplifies and speeds up work with keys. </li></ul><br>  PS The story about our system SupplyLab was presented within the DevOps-mitap, which took place recently in Moscow. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  The individual parts of the SupplyLab system will be uploaded to the <a href="https://github.com/devopshq">repository of the open community DevOpsHQ</a> as they are completed. <br><br>  The <a href="http://www.slideshare.net/phdays">link</a> presents presentations of 16 reports presented during the event.  All presentations and video presentations will be added to the table at the end of this <a href="https://habrahabr.ru/post/310584/">topic-announcement</a> . <br><br>  <b>Author</b> : <a href="https://ru.linkedin.com/in/alexander-pazdnikov-90a98a71">Alexander Pazdnikov</a> </div><p>Source: <a href="https://habr.com/ru/post/314216/">https://habr.com/ru/post/314216/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../314204/index.html">Automatically generated CMS using your ready-made GraphQL scheme</a></li>
<li><a href="../314206/index.html">November 2 - the most IT day of the year</a></li>
<li><a href="../314208/index.html">Announce Dart Sass</a></li>
<li><a href="../314210/index.html">Development Indie RPG: analysis of two years of development</a></li>
<li><a href="../314212/index.html">Monitoring Docker Hosts, Containers, and Container Services</a></li>
<li><a href="../314218/index.html">Optimal Spline Approximation</a></li>
<li><a href="../314220/index.html">goader - console benchmark with a bias for writing and reading files</a></li>
<li><a href="../314222/index.html">Artificial intelligence in the search. How Yandex learned to use neural networks in order to search by meaning, not by words</a></li>
<li><a href="../314224/index.html">Video recordings of the best reports of the .NET conference DotNext 2016 Piter</a></li>
<li><a href="../314226/index.html">We continue to check Microsoft projects: PowerShell analysis</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>