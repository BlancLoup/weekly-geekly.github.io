<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What will happen on February 1, 2020?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="TL; DR: starting from February 2020, DNS servers that do not support processing DNS requests over both UDP and TCP may stop working. 

 This is a cont...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What will happen on February 1, 2020?</h1><div class="post__text post__text-html js-mediator-article">  <b>TL; DR: starting from February 2020, DNS servers that do not support processing DNS requests over both UDP and TCP may stop working.</b> <br><br>  <i>This is a continuation of the post <a href="https://habr.com/ru/company/qrator/blog/437334/">‚ÄúWhat-What Happens on February 1?‚Äù</a> Dated January 24, 2019. The reader is recommended to briefly read the first part of the story in order to understand the context.</i> <br><br><img src="https://habrastorage.org/webt/2j/5v/am/2j5vamvtlksxrjkvy2wg4e0cipa.png" height="300" width="300" align="left">  Bangkok, in general, is an amateur place.  Of course, there is warm, cheap, and the kitchen is interesting, and half of the world's population <a href="https://en.wikipedia.org/wiki/Visa_policy_of_Thailand">do not need to get a</a> visa there in <a href="https://en.wikipedia.org/wiki/Visa_policy_of_Thailand">advance</a> , but you still need to get used to the smells, and the city streets force you to recall the cyberpunk classics at best. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In particular, the landscape on the left is observed not far from the center of the capital of Thailand, one street from the Shangri-La hotel, where the 30th meeting of the DNS-OARC organization, a non-profit organization dedicated to security, stability and development of the DNS domain name system, took place on May 12-13. . <br><br>  <a href="https://indico.dns-oarc.net/event/31/timetable/">Slides from the DNS-OARC 30 program</a> are recommended in principle to anyone who is interested in the work of the DNS, but the most interesting, perhaps, is what was not in the slides.  Namely, a 45-minute round table with a discussion of the results of DNS Flag Day, <a href="https://habr.com/ru/company/qrator/blog/437334/">which occurred</a> on February 1, 2019. <br><br>  And the most interesting thing in the round table is the decision that the <b>practice of <a href="https://dnsflagday.net/">DNS Flag Day</a> will continue</b> . <br><a name="habracut"></a><br><h2>  Problems, officer? </h2><br><img src="https://habrastorage.org/webt/tj/e_/g_/tje_g_ybor-h7jzyebfv4prr8b0.png" width="300" height="300" align="right">  As shown by various <a href="https://indico.dns-oarc.net/event/31/contributions/681/attachments/669/1110/flagday-in-action-oarc30.pdf">studies</a> , the effect of the first DNS Flag Day has been reduced to a minimum.  Yes, for someone, the adaptation process <a href="https://roskomsvoboda.org/44407/">could become painful</a> , but in the end, almost all outdated DNS servers were updated, and incorrectly configured firewalls were configured correctly. <br><br>  Accordingly, the organizers of Flag Day perceive the incident as a great victory and, inspired by the success, are not going to stop there. <br><br>  During the round table, the following <a href="https://github.com/dns-violations/dnsflagday/issues">tasks</a> were discussed, which the upcoming ‚Äúflag days‚Äù could help accomplish: <br><br><ul><li>  Support for <a href="https://tools.ietf.org/html/rfc6891">negotiation of the EDNS version</a> on public DNS servers; </li><li>  Support for rANdoMizIiI capital and lowercase characters in DNS queries <a href="https://dyn.com/blog/use-of-bit-0x20-in-dns-labels/">to increase the entropy</a> contained in the requests and responses; </li><li>  DNS over TCP support on DNS servers (both authoritative and recursive); </li><li>  The implementation of <a href="https://tools.ietf.org/html/rfc8020">RFC 8020</a> , which instructs recursive resolvers to stop accessing the domain and all its subdomains if they receive a response of type NXDOMAIN; </li><li>  Lack of IPv6 support, etc. </li></ul><br>  Ultimately, the decision was made, which was announced at the <a href="https://ripe78.ripe.net/">RIPE 78</a> plenary meeting simultaneously with the publication of this post. <br><br>  Again: from February 2020, DNS servers that do not support processing DNS requests over both UDP and TCP may stop working. <br><br><img src="https://habrastorage.org/webt/zz/8r/mq/zz8rmqcx9k2tx1hok8m7yli4im4.png" width="305" height="145" align="right">  The exact date, however, has not yet been determined.  Most likely, it will be February 1, but the day can be changed.  However, according to the organizers of the DNS Flag Day 2020 (and these are the same individuals and companies as this year), nine months for the implementation of TCP support in existing DNS installations are sufficient, so it hardly makes sense to postpone the event. <br><br><h2>  Over tcp </h2><br>  Today, TCP in DNS is generally supported. <br><br>  The operation of the domain name system using TCP is needed for a number of reasons: <br><br><ol><li>  Delivery of responses that are larger than the path <a href="https://ru.wikipedia.org/wiki/Maximum_transmission_unit">MTU</a> , without using <a href="https://indico.dns-oarc.net/event/31/contributions/692/attachments/660/1115/fujiwara-5.pdf">unreliable</a> IP fragmentation; </li><li>  DNSSEC support; </li><li>  Fighting DDoS attacks, etc. </li></ol><br><img src="https://habrastorage.org/webt/gs/-u/yz/gs-uyzrz5cz60x6qjtj1w6bv9vk.png" width="316" height="178" align="right">  On the client side, DNS over TCP has been supported for a long time by almost any stub resolver, including Windows. <br><br>  In fact, DNS over TCP has long been optional.  As Mark Andrews <a href="https://seclists.org/nanog/2019/Jan/687">notes</a> , the developer of the Bind DNS server, <a href="https://tools.ietf.org/html/rfc1123">RFC 1123</a> (published in 1989) made it possible not to implement the processing of DNS queries and responses over TCP only if the server operator understands the consequences and is able to support the full functionality of the DNS protocol without TCP.  To date, the latter is simply impossible. <br><br>  An analysis of 34 million domains out of 59 <a href="https://en.wikipedia.org/wiki/List_of_Internet_top-level_domains">TLDs</a> shows that the requirement to use TCP today leads to problems in approximately 7% of domains.  For comparison, in November 2018 - 3 months before the first DNS Flag Day - problems with EDNS had 5.68% of tested sites. <br><br>  Of these 7%: <br><br><ul><li>  90% of the problems associated with the work of authoritative servers of 10 companies; </li><li>  68% of problems are locked on the servers of <i>one single company</i> - the Chinese operator Hichina; </li><li>  Together with other problem Chinese providers - AliDNS and Xinnet - this share is already 72%; </li><li>  Half of the list also had problems with EDNS in November 2018, but successfully solved them. </li></ul><br>  Flag Day organizers have reached a consensus that thousands of operators that make up the DNS community should no longer pay for crutches for a couple of dozen companies that are not updating their servers. <br><br>  An important point, like last time, can be consequences not only for owners of DNS servers, but also for network administrators who block access to port 53 / TCP on the firewall. <br>  <b>By February 2020, access via port 53 / TCP to DNS servers should work</b> . <br><br><img src="https://habrastorage.org/webt/ru/r2/ux/rur2uxzg3001fvndbc6q7gb6yau.png" width="309" height="244" align="right"><h2>  And then what? </h2><br>  Of course, the Flag Day organizers will update <a href="https://dnsflagday.net/">their site</a> and add DNS Flag Day 2020 information and utilities to check any domains for compliance with 2020 requirements. <br><br>  Do not forget to carry out such a check before the end of the year, in order to make sure that you have no problems. <br><br>  Libor Peltan from CZ.NIC will talk in detail about the plans of DNS Flag Day 2020 at the upcoming <a href="https://www.enog.org/enog-16/ru/programme/agenda/">meeting of the Eurasian group of network operators ENOG in Tbilisi</a> on June 3-4.  The translation with translation into Russian will be available in real time on the site, in the same place (and in the <a href="https://t.me/enogtalk">ENOG Talk</a> Telegram-chat) you can ask questions. <br><br>  You can also follow what's happening <a href="https://twitter.com/dnsflagday">on Twitter</a> . <br><br>  DNS Flag Day 2021 will most likely be planned on a similar schedule, starting with DNS-OARC 32 in the spring of 2020.  Applications for crutches, which should have been buried long ago, are accepted and collected <a href="https://github.com/dns-violations/dnsflagday/issues">on Github</a> . </div><p>Source: <a href="https://habr.com/ru/post/452816/">https://habr.com/ru/post/452816/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../452800/index.html">Microbiota How intestinal bacteria affect diseases</a></li>
<li><a href="../452802/index.html">How to connect the script to a third-party site</a></li>
<li><a href="../452804/index.html">I quit my dream job because I can't stand product development</a></li>
<li><a href="../452806/index.html">Interview - 10 questions about Swift. Part 2</a></li>
<li><a href="../452812/index.html">I received a check from Knut for $ 0x 3.00</a></li>
<li><a href="../452824/index.html">Tens of thousands of purchases that are transparent as glass: unraveling a tangle</a></li>
<li><a href="../452826/index.html">English grammar. Than vs. Then - how to understand which word to use</a></li>
<li><a href="../452828/index.html">Mission Impossible: How to make the first business event in an unfamiliar country</a></li>
<li><a href="../452830/index.html">Big Bang Sparks</a></li>
<li><a href="../452832/index.html">Full plan of the new lunar NASA program "Artemis" (Artemis)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>