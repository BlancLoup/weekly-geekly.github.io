<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Distributed computing on JavaScript: Today</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Currently, there is a huge number of networks of distributed computing. I counted about 30. The largest ones are Folding @ home , BOINC , SETI @ home ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Distributed computing on JavaScript: Today</h1><div class="post__text post__text-html js-mediator-article">  Currently, there is a huge number of networks of distributed computing.  I counted about 30. The largest ones are <a href="http://ru.wikipedia.org/wiki/Folding%40home">Folding @ home</a> , <a href="http://ru.wikipedia.org/wiki/BOINC">BOINC</a> , <a href="http://ru.wikipedia.org/wiki/SETI%40home">SETI @ home</a> , <a href="http://ru.wikipedia.org/wiki/Einstein%40Home">Einstein @ Home</a> , <a href="http://ru.wikipedia.org/wiki/Rosetta%40home">Rosetta @ home</a> (several dozen dissertations were written according to the results of their calculations).  They calculate everything that can only be calculated distributed - from the selection of md5 passwords to the simulation of protein coagulation. <br>  Each of these networks has an unusually high performance and includes millions of nodes.  The performance of each is comparable to the performance of a supercomputer. <br><ul><li>  Rosetta @ home - more than 110 TFlops </li><li>  Einstein @ Home - more than 355 TFlops </li><li>  SETI @ home - more than 560 TFlops </li><li>  BOINC - more than 5.6 Pflops </li><li>  Folding @ home - more than 5.9 Pflops </li><li>  Bitcoin - more than 9.4 Pflops </li></ul>  Compare with supercomputers: <br><ul><li>  Blue Gene / L (2006) - 478.2 TFlops </li><li>  Jaguar (supercomputer) (2008) - 1.059 Pflops </li><li>  IBM Roadrunner (2008) - 1.042 Pflops </li><li>  Jaguar Cray XT5-HE (2009) - 1.759 Pflops </li><li>  Tianhe-1A (2010) - 2.507 Pflops </li><li>  IBM Sequoia (2012) - 20 Pflops </li></ul> And now, let's calculate the existing unused potential of Internet users: <br>  According to calculations at the end of 2010, the Internet users were about 2 billion (2 billion). <br>  Each user has at least 1 processor core with a capacity of at least 8 Gflops (AMD Athlon 64 2.211 GHz). <br><br>  According to simple mathematical calculations, the performance of such a network will be: <br>  <code>8 * 10 <sup>9</sup> * 2 * 10 <sup>9</sup></code> = <b>16 Exaflops</b> (10 <sup>18</sup> ). <br>  Such a network is <b>800</b> times more productive than a non-built IBM Sequoia (2012), <b>1700</b> times more productive than a Bitcoin network and more productive than all supercomputers and computer networks combined!  Now the number of PC and Internet users is growing, and the number of cores is growing.  Of course, this number (16 exaflops) is perfect, no one will calculate 24/7, but if each user calculates at least 2 minutes a day (which, in principle, is more than realistic), then such a network will compare with IBM Sequoia. <br><br>  Now distributed browser-based computing networks in JavaScript are more than real. <br><a name="habracut"></a><br>  This article is a logical continuation of my article a year ago: <a href="http://habrahabr.ru/blogs/subconsciousness/87274/">Distributed computing in javascript</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>What has changed over the year and what prevented the creation of a computer network a year ago?</i> <br>  Almost all good browsers for the year received WebWorkers, localStorage, SQL DB, IndexedDB.  A year ago, nothing prevented us from calculating in the main JavaScript stream and using Flash Storage, but the calculation in the main stream is a terrific source of lags, and Flash Storage is limited in volume.  A year ago, we would have got a distributed network-disabled: laguyu, crutch, obsessive. <br>  Now, with the help of WebWorkers, we can utilize 100% of the resources of the 1st processor core, if there are 2 workers, then 2 cores (distribution of cores by cores depends on the implementation of the workers in a particular browser).  We are practically not limited by the amount of stored data: 50Mb IndexedDB (Firefox) + 5Mb localStorage + some more storage.  These 55 + MB will be enough for us to store task data and intermediate data.  At the end of 2010, in 2011, the unusual quickly began to develop. Node.js.  I believe this is the perfect solution for a distributed computing server. <br><br>  <b>We have</b> : Suitable technologies Node.js + WebWorkers + localStorage + IndexedDB.  2000000000 Internet users, whose number is increasing.  The number of cores is growing and their performance is increasing.  Every month browsers are getting faster and faster.  Now is the time to send this stream of non-reclaimed capacity of 16 Exaflops in the right direction! <br><br><h4>  Where can clients be embedded networks? </h4><br>  While you are viewing the page, your processor is loaded at 10-20%, while you are watching a YouTube video, your processor is loaded at 30-50% (I don‚Äôt think more).  You have to watch ads and annoying flash banners that can load your processor.  Imagine that instead of viewing annoying banners and advertisements, you are asked to calculate for a good cause: you watch videos from YouTube, but at this time your browser calculates protein folding for Folding @ home.  Imagine that while you are downloading a file from your favorite file hosting service, at this time your browser is calculating something useful for it you are not watching ads (I know adBlock very well).  Imagine that while you are reading this article your browser is calculating something useful.  In addition, each user who comes to the site, does something useful for the site, something that can bring income or benefit to society.  Utopian, but realizable. <br><br><h4>  What can be calculated? </h4><br>  Any task that needs a number thrasher: brute force tasks, training neural networks, etc.  and which is calculated in parallel, because according <a href="http://ru.wikipedia.org/wiki/%25D0%2597%25D0%25B0%25D0%25BA%25D0%25BE%25D0%25BD_%25D0%2590%25D0%25BC%25D0%25B4%25D0%25B0%25D0%25BB%25D0%25B0">to Amdal's Law,</a> distributed computing is most effective only if the task does not have consecutive calculations, i.e.  Calculations of one node are independent of the data of another. <br><br>  Interesting?  Let's make such a network! <br><br><h4>  Example of distributed computing: Password selection from md5 hash </h4><br>  In the example, I will show what network architecture can be selected for this task.  We will select a password length of 8 or less characters, the alphabet of 96 or less characters from the md5 hash.  It is clear that, one way or another, the problem is solved only by complete brute force.  We will not use password dictionaries or any tricky schemes - just brute force. <br><br><h5>  Distribution of tasks </h5><br>  We have a maximum of 96 <sup>8</sup> potential passwords.  Let us give each password a number in the 10-d system from 1 to 96 <sup>8</sup> .  Now each password can be obtained by translating the number in the 10-level system into the 96- <code>from10toN</code> system ( <code>from10toN</code> ), using a non-tricky conversion and alphabet: <br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> alphabet = <span class="hljs-string"><span class="hljs-string">"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKL"</span></span> + <span class="hljs-string"><span class="hljs-string">"MNOPQRSTUVWXYZ+/*-\\?=`~!@#$%^&amp;*()_{}[];:'\"|.,&lt;&gt; "</span></span>, alphabetLength = alphabet.length; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">from10toN</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">number, base</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!base || base &gt; alphabetLength) { base = alphabetLength; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (base &lt; <span class="hljs-number"><span class="hljs-number">2</span></span>) { base = <span class="hljs-number"><span class="hljs-number">2</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (number &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { result = alphabet.charAt(number % base) + result; number = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(number / base); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> <br>  Each task will contain a span of 400,000 passwords for matching (Google Chrome calculates about 200,000 md5 per second).  In total, we have 18034739475 tasks - a lot, but not so hopeless as with a password of 16 characters ... It may happen that the client took the task, but did not complete it.  For each task, add the time after which it will become obsolete - expires. <br><br>  The network client's logic is elementary - in the loop we loop through the passwords from N1 to N2 for each one we find md5, the resulting hash is compared with the standard.  If the hashes match, send the password to the server, otherwise the empty string: <br><pre> <code class="javascript hljs">EcdcWorker.prototype.calculateSync = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id, data</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> maxPasswordId = data.max, password, alphabetBase = data.base, hash = data.hash; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = data.min; i &lt;= maxPasswordId; i++) { <span class="hljs-comment"><span class="hljs-comment">//       //   md5 password = from10toN(i, alphabetBase); if (md5(password) === hash) { // tada! return {id: id, data: password}; //  } } return {id: id, data: ""}; //   };</span></span></code> </pre> <br><h5>  Customer Logic </h5><br>  1. The client comes to the server, is authorized <br>  2. The client loads computing scripts and other intermediate logic. <br>  3. The client deletes outdated tasks from the Storage. <br>  4. The client starts the Workers (the number depends on the settings) <br>  5. The client checks the tasks (in the Storage) that were completed but not delivered to the server ‚Äî Sends these tasks through Workers <br>  6. Each Worker requests the tasks from the Server or takes the tasks not completed from the Storage via the Client (1 or more) <br>  7. Client saves tasks in the Vault (in case the page is reloaded) <br>  8. Each Worker begins to calculate his task. <br>  9. After the task is completed, the worker will save the solution to the Vault (in case the page is reloaded or the server is not available) <br>  10. The worker sends the task solution to the Server (and so on from point 6) <br><br>  While the client performs the task, other clients (scripts on other pages in one browser) are blocked. <br><br><h5>  Server Logic </h5><br>  1. Server authorizes Client <br>  2. A request for a task from the Worker comes - the Server checks outdated tasks, if there are any - sends to the client <br>  2.1.  If there are no obsolete tasks, it creates a new task, sends it to the client. <br>  3. A worker sends a response to the task - the Server checks the response, marks the task as completed <br>  3.1.  The server sends the new task to Worker (and so on from point 2) <br>  4. As soon as the Server receives the correct response from the Worker. The server does not stop working - it does not issue any tasks. <br><br><h5>  General scheme </h5><br><pre> <code class="hljs tex"> [Workers: EcdcWorker] / <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>Tasks: XHR / <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>Messages: postMessage / Page: html <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[Server: EcdcServer]</span></span></span></span> ------------ [Browser: EcdcClient] --- [User] | | [Database: Any] [Storage: localStorage]</code> </pre><br><br>  Above was presented a simple scheme of operation of MD5 Bruteforce server, it is practically possible to implement the scheme using the Framework for building distributed computing networks <a href="https://github.com/azproduction/javascript-ecdc">JavaScript ECDC</a> <br><br><h4>  Result </h4><br>  What happened with me you can see here: <a href="http://ecdc.nodester.com/">Password Recovery Server from md5 hash</a> (when you first log in, you will get the message "You are unauthorized. Login"), <i>you can use any email or any name, they are used to maintain your statistics - your contribution to the amount of computation (stored as md5 hash)</i> . <br><br>  Statistics of password selection can be found <a href="http://ecdc.nodester.com/stat.html">here</a> (authorization is required). <br>  The web client works only in browsers with support for Workers, localStorage, JSON, XMLHttpRequest.  If you enter the phrase "You are calculating md5", then you are a teacher in the calculation, hooray!  I have enabled the work log of the workers, what they do, you can see in any console. <br>  You can embed a calculation frame on your page; its code can be found in the source code of the main page. <br><br><h4>  Links </h4><br>  1. A <a href="http://ecdc.nodester.com/">working example of a password guessing server</a> <br>  2. <a href="http://ecdc.nodester.com/stat.html">Password selection statistics</a> (authorization on the main one is required) <br>  3. <a href="https://github.com/azproduction/javascript-ecdc">JavaScript Framework for building distributed computing networks</a> <br>  4. Source code of the server in the example: <a href="">md5-bruteforce-server.js</a> , <a href="https://github.com/azproduction/javascript-ecdc/tree/master/examples/md5-bruteforce-server/">md5-bruteforce-server /</a> <br><br><h4>  Conclusion </h4><br>  The system proved its viability (in the test, I successfully picked up a 3-character password, but seriously!) It remains to check it for fairly large amounts of users, one check the hosting potential of the nodester. <br><br>  Do you participate in any distributed computing?  Do you think there is a future for browser-based distributed computer networks?  Did you want to calculate something useful instead of watching ads and watching videos from YouTube? <br><br>  Criticism, suggestions, suggestions are welcome! </div><p>Source: <a href="https://habr.com/ru/post/119692/">https://habr.com/ru/post/119692/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../119685/index.html">Music Player Interface: Ergonomics and Design</a></li>
<li><a href="../119686/index.html">The impact of internal optimization on successful website promotion in search engines. Part 1</a></li>
<li><a href="../119687/index.html">Registration for a free seminar for web developers is open!</a></li>
<li><a href="../119689/index.html">We pay mobile via Bitcoin</a></li>
<li><a href="../119691/index.html">The developers have created a compact system of a pulse oximeter and a mobile phone to quickly obtain patient vital signs.</a></li>
<li><a href="../119693/index.html">Build open-source libraries on Android NDK</a></li>
<li><a href="../119694/index.html">Typed Arrays</a></li>
<li><a href="../119695/index.html">Free Wi-Fi with a little twist</a></li>
<li><a href="../119696/index.html">Likester. Facebook Trends</a></li>
<li><a href="../119697/index.html">Creating a simple 3D application with ShiVa3D</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>