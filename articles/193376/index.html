<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Google Apps script: getting data from Flurry</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello 

 Options for using Google Apps Scripts are many. My friend worked with a foreign customer and he asked every day for a report to him on the ma...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">🔎</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">📜</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">⬆️</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">⬇️</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Google Apps script: getting data from Flurry</h1><div class="post__text post__text-html js-mediator-article">  Hello <br><br>  Options for using Google Apps Scripts are many.  My friend worked with a foreign customer and he asked every day for a report to him on the mail with the text of who did what.  As a result, he asked the staff to track everything into a Google table no later than 21:00, then the script started and collected the data and sent it to the correct address. <br>  In the article I will give a simple and, I think, a useful example of using Google Apps Scripts. <br><br><h4>  What is Google Apps Scripts? </h4><br>  In short, this is a service that allows JavaScript to write scripts running in the Google cloud.  The service provides a wide API, for example, in this article we will create a Google table based on the application metrics from Flurry. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br><h4>  What is the problem to be solved and what would I like to receive? </h4><br>  I work in a company that develops games for mobile platforms for statistics. We use our server data + data from Flurry.  In order to somehow combine all this, I decided to use the services provided by Google and as a result get one report with data and charts. <br><br><h4>  What do you get at the end of this article? </h4><br>  The script which, according to the schedule, requests the application metrics from the Flurry service, parses them and makes a simple Google table (similar to Microsoft excel) with this data and a simple schedule. <br><br><h4>  the main goal </h4><br>  I do not set the goal of creating a benchmark statistics report.  I was surprised by the availability of such functionality and decided to share a little experience in the form of a test script. <br><br><h4>  Let's start with simple steps. </h4><br><h5>  What is needed? </h5><br><ul><li>  gmail account </li><li>  Flurry account </li></ul><br><h5>  Gmail setup </h5><br><ol><li>  Go to the “Google Drive” tab </li><li>  Click the “Create” button <br><img src="https://habrastorage.org/storage3/0a1/a76/a02/0a1a76a0241cc6bf250abd071e222771.png" alt="image"></li><li>  Click the “Connect more apps” button </li><li>  A window will open and enter “google script” in the search bar <br><img src="https://habrastorage.org/storage3/c76/a01/baa/c76a01baa1a5668dd5af55411e793f43.png" alt="image"></li><li>  On the “Google Apps Script” application, click “+ connect” </li><li>  On dialogs, click Ok </li><li>  On the “Google Drive” tab, click the “Create” button and create a “Script” <br><img src="https://habrastorage.org/storage3/861/d2b/614/861d2b61424fac3a67a3ec610390753b.png" alt="image"></li><li>  Choose “Blank project” <br><img src="https://habrastorage.org/storage3/96b/2de/3f3/96b2de3f3195da215b82bcd020cef7ee.png" alt="image"></li><li>  A window opens with the project.  In the upper right corner, double-click on the project name and rename it to “Flurry statistic”, in the left panel, right-click on the script name and rename it to “createStatisticReport” </li><li>  At the root of your “Google Drive” create a folder “Statistic” </li><li>  Now we are ready to write the first Google apps script. </li></ol><br><h5>  Flurry setup </h5><br>  I mean that you already have a configured Flurry account with data. <br><br>  For programmatic access to data from Flurry follow the link: <br>  <a href="http://support.flurry.com/index.php%3Ftitle%3DAPI/GettingStarted">support.flurry.com/index.php?title=API/GettingStarted</a> <br><br>  As a result, you will receive a key that you need to save for use in the script. <br>  You also need the “ProjectApiKey” from Flurry, which you are already using in the mobile application. <br><br><h4>  We write a script </h4><br>  More precisely, everything is already written, then I will just describe how to run it. <br>  Follow the link and take the scripts texts <a href="https://github.com/chapayGhub/flurrymetricstospreadsheet">github.com/chapayGhub/flurrymetricstospreadsheet</a> <br>  In the project that we created before, you need to create the same. <br><br>  Now, after you've done everything, open Settings.gs and in it <br>  Enter your Flurry keys <br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//store Flurry credentials FlurryCredentials = (function() { var obj = {}; obj.AccessCode = '?????'; obj.ApiKies = { iPad: '????', }; return obj; })();</span></span></code> </pre> <br><br>  Then enter your e-mail name, it is better from Google (I have not checked the others) <br><pre> <code class="javascript hljs">obj.emails = [<span class="hljs-string"><span class="hljs-string">"?????email1"</span></span>, <span class="hljs-string"><span class="hljs-string">"?????email2"</span></span>, <span class="hljs-string"><span class="hljs-string">"?????email3"</span></span>];</code> </pre><br><br>  The script is configured to receive application metrics from Flurry + to your mailbox will receive a letter that you added as an editor. <br><br><h4>  Launch and debass </h4><br>  In the left pane, select the script “CreateStatisticReport” <br>  In the top panel near the button with the bug in the drop-down list, select "makeStatisticReport" <br><img src="https://habrastorage.org/storage3/245/90a/386/24590a3861b56221da390e3358d64869.png"><br><br>  Now everything is just the top panel has two “super” buttons that any programmer can understand. <br><br><h4>  Scheduled run </h4><br>  Follow the steps in the pictures <br><img src="https://habrastorage.org/storage3/5fb/5ef/77e/5fb5ef77e6e261f03243f2530fa83634.png"><br><br><img src="https://habrastorage.org/storage3/d24/efd/b47/d24efdb47fe1072c9036afa506ff406d.png"><br><br><img src="https://habrastorage.org/storage3/921/c13/c75/921c13c75564ec077d28cf5d0682dd82.png"><br><br><h4>  Nuances </h4><br><h5>  Make the script work every time with one document. </h5><br>  Immediately run on the execution is not on debag.  A document should be created in the “Statistic” folder and letters will come to you in the mail, one of which will contain the identifier of the created document. <br>  Assign it to a variable located in the Settings.gs script. <br><pre> <code class="javascript hljs"> obj.mainStatisticDocID</code> </pre><br>  Now the script will update this particular document and not create a new one every time.  If this parameter is not entered, then at startup the script tries to find a document by a non-existing identifier, naturally does not find it, throws an exception (there may be a stop at this place of execution in debug), but this exception is caught and a new document is created. <br><br><h5>  Logging </h5><br>  Use the following method <br><pre> <code class="javascript hljs">Logger.log(<span class="hljs-string"><span class="hljs-string">"!"</span></span>);</code> </pre><br>  To view the output, select the next item from the menu. <br><img src="https://habrastorage.org/storage3/405/cae/f09/405caef093978ad1364e4d340a693047.png"><br><br><h4>  Help is needed </h4><br>  The browser editor is a convenient thing, but if the script is more voluminous, then it is not very convenient to work in it. <br>  This link below describes how to upload and download a project. <br>  <a href="https://developers.google.com/apps-script/import-export">developers.google.com/apps-script/import-export</a> <br><br>  I had an idea to write a script which, at the entrance, received the project identifier unloaded it on a local disk into separate files.  These files could then be refactored humanly and at the end, again through this script, download back. <br><br>  It seems everything is described, but something did not shoot me). <br><br>  Maybe someone has already done this or have useful links?  I will be grateful. <br><br><h4>  Links </h4><br>  The heading from this point you can begin to search for answers to questions on Google Apps Scripts <br>  <a href="https://developers.google.com/apps-script/">developers.google.com/apps-script</a> <br><br>  Link to how to work with Google Sheets <br>  <a href="https://developers.google.com/apps-script/guides/sheets">developers.google.com/apps-script/guides/sheets</a> <br><br>  Google Sheets API Help <br>  <a href="https://developers.google.com/apps-script/reference/spreadsheet/">developers.google.com/apps-script/reference/spreadsheet</a> <br><br>  PS <br>  I have never worked with such services and have a superficial knowledge of JavaScript, I will be glad to constructive comments. </div><p>Source: <a href="https://habr.com/ru/post/193376/">https://habr.com/ru/post/193376/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../193366/index.html">Build a career in a large organization. Tips & tricks</a></li>
<li><a href="../193368/index.html">7 ways to improve the design process of responsive design</a></li>
<li><a href="../193370/index.html">Run LendWings. Part 1. Belarusian swamp</a></li>
<li><a href="../193372/index.html">Methods for determining the location of the user</a></li>
<li><a href="../193374/index.html">Detailed anatomy of a simple XBMC plugin</a></li>
<li><a href="../193378/index.html">Installing and configuring TeamSpeak 3 servers on VDS</a></li>
<li><a href="../193380/index.html">Guide to designing relational databases (7-9 part of 15) [translation]</a></li>
<li><a href="../193382/index.html">Intel announced Quark, the processor for the "Internet of things"</a></li>
<li><a href="../193384/index.html">Eleven for Skype: now do not need to record anything</a></li>
<li><a href="../193386/index.html">Coming soon: 5th generation microserver ETegro Hyperion ES200 G5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>