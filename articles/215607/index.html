<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>AngularJS and ReactJS or how to make your application faster</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The modern world of programming, and especially the web and javascript is not the same for a long time and has a very large number of tools for a part...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>AngularJS and ReactJS or how to make your application faster</h1><div class="post__text post__text-html js-mediator-article">  The modern world of programming, and especially the web and javascript is not the same for a long time and has a very large number of tools for a particular task.  In today's post, I would like to tell you how to cross the power of AngularJS and the lightning speed of the view - Facebook React. <br><br>  Everyone knows that when we generate a collection in view through Angular, each element of this collection becomes observable.  Of course, I understand and I know that there is a certain set of libraries and solutions for how to get around this, but today this is not about that.  What does React give us?  Well, one of its advantages is the jsx syntax, which is nothing but html in javascript.  It is also possible to create reusable components, inherit them and use all the power that this library allows you to do.  What we get started. <br><a name="habracut"></a><br>  First of all, create a simple project with the commonplace name ng-with-react.  To install the libraries I will use bower.  With it, we install AngularJS, ReactJS and Twitter bootstrap so that our application has at least some presentable appearance.  Create index.html and main.js which will have the code: <br><br><pre><code class="javascript hljs">&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head lang="en"&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;AngularJS with Facebook react&lt;/title&gt; &lt;link rel="stylesheet" href="app/vendor/bootstrap/dist/css/bootstrap.css"/&gt; &lt;style&gt; .user-list .user-item { border-left: none; border-right: none; } .user-list .user-item:last-child { border-bottom: none; } &lt;/style&gt; &lt;script src="app/vendor/angular/angular.js"&gt;&lt;/script&gt; &lt;script src="app/vendor/react/react.js"&gt;&lt;/script&gt; &lt;script src="app/main.js"&gt;&lt;/script&gt; &lt;/head&gt; &lt;body ng-app="app"&gt; &lt;div class="container" ng-controller="MainCtrl as main"&gt; &lt;div class="page-header"&gt; &lt;h1&gt;A experiment with AngularJS and ReactJS&lt;/h1&gt; &lt;/div&gt; &lt;div class="panel panel-default"&gt; &lt;div class="panel-heading"&gt;Just AngularJS&lt;/div&gt; &lt;ul class="list-group"&gt; &lt;li class="list-group-item" ng-repeat="user in users" ng-click="main.getUser(user)"&gt; {{ user.firstName }} - {{ user.lastName }} &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt;</code> </pre> <br>  AND 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ng, React</span></span></span><span class="hljs-function">) </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">var</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">app</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ng</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">module</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'app'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, []</span></span></span><span class="hljs-function">); </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">var</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UserFactory</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> users = [ {<span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">firstName</span></span>: <span class="hljs-string"><span class="hljs-string">"Denis"</span></span>, <span class="hljs-attr"><span class="hljs-attr">lastName</span></span>: <span class="hljs-string"><span class="hljs-string">"Stoyanov"</span></span>, <span class="hljs-attr"><span class="hljs-attr">age</span></span>:<span class="hljs-number"><span class="hljs-number">26</span></span>}, {<span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">firstName</span></span>: <span class="hljs-string"><span class="hljs-string">"Alex"</span></span>, <span class="hljs-attr"><span class="hljs-attr">lastName</span></span>: <span class="hljs-string"><span class="hljs-string">"Alexeev"</span></span>, <span class="hljs-attr"><span class="hljs-attr">age</span></span>:<span class="hljs-number"><span class="hljs-number">24</span></span>}, {<span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">firstName</span></span>: <span class="hljs-string"><span class="hljs-string">"Peter"</span></span>, <span class="hljs-attr"><span class="hljs-attr">lastName</span></span>: <span class="hljs-string"><span class="hljs-string">"Petrov"</span></span>, <span class="hljs-attr"><span class="hljs-attr">age</span></span>:<span class="hljs-number"><span class="hljs-number">21</span></span>}, {<span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-attr"><span class="hljs-attr">firstName</span></span>: <span class="hljs-string"><span class="hljs-string">"Ivan"</span></span>, <span class="hljs-attr"><span class="hljs-attr">lastName</span></span>: <span class="hljs-string"><span class="hljs-string">"Ivanov"</span></span>, <span class="hljs-attr"><span class="hljs-attr">age</span></span>:<span class="hljs-number"><span class="hljs-number">20</span></span>} ]; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">users</span></span>: users }; }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> UserCtrl = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$scope, $log, User</span></span></span><span class="hljs-function">) </span></span>{ $scope.users = User.users; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getUser = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">user</span></span></span><span class="hljs-function">) </span></span>{ $log.info(<span class="hljs-string"><span class="hljs-string">'A selected user %O'</span></span>, user); }; }; app.factory(<span class="hljs-string"><span class="hljs-string">'User'</span></span>, [UserFactory]); app.controller(<span class="hljs-string"><span class="hljs-string">'MainCtrl'</span></span>, [<span class="hljs-string"><span class="hljs-string">'$scope'</span></span>, <span class="hljs-string"><span class="hljs-string">'$log'</span></span>, <span class="hljs-string"><span class="hljs-string">'User'</span></span>, UserCtrl]); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> app; })(angular, React);</code> </pre><br>  Respectively. <br><br>  What we have in the arsenal now.  We have the simplest application on ng in which there is a simple controller and service that gives fake data.  On the presentation side, we have a simple list that renders our data.  We also have a handler by clicking on the element that writes the user to the console.  It's pretty simple and easy. <br>  Now let's create a new directive to display the same data, but only through ReactJS.  As befits the best houses in Paris, we should use directives to manipulate the DOM.  First, create a React class to render the list.  Its code will look something like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> UserList = React.createClass({ <span class="hljs-attr"><span class="hljs-attr">displayName</span></span>: <span class="hljs-string"><span class="hljs-string">"UserList"</span></span>, <span class="hljs-attr"><span class="hljs-attr">render</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> users = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.scope.users; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> scope = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.scope; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> userList = users.map(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">user, index, array</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> clickHandler = scope.$apply.bind(scope, scope.userSelected.bind(<span class="hljs-literal"><span class="hljs-literal">null</span></span>, {<span class="hljs-attr"><span class="hljs-attr">user</span></span>: user})); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> React.DOM.li({ <span class="hljs-attr"><span class="hljs-attr">className</span></span>: <span class="hljs-string"><span class="hljs-string">"user-item list-group-item"</span></span>, <span class="hljs-attr"><span class="hljs-attr">onClick</span></span>: clickHandler }, [user.firstName, user.lastName].join(<span class="hljs-string"><span class="hljs-string">' - '</span></span>)); }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> React.DOM.ul( {<span class="hljs-attr"><span class="hljs-attr">className</span></span>:<span class="hljs-string"><span class="hljs-string">"user-list list-group"</span></span>}, userList); } });</code> </pre><br>  As you can see in the React properties there are a number of variables that we will need to pass by simply passing the scope to the React class.  We will also create a directive that will use this class as a representation. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> UserDirective = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">restrict</span></span>: <span class="hljs-string"><span class="hljs-string">'AE'</span></span>, <span class="hljs-attr"><span class="hljs-attr">scope</span></span>: { <span class="hljs-attr"><span class="hljs-attr">users</span></span>: <span class="hljs-string"><span class="hljs-string">'='</span></span>, <span class="hljs-attr"><span class="hljs-attr">userSelected</span></span>: <span class="hljs-string"><span class="hljs-string">'&amp;'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">link</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">scope, element, attrs</span></span></span><span class="hljs-function">) </span></span>{ scope.$watchCollection(<span class="hljs-string"><span class="hljs-string">'users'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ React.renderComponent(UserList({<span class="hljs-attr"><span class="hljs-attr">scope</span></span>: scope}), element[<span class="hljs-number"><span class="hljs-number">0</span></span>]); }); } }; }; app.directive(<span class="hljs-string"><span class="hljs-string">'userList'</span></span>, UserDirective);</code> </pre><br>  It shows that we will use it as an element or attribute, data with users and a function for displaying the user to the console will be transferred to it.  So that our view is displayed when the collection is changed and we create the simplest watcher and redraw our view to change it.  Finally, we will render our React class to the element on which the user-list attribute was hung.  After rendering on Angular, add the following code to index.html: <br><br><pre> <code class="javascript hljs"> &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"panel panel-default"</span></span>&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"panel-heading"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">AngularJS with ReactJS</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;div user-list users=<span class="hljs-string"><span class="hljs-string">"users"</span></span> user-selected=<span class="hljs-string"><span class="hljs-string">"main.getUser(user)"</span></span>&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/div&gt;</span></span></code> </pre><br>  With such simple manipulations we tied Angular and React.  The application is the simplest, but it makes the concept clear and can be further complicated.  According to my tests, at 2000 items view on React was 5 times faster than on Angular. <br>  In the screenshot we can see that the view on React has no binding, unlike AngularJS. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/77a/dbb/058/77adbb058b20a9126f7ace00bf6871f8.png"><br><br>  We can also see what React has generated for us. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f61/29e/1c7/f6129e1c7ee00de9c686befcabc5dd3e.png"><br><br>  I hope my experiment will be useful to someone.  I believe that it is necessary to build solutions according to their capabilities, and if it is more convenient to write presentations on ReactJS and they are faster in displaying, then I will do so. <br>  If there are any nuances, welcome in comments =) <br><br>  Sample Code <a href="https://github.com/xgrommx/ng-with-react">Source</a> </div><p>Source: <a href="https://habr.com/ru/post/215607/">https://habr.com/ru/post/215607/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../215591/index.html">Automate the installation of many apk files on Android</a></li>
<li><a href="../215597/index.html">The note. On the lag of information progress from technological</a></li>
<li><a href="../215601/index.html">Is there life after the code?</a></li>
<li><a href="../215603/index.html">Spritz speed reading on any site</a></li>
<li><a href="../215605/index.html">Beginner Patterns: MVC vs MVP vs MVVM</a></li>
<li><a href="../215611/index.html">Natural language highlighting</a></li>
<li><a href="../215613/index.html">On the role of Albanian in testing</a></li>
<li><a href="../215619/index.html">Some problems Nokia Lumia 1520 in one post</a></li>
<li><a href="../215625/index.html">Epson: habradebut</a></li>
<li><a href="../215627/index.html">Soviet operation to save the dead space station</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>