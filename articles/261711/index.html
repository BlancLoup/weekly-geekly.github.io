<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Basics of using Cocoapods in iOS app development</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="CocoaPods is a very powerful tool that has a must have status for any iOS Developer. With it, we can easily, quickly and simply connect a variety of t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Basics of using Cocoapods in iOS app development</h1><div class="post__text post__text-html js-mediator-article">  CocoaPods is a very powerful tool that has a must have status for any iOS Developer.  With it, we can easily, quickly and simply connect a variety of tasty tools, utilities and libraries that make life easier for us when developing applications.  But every tool must be able to use and CocoaPods is no exception. <br>  Under the cat information that will allow you to start mastering this tool (based on what is stated in the documentation and personal experience).  And so, dear reader, put aside the microscope, enough already to nail the nails and continue to read. <a name="habracut"></a><br><br><h4>  Podfile </h4><br>  <b>Podfile</b> is just that magic specification, which shows all the dependencies necessary for our project.  Podfile always creates an implicit target (target), named by default, which links it to the first target (target) of the project.  <b><u>This file should be named just Podfile and be in the same folder as the .xcodepoj file.</u></b> <br><br>  <b><u>To begin with, it is very important to indicate for which platform and which version it is being developed.</u></b>  This is done like this: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="ruby hljs">platform <span class="hljs-symbol"><span class="hljs-symbol">:ios</span></span>, <span class="hljs-string"><span class="hljs-string">'8.0'</span></span></code> </pre> <br>  In this example, we indicate that we are developing an application for iOS version not lower than 8.0 <br><br>  Next, we can hide all warnings from xCode that relate to the link libraries: <br><pre> <code class="ruby hljs">inhibit_all_warnings!</code> </pre><br><br><h5>  Project target </h5><br>  If you want to use plug-in libraries for several target'ov (for example for tests), for this you can use the command <b>link_with</b> : <br><br><pre> <code class="ruby hljs">platform <span class="hljs-symbol"><span class="hljs-symbol">:ios</span></span>, <span class="hljs-string"><span class="hljs-string">'6.0'</span></span> link_with <span class="hljs-string"><span class="hljs-string">'MyApp'</span></span>, <span class="hljs-string"><span class="hljs-string">'MyApp Tests'</span></span> pod <span class="hljs-string"><span class="hljs-string">'AFNetworking'</span></span>, <span class="hljs-string"><span class="hljs-string">'~&gt; 2.0'</span></span> pod <span class="hljs-string"><span class="hljs-string">'Objection'</span></span>, <span class="hljs-string"><span class="hljs-string">'0.9'</span></span></code> </pre><br>  In this example, we include libraries not only for the target of our application, but also for tests.  But <b><u>you need to be extremely careful with this command</u></b> : this command connects all libraries to two target'am, and sometimes this can lead to errors in the work, for example, not all API methods that are familiar to us will work for Application Extension (the same extension Today Extension) . <br><br>  A more reliable way is to manually set the target for which certain libraries will be connected: <br><br><pre> <code class="ruby hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">shared_pods</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pod</span></span></span><span class="hljs-function"> '</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AFNetworking</span></span></span><span class="hljs-function">' </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pod</span></span></span><span class="hljs-function"> '</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">INTULocationManager</span></span></span><span class="hljs-function">' </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">target</span></span></span><span class="hljs-function"> '</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">myapp</span></span></span><span class="hljs-function">' </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">do</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">shared_pods</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pod</span></span></span><span class="hljs-function"> '</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Reachability</span></span></span><span class="hljs-function">', '</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">~</span></span></span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">&gt;</span></span></span><span class="hljs-function"> 3.1.1' </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pod</span></span></span><span class="hljs-function"> '</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sqlite3</span></span></span><span class="hljs-function">', '</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">~</span></span></span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">&gt;</span></span></span><span class="hljs-function"> 3.8.4.3' </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">target</span></span></span><span class="hljs-function"> '</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mywidget</span></span></span><span class="hljs-function">' </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">do</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">shared_pods</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end</span></span></span></span></code> </pre><br>  With the help of such a Podfile, we have defined those libraries that will be used for both the widget and the application (shared_pods).  And they outlined which ones should be connected for which target. <br><br><h5>  Library version </h5><br>  The next moment is also very important.  Most often, in addition to the library name, we also indicate the version number that we want to use.  We do it like this: <br><pre> <code class="ruby hljs">pod <span class="hljs-string"><span class="hljs-string">'WebViewJavascriptBridge'</span></span>, <span class="hljs-string"><span class="hljs-string">'~&gt; 4.1.4'</span></span></code> </pre><br><br>  So we do this at a minimum because such recommendations are usually given to us in response to the query <b>pod search</b> .  And on the one hand, this is correct, but on the other hand, nuances are possible. <br><div class="spoiler">  <b class="spoiler_title">A small example.</b> <div class="spoiler_text">  You have connected a certain library (indicating the version as in the example above) and are actively using it, then for some time suspended the work on the project, and returned only after <i>n</i> time.  And you decided to resume work with the <b>pod update</b> command, which will pull up new versions of the used libraries.  We start the project and can face the fact that the library developer has added new methods, and those that you use have already been declared as deprecated or deleted altogether, or have accepted a merge request from another programmer, having checked it not very carefully, but he made a critical error and now everything crashes. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/048/79c/a68/04879ca68f26c992c6cdc00f83194c0b.jpg" alt="f ***"><br><br></div></div><br><br>  How to avoid unnecessary loss of nerve cells?  Otherwise, specify the version!  There are many opportunities for this. <br><br>  Thus, we indicate exactly which version we need: <br><pre> <code class="ruby hljs"><span class="hljs-string"><span class="hljs-string">'WebViewJavascriptBridge'</span></span>, <span class="hljs-string"><span class="hljs-string">'4.1.4'</span></span></code> </pre><br><br>  In addition, we can use logical operators, which are not necessary to explain in detail: '&gt; 4.1.4' or '&gt; = 4.1.4' or '&lt;4.1.4' or '&lt;= 4.1.4'. <br><br>  More need to talk about the operator '~&gt;'.  With it, we can specify the version that we need, but at the same time get the necessary bugfixes for it.  For example, like this, '~&gt; 0.1.2', we indicate that we want to use the library version from 0.1.2 to 0.2, <b>but not including version</b> 0.2.  Or by specifying '~&gt; 0.1' we indicate that we plan to use all versions from 0.1 to 1.0, <b>but not including version</b> 1.0. <br>  In addition, we can specify the repository resource from which we will load the library: <br><pre> <code class="ruby hljs">pod <span class="hljs-string"><span class="hljs-string">'CRToast'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:git</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'https://github.com/akhatmullin/CRToast.git'</span></span></code> </pre><br>  But this is not all.  By specifying a resource, we can still indicate the branch we need, <br><pre> <code class="ruby hljs">pod <span class="hljs-string"><span class="hljs-string">'CRToast'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:git</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'https://github.com/akhatmullin/CRToast.git'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:branch</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'dev'</span></span></code> </pre><br>  tag <br><pre> <code class="ruby hljs">pod <span class="hljs-string"><span class="hljs-string">'CRToast'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:git</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'https://github.com/akhatmullin/CRToast.git'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:tag</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'0.7.0'</span></span></code> </pre><br>  or even a specific commit <br><pre> <code class="ruby hljs">pod <span class="hljs-string"><span class="hljs-string">'CRToast'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:git</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'https://github.com/akhatmullin/CRToast.git'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:commit</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'082f8310af'</span></span></code> </pre><br><br><img src="https://habrastorage.org/getpro/habr/post_images/a51/db8/7d7/a51db87d74ef7d34c0709a5276ba4a52.png" alt="image"><br><br><h5>  Automate maximum or post_install </h5><br>  Sometimes it happens that after installing a particular library, you need to open a particular project file that was generated by Cocoapods and add / remove / change some parameter there so that everything works correctly. <br><br>  The first thing that comes to mind in such a situation: do everything as it should and write in the wiki on gitlab.  It seems everything is okay.  BUT!  It is also necessary to write about this to the whole team in Skype ... and send the mailing list!  And I will definitely link to the wiki ... <br>  Made by  And now everyone has forgotten about it.  How to be?  Use <b>post_install</b> ! <br><br><pre> <code class="ruby hljs">post_install <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-params"><span class="hljs-params">|add_app_extension_macro|</span></span> add_app_extension_macro.project.targets.each <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-params"><span class="hljs-params">|target|</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> target.name.<span class="hljs-keyword"><span class="hljs-keyword">include</span></span>?(<span class="hljs-string"><span class="hljs-string">"Pods-widget"</span></span>) target.build_configurations.each <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-params"><span class="hljs-params">|config|</span></span> config.build_settings[<span class="hljs-string"><span class="hljs-string">'GCC_PREPROCESSOR_DEFINITIONS'</span></span>] <span class="hljs-params"><span class="hljs-params">||</span></span>= [<span class="hljs-string"><span class="hljs-string">'$(inherited)'</span></span>, <span class="hljs-string"><span class="hljs-string">'AF_APP_EXTENSIONS=1'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br>  In the example above, after installing all the necessary libraries, we loop through all the target'y of the project automatically created by cocoapods, find the right one among them, and then go through the settings of this target'and find the right one and add it to the build settings.  In a specific example, for AFNetworking we set the parameter that allows using this library in the Application Extensions.  And no more notes on the wiki.  Totally!  Well done! </div><p>Source: <a href="https://habr.com/ru/post/261711/">https://habr.com/ru/post/261711/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../261699/index.html">How I compiled the application bundle for MacOS on Linux</a></li>
<li><a href="../261701/index.html">Deploying Nano Server with Windows Assessment and Deployment Kit (ADK) RC for Windows 10</a></li>
<li><a href="../261703/index.html">ASP.NET 5 beta5 in Visual Studio 2015</a></li>
<li><a href="../261707/index.html">Apple fixed OS X vulnerabilities</a></li>
<li><a href="../261709/index.html">Financial Transmission Ways # 3: Plaza II Protocol</a></li>
<li><a href="../261715/index.html">DevStack as a tool</a></li>
<li><a href="../261717/index.html">Magic Tensor Algebra: Part 3 - Curvilinear Coordinates</a></li>
<li><a href="../261719/index.html">We collect and configure the BUNDY DNS server (BIND10). Part 1</a></li>
<li><a href="../261721/index.html">Android Process: I gave birth to you, I you and ...</a></li>
<li><a href="../261723/index.html">Higher Order Functions in JavaScript</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>