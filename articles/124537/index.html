<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Unsafe VKontakte or collect the millionth botnet?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Based on the author's permission (does not have an acca in Habr√©) and in close cooperation with him. 

 About three months ago, the users of the same ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Unsafe VKontakte or collect the millionth botnet?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/345/253/08a/34525308a22fc248930f11b43e1340ae.jpg" alt="image"><br><br>  Based <a href="http://forum.antichat.ru/thread284798.html">on the</a> author's permission (does not have an acca in Habr√©) and in close cooperation with him. <br><br>  About three months ago, the users of the same network discovered a problem: during the operation, the web browser hung, while JAVA was loaded on pages where there were no applets. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      After a rather long time of communication with a person, it became clear that this problem occurs on some public pages on VKontakte.  These pages were analyzed in detail for frames, but everything turned out to be crystal clear.  Traffic sniffing also showed nothing suspicious. <br><br>  After a series of experiments, it became clear that on one page the frame is loaded only once and only for an authorized user, apparently, as a result of a limited display on the VKontakte ID (the user did not save cookies).  However, the question of where the frame is being loaded is still not resolved. <br><a name="habracut"></a><br>  In total, with the included sniffer about 30 public pages were visited.  Having filtered all the VKontakte traffic, it was found that quite a lot of scripts are loaded from the German server (46.4.112.52), and it was one of these scripts that loaded the frame on the expopo file (yes, whoever did not understand it - the JAVA upload window meant that The browser has been broken by exploit-pack, and, perhaps, you are already part of someone's botnet).  The proof is a download /games/worms.jar/, classified as Exploit.Java.CVE-2010-0840.bd (possibly part of Black Hole Exploit). <br><br>  The administrator who carried out the research did not care at that moment why the VKontakte public pages were loading something from Germany, and the study ended with a logical blocking of the German IP.  This solved the problem completely, which indirectly proves that we did not deal with local infection of the system with the introduction of libraries into the area of ‚Äã‚Äãthe web browser. <br><br>  In total, on July 20, 2011, an interesting news appears - the IP that was blocked a couple of months ago belongs to the <a href="http://vkontakte.ru/widgetss">‚ÄúWidgets for official pages‚Äù</a> application, which for some reason was blocked by the VK administration. <br><br>  A little googling, we find in the topic <a href="http://vkontakte.ru/topic-24150345_24917013">more interesting news</a> .  And <a href="http://www.appdata.ru/stats/app/45511">such statistics</a> . <br><br>  What then? <br><br>  Millions of people visited the public pages every day, and about 80% of them somehow stumbled upon Widgets, which in turn poured (we won‚Äôt go into details, ourselves or not ourselves, but poured) traffic into exploits. <br>  During these three months, up to 90% of the entire social network could have visited the public pages with the virus. <br><br>  The scales are solid, it is strange that everyone is silent about this ... <br><br>  Three questions remain open: <br>  1. Was there an exploit frame for all three months, or was it removed for a while? <br><br>  2. Why is the Widgets application for official pages blocked?  Hacking is great that the servers are cleaned and the links are corrected - magically, but if there was a drive-by download, then why are victims not asked to quickly scan the computer with an antivirus? <br><br>  3. Why, in fact, the VKontakte administration is silent? <br><br>  By the way, here he is - the <a href="http://vk.com/amecorp">owner of the widgets</a> (Not at all a fake, it can be seen from the <a href="http://vkontakte.ru/widgetss">above link</a> ) <br><br>  PS There was a slight misunderstanding: <b>Andrei Kedrov is responsible for another application and is not related to ‚ÄúWidgets for official pages‚Äù</b> , just the hacking of his application coincided with the subject matter.  We are sorry for this misunderstanding.  And here is interesting information from Mr. Kedrov: <br><br><blockquote>  I am Andrei Kedrov.  Please remove my first and last name from your Habr√© account, since you associate me with someone else's application.  In the original source from which the article was written, only the link goes to me, but I have nothing to do with the Widgets for official pages.  We have a separate application that was hacked, in contrast to the one in question.  <b>According to the official version of the author ‚ÄúAni‚Äù, this was also a hacking, but many of my friends say otherwise, especially since they sent me a link on their server, from which the traffic was loaded, and this link already appeared in one of the complaints about their application they already got a lock.</b> <br>  And the issue with our application was resolved with the administration for several hours, after my return home, from vacation.  While Anya received a lock without the right to unban.  Although no, the amendment is still the administration and Anya complained.  The application was restored just a few minutes ago, although ‚ÄúAnya‚Äù himself wrote that he was refused.  In general, an interesting situation in fact. </blockquote><br><br>  Nevertheless, the similar frequency of hacking applications for VKontakte brings sad thoughts ... Like the policy of the VKontakte administration towards the perpetrators.  Are there many such "Anya"? </div><p>Source: <a href="https://habr.com/ru/post/124537/">https://habr.com/ru/post/124537/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../124528/index.html">Vulnerability Google allowed to remove any site from the search index</a></li>
<li><a href="../124532/index.html">Standards</a></li>
<li><a href="../124534/index.html">Payment systems and their connection. What we pay attention</a></li>
<li><a href="../124535/index.html">New MacBook Air and Mac mini features</a></li>
<li><a href="../124536/index.html">Automatic build application on Kohana using Phar</a></li>
<li><a href="../124538/index.html">Yandeks.Bar - Big Brother is watching you</a></li>
<li><a href="../124539/index.html">Be careful driving</a></li>
<li><a href="../124540/index.html">First Moscow JavaScript Meetup</a></li>
<li><a href="../124541/index.html">Online radio and licensing</a></li>
<li><a href="../124543/index.html">Reporting for Virtual Environments with Veeam Reporter</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>