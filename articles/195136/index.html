<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Integration of web services into popular cms</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article, we will give recommendations on how to master cms in a short time and write an extension, module or plugin for it, and also tell you ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Integration of web services into popular cms</h1><div class="post__text post__text-html js-mediator-article">  In this article, we will give recommendations on how to master cms in a short time and write an extension, module or plugin for it, and also tell you about the results and our experience of integrating the <a href="http://cackle.me/">Cackle</a> service into these systems.  The article can be a guide for those who are going to integrate services with cms systems or simply create a module. <br><br>  Before deciding which cms integration to do, it is worth collecting statistics on integration requests for its users, as well as looking at general cms statistics on .RU sites (http://statonline.ru/metrics/webapp_cms?tld=ru) from which shows which cms are the most popular. <br><img src="https://habrastorage.org/getpro/habr/post_images/116/56e/d4f/11656ed4f989def8d636c00946a6fd66.png" alt="image"><br><br>  Based on these statistics, we can assume that the effect of embedding your module in these cms will be statistically proportional to their popularity.  Is this for each cms, we will know further. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Integration allows you to conveniently integrate services into cms and maximize the benefits of its use.  The ideal solution is to install the plugin in a few clicks.  An acceptable solution may be a mod - instruction on how to finish cms, at which cms scripts are changed.  For our project, any integration of Cackle comments for cms usually includes the following items: <br><br>  - Synchronize comments from the Cackle service to the local database every 5 minutes <br>  - Display html for SEO <br>  - Export existing comments on the site to Cackle <br>  - Ability to resynchronize (re-copy comments in the local database) <br>  - SSO (authorization of its users) <br>  - Count of comments on the main page <br>  - Recent comments widget <br><br>  All these requirements for the module include the implementation of the timer, receiving comments by a request through the API, saving to the database, displaying the js widget in cms templates on certain pages and the admin panel for entering API keys, and other settings. <br><br>  We did integrate our Cackle comment service into the following cms systems: <br>  Wordpress, Drupal, DLE, InstantCms, Joomla, Bitrix. <br><br>  Now, in chronological order, we describe our integration experience for each cms. <br><a name="habracut"></a><br><h4>  Wordpress </h4><br><br><h5>  Development </h5><br>  There is a well- <a href="http://codex.wordpress.org/Writing_a_Plugin">documented documentation</a> for creating a plugin.  To initialize the plugin, just find the necessary hooks: actions and filters - <a href="http://codex.wordpress.org/Plugin_API/">codex.wordpress.org/Plugin_API</a> .  We use comments_template to display our template with comments, comments_number to display the number of comments for posts, admin_menu to add a menu to the admin panel and wp_footer to add js counter to footer.  For time synchronization, we use the wp_schedule_single_event function that implements the launch of any function by timer. <br><br>  To familiarize yourself with the code, download the plugin and see the description here - <a href="http://ru.cackle.me/promo/wordpress">a wordpress plugin</a> <br><br><h5>  Testing </h5><br>  Testing for WP should be carried out on different versions, because  It is possible that there will not be any function or table in the database used in your module.  Here you can do the following check: <br> <code>if (version_compare(get_bloginfo('version'), '2.9', '&gt;=')){ <br> .. <br> } <br></code> <br>  Do I need to support older versions?  I think yes.  Many bloggers are sitting on old versions, because  The update often ends with the change of the template files, the engine, many plugins stop working and you have to set everything up again. <br><br><h5>  Release </h5><br>  The plugin release is commited to the svn tag with the correct version.  Particular attention should be paid to the version of the module that is put in the main file and the readme file.  The module is released without any moderation.  Time to provide access to svn WordPress somewhere 3-5 days. <br><br><h5>  results </h5><br>  For wordpress, there is open statistics on the use of the plugin at a single point in time - <a href="http://wordpress.org/plugins/cackle/stats/">wordpress.org/plugins/cackle/stats</a> .  Immediately after the release of the day was 30-50 downloads.  At the moment, the total number of downloads is about 20,000. 80% of our customers are our customers. <br><br><h4>  Drupal </h4><br><h5>  Development </h5><br>  Initialization occurs from the block display hook on the _block_view () page.  Particular attention should be paid to connecting the custom template and adding a js file.  It is important to correctly transfer variables so that they can be used. <br>  To connect js: <br><pre> <code class="php hljs">drupal_add_js(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'cackle'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'cackle_mc_site'</span></span> =&gt; variable_get(<span class="hljs-string"><span class="hljs-string">'cackle_mc_site'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span>), <span class="hljs-string"><span class="hljs-string">'node_id'</span></span> =&gt; $node-&gt;nid, ), ), <span class="hljs-string"><span class="hljs-string">'setting'</span></span>);</code> </pre><br>  Inside js mcSite itself will be obtained already from the preloaded properties of the Drupal object: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mcSite = Drupal.settings.cackle.cackle_mc_site;</code> </pre><br>  The template is connected as follows: <br><pre> <code class="php hljs">$template = theme(<span class="hljs-string"><span class="hljs-string">'cackle_custompage_template'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-comment"><span class="hljs-comment">//    'obj' =&gt; $obj, 'nodeid' =&gt; $nodeid, 'has_curl' =&gt; $has_curl) );</span></span></code> </pre><br><br>  Template hook itself: <br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cackle_theme</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'cackle_custompage_template'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'template'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'cackle_template'</span></span>, <span class="hljs-string"><span class="hljs-string">'arguments'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'obj'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">'nodeid'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">'has_curl'</span></span> =&gt; $has_curl ), ), ); }</code> </pre><br><br>  You also need to pay attention to the fact that these hooks are connected only when you remove and reinstall the module. <br><br>  To familiarize yourself with the code, download the plugin and see the description here - the <a href="http://ru.cackle.me/promo/drupal">module for drupal</a> <br><br><h5>  Release </h5><br>  Zarelit module in the directory on the site of drupal was a rather difficult quest.  First a sandbox project is created.  Filled in git.  Then he goes to review.  On this project, they attach like kites.  The first thing browsers will write about are errors and warnings of automated code checking - <a href="http://pareview.sh/">pareview.sh</a> .  Everything is important before the space, and to the comma, 2 spaces instead of tabs, etc.  And so before each edit code.  Then, after everything has been fixed and you report enough about it, then a certain ‚Äúmain one‚Äù appears and writes: We‚Äôre quite busy now, and link to review bonus at <a href="https://drupal.org/node/1975228">drupal.org/ node / 1975228 the</a> essence of which is that before you get a review from a person who can upgrade the project from the sandbox in full project - i.e.  a project that will be available in the catalog, you need to make 3 reviews of other projects.  If bugs are found, the project is sent for revision, and you need to make another 3 reviews before you can put a bonus review tag. <br><br>  What the reviewers pay attention to first: <br><ul><li>  to work with the database, you must use the native API </li><li>  it is strictly prohibited to generate pure html in the module, for this you need to use a template </li><li>  check on XSS when displaying html by the check_plain () function </li><li>  to properly configure the access rights to the module - access arguments </li></ul><br>  You can see here how it was - <a href="https://drupal.org/node/1824770">drupal.org/node/1824770</a> <br>  In order to get a bonus review is to keep abreast ... as soon as a new project appears on the review, you need to quickly merge and look for errors and inaccuracies from the top list.  If you have passed all this, then your account will be given the right to create full projects without moderation of the community.  And one last warning: it‚Äôs impossible to get the right to create full projects by placing a small project on several lines in a review, in order to increase the functionality later, but without moderation. <br>  I also want to note that in the description of api you can find a lot of errors, in order to understand how this or that hook works, it is better to look directly into the core modules of drupal. <br><br><h5>  Result </h5><br>  For all the time, there are only 241 downloads from the catalog - <a href="https://drupal.org/project/cackle">drupal.org/project/cackle</a> and about 100 downloads of the demo version from the personal account.  According to our statistics, now the Drupal module is used somewhere on 150 sites. <br><br><h4>  Wix </h4><br>  Wix is ‚Äã‚Äãa popular website builder.  The developers of this site builder contacted us themselves and offered to make an application for their marketplace.  It was attracted by the fact that over 30 million sites were created on their platform, although in Russia it is still exotic (we did this integration back in April and we did not have statistics on domains in Russia). <br><br><h5>  Development </h5><br>  In order for the widget to get into the marketplace, you need to create several controllers on your hosting service that accept encrypted parameters and display the corresponding widgets.  When creating a Wix application itself, only 2 addresses are inserted: / widget - the widget itself, / settings - the widget settings.  They have a ready-made example on php - <a href="https://github.com/wix/wix-php-rss-feed-app">github.com/wix/wix-php-rss-feed-app</a> , which helps to raise this application on their hosting.  Only you need to carefully replace the current library, because  even the recent prefix gives the old API library. <br><br><h5>  Release </h5><br>  Problems that can be encountered when submitting an application to the market: <br>  - It is required that the user registration in the service takes place directly on the wix website, through these very widgets that need to be generated on your server <br>  - You can not require confirmation of registration in your service <br>  - All settings of our widget should not be made on Cackle, but in the Wix application itself <br>  - If you have your own tariffs, then they should be transferred to Wix, i.e.  Pay for your services will be on the site Wix <br>  The first 3 are based on the idea that the user should stay on their site, and should not go to the post office or God forbid to do the settings on another site. <br>  The latter comes from the fact that Wix receives a reward in the region of 30-40% for your sales. <br>  All attempts to explain that everything works wrong for us, and that we will have to substantially change our system, receive one answer: ‚ÄúIn Wix it's different‚Äù.  And apparently they are proud of it. <br>  As a result, they refused to place in the market, limited to instructions for their users, who are already our clients and they have Wix. <br><br><h4>  DLE </h4><br><br><h5>  Development </h5><br>  <a href="http://dle-news.ru/extras/online/index.html%3Fapi.html">The API for DLE</a> is the shortest of all.  Of course, there are no such powerful hooks as in drupal and wordpress, but by making small code changes, you can neatly embed the necessary module. <br>  The developed module is connected by one line in the desired pattern - <br><pre> <code class="php hljs">{<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> file=<span class="hljs-string"><span class="hljs-string">"engine/inc/cackle_template.php?newsid={news-id}"</span></span>}</code> </pre><br><br>  This allows you to test the module in isolation from cms and only then embed it.  In fact, in the dle we have embedded our common solution.  The module itself is installed by calling the module admin page. Example: <br>  http: // [site root path] /admin.php?mod=cackle_admin <br>  DB constants defined in dle (DBHOST, DBNAME, DBUSER, DBPASS) made it possible to fully use the common solution and database connections made through pdo. <br><br>  To familiarize yourself with the code, download the plugin and see the description here - the <a href="http://ru.cackle.me/promo/dle">module for dle</a> <br><br><h5>  Release </h5><br>  The most pleasant reward that waited at the end is that DLE turned out to be dozens of sites (easily searched by search), where you can completely FREE to post information about your module ... and these are good sites with an attendance of 500-3500 people per day.  Also completely free of charge, our module was posted on the main page of dle-new.ru.  All this brought very good conversion traffic. <br><br><h5>  Development time </h5><br>  3 days including development of a common solution with ajax admin panel and support for 2 encodings (utf8, win1251) <br>  Release time: within a week <br><br><h5>  Result </h5><br>  150 installations per month <br><br><h4>  InstantCms </h4><br><br><h5>  Development </h5><br>  There are no official documentation on creating plugins.  Instead, it is proposed to look at the finished modules.  Lists of event lists are scattered online (here‚Äôs one of <a href="http://www.instantcms.ru/blogs/haki-patchi-moduli-plaginy-i-prochie-dorabotki-dvizhka/spisok-vseh-event-ov-sistemy.html">www.instantcms.ru/blogs/haki-patchi-moduli-plaginy-i-prochie-dorabotki-dvizhka/spisok-vseh-event-ov-sistemy.html</a> ) But it‚Äôs better to watch in the code, because  Many events have small bugs and may not return an object with html to which you can add your piece or not work at all.  Only for the following types of content we managed to embed our code: articles, blogs, fotos. <br>  The admin with the configuration of the plugin had to be screwed along the plugin's path: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span>($GLOBALS[<span class="hljs-string"><span class="hljs-string">'cp_pathway'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $key =&gt; $value){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($GLOBALS[<span class="hljs-string"><span class="hljs-string">'cp_pathway'</span></span>][$key][<span class="hljs-string"><span class="hljs-string">'title'</span></span>])) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($plugin_id&amp;&amp;$plugin_name=<span class="hljs-string"><span class="hljs-string">'p_cackle'</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;events[] = <span class="hljs-string"><span class="hljs-string">'SHOW_CACKLE_ADMIN'</span></span>; cmsCore::callEvent(<span class="hljs-string"><span class="hljs-string">'SHOW_CACKLE_ADMIN'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;showCackleAdmin()); } } }</code> </pre><br><br>  To familiarize yourself with the code, download the plugin and see the description here - <a href="http://ru.cackle.me/promo/instantCms">instantCms plugin</a> <br><br><h5>  Release </h5><br><br>  This cms was a decent number of requests for integration from customers, but looking at the statistics of this cms, we were in no hurry to do the integration.  The module ordered one of the clients.  We did the indexing setup, and the client placed the module in the instantCms blog.  Further, we included all other possibilities in this module (export, sso, counter) and added to the list of plugins.  We planned to be able to place information on this module on thematic sites and forums, but with a more serious look, we realized that there were none.  In addition, reviews and discussions on the blog are reduced to the feasibility of using paid services in the light of the fact that users use free cms. <br><br><h5>  Development time </h5><br>  3 days.  The main time was spent on figuring out how events work. <br><br><h5>  Result </h5><br>  With a dozen installations. <br><br><h4>  Joomla </h4><br><h5>  Development </h5><br>  There is official documentation for creating a plugin.  Parameters for the plug-in are defined via xml, localization through the system of convenient messages.  There are convenient events <a href="http://docs.joomla.org/Plugin/Events/Content">docs.joomla.org/Plugin/Events/Content</a> before and after the content is <a href="http://docs.joomla.org/Plugin/Events/Content">displayed</a> .  For convenient testing and development, you should deal with the types of content, create all basic types of content in a test - <br><br>  $ view == 'article' for the content component <br>  $ view == 'item' for component K2 <br>  $ view == 'productdetails' for viruemart <br>  $ view == 'frontpage' for the main page <br>  $ view == "featured" for favorites <br>  $ view == 'section' and $ view == 'category' for categories <br>  Further, during the development of events, you can determine the type of content and the component name, and output the necessary elements for the module under normal conditions. <br>  $ view = JRequest :: getCmd ('view');  $ option = JRequest :: getCmd ('option'); <br><br>  To familiarize yourself with the code, download the plugin and see the description here - the <a href="http://ru.cackle.me/promo/joomla_k2_virtuemart">plugin for joomla</a> <br><br><h5>  Testing </h5><br>  We tested on two versions 2.5, 3.0 with components k2, Virtuemart (for 3.0 not) <br><br><h5>  Release </h5><br>  Separately worth noting joomla extention dir.  Firstly, they have bugs with a login there ... not all forms work ... different registrations on the forum and on the site.  The submission button of the plugin is located in the directory itself in subsections.  Slightly unusual module submission form.  The lineup a month ago, with the new release was 86, this month moved by 70. This month already 216 applications are in the queue. <br>  For us, the goal of developing this solution was to abandon third-party plug-ins. <br><br><h4>  1C bitrix </h4><br><h5>  Development </h5><br>  At the beginning of the application deployment, the complexity of installing to utf-8 arose.  It took a long time to configure the server. <br>  <a href="http://dev.1c-bitrix.ru/learning/course/index.php%3FCOURSE_ID%3D43%26CHAPTER_ID%3D04609">Documentation for the development of modules</a> is excellent with a description of the structure of the module and examples.  For integration into bitrix it is common to create a module with a component.  The component can be connected through the visual editor by the user on any page of the site.  One of the problems was getting the material ID in the form of block_id.  Instead, I had to use the GetCurPage () function to return the path for the material.  In the admin panel of the module, our admin panel of the general solution easily fell with a slight change in the function preserving parameters: <br><pre> <code class="php hljs">COption::SetOptionString(<span class="hljs-string"><span class="hljs-string">"cackle.comments"</span></span>, $param, $value); COption::GetOptionString(<span class="hljs-string"><span class="hljs-string">"cackle.comments"</span></span>, $param);</code> </pre><br>  View the code while you can only in the admin Cackle.  To do this, you can use the <a href="http://ru.cackle.me/pricing%3Fdemo%3Dtrue">demo registration</a> . <br><br><h5>  Release </h5><br>  For release, you must send an application to the partnership.  As a result, you are assigned the status of a technology partner.  We hoped that it would be possible to get a free license for development, but support responded so that development could be carried out on a demo version that lasts 30 days. <br>  When the release is important to comply with the name.  We have this cackle.comments.  It is interesting to note that with this name the module is visible only in Settings and Updates, as well as in the Settings of the modules (if option.php exists), and if without a dot, then in the modules the bitrix.  In the marketplace moderation takes quite a long time: 7 days on average (according to those. Support), and in fact even 9 days.  We tried to reduce development time and use our library with a pdo connector in the database.  As a result, the tester got an error, because  this module was not activated, and under the conviction that not everyone has this module (although it comes with php 5.2), it was necessary to rewrite the entire database layer on the Bitrix API.  Now the module is again in moderation, and it looks like when finalizing the module is again at the beginning of the queue. <br><br><h4>  Latest recommendations </h4><br><br>  General recommendations for quick and successful integration: <br><ul><li>  Have your own flexible library </li><li>  See how 2-3 modules of similar functionality are written. </li><li>  View the module creation dock, if available </li><li>  If the docks are not enough to look at the CMS code itself and find the necessary events to initialize the module </li><li>  After implementation, test on different versions of cms and with different templates. </li></ul><br>  As a tool, we use the Openserver server as a separate folder for each cms. <br><br>  We do integration with cms because  This improves the quality of work with clients.  We always have the opportunity to help the client in case of problems. <br><br>  Next, we plan to do integration with other cms.  In the near future it is Netcat and UMI.  If this topic is interesting, then we continue to continue to describe the integration. </div><p>Source: <a href="https://habr.com/ru/post/195136/">https://habr.com/ru/post/195136/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../195122/index.html">Correspondence Olympiad on sports programming for schoolchildren from NUST MISiS and Cognitive Technologies</a></li>
<li><a href="../195124/index.html">Why Opera Webkit</a></li>
<li><a href="../195128/index.html">RailsClub'Moscow 2013. Interview with Frederick Chang (Frederick Cheung)</a></li>
<li><a href="../195130/index.html">Another 10 TB storage from the Chinese - now distributes Alibaba (upd)</a></li>
<li><a href="../195134/index.html">How to measure content relevance</a></li>
<li><a href="../195138/index.html">C ++ test case, sorting functor</a></li>
<li><a href="../195140/index.html">Adding Admob to Unity3d and withdrawing money from PayPal to a bank account in Russia</a></li>
<li><a href="../195142/index.html">Random Cat Generator in 8 Steps</a></li>
<li><a href="../195146/index.html">Evaluation of linear regression results</a></li>
<li><a href="../195148/index.html">GCC and Variable-Length Arrays</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>