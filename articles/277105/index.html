<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Bear, the dismemberment and February 14</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A teddy bear, a teddy bear - that is what increases the pulse rate of girls and detonates in the palaces of men's memory. Remember, not so long ago, n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Bear, the dismemberment and February 14</h1><div class="post__text post__text-html js-mediator-article"><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/R3MeC5jJBnI%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700248,15700253&amp;usg=ALkJrhiv6mNIN5gbi_vvImir8b_PGxJ7xA" frameborder="0" allowfullscreen=""></iframe><br><br>  A teddy bear, a teddy bear - that is what increases the pulse rate of girls and detonates in the palaces of men's memory.  Remember, not so long ago, not a smartphone was dragged under a blanket, but a battered, earless and one-eyed, but still beloved Mishun?  Teddybir in many countries have become a universal symbol of love, care and warm teenage feelings.  So when the question arose of how to congratulate colleagues on the holiday of lovers, the answer came immediately - a bear!  Big robot robot - after all, it was invented by programmers. <br><br>  By February 14, we decided to assemble a robotic bear that would not only be able to communicate and give people joyful hugs, but also analyze human actions.  After all, hugs, both sluggish and intense, are able to give true feelings and reveal hidden emotions.  Suddenly there are two people in the company who are hugging exactly the same?  What if PHP programmers prefer long-term touches, and barbels are limited to dry-fingered?  With the help of robomed we managed to collect the most unusual data from the life of IT people. <br><a name="habracut"></a><br><h1>  General theory of hugs </h1><br><img src="https://habrastorage.org/files/6a1/310/8b4/6a13108b40814bfeb5b78d43af68ad68.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To clasp another person with his hands and to touch him for some time is one of the most common forms of manifestation of love and attention.  People console with comfort and joy, communicate with each other.  Free hugs are needed for children, adults, and even some animals.  Our bear with the help of hugs helps staff to express feelings in honor of Valentine's Day. <br><br>  Touching a bear means passing a piece of your love and some information that we use to analyze various embracing parameters.  The process of positive compression of the body has several basic characteristics: pressure (force), smoothness, vigor and duration.  By comparing these characteristics, we can classify any hug.  It will be possible to see who is hugging the bear more strongly, or who is your ‚Äúfriend in hugs‚Äù - with exactly the same characteristics of hugs. <br><br><img src="https://habrastorage.org/files/ea7/c8b/c13/ea7c8bc1370d4f2dbfdc5e509b2e6d66.jpg"><br><br>  To translate this idea, we used something called the General Hugging Theory ‚Äî several formulas that explain to a computer how to classify hugs.  The computer perceives each hug strong or weak, sharp or smooth, short or long. <br><br>  The data used in the formulas, the bear collects with the help of various sensors installed in his powerful body.  So, to analyze the strength of the embrace, we use a pressure sensor installed in a mishka's chest.  And in his head are an accelerometer and a gyroscope, allowing you to determine how active (energetic) were hugs. <br><br>  All sensors are processed on a Raspberry Pi program written in python.  Raspberry Pi is also inside the bear. <br><br>  The requests that the bear sends to our intranet look like this: <br><br><pre><code class="html hljs xml">POST /somewhere/hug/plot/ { "id": 12345678, "pres": 12345.0, "acc": 10.4, "gyr": 2.4, } POST /somewhere/hug/event/ { "id": 12345678, "text": "olololo" } POST /somewhere/hug/start/ { "id": 12345678 } POST /somewhere/end/ { "id": 23456789, "params": { "force": 3, "tenderness": 10, "dance": 5, "time": 10, #      } }</code> </pre> <br><h1>  Embrace metrics </h1><br><img src="https://habrastorage.org/files/4e8/524/131/4e8524131abb4681ad050f8600043a36.jpg"><br><br>  The system determines which type of hugging includes recorded sensor readings using several metrics.  First of all, we are interested in pressure and absolute power - they are calculated directly, because the higher the strength indicators, the <i>stronger the</i> embrace will be.  Since hugs and exponents are distributed in time, it is possible to assess whether the hug was tender, sharp or lively.  If the peak of power is smooth, then hugging is considered <i>gentle</i> .  If the peak is smooth, but ends abruptly, it means that the person quickly released the bear - this hug is considered to be <i>sharp</i> .  In the event that the employee began to embrace the bear sharply, but smoothly completed the process, embracing is considered to be <i>lively</i> . <br><br>  The next most important parameter is <i>tenderness</i> .  Taking any of the graphs and considering the delta between all readings, we determine the tenderness of the hugs.  If any delta is less than the threshold value, then the person embraces quite smoothly, and such a hug can be considered <i>gentle</i> .  If this condition was violated, we believe that the hug was more <i>rude</i> . <br><br><img src="https://habrastorage.org/files/156/1a6/1fb/1561a61fb51e41a499d6e3ad5d4584eb.jpg"><br><br>  Absolutely the same mathematical principle laid for the accelerometer and gyroscope.  We look at how far the deviation was made during hugging (for example, when the bear was swaying), if the amplitude of embracing is high, and how smoothly the amplitude is shifted relative to the total embracing time. <br><br><img src="https://habrastorage.org/files/b4e/09d/88a/b4e09d88aeee45a48571d155db81fa15.jpg"><br><br>  Thus, we received a set of metrics on pressure, tenderness and mobility.  The embrace data is sent to our intranet, where it is stored in a common base and compared with each other, after which it is displayed in real time with the addition of information from the employee‚Äôs profile. <br><br><h1>  How does a soft cuddle </h1><br><img src="https://habrastorage.org/files/188/f83/7d6/188f837d658e402aaf6cd43957bfede4.jpg"><br><br>  Our bear turned out to be autonomous: in addition to the Raspberry Pi, we added a wi-fi-module and powered everything from a small external battery.  Bear knows who he is hugging with, since the NFC reader is embedded in him.  Approaching the bear, the employee puts his pass and embraces, and all the information about the hug enters the database, on the basis of which the embracing top staff is built. <br><br><img src="https://habrastorage.org/files/bfb/466/866/bfb4668660ca4509b6b6dd763080ee68.png"><br>  <i>On the screen next to the bear, we display the results of mass hugs.</i> <br><br>  The bear can communicate with those who embrace him - using the built-in voice synthesizer with pre-recorded samples.  In addition, from our database of employees, we unloaded all the names and voiced them.  Thus, when someone from the staff wants to hug the bear, he puts his pass, and the information received from him is sent via sockets to a web page that voices the samples, ‚Äúpasting‚Äù them through the Web Audio API. <br><br><img src="https://habrastorage.org/files/687/2b5/5b9/6872b55b9f164c62a95dcefd3702f1bf.jpg"><br><br>  In the course of the experiment, we had to constantly get into the bear: install equipment, change batteries, check sensors.  Therefore, we decided to sew a zipper into a misha so as not to dismember it each time. <br><br>  So from the club of anonymous bear lovers, we turned into a fighting embracing squad, who in his spare time gathered for all employees a real love machine - because it is impossible not to fall in love with a white teddy bear, who welcomes you by name and knows how hard and caring you are you can squeeze it. <br><br><img src="https://habrastorage.org/files/921/6b6/8fe/9216b68feea344a3bbfc76a2364b93b9.JPG"><br><br>  Happy Valentine's Day, Habr!  All strong, energetic and long hugs! </div><p>Source: <a href="https://habr.com/ru/post/277105/">https://habr.com/ru/post/277105/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../277093/index.html">Working with USB devices in Android</a></li>
<li><a href="../277097/index.html">UFCS in the programming language D</a></li>
<li><a href="../277099/index.html">Katya, Go, Dcoin and Android</a></li>
<li><a href="../277101/index.html">Fix MySQL dump (in less than 30 lines)</a></li>
<li><a href="../277103/index.html">Machine Learning Revolution: General Principles and Effects on SEO</a></li>
<li><a href="../277107/index.html">Sandy Metz and Object-Oriented Design in Ruby</a></li>
<li><a href="../277109/index.html">Vision-based SLAM: tutorial</a></li>
<li><a href="../277111/index.html">Problems of access control based on the access list in ECM systems</a></li>
<li><a href="../277113/index.html">Why I no longer use MVC frameworks</a></li>
<li><a href="../277115/index.html">Cloud to organization scale - how Varonis can help build secure data sharing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>