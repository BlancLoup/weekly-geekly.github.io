<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>LTSP: Terminal Server on Linux</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Now I will tell you about how you can save a considerable amount of time and money on your IT infrastructure. 
 How to centrally administer a large nu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>LTSP: Terminal Server on Linux</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/getpro/habr/post_images/91f/ec4/76d/91fec476de2d7f6764aa8755a366e5f6.png"></p><br><p>  Now I will tell you about how you can save a considerable amount of time and money on your IT infrastructure. <br>  How to centrally administer a large number of linux workstations without splitting up the chaos in your ecosystem. <br>  And so, what is LTSP? </p><br><p>  <strong>LTSP</strong> - This is a terminal solution on Linux. <br>  Speaking of "terminal", I primarily mean not connecting to a remote desktop as in Windows.  I mean a much more flexible and advanced system for delivering software, configs, home directory, and the operating system itself to client workstations from your terminal server. </p><br><p>  In particular, LTSP is a set of pre-configured programs and scripts that will allow you to easily turn your newly installed Ubuntu, or other distribution, into a fully-ready terminal environment.  Which will be loaded on any computers on your network and provide the user with a full interface. </p><br><p>  LTSP has several modes of operation: </p><br><ul><li>  thin client </li><li>  fat client <a name="habracut"></a></li></ul><br><p>  In order to understand the difference, first we need to understand how LTSP works. </p><br><h1 id="princip-raboty">  Principle of operation </h1><br><p>  Suppose you have a server and a lot of computers (terminal stations) that you distribute to users so that they can work behind them.  These terminal stations are almost indistinguishable from ordinary computers, except that their size is usually quite small, they don‚Äôt need a hard disk for work and, moreover, they can be quite weak and cheap, it‚Äôs not reflected in users ‚Äôwork ( thin client mode).  It should be noted that any computer that can boot via the network can act as a terminal station. </p><br><p>  As I have already said, there may well be no hard disk at the terminal stations, and, accordingly, no operating system is installed on them, the entire load is from the LTSP server directly over the network. <br>  You have a system installed on the terminal server, and all user data, configs, and software are stored in it. <br>  When a user turns on his computer, his operating system is loaded from a terminal server, he can log in to it, work, disconnect.  At the same time, all data always remain on the terminal server. </p><br><p>  Now about the modes of operation: </p><br><ul><li>  <strong>thin client</strong> - Applications run on a terminal server and are simply displayed on the terminal client display. </li><li>  <strong>thick client</strong> - Applications run directly on the terminal client, and the server simply provides access to user files and programs. </li></ul><br><p>  So which mode should we choose?  - it all depends on what you want to receive.  You can save a little by using weak stations on clients along with a powerful server in thin client mode.  Or unload the terminal server and the local network, buying terminal stations more powerfully, shifting responsibility for the execution of programs to customers, forcing them to work in fat client mode. </p><br><p>  In addition, modes can be combined and some applications can be made to work differently than all others.  For example, to run a "heavy" browser with flash locally on clients, and to launch office applications on the server itself. </p><br><h1 id="plyusy-i-minusy">  Advantages and disadvantages </h1><br><p>  Let's consider what advantages we have in comparison with the standard principles of building IT infrastructure: </p><br><ul><li>  <strong>Centralized Management</strong> - You have one single configuration that you manage from one place. </li><li>  <strong>Backing up and backing up</strong> - All user data is stored on one server, and by adjusting the backup of this server accordingly, you will never lose user data. </li><li>  <strong>Savings on computers</strong> - Diskless terminal stations are significantly cheaper than full-fledged computers. </li><li>  <strong>Rapid deployment</strong> - you no longer need to install the OS.  Having bought the next pack of terminals, they can be safely stuck into the network, they immediately pull up the OS from the server and they will be fully ready to work.  Similarly, a non-working terminal can be quickly replaced by another. </li><li>  <strong>Independence from the workplace</strong> - Users can work under their account independently from any computer on the network; their personal profile will always be uploaded. </li><li>  <strong>OpenSource</strong> - First of all, LTSP is an open and free project.  You do not need to buy licenses to use it.  In addition, you can always see the source code, which is based on the usual bash scripts. </li></ul><br><p>  Minuses: </p><br><ul><li>  <strong>A continuous LAN connection</strong> is <strong>required</strong> ‚Äî the terminal stations are loaded and working over the network, so a stable wired connection to the network is required. </li><li>  <strong>Server dependency</strong> is understandable, without a server all terminal clients become useless and turn into a pumpkin. </li></ul><br><h1 id="ustroystvo">  Device </h1><br><p>  The first thing we need to know is the components that make up the server: </p><br><ul><li>  <strong>DHCP server</strong> ‚Äî used to give clients IP addresses and information about the tftp server and the path to the pxelinux bootloader.  You can also use your own DHCP server. </li><li> <strong>TFTP server</strong> - sends the bootloader, the kernel and the main config <code>lts.conf</code> via the tftp protocol. </li><li>  <strong>NBD server</strong> - used by the kernel to boot the base system over the network.  Also, if desired, can be replaced by <code>NFS</code> </li><li>  <strong>SSH server</strong> - used to authorize users and transfer their home directories to terminal stations. </li></ul><br><p>  Secondly, let's understand how it works: </p><br><p>  When you install the <code>ltsp-server-standalone</code> package on your server, you will get several more ltsp scripts to fully configured services: </p><br><ul><li>  <strong>ltsp-build-client</strong> - collects for us an image of the system, which we will give to client machines. </li><li>  <strong>ltsp-chroot</strong> - chroot'it us to the client system, for example, to install additional packages and change configs. </li><li>  <strong>ltsp-config</strong> - generates default configs for LTSP. </li><li>  <strong>ltsp-info</strong> - displays information about the current installation. </li><li>  <strong>ltsp-update-image</strong> - updates the nbd image of the base system. </li><li>  <strong>ltsp-update-kernels</strong> - copies the kernel and bootloader from the client image to the tftp-server directory </li><li>  <strong>ltsp-update-sshkeys</strong> ‚Äî adds ssh publickey of your server to the client image's known_hosts. </li></ul><br><p>  We will use them to configure our environment. </p><br><h1 id="kak-ustroena-zagruzka-po-seti">  How does network boot work? </h1><br><p>  It is also extremely important to understand how network boot is arranged, the boot process looks something like this: </p><br><ul><li>  The workstation turns on and polls the DHCP server, how to boot further: <br>  Or rather, two options are requested: <code>next server</code> is the address of the TFTP server and <code>boot file</code> is the path to the bootloader. </li><li>  DHCP server, gives a response with the server address and the path to pxelinux. </li><li>  Workstation loads pxelinux via TFTP </li><li>  pxelinux loads the kernel. <br>  In the pxelinux config in the kernel options, specify where to load the main system for NBD </li><li>  When the kernel starts up, it mounts the nbd image from the server to the root of the system and loads the init process, which in turn loads the rest in the usual way. </li><li>  Also at this moment, ltsp-reads the main lts.conf config from the server and starts LDM, after which the user sees an invitation to enter a login and password. </li></ul><br><p>  <strong>LDM</strong> is the LXDE logon manager, which is responsible for authorizing users and starting the environment. </p><br><div class="spoiler">  <b class="spoiler_title">Login window screenshot</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/files/165/c86/7a5/165c867a58cd4cc89ca5a32f310f29f0.png" alt="image"></p></div></div><br><p>  When the user logs in, the following occurs: </p><br><ul><li>  In the case of a thin client, LDM logs in with your login and password entered on your server via SSH, if successful, loads the environment from the server by simply forwarding X's. </li><li>  In the case of a thick client, LDM tries to connect with the login and password entered to your server, if successful, then mount the user's home directory from the server to the client using sshfs, then start the environment. </li></ul><br><p>  <em>If you need more detailed information about booting Linux over the network, I recommend <a href="https://habr.com/users/roshalsky/" class="user_link">referring</a> to the cycle of articles <a href="https://habr.com/users/roshalsky/" class="user_link">Roshalsky</a> , <a href="https://habrahabr.ru/post/253256/">here is the link to the first one</a> .</em> </p><br><h1 id="ustanovka">  Installation </h1><br><p>  I will describe the installation of LTSP in fat client mode as the most complex and interesting. <br>  Configuring in thin client mode will do little more than that, except that you will need to install the necessary software not into chroot, but into the main system, and after that you will not need to rebuild the nbd image. </p><br><p>  Little reservations, for the server it is better to take the distributions fresher, because  LTSP is among the standard packages and is updated along with the distribution. <del>  For guest OS, it's better to take proven Ubuntu 14.04 LTS, since  If you take the distribution kit fresher, then the problems begin, the bootloader does not stop, due to the renaming of packages, then what else. </del></p><br><p>  UPD: Verified with the latest Ubuntu 16.04 LTS such problems do not arise. </p><br><p>  So let's get started.  First, install <code>ltsp-server-standalone</code> : </p><br><pre> <code class="bash hljs">apt-get update &amp;&amp; apt-get install ltsp-server-standalone</code> </pre> <br><p>  Now with the help of <code>ltsp-build-client</code> we will install the client system.  LTSP supports various DEs, but what I liked most was how LXDE works.  Unlike Unity, it consumes very few resources and, as it works on bare X, it is almost completely configured using environment variables, this is very convenient, as you can specify them in the main lts.conf config. </p><br><pre> <code class="bash hljs">ltsp-build-client --dist xenial --arch i386 --fat-client-desktop lubuntu-desktop</code> </pre> <br><p>  All these options can be specified in the <code>/etc/ltsp/ltsp-build-client.conf</code> config <code>/etc/ltsp/ltsp-build-client.conf</code> , so as not to manually register them: </p><br><div class="spoiler">  <b class="spoiler_title">ltsp-build-client.conf</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># Distribution DIST=xenial # The chroot architecture. ARCH=i386 # ubuntu-desktop and edubuntu-desktop are tested. # If you test with [k|x]ubuntu-desktop, edit this page and mention if it worked OK. # kubuntu lucid (10.10) working okay. FAT_CLIENT_DESKTOPS="lubuntu-desktop" # Space separated list of programs to install. # The java plugin installation contained in ubuntu-restricted-extras # needs some special care, so let's use it as an example. #LATE_PACKAGES=" # ubuntu-restricted-extras # gimp # nfs-client #" # This is needed to answer "yes" to the Java EULA. # We'll create that file in the next step. DEBCONF_SEEDS="/etc/ltsp/debconf.seeds" # This uses the server apt cache to speed up downloading. # This locks the servers dpkg, so you can't use apt on # the server while building the chroot. MOUNT_PACKAGE_DIR="/var/cache/apt/archives/"</span></span></code> </pre> </div></div><br><p>  If the option is not specified, the same distribution kit and / or architecture will be used as on the server system. </p><br><p>  After running the command, you have a fully automatic mode, using <code>debootstrap</code> , the system will expand to the <code>/opt/ltsp/i386</code> directory. </p><br><p>  The same system will be used in the future by all LTSP commands, additional software will be installed into it, the bootloader with the kernel and the nbd image of the system will be generated from it.  In principle, it is also possible to give it over <code>nfs</code> if the boot loader is properly configured. <br>  After installing LTSP, an nbd image will be automatically generated from it.  This image will be uploaded by our customers. </p><br><p>  In order to make any changes to the guest OS, for example, to install additional software, use the <code>ltsp-chroot</code> command. <br>  If you want to change or add something to the guest system, run <code>ltsp-choot</code> and you will be inside it. <br>  Then perform the actions you need, and exit with the exit command. <br>  For the changes to apply, you need to regenerate the nbd-image with the command <code>ltsp-update-image</code> </p><br><h4 id="dhcp-server">  DHCP server: </h4><br><p>  Together with the meta <code>ltsp-server-standalone</code> , we also installed <code>isc-dhcp-server</code> . <br>  In principle, it works out of the box as it should, but if you wish, you can fix its config <code>/etc/default/isc-dhcp-server</code> . <br>  There is a <a href="https://www.opennet.ru/base/sys/ltsp_win2003.txt.html">cool article on OpenNet</a> from 2010 on how to configure LTSP, there is a good description of how to configure the DHCP server. </p><br><p>  But, since I assume that you already have a DHCP server, I suggest setting it up. </p><br><p>  Remove <code>isc-dhcp-server</code> : </p><br><pre> <code class="bash hljs">sudo apt-get remove isc-dhcp-server</code> </pre> <br><p>  Now you need to add 2 options to your dhcp server: </p><br><pre> <code class="bash hljs">next-server 192.168.1.2; <span class="hljs-comment"><span class="hljs-comment"># TFTP- filename "/ltsp/i386/pxelinux.0"; # </span></span></code> </pre> <br><p>  How to do this, see the instructions for your DHCP server. <br>  Here, for example, <a href="https://ponselgraphi.wordpress.com/2015/06/16/how-to-use-mikrotik-as-dhcp-server-for-ltsp-client/">instructions on</a> how to do this on the equipment Mikrotik. </p><br><h4 id="ustanovka-po">  Software installation </h4><br><ul><li><p>  Let's enter into our guest system: </p><br><pre> <code class="bash hljs">ltsp-chroot</code> </pre> <br></li><li><p>  Now install vim: </p><br><pre> <code class="bash hljs">apt-get update &amp;&amp; apt-get install vim</code> </pre> <br></li><li><p>  Russian language support: </p><br><pre> <code class="bash hljs">apt-get update &amp;&amp; apt-get install `check-language-support -l ru`</code> </pre> <br></li><li><p>  The latest version of Remmina: </p><br><pre> <code class="bash hljs">apt-add-repository ppa:remmina-ppa-team/remmina-next apt-get update apt-get install remmina remmina-plugin-rdp libfreerdp-plugins-standard</code> </pre> <br></li><li><p>  Skype: </p><br><pre> <code class="bash hljs">add-apt-repository -y <span class="hljs-string"><span class="hljs-string">"deb http://archive.canonical.com/ </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$(lsb_release -sc)</span></span></span><span class="hljs-string"> partner"</span></span> apt-get -y update apt-get -y install skype</code> </pre> <br></li><li><p>  Chromium browser c PepperFlash plugin (fresh flash from google) </p><br><pre> <code class="bash hljs">sudo apt-get install chromium-browser sudo apt-get install pepperflashplugin-nonfree sudo update-pepperflashplugin-nonfree --install</code> </pre> <br></li><li><p>  By the way, PepperFlash can be installed and launched without Chromium, in Firefox: </p><br></li></ul><br><div class="spoiler">  <b class="spoiler_title">Install PepperFlash for Firefox</b> <div class="spoiler_text"><pre> <code class="bash hljs">add-apt-repository -y ppa:skunk/pepper-flash add-apt-repository -y ppa:nilarimogard/webupd8 apt-get -y update apt-get -y install pepflashplugin-installer freshplayerplugin mkdir -p /opt/google/chrome/PepperFlash ln -s /usr/lib/pepflashplugin-installer/libpepflashplayer.so /opt/google/chrome/PepperFlash</code> </pre> </div></div><br><ul><li>  To allow the administrator to remotely connect to a user session, install x11vnc: </li></ul><br><div class="spoiler">  <b class="spoiler_title">Install x11vnc</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   apt-get -y install x11vnc #    cat &gt; /usr/bin/x11vncd &lt;&lt;EOT #!/bin/bash x11vncd () { XAUTH=\`ls -1td /var/run/ldm-xauth-* | head -n1 | sed 's|$|/Xauthority|'\` logger -f /var/log/x11vnc "Starting with \$XAUTH" /usr/bin/x11vnc -display :7 -rfbauth /etc/x11vnc.pass -logfile /var/log/x11vnc -xauth \$XAUTH sleep 1 x11vncd } x11vncd EOT #  init- cat &gt; /etc/init.d/x11vnc &lt;&lt;EOT #!/bin/sh ### BEGIN INIT INFO # Provides:x11vnc # Required-Start:\$remote_fs \$syslog # Required-Stop:\$remote_fs \$syslog # Default-Start:2 3 4 5 # Default-Stop:0 1 6 # Short-Description:Start X11VNC # Description:Start VNC server X11VNC at boot ### END INIT INFO case "\$1" in start) start-stop-daemon --start --oknodo --pidfile /var/run/x11vnc.pid --background --nicelevel 15 --make-pidfile --exec /usr/bin/x11vncd ;; stop) logger -f /var/log/x11vnc "Stopping" start-stop-daemon --stop --oknodo --pidfile /var/run/x11vnc.pid ;; restart) logger -f /var/log/x11vnc "Restarting" \$0 stop \$0 start ;; status) PID=\`cat /var/run/x11vnc.pid\` if [ -e /proc/\$PID ]; then echo "Process \$PID is running" else echo "No process matching" fi ;; *) echo "Usage: \$0 start|stop|restart|status" exit 1 ;; esac exit 0 EOT #   chmod +x /usr/bin/x11vncd /etc/init.d/x11vnc #     update-rc.d x11vnc defaults #   x11vnc -storepasswd /etc/x11vnc.pass</span></span></code> </pre> </div></div><br><ul><li><p>  And ssh server: </p><br><pre> <code class="bash hljs">apt-get -y install openssh-server</code> </pre> <br></li><li><p>  Even in Ubuntu 16.04 there is a certain problem, if you do not configure xscreensaver, then after a certain time, the client will show a black screen that you can‚Äôt get out of.  Fix this: </p><br><p>  Install xscreenasver if it is not already installed: </p><br><pre> <code class="bash hljs">apt-get -y install xscreensaver</code> </pre> <br><p>  Set up autostart: </p><br><pre> <code class="bash hljs">cat &gt; /etc/xdg/autostart/xscreensaver.desktop &lt;&lt;EOT [Desktop Entry] Type=Application Exec=/usr/bin/xscreensaver -nosplash Hidden=<span class="hljs-literal"><span class="hljs-literal">false</span></span> NoDisplay=<span class="hljs-literal"><span class="hljs-literal">false</span></span> X-GNOME-Autostart-enabled=<span class="hljs-literal"><span class="hljs-literal">true</span></span> Name[en_US]=xscreenasaver Name=xscreensaver Comment[en_US]= Comment= EOT</code> </pre> <br><p>  If you intend to block the screen with a password, do not forget to add the following line to your lts.conf config: </p><br><pre> <code class="bash hljs">LDM_PASSWORD_HASH=<span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre> <br></li></ul><br><p>  Do not forget to exit the chroot and update our nbd image: </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> ltsp-update-image</code> </pre> <br><h4 id="sozdanie-polzovateley">  Create users </h4><br><ul><li><p>  Standard terminal server users can be created in the standard way: </p><br><pre> <code class="bash hljs">useradd -m -c <span class="hljs-string"><span class="hljs-string">" "</span></span> -g users -s /bin/bash &lt;username&gt; passwd &lt;username&gt;</code> </pre> <br><p>  Or via GUI if it is installed on your server </p><br></li><li><p>  Also, if you wish, you can create a local administrator in the client image: </p><br><pre> <code class="bash hljs">ltsp-chroot useradd -g adm -G sudo -s /bin/bash -m &lt;adminname&gt; passwd &lt;adminname&gt; <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> ltsp-update-image</code> </pre> <br></li></ul><br><h4 id="konfig-ltsconf">  Lts.conf config </h4><br><p>  So we got to the most important configuration <br>  It is located at <code>/var/lib/tftpboot/ltsp/i386/lts.conf</code> and presents itself with something else than the description of global variables. </p><br><p>  The config is divided into sections, the Default section describes the settings common to all clients: </p><br><pre> <code class="hljs vbscript">[<span class="hljs-keyword"><span class="hljs-keyword">Default</span></span>] #  LXDE LDM_XSESSION = /usr/bin/dbus-launch --<span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-session /usr/bin/lxsession -s Lubuntu -e LXDE #      LOCALE = Europe/Moscow LC_ALL = ru_RU.UTF<span class="hljs-number"><span class="hljs-number">-8</span></span> LANG = ru_RU.UTF<span class="hljs-number"><span class="hljs-number">-8</span></span> LDM_LANGUAGE = ru_RU.UTF_8 #      XKBLAYOUT = <span class="hljs-string"><span class="hljs-string">"us,ru"</span></span> XKBOPTIONS = <span class="hljs-string"><span class="hljs-string">"grp:ctrl_shift_toggle,terminate:ctrl_alt_bksp"</span></span> X_NUMLOCK = <span class="hljs-literal"><span class="hljs-literal">true</span></span> KEYTABLE = ru LDM_NUMLOCK = <span class="hljs-literal"><span class="hljs-literal">true</span></span> #   HOTPLUG = <span class="hljs-literal"><span class="hljs-literal">True</span></span> #    LOCALDEV = <span class="hljs-literal"><span class="hljs-literal">true</span></span> #     SOUND = <span class="hljs-literal"><span class="hljs-literal">True</span></span> MIC_VOLUME = <span class="hljs-number"><span class="hljs-number">0</span></span> CAPTURE_VOLUME = <span class="hljs-number"><span class="hljs-number">100</span></span> CAPTURE_SWITCH = toggle #   SSH RCFILE_01 = <span class="hljs-string"><span class="hljs-string">"ssh-keygen -A ; /usr/sbin/sshd"</span></span> #    SYSLOG_HOST = <span class="hljs-built_in"><span class="hljs-built_in">server</span></span></code> </pre> <br><p>  You can also add sections for individual clients, based on hostname, IP or MAC address: </p><br><pre> <code class="hljs pgsql">#   [oldmachine] X_COLOR_DEPTH=<span class="hljs-number"><span class="hljs-number">8</span></span> X_MODE_0=<span class="hljs-number"><span class="hljs-number">800</span></span>x600 #   [<span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.123</span></span>] LDM_AUTOLOGIN = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> LDM_USERNAME = <span class="hljs-keyword"><span class="hljs-keyword">user</span></span> LDM_PASSWORD = <span class="hljs-keyword"><span class="hljs-keyword">password</span></span> # - [<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">25</span></span>:<span class="hljs-number"><span class="hljs-number">93</span></span>:CF:<span class="hljs-number"><span class="hljs-number">00</span></span>] PRINTER_0_DEVICE=/dev/usblp0 SCREEN_07=shell # FreeRDP,    [<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">25</span></span>:<span class="hljs-number"><span class="hljs-number">93</span></span>:C:<span class="hljs-number"><span class="hljs-number">11</span></span>] SCREEN_07=xfreerdp RDP_SERVER=<span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.100</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span> RDP_OPTIONS="/f /sec:rdp /cert-ignore /multimon:force"</code> </pre> <br><p>  In general, a full list of options can be found on <a href="http://manpages.ubuntu.com/manpages/lucid/man5/lts.conf.5.html">this page</a> , or in </p><br><pre> <code class="bash hljs">man lts.conf</code> </pre> <br><h1 id="itogi">  Results </h1><br><p>  As a result, we get at the same time a flexible, secure and easy to administer system. <br>  We can use standard methods to install any software on it, differentiate user rights, edit configs common for each user separately, and not be afraid for data loss. </p><br><p>  Moreover, thanks to the free license, all this comes to you absolutely free. </p><br><p>  LTSP can be used both in educational institutions and in ordinary offices, both for remote connection to Windows, and simply for ordinary work. </p><br><p>  UPD: <a href="https://habr.com/users/widestream/" class="user_link">wrote</a> to <a href="https://habr.com/users/widestream/" class="user_link">widestream</a> in the comments that he successfully uses a similar scheme for creating a render farm. </p><br><p>  It‚Äôs no secret that nowadays, for the majority of employees, now, only a browser with a basic set of office programs in the workplace will be sufficient. </p><br><p>  Some interesting links: </p><br><ul><li>  <a href="http://www.ltsp.org/">LTSP.org</a> - Official site of the project. </li><li>  <a href="https://help.ubuntu.com/community/UbuntuLTSP">UbuntuLTSP</a> - A page on the Ubuntu Wiki. </li><li>  <a href="http://www.ltsp-cluster.org/">LTSP-Cluster</a> .  - The project to create a cluster on the LTSP (for large installations). </li><li>  <a href="https://www.raspberrypi.org/blog/raspi-ltsp-is-now-pinet/">Raspi-LTSP</a> - An interesting project that allows you to use Raspberry Pi as a terminal station. </li></ul><br><h3 id="russkogovoryaschee-soobschestvo">  Russian-speaking community </h3><br><p>  If you have any questions, join our group in a telegram: <br>  <a href="https://t.me/ltsp_ru">https://t.me/ltsp_ru</a> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/277783/">https://habr.com/ru/post/277783/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../277773/index.html">10 theses indie development, which led to success</a></li>
<li><a href="../277775/index.html">IntelliJ IDEA 16 Public Preview Review</a></li>
<li><a href="../277777/index.html">Azure Stack Technical Preview 1 features overview</a></li>
<li><a href="../277779/index.html">The unexpected behavior of openssl_random_pseudo_bytes () leads to a fatal loss of robustness</a></li>
<li><a href="../277781/index.html">Using convolutional networks for searching, highlighting, and classifying</a></li>
<li><a href="../277785/index.html">A vulnerability was found in EMET</a></li>
<li><a href="../277787/index.html">Festive social project: share a solution - save your colleagues health</a></li>
<li><a href="../277789/index.html">Rummage in the "directing version" Wasteland 2: mechanics and interfaces</a></li>
<li><a href="../277791/index.html">Wash down with me CRM! About types of refinement</a></li>
<li><a href="../277793/index.html">Rogue AP - fake access points</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>