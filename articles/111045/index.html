<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Booting c iso images with memdisk and grub4dos</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="You've probably heard about such devices as a netbook. And you know that they do not provide an optical drive (CD \ DVD). 
 By purchasing a netbook, I...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Booting c iso images with memdisk and grub4dos</h1><div class="post__text post__text-html js-mediator-article">  You've probably heard about such devices as a netbook.  And you know that they do not provide an optical drive (CD \ DVD). <br>  By purchasing a netbook, I ran into a problem - I needed to pay another $ 60 for an external optical drive, which was a little expensive for a poor student in a crisis.  The device flatly refused to boot from the flash drive from the card (why - I still do not understand ...) and then the thought occurred to me: "And if you boot from the image?" - so the search began ... <br><br>  Next, I suggest reading how I solved the problem with grub4dos and memdisk.  The ultimate goal is to download the openSUSE 11.3 netinstall image. <br><br><a name="habracut"></a><br>  Immediately make a reservation: <br>  Not all images can be downloaded as described (I never managed to install WinXP). <br>  The image is mounted in the RAM and therefore large images cannot be mounted in this manner. <br>  This is not the only way to download iso content - you can copy the kernel and all the necessary resources to disk and load the resulting structure, but this method requires an understanding of how the installer works and is not always feasible. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Step One: Preparation </h4><br>  I got a netbook with Windows XP preinstalled, so the whole thing is based on having Win XP installed. <br>  I used grub4dos, although everything stated in this article is applicable to the usual GRUB (at the moment everything is working on the usual). <br>  We need one partition with a file system supported by the loader (any other than NTFS). <br>  * I used FAT32, but ext2 \ ext3 will do. <br>  We copy on our section an image. <br><br><h4>  Step Two: Install grub4dos </h4><br>  We read the <a href="http://greenflash.su/Grub4Dos/files/install.htm">documentation</a> or the continuation of the article;) <br>  Download grub4dos <a href="http://sourceforge.net/projects/grub4dos/">from here</a> . <br>  Unpack the archive, copy grub4dos - * \ grldr to the root directory of the system disk (usually - C: \, then -% sysdisk%);  open% sysdisk% \ boot.ini and append it to the [operating system] section <br> <code>C:\grldr="Grub4Dos"</code> <br>  The address ‚ÄúC: \ grldr‚Äù should be used even if the installed OS has a different drive letter. <br>  * The documentation describes installation on a more modern bootloader. <br>  Something will turn out like: <br> <code>[boot loader] <br> timeout=30 <br> default=multi(0)disk(0)rdisk(0)partition(1)\WINDOWS <br> [operating systems] <br> multi(0)disk(0)rdisk(0)partition(1)\WINDOWS="Microsoft Windows XP Professional" /noexecute=optin /fastdetect <br> C:\grldr="Grub4Dos" <br></code> <br>  The contents of the grub4dos- folder * add to% sysdisk% \ Grub4Dos <br>  The config from% sysdisk% \ Grub4Dos \ MENU.LST is shifted to% sysdisk% \ MENU.LST <br>  * It is important to understand that grub4dos initially tries to read (hd0,0) \ MENU.LST, therefore it is better to either use the <code>--config-file=%CONFIG%</code> key or put MENU.LST in the root of the section (hd0,0).  Usually this is C: \ or / dev / sda1 <br>  ** It is also important to understand how GRUB numbers the disks, you can read about it either in the <a href="http://www.gnu.org/software/grub/manual/html_node/Naming-convention.html">official</a> or in the <a href="http://greenflash.su/Grub4Dos/files/syntax.htm">translated</a> documentation. <br>  *** According to the documentation, there is another option that provides for configuring the config in the key --config-file =% CONFIG% as follows <code>--config-file="find --set-root /openSUSE-11.3-NET-i586.iso; kernel /memdisk iso raw; initrd /openSUSE-11.3-NET-i586.iso"</code> but for some reason I don‚Äôt want to work this way (probably due to the fact that the regular GRUB is registered in the MBR). <br><br><h4>  Step Three: memdisk </h4><br>  You have 2 options: download syslinux and build memdisk yourself or download the memdisk I collected from <a href="http://dl.dropbox.com/u/17629640/memdisk">dropbox</a> . <br>  Memdisk is saved on the partition with the image (for simplicity). <br>  * Generally speaking, we can keep the image and memdisk on different partitions, but then we have to use the absolute path to memdisk (or the image, which is less likely). <br><br><h4>  Step Four: Setup </h4><br>  Open% sysdisk% \ MENU.LST <br>  Add a block there (openSUSE-11.3-NET-i586.iso - image name) <br> <code>title boot an image with memdisk <br> find --set-root /openSUSE-11.3-NET-i586.iso <br> kernel /memdisk iso raw <br> initrd /openSUSE-11.3-NET-i586.iso <br></code> <br>  Save, reboot ... The standard bootloader (ntldr) with 2 options is loaded - load Windows or load Grub4Dos. <br>  We load the last one and see how our image is loaded. <br><br><h4>  Alternative option </h4><br>  There is another way to mount iso in Grub4Dos: add it to% sysdisk% \ MENU.LST <br> <code>title boot an image with memdisk <br> find --set-root /openSUSE-11.3-NET-i586.iso <br> map /openSUSE-11.3-NET-i586.iso (0xff) || map --mem /openSUSE-11.3-NET-i586.iso (0xff) <br> map --hook <br></code> </div><p>Source: <a href="https://habr.com/ru/post/111045/">https://habr.com/ru/post/111045/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../111040/index.html">Three In The Server, Version 1.0, New Year's Edition</a></li>
<li><a href="../111041/index.html">Amf and C # on the example of a bot for Settlers online</a></li>
<li><a href="../111042/index.html">Continuing the topic of the GSM wiretap</a></li>
<li><a href="../111043/index.html">Graphematic module. Highlighting offers</a></li>
<li><a href="../111044/index.html">Experience using js-ctypes in Firefox 4 on Windows</a></li>
<li><a href="../111049/index.html">Lifestyle service chi.mp (free 2nd level domain, blog) does not filter javascript</a></li>
<li><a href="../111050/index.html">Another story of a small hosting provider</a></li>
<li><a href="../111053/index.html">HTC HD2: Android in NAND is a reality!</a></li>
<li><a href="../111054/index.html">DPI Technology Overview - Deep Packet Inspection</a></li>
<li><a href="../111055/index.html">E-mobile e-filling</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>