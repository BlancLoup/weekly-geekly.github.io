<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Debugging C ++ programs in GNU / Linux OS</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It just so happens that I have been spending a lot of time with the GNU / Linux family of operating systems. My main activity is software development ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Debugging C ++ programs in GNU / Linux OS</h1><div class="post__text post__text-html js-mediator-article">  It just so happens that I have been spending a lot of time with the GNU / Linux family of operating systems.  My main activity is software development in C ++. <br><br>  So, the main problem with using the debugger is displaying complex containers, for example, stl-containers. <br><br>  The solution I propose is relevant to gdb.  This debugger supports scripts written in python, and the mechanisms for displaying complex objects are called pretty printers.  Those.  In order for the debugger to display everything correctly, you need to tell it where the scripts are located with these pretty printers.  To indicate additional commands to the debugger, a .gdbinit file is required. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, I will try to arrange everything, both the instructions and it is more convenient to read, and I will not forget myself. <br><a name="habracut"></a><br>  <b>1. Install gcc, g ++, gdb, libstdc ++ - dbg</b> , the latter is very important, since  in fresh distributions it is with debugging symbols that scripts are installed with pretty printers, for example, in Ubuntu 14.04 the directory /usr/share/gcc-4.8/python/libstdcxx appears. <br>  <b>2. Create a .gdbinit file in the home directory</b> with the following contents: <br><br><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># # .gdbinit : GDB Config file # # add python pretty printers for STL python import sys sys.path.insert(0, '/usr/share/gcc-4.8/python') from libstdcxx.v6.printers import register_libstdcxx_printers register_libstdcxx_printers (None) end set auto-load local-gdbinit on set print pretty on set print object on set print static-members on set print vtbl on set print demangle on set demangle-style gnu-v3 set print sevenbit-strings off</span></span></code> </pre> <br><br>  Everything seems to be fine, but there is a problem, in recent versions of GNU / Linux, gdb is built with support for python version 3. *, and by default python version 2 is installed. *.  To fix this problem, i.e.  to make scripts with support for both versions of python there is a patch, you can find it in the open spaces of the network, you can take it here: _https: //www.dropbox.com/s/ef265fbo00yk1x8/libstdcpp.patch.  Changes are subject to the file /usr/share/gcc-4.8/python/libstdcxx/v6/printers.py <br><br>  And again, everything seems to be fine, but again there is a problem, on some distributions, those very scripts with pretty printers are not installed.  To do this, there is the svn repository _svn: //gcc.gnu.org/svn/gcc/trunk/libstdc++-v3/python.  Here is a link with an additional description: _http: //sourceware.org/gdb/wiki/STLSupport.  If this is your case, then, after unloading the repository, do not forget to change the path to the downloaded scripts in the .gdbinit file. <br><br>  <b>3. When building a project with debugging, remember to include the _GLIBCXX_DEBUG flag.</b>  This is necessary to properly display containers such as stringstream. <br><br>  In conclusion, I want to say that ‚Äúdancing‚Äù with pretty printers (second paragraph) is not needed if you use QtCreator as an IDE.  This IDE uses its own scripts to interact with gdb. </div><p>Source: <a href="https://habr.com/ru/post/234237/">https://habr.com/ru/post/234237/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../234225/index.html">Roscosmos plans to build a device for cleaning the orbit of space debris</a></li>
<li><a href="../234227/index.html">Software Project Management Conference: Why it is important not to miss the main conference on IT project management</a></li>
<li><a href="../234229/index.html">Interview with Grigori Kornilov (Kaspersky Lab)</a></li>
<li><a href="../234231/index.html">Google will have to return the steering wheel and pedals to their robotic cars.</a></li>
<li><a href="../234235/index.html">RDP vs RemoteFX</a></li>
<li><a href="../234239/index.html">Stay Journey. Part 1</a></li>
<li><a href="../234241/index.html">Contour.Elba for Android. Developer Notes</a></li>
<li><a href="../234243/index.html">Video surveillance from idea to ... idea. Data</a></li>
<li><a href="../234245/index.html">Monkey Selfie copyright problem solved by US Copyright Office</a></li>
<li><a href="../234247/index.html">Techniques for working with query execution plans in Oracle</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>