<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Auto-update of stock deadline in Yandex.Direct</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In front of me and my acquaintances, there was more than once a task to update the dates daily in Yandex.Direct ads. In the ad is written "Have time t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Auto-update of stock deadline in Yandex.Direct</h1><div class="post__text post__text-html js-mediator-article">  In front of me and my acquaintances, there was more than once a task to update the dates daily in Yandex.Direct ads.  In the ad is written "Have time to May 21", if today is May 20.  And so every day is exposed the next day.  For some reason, they all did it manually, although the task is perfectly and conveniently automated using the <a href="http://api.yandex.ru/direct/">API</a> provided by this service. <br><a name="habracut"></a><br>  I have automated this task and want to share it with an already <a href="https://github.com/gepo/ecommerce-tools/blob/master/yandex.direct/update_discount_banner.php">prepared script</a> .  In addition, it will serve as an example for work in such situations, it is easy to adapt it for other similar tasks. <br><br>  The script was written under the campaign of my partner, for others it may need some changes.  It was important for me to simplify the work with the script, so the option ‚ÄúI will upload the templates of all ads to the server and I will update every day‚Äù didn‚Äôt work - so when changing or adding ads, they had to be configured on the server. <br><br>  As a result, I came to the conclusion that it is better to automatically search for the deadline in the ad and correct it to the correct one. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The principle of the script is as follows: <br><ul><li>  All ads from the specified campaigns are downloaded. </li><li>  In phrases like "before 11.22", the numbers are replaced with the desired date. <br>  For example, ‚Äúbefore 01.05‚Äù will be replaced by ‚Äúuntil 21.05‚Äù, if today is May 20. <br>  The current dates in the announcement can be any, if only there were two digits for both the day and the month (correctly: <br>  09.05, wrong: 9.05, 9.5, 09.5) <br></li><li>  In the phrases of the form "before May 2," the date and month are replaced with the necessary ones. <br>  Phrases like "up to 20 percent" are ignored, as the last word can only be the name of the month. <br></li></ul><br><br>  To get started with the API, you need to: <br><ul><li>  In the Yandex.Direct interface, enable the use of the API by reading and agreeing to the rules. </li><li>  Create a certificate and download it. </li></ul><br>  Next, download all the files from the archive with the certificate to the directory with the script on the server. <br><br>  The following parameters should be entered into the script (in the first two lines): <br><ul><li>  List of identifiers of advertising campaigns (similar to what is written in the line). </li><li>  The number of days to add to the current (default is 1 day). </li></ul><br><br>  Next, add a call to this script in cron at night, from 0 to 9 o'clock (9:00 - moderation start time)  It remains only to receive notifications of the past moderations in the morning. <br><br>  Yandex.Direct API documentation: <a href="http://api.yandex.ru/direct/">http://api.yandex.ru/direct/</a> <br>  The script itself: <a href="https://github.com/gepo/ecommerce-tools/blob/master/yandex.direct/update_discount_banner.php">https://github.com/gepo/ecommerce-tools</a> </div><p>Source: <a href="https://habr.com/ru/post/144574/">https://habr.com/ru/post/144574/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../144568/index.html">Data Warehouse Metrics</a></li>
<li><a href="../144569/index.html">Dragon SpaceX successfully reached the ISS</a></li>
<li><a href="../144571/index.html">Localization of a point in a convex polygon</a></li>
<li><a href="../144572/index.html">Leaked PS4 specs</a></li>
<li><a href="../144573/index.html">Large images on the site for users with Retina Display - retina.js</a></li>
<li><a href="../144575/index.html">BIOS update on Dell PowerEdge R510 server</a></li>
<li><a href="../144580/index.html">User identification by voice</a></li>
<li><a href="../144582/index.html">Developing a PHP module in C ++. Part 1: Excursion into the world of Zend Engine 2</a></li>
<li><a href="../144586/index.html">Happy Birthday, Habr!</a></li>
<li><a href="../144587/index.html">PocketLint: Opera intends to buy Facebook?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>