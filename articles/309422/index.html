<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>React patterns</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi Habr! I offer you a free translation of the article ‚Äú React Patterns ‚Äù by Michael Chan, with some of my notes and additions. 

 First of all I woul...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>React patterns</h1><div class="post__text post__text-html js-mediator-article">  Hi Habr!  I offer you a free translation of the article ‚Äú <a href="http://reactpatterns.com/">React Patterns</a> ‚Äù by Michael Chan, with some of my notes and additions. <br><br>  First of all I would like to thank the author of the original text.  Translated, I used the term ‚ÄúSimple Component‚Äù as a designation for Stateless Component aka Dump Component aka Component vs Container <br>  Constructive criticism, as well as alternative patterns and features React welcome in the comments. <br><br>  <b>Table of contents</b> <br><blockquote><ul><li>  <b>Simple components</b> - Stateless function </li><li>  <b>JSX Attribute Distribution</b> - JSX Spread Attributes </li><li>  <b>Destructuring Arguments</b> - Destructuring Arguments </li><li>  Conditional Rendering </li><li>  <b>Types of descendants</b> - Children Types </li><li>  <b>Array as a descendant</b> - Array as children </li><li>  <b>Function as a child</b> - Function as children </li><li>  Render <b>function</b> - Render callback </li><li>  <b>Descendants Pass</b> - Children pass-through </li><li>  <b>Component Redirection</b> - Proxy component </li><li>  <b>Styling components</b> - Style component </li><li>  Event switch - Event switch </li><li>  <b>Component</b> Layout - Layout component </li><li>  <b>Component container</b> - Container component </li><li>  Higher-order components </li></ul></blockquote><br>  Go! <br><a name="habracut"></a><br><h3>  Stateless function </h3><br>  A stateless function (hereinafter referred to as Simple Copons) is a great way to define a universal component.  They do not contain a state (state) or a reference to a DOM element (ref), these are just functions. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Greeting = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> &lt;div&gt;Hi there!<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br>  They pass parameters (props) and context <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Greeting = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props, context</span></span></span><span class="hljs-function">) =&gt;</span></span> &lt;div style={{<span class="hljs-attr"><span class="hljs-attr">color</span></span>: context.color}}&gt;Hi {props.name}!<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre><br>  They can define local variables if they use blocks ({}) <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Greeting = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props, context</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> style = { <span class="hljs-attr"><span class="hljs-attr">fontWeight</span></span>: <span class="hljs-string"><span class="hljs-string">"bold"</span></span>, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: context.color, } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{style}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{props.name}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> }</code> </pre><br>  But you can get the same result if you use another function. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getStyle = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">context</span></span></span><span class="hljs-function"> =&gt;</span></span> ({ <span class="hljs-attr"><span class="hljs-attr">fontWeight</span></span>: <span class="hljs-string"><span class="hljs-string">"bold"</span></span>, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: context.color, }) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Greeting = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props, context</span></span></span><span class="hljs-function">) =&gt;</span></span> &lt;div style={getStyle(context)}&gt;{props.name}&lt;<span class="hljs-regexp"><span class="hljs-regexp">/div&gt;</span></span></code> </pre><br>  They can define defaultProps, propTypes and contextTypes <br><br><pre> <code class="javascript hljs">Greeting.propTypes = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: PropTypes.string.isRequired } Greeting.defaultProps = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">"Guest"</span></span> } Greeting.contextTypes = { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: PropTypes.string }</code> </pre><br><h3>  JSX Spread Attributes </h3><br>  Attribute distribution is a JSX fitch.  Such a syntactic twist to pass all properties of an object as JSX attributes <br><br>  These two examples are equivalent: <br><br>  - props are written as attributes: <br><br><pre> <code class="javascript hljs">&lt;main className=<span class="hljs-string"><span class="hljs-string">"main"</span></span> role=<span class="hljs-string"><span class="hljs-string">"main"</span></span>&gt;{children}&lt;<span class="hljs-regexp"><span class="hljs-regexp">/main&gt;</span></span></code> </pre><br>  - props "distributed" from the object: <br><br><pre> <code class="javascript hljs">&lt;main {...{<span class="hljs-attr"><span class="hljs-attr">className</span></span>: <span class="hljs-string"><span class="hljs-string">"main"</span></span>, <span class="hljs-attr"><span class="hljs-attr">role</span></span>: <span class="hljs-string"><span class="hljs-string">"main"</span></span>, children}} /&gt;</code> </pre><br>  Use props redirection to the object being created. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> FancyDiv = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function"> =&gt;</span></span> &lt;div className=<span class="hljs-string"><span class="hljs-string">"fancy"</span></span> {...props} /&gt;</code> </pre><br>  Now you can be sure that the desired attribute will be present (className), as well as those that you did not specify directly in the function but passed into it along with props <br><br><pre> <code class="javascript hljs">&lt;FancyDiv data-id=<span class="hljs-string"><span class="hljs-string">"my-fancy-div"</span></span>&gt;So Fancy&lt;<span class="hljs-regexp"><span class="hljs-regexp">/FancyDiv&gt;</span></span></code> </pre><br>  <i>Result:</i> <br><br><pre> <code class="javascript hljs">&lt;div className=<span class="hljs-string"><span class="hljs-string">"fancy"</span></span> data-id=<span class="hljs-string"><span class="hljs-string">"my-fancy-div"</span></span>&gt;So Fancy&lt;<span class="hljs-regexp"><span class="hljs-regexp">/div&gt;</span></span></code> </pre><br>  Keep in mind that order matters.  if props.className is defined, then this property will overwrite the className defined in FancyDiv <br><br><pre> <code class="javascript hljs">&lt;FancyDiv className=<span class="hljs-string"><span class="hljs-string">"my-fancy-div"</span></span> /&gt;</code> </pre><br>  <i>Result:</i> <br><br><pre> <code class="javascript hljs">&lt;div className=<span class="hljs-string"><span class="hljs-string">"my-fancy-div"</span></span>&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre><br>  We can make FancyDivs className always ‚Äúwin‚Äù by typing it after the spread props ({... props}). <br>  You can make your property always overwrite the transmitted via props. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> FancyDiv = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function"> =&gt;</span></span> &lt;div {...props} className=<span class="hljs-string"><span class="hljs-string">"fancy"</span></span> /&gt;</code> </pre><br>  There is a more elegant approach - to combine both properties. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> FancyDiv = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ className, ...props }</span></span></span><span class="hljs-function">) =&gt;</span></span> &lt;div className={[<span class="hljs-string"><span class="hljs-string">"fancy"</span></span>, className].join(<span class="hljs-string"><span class="hljs-string">' '</span></span>)} {...props} /&gt;</code> </pre><br><h3>  Destructuring Arguments </h3><br>  The destructuring assignment is a feature of the ES2015 standard.  It goes well with props for Simple Components. <br><br>  These examples are equivalent. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Greeting = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function"> =&gt;</span></span> &lt;div&gt;Hi {props.name}!<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Greeting = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ name }</span></span></span><span class="hljs-function">) =&gt;</span></span> &lt;div&gt;Hi {name}!<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre><br>  The syntax of the rest (...) operator allows you to collect the remaining properties in the object <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Greeting = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ name, ...props }</span></span></span><span class="hljs-function">) =&gt;</span></span> &lt;div&gt;Hi {name}!<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre><br>  Further, this object can be used to pass non-selected properties further in the created component. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Greeting = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ name, ...props }</span></span></span><span class="hljs-function">) =&gt;</span></span> &lt;div {...props}&gt;Hi {name}!<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre><br>  Avoid forwarding non-DOM props to composed components.  If you can create an object without component-specific props. <br><br><h3>  Conditional rendering </h3><br>  You can use the usual if / else syntax in components.  But conditional (ternary) operators are your friends. <br><br>  <i>if</i> <br><br><pre> <code class="javascript hljs">{condition &amp;&amp; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Rendered when `truthy`</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> }</code> </pre><br>  <i>unless</i> <br><br><pre> <code class="javascript hljs">{condition || <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Rendered when `falsey`</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> }</code> </pre><br>  <i>if-else (tidy one-liners)</i> <br><br><pre> <code class="javascript hljs">{condition ? <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Rendered when `truthy`</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> : <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Rendered when `falsey`</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> }</code> </pre><br>  <i>if-else (big blocks)</i> <br><br><pre> <code class="javascript hljs">{condition ? ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> Rendered when `truthy` </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ) : ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> Rendered when `falsey` </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> )}</code> </pre><br>  * I prefer not to use the constructs from the last example; in this case, using the usual if / else will be much clearer, although everything depends on the specific code. <br><br><h3>  Children types </h3><br>  React can render descendants of any type.  Basically it is an array or string. <br><br>  <i>Line</i> <br><br><pre> <code class="javascript hljs">&lt;div&gt; Hello World! <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre><br>  <i>Array</i> <br><br><pre> <code class="javascript hljs">&lt;div&gt; {[<span class="hljs-string"><span class="hljs-string">"Hello "</span></span>, &lt;span&gt;World&lt;<span class="hljs-regexp"><span class="hljs-regexp">/span&gt;, "!"]} &lt;/</span></span>div&gt;</code> </pre><br>  Functions can also be used as children.  However, you need to coordinate their behavior with the parent component. <br><br>  <i>Function</i> <br><br><pre> <code class="javascript hljs">&lt;div&gt; {() =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"hello world!"</span></span>}()} &lt;<span class="hljs-regexp"><span class="hljs-regexp">/div&gt;</span></span></code> </pre><br><h3>  Array as children </h3><br>  Using an array of descendants is a common pattern, for example, so you make lists in React. <br><br>  Use map () to create an array of React elements for each value in the array. <br><br><pre> <code class="javascript hljs">&lt;ul&gt; {[<span class="hljs-string"><span class="hljs-string">"first"</span></span>, <span class="hljs-string"><span class="hljs-string">"second"</span></span>].map(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item</span></span></span><span class="hljs-function">) =&gt;</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{item}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ))} &lt;<span class="hljs-regexp"><span class="hljs-regexp">/ul&gt;</span></span></code> </pre><br>  This is equivalent to an array literal with objects. <br><br><pre> <code class="javascript hljs">&lt;ul&gt; {[ <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">first</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>, &lt;li&gt;second&lt;<span class="hljs-regexp"><span class="hljs-regexp">/li&gt;, ]} &lt;/u</span></span>l&gt;</code> </pre><br>  Such a pattern can be used in conjunction with destructuring, attribute distribution, and other features to make writing code easier. <br><br><pre> <code class="javascript hljs">&lt;ul&gt; {arrayOfMessageObjects.map(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ id, ...message }</span></span></span><span class="hljs-function">) =&gt;</span></span> &lt;Message key={id} {...message} /&gt; )} &lt;<span class="hljs-regexp"><span class="hljs-regexp">/ul&gt;</span></span></code> </pre><br><h3>  Function as children </h3><br>  Using functions as descendants requires additional attention on your part so that you can benefit from them. <br><br><pre> <code class="javascript hljs">&lt;div&gt;{() =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"hello world!¬ª}()}&lt;/div&gt;</span></span></code> </pre><br>  However, they can give your components super strength, such a technique is usually called a render-callback. <br><br>  This powerful technique is used in libraries such as ReactMotion.  When you apply it, the rendering logic can be controlled from the parent component, instead of completely transferring it to the component itself. <br><br><h3>  Render callback </h3><br>  Here is an example of a component that uses render callback.  It is generally useless, however it is a good illustration of the possibilities to begin with. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Width = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ children }</span></span></span><span class="hljs-function">) =&gt;</span></span> children(<span class="hljs-number"><span class="hljs-number">500</span></span>)</code> </pre><br>  The component calls the descendants as a function with a specific argument.  In this case, the number is 500. <br><br>  To use this component, we pass it a function as a child. <br><br><pre> <code class="javascript hljs">&lt;Width&gt; {width =&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">window is {width}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>} &lt;<span class="hljs-regexp"><span class="hljs-regexp">/Width&gt;</span></span></code> </pre><br>  We get this result <br><br><pre> <code class="javascript hljs">&lt;div&gt;<span class="hljs-built_in"><span class="hljs-built_in">window</span></span> is <span class="hljs-number"><span class="hljs-number">500</span></span>&lt;<span class="hljs-regexp"><span class="hljs-regexp">/div&gt;</span></span></code> </pre><br>  With this approach, you can use the parameter (width), for conditional rendering <br><br><pre> <code class="javascript hljs">&lt;Width&gt; {width =&gt; width &gt; <span class="hljs-number"><span class="hljs-number">600</span></span> ? <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">min-width requirement met!</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> : <span class="hljs-literal"><span class="hljs-literal">null</span></span> } &lt;<span class="hljs-regexp"><span class="hljs-regexp">/Width&gt;</span></span></code> </pre><br>  If we plan to use this condition many times, then we can define another component in order to pass this logic to it. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> MinWidth = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ width: minWidth, children }</span></span></span><span class="hljs-function">) =&gt;</span></span> &lt;Width&gt; {width =&gt; width &gt; minWidth ? children : <span class="hljs-literal"><span class="hljs-literal">null</span></span> } &lt;<span class="hljs-regexp"><span class="hljs-regexp">/Width&gt;</span></span></code> </pre><br>  Obviously, the static component Width is not very useful, but we can monitor the size of the browser window with this approach, this is something <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WindowWidth</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = { <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> } } componentDidMount() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState( {<span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerWidth}, <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener( <span class="hljs-string"><span class="hljs-string">"resize"</span></span>, ({ target }) =&gt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({<span class="hljs-attr"><span class="hljs-attr">width</span></span>: target.innerWidth}) ) ) } render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.children(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.width) } }</code> </pre><br>  Many prefer High Order Components for this type of functionality.  This is a matter of personal preference. <br><br><h3>  Children pass-through </h3><br>  You can create a component to apply the context and render the children. <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SomeContextProvider</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ getChildContext() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {<span class="hljs-attr"><span class="hljs-attr">some</span></span>: <span class="hljs-string"><span class="hljs-string">"context"</span></span>} } render() { <span class="hljs-comment"><span class="hljs-comment">// how best do we return `children`? } }</span></span></code> </pre><br>  Here you should make a decision.  Wrap the descendants in another html tag (div), or return only the descendants.  The first option can affect existing markup and can break styles.  The second one will lead to an error (you remember that only one parent element from the component can be returned) <br><br>  <i>Option 1: additional div</i> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{children}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre><br>  <i>Option 2: Error</i> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> children</code> </pre><br>  It is best to manage the descendants with the help of special methods - React.Children.  For example, the example below allows you to return only descendants and does not require additional wrappers. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> React.Children.only(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.children)</code> </pre><br><h3>  Proxy component </h3><br>  (I'm not sure that this name means anything at all) approx.  author of the article <br><br>  Buttons everywhere in the application.  And each of them must have an attribute of type 'button' <br><br><pre> <code class="javascript hljs">&lt;button type=¬´button<span class="hljs-string"><span class="hljs-string">"&gt;</span></span></code> </pre><br>  Writing such books hundreds of times with pens is not our method.  We can write a higher level component to redirect props to a component at a lower level. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Button = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function"> =&gt;</span></span> &lt;button type=<span class="hljs-string"><span class="hljs-string">"button"</span></span> {‚Ä¶props}&gt;</code> </pre><br>  Then you simply use the Button, instead of the button, and you can be sure that the desired attribute will be present in each button. <br><br><pre> <code class="javascript hljs">&lt;Button /&gt; <span class="hljs-comment"><span class="hljs-comment">//  &lt;button type="button"&gt;&lt;button&gt;</span></span></code> </pre><br><pre> <code class="javascript hljs">&lt;Button className=<span class="hljs-string"><span class="hljs-string">"CTA"</span></span>&gt;Send Money&lt;<span class="hljs-regexp"><span class="hljs-regexp">/Button&gt; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  &lt;button type="button" class="CTA"&gt;Send Money&lt;/</span></span>button&gt;</code> </pre><br><h3>  Style component </h3><br>  This is a proxy component applied to styles.  Let's say we have a button.  She uses classes to look like 'primary'. <br><br><pre> <code class="javascript hljs">&lt;button type=<span class="hljs-string"><span class="hljs-string">"button"</span></span> className=<span class="hljs-string"><span class="hljs-string">"btn btn-primary¬ª&gt;</span></span></code> </pre><br>  You can stir up this using a few simple components. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PrimaryBtn = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function"> =&gt;</span></span> &lt;Btn {...props} primary /&gt; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Btn = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ className, primary, ...props }</span></span></span><span class="hljs-function">) =&gt;</span></span> &lt;button type=<span class="hljs-string"><span class="hljs-string">"button"</span></span> className={classnames( <span class="hljs-string"><span class="hljs-string">"btn"</span></span>, primary &amp;&amp; <span class="hljs-string"><span class="hljs-string">"btn-primary"</span></span>, className )} {...props} /&gt;</code> </pre><br>  This will help visualize what is happening. <br>  PrimaryBtn () <br>  ‚Ü≥ Btn ({primary: true}) <br>  ‚Ü≥ Button ({className: "btn btn-primary"}, type: "button"}) <br>  &lt;'&lt;Button type = "button" class = "btn btn-primary"&gt;' <br><br>  Using these components will return the same result. <br><br><pre> <code class="javascript hljs">&lt;PrimaryBtn /&gt; &lt;Btn primary /&gt; &lt;button type="button" className="btn btn-primary" /&gt;</code> </pre><br>  This approach can bring tangible benefits, as it isolates certain styles in a particular component. <br><br><h3>  Event switch </h3><br>  When writing event handlers, we usually use function naming convention <br><br><pre> <code class="javascript hljs">handle{eventName} handleClick(e) { <span class="hljs-comment"><span class="hljs-comment">/* do something */</span></span> }</code> </pre><br>  For components that handle multiple events, this name may be unnecessarily repeated.  The names themselves do not give us any value, as they simply direct us to actions / functions. <br><br><pre> <code class="javascript hljs">handleClick() { <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"./actions/doStuff"</span></span>)(<span class="hljs-comment"><span class="hljs-comment">/* action dtes */</span></span>) } handleMouseEnter() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ <span class="hljs-attr"><span class="hljs-attr">hovered</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }) } handleMouseLeave() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ <span class="hljs-attr"><span class="hljs-attr">hovered</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }) }</code> </pre><br>  Let's write a simple handler for all events with a switch by event type (event.type) <br><br><pre> <code class="javascript hljs">handleEvent({type}) { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(type) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"click"</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"./actions/doStuff"</span></span>)(<span class="hljs-comment"><span class="hljs-comment">/* action dates */</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"mouseenter"</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ <span class="hljs-attr"><span class="hljs-attr">hovered</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"mouseenter"</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ <span class="hljs-attr"><span class="hljs-attr">hovered</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }) <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.warn(<span class="hljs-string"><span class="hljs-string">`No case for event type "</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${type}</span></span></span><span class="hljs-string">"`</span></span>) } }</code> </pre><br>  You can also call function arguments directly using the arrow function. <br><br><pre> <code class="javascript hljs">&lt;div onClick={() =&gt; someImportedAction({ <span class="hljs-attr"><span class="hljs-attr">action</span></span>: <span class="hljs-string"><span class="hljs-string">"DO_STUFF"</span></span> })}</code> </pre><br>  Do not worry about performance optimization, until you encounter such problems.  Seriously, no need. <br><br>  * Personally, I do not think this approach is successful, since it does not add readability to the code.  I prefer to use React features with functions that are bound to the context by the automaton.  That is, the following notation is no longer necessary. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleClick = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleClick.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)</code> </pre><br>  the following notation works instead <br><br><pre> <code class="javascript hljs">handleClick = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {‚Ä¶} <span class="hljs-comment"><span class="hljs-comment">//  handleClick() {...}</span></span></code> </pre><br>  and then somewhere else maybe just <br><br><pre> <code class="javascript hljs">onClick={<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleClick}</code> </pre><br>  In this case, the context (this) will not be lost if inside the function the handler refers to it.  Accordingly, such functions can be easily transferred as props to other components and called into them. <br><br>  Also, in case we pass such a function to a child, Simple Component, we can get a reference to the DOM element of this component via the event.target in the parent component, which is sometimes useful. <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SomeComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ onButtonClick = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> button = e.target; <span class="hljs-comment"><span class="hljs-comment">// ‚Ä¶ } render() { &lt;div&gt; &lt;Input ‚Ä¶ /&gt; &lt;Button clickHandler={this.onButtonClick} /&gt; &lt;/div&gt; } } const Button = ({clickHandler, ‚Ä¶props}) =&gt; { const btnClickHandler = (e) =&gt; { // -  e.preventDefault() clickHandler(e) } return &lt;button onClick={btnClickHandler}/&gt; }</span></span></code> </pre><br><h3>  Layout component </h3><br>  Layout components are something like static DOM elements.  Soon all, they will not be updated frequently, if at all. <br><br>  Consider a component that contains two components horizontally. <br><br><pre> <code class="javascript hljs">&lt;HorizontalSplit leftSide={&lt;SomeSmartComponent /&gt;} rightSide={&lt;AnotherSmartComponent /&gt;} /&gt;</code> </pre><br>  We can aggressively optimize its performance. <br><br>  Since HorizontalSplit will be the parent component for both components, it will never become their owner.  We can say that it is never updated, while not breaking through the life cycles of internal components. <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HorizontalSplit</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ shouldComponentUpdate() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> } render() { &lt;FlexContainer&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{this.props.leftSide}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;div&gt;{<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.rightSide}&lt;<span class="hljs-regexp"><span class="hljs-regexp">/div&gt; &lt;/</span></span>FlexContainer&gt; }</code> </pre><br><h3>  Container component </h3><br>  <i>‚ÄúA container doesn‚Äôt have a corresponding sub-component.</i>  <i>That's it. ‚Äù- Jason Bonta</i> <br><br>  Given: component CommentList, which is used several times in the application. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> CommentList = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ comments }</span></span></span><span class="hljs-function">) =&gt;</span></span> &lt;ul&gt; {comments.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">comment</span></span></span><span class="hljs-function"> =&gt;</span></span> &lt;li&gt;{comment.body}-{comment.author}&lt;<span class="hljs-regexp"><span class="hljs-regexp">/li&gt; )} &lt;/u</span></span>l&gt;</code> </pre><br>  We can create a new component responsible for receiving data and rendering the component CommentList <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentListContainer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = { <span class="hljs-attr"><span class="hljs-attr">comments</span></span>: [] } } componentDidMount() { $.ajax({ <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">"/my-comments.json"</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataType</span></span>: <span class="hljs-string"><span class="hljs-string">'json'</span></span>, <span class="hljs-attr"><span class="hljs-attr">success</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">comments</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({<span class="hljs-attr"><span class="hljs-attr">comments</span></span>: comments}); }) } render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">CommentList</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">comments</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.state.comments}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> } }</span></span></code> </pre><br>  We can write different container components for different application contexts. <br><br><h3>  Higher-order component </h3><br>  A higher order function is a function that can take other functions as arguments and / or return functions.  No more complicated than this definition.  So what are the higher order components? <br><br>  You are already using container components; they are just containers wrapped in a function.  Let's start with a simple greeting component. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Greeting = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ name }</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!name) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Connecting...</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Hi {name}!</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> }</code> </pre><br>  If he gets props.name, he will render the data.  Otherwise, it will render ‚ÄúConnecting ...‚Äù.  Now a little higher order: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Connect = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ComposedComponent</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span> } } componentDidMount() { <span class="hljs-comment"><span class="hljs-comment">// this would fetch or connect to a store this.setState({ name: "Michael" }) } render() { return ( &lt;ComposedComponent {...this.props} name={this.state.name} /&gt; ) } }</span></span></code> </pre><br>  This is the function that returns the component that renders the component that we passed as an argument (ComposedComponent) <br><br>  Next we wrap the compote into this function. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ConnectedMyComponent = Connect(Greeting)</code> </pre><br>  This is a very powerful template so that a component can receive data and distribute it to any number of simple components. <br><br>  Links (all in English): <br><br><ul><li>  <a href="http://reactpatterns.com/%3Fref%3Dmybridge.co">Original text</a> </li><li>  <a href="https://medium.com/%40franleplant/react-higher-order-components-in-depth-cf9032ee6c3e">Higher order components in detail</a> </li><li>  <a href="https://medium.com/%40housecor/react-binding-patterns-5-approaches-for-handling-this-92c651b5af56%3Fref%3Dmybridge.co">Context Bind Patterns in React</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/309422/">https://habr.com/ru/post/309422/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../309410/index.html">GrabDuck: How we make bookmarked articles</a></li>
<li><a href="../309412/index.html">GoTech.vc: Last week</a></li>
<li><a href="../309414/index.html">Reverse engineering of visual stories (part 2)</a></li>
<li><a href="../309416/index.html">New security features Android 7</a></li>
<li><a href="../309420/index.html">Gentleman's set of R packages for automating business tasks</a></li>
<li><a href="../309424/index.html">Dear startups, stop math tasks to understand if I can program</a></li>
<li><a href="../309426/index.html">The role of content in website promotion and customer acquisition</a></li>
<li><a href="../309428/index.html">We write a simple web page parser</a></li>
<li><a href="../309430/index.html">30 lightweight javascript plugins and libraries</a></li>
<li><a href="../309432/index.html">Partner Workshop "1C" - Open Sunday</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>