<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How Facebook saved 75% of the energy required to store photos of cats and user selfie</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Oregon's ‚Äúcold‚Äù data center 

 One of the reasons for the popularity of services like Facebook is high performance, due to which there are practically...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How Facebook saved 75% of the energy required to store photos of cats and user selfie</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/b23/c1c/aa3/b23c1caa38e48b986f993114df5f3b01.png"><br>  Oregon's ‚Äúcold‚Äù data center <br><br>  One of the reasons for the popularity of services like Facebook is high performance, due to which there are practically no delays and lags in the work of the site (or almost none).  If delays in uploading photos and videos would happen all the time, then Facebook probably could not have developed as actively as it happened before and is happening now.  But the high popularity of the service means the need to constantly increase productivity, and so quickly, as much as possible. <br><br>  It uses not only extensive, but also intensive methods of increasing productivity.  In other words, you want to optimize everything and everyone.  And here - another problem, because even in a small company, large amounts of money are often spent on optimizing the operation of a computer network.  What can we say about such a giant as Facebook - here the costs of optimization are considered tens, if not hundreds of millions.  However, on such a scale, even a small successful optimization example can save millions of dollars. <br><a name="habracut"></a><br>  The ‚Äúinfrastructure‚Äù Facebook team spends almost all its time thinking about ways to improve the efficiency of hardware or software (local or cloud - there is no particular difference).  Earlier this year, the team developed an interesting plan for optimizing the social network, and this plan turned out to be very effective. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For example, two Facebook data centers were designed and built for almost the sole purpose - to save all user photos and videos, plus quality service of the corresponding traffic.  Since these data centers (they were called ‚Äúcold storage‚Äù data centers) were ‚Äúsharpened‚Äù for a small number of tasks, the team was able to optimize a very large number of systems, reducing energy consumption by the data center, and also using less expensive storage equipment. <br><br><h3>  How it works? </h3><br><br>  The company began to use not the most difficult, but very effective way of storing media files.  Thus, each image of Facebook users is stored in several copies posted in the DC of the company.  Copies are stored both in the main data centers and in the ‚Äúcold storage‚Äù centers. <br><br>  Newer, more popular files are stored in more copies in hot data centers than older photos that few people see.  The main function of ‚Äúcold storage‚Äù systems is to make sure that all files are always available, at any time. <br><br>  Since the systems of "cold storage" are placed copies of not too popular photos, the engineers decided not to use backup electrical infrastructure or emergency generators.  This is one way to save money. <br><br>  Cold storage systems are a slightly modified version of Open Vault, a storage standard developed as part of the Open Compute Project.  Here the interesting point is that in the basket only one hard disk is working at a time. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b89/447/425/b89447425eb51c03e667a221082bc1a8.jpg"><br>  Modified storage system Open Rack, with a small number of batteries, coolers and other elements <br><br>  Special software controls each of the disks, including only the one that is needed at the moment.  Thus, ‚Äúcold‚Äù data storage systems consume the energy required for simultaneous operation of only 6% of all hard drives that operate in the system.  As a result, only 25% of energy is consumed, which is used by traditional data storage systems, where all hard drives work at once.  In turn, this allows using only one power shelve instead of three in Open Rack.  It also uses 5 power sources instead of 7. And the number of conductive buses in Open Rack is reduced from 3 to 1. Yes, and the number of coolers is reduced from three to one, all for the same reason - a very small number of hard drives are running at a time. <br><br><h3>  10 + 10 = 14 </h3><br><br>  In addition to optimizing the hardware, Facebok engineers are optimizing software.  For example, data storage systems use error correction technology called Reed-Solomon.  It allows you to reduce the amount of memory required to save copies of media files.  The technology provides storage of copies not entirely, but in parts.  If necessary, Reed-Solomon collects from parts the entire file, from all the areas that are currently available. <br><br>  So, if the file is divided into 10 parts, it will be stored in two (for example) places not 20 parts, but only 14. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7f9/36c/269/7f936c2696b4670733195c3f46d4cd16.png"><br>  Explaining Facebook Reed-Solomon Technology <br><br><h3>  What's next? </h3><br><br>  Despite the fact that ‚Äúcold‚Äù data storage systems work fine, and in two data centers there is quite enough space for storing more information than now, the Facebook team is considering its next move. <br><br>  So, today the data stored in the ‚Äúhot‚Äù data center of the West Coast is duplicated in the ‚Äúcold‚Äù data storage system on the East Coast, and vice versa.  The next step for the company will be to use Reed-Solomon technology in all ‚Äúcold‚Äù storage systems. <br><br>  When the third such system is built, the third ‚Äúcold‚Äù data center, the system will be virtually error-free, ultra-reliable.  Even if one of the data centers goes offline, the data stored in the other two DCs will be enough to maintain Facebook‚Äôs normal operation.  Well, the probability of shutting down two data centers at once is extremely small. </div><p>Source: <a href="https://habr.com/ru/post/257699/">https://habr.com/ru/post/257699/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../257689/index.html">Practical experience with little-known European cloud hosting</a></li>
<li><a href="../257691/index.html">PHP Digest number 62 - interesting news, materials and tools (April 26 - May 11, 2015)</a></li>
<li><a href="../257693/index.html">Interview with hidnplayr</a></li>
<li><a href="../257695/index.html">Azure cache</a></li>
<li><a href="../257697/index.html">Start options and other improvements in the new assembly</a></li>
<li><a href="../257701/index.html">Release of the new mobile 2GIS</a></li>
<li><a href="../257703/index.html">Treacherous Wolfhound. Transformation distribution Ubuntu</a></li>
<li><a href="../257707/index.html">Rating of sites by the number of referring IP addresses</a></li>
<li><a href="../257713/index.html">Service-Oriented Architecture and Legacy Systems</a></li>
<li><a href="../257715/index.html">The most interesting reports from Analyst Days 2015</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>