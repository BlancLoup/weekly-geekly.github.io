<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Benefits of systemd-networkd on Linux virtual servers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Usually on Linux desktops, NetworkManager is used to manage network settings, since it does an excellent job and has GUI front-ends for all popular gr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Benefits of systemd-networkd on Linux virtual servers</h1><div class="post__text post__text-html js-mediator-article">  Usually on Linux desktops, NetworkManager is used to manage network settings, since it does an excellent job and has GUI front-ends for all popular graphical environments.  However, on Linux servers its use is not advisable: it consumes a lot of resources.  NetworkManager occupies about 20 MB in RAM, while systemd-networkd and systemd-resolvd together less than 2 MB.  For this reason, the default <a href="https://ruvds.com/linux">Linux server</a> server distributions often use various proprietary daemons. <br><br> <a href="https://habrahabr.ru/company/ruvds/blog/309010/"><img src="https://habrastorage.org/files/fd0/889/577/fd088957790e4dac8d74c96807af3185.png"></a> <br><br>  Thus, a whole zoo of scripts and utilities emerges: the networking daemon under Debian, which manages the network configuration via ifupdown, using configuration files stored in /etc/networking/interfaces.d and the / etc / networking / interfaces file, under CentOS network, which uses scripts ifup and ifdown and, of course, their configuration files located in / etc / sysconfig / network-scripts, netctl under ArchLinux.  Everyone knows that Linux is a constructor, but why should not a thing that is so simple and common to various systems as setting up a network have the same look? <br><a name="habracut"></a><br>  We suggest starting to use the quick and easy <a href="https://wiki.archlinux.org/index.php/systemd-networkd_(%25D0%25A0%25D1%2583%25D1%2581%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B9)">systemd-networkd daemon</a> , especially since many distributions have already switched to systemd, so switching to systemd-networkd is easy.  Currently, systemd-networkd can replace many utilities and supports network configuration both via DHCP (client and server) and with static IP addresses, bridges, tunnels, VLANs, wireless networks (using wpa_supplicant). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In this article, we will look at how to activate systemd-networkd and start using it, and what are its main advantages over other demons. <br><br><h2>  <font color="#3AC1EF">Start systemd-networkd</font> </h2><br>  Despite the passions that were raging around the <a href="https://www.archlinux.org/packages/%3Fname%3Dsystemd">systemd</a> implementation, many popular Linux distributions began using this service manager and delivering it by default.  Therefore, your system probably already contains everything you need to enable systemd-networkd.  Requires systemd version 210 and above. <br><br>  You can check the version with the command: <br><br><pre><code class="hljs pgsql">$ systemctl <span class="hljs-comment"><span class="hljs-comment">--version</span></span></code> </pre> <br>  To use, start the following two services and turn them on when the system boots (disabling the other daemons that control the network configuration): <br><br><pre> <code class="hljs pgsql">$ systemctl <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> systemd-networkd $ systemctl <span class="hljs-keyword"><span class="hljs-keyword">start</span></span> systemd-networkd $ systemctl <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> systemd-resolved $ systemctl <span class="hljs-keyword"><span class="hljs-keyword">start</span></span> systemd-resolved</code> </pre> <br><h2>  <font color="#3AC1EF">Configuration</font> </h2><br>  As an example of switching, consider the transfer of the default network configuration in CentOS (/etc/rc.d/init.d/network initscript) to systemd-networkd. <br><br>  Completely similar move can be done for Fedora and, with minor changes, for other distributions.  The systemd-networkd configuration files are located in the / etc / systemd / network directory.  The following types are available: <br><br><ul><li>  .link - describe the physical parameters of each interface: name, MAC, MTU and others </li><li>  .network - describe network parameters: IP, routes, DNS and others </li><li>  .netdev - describe virtual interfaces, bridges </li></ul><br>  Configuration for an example: two interfaces with static IP in LAN and WAN. <br><br><pre> <code class="hljs pgsql">$ ip addr <span class="hljs-number"><span class="hljs-number">1</span></span>: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu <span class="hljs-number"><span class="hljs-number">65536</span></span> qdisc noqueue state <span class="hljs-type"><span class="hljs-type">UNKNOWN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">group</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>   link/loopback <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span> brd <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>   <span class="hljs-type"><span class="hljs-type">inet</span></span> <span class="hljs-number"><span class="hljs-number">127.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> scope host lo      valid_lft forever preferred_lft forever   inet6 ::<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">128</span></span> scope host      valid_lft forever preferred_lft forever <span class="hljs-number"><span class="hljs-number">2</span></span>: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="hljs-number"><span class="hljs-number">1500</span></span> qdisc fq_codel state UP <span class="hljs-keyword"><span class="hljs-keyword">group</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> qlen <span class="hljs-number"><span class="hljs-number">1000</span></span>   link/ether <span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">40</span></span>:<span class="hljs-number"><span class="hljs-number">23</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>f:<span class="hljs-number"><span class="hljs-number">01</span></span> brd ff:ff:ff:ff:ff:ff   <span class="hljs-type"><span class="hljs-type">inet</span></span> <span class="hljs-number"><span class="hljs-number">188.166</span></span><span class="hljs-number"><span class="hljs-number">.46</span></span><span class="hljs-number"><span class="hljs-number">.238</span></span>/<span class="hljs-number"><span class="hljs-number">18</span></span> brd <span class="hljs-number"><span class="hljs-number">188.166</span></span><span class="hljs-number"><span class="hljs-number">.63</span></span><span class="hljs-number"><span class="hljs-number">.255</span></span> scope <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> eth0      valid_lft forever preferred_lft forever   inet6 <span class="hljs-number"><span class="hljs-number">2</span></span>a03:b0c0:<span class="hljs-number"><span class="hljs-number">2</span></span>:d0::<span class="hljs-number"><span class="hljs-number">69</span></span>:<span class="hljs-number"><span class="hljs-number">7001</span></span>/<span class="hljs-number"><span class="hljs-number">64</span></span> scope <span class="hljs-keyword"><span class="hljs-keyword">global</span></span>      valid_lft forever preferred_lft forever   inet6 fe80::<span class="hljs-number"><span class="hljs-number">601</span></span>:<span class="hljs-number"><span class="hljs-number">40</span></span>ff:fe23:<span class="hljs-number"><span class="hljs-number">1</span></span>f01/<span class="hljs-number"><span class="hljs-number">64</span></span> scope link      valid_lft forever preferred_lft forever <span class="hljs-number"><span class="hljs-number">3</span></span>: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="hljs-number"><span class="hljs-number">1500</span></span> qdisc fq_codel state UP <span class="hljs-keyword"><span class="hljs-keyword">group</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> qlen <span class="hljs-number"><span class="hljs-number">1000</span></span>   link/ether <span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">40</span></span>:<span class="hljs-number"><span class="hljs-number">23</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>f:<span class="hljs-number"><span class="hljs-number">02</span></span> brd ff:ff:ff:ff:ff:ff   <span class="hljs-type"><span class="hljs-type">inet</span></span> <span class="hljs-number"><span class="hljs-number">10.133</span></span><span class="hljs-number"><span class="hljs-number">.248</span></span><span class="hljs-number"><span class="hljs-number">.54</span></span>/<span class="hljs-number"><span class="hljs-number">16</span></span> brd <span class="hljs-number"><span class="hljs-number">10.133</span></span><span class="hljs-number"><span class="hljs-number">.255</span></span><span class="hljs-number"><span class="hljs-number">.255</span></span> scope <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> eth1      valid_lft forever preferred_lft forever   inet6 fe80::<span class="hljs-number"><span class="hljs-number">601</span></span>:<span class="hljs-number"><span class="hljs-number">40</span></span>ff:fe23:<span class="hljs-number"><span class="hljs-number">1</span></span>f02/<span class="hljs-number"><span class="hljs-number">64</span></span> scope link      valid_lft forever preferred_lft forever</code> </pre> <br>  The configuration files for CentOS (or Fedora) can be found in the directory / etc / sysconfig / network-scripts <br><br><pre> <code class="hljs pgsql">$ cat /etc/sysconfig/network-scripts/ifcfg-eth0 DEVICE=<span class="hljs-string"><span class="hljs-string">'eth0'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TYPE</span></span>=Ethernet BOOTPROTO=<span class="hljs-keyword"><span class="hljs-keyword">none</span></span> ONBOOT=<span class="hljs-string"><span class="hljs-string">'yes'</span></span> HWADDR=<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">40</span></span>:<span class="hljs-number"><span class="hljs-number">23</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>f:<span class="hljs-number"><span class="hljs-number">01</span></span> IPADDR=<span class="hljs-number"><span class="hljs-number">188.166</span></span><span class="hljs-number"><span class="hljs-number">.46</span></span><span class="hljs-number"><span class="hljs-number">.238</span></span> NETMASK=<span class="hljs-number"><span class="hljs-number">255.255</span></span><span class="hljs-number"><span class="hljs-number">.192</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> GATEWAY=<span class="hljs-number"><span class="hljs-number">188.166</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> NM_CONTROLLED=<span class="hljs-string"><span class="hljs-string">'yes'</span></span> IPV6INIT=yes IPV6ADDR=<span class="hljs-number"><span class="hljs-number">2</span></span>A03:B0C0:<span class="hljs-number"><span class="hljs-number">0002</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>D0:<span class="hljs-number"><span class="hljs-number">0000</span></span>:<span class="hljs-number"><span class="hljs-number">0000</span></span>:<span class="hljs-number"><span class="hljs-number">0069</span></span>:<span class="hljs-number"><span class="hljs-number">7001</span></span>/<span class="hljs-number"><span class="hljs-number">64</span></span> IPV6_DEFAULTGW=<span class="hljs-number"><span class="hljs-number">2</span></span>A03:B0C0:<span class="hljs-number"><span class="hljs-number">0002</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>D0:<span class="hljs-number"><span class="hljs-number">0000</span></span>:<span class="hljs-number"><span class="hljs-number">0000</span></span>:<span class="hljs-number"><span class="hljs-number">0000</span></span>:<span class="hljs-number"><span class="hljs-number">0001</span></span> IPV6_AUTOCONF=<span class="hljs-keyword"><span class="hljs-keyword">no</span></span> DNS1=<span class="hljs-number"><span class="hljs-number">2001</span></span>:<span class="hljs-number"><span class="hljs-number">4860</span></span>:<span class="hljs-number"><span class="hljs-number">4860</span></span>::<span class="hljs-number"><span class="hljs-number">8844</span></span> DNS2=<span class="hljs-number"><span class="hljs-number">2001</span></span>:<span class="hljs-number"><span class="hljs-number">4860</span></span>:<span class="hljs-number"><span class="hljs-number">4860</span></span>::<span class="hljs-number"><span class="hljs-number">8888</span></span> DNS3=<span class="hljs-number"><span class="hljs-number">8.8</span></span><span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.8</span></span></code> </pre> <br>  You need to create 4 files in the / etc / systemd / network / directory <br><br><pre> <code class="hljs pgsql">$ cat /etc/systemd/network/<span class="hljs-number"><span class="hljs-number">90</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">external</span></span>.link [Match] MACAddress=<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">40</span></span>:<span class="hljs-number"><span class="hljs-number">23</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>f:<span class="hljs-number"><span class="hljs-number">01</span></span> [Link] <span class="hljs-type"><span class="hljs-type">Name</span></span>=eth-<span class="hljs-keyword"><span class="hljs-keyword">outer</span></span> $ cat /etc/systemd/network/<span class="hljs-number"><span class="hljs-number">90</span></span>-<span class="hljs-type"><span class="hljs-type">internal</span></span>.link [Match] MACAddress=<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">40</span></span>:<span class="hljs-number"><span class="hljs-number">23</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>f:<span class="hljs-number"><span class="hljs-number">02</span></span> [Link] <span class="hljs-type"><span class="hljs-type">Name</span></span>=eth-<span class="hljs-keyword"><span class="hljs-keyword">inner</span></span> $ cat eth-<span class="hljs-keyword"><span class="hljs-keyword">external</span></span>.network [Match] <span class="hljs-type"><span class="hljs-type">Name</span></span>= eth-<span class="hljs-keyword"><span class="hljs-keyword">outer</span></span> [Network] DHCP=<span class="hljs-keyword"><span class="hljs-keyword">no</span></span> Adress=<span class="hljs-number"><span class="hljs-number">188.166</span></span><span class="hljs-number"><span class="hljs-number">.46</span></span><span class="hljs-number"><span class="hljs-number">.238</span></span>/<span class="hljs-number"><span class="hljs-number">18</span></span> Adress=<span class="hljs-number"><span class="hljs-number">2</span></span>A03:B0C0:<span class="hljs-number"><span class="hljs-number">0002</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>D0:<span class="hljs-number"><span class="hljs-number">0000</span></span>:<span class="hljs-number"><span class="hljs-number">0000</span></span>:<span class="hljs-number"><span class="hljs-number">0000</span></span>:<span class="hljs-number"><span class="hljs-number">0069</span></span>:<span class="hljs-number"><span class="hljs-number">7001</span></span>/<span class="hljs-number"><span class="hljs-number">64</span></span> Gateway=<span class="hljs-number"><span class="hljs-number">188.166</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> Gateway= <span class="hljs-number"><span class="hljs-number">2</span></span>A03:B0C0:<span class="hljs-number"><span class="hljs-number">0002</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>D0:<span class="hljs-number"><span class="hljs-number">0000</span></span>:<span class="hljs-number"><span class="hljs-number">0000</span></span>:<span class="hljs-number"><span class="hljs-number">0000</span></span>:<span class="hljs-number"><span class="hljs-number">0000</span></span>:<span class="hljs-number"><span class="hljs-number">0001</span></span> DNS=<span class="hljs-number"><span class="hljs-number">2001</span></span>:<span class="hljs-number"><span class="hljs-number">4860</span></span>:<span class="hljs-number"><span class="hljs-number">4860</span></span>:<span class="hljs-number"><span class="hljs-number">8844</span></span> DNS=<span class="hljs-number"><span class="hljs-number">2001</span></span>:<span class="hljs-number"><span class="hljs-number">4860</span></span>:<span class="hljs-number"><span class="hljs-number">4860</span></span>:<span class="hljs-number"><span class="hljs-number">8888</span></span> DNS=<span class="hljs-number"><span class="hljs-number">8.8</span></span><span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.8</span></span> $ cat eth-<span class="hljs-type"><span class="hljs-type">internal</span></span>.network [Match] <span class="hljs-type"><span class="hljs-type">Name</span></span>=eth-<span class="hljs-keyword"><span class="hljs-keyword">inner</span></span> [Network] Address=<span class="hljs-number"><span class="hljs-number">10.133</span></span><span class="hljs-number"><span class="hljs-number">.248</span></span><span class="hljs-number"><span class="hljs-number">.54</span></span>/<span class="hljs-number"><span class="hljs-number">16</span></span></code> </pre> <br>  That's it: the network configuration is complete.  Now you can restart the service: <br><br><pre> <code class="hljs pgsql">systemctl <span class="hljs-keyword"><span class="hljs-keyword">restart</span></span> systemd-networkd $ networkctl IDX LINK             <span class="hljs-keyword"><span class="hljs-keyword">TYPE</span></span>               OPERATIONAL SETUP <span class="hljs-number"><span class="hljs-number">1</span></span> lo               loopback           n/a         n/a <span class="hljs-number"><span class="hljs-number">2</span></span> eth-<span class="hljs-keyword"><span class="hljs-keyword">outer</span></span>        ether              routable    configured <span class="hljs-number"><span class="hljs-number">3</span></span> eth-<span class="hljs-keyword"><span class="hljs-keyword">inner</span></span>        ether              routable    configured</code> </pre> <br>  Other types of networks: <br><br>  <b>DHCP</b> <br><br>  In this example, we configure DHCP IPv4 and IPv6;  IPv6 if not needed, can be excluded. <br><br><pre> <code class="hljs pgsql">$ cat /etc/systemd/network/wired-dhcp.network [Match] <span class="hljs-type"><span class="hljs-type">Name</span></span>=eth* [Network] DHCP=ipv4 DHCP=ipv6</code> </pre> <br>  <b>Connection type "Bridge"</b> <br><br>  First creates a virtual interface configuration: <br><br><pre> <code class="hljs pgsql">$ cat /etc/systemd/network/bridge.netdev [NetDev] <span class="hljs-type"><span class="hljs-type">Name</span></span>=br0 Kind=bridge $ cat /etc/systemd/network/bridge.network [Match] <span class="hljs-type"><span class="hljs-type">Name</span></span>=br0 [Network] DHCP=ipv4</code> </pre> <br>  And configure the interface to connect: <br><br><pre> <code class="hljs pgsql">$ cat /etc/systemd/network/wired.network [Match] <span class="hljs-type"><span class="hljs-type">Name</span></span>=eth* [Network] Bridge=br0</code> </pre> <br><h2>  <font color="#3AC1EF">Disadvantages (not relevant, by and large, for servers)</font> </h2><br>  <b>1.</b> Will not work without systemd. <br><br>  <b>2.</b> There is no CLI or front-end GUI.  Both NetworkManager and netctl do not suffer from this disadvantage.  For example, to connect to WiFi, you need a command line.  Not quite relevant for the server. <br><br>  <b>3.</b> For the first connection to WiFi, you need root rights.  However, this is not at all a disadvantage, since in the future, this wireless network will be automatically connected. <br><br>  <b>4.</b> If you are not careful, the WiFi password can be stored in clear text in the command history.  but this can be easily avoided in several ways: temporarily disable the recording of commands in history (for bash: set + o history, set -o history), use a shell that does not store history (for example, dash), or simply manually delete a password from history. <br><br><h2>  <font color="#3AC1EF">Benchmark</font> </h2><br>  Testing the speed of obtaining addresses via DHCP, Network manager and dnsmasq disabled. <br><br>  Soft: <br><blockquote>  - CentOS 7 <br>  - kernel-3.10.0-327.28.3.el7 <br>  - systemd 219 <br>  - ISC DHCP client daemon and dhclient-script 4.2.5 </blockquote><br><h2>  <font color="#3AC1EF">systemd-networkd</font> </h2><br><pre> <code class="hljs sql">$ systemctl <span class="hljs-keyword"><span class="hljs-keyword">start</span></span> systemd-networkd $ journalctl -u systemd-networkd.service Sep <span class="hljs-number"><span class="hljs-number">01</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">41</span></span> localhost systemd[<span class="hljs-number"><span class="hljs-number">1</span></span>]: <span class="hljs-keyword"><span class="hljs-keyword">Starting</span></span> Network Service... Sep <span class="hljs-number"><span class="hljs-number">01</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">41</span></span> localhost systemd-networkd[<span class="hljs-number"><span class="hljs-number">4085</span></span>]: Enumeration completed Sep <span class="hljs-number"><span class="hljs-number">01</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">41</span></span> localhost systemd[<span class="hljs-number"><span class="hljs-number">1</span></span>]: Started Network Service. Sep <span class="hljs-number"><span class="hljs-number">01</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">41</span></span> localhost systemd-networkd[<span class="hljs-number"><span class="hljs-number">4085</span></span>]: eth0: DHCPv4 address <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.114</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> Sep <span class="hljs-number"><span class="hljs-number">01</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">41</span></span> localhost systemd-networkd[<span class="hljs-number"><span class="hljs-number">4085</span></span>]: eth0: Configured</code> </pre> <br>  In less than a second. <br><br><h2>  <font color="#3AC1EF">ISC DHCP</font> </h2><br><pre> <code class="hljs pgsql">$ <span class="hljs-type"><span class="hljs-type">time</span></span> dhclient -v eth0 Interface up - dhclient Internet Systems Consortium DHCP Client <span class="hljs-number"><span class="hljs-number">4.2</span></span><span class="hljs-number"><span class="hljs-number">.5</span></span> Copyright <span class="hljs-number"><span class="hljs-number">2004</span></span><span class="hljs-number"><span class="hljs-number">-2013</span></span> Internet Systems Consortium. <span class="hljs-keyword"><span class="hljs-keyword">All</span></span> rights reserved. <span class="hljs-keyword"><span class="hljs-keyword">For</span></span> <span class="hljs-keyword"><span class="hljs-keyword">info</span></span>, please visit https://www.isc.org/software/dhcp/ Listening <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> LPF/enp2s0/<span class="hljs-number"><span class="hljs-number">94</span></span>:de:<span class="hljs-number"><span class="hljs-number">80</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>a:da:af Sending <span class="hljs-keyword"><span class="hljs-keyword">on</span></span>   LPF/enp2s0/<span class="hljs-number"><span class="hljs-number">94</span></span>:de:<span class="hljs-number"><span class="hljs-number">80</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>a:da:af Sending <span class="hljs-keyword"><span class="hljs-keyword">on</span></span>   Socket/fallback DHCPREQUEST <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> eth0 <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">255.255</span></span><span class="hljs-number"><span class="hljs-number">.255</span></span><span class="hljs-number"><span class="hljs-number">.255</span></span> port <span class="hljs-number"><span class="hljs-number">67</span></span> (xid=<span class="hljs-number"><span class="hljs-number">0x5b763f4d</span></span>) DHCPACK <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> (xid=<span class="hljs-number"><span class="hljs-number">0x5b763f4d</span></span>) bound <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.115</span></span> <span class="hljs-comment"><span class="hljs-comment">-- renewal in 20662 seconds. real        0m2.243s user        0m0.042s sys        0m0.216s</span></span></code> </pre> <br>  The average time after several attempts was 2.5 seconds. <br><br><h2>  <font color="#3AC1EF">Conclusion</font> </h2><br>  In view of the active use of systemd by various top Linux distributions, it can be concluded that, nevertheless, the community is striving to unify the main system functions.  These include, among other things, network configuration, and systemd, in turn, offers a convenient, fast and functional solution.  And while this solution faces the problem of the lack of a GUI for desktop systems, but for <a href="https://ruvds.com/linux">Linux servers</a> it will probably become a ‚Äúde facto‚Äù standard and will replace a bunch of legacy demons and individual utilities.  This will make Linux much more convenient for containerization and use in virtual machines. <br><br><div style="text-align:center;"> <a href="https://ruvds.com/linux"><img src="https://habrastorage.org/files/d45/8e3/3a7/d458e33a76a047548e06bbea73c7d389.jpg"></a> </div></div><p>Source: <a href="https://habr.com/ru/post/309010/">https://habr.com/ru/post/309010/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../308998/index.html">Dropbox - stop displaying HTML content in the browser</a></li>
<li><a href="../309000/index.html">Tarantool: examples of use</a></li>
<li><a href="../309002/index.html">The Game of Java: Java Conference in Kiev, October 14-15, 2016</a></li>
<li><a href="../309004/index.html">Data Science Week 2016. Data Technologies Forum</a></li>
<li><a href="../309008/index.html">ML boot camp 2016 new to TOP 10</a></li>
<li><a href="../309012/index.html">DevCon School schools and other good news for the day of knowledge</a></li>
<li><a href="../309014/index.html">The first mobile browser with support for Chromium extensions. New alpha Yandex Browser</a></li>
<li><a href="../309016/index.html">Graduates of the online program share their impressions</a></li>
<li><a href="../309018/index.html">How it works: A few words about DNS</a></li>
<li><a href="../309022/index.html">IaaS Digest: 30 Materials on Cloud Applicability</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>