<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Vector graphics in LaTeX. PGF / TikZ package</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day. I have long been going to talk about the possibilities of vector graphics in LaTeX provided by the low-level macro package PGF and its exten...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Vector graphics in LaTeX. PGF / TikZ package</h1><div class="post__text post__text-html js-mediator-article"><img align="right" src="https://habrastorage.org/storage/habraeffect/55/b9/55b922e06e373af53a52927ff2013a02.png">  Good day.  I have long been going to talk about the possibilities of vector graphics in LaTeX provided by the low-level macro package PGF and its extension TikZ, and the release of the <a href="http://habrahabr.ru/blogs/latex/48099/">previous article</a> on the <a href="http://www.tug.org/applications/Xy-pic/">Xy-pic</a> package for creating diagrams and graphs and the appearance of free time made it possible to start working :-). <br><br>  I once needed to find and study some kind of flexible means for creating high-quality vector images, because they already got crookedly scaled, inserted with a terrible extension of the image of raster formats, spoiling the whole impression of the document, and doubling its size for one big picture with a rectangle and several captions to it.  The available capabilities of the built-in <b>picture</b> environment are very scarce;  <a href="http://tug.org/PSTricks/main.cgi">PStricks is</a> focused on PostScript (it doesn't work with pdflatex, which I need), although it can do something that PGF cannot;  The <a href="http://www.tug.org/metapost.html">MetaPost</a> system is perhaps the most powerful of all in this area, but it operates using a separate interpreter with all the ensuing consequences.  Thus, the choice fell on <a href="http://sourceforge.net/projects/pgf/">PGF / TikZ</a> . <br><br><img src="https://habrastorage.org/storage/habraeffect/5b/17/5b1762a8d1ec0365820abf21a2416f2e.png"><br><a name="habracut"></a><br>  The main purpose of this article is the presence of a sufficient number of links and a small number of examples with a description in Russian.  This is in most cases enough to understand whether you need it or not. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It is very nice when for some tool there is an exhaustive list of examples of <em>what</em> it can do and <em>how</em> to achieve it.  For the package under discussion, this list can be viewed by typing in the search engine "pgf examples" and clicking on the first link.  Here are all the examples in one list: <a href="http://www.texample.net/tikz/examples/all/">www.texample.net/tikz/examples/all</a> .  There is no point in trying to describe everything the package is capable of.  Perhaps, I will focus on the basic concepts. <br><br>  The article discusses the use of pgf / tikz with the macro package LaTeX, as the most common, but pgf / tikz also works with others.  The text of the article is based mainly on the manual <a href="http://www.ctan.org/tex-archive/graphics/pgf/base/doc/generic/pgf/pgfmanual.pdf">TikZ &amp; PGF.</a>  <a href="http://www.ctan.org/tex-archive/graphics/pgf/base/doc/generic/pgf/pgfmanual.pdf">Manual for Version 2.00</a> (560 p.).  Some examples are taken from it.  Also in the book there is a small, but useful chapter Guidelines on Graphics (p. 65), devoted to the general principles of working on documents with vector graphics, including examples of how to do it and how not to do it;  it is worth referring to it regardless of whether you will use pgf / tikz or something else later. <br><br><h3>  Installation </h3><br>  On GNU / Linux, you need to install the pgf package (and the dependent xcolor version&gt; = 2.00).  If this is not the case, it is enough to unzip the source (locally or globally) and make a texhash (see the manual for details).  In Windows, pgf / tikz is included in the <a href="http://miktex.org/">MiKTeX</a> distribution, so no additional installation is required. <br><br><h3>  Broadcast </h3><br>  For pdf use <br><blockquote><code>pdflatex file.tex <br></code> </blockquote><br>  To get ps, we use two commands: <br><blockquote> <code>latex file.tex <br> dvips file.dvi <br></code> </blockquote><br>  Also interesting is the ability to convert to HTML and SVG. <br><br><h3>  Using </h3><br>  To use the basic features of the package, you must connect it in the preamble with the command <br><blockquote> <code><font color="#9c20ee">\usepackage</font> <font color="#6a5acd">{</font> <font color="#6a5acd">tikz</font> <font color="#6a5acd">}</font> <br></code> </blockquote><br><br>  To insert pgf / tikz commands, use either the <code>\tikz</code> with one argument (usually to insert a picture within a string), or the <code>\begin[ <em>options</em> ]{tikzpicture}...\end{tikzpicture}</code> .  If you need to specify several drawing commands in the argument to <code>\tikz</code> , they are surrounded by curly braces ( <code>\tikz[ <em>options</em> ]{...}</code> ).  Each command ends with a semicolon. <br><blockquote> <code><font color="#9c20ee">\documentclass</font> <font color="#6a5acd">{</font> <font color="#d569d5">memoir</font> <font color="#6a5acd">}</font> &lt;br&gt; <br> <font color="#9c20ee">\pagestyle</font> <font color="#6a5acd">{</font> empty <font color="#6a5acd">}</font> &lt;br&gt; <br> <font color="#9c20ee">\usepackage</font> <font color="#6a5acd">{</font> <font color="#6a5acd">tikz</font> <font color="#6a5acd">}</font> &lt;br&gt; <br> &lt;br&gt; <br> <font color="#d569d5">\begin{document}</font> &lt;br&gt; <br> <font color="#9c20ee">\tikz</font> <font color="#6a5acd">{</font> <font color="#9c20ee">\draw</font> (-1,-1) -- (1,1); <font color="#9c20ee">\path</font> <font color="#6a5acd">[</font> fill=green!80!blue,draw=red <font color="#6a5acd">]</font> (0,0) circle ( <font color="#c28f8f">7mm</font> ); <font color="#6a5acd">}</font> &lt;br&gt; <br> <font color="#d569d5">\end{document}</font> <br></code> </blockquote><br><img src="https://habrastorage.org/storage/habraeffect/0e/0e/0e0ee51c409460cfc1198b6a5ed254c4.png"><br><br>  It is very convenient that you do not need to specify the size of the canvas.  The program itself will calculate it for you. <br><br><h4>  Points </h4><br>  Points are set absolutely or relatively.  Examples of Cartesian and polar coordinates: <br><ul><li>  <code>(2,0)</code> - point with given coordinates in current units (by default - 1 cm); </li><li>  <code>(2cm,-3pt)</code> - 2 cm in the direction of Ox, ‚Äì3 points in the direction of Oy; </li><li>  <code>(30:5cm)</code> - a point at a distance of 5 cm from the current position in the direction of 30 degrees; </li><li>  <code>+(2,0)</code> - point separated from the current position by 2 units to the right (the current position does not change); </li><li>  <code>++(2,0)</code> - point separated from the current position by 2 units to the right, which becomes the new current position. </li></ul><br><blockquote> <code><font color="#9c20ee">\tikz</font> <font color="#9c20ee">\draw</font> (0,0) --  +(1,0) --  +(0,1) --  +(1,1);&lt;br&gt; <br> <font color="#9c20ee">\tikz</font> <font color="#9c20ee">\draw</font> (0,0) -- ++(1,0) -- ++(0,1) -- ++(1,1);&lt;br&gt; <br> <font color="#9c20ee">\tikz</font> <font color="#9c20ee">\draw</font> (1,0) -- (0,0) -- (30:1); <br></code> </blockquote><br><img src="https://habrastorage.org/storage/habraeffect/52/a3/52a305f76afbe7a39125bd20c223e6ba.png"><br><br>  Barycentric coordinates, a coordinate system of nodes (see below), a tangential system can also be used. <br><br>  The coordinate system of intersections allows you to operate with the coordinates of the intersection (however, so far only for combinations of lines and circles).  For this, the first and second objects (or their coordinates) and the intersection number (when there are several) are specified. <br><blockquote> <code><font color="#9c20ee">\begin</font> <font color="#6a5acd">{</font> <font color="#d569d5">tikzpicture</font> <font color="#6a5acd">}</font> &lt;br&gt; <br> <font color="#9c20ee">\draw</font> <font color="#6a5acd">[</font> help lines <font color="#6a5acd">]</font> (0,0) grid (3,2);&lt;br&gt; <br> <font color="#9c20ee">\draw</font> (0,0) coordinate (A) -- (3,2) coordinate (B)&lt;br&gt; <br> (1,2) -- (3,0);&lt;br&gt; <br> <font color="#9c20ee">\fill</font> <font color="#6a5acd">[</font> red <font color="#6a5acd">]</font> (intersection of A--B and 1,2--3,0) circle ( <font color="#c28f8f">2pt</font> );&lt;br&gt; <br> <font color="#9c20ee">\end</font> <font color="#6a5acd">{</font> <font color="#d569d5">tikzpicture</font> <font color="#6a5acd">}</font> <br></code> </blockquote><br><img src="https://habrastorage.org/storage/habraeffect/8f/a4/8fa49a873f69c183936b193604ba3cf9.png"><br><br>  Coordinates can be specified using relative or absolute length modifiers or projections.  This is done in the following ways: <br><ul><li> <code>coordinate <font color="red">!number! <font color="green">angle:</font> second_coordinate</font></code> </li> <li> <code>coordinate <font color="red">!dimension! <font color="green">angle:</font> second_coordinate</font></code> </li> <li> <code>coordinate <font color="red">!projection_coordinate! <font color="green">angle:</font> second_coordinate</font></code> </li> </ul><br>  For example, <br><ul><li>  <code>(1,2)!.25!(3,4)</code> means a coordinate that is one quarter of the way from (1.2) to (3.4) </li><li>  <code>(1,2)!1cm!(3,4)</code> means a coordinate that is at a distance of 1 cm from the point (1.2) on the straight line (1.2) - (3.4) </li><li>  <code>(1,2)!(0,5)!(3,4)</code> means the coordinate, which is the projection of a point (0,5) onto a straight line (1,2) - (3,4) </li></ul><br><br><h4>  Trajectories </h4><br>  A trajectory is a sequence of straight and curved lines.  They are created using the <code>\path</code> command.  If it is called without arguments, nothing will be drawn, which is not very interesting.  Arguments can be <code>draw</code> , <code>fill</code> , <code>shade</code> , <code>clip</code> or any combination of them.  Instead of <code>\path[draw]</code> , <code>\path[fill]</code> , <code>\path[shade,draw]</code> , ... you can use the abbreviations <code>\draw</code> , <code>\fill</code> , <code>\shadedraw</code> . <br><br>  The basic command for creating lines is <code>(a) -- (b)</code> , where <code>(a)</code> and <code>(b)</code> are some points. <br><br>  The cubic Bezier curve is given by the command <code>(a) .. controls (x) and (y) .. (b)</code> , where <code>(a)</code> and <code>(b)</code> are some points, <code>(x)</code> and <code>(y)</code> are anchor points that affect the shape crooked.  If the <code>and (y)</code> skipped, it is considered that <code>(y)</code> = <code>(x)</code> . <br><br><h4>  Graphic parameters </h4><br>  They are specified in square brackets (as optional arguments in LaTeX) in the form of key-value sets: <code>key=value</code> .  For example, <code>\tikz \draw[line width=2pt,color=red] (1,0) -- (0,0) -- (1,0) -- cycle;</code>  .  Sometimes the <code>key=</code> part can be omitted if the key for a given value is interpreted unambiguously. <br><br><h4>  Knots </h4><br>  Text and captions are added to the picture as nodes.  They are tied to the current position on the plane (in space), or explicitly tied to a certain point.  As parameters, you can specify the anchor of the node binding (where it will be relative to the point: right, left, right above, etc.), the shape of the node (circle, square, ellipse, ...), the way it is displayed (draw, fill) other. <br><blockquote> <code><font color="#9c20ee">\tikz</font> <font color="#9c20ee">\draw</font> (1,1) node <font color="#6a5acd">{</font> text <font color="#6a5acd">}</font> -- (2,2); <br></code> </blockquote><br><img src="http://ipicture.ru/uploads/100908/1slnOvfFwK.png"><br><blockquote> <code><font color="#9c20ee">\begin</font> <font color="#6a5acd">{</font> <font color="#d569d5">tikzpicture</font> <font color="#6a5acd">}[</font> line width=2pt <font color="#6a5acd">]</font> &lt;br&gt; <br> <font color="#9c20ee">\draw</font> (0,0) node <font color="#6a5acd">[</font> below left <font color="#6a5acd">]</font> <font color="#6a5acd">{$</font> <font color="#6a5acd">A</font> <font color="#6a5acd">$}</font> -- &lt;br&gt; <br> (1,0) node <font color="#6a5acd">[</font> below right <font color="#6a5acd">]</font> <font color="#6a5acd">{$</font> <font color="#6a5acd">B</font> <font color="#6a5acd">$}</font> -- &lt;br&gt; <br> (1,1) node <font color="#6a5acd">[</font> above right <font color="#6a5acd">]</font> <font color="#6a5acd">{$</font> <font color="#6a5acd">C</font> <font color="#6a5acd">$}</font> -- &lt;br&gt; <br> (0,1) node <font color="#6a5acd">[</font> above left <font color="#6a5acd">]</font> <font color="#6a5acd">{$</font> <font color="#6a5acd">D</font> <font color="#6a5acd">$}</font> -- &lt;br&gt; <br> cycle;&lt;br&gt; <br> <font color="#9c20ee">\end</font> <font color="#6a5acd">{</font> <font color="#d569d5">tikzpicture</font> <font color="#6a5acd">}</font> <br></code> </blockquote><br><img src="https://habrastorage.org/storage/habraeffect/28/e1/28e18b4429992d3c1a974729715f8f84.png"><br><br><h4>  Scopes </h4><br>  Using the <code>scope</code> environment, you can create scopes with your own parameters;  the rest are inherited from the containing data.  In fact, the <code>tikzpicture</code> environment behaves like a <code>scope</code> .  With certain limitations, the scope can also be applied when drawing a path. <br><blockquote> <code><font color="#9c20ee">\tikz</font> <font color="#9c20ee">\draw</font> (0,0) -- (1,1)&lt;br&gt; <br> <font color="#6a5acd">{[</font> rounded corners <font color="#6a5acd">]</font> -- (2,0) -- (3,1) <font color="#6a5acd">}</font> -- &lt;br&gt; <br> (3,0) -- (2,1); <br></code> </blockquote><br><img src="https://habrastorage.org/storage/habraeffect/4a/54/4a5408248f1f65853ddf2e2070329ee7.png"><br><br><h4>  Styles </h4><br>  Styles are specified when listing graphic parameters.  There is a set of already defined ones that can be overridden.  You can define your own. <br><blockquote> <code><font color="#9c20ee">\begin</font> <font color="#6a5acd">{</font> <font color="#d569d5">tikzpicture</font> <font color="#6a5acd">}[</font> scale=0.7 <font color="#6a5acd">]</font> &lt;br&gt; <br> <font color="#9c20ee">\draw</font> (0,0) grid +(2,2);&lt;br&gt; <br> <font color="#9c20ee">\draw</font> <font color="#6a5acd">[</font> help lines <font color="#6a5acd">]</font> (3,0) grid +(2,2);&lt;br&gt; <br> <font color="#9c20ee">\end</font> <font color="#6a5acd">{</font> <font color="#d569d5">tikzpicture</font> <font color="#6a5acd">}</font> <br></code> </blockquote><br><img src="https://habrastorage.org/storage/habraeffect/40/be/40bed2bc99713c5fd26f21cd4a637366.png"><br><br><h4>  Calculations </h4><br>  When connecting the calc library with the command in the preamble <br><blockquote> <code><font color="#9c20ee">\usetikzlibrary</font> <font color="#6a5acd">{</font> calc <font color="#6a5acd">}</font> <br></code> </blockquote><br>  You can use some mathematical calculations to determine the coordinates, for example, <br><blockquote> <code><font color="#9c20ee">\begin</font> <font color="#6a5acd">{</font> <font color="#d569d5">tikzpicture</font> <font color="#6a5acd">}[</font> scale=0.5 <font color="#6a5acd">]</font> &lt;br&gt; <br> <font color="#9c20ee">\draw</font> <font color="#6a5acd">[</font> help lines <font color="#6a5acd">]</font> (0,0) grid (4,3);&lt;br&gt; <br> <font color="#9c20ee">\fill</font> <font color="#6a5acd">[</font> red <font color="#6a5acd">]</font> ( <font color="#6a5acd">$</font> <font color="#6a5acd">2*(1,1)</font> <font color="#6a5acd">$</font> )              circle ( <font color="#c28f8f">2pt</font> );&lt;br&gt; <br> <font color="#9c20ee">\fill</font> <font color="#6a5acd">[</font> green <font color="#6a5acd">]</font> ( <font color="#6a5acd">${</font> <font color="#6a5acd">1+1</font> <font color="#6a5acd">}</font> <font color="#6a5acd">*(1,.5)</font> <font color="#6a5acd">$</font> )         circle ( <font color="#c28f8f">2pt</font> );&lt;br&gt; <br> <font color="#9c20ee">\fill</font> <font color="#6a5acd">[</font> blue <font color="#6a5acd">]</font> ( <font color="#6a5acd">$</font> <font color="#6a5acd">cos(0)*sin(90)*(1,1)</font> <font color="#6a5acd">$</font> ) circle ( <font color="#c28f8f">2pt</font> );&lt;br&gt; <br> <font color="#9c20ee">\fill</font> <font color="#6a5acd">[</font> black <font color="#6a5acd">]</font> ( <font color="#6a5acd">${</font> <font color="#6a5acd">3*(4-3)</font> <font color="#6a5acd">}</font> <font color="#6a5acd">*(1,0.5)</font> <font color="#6a5acd">$</font> )    circle ( <font color="#c28f8f">2pt</font> );&lt;br&gt; <br> <font color="#9c20ee">\end</font> <font color="#6a5acd">{</font> <font color="#d569d5">tikzpicture</font> <font color="#6a5acd">}</font> <br></code> </blockquote><br><img src="http://ipicture.ru/uploads/100908/1hrJeG2f4e.png"><br><br><h3>  Conclusion </h3><br>  The package‚Äôs possibilities can be listed for a very long time (for example, I didn‚Äôt mention anything about graphs, trees and chains), but such an enumeration is not the case in one article, especially since there is the aforementioned site and an excellent guide with comprehensive examples of using each pgf / goodies package. tikz.  To use it or not - you decide.  I have been working with him for less than six months (and I didn‚Äôt know about him much earlier), but I already use it actively and have no regrets;  in many cases, he greatly saved time and effort.  If people have an interest, the story can be continued ;-) <br><br>  <b>Ps.</b> <br>  Images were made like this: <br><pre> $ latex qq.tex &amp;&amp; dvips -K -o qq.ps qq.dvi &amp;&amp; convert -antialias -seed 0 -density 200 -trim qq.ps qq.png
</pre><br>  The backlight was exported from gvim ( <a href="">emacs</a> theme). <br></div><p>Source: <a href="https://habr.com/ru/post/48260/">https://habr.com/ru/post/48260/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../48254/index.html">I? Smart?</a></li>
<li><a href="../48255/index.html">Remote torrent download</a></li>
<li><a href="../48256/index.html">Medical Question # 1</a></li>
<li><a href="../48258/index.html">Online project privacy</a></li>
<li><a href="../48259/index.html">A small demo of my library clunk.</a></li>
<li><a href="../48261/index.html">Habrapodarki. Santa Claus hasn't arrived</a></li>
<li><a href="../48265/index.html">Photo printing via the Internet</a></li>
<li><a href="../48266/index.html">Benefits of Windows 7 UI</a></li>
<li><a href="../48267/index.html">Ruby and Rails tutorials</a></li>
<li><a href="../48268/index.html">Shifter watch</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>