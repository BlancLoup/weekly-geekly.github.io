<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Functional thinking. Part 8</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! We are a little late return from the New Year holidays with the continuation of our series of articles on functional programming. Today we w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Functional thinking. Part 8</h1><div class="post__text post__text-html js-mediator-article"><p>  Hi, Habr!  We are a little late return from the New Year holidays with the continuation of our series of articles on functional programming.  Today we will tell about understanding of functions through signatures and the definition of own types for signatures of functions.  Details under the cut! </p><br><p><img src="https://habrastorage.org/webt/7j/cd/7x/7jcd7xzdvnhpyxuebjvbzb1uiqs.jpeg"></p><br><ul><li>  <strong><a href="https://habr.com/company/microsoft/blog/415189/">First part</a></strong> </li><li>  <strong><a href="https://habr.com/company/microsoft/blog/420039/">The second part of</a></strong> </li><li>  <strong><a href="https://habr.com/company/microsoft/blog/422115/">The third part</a></strong> </li><li>  <strong><a href="https://habr.com/company/microsoft/blog/430620/">Fourth part</a></strong> </li><li>  <strong><a href="https://habr.com/company/microsoft/blog/430622/">Fifth part</a></strong> </li><li>  <strong><a href="https://habr.com/company/microsoft/blog/413195/">Sixth part</a></strong> </li><li>  <strong><a href="https://habr.com/ru/company/microsoft/blog/433398/">Seventh part</a></strong> <a name="habracut"></a></li></ul><br><p>  Not obvious, but in F # there are two syntaxes: for ordinary (meaningful) expressions and for defining types.  For example: </p><br><pre><code class="plaintext hljs">[1;2;3] //   int list //   Some 1 //   int option //   (1,"a") //   int * string //  </code> </pre> <br><p>  Expressions for types have a special syntax that <em>differs</em> from the syntax of ordinary expressions.  You may have noticed many examples of this syntax while working with FSI (FSharp Interactive), since  The types of each expression are displayed along with the results of its execution. </p><br><p>  As you know, F # uses the type inference algorithm, so often you don‚Äôt need to explicitly type in the code, especially in functions.  But in order to work effectively with F #, you need to understand the type syntax so that you can define your own types, debug type-casting errors, and read function signatures.  In this article, I will focus on using types in function signatures. </p><br><p>  Here are some examples of type syntax signatures: </p><br><pre> <code class="plaintext hljs">//   //   let add1 x = x + 1 // int -&gt; int let add xy = x + y // int -&gt; int -&gt; int let print x = printf "%A" x // 'a -&gt; unit System.Console.ReadLine // unit -&gt; string List.sum // 'a list -&gt; 'a List.filter // ('a -&gt; bool) -&gt; 'a list -&gt; 'a list List.map // ('a -&gt; 'b) -&gt; 'a list -&gt; 'b list</code> </pre> <br><h2>  Understanding Signature Functions </h2><br><p>  Often, even just by examining the signature of a function, you can get some idea of ‚Äã‚Äãwhat it does.  Consider a few examples and analyze them in turn. </p><br><pre> <code class="plaintext hljs">int -&gt; int -&gt; int</code> </pre> <br><p>  This function takes two <code>int</code> parameters and returns another <code>int</code> .  Most likely, this is a kind of mathematical functions, such as addition, subtraction, multiplication or exponentiation. </p><br><pre> <code class="plaintext hljs">int -&gt; unit</code> </pre> <br><p>  This function takes an <code>int</code> and returns <code>unit</code> , which means that the function does something important in the form of a side effect.  Since  it does not return a useful value, the side effect is most likely to write to the IO, such as logging, writing to the database, or something similar. </p><br><pre> <code class="plaintext hljs">unit -&gt; string</code> </pre> <br><p>  This function takes nothing, but returns a <code>string</code> , which may mean that the function gets a string from the air.  Since there is no explicit input, the function probably does something with reading (say from a file) or generation (for example, a random string). </p><br><pre> <code class="plaintext hljs">int -&gt; (unit -&gt; string)</code> </pre> <br><p>  This function accepts an <code>int</code> and returns another function that, when called, will return a string.  Again, the function is likely to perform a read or generate operation.  Input, most likely, somehow initializes the returned function.  For example, input may be a file identifier, and the returned function is similar to <code>readline()</code> .  Alternatively, the input may be the initial value for the random string generator.  We cannot say for sure, but we can draw some conclusions. </p><br><pre> <code class="plaintext hljs">'a list -&gt; 'a</code> </pre> <br><p>  The function accepts a list of any type, but returns only one value of this type.  This may indicate that the function aggregates the list or selects one of its elements.  A similar signature has <code>List.sum</code> , <code>List.max</code> , <code>List.head</code> , etc. </p><br><pre> <code class="plaintext hljs">('a -&gt; bool) -&gt; 'a list -&gt; 'a list</code> </pre> <br><p>  This function takes two parameters: the first is a function that converts something into a <code>bool</code> (predicate), the second is a list.  The return value is a list of the same type.  Predicates are used to determine if an object meets a certain criterion, and it looks like this function selects items from the list according to the predicate ‚Äî true or false.  After that, it returns a subset of the source list.  An example of a function with this signature is <code>List.filter</code> . </p><br><pre> <code class="plaintext hljs">('a -&gt; 'b) -&gt; 'a list -&gt; 'b list</code> </pre> <br><p>  The function takes two parameters: a conversion from type <code>'a</code> to type <code>'b</code> and a list of type <code>'a</code> .  The return value is a list of type <code>'b</code> .  It is reasonable to assume that the function takes each element from the list of <code>'a</code> , and converts it to <code>'b</code> , using the function passed as the first parameter, and then returns the list <code>'b</code> .  And indeed, <code>List.map</code> is a prototype of a function with such a signature. </p><br><h3>  Finding library methods using signatures </h3><br><p>  Function signatures are very important in finding library functions.  The F # libraries contain hundreds of functions, which at first can be confusing.  Unlike object-oriented languages, you cannot simply ‚Äúenter an object‚Äù through a dot to find all the related methods.  But if you know the signature of the desired function, you can quickly narrow down the search. </p><br><p>  For example, you have two lists, and you want to find a function combining them into one.  What signature would the desired function have?  It would take two lists as parameters and return a third one, all of the same type: </p><br><pre> <code class="plaintext hljs">'a list -&gt; 'a list -&gt; 'a list</code> </pre> <br><p>  Now let's go to <a href="http://msdn.microsoft.com/en-us/library/ee353738">the MSDN documentation site for the List module</a> , and look for a similar function.  It turns out that there is only one function with this signature: </p><br><pre> <code class="plaintext hljs">append : 'T list -&gt; 'T list -&gt; 'T list</code> </pre> <br><p>  Exactly what is needed! </p><br><h2>  Defining custom types for function signatures </h2><br><p>  Someday you will want to define your own types for the desired function.  This can be done using the "type" keyword: </p><br><pre> <code class="plaintext hljs">type Adder = int -&gt; int type AdderGenerator = int -&gt; Adder</code> </pre> <br><p>  In the future, you can use these types to limit the values ‚Äã‚Äãof the parameters of functions. </p><br><p>  For example, the second declaration due to the constraint imposed will fall with a type conversion error.  If we remove it (as in the third ad), the error will disappear. </p><br><pre> <code class="plaintext hljs">let a:AdderGenerator = fun x -&gt; (fun y -&gt; x + y) let b:AdderGenerator = fun (x:float) -&gt; (fun y -&gt; x + y) let c = fun (x:float) -&gt; (fun y -&gt; x + y)</code> </pre> <br><h2>  Verify Understanding Function Signatures </h2><br><p>  Do you understand function signatures well?  Check yourself if you can create simple functions with the signatures below.  Avoid explicit types! </p><br><pre> <code class="plaintext hljs">val testA = int -&gt; int val testB = int -&gt; int -&gt; int val testC = int -&gt; (int -&gt; int) val testD = (int -&gt; int) -&gt; int val testE = int -&gt; int -&gt; int -&gt; int val testF = (int -&gt; int) -&gt; (int -&gt; int) val testG = int -&gt; (int -&gt; int) -&gt; int val testH = (int -&gt; int -&gt; int) -&gt; int</code> </pre> <br><h1>  Additional resources </h1><br><p>  For F #, there are many tutorials, including materials for those who come with C # or Java experience.  The following links may be helpful as you learn more about F #: </p><br><ul><li>  <a href="https://docs.microsoft.com/en-US/dotnet/fsharp/">F # Guide</a> </li><li>  <a href="https://swlaschin.gitbooks.io/fsharpforfunandprofit/content/">F # for Fun and Profit</a> </li><li>  <a href="https://en.wikibooks.org/wiki/F_Sharp_Programming">F # Wiki</a> </li><li>  <a href="https://learnxinyminutes.com/docs/fsharp/">Learn X in Y Minutes: F #</a> </li></ul><br><p>  Several other ways <a href="https://docs.microsoft.com/en-us/dotnet/fsharp/get-started/">to get started with learning F # are</a> also described. </p><br><p>  Finally, the F # community is very friendly to beginners.  There is a very active Slack chat, supported by the F # Software Foundation, with rooms for beginners that you <a href="http://foundation.fsharp.org/join">can freely join</a> .  We strongly recommend that you do this! </p><br><p>  Do not forget to visit the site of the <a href="http://fsharplang.ru/">Russian-speaking community F #</a> !  If you have any questions about learning the language, we will be happy to discuss them in chat rooms: </p><br><ul><li>  Room <code>#ru_general</code> in <a href="http://foundation.fsharp.org/join">Slack chat F # Software Foundation</a> </li><li>  <a href="https://t.me/Fsharp_chat">chat in Telegram</a> </li><li>  <a href="http://gitter.im/fsharplang_ru">chat in gitter</a> </li><li>  Room #ru_general in <a href="http://foundation.fsharp.org/join">Slack chat F # Software Foundation</a> </li></ul><br><h2>  About authors of translation </h2><br><p>  Translated by <a href="https://habrahabr.ru/users/kleidemos/"><em>@kleidemos</em></a> <br><img src="https://habrastorage.org/getpro/habr/post_images/f95/c6d/92c/f95c6d92c5b1126b093792a43955aa43.png" width="56" height="56">  Translation and editorial changes are made by the efforts of the <a href="http://fsharplang.ru/">Russian-speaking community of F # -developers</a> .  We also thank <a href="https://habrahabr.ru/users/schvepsss/"><em>@schvepsss</em></a> and <a href="https://habr.com/users/shwars/"><em>@shwars</em></a> for preparing this article for publication. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/433402/">https://habr.com/ru/post/433402/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../433390/index.html">Yandex has joined the protection of Linux and the IT-industry from patent trolling</a></li>
<li><a href="../433392/index.html">Snom D725 IP Phone Review</a></li>
<li><a href="../433396/index.html">Frontend 2018: Results of the Year</a></li>
<li><a href="../433398/index.html">Functional thinking. Part 7</a></li>
<li><a href="../433400/index.html">React Tutorial, Part 2: Functional Components</a></li>
<li><a href="../433404/index.html">React Tutorial, Part 3: Component Files, Project Structure</a></li>
<li><a href="../433408/index.html">Efficient memory management in Node.js</a></li>
<li><a href="../433414/index.html">PRTG Network Monitor testing and comparison with Zabbix</a></li>
<li><a href="../433420/index.html">Results ZeroNights 2018</a></li>
<li><a href="../433424/index.html">Is it possible to download an impassable level in Super Mario Maker?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>