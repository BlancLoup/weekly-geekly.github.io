<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A guide to bringing a ‚Äúclone‚Äù to the clone of the popular Chinese mini-router Hame A15, aka ‚Äúunbranded A5-V11‚Äù</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If I saw farther than others, it is because I stood on the shoulders of giants. 
 I.Newton 


 I think many people know the small Chinese Hame A15 rou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A guide to bringing a ‚Äúclone‚Äù to the clone of the popular Chinese mini-router Hame A15, aka ‚Äúunbranded A5-V11‚Äù</h1><div class="post__text post__text-html js-mediator-article"><p>  <i>If I saw farther than others, it is because I stood on the shoulders of giants.</i> <i><br></i>  <i><b>I.Newton</b></i> </p><br><p>  I think many people know the small Chinese Hame A15 router (it, or rather its massive copies, with improved TTX compared to the original, is equally good at using the keywords <b>3g / 4g router</b> on both <a href="https://www.ebay.com/itm/Mini-Portable-3G-4G-WiFi-Wlan-Hotspot-AP-Client-150Mbps-RJ45-USB-Wireless-Router/351374639097%3Fepid%3D562204210%26hash%3Ditem51cf8f7ff9:g:6bEAAOSwEeFVMG2H:rk:1:pf:1%26frcectupt%3Dtrue">ebay</a> and <a href="https://ru.aliexpress.com/item/High-Quality-Mini-Portable-3G-4G-WiFi-Wlan-Hotspot-AP-Client-150Mbps-RJ45-USB-Wireless-Router/32615250804.html%3Fspm%3Da2g0v.search0604.3.15.41a6dc75bQOJAZ%26ws_ab_test%3Dsearchweb0_0,searchweb201602_1_10065_10068_318_319_5731311_317_10696_5728811_10084_10083_10618_452_10307_5731411_532_5723511_5731211_5731111_204_328_10059_10884_323_10887_5731511_100031_5731611_320_321_322_5731711_10103,searchweb201603_55,ppcSwitch_0%26algo_expid%3Db3c2d35a-ec5d-4801-9cc0-c8cdb10ca55b-2%26algo_pvid%3Db3c2d35a-ec5d-4801-9cc0-c8cdb10ca55b">aliexpress</a> ).  Today I wanted to tell how I brought to mind the $ 6.5 router and spent $ 20 on it.  What for?  And for about the same reason why bracelets are woven from beads - to train a micromotorica and to implant a sight (the body of the components is mostly 0402 :) Mostly for sporting interest, although it is also important that this router is today my favorite base for various projects (even despite the difficulty of accessing GPIO), instead of ‚Äúpopular‚Äù NEXX WT3020F, TP-Link TL-MR3020, TP-Link TL-WR703N and others like them.  The reason for this in the first place is its size and shape of the printed circuit board, convenient for embedding anywhere (in the photo you can estimate the size).  Further, in order to avoid confusion of terminology, I will call the device shown below as it is called by <a href="https://wiki.openwrt.org/toh/unbranded/a5-v11">wiki openwrt</a> - <b>A5-V11</b> . </p><br><img src="https://habrastorage.org/webt/xq/rw/n3/xqrwn3a7h_npbxhgw0xfajvcjh8.jpeg"><a name="habracut"></a><br><p>  The heart of this device is the SoC Ralink RT5350F with a frequency of 360 MHz, the board has a full USB host, 4 MB of flash memory and 32 MB of RAM SDRAM with a frequency of 166 MHz (which is by the way strange, because even the ancient D-link DIR-320 on board had a faster DDR).  Some clone clones have 16 MB of memory and are not suitable without increasing RAM for the manipulations described in the article. </p><br><p>  As usual, the picture below shows the original router Hame A15. </p><br><div class="spoiler">  <b class="spoiler_title">Original Hame A15</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/c51/593/bb2/c51593bb22f95c58a5bfbc7cbe9fe93b.jpg" alt="image"></div></div><br><p>  And this is how its improved Chinese copy looks like (at the end of the article you can see another copy of the copy, but 10 times more expensive :). </p><br><div class="spoiler">  <b class="spoiler_title">Chinese clone Hame A15</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/e3b/028/e90/e3b028e90c54998920ed8561b0ac6f09.jpg" alt="image"></div></div><br><p>  The interiors of the firmware were already <a href="https://habr.com/post/238713/">covered</a> in the Habr√©, so I will not dwell on the features of the markup.  Details of the problems and solutions are described on <a href="https://4pda.ru/forum/index.php%3Fshowtopic%3D377187%26st%3D3060">w3bsit3-dns.com</a> .  There is a lot of information, but it is incredibly scattered.  I hope in this article to collect the key points, based on the experience of the guys, "the giants of the router" :) <br>  The answer to the question "why does this (router) need an inexperienced user" will quote the user <b><a href="https://mysku.ru/blog/aliexpress/27796.html">ded1971</a></b> : </p><br><blockquote>  General consumer properties - universal compact 3G-WiFi-router.  It is convenient to take on trips, connect a 3G / 4G modem, organize your WiFi network, or use as a repeater to enhance WiFi, connect the Internet to a smart TV if there is no built-in WiFi.  In general, a lot of useful features for ridiculous money. </blockquote><br><div class="spoiler">  <b class="spoiler_title">Well, the comparison with the ubiquitous and popularly loved ES8266</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/zi/e4/fu/zie4fug9lfi3y2pvxuvtubvfyga.jpeg"></div></div><br><h2>  <b>Part one, preparatory</b> </h2><br><p>  While the router went by mail, it was time to study the reviews of happy owners.  The main problems faced by most are problems of overheating of the router (and, accordingly, ‚Äúchip dump‚Äù) and power instability, when the router cannot start for a long time (‚Äúindicator‚Äù - two LEDs are dimly lit, it is impossible to connect to the device via Ethernet). <br>  To combat the first problem, it was decided to install a radiator on the chip.  For this, I <a href="https://ru.aliexpress.com/item/20Pc-ST036Y-12-12-3MM-Aluminum-Heatsinks-Chip-Small-Electronic-Radiator-Thermal-Fin-Heat-Conduction-Block/32828180584.html%3Fspm%3Da2g0s.9042311.0.0.493c33edfGT4zw">ordered</a> small aluminum radiators of sizes 12x12x3 mm (exactly under the size of the chip).  A height of 3 mm was chosen because I wanted the protruding radiator not to cling to objects (in a bag, for example) and the router could stably lie on the table. </p><br><div class="spoiler">  <b class="spoiler_title">This is what radiator placers look like ...</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/hv/ut/of/hvutofqkpygjf6z584zuogpo1h8.jpeg"></div></div><br><p>  For mounting the radiator, I decided to use hot melt glue.  From those available in our area - there was only ‚Äúdisposable‚Äù Alsil-5, which, despite its fairly good thermal conductivity, does not at all imply long-term storage.  It dries in a couple of days (and if you are lucky, you can buy it already dried).  Therefore, on the same aliexpress, two types of hot melt glue were ordered for high-power LED radiators - <b><a href="https://www.ebay.com/itm/6EE9-Cooler-Heatsink-CPU-PC-Thermal-Grease-White-Silicone-HY910-Non-Toxic/223092713674%3FssPageName%3DSTRK%253AMEBIDX%253AIT%26_trksid%3Dp2057872.m2749.l2649">Halnziye HY910</a></b> and <b><a href="https://www.ebay.com/itm/10g-HC-910-Silicone-Thermal-Conductive-Adhesive-Glue-Tube-Heatsink-Plaster/152920493522%3FssPageName%3DSTRK%253AMEBIDX%253AIT%26_trksid%3Dp2057872.m2749.l2649">Hcbonyx HC-910</a></b> . </p><br><div class="spoiler">  <b class="spoiler_title">Chinese hot melt glue</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/t8/oz/3c/t8oz3cxfsxxdgescpbxqrixahea.jpeg"></div></div><br><p>  The reviews on the specialized forums are not bad, although experts still recommend using two-component epoxy hot melts for serious tasks, like <b><a href="http://elektronika-plus.ru/catalog/1944/34880/">Thermopox 85CT</a></b> .  But go find him ... <br>  Just in case, here are the comparative characteristics of thermal conductivities used by me hot melt, found on the Internet. </p><br><blockquote>  Thermoglue Halnziye HY910 - thermal conductivity 0.975W / mK <br>  Thermoglue Alsil-5 - thermal conductivity 1.4-1.6W / mK <br>  Thermoglue hcbonyx HC-910 - thermal conductivity 1.7W / mK </blockquote><br><div class="spoiler">  <b class="spoiler_title">And the general photo :)</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/dx/yn/w5/dxynw5hmybwxmhld-w_vnw9jjim.jpeg"></div></div><br><p>  In order to install a radiator, I had to cut the case (including to improve heat transfer).  To do everything as neatly as possible, I first traced the dimensions of the board onto thick paper, cut a hole for the chip, and then put the cardboard template into the case.  Then everything is simple - we draw out the contours of the hole with a pencil, cut it with a stationery knife and polish it with a file. </p><br><img src="https://habrastorage.org/webt/9q/o-/nl/9qo-nlm0e9vzad5o_sfsifzcjh8.jpeg"><br><div class="spoiler">  <b class="spoiler_title">Marking and trimming of the plastic housing under the radiator 12x12</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/eh/1g/c-/eh1gc-i_lgdpe2tqwgqirx3re58.jpeg"><br><img src="https://habrastorage.org/webt/83/zi/i5/83zii5m42wo-pk-y8ieffpyqy4o.jpeg"><br><img src="https://habrastorage.org/webt/ps/im/5p/psim5pqhpvvxwdrqhayszjckn-k.jpeg"></div></div><br><p>  In parallel with the installation of the radiator, <u>it is necessary to</u> solder the missing ceramic SMD capacitor <b>10 Œºf 6.3 V</b> to the router in a 3.3V converter circuit.  (following the advice of the user <b><a href="https://4pda.ru/forum/index.php%3Fs%3D%26showtopic%3D377187%26view%3Dfindpost%26p%3D76811298">return1</a></b> ).  Installation location shown in the picture: </p><br><img src="https://habrastorage.org/webt/el/nl/kq/elnlkqdn_wmebw8rhecg8pxdwqk.jpeg"><br><div class="spoiler">  <b class="spoiler_title">And this is how the board looks like with a 10 Œºf 6.3 capacitor already installed</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/_h/zi/bw/_hzibwbg-ou98na-zzxksay1j2k.jpeg"></div></div><br><p>  According to reviews, the current consumption of the device decreases and becomes more stable.  Presumably, in the 3.3V converter, pulsations appear on the output, which disable the processor.  The capacitor smoothes these pulsations. </p><br><p>  <b>Important!</b>  <u>Try to install the radiator and solder the capacitor BEFORE launching and operating the router.</u>  Otherwise, it may turn out that ‚ÄúBorjomi drink‚Äù is too late ... </p><br><p>  People solve the power problem by installing, instead of the regular RC-chain of the router, specialized power supply monitor circuits, for example, <b><a href="https://4pda.ru/forum/index.php%3Fs%3D%26showtopic%3D377187%26view%3Dfindpost%26p%3D54685972">KR1171SP28</a></b> , <b><a href="https://4pda.ru/forum/index.php%3Fs%3D%26showtopic%3D377187%26view%3Dfindpost%26p%3D57940704">DS1816</a></b> or <b><a href="https://4pda.ru/forum/index.php%3Fs%3D%26showtopic%3D377187%26view%3Dfindpost%26p%3D61478608">MAX809TTR</a></b> .  I immediately liked the option of using Maxim power supply supervisors.  The two main tasks that supervisors can solve are to keep the controller in a reset state until the supply voltage reaches a predetermined value and does not stabilize, or resetting the controller when the supply voltage drops below a critical level or when the voltage drops suddenly.  Also from the advantages of this type of supervisors, it can be noted that the installation of the chip does not require additional components, and the size of this semiconductor device lies in the places of the removed elements (yes, you must first remove the unnecessary resistors and capacitors, and then also go braid on contact pads). </p><br><img src="https://habrastorage.org/webt/am/hn/he/amhnhetbzfafmcqmfgi_o6glivu.jpeg"><br><p>  Search on aliexpress did not give anything, but it <a href="https://www.chipdip.ru/product/max809teur-t">gave a search</a> in the catalog of CHIP and IP where the pulse <b><a href="https://datasheets.maximintegrated.com/en/ds/MAX803-MAX810Z.pdf">shapers</a></b> (reset) of <b><a href="https://datasheets.maximintegrated.com/en/ds/MAX803-MAX810Z.pdf">MAX809TEUR + T</a></b> (with a voltage of 3.08 volts) were detected, one of which was successfully soldered to the router. </p><br><img src="https://habrastorage.org/webt/tf/gh/jo/tfghjovrvng4-1fhq2zcvxdolym.jpeg"><br><div class="spoiler">  <b class="spoiler_title">Setting the pulse former (reset) MAX809TEUR + T</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/wx/mz/v8/wxmzv8tumrwenm-8dwdbzv7yss0.jpeg"><br><img src="https://habrastorage.org/webt/is/zf/es/iszfeso0wlsatspn29hw_bgc6ei.jpeg"><br><img src="https://habrastorage.org/webt/2s/mu/fb/2smufbcg314dg5sjpjgmd_r3p2e.jpeg"></div></div><br><p>  By the way, I can not fail to mention the Chinese <a href="https://ru.aliexpress.com/item/5-8-USB/32909977178.html%3Fspm%3Da2g0v.search0604.3.2.6be624471W5Qjm%26ws_ab_test%3Dsearchweb0_0%252Csearchweb201602_1_10065_10068_318_319_5731311_317_10696_5728811_10084_10083_10618_452_10307_5731411_532_5723511_5731211_5731111_204_328_10059_10884_323_10887_5731511_100031_5731611_320_321_322_5731711_10103-5731411%252Csearchweb201603_55%252CppcSwitch_0%26algo_pvid%3D5e03a5b4-524b-4c29-968e-24e237a1a321%26algo_expid%3D5e03a5b4-524b-4c29-968e-24e237a1a321-0">USB soldering iron</a> , without which I would never cranked this procedure (even with the vaunted microwave ...). <br>  In order not to drive the wasted soldering iron, at the same time I decided to solder a contact block to the contact pads of the UART console (patch) to simplify the connection of dupont-wiring from Arduino-designers.  The pins of the pads with the contact pitch of 2 mm matched perfectly (the standard widespread 2.54 mm is already wide).  These <a href="https://ru.aliexpress.com/item/Single-Row-Male-to-Female-Connector-PCB-Pin-Header-Strip-10-100Pcs-Copper-1x40Pin-2-0mm/32809950407.html%3Fspm%3Da2g0v.search0604.3.43.17d425a4q0196G%26ws_ab_test%3Dsearchweb0_0%252Csearchweb201602_1_10065_10068_318_319_317_10696_5728811_10084_10083_10618_452_10307_532_5723511_204_328_10059_10884_323_10887_100031_320_321_322_10103%252Csearchweb201603_55%252CppcSwitch_0%26algo_pvid%3D952fe7d6-37df-478c-a921-5ddd4acfcbae%26algo_expid%3D952fe7d6-37df-478c-a921-5ddd4acfcbae-6">are</a> , for example.  To make it easier to solder, I with the help of tweezers bent the tips of the contacts with the letter ‚ÄúG‚Äù and tinned the fingers on the router board. </p><br><div class="spoiler">  <b class="spoiler_title">Preparing the UART console</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/5h/6z/qy/5h6zqycmpexzy4qouhlmy3rx8qu.jpeg"></div></div><br><p>  Then it was enough to install the pad on the patch and slightly warm the joint before melting the solder.  It is important not to overdo it (which is easy to do with a powerful soldering iron), otherwise the snouts can simply fall back from overheating.  In this case, the picture shows a backup test-point, where you can solder. </p><br><img src="https://habrastorage.org/webt/gz/6i/ib/gz6iibr3eakny3pr1sacg2kcxl0.jpeg"><br><p>  By the way, it is possible to solder contacts using another method, but the case is simply not closed. </p><br><img src="https://habrastorage.org/getpro/habr/post_images/5e7/b7c/02a/5e7b7c02ac8b291e046e30f39983fb6b.jpg" alt="Alternative soldering of UART contacts"><br><p>  At this preparatory part ended and the main one began. </p><br><h2>  <b>Part Two, ‚ÄúProgrammer‚Äù</b> </h2><br><p>  As I mentioned at the beginning of the article, there is little memory in the router, only 4 MB.  Of course, I can remember someone and the fact that "640 KB should be enough for everyone."  But having spent a week trying to shove all the necessary packages into the self-assembled openwrt for the D-Link DIR-320 (and there is in fact 8 MB (!)), I now know for sure that it‚Äôs not worth saving on memory.  Therefore, it was decided to change flash to a more capacious and at the same time having a reasonable cost (so as not to be more expensive than the router itself).  Replacement requires chips with an effective frequency (SPI Clock rate) not lower than 100 MHz and a supply voltage of 3.3 V. Of the manufacturers, Winbond or any other (En = Eon, Mx = Macronix, Pm = PMC, At = Atmel).  From what <a href="https://wiki.openwrt.org/ru/toh/hame/mpr-a1">openwrt.org</a> advises are <b><a href="https://ru.aliexpress.com/item/in-stock-SM3252Q-SM3252Q-BB-SM3252Q-QFP/32800821422.html%3Fspm%3Da2g0s.9042311.0.0.248f33edMYhQzB">W25Q128BV</a></b> , MX25L128 (35F), S25FL128P, S25FL129P, GD25Q128C, GD25Q128CSIG.  The number 128 in the marking tells us that the size of the flash drive is 16 MB (128Mbit = 16Mb).  The choice of a nominal of this size is due to the fact that a cheap Chinese programmer of the 24 / 25th CH341A memory chip (about it below) can work with such volume without dancing with a tambourine.  For fans, I can say that 32 MB can be soldered (for example, W25Q256FV, MX25L25635F, N25Q256A, MX25L25645GM2I-10G and even 64 MB (MX25L51245G, MT25QL512AB). But I would like to note that for 64 MB of modules, the memory tags are far from humane. I note that the talk about memory chips is ONLY in the SOP8 package as the most convenient for soldering. <a href="">Of</a> course, you can take chips in <a href="">WSON8 packages</a> with contact pads instead of legs, but the soldering is too laborious and the result may not meet the expectations. <br>  You can flash the memory chip in several different ways, depending on what is available: <br>  <b>a)</b> There is a diode / capacitor and a parallel port (the simplest programmer) - see the firmware manual on the <a href="http://support.fccps.cz/download/adv/frr/spi/msi_spi.html">Czech website</a> or <a href="http://kazus.ru/forums/showthread.php%3Ft%3D14093">in Russian</a> . </p><br><div class="spoiler">  <b class="spoiler_title">So this simplest programmer from LPT-connector and a pair of parts looks like in life.</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/0b3/75b/184/0b375b184a2556dc41d71edc6567a01a.jpg" alt="image"></div></div><br><p>  <b>b)</b> There is any Arduino (Pro, Micro, Nano, etc.) - we prepare one of them for our SPI flash programmer according to the following <a href="https://pikabu.ru/story/quotprogrammatorquot_2425_fleshek_na_arduino_5193861">recipe</a> . <br>  <b>c)</b> If there is a Raspberry Pi - look <a href="https://nm-projects.de/2017/09/analysis-of-mini-3g4g-wifi-wireless-router-a5-v11/">here</a> <br>  <b>d)</b> There is a ‚Äúpopular‚Äù USBASP programmer (about which they once <a href="https://habr.com/post/208470/">wrote</a> on Habr√©) - we prepare it <a href="http://plc-blog.com.ua/usbasp-flash-25xxx">according to the recipe number 2</a> . <br>  <b>e)</b> There is only a desire and some money - we buy Chinese CH341A programmer for 24/25 SPI flash on aliexpress and calmly start working. </p><br><p>  The flash drive itself is connected to the programmer (s) as follows: </p><br><div class="spoiler">  <b class="spoiler_title">Memory chip pinout</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/dca/bff/40e/dcabff40e2b61ec33aa98f88f0409b42.jpg" alt="image"></div></div><br><p>  A USB flash drive can be soldered and connected to the blocks / adapters of the programmer, or you can solder the already mentioned dupont wires from the Arduino to it, and you can connect the wires to the programmer.  The "workers" of the flash are <b>MISO</b> , <b>MOSI</b> , <b>CLK</b> , <b>CS</b> , <b>VCC</b> and <b>GND</b> contacts.  If programming is carried out without removing the chip from the board, it is best to unsolder during operation and slightly raise the VCC contact above the board plane.  After completion of work - press the foot to the board and solder. <br>  Since I didn‚Äôt have the desire to look for the LPT port, I decided to act on the last option e) and purchase an additional piece of iron in my park.  This piece is called <b><a href="https://www.onetransistor.eu/2017/08/ch341a-mini-programmer-schematic.html">CH341A</a></b> and is, oddly enough, a programmer based on the chip CH341, the author's development of the "widely known" Chinese mega-corporation <i>Jiangsu QinHeng Ltd.</i>  :) </p><br><div class="spoiler">  <b class="spoiler_title">Schematic diagram of the programmer</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/f08/a0a/cfc/f08a0acfc6a62d2da36c2cb6ef343f75.png" alt="image"></div></div><br><p>  When ordering <u>only the</u> programmer, I strongly recommend additionally buying an <a href="https://www.ebay.com/itm/SOP8-SOIC8-To-DIP8-EZ-Programmer-Adapter-Socket-Converter-Module-Wide-150-Mile/232414370475%3FssPageName%3DSTRK%253AMEBIDX%253AIT%26_trksid%3Dp2057872.m2749.l2649">adapter</a> from SOP8 / SOIC8 cases to DIP cases and a <a href="https://ru.aliexpress.com/item/Free-Shipping-New-1Pcs-SOIC8-SOP8-Flash-Chip-IC-Test-Clips-Socket-Adpter-BIOS-24-25/1844277735.html%3Fspm%3Da2g0s.9042311.0.0.274233ediWrCAq">clip-clip</a> for working with chips. </p><br><div class="spoiler">  <b class="spoiler_title">Adapter and clip</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ue/_x/to/ue_xtorv84tzvamgbymbnqro7xs.jpeg"><br><img src="https://habrastorage.org/webt/oz/il/un/ozilun0uq6m46zsevdh1lrqkchs.jpeg"></div></div><br><p>  You can not chase the meager savings, and buy immediately a ready-made set consisting of the programmer and all the necessary adapters, then you will get in addition to the above two adapters and an adapter for programming 1.8 V chips. </p><br><div class="spoiler">  <b class="spoiler_title">It looks like a ready-made set</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/yh/jk/tm/yhjktmqetzttqjomgedd3ntzi84.jpeg"></div></div><br><p>  From my own experience I will say that the clip-clothespin works once a time and most likely the chip will have to be soldered and put into the SOP8-DIP adapter or even soldered to the pads on the programmer itself. </p><br><p>  <u>Addition</u> : my adapter has finally come, or how correctly it is called the <b>SIF8-DIP8 150 mil ZIF adapter</b> .  This adapter is suitable for microcircuits with a housing width of 150mil, lead pitch 1.27mm.  In addition to 150 mil, there may be 200 mil, so it‚Äôs important to pay attention to this when ordering at auctions (I have chips and so, so there are two adapters). </p><br><div class="spoiler">  <b class="spoiler_title">How to visually distinguish the ZIF adapter for 150 and 200 mil</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/i0/3r/e7/i03re7tib25lkpzkodmp_qantwg.jpeg"></div></div><br><p>  The thing is incredibly convenient, the chip is clamped easily, at ease and very clearly (the system resembles pliers).  To do this, simply press the spring upper part of the case, put the chip on the exposed sites and release this part of the case back.  The spring-loaded top contacts come out when released and the chip is automatically clamped (photo for clarity, because the 200 mil chip is in the 150 mil adapter, so do not kick it, it stuck what was at hand).  Then install in the programmer, looking where we have leg 1 (circle on the chip).  It turns out like this: </p><br><img src="https://habrastorage.org/webt/nx/3g/ft/nx3gftuwoq2chvdsrzsv_fbeyrw.jpeg"><br><div class="spoiler">  <b class="spoiler_title">More beautiful pictures of SOIC8 SOP8 on DIP8 adapter</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/tc/ex/za/tcexzaa6jeafqpqnot33s8uhz58.jpeg"><br><img src="https://habrastorage.org/webt/pk/cu/fx/pkcufxejj7qt1yile91pfcj1-fa.jpeg"><br><img src="https://habrastorage.org/webt/ti/m7/0r/tim70ro7wotbs7fqn4qxttbkeew.jpeg"><br><img src="https://habrastorage.org/webt/lv/rp/rj/lvrprjzm16nwaqssjls2hhz2use.jpeg"></div></div><br><p>  I filmed a native memory chip using a hot air soldering station, and for those who do not have such equipment, I recommend strongly <a href="http://www.powerstyle.ru/main/index.php%3Foption%3Dcom_content%26task%3Dview%26id%3D56%26Itemid%3D64">using the Rosa alloy method</a> .  After work, be sure to remove the remains of the Rosa alloy with braid from the board and the microcircuits, away from sin. <br>  The removed microcircuit is connected to the programmer (for someone how and what happens).  I was too lazy to solder, I honestly tried to clamp with a clip, as a result, my legs strongly slanted down with a spring of clips.  But the benefit of soldering back, I did not intend to 4 MB flash, and good contact was to ensure trouble-free reading.  So it happened.  Nota bene for those who solder the microcircuit - carefully look at the digits on the adapter boards and solder them in accordance with them.  In the case of a clip, the red wire on the cable is keyed and falls on foot number 1. </p><br><img src="https://habrastorage.org/webt/l4/cr/g9/l4crg92dn4etg-xkngb70iewduy.jpeg"><br><div class="spoiler">  <b class="spoiler_title">Captured and successfully from ...</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/78/jt/hu/78jthurktjxlqllhydakdoxr5yw.jpeg"><br><img src="https://habrastorage.org/webt/ff/9l/os/ff9losgpei2qnttiqayqdwx8y-y.jpeg"><br><img src="https://habrastorage.org/webt/rv/wy/cc/rvwyccyq1zt2jzdccw9wihwl4je.jpeg"><br><img src="https://habrastorage.org/webt/gc/nj/wm/gcnjwmaue1x9hw3wb1nv_jdcofs.jpeg"></div></div><br><p>  Having dealt with the iron, you have to deal with the software.  As I already wrote, on Habr√© this programmer periodically <a href="https://habr.com/post/262731/">pops up in articles</a> .  From where it is clear that it works without problems with all modern operating systems (for example, in Windows 10 drivers are pulled from the network automatically, and in Linux they have been in the kernel for several years).  But, but you never know what will happen, <a href="https://www.onetransistor.eu/2017/08/ch341a-mini-programmer-schematic.html">here</a> you can find the driver (for the Serial / Parallel mode) with separate files just in case.  For programming in Windows, <a href="http://malthus.mooo.com/download/file.php%3Fid%3D893">Chinese software by</a> SkyGz is often used.  For Linux, there are open projects <a href="https://github.com/setarcos/ch341prog">ch341prog</a> (SPI) and <a href="http://sourceforge.net/projects/ch341eepromtool/">ch341eepromtool</a> (I2C), you can use the "people's" <a href="https://tuxotronic.org/wiki/tools/flashrom/">flashrom</a> .  Since I use Windows, and the majority of users are not very positive about the "Chinese program" (especially about the new 1.28 ... 1.30 versions), in order not to tempt fate, the chip was read using the simple, reliable <i>Russian</i> programmer <b>AsProgrammer</b> <a href="https://github.com/nofeletru/UsbAsp-flash/releases/">version 1.4.0</a> .  By the way, if something suddenly did not like something / is not clear, or for example, you need to add a new chip, you can easily write in the <a href="http://forum.easyelectronics.ru/viewtopic.php%3Ff%3D17%26t%3D10947">topic "technical support"</a> and get a quick feedback. </p><br><div class="spoiler">  <b class="spoiler_title">Why it‚Äôs NOT worth buying flash memory more than 16 MB</b> <div class="spoiler_text"><p>  I will allow myself a small digression and explain my unwillingness to install a 32 MB flash drive (the price difference from 16 MB is not critical).  The fact is that neither in the Chinese programs (version 1.29 or 1.30), nor in the mentioned AsProgrammer support of the microcircuits ala W25Q256FV, MX25L25635F, N25Q256A, MX25L25645GM2I-10G is stated.  Perhaps the reason for this is that for an SPI flash, the maximum amount is 128 Mbps (the maximum that can be addressed by the 3-byte addressing mode adopted by JEDEC).  And here the options are not so much.  For example, you can use the modified flashrom to write the first half of a w25q256 chip (16 MB in size), as familiar to this program, a 16 MB w25q128 chip and stick a correct bootloader (Breed, for example) and factory partitions with ‚Äúservice‚Äù information (mac -address of the router, wi-fi calibration, etc.).  And already booted in bootloader mode (in case of successful recognition of the entire volume of the chip), it would be possible to flash the precompiled firmware from it.  You can even buy flash drives for the future and wait until support for such volumes appears in the broken versions of Chinese software to the ch341a or when the flashrom is finished.  Summing up, it is better to take 16 MB :) for ‚Äútired of reaching for the stars, pick up what is lying under your feet.‚Äù </p></div></div><br><p>  Working with AsProgrammer is extremely simple, first select your chip in the "Chip" menu, and then click on the "Read" button.  A couple of minutes and a dump in our pocket :) </p><br><div class="spoiler">  <b class="spoiler_title">Read dump from factory chip 4 MB</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/fx/dr/wq/fxdrwq3lxdmgv1ckg3t_77njosu.jpeg"></div></div><br><p>  The factory full flash consists of a bootloader, a pair of sections for storing various settings and the firmware itself. </p><br><div class="spoiler">  <b class="spoiler_title">The structure of the factory 4MB firmware</b> <div class="spoiler_text"><p>  0x00000000-0x00030000: "Bootloader" <br>  0x00030000-0x00040000: "Config" <br>  0x00040000-0x00050000: "Factory" <br>  0x00050000-0x0011282a: "Kernel" </p></div></div><br><p>  The saved dump file needs to be opened in any HEX editor (I'm used to using <a href="https://www.x-ways.net/winhex/">WinHex</a> ) and at <b>105720</b> (the address in decimal system in hex will be 00019CF8) change <b>40 00</b> to <b>00 01</b> for a 16 MB flash (well, or <b>80 00</b> if Suddenly you decide to save a dozen cents and buy an 8 MB IC chip).  We save the modified firmware for future use.  By the way, the address 105720 is not the point of some kind of binding and other numbers may well be there, especially if you have already tried to unlock the bootloader for openwrt firmware, etc. Therefore, if all of a sudden, nothing happens, and the cherished ‚Äú40 00¬ª   105720  ,        HEX-       ¬´ <b>00 00 16 40</b> ¬ª.      /. </p><br><div class="spoiler"> <b class="spoiler_title">    00 00 16 40</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/_c/js/3s/_cjs3slpz9l3l-pdbdo-m5uswnk.jpeg"></div></div><br><p>    ?  ,        UART  TFTP,    . <br>              0 ( ).              . ,   ,            :) </p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/cd/ju/nz/cdjunzkbafv25r_ejw8u8eigpkk.jpeg"></div></div><br><h2> <b> , openwrt-</b> </h2><br><p>   ‚Äî    openwrt.         ,       ( ¬´ ¬ª) sysupgrade-,                           -    .           ,         openwrt  .          (,  <a href="https://habr.com/post/264299/">Tp-Link TL-WR741ND</a>  , <a href="http://sadeb.ru/sobiraem-proshivku-openwrt-na-marshrutizator-tl/">Tp-Link TL-MR3020</a> , <a href="https://autohome.org.ua/12-openwrt/8-openwrt-dlya-dir-320">D-Link DIR320A1</a> ,  ...),       (   <a href="https://wiki.openwrt.org/doc/howto/buildroot.exigence"></a>  <a href="https://wiki.openwrt.org/doc/howto/build"></a> ). </p><br><p>     *nix  ,      VirtualBox Ubuntu x64 (  -). </p><br><p>      <br> <i>sudo apt-get update</i> <br>  .  Ubuntu 16.04 LTS   : <br> <i>sudo apt-get install build-essential subversion mercurial libncurses5-dev zlib1g-dev gawk gcc-multilib flex git-core gettext libssl-dev unzip</i> </p><br><p>          <i>git clone</i> .   ‚Äî      openwrt. </p><br><div class="spoiler"> <b class="spoiler_title">Git-  OpenWrt  LEDE</b> <div class="spoiler_text"><p>  18.06.1 <br>  git clone git: //github.com/openwrt/openwrt.git -b v18.06.1 <br>  18.06.0 <br>  git clone git: //github.com/openwrt/openwrt.git -b v18.06.0 <br>  17.01.5 <br>  git clone git: //github.com/openwrt/openwrt.git -b v17.01.5 <br>  17.01.4 <br>  git clone git: //github.com/openwrt/openwrt.git -b v17.01.4 <br>  17.01.3 <br>  git clone git: //github.com/openwrt/openwrt.git -b v17.01.3 <br>  17.01.2 <br>  git clone git: //github.com/openwrt/openwrt.git -b v17.01.2 <br>  17.01.1 <br>  git clone git: //github.com/openwrt/openwrt.git -b v17.01.1 <br>  17.01 <br>  git clone git: //github.com/openwrt/openwrt.git -b v17.01.0 <br>  15.05.1 <br>  git clone git: //github.com/openwrt/archive.git -b v15.05.1 <br>  15.05 <br>  git clone git: //github.com/openwrt/archive.git -b v15.05 <br>  14.07 <br>  git clone git: //github.com/openwrt/archive.git -b v14.07 <br>  12.09 <br>  git clone git: //github.com/openwrt/archive.git -b v12.09 </p></div></div><br><p>        openwrt.     <i>cd</i> ,       <br> <i>./scripts/feeds update -a &amp;&amp; ./scripts/feeds install ‚Äìa</i> <br>     " "  ,          ,   ,      <s></s> 4 .    .      openwrt   target/linux/ramips/dts/A5-V11.dts         (   nano,    F4  mc). </p><br><img src="https://habrastorage.org/webt/qp/c0/hj/qpc0hjzebofk0k71mxd1ojj-jae.jpeg" alt="Editing a * .dts file for larger memory (for 05/15/1)"><br><p>  ,    <br> <i>make defconfig</i> <br>      ,  <i>make menuconfig</i> .     ‚Äî   : </p><br><blockquote> Target System: Ralink RT288x/RT3xxx <br> Subtarget: RT3x5x/RT5350 based boards <br> Target Profile: A5-V11 </blockquote><p><script type="text/javascript">function gtElInit() {var lib = new google.translate.TranslateService();lib.translatePage('ru', 'en', function () {});}</script><script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=gtElInit&amp;client=wt"></script> and then - by analogy with the openwrt build for other routers (I gave the links above), modify the set of packages in the way we want and save the configuration (to the <i>.config</i> file).  By the way, if you plan to change configurations frequently, you can make a backup copy each time with the command <i>scripts / diffconfig.sh&gt; mydiffconfig</i> , so each time we save our configuration changes to the file mydiffconfig.  After compiling the desired configuration (and selecting all the necessary packages), run the build with the <i>make</i> command. <br>  Due to the independent compilation of the kernel, you may encounter the fact that many packages from the official repositories for installation will not work.  This should be taken into account and more often set the flag ‚ÄúM‚Äù opposite the desired package.  Then these packages can be found in the openwrt / bin / ramips / packages folder and uploaded to some HTTP server to create your own personal repository <s>with blackjack and ...</s> for OpenWRT :). <br>  By the way, I remembered that it is very convenient to run the <i>make</i> command in the following form: <br>  <i>make V = 99 2&gt; &amp; 1 |</i>  <i>tee build.log |</i>  <i>grep -i error</i> <br>  In this case, the compiler saves a full detailed copy of the debugging information about the build to the build.log file in the openwrt directory and displays only errors.  Then this log is conveniently attached to the forums to find the cause of the error or ask a question.  In addition, it remarkably allows you to identify packages on which the compiler stops working.  You can find the text mentioned in the log by searching the directory with the command <br>  <i>grep ‚ÄìHr ‚ÄúTEXT‚Äù &lt;path to the search directory&gt; |</i>  <i>cut ‚Äìd: -f1 |</i>  <i>sort -u</i> <br>  But I sincerely hope that the compilation will be successful and I will not have to look for errors.  After the process is complete, you can find the firmware files in the <i>bin</i> folder of the openwrt directory, something like <b>openwrt-ramips-rt305x-a5-v11-squashfs-sysupgrade.bin</b> .  We take this file and proceed to the final stage. </p><br><h2>  <b>Part Four, console</b> </h2><br><p>  After the firmware is assembled in the depths of the virtual machine, all that remains is to throw it into the router.  I like the version with UART (not for nothing did I solder the pad to the contact heels).  To connect, you need either a USB to TTL UART adapter, or at least a data cable from the old Siemens.  I, fortunately, had such an adapter on an FT232 microcircuit (the CP2102 and the omnipresent CH340 are also suitable).  Pinout pads shown in the photo. </p><br><img src="https://habrastorage.org/webt/pf/he/uh/pfheuh5510zu26jo5vu5mdfhi4k.jpeg"><br><div class="spoiler">  <b class="spoiler_title">Primary and backup pinout UART-console</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/gz/6i/ib/gz6iibr3eakny3pr1sacg2kcxl0.jpeg"></div></div><br><p>  Connect the contacts to the adapter as follows: </p><br><blockquote>  GND router ‚Üí GND adapter <br>  RX router ‚Üí 470 Ohm-1 kŒ© resistor ‚Üí TX adapter <br>  TX router ‚Üí RX adapter </blockquote><p>  Let me explain why you need a resistor.  When I turned on the router connected to the adapter, it hung up and started to get warm. </p><br><div class="spoiler">  <b class="spoiler_title">So it all connected ...</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ix/fc/ft/ixfcfttwh9-gsniex1hagvq4zys.jpeg"></div></div><br><p>  In this case, the terminal managed to fall out something like </p><br><blockquote>  œür‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí1‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñíA‚ñí‚ñí (0‚ñí‚ñí‚ñí‚ñí‚ñí <br>  ? ‚ñí‚ñí‚ñí {‚ñíF‚ñí‚ñí‚ñí‚ñí‚ñí ^ ‚ñí‚ñíB‚ñí‚ñí‚ñíK”âSP @ ‚ñí (Y &lt;0‚ñí0‚ñí $ ‚ñí @ ‚ñí‚ñí‚ñí ‚ñí‚ñí‚ñí ÊÄò ‚ñí‚ñíff‚ñí‚ñí‚ñí‚ñí‚ñí`‚ñí‚ñí ‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñíx‚ñí‚ñíx‚ñí‚ñí‚ñí‚ñí‚ñíx ~ `‚ñí‚ñí ÊÄò ‚ñí‚ñí‚ñí‚ñí‚ñíx‚ñí‚ñíf‚ñí‚ñí‚ñí‚ñí‚ñíf‚ñí‚ñí`ff‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí ‚ñí‚ñífx‚ñí‚ñí‚ñíf ~ f‚ñíf‚ñí‚ñí`fxf‚ñí‚ñí‚ñí‚ñí`fx‚ñí‚ñí ~ ‚ñíx‚ñíf‚ñí‚ñíf ~ f‚ñí`‚ñíf‚ñífx‚ñí ~ ‚ñíf‚ñíxf‚ñí ~ fx ‚ñí‚ñíx‚ñí‚ñí‚ñíxx‚ñí‚ñí‚ñí‚ñíxx‚ñí‚ñí‚ñí‚ñíx‚ñí‚ñí‚ñíxf‚ñí‚ñí`x‚ñí‚ñí‚ñí‚ñí‚ñí‚ñífxf‚ñíx‚ñí‚ñí`‚ñí‚ñí‚ñíf‚ñí‚ñíf‚ñí‚ñíf‚ñífxx‚ñí x‚ñí Êûò ‚ñíx‚ñíf‚ñí‚ñí </blockquote><p>  The resistor (you can connect any, in the range from 470 ohms to 1 kOhm) fixed everything.  And <a href="http://lnxpps.de/openwrt/hame-mpra5/">here</a> , for example, the author generally advises using the <b>AduM1201</b> digital signal isolator to connect to the UART for decoupling.  But I had enough resistor, which is what you want. </p><br><div class="spoiler">  <b class="spoiler_title">UART and AduM1201</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/d5a/baf/390/d5abaf39038d0ddff09cd9d1323a7130.png" alt="image"></div></div><br><p>  Receive the signal from the router using the terminal program on the PC.  I somehow didn‚Äôt work with the national favorite Putty, and I use the excellent <a href="http://digitalchip.ru/terminal-1-9b-rabotaem-s-com-portom">Terminal</a> program.  Select the desired virtual COM port (on which our USB-UART sits), set the parameters: </p><br><blockquote>  Speed: 57600 <br>  Data Bits: 8 <br>  Parity: None <br>  Stop Bits: 1 </blockquote><p>  And click Connect.  Now, when power is applied to the router, we will see the bootloader logs in the console: </p><br><div class="spoiler">  <b class="spoiler_title">Log loader A5-V11 as is</b> <div class="spoiler_text"><p>  U-Boot 1.1.3 (Apr 11 2013 - 00:10:51) <br>  Board: Ralink APSoC DRAM: 32 MB <br>  relocate_code Pointer at: 81fb4000 <br>  spi_wait_nsec: 42 <br>  spi device id: ef 40 18 0 0 (40180000) <br>  Warning: un-recognized chip ID, please update bootloader! <br>  raspi_read: from: 30000 len: 1000 <br>  *** Warning - bad CRC, using default environment <br>  ============================================ <br>  Ralink UBoot Version: 3.6.0.0 </p><br><hr><br><p>  ASIC 5350_MP (Port5 &lt;-&gt; None) <br>  DRAM_CONF_FROM: Boot-Strapping <br>  DRAM_TYPE: SDRAM <br>  DRAM_SIZE: 256 Mbits <br>  DRAM_WIDTH: 16 bits <br>  DRAM_TOTAL_WIDTH: 16 bits <br>  TOTAL_MEMORY_SIZE: 32 MBytes <br>  Flash component: SPI Flash <br>  Date: Apr 11 2013 Time: 00: 10: 51 <br>  ============================================ <br>  icache: sets: 256, ways: 4, linesz: 32, total: 32768 <br>  dcache: sets: 128, ways: 4, linesz: 32, total: 16384 </p><br><h5 id="the-cpu-freq--360-mhz">  The CPU freq = 360 MHZ </h5><br><p>  estimate memory size = 32 Mbytes <br>  Please choose the operation: <br>  1: Load system code to SDRAM via TFTP. <br>  2: Load system code then write to Flash via TFTP. <br>  3: Boot system code via Flash (default). <br>  4: Entr boot command line interface. <br>  7: Load Boot Loader code then write to Flash via Serial. <br>  9: Load Boot Loader code then write to Flash via TFTP. <br>  4 3 2 1 <br>  You choosed 3 <br>  0 <br>  3: System Boot system code via Flash. </p><br><h2 id="booting-image-at-bc050000-">  Booting image at bc050000 ... </h2><br><p>  raspi_read: from: 50000 len: 40 <br>  .  Image Name: MIPS OpenWrt Linux-3.7.5 <br>  Created: 2013-04-11 14:41:22 UTC <br>  Image Type: MIPS Linux Kernel Image (lzma compressed) <br>  Data Size: 915849 Bytes = 894.4 kB <br>  Load Address: 80000000 <br>  Entry Point: 80000000 <br>  raspi_read: from: 50040 len: df989 <br>  ... Verifying Checksum ... OK <br>  Uncompressing Kernel Image ... OK <br>  No initrd </p><br><h2 id="transferring-control-to-linux-at-address-80000000-">  Transferring control to Linux (at address 80000000) ... </h2><br><h2 id="giving-linux-memsize-in-mb-32">  Giving linux memsize in MB, 32 </h2><br><p>  Starting kernel ... <br>  [0.000000] Linux version 3.7.5 (lich @ lich-pc) (gcc version 4.6.4 20121210 (prerelease) (Linaro GCC 4.6-2012.12)) # 2 Thu Apr 11 22:41:02 CST 2013 <br>  [0.000000] bootconsole [early0] enabled <br>  [0.000000] CPU revision is: 0001964c (MIPS 24KEc) <br>  [0.000000] Ralink RT5350 id: 1 rev: 3 running at 360.00 MHz <br>  [0.000000] Determined physical RAM map: <br>  [0.000000] memory: 02000000 @ 00000000 (usable) <br>  [0.000000] User-defined physical RAM map: <br>  [0.000000] memory: 02000000 @ 00000000 (usable) <br>  [0.000000] Initrd not found or empty - disabling initrd <br>  [0.000000] Zone ranges: <br>  [0.000000] Normal [mem 0x00000000-0x01ffffff] <br>  [0.000000] Movable zone start for each node <br>  [0.000000] Early memory node ranges <br>  [0.000000] node 0: [mem 0x00000000-0x01ffffff] <br>  [0.000000] Primary instruction cache 32kB, VIPT, 4-way, linesize 32 bytes. <br>  [0.000000] Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 32 bytes <br>  [0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128 <br>  [0.000000] Kernel command line: board = MPR-A1 console = ttyS1,57600 mtdparts = spi0.0: 192k (u-boot) ro, 64k (u-boot-env) ro, 64k (factory) ro, 896k (kernel ), 2880k (rootfs), 3776k @ 0x50000 (firmware) rootfstype = squashfs, jffs2 mem = 32M <br>  [0.000000] PID hash table entries: 128 (order: -3, 512 bytes) <br>  [0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes) <br>  [0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes) <br>  [0.000000] __ex_table already sorted skipping sort <br>  [0.000000] Writing ErrCtl register = 00023ff6 <br>  [0.000000] Readback ErrCtl register = 00023ff6 <br>  [0.000000] Memory: 29632k / 32768k available (1969k kernel code, 3136k reserved, 473k data, 180k init, 0k highmem) <br>  [0.000000] SLUB: Genslabs = 9, HWalign = 32, Order = 0-3, MinObjects = 0, CPUs = 1, Nodes = 1 <br>  [0.000000] NR_IRQS: 48 <br>  [0.000000] console [ttyS1] enabled, bootconsole disabled <br>  [0.000000] console [ttyS1] enabled, bootconsole disabled <br>  [0.010000] Calibrating delay loop ... 239.61 BogoMIPS (lpj = 1198080) <br>  [0.080000] pid_max: default: 32768 minimum: 301 <br>  [0.080000] Mount-cache hash table entries: 512 <br>  [0.090000] NET: Registered protocol family 16 <br>  [0.100000] MIPS: machine is HAME MPR-A1 <br>  [0.130000] bio: create slab &lt;bio-0&gt; at 0 <br>  [0.140000] Switching to clocksource MIPS <br>  [0.150000] NET: Registered protocol family 2 <br>  [0.160000] TCP established hash table entries: 1024 (order: 1, 8192 bytes) <br>  [0.180000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes) <br>  [0.190000] TCP: Hash tables configured (established 1024 bind 1024) <br>  [0.200000] TCP: reno registered <br>  [0.210000] UDP hash table entries: 256 (order: 0, 4096 bytes) <br>  [0.220000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes) <br>  [0.230000] NET: Registered protocol family 1 <br>  [0.280000] squashfs: version 4.0 (2009/01/31) Phillip Lougher <br>  [0.290000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) ¬© 2001-2006 Red Hat, Inc. <br>  [0.320000] msgmni has been set to 57 <br>  [0.320000] io scheduler noop registered <br>  [0.330000] io scheduler deadline registered (default) <br>  [0.340000] Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled <br>  [0.360000] serial8250: ttyS0 at MMIO 0x10000500 (irq = 13) is a 16550A <br>  [0.370000] serial8250: ttyS1 at MMIO 0x10000c00 (irq = 20) is a 16550A <br>  [0.390000] ramips-spi ramips-spi.0: master is unqueued, this is deprecated <br>  [0.410000] m25p80 spi0.0: found w25q128, expected pm25lq032 <br>  [0.420000] m25p80 spi0.0: w25q128 (16384 Kbytes) <br>  [0.430000] 6 cmdlinepart partitions found on MTD device spi0.0 <br>  [0.440000] Creating 6 MTD partitions on "spi0.0": <br>  [0.450000] 0x000000000000-0x000000030000: "u-boot" <br>  [0.460000] 0x000000030000-0x000000040000: "u-boot-env" <br>  [0.480000] 0x000000040000-0x000000050000: "factory" <br>  [0.490000] 0x000000050000-0x000000130000: "kernel" <br>  [0.500000] 0x000000130000-0x000000400000: "rootfs" <br>  [0.520000] mtd: partition "rootfs" set to be root filesystem <br>  [0.530000] mtd: partition "rootfs_data" created automatically, ofs = 380000, len = 80000 <br>  [0.550000] 0x000000380000-0x000000400000: "rootfs_data" <br>  [0.560000] 0x000000050000-0x000000400000: "firmware" <br>  [0.580000] ramips-wdt ramips-wdt: timeout value must be 0 &lt;timeout &lt;= 35, using 35 <br>  [0.600000] TCP: cubic registered <br>  [0.610000] NET: Registered protocol family 17 <br>  [0.620000] 8021q: 802.1Q VLAN Support v1.8 <br>  [0.650000] VFS: Mounted root (squashfs filesystem) readonly on device 31: 4. <br>  [0.660000] Freeing unused kernel memory: 180k freed <br>  [5,100000] input: gpio-keys-polled as / devices / platform / gpio-keys-polled / input / input0 <br>  [5.210000] Button Hotplug driver version 0.4.1 </p><br><ul><li>  preinit - Press the [f] key and hit [enter] to enter failsafe mode </li></ul></div></div><br><p>  Reading and viewing logs it is important not to miss the moment and when there will be such a line: </p><br><blockquote>  Please choose the operation: <br>  1: Load system code to SDRAM via TFTP. <br>  <b>2: Load system code then write to Flash via TFTP.</b> <br>  3: Boot system code via Flash (default). <br>  4: Entr boot command line interface. <br>  7: Load Boot Loader code then write to Flash via Serial. <br>  9: Load Boot Loader code then write to Flash via TFTP. </blockquote><p>  You need to quickly have time to press the number "2".  Then we will see the following: </p><br><blockquote>  You choosed 2 <br>  2: System Load Linux Kernel then write to Flash via TFTP. <br>  Warning !!!  Erase Linux in Flash then burn new one.  Are you sure? (Y / N) <br>  Please Input new ones / or Ctrl-C to discard <br>  Input device IP (10.10.10.123) ==: 10.10.10.123 <br>  Input server IP (10.10.10.3) ==: 10.10.10.3 <br>  Input Linux Kernel filename () ==: openwrt-ramips-rt305x-a5-v11-squashfs-sysupgrade.bin </blockquote><p>  Click successively "Y", enter, enter, "openwrt-ramips-rt305x-a5-v11-squashfs-sysupgrade.bin".  In the latter case, you will need to manually register the name of our firmware, which will need to be uploaded to a previously running tftp server.  I used the <a href="http://tftpd32.jounin.net/">TFTPD64</a> program for this purpose.  After activating the console firmware download, you need to connect our A5-V11 with a computer whose IP address is the same as specified in the console.  By the way, to connect directly (ala "usb-flash drive"), I made myself RJ45-RJ45 adapters.  They are very convenient to carry along with the router. </p><br><img src="https://habrastorage.org/webt/f0/w_/po/f0w_pobzhotseudg1x6xlvni1cm.jpeg"><br><div class="spoiler">  <b class="spoiler_title">Adapters RJ45-RJ45 and their scheme</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/0k/t6/uo/0kt6uox6egepzraoly-dheq5tgk.jpeg"></div></div><br><p>  The router will be flashed and after the reboot it will be ready to perform new combat missions.  By the way, if it was not possible to flash the console, we return to the "programmatorona" of the article and sew the <i>openwrt-ramips-rt305x-a5-v11-squashfs-sysupgrade.bin firmware</i> through the good old AsProgrammer, not from the address 0, but from <b>327680</b> ( !) </p><br><p>  Addition: you can not poke around with the search for bytes and modification of the native firmware, but fill the programmer with a new chip in the Chinese Breed loader from Comrade Hackpascal, for our V5, the last option found is <a href="">breed-rt5350-hame-a5-r1163.bin</a> .  And already from this best (IMHO) to date, the loader to flash everything you need.  There are still many goodies worthy of a separate article, BUT, but the damn firmware is absolutely no localization, in bare Chinese.  It seems like technical terms are clear ... But "sediment remained."  The Chinese, in principle, do not make contact: ( </p><br><h2>  <b>Part five, information ("note")</b> </h2><br><p>  At the end of the story I would like to say a few words about the devices that make using our A5-V11 more comfortable. <br>  First of all, it is a U-shaped <a href="https://ru.aliexpress.com/item/New-Right-Angled-USB-2-0-Adapter-A-Male-to-Female-Extension-90-180-Degree-Black/32652636896.html%3Fspm%3Da2g0v.search0604.3.26.24c91d32H4NB6S%26ws_ab_test%3Dsearchweb0_0,searchweb201602_1_10065_10068_318_319_5731311_317_10696_5728811_10084_10083_10618_452_10307_5731411_532_5723511_5731211_5731111_204_328_10059_10884_323_10887_5731511_100031_5731611_320_321_322_5731711_10103,searchweb201603_55,ppcSwitch_0%26algo_expid%3Da4296439-5987-44ed-8da8-1ad0221b0206-4%26algo_pvid%3Da4296439-5987-44ed-8da8-1ad0221b0206">adapter</a> to the USB port.  An indispensable device when sharing a router with a USB flash drive / card reader / 3g-4g modem / <a href="https://hackaday.io/project/11037/instructions">SDR tuner</a> finally :) </p><br><img src="https://habrastorage.org/webt/bg/ap/5l/bgap5lzqe9lrpemvh0idnmjxvfk.jpeg"><br><div class="spoiler">  <b class="spoiler_title">So perehodnichki look live</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/vv/f2/m2/vvf2m2qxfwjs8l9bt80r33am0su.jpeg"><br><img src="https://habrastorage.org/webt/ic/kh/ew/ickhewb9t5zk5hitjvwsm2pyha0.jpeg"><br><img src="https://habrastorage.org/webt/fl/s_/dn/fls_dnlec6lr9jvzox7zhvo75nc.jpeg"></div></div><br><p>  The second important milestone when working with the described mini-router is a USB hub.  Yes, with a very difficult layout of USB ports.  The vertical <a href="https://ru.aliexpress.com/item/3-USB-HUB-480/32888128135.html%3Fspm%3Da2g0v.search0604.3.300.29e8d24epNGXqg%26ws_ab_test%3Dsearchweb0_0%252Csearchweb201602_1_10065_10068_318_319_5731311_317_10696_5728811_10084_10083_10618_452_10307_5731411_532_5723511_5731211_5731111_204_328_10059_10884_323_10887_5731511_100031_5731611_320_321_322_5731711_10103%252Csearchweb201603_55%252CppcSwitch_0%26algo_pvid%3D82dd742e-1a58-4042-92f7-0641decc82f2%26algo_expid%3D82dd742e-1a58-4042-92f7-0641decc82f2-39">layout of this passive hub</a> and pushes to buy a Bluetooth " <a href="https://www.ebay.com/itm/ORICO-Mini-Wireless-Bluetooth-2-0-Adapter-Dongle-USB-2-0-CSR8510-Chip-D-JX/142840313473">fungus</a> " on some <b>CSR8510</b> .  Since childhood, I like the concept of industrial PCs from Octagon - <a href="https://ru.wikipedia.org/wiki/MicroPC">MicroPC</a> - and their vertical PC / 104 ‚Äú <a href="">sandwiches</a> ‚Äù.  There is an opportunity to do something similar with the said hub (by the way, if someone from the readers found something similar interesting on the Internet auction sites, please share in the comments). </p><br><img src="https://habrastorage.org/webt/rs/ae/hb/rsaehbkntj8po2vaekbtbck1s3i.jpeg"><br><p>  On board the micro-chip <a href="https://www.kean.com.au/oshw/WR703N/GL850G%2520USB%2520Hub%25201.07.pdf">GL8506</a> chip from Genesys Logic Inc. </p><br><img src="https://habrastorage.org/webt/ur/vv/ih/urvvihyci_7_ijtg72uh2d5ouxi.jpeg"><br><p>  In principle, instead of a vertical USB port, it is quite possible to place a small USB Bluetooth keychain described above or a <a href="">microSD miniature card reader</a> . </p><br><img src="https://habrastorage.org/webt/ls/z0/zn/lsz0znl2rw0uduejkp2o5gxduw8.jpeg"><br><p>  And this is what a ready-made "micro-sandwich sandwich" looks like :) </p><br><img src="https://habrastorage.org/webt/j2/wa/8i/j2wa8icidwqctodv-1w9583ugfk.jpeg"><br><div class="spoiler">  <b class="spoiler_title">More micro habr sandwiches</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/zs/ym/x0/zsymx0wxkbikcbpni875i18rlhq.jpeg"><br><img src="https://habrastorage.org/webt/cf/bo/gw/cfbogwlqtzkcyfvdp_vz1grduvs.jpeg"><br><img src="https://habrastorage.org/webt/kd/vr/fr/kdvrfrwe3g40asb4rnsnsjsuhzc.jpeg"><br><img src="https://habrastorage.org/webt/4w/s1/2m/4ws12mhhgwlzecini07eq2qkmdy.jpeg"><br><img src="https://habrastorage.org/webt/v8/2b/ld/v82blds9z3lvqocypuoxp53yiwa.jpeg"><br><img src="https://habrastorage.org/webt/9e/am/rx/9eamrxfi3uexeuwp_qmwc1mwhyu.jpeg"></div></div><br><p>  And finally, the most delicious.  There is such a New Zealand office, <b>CloudStore</b> , known for its products under the <a href="https://www.get-console.com/">Airconsole</a> brand.  These devices are good, among other things, because the only thing is absolutely legal and for reasonable money to connect various RS232 loggers to iOS.  Very cool useful thing, including for the automation of old instruments and equipment controlled by RS232.  I mentioned these cool devices and <a href="https://habr.com/post/189090/">Habr</a> . <br>  And so they write about themselves :) </p><br><blockquote>  If you need to control remote equipment via COM / USB ports, then why spend hundreds or thousands of dollars on Moxa *, Perle * or Opengear * terminal servers?  AirConsole has all the remote access and control capabilities for servers or network equipment, but is much more portable and consumes minimal power. </blockquote><p>  So, now attention.  Below are some interesting pictures.  As the saying goes, ‚Äúfind 10 differences‚Äù :) </p><br><div class="spoiler">  <b class="spoiler_title">Compare Airconsole Mini ($ 69) and Hame A15 ($ 6.9)</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/_e/pu/8h/_epu8hgth9ljk2cxyasyeacupsg.png"><br><img src="https://img.tttcdn.com/product/xy/2000/2000/p/gu1/C/C1653B/C1653B-2-2ca5.jpg" alt="image"></div></div><br><div class="spoiler">  <b class="spoiler_title">Compare Airconsole Standart ($ 79) and Hame MPR-A1 ($ 7.9)</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ov/7s/7q/ov7s7qphmxr9hoqlfjcd89ofmka.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/d5a/e07/9af/d5ae079af5f964aae4761175678f615c.jpg" alt="image"></div></div><br><div class="spoiler">  <b class="spoiler_title">Compare Airconsole XL ($ 139) and Hame MPR-A3 ($ 13.9)</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/tn/zt/ct/tnztctmox0g_ninvh8fnmvklwdg.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/f71/488/a87/f71488a8733c9dc21cab501d272c16a5.jpg" alt="image"></div></div><br><p>  It intrigued me, and of course I honestly asked the manufacturer for their device to the test, but did not wait for an answer.  I had to work by the method of mental experiment :) Well, read a little.  As Henry Ford said, "The <i>air is full of ideas. They constantly knock on your head. You just have to know what you want, then forget it and go about your business. The idea will come suddenly. It always has been</i> ." </p><br><p>  Therefore, in the net result, the answer is the following: ‚ÄúChinese routers A5-V11 can be turned into Airconsole‚Äù.  Here <a href="https://mysku.ru/blog/aliexpress/27796.html">a</a> glimpse of this issue was discussed and with the help of a <a href="https%253A%252F%252Fyadi.sk%252Fd%252FQlIH7hXYcC3ij%26key%3Dms%26s%3Dmsab.5f52845">dump</a> fill, the guys turn their Hame for $ 6 into the Airconsole for $ 69.  And rightly so, not Zyxel Keenetic 4G II as one alive enthusiast. </p><br><p>  By the way, if suddenly among the readers there are owners of the original AirConsol, which have already opened them, I will gladly accept a gift of photo boards and add an article :) </p><br><p>  Well, in principle, and all that I wanted to say.  Much of what is written here is applicable for another (compact) hardware and I hope it will be useful for "a wide circle of readers" :) </p><br><p>  <b>Sergey Besarab</b> ( <a href="https://www.facebook.com/steanlab">Siarhei V. Besarab</a> ) </p><br><p>  ps For the owners of the NEXX WT3020F, TP-Link TL-MR3020, TP-Link TL-WR703N (i.e., all routers with a rather spacious case) mentioned in the beginning of the article, the inexpensive <a href="https://ru.aliexpress.com/item/Mini-3-Port-USB-2-0-Rotate-HUB-Adapter-Splitter-For-PC-Desktop-Laptop-Expansion/32793968087.html%3Fspm%3Da2g0s.9042311.0.0.2e7b33edPPs4mu">hub on the HS8836 chip</a> shown below can be a very convenient option for embedding : </p><br><img src="https://habrastorage.org/webt/lo/lu/gx/lolugxzv2bc1rsiwmf5zqlmywfw.jpeg"><br><p>  Just in case, the scheme found <a href="http://cyber-place.ru/showthread.php%3Ft%3D2384%26page%3D3">here is</a> shown under the spoiler. </p><br><div class="spoiler">  <b class="spoiler_title">Schematic diagram of a 3-port Chinese hub on HS8836</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/p1/2k/vc/p12kvcaidomhqn1ebmdpkqmgozq.png"></div></div><br><p>  The main plus, in my opinion, in addition to the miniature size and the minimum of details is the mounting of the board with the controller and USB ports through the wires.  For embedding in a router - a minimum of gestures, although you can still install an aluminum plate radiator on a chip. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ri/is/cg/riiscgsvp47h89tva4u-zsyc-aq.jpeg"></div><br><p>  <u>Addition from 2019</u> : hands reached cooling by the <a href="https://habr.com/ru/users/walti/" class="user_link">walti</a> method.  Details under the spoiler </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ap/0z/xz/ap0zxzmjdld3vt7c5k9j0xmwtww.jpeg"></div><br><div class="spoiler">  <b class="spoiler_title">External cooling plate</b> <div class="spoiler_text"><p>  The first thing I found and cut a suitable aluminum plate with a thickness of 1 mm </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hj/x4/ob/hjx4obx6spy6wcwbggecbg_vipo.jpeg"></div><br><p>  Drilled holes for M1 screws and cut threads in the plate (especially waited for a tap on M1) </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cq/v4/dc/cqv4dcflobaax_7mb0lptzdtune.jpeg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/z1/nq/kc/z1nqkcsteyk6fxkhth4gmjsoxfw.jpeg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cq/tz/j9/cqtzj9ko1ei5ibzyh-ljkg_qws0.jpeg"></div><br><p>  I tried to additionally tighten the nuts M1.  I clung to my pocket, I didn‚Äôt like it, so I gave up on this idea and simply stole the protruding ends of the screws. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/k8/on/zw/k8onzwkf21gc-aqcyfa8kumk6_a.jpeg"></div><br><p>  On the aluminum plate on the hot melt adhesive (mentioned in the article) I glued a copper plate 1.5 mm thick to the size of the crystal. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/0w/dr/av/0wdravnl7ywqj7grbomcgc1lqdy.jpeg"></div><br><p>  So that the screws do not short the router's handkerchief - closed them with a heat-resistant polyimide film </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gs/nv/bc/gsnvbcfktsoobwumeeqyztrftpo.jpeg"></div><br><p>  I put a piece of heat-conducting rubber on a copper plate (removed it from some laptop board) and assembled a router. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/4-/cr/pg/4-crpg09gmggmcswvsudmnugy1g.jpeg"></div><br><p>  Heat transfer and flight are normal :). </p></div></div><br><hr><br><div class="spoiler">  <b class="spoiler_title">Used sources</b> <div class="spoiler_text"><ul><li>  http://skproj.ru/hame-mpr-a1-proshivka-openwrt-i-apgrejd-fleshki-na-16-ili-8-megabajt/?doing_wp_cron=1472313516.0620179176330566406250 </li><li>  http://w3bsit3-dns.com/forum/index.php?showtopic=884713&amp; </li><li>  https://github.com/nofeletru/UsbAsp-flash/releases/ </li><li>  http://forum.easyelectronics.ru/viewtopic.php?f=17&amp;t=10947 </li><li>  http://my-embedded.blogspot.com/2013/12/mini-4g-router-rt5350f.html </li><li>  http://eko.one.pl/?p=openwrt-gpio2 </li><li>  https://habr.com/post/238713/ </li><li>  https://nm-projects.de/2017/09/analysis-of-mini-3g4g-wifi-wireless-router-a5-v11/ </li><li>  https://tuxotronic.org/wiki/tools/flashrom/ </li><li>  http://srr.cherkessk.ru/owrt/help-owrt.html </li><li>  https://tuxotronic.org/wiki/openwrt/rt5350/build-firmware/ </li><li>  https://mysku.ru/blog/aliexpress/27796.html </li><li>  https://habr.com/post/247513/ </li></ul></div></div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/425281/">https://habr.com/ru/post/425281/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../425269/index.html">Hackathon GAZ - how to touch the auto giant</a></li>
<li><a href="../425271/index.html">WPA3 could be safer: expert opinion</a></li>
<li><a href="../425273/index.html">Another way to use docker-compose</a></li>
<li><a href="../425275/index.html">12 tips for scaling Node.js</a></li>
<li><a href="../425279/index.html">How Google will interview: what to be, what not to pass</a></li>
<li><a href="../425283/index.html">Infinite localization, or how we translate the map in real time</a></li>
<li><a href="../425285/index.html">If you do not hire June, you do not deserve seniors</a></li>
<li><a href="../425287/index.html">FIAS houses in PostgreSQL environment</a></li>
<li><a href="../425289/index.html">Corporate focus</a></li>
<li><a href="../425291/index.html">The results of the summer internship 2018: they swept away five hundred lavash of shawarma. And survived</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>