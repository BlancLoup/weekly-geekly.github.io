<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Applied application of the nonlinear programming problem</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, Habr! At one time, as a junior student, I began to engage in research work in the field of the theory of optimization and synthesis of optim...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Applied application of the nonlinear programming problem</h1><div class="post__text post__text-html js-mediator-article">  Good day, Habr!  At one time, as a junior student, I began to engage in research work in the field of the theory of optimization and synthesis of optimal nonlinear dynamic systems.  Around the same time, there was a desire to popularize this area, to share their experiences and thoughts with people.  This is confirmed by a couple of my <s>childhood</s> immature articles on Habr√©.  However, at that time, this idea was daunting for me.  Perhaps because of my employment, inexperience, inability to work with criticism and advice, or something else.  You can endlessly try to find the cause, but this will not change the situation: I threw this idea on the shelf, where it lay safely and gathering dust until that moment. <br><br>  Having finished the specialty and preparing for the defense of my Ph.D. thesis, I asked myself quite a logical question: ‚ÄúWhat next?‚Äù Having experience in both regular work and research, I returned to the very idea that it would seem like it had to drown under a layer of dust.  But I returned to this idea in a more conscious form. <br><br>  I decided to start developing software related to the industry I have been engaged in for 8 years and my personal academic predilections, which include optimization methods and machine learning. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/web/ddd/b80/248/dddb8024865c4938b3bdece0a066eb73.png"><br><br>  Well, all who are interested: <br><a name="habracut"></a><br>  Being engaged in the implementation of software for my diploma (and later the thesis), I approached this issue ‚Äúhead on‚Äù: I did not care how flexible the system would be, how easy it would be to modify.  The desire to get results here and now, along with inexperience, led to the fact that the code constantly had to be rewritten, which, of course, had no positive effect on professional development.  Already, I understand that, no matter how desirable, it is impossible to rush headlong to solve the problem.  It is necessary to penetrate into its essence, evaluate the existing knowledge, understand what is missing, compare the concepts of the domain to classes, interfaces and abstractions.  In short, you need to realize the existing reserves and correctly approach the design of the software architecture. <br><br>  As you may have guessed, this article will be devoted to the development and description of the first elements of the future application. <br><br><h3>  <b>Definition of the approach to development and formulation of the main task</b> </h3><br>  Habr√© has a large number of articles on software development methodologies.  For example, in <a href="https://habrahabr.ru/company/edison/blog/269789/">this</a> quite clearly described the main approaches.  Let us dwell on each of them: <br><br><ol><li>  <b>‚ÄúWaterfall Model‚Äù</b> - does not fit because at least of the fact that I have no clearly defined requirements, there is only a set of ideas, between which we will have to subsequently establish interaction, </li><li>  <b>"V-Model"</b> - not suitable for the same reason </li><li>  <b>‚ÄúIncremental Model‚Äù</b> is a more suitable model compared to the previous ones, however, detailed formalization is also required here. </li><li>  <b>"RAD Model"</b> - a model that is more suitable for a team of experienced professionals, </li><li>  <b>"Agile Model"</b> - perfectly fits the criterion of the absence of the need to specify requirements, as well as flexibility in the development process, </li><li>  <b>‚ÄúIterative Model‚Äù</b> - despite the fact that the work indicates the need for clear definition of goals, ideologically such a model seems close (taking into account the words ‚ÄúThe main task should be defined, but implementation details can evolve over time‚Äù), </li><li>  <b>"Spiral Model"</b> - aimed for the implementation of large projects, which can hardly be attributed to the intended software. </li></ol><br>  I will try to stick to the concepts of the Agile model.  At each iteration of the development, a specific set of goals and objectives will be offered, which will be covered in more detail in the articles. <br><br>  So, at the moment there is the following formulation of a common task: the software being developed must implement various optimization algorithms (like classical analytical, as well as modern heuristic) and machine learning (classification algorithms, clustering, reduction of space dimension, regression).  The final final goal is to develop methods for applying these algorithms in the field of optimal control synthesis and creating trading strategies in financial markets.  Scala was chosen as the main language for development. <br><br>  So, in this work I will tell: <br><br><ol><li>  About the optimization problem and the reasons for its choice as a fundamental object of study, </li><li>  About the main abstractions and their implementations that will allow you to use an approach based on solving applied problems by reducing them to an optimization problem, </li><li>  About the K-Means algorithm, the simplest Random Search algorithm and how to make them friends and work for the benefit of a single goal. </li></ol><br><h3>  <b>Optimization</b> </h3><br>  Due to the fact that I have devoted most of my research practice to solving optimization problems, it will be more convenient for me to operate from this point of view. <br><br>  Usually, a solution to an optimization problem, no matter how trite and tongue-tied it may sound, is the search for some ‚Äúoptimal‚Äù (in terms of task conditions) object.  The concepts of ‚Äúoptimality‚Äù vary from one subject area to another.  For example, in the task of finding the minimum of a function, it is required to find the point to which the smallest value of the objective function corresponds. In the meta-optimization task, it is necessary to determine the parameters of the algorithm at which it gives the most accurate result / most quickly work out / gives the most stable result, in the problem of optimal control synthesis it is required to synthesize the controller, which allows to transfer the object to the terminal state in the shortest time, etc.  I am sure that every specialist will be able to continue this list of tasks related to his professional sphere. <br><br>  In mathematics, special attention is paid to the problem of <a href="https://ru.wikipedia.org/wiki/%25D0%259D%25D0%25B5%25D0%25BB%25D0%25B8%25D0%25BD%25D0%25B5%25D0%25B9%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">nonlinear programming</a> , to which a large number of other applied problems can be reduced.  In general, for the formulation of a nonlinear programming problem, it is required to specify <br><br><ul><li>  arbitrary function <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi><mo>:</mo><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>R</mi></mrow><mi>n</mi></msup><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>r</mi><mi>o</mi><mi>w</mi><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>R</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="35.857ex" height="2.419ex" viewBox="0 -780.1 15438.2 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-66" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMAIN-3A" x="828" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-6D" x="1634" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-61" x="2513" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-74" x="3042" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-68" x="3404" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-62" x="3980" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-62" x="4410" y="0"></use><g transform="translate(4839,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-6E" x="1074" y="581"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-72" x="6373" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-69" x="6825" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-67" x="7170" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-68" x="7651" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-74" x="8227" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-61" x="8589" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-72" x="9118" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-72" x="9570" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-6F" x="10021" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-77" x="10507" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-6D" x="11473" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-61" x="12352" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-74" x="12881" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-68" x="13243" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-62" x="13819" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-62" x="14249" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-52" x="14678" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mo>:</mo><mtext>&nbsp;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><msup><mrow class="MJX-TeXAtom-ORD"><mi>R</mi></mrow><mi>n</mi></msup><mtext>&nbsp;</mtext><mi>r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>r</mi><mi>o</mi><mi>w</mi><mtext>&nbsp;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mrow class="MJX-TeXAtom-ORD"><mi>R</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-1"> f: \ mathbb {R} ^ n \ rightarrow \ mathbb {R} </script>  (it fulfills the role of some quality criterion: for minimization problems, it is required to find a vector that corresponds to the smallest value, for maximization, vice versa) </li><li>  a set of constraints that essentially define the range of valid values <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><merror><mtext>X&amp;#xA0;=&amp;#xA0;\&amp;#xA0;left&amp;#xA0;\&amp;#xA0;{g_i&amp;#xA0;\&amp;#xA0;left&amp;#xA0;(x&amp;#xA0;\&amp;#xA0;right)&amp;#xA0;\&amp;#xA0;leq&amp;#xA0;0,&amp;#xA0;i&amp;#xA0;=&amp;#xA0;1,&amp;#xA0;...,&amp;#xA0;s&amp;#xA0;\&amp;#xA0;right&amp;#xA0;\}</mtext></merror></math>" role="presentation"><span class="noError" aria-hidden="true" style="display: inline-block;">X&nbsp;=&nbsp;\&nbsp;left&nbsp;\&nbsp;{g_i&nbsp;\&nbsp;left&nbsp;(x&nbsp;\&nbsp;right)&nbsp;\&nbsp;leq&nbsp;0,&nbsp;i&nbsp;=&nbsp;1,&nbsp;...,&nbsp;s&nbsp;\&nbsp;right&nbsp;\}</span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><merror><mtext>X&nbsp;=&nbsp;\&nbsp;left&nbsp;\&nbsp;{g_i&nbsp;\&nbsp;left&nbsp;(x&nbsp;\&nbsp;right)&nbsp;\&nbsp;leq&nbsp;0,&nbsp;i&nbsp;=&nbsp;1,&nbsp;...,&nbsp;s&nbsp;\&nbsp;right&nbsp;\}</mtext></merror></math></span></span><script type="math/tex" id="MathJax-Element-2"> X = \ left \ {g_i \ left (x \ right) \ leq 0, i = 1, ..., s \ right \} </script>  of argument <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.437ex" height="1.937ex" viewBox="0 -728.2 2341 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-69" x="822" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-6E" x="1168" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-78" x="1768" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-3"> x \ in x </script>  optimized function. </li></ul><br>  Thus, the essence of this task can be described as follows: it is required to find a vector in the search area that provides the minimum / maximum value of the objective function. <br><br>  There is a huge number of algorithms for solving this problem.  Conventionally, they can be divided into two groups: <br><br><ul><li>  <b>analytical algorithms:</b> <br><br><ul><li>  have a narrower range of tasks due to the fact that they can impose restrictions on the components of the problem, </li><li>  can enter higher level objects into the task (for example, derivatives of a certain order), </li><li>  The undoubted advantage of such methods is that for the most part they allow to obtain the result of a certain accuracy. </li></ul><br></li><li>  <b>heuristic algorithms:</b> <br><br><ul><li>  there is no property of guaranteed calculations, i.e.  one cannot be sure that the solution obtained has fallen at least into the region of attraction of a <a href="https://ru.wikipedia.org/wiki/%25D0%25AD%25D0%25BA%25D1%2581%25D1%2582%25D1%2580%25D0%25B5%25D0%25BC%25D1%2583%25D0%25BC">local extremum</a> , </li><li>  they have less computational complexity, which makes it possible to use them in order to obtain a practically acceptable result in a reasonable time (for example, on large-scale problems, when it may take a day to receive a response using an analytical algorithm). </li></ul></li></ul><br>  In principle, heuristic algorithms can be perceived as a method of directional searching.  In this group you can find well-known <a href="https://habrahabr.ru/post/128704/">genetic algorithms</a> , <a href="https://habrahabr.ru/post/112189/">annealing simulation algorithm</a> , various <a href="https://en.wikipedia.org/wiki/Fish_School_Search">population</a> algorithms.  A large number of algorithms is explained quite simply: there is no universal algorithm that would be good at the same time for all types of tasks.  Someone copes better with convex functions, the other is aimed at working with functions that have a ravine structure of level lines, the third specializes in multi-extremal functions.  As in life - everything has its own specialization. <br><br><h3>  <b>Used abstractions</b> </h3><br>  Based on the above reasoning, it seems to me that the easiest way to work with two concepts: <b>transformation</b> and <b>algorithm</b> .  On them and dwell. <br><br><h4>  <b>Transformations</b> </h4><br>  Due to the fact that almost any procedure / function / algorithm can be considered as a certain transformation, we will operate with this object as one of the basic ones. <br><br>  The following hierarchy between different types of transformations is proposed: <br><br><img src="https://habrastorage.org/web/4cf/127/bb8/4cf127bb8e51480982c30e069b8f2dab.png"><br><br>  Let us dwell on the elements in more detail: <br><br><ul><li>  Nonhomogeneous transformation (Inhomogeneous Transformation) - the most common type of transformation, when the classes of the input and output objects may be different </li><li>  Homogeneous Transformation - a particular type of inhomogeneous transformation, when the classes of the input and output objects are the same, </li><li>  A vector function (Vector Function) is a transformation that transforms a vector consisting of elements of set A into another vector consisting of elements of the same set, </li><li>  Function (Function) is similar to a vector function (except that the output element is now a scalar), </li><li>  Metric (Metric) - some estimating conversion that assigns a numeric value to the object. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Heterogeneous Transform Class Code</b> <div class="spoiler_text"><pre><code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InhomogeneousTransformation</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">B</span></span></span><span class="hljs-class">](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">transform: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">A</span></span></span></span><span class="hljs-class"><span class="hljs-params"> =&gt; </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">B</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Serializable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">apply</span></span></span></span>(a: <span class="hljs-type"><span class="hljs-type">A</span></span>): <span class="hljs-type"><span class="hljs-type">B</span></span> = transform(a) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">*</span></span></span></span>[<span class="hljs-type"><span class="hljs-type">C</span></span>](f: <span class="hljs-type"><span class="hljs-type">InhomogeneousTransformation</span></span>[<span class="hljs-type"><span class="hljs-type">B</span></span>, <span class="hljs-type"><span class="hljs-type">C</span></span>]) = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">InhomogeneousTransformation</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>, <span class="hljs-type"><span class="hljs-type">C</span></span>](x =&gt; f(transform(x))) }</code> </pre> <br>  It can be seen that it contains only two methods, one of which implements the procedure for composing the <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D0%25BC%25D0%25BF%25D0%25BE%25D0%25B7%25D0%25B8%25D1%2586%25D0%25B8%25D1%258F_%25D1%2584%25D1%2583%25D0%25BD%25D0%25BA%25D1%2586%25D0%25B8%25D0%25B9">composition of</a> several transformations (only in a not quite usual order).  This will be needed later to create more complex transformations from simple ones. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Homogeneous transform class code</b> <div class="spoiler_text"><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HomogeneousTransformation</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">transform: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">A</span></span></span></span><span class="hljs-class"><span class="hljs-params"> =&gt; </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">A</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InhomogeneousTransformation</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">transform</span></span></span><span class="hljs-class">) </span></span>{ }</code> </pre><br>  Here, the two type parameters were collapsed into one. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Class code of a vector function</b> <div class="spoiler_text"><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">VectorFunction</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class"> &lt;: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Algebra</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">]] (</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">transform: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Vector</span></span></span></span><span class="hljs-class"><span class="hljs-params">[</span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">A</span></span></span></span><span class="hljs-class"><span class="hljs-params">] =&gt; </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Vector</span></span></span></span><span class="hljs-class"><span class="hljs-params">[</span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">A</span></span></span></span><span class="hljs-class"><span class="hljs-params">]</span></span></span><span class="hljs-class">)(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">implicit converter: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Double</span></span></span></span><span class="hljs-class"><span class="hljs-params"> =&gt; </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">A</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HomogeneousTransformation</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Vector</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">]](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">transform</span></span></span><span class="hljs-class">) </span></span>{ }</code> </pre><br>  There is a modified parametrization of the generalized class.  Now this parameter determines what objects of which class the converted vector will consist of.  Note the restriction imposed on the class, which is determined by the given code "[A &lt;: Algebra [A]]".  The restriction is expressed in the following: the objects from which the vector is composed must support the basic arithmetic operations and can be used as an argument of the usual elementary functions (exponential, trigonometric, etc.).  Detailed code can be viewed on the source code, which are posted on github'e (link will be at the end of the work). <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Codes of the Function class and the method of its implicit coercion to non-uniform transformation</b> <div class="spoiler_text"><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Function</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class"> &lt;: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Algebra</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">]] (</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">transform: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Vector</span></span></span></span><span class="hljs-class"><span class="hljs-params">[</span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">A</span></span></span></span><span class="hljs-class"><span class="hljs-params">] =&gt; </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">A</span></span></span></span></span><span class="hljs-class">)(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">implicit converter: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Double</span></span></span></span><span class="hljs-class"><span class="hljs-params"> =&gt; </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">A</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">VectorFunction</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">x =&gt; </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Vector</span></span></span></span><span class="hljs-class"><span class="hljs-params">("result" -&gt; transform(x</span></span></span><span class="hljs-class">))) </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculate</span></span></span></span>(v: <span class="hljs-type"><span class="hljs-type">Vector</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>]): <span class="hljs-type"><span class="hljs-type">A</span></span> = transform(v) } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Function</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createFromInhomogeneousTransformation</span></span></span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span> &lt;: <span class="hljs-type"><span class="hljs-type">Algebra</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>]] (transformation: <span class="hljs-type"><span class="hljs-type">InhomogeneousTransformation</span></span>[<span class="hljs-type"><span class="hljs-type">Vector</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>], <span class="hljs-type"><span class="hljs-type">A</span></span>])(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> converter: <span class="hljs-type"><span class="hljs-type">Double</span></span> =&gt; <span class="hljs-type"><span class="hljs-type">A</span></span>) = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Function</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>](x =&gt; transformation(x)) }</code> </pre></div></div><br><div class="spoiler">  <b class="spoiler_title">Metric class code and related conversions</b> <div class="spoiler_text"><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Metric</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">transform: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">A</span></span></span></span><span class="hljs-class"><span class="hljs-params"> =&gt; </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Real</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InhomogeneousTransformation</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Real</span></span></span><span class="hljs-class">](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">transform</span></span></span><span class="hljs-class">) </span></span>{ } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Metric</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createFromInhomogeneousTransformation</span></span></span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>](transformation: <span class="hljs-type"><span class="hljs-type">InhomogeneousTransformation</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>, <span class="hljs-type"><span class="hljs-type">Real</span></span>]) = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Metric</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>](x =&gt; transformation(x)) <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toFunction</span></span></span><span class="hljs-function"> </span></span>(metric: <span class="hljs-type"><span class="hljs-type">Metric</span></span>[<span class="hljs-type"><span class="hljs-type">Vector</span></span>[<span class="hljs-type"><span class="hljs-type">Real</span></span>]])(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> converter: <span class="hljs-type"><span class="hljs-type">Double</span></span> =&gt; <span class="hljs-type"><span class="hljs-type">Real</span></span>): <span class="hljs-type"><span class="hljs-type">Function</span></span>[<span class="hljs-type"><span class="hljs-type">Real</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Function</span></span>[<span class="hljs-type"><span class="hljs-type">Real</span></span>](x =&gt; metric(x)) }</code> </pre></div></div><br>  The given abstractions, at first glance, cover the main types of transformations that may be needed for further formulation of the tasks. <br><br><h4>  <b>Algorithm</b> </h4><br>  I think it will be natural to define an algorithm as a set of three operations: initialization, iterative part and termination.  To the input of the algorithm is given some <b>task (Task)</b> .  During initialization, the generation of the initial <b>state (State) of the</b> algorithm occurs, which is modified during the repetition of the iterative part.  At the end, using the termination procedure from the last <b>state of the</b> algorithm, an object is created corresponding to the <b>type R of the output parameter of the</b> algorithm. <br><br><div class="spoiler">  <b class="spoiler_title">Class Code Algorithm</b> <div class="spoiler_text"><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">trait</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GeneralAlgorithm</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">T</span></span></span><span class="hljs-class"> &lt;: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">GeneralTask</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">S</span></span></span><span class="hljs-class"> &lt;: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">GeneralState</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">R</span></span></span><span class="hljs-class">] </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initializeRandomly</span></span></span></span>(task: <span class="hljs-type"><span class="hljs-type">T</span></span>): <span class="hljs-type"><span class="hljs-type">S</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initializeFromSeed</span></span></span></span>(task: <span class="hljs-type"><span class="hljs-type">T</span></span>, seed: <span class="hljs-type"><span class="hljs-type">S</span></span>): <span class="hljs-type"><span class="hljs-type">S</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initialize</span></span></span></span>(task: <span class="hljs-type"><span class="hljs-type">T</span></span>, state: <span class="hljs-type"><span class="hljs-type">Option</span></span>[<span class="hljs-type"><span class="hljs-type">S</span></span>]): <span class="hljs-type"><span class="hljs-type">S</span></span> = { state <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-type"><span class="hljs-type">None</span></span> =&gt; initializeRandomly(task) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-type"><span class="hljs-type">Some</span></span>(seed) =&gt; initializeFromSeed(task, seed) } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">iterate</span></span></span></span>(task: <span class="hljs-type"><span class="hljs-type">T</span></span>, state: <span class="hljs-type"><span class="hljs-type">S</span></span>): <span class="hljs-type"><span class="hljs-type">S</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">terminate</span></span></span></span>(task: <span class="hljs-type"><span class="hljs-type">T</span></span>, state: <span class="hljs-type"><span class="hljs-type">S</span></span>): <span class="hljs-type"><span class="hljs-type">R</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">prepareFolder</span></span></span></span>(log: <span class="hljs-type"><span class="hljs-type">Option</span></span>[<span class="hljs-type"><span class="hljs-type">String</span></span>]): <span class="hljs-type"><span class="hljs-type">Unit</span></span> = { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (log.isDefined) { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> temp = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">File</span></span>(log.get) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!temp.exists() || !temp.isDirectory()) temp.mkdir() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (temp.exists() &amp;&amp; temp.isDirectory()) { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">prepare</span></span></span></span>(file: <span class="hljs-type"><span class="hljs-type">File</span></span>): <span class="hljs-type"><span class="hljs-type">Unit</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (file.isDirectory()) { file.listFiles.foreach(prepare) file.delete() } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> file.delete() prepare(temp) } } } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">logState</span></span></span></span>(log: <span class="hljs-type"><span class="hljs-type">Option</span></span>[<span class="hljs-type"><span class="hljs-type">String</span></span>], state: <span class="hljs-type"><span class="hljs-type">S</span></span>, fileId: <span class="hljs-type"><span class="hljs-type">Int</span></span>): <span class="hljs-type"><span class="hljs-type">Unit</span></span> = { log <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-type"><span class="hljs-type">Some</span></span>(fileName) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> writer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">ObjectOutputStream</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">FileOutputStream</span></span>(<span class="hljs-string"><span class="hljs-string">s"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${fileName}</span></span></span><span class="hljs-string">/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${fileId}</span></span></span><span class="hljs-string">.st"</span></span>)) writer.writeObject(state) writer.close() } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-type"><span class="hljs-type">None</span></span> =&gt; () } } <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">work</span></span></span></span>(task: <span class="hljs-type"><span class="hljs-type">T</span></span>, terminationRule: <span class="hljs-type"><span class="hljs-type">S</span></span> =&gt; <span class="hljs-type"><span class="hljs-type">Boolean</span></span>, seed: <span class="hljs-type"><span class="hljs-type">Option</span></span>[<span class="hljs-type"><span class="hljs-type">S</span></span>] = <span class="hljs-type"><span class="hljs-type">None</span></span>, log: <span class="hljs-type"><span class="hljs-type">Option</span></span>[<span class="hljs-type"><span class="hljs-type">String</span></span>] = <span class="hljs-type"><span class="hljs-type">None</span></span>): <span class="hljs-type"><span class="hljs-type">R</span></span> = { prepareFolder(log) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> currentState = initialize(task, seed) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> id = <span class="hljs-number"><span class="hljs-number">0</span></span> logState(log, currentState, id) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> startTime = <span class="hljs-type"><span class="hljs-type">System</span></span>.nanoTime() <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!terminationRule(currentState)) { currentState = iterate(task, currentState) id = id + <span class="hljs-number"><span class="hljs-number">1</span></span> currentState.id = id currentState.timestamp = <span class="hljs-number"><span class="hljs-number">1e-9</span></span> * (<span class="hljs-type"><span class="hljs-type">System</span></span>.nanoTime() - startTime) logState(log, currentState, id) } terminate(task, currentState) } }</code> </pre></div></div><br>  Thus, to create a specific algorithm, it will be necessary to override the three previously described procedures. <br><br><div class="spoiler">  <b class="spoiler_title">What is the optimization algorithm?</b> <div class="spoiler_text">  From the previous description of the nonlinear programming problem, it is clear that the <b>task (Task)</b> for the optimization algorithm consists of a function and a search area (for now we restrict ourselves to the simple case when the search area is specified by a multidimensional box.) <br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OptimizationTask</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class"> &lt;: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Algebra</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">]](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">f: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Function</span></span></span></span><span class="hljs-class"><span class="hljs-params">[</span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">A</span></span></span></span><span class="hljs-class"><span class="hljs-params">], searchArea: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Map</span></span></span></span><span class="hljs-class"><span class="hljs-params">[</span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-class"><span class="hljs-params">, (</span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Double</span></span></span></span><span class="hljs-class"><span class="hljs-params">, </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Double</span></span></span></span></span><span class="hljs-class">)]) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GeneralTask</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">apply</span></span></span></span>(v: <span class="hljs-type"><span class="hljs-type">Vector</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>]): <span class="hljs-type"><span class="hljs-type">A</span></span> = f.calculate(v) }</code> </pre>  Usually, <b>states (State)</b> in optimization algorithms have one of the following forms: single-point (when one vector is analyzed and modified during work) or population / multipoint (when several vectors are analyzed and modified during work). <br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OptimizationState</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class"> &lt;: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Algebra</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">]] </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GeneralState</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCurrentBest</span></span></span></span>(optimizationTask: <span class="hljs-type"><span class="hljs-type">OptimizationTask</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>])(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> cmp: <span class="hljs-type"><span class="hljs-type">Ordering</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>]): <span class="hljs-type"><span class="hljs-type">Vector</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>] } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MultiPointOptimizationState</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class"> &lt;: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Algebra</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">]](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">points: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Seq</span></span></span></span><span class="hljs-class"><span class="hljs-params">[</span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Vector</span></span></span></span><span class="hljs-class"><span class="hljs-params">[</span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">A</span></span></span></span><span class="hljs-class"><span class="hljs-params">]]</span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OptimizationState</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">] </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toString</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">String</span></span> = { <span class="hljs-string"><span class="hljs-string">s"ID: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${id}</span></span></span><span class="hljs-string">\n"</span></span> + <span class="hljs-string"><span class="hljs-string">s"Timestamp: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${timestamp}</span></span></span><span class="hljs-string">\n"</span></span> + points.zipWithIndex.map{ <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> (point, id) =&gt; <span class="hljs-string"><span class="hljs-string">s"# </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${id}</span></span></span><span class="hljs-string">\n</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${point}</span></span></span><span class="hljs-string">\n"</span></span>}.mkString(<span class="hljs-string"><span class="hljs-string">"\n"</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCurrentBest</span></span></span></span>(optimizationTask: <span class="hljs-type"><span class="hljs-type">OptimizationTask</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>])(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> cmp: <span class="hljs-type"><span class="hljs-type">Ordering</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>]): <span class="hljs-type"><span class="hljs-type">Vector</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>] = points.minBy(point =&gt; optimizationTask(point)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">apply</span></span></span></span>(id: <span class="hljs-type"><span class="hljs-type">Int</span></span>): <span class="hljs-type"><span class="hljs-type">Vector</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>] = points(id) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">size</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">Int</span></span> = points.size } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnePointOptimizationState</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class"> &lt;: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Algebra</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">]](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">point: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Vector</span></span></span></span><span class="hljs-class"><span class="hljs-params">[</span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">A</span></span></span></span><span class="hljs-class"><span class="hljs-params">]</span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MultiPointOptimizationState</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">points = </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Seq</span></span></span></span><span class="hljs-class"><span class="hljs-params">(point</span></span></span><span class="hljs-class">)) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCurrentBest</span></span></span></span>(optimizationTask: <span class="hljs-type"><span class="hljs-type">OptimizationTask</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>])(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> cmp: <span class="hljs-type"><span class="hljs-type">Ordering</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>]): <span class="hljs-type"><span class="hljs-type">Vector</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>] = point <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">apply</span></span></span></span>(): <span class="hljs-type"><span class="hljs-type">Vector</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>] = point }</code> </pre>  Thus, the optimization algorithm is described by the following code: <br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OptimizationAlgorithm</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class"> &lt;: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Algebra</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">], </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">S</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">&lt;</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">OptimizationState</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>]] <span class="hljs-keyword"><span class="hljs-keyword">extends</span></span> <span class="hljs-type"><span class="hljs-type">GeneralAlgorithm</span></span>[<span class="hljs-type"><span class="hljs-type">OptimizationTask</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>], <span class="hljs-type"><span class="hljs-type">S</span></span>, <span class="hljs-type"><span class="hljs-type">Vector</span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>]] { }</code> </pre></div></div><br><br><h3>  <b>K-Means VS.</b>  <b>Random Search</b> </h3><br>  Well, the first two points of the promised program are covered, it's time to move on to the third. <br><br>  Both algorithms are well described in various sources, so I think that readers will not be difficult to deal with them.  Instead, I will draw parallels to the abstractions described earlier. <br><br><div class="spoiler">  <b class="spoiler_title">K-Means Algorithm</b> <div class="spoiler_text">  The task for the K-Means algorithm can be uniquely defined as a set of points for clustering and the required number of clusters. <br><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Task</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">val vectors: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Seq</span></span></span></span><span class="hljs-class"><span class="hljs-params">[</span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Vector</span></span></span></span><span class="hljs-class"><span class="hljs-params">[</span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Real</span></span></span></span><span class="hljs-class"><span class="hljs-params">]], val numberOfCentroids: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GeneralTask</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">apply</span></span></span></span>(id: <span class="hljs-type"><span class="hljs-type">Int</span></span>): <span class="hljs-type"><span class="hljs-type">Vector</span></span>[<span class="hljs-type"><span class="hljs-type">Real</span></span>] = vectors(id) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">size</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">Int</span></span> = vectors.size <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toOptimizationTask</span></span></span></span>(): (<span class="hljs-type"><span class="hljs-type">OptimizationTask</span></span>[<span class="hljs-type"><span class="hljs-type">Real</span></span>], <span class="hljs-type"><span class="hljs-type">InhomogeneousTransformation</span></span>[<span class="hljs-type"><span class="hljs-type">Vector</span></span>[<span class="hljs-type"><span class="hljs-type">Real</span></span>], kCentroidsClusterization]) = { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> varNames = vectors.head.components.keys.toSeq <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> values = vectors.flatMap(_.components.toSeq) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> searchAreaPerName = varNames.map { name =&gt; <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> accordingValues = values .filter(_._1 == name) .map(_._2.value) (name, (accordingValues.min, accordingValues.max)) } <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> totalSearchArea = <span class="hljs-type"><span class="hljs-type">Range</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>, numberOfCentroids) .flatMap { centroidId =&gt; searchAreaPerName .map { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> (varName, area) =&gt; (<span class="hljs-string"><span class="hljs-string">s"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${varName}</span></span></span><span class="hljs-string">_</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${centroidId}</span></span></span><span class="hljs-string">"</span></span>, area) } }.toMap <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> varNamesForCentroids = <span class="hljs-type"><span class="hljs-type">Range</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>, numberOfCentroids) .map { centroidId =&gt; (centroidId, varNames.map { varName =&gt; <span class="hljs-string"><span class="hljs-string">s"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${varName}</span></span></span><span class="hljs-string">_</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${centroidId}</span></span></span><span class="hljs-string">"</span></span> }) } .toMap <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> splitVector: <span class="hljs-type"><span class="hljs-type">InhomogeneousTransformation</span></span>[<span class="hljs-type"><span class="hljs-type">Vector</span></span>[<span class="hljs-type"><span class="hljs-type">Real</span></span>], <span class="hljs-type"><span class="hljs-type">Map</span></span>[<span class="hljs-type"><span class="hljs-type">Int</span></span>, <span class="hljs-type"><span class="hljs-type">Vector</span></span>[<span class="hljs-type"><span class="hljs-type">Real</span></span>]]] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">InhomogeneousTransformation</span></span>( v =&gt; <span class="hljs-type"><span class="hljs-type">Range</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>, numberOfCentroids) .map { centroidId =&gt; (centroidId, <span class="hljs-type"><span class="hljs-type">Vector</span></span>(v(varNamesForCentroids(centroidId)) .components .map { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> (key, value) =&gt; (key.dropRight(<span class="hljs-number"><span class="hljs-number">1</span></span> + centroidId.toString.length), value) })) }.toMap) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> vectorsToClusterization: <span class="hljs-type"><span class="hljs-type">InhomogeneousTransformation</span></span>[<span class="hljs-type"><span class="hljs-type">Map</span></span>[<span class="hljs-type"><span class="hljs-type">Int</span></span>, <span class="hljs-type"><span class="hljs-type">Vector</span></span>[<span class="hljs-type"><span class="hljs-type">Real</span></span>]], kCentroidsClusterization] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">InhomogeneousTransformation</span></span>(v =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> kCentroidsClusterization(v)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> clusterizationForMetric: <span class="hljs-type"><span class="hljs-type">InhomogeneousTransformation</span></span>[kCentroidsClusterization, (kCentroidsClusterization, <span class="hljs-type"><span class="hljs-type">Seq</span></span>[<span class="hljs-type"><span class="hljs-type">Vector</span></span>[<span class="hljs-type"><span class="hljs-type">Real</span></span>]])] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">InhomogeneousTransformation</span></span>(clusterization =&gt; (clusterization, vectors)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> quality: <span class="hljs-type"><span class="hljs-type">Metric</span></span>[<span class="hljs-type"><span class="hljs-type">Vector</span></span>[<span class="hljs-type"><span class="hljs-type">Real</span></span>]] = splitVector * vectorsToClusterization * clusterizationForMetric * <span class="hljs-type"><span class="hljs-type">SquareDeviationSumMetric</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">OptimizationTask</span></span>(f = quality, searchArea = totalSearchArea), splitVector * vectorsToClusterization) } }</code> </pre>  Here you should pay attention to two lines: <br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> quality: <span class="hljs-type"><span class="hljs-type">Metric</span></span>[<span class="hljs-type"><span class="hljs-type">Vector</span></span>[<span class="hljs-type"><span class="hljs-type">Real</span></span>]] = splitVector * vectorsToClusterization * clusterizationForMetric * <span class="hljs-type"><span class="hljs-type">SquareDeviationSumMetric</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">OptimizationTask</span></span>(f = quality, searchArea = totalSearchArea), splitVector * vectorsToClusterization)</code> </pre>  In the first of them, a composition of transformations is built: the vector is divided into a system of vectors describing centroids, centroids are converted into a clustering device, the clustering device is estimated by the metric ‚Äútotal distance of cluster points from the corresponding centroids‚Äù <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>k</mi></mrow></msubsup><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>x</mi><mi>j</mi></msub><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><msub><mi>S</mi><mi>i</mi></msub></mrow></msub><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>e</mi><mi>f</mi><mi>t</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>e</mi><mi>f</mi><mi>t</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><msub><mi>x</mi><mi>j</mi></msub><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>m</mi><msub><mi>u</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="51.327ex" height="3.312ex" viewBox="0 -950 22099.1 1426" role="img" focusable="false" aria-hidden="true" style="vertical-align: -1.106ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-73" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-75" x="719" y="0"></use><g transform="translate(1292,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-6B" x="1242" y="499"></use><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-73" x="3669" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-75" x="4138" y="0"></use><g transform="translate(4711,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.5)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-6A" x="809" y="-213"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-69" x="1317" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-6E" x="1663" y="0"></use><g transform="translate(1600,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.5)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-69" x="867" y="-213"></use></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-6C" x="8217" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-65" x="8516" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-66" x="8982" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-74" x="9533" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMAIN-7C" x="9894" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-6C" x="10423" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-65" x="10721" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-66" x="11188" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-74" x="11738" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMAIN-7C" x="12100" y="0"></use><g transform="translate(12378,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-6A" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMAIN-2212" x="13565" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-6D" x="14815" y="0"></use><g transform="translate(15694,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-69" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-72" x="16861" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-69" x="17312" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-67" x="17658" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-68" x="18138" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-74" x="18715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMAIN-7C" x="19076" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-72" x="19605" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-69" x="20056" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-67" x="20402" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-68" x="20882" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMATHI-74" x="21459" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/328198/&amp;xid=25657,15700002,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgr5q8NkQqk3Sh9Jz2KC0RrgcZXpw#MJMAIN-7C" x="21820" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>k</mi></mrow></msubsup><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>x</mi><mi>j</mi></msub><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><msub><mi>S</mi><mi>i</mi></msub></mrow></msub><mtext>&nbsp;</mtext><mi>l</mi><mi>e</mi><mi>f</mi><mi>t</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mtext>&nbsp;</mtext><mi>l</mi><mi>e</mi><mi>f</mi><mi>t</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><msub><mi>x</mi><mi>j</mi></msub><mo>‚àí</mo><mtext>&nbsp;</mtext><mi>m</mi><msub><mi>u</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mtext>&nbsp;</mtext><mi>r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-4"> \ sum_ {i = 1} ^ {k} \ sum_ {x_j \ in S_i} \ left | \ left | x_j- \ mu_i \ right | \ right | </script>  .  The resulting composition of transformations can be further considered as a target function for the optimization problem. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Random search algorithm</b> <div class="spoiler_text">  The simplest description of the random search algorithm can be found on <a href="https://en.wikipedia.org/wiki/Random_optimization">Wikipedia</a> .  The differences in the implemented version are that not one point is generated from the current one, but several, and a uniform one is used instead of the normal distribution. <br></div></div><br>  A clusterizer built using the K-Means algorithm is uniquely determined by its centroids.  The K-Means algorithm itself is a constant replacement of the current centroids with new centroids, calculated as the average of all vectors in individual clusters.  Thus, at any time, the state of the K-Means algorithm can be represented as a set of vectors. <br><br>  Thus, the clusteriser can be built either directly using the K-Means algorithm, or by solving the problem of finding the optimal clusteriser, which ensures the minimum total distance of the cluster points from the corresponding centroids. <br><br>  Generate several synthetic datasets of dimension 2, 3, and 5. <br><br><div class="spoiler">  <b class="spoiler_title">Data generation code</b> <div class="spoiler_text"><div class="spoiler">  <b class="spoiler_title">Generation of a normally distributed random variable</b> <div class="spoiler_text"><pre> <code class="hljs 1c">f[mu_, sigma_, N_] := RandomVariate[<span class="hljs-meta"><span class="hljs-meta">#, N] &amp; /@ MapThread[NormalDistribution, {mu, sigma}] </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// Transpose</span></span></span></span></code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">2D</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">Num = <span class="hljs-number"><span class="hljs-number">100</span></span>; sigma = <span class="hljs-number"><span class="hljs-number">0.1</span></span>; data2D = <span class="hljs-keyword"><span class="hljs-keyword">Join</span></span>[ f[{<span class="hljs-number"><span class="hljs-number">0.5</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>}, {sigma, sigma}, Num], f[{<span class="hljs-number"><span class="hljs-number">-0.5</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>}, {sigma, sigma}, Num] ]; ListPlot[data2D] Export[NotebookDirectory[] &lt;&gt; "data2D.csv", data2D, "CSV"];</code> </pre><br><img src="https://habrastorage.org/web/592/f5f/e3f/592f5fe3fc034930b1f5f1752536a911.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">3D (projection onto two-dimensional space using t-SNE)</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">Num = <span class="hljs-number"><span class="hljs-number">100</span></span>; mu1 = <span class="hljs-number"><span class="hljs-number">0.0</span></span>; sigma1 = <span class="hljs-number"><span class="hljs-number">0.1</span></span>; mu2 = <span class="hljs-number"><span class="hljs-number">2.0</span></span>; sigma2 = <span class="hljs-number"><span class="hljs-number">0.2</span></span>; mu3 = <span class="hljs-number"><span class="hljs-number">5.0</span></span>; sigma3 = <span class="hljs-number"><span class="hljs-number">0.3</span></span>; data3D = <span class="hljs-keyword"><span class="hljs-keyword">Join</span></span>[ f[{mu1, mu1, mu1}, {sigma1, sigma1, sigma1}, Num], f[{mu2, mu2, mu2}, {sigma2, sigma2, sigma2}, Num], f[{mu3, mu3, mu3}, {sigma3, sigma3, sigma3}, Num] ]; dimReducer = DimensionReduction[data3D, <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> -&gt; "TSNE"]; ListPlot[dimReducer[data3D]] Export[NotebookDirectory[] &lt;&gt; "data3D.csv", data3D, "CSV"];</code> </pre><br><img src="https://habrastorage.org/web/7b8/7f8/58a/7b87f858ad144bee89f867096b52c6ac.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">5D (projection onto two-dimensional space using t-SNE)</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">Num = <span class="hljs-number"><span class="hljs-number">250</span></span>; mu1 = <span class="hljs-number"><span class="hljs-number">-2.5</span></span>; sigma1 = <span class="hljs-number"><span class="hljs-number">0.9</span></span>; mu2 = <span class="hljs-number"><span class="hljs-number">0.0</span></span>; sigma2 = <span class="hljs-number"><span class="hljs-number">1.5</span></span>; mu3 = <span class="hljs-number"><span class="hljs-number">2.5</span></span>; sigma3 = <span class="hljs-number"><span class="hljs-number">0.9</span></span>; data5D = <span class="hljs-keyword"><span class="hljs-keyword">Join</span></span>[ f[{mu1, mu1, mu1, mu1, mu1}, {sigma1, sigma1, sigma1, sigma1, sigma1}, Num], f[{mu2, mu2, mu2, mu2, mu2}, {sigma2, sigma2, sigma2, sigma2, sigma2}, Num], f[{mu3, mu3, mu3, mu3, mu3}, {sigma3, sigma3, sigma3, sigma3, sigma3}, Num] ]; dimReducer = DimensionReduction[data5D, <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> -&gt; "TSNE"]; ListPlot[dimReducer[data5D]] Export[NotebookDirectory[] &lt;&gt; "data5D.csv", data5D, "CSV"];</code> </pre><br><img src="https://habrastorage.org/web/479/ca6/b43/479ca6b43fd1458e9e07f43c44763cd0.png"><br></div></div><br></div></div><br>  And "run them" through both algorithms building a cluster.  The results obtained are summarized in the table: <br><table><tbody><tr><th></th><th>  2D </th><th>  3D </th><th>  5D </th></tr><tr><td>  Clusterization Quality (via K-Means): </td><td>  90.30318857796479 </td><td>  96.48947132305597 </td><td>  1761.3743823022821 </td></tr><tr><td>  Clusterization Quality (via Optimization): </td><td>  87.42370021528419 </td><td>  96.4552486768293 </td><td>  1760.993575500699 </td></tr></tbody></table><div class="spoiler">  <b class="spoiler_title">Clusterizer Results</b> <div class="spoiler_text"><div class="spoiler">  <b class="spoiler_title">2D</b> <div class="spoiler_text"><img src="https://habrastorage.org/web/ee8/9e7/54d/ee89e754df6449948d3e41e89ec3f995.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">3D (projection onto two-dimensional space using t-SNE)</b> <div class="spoiler_text"><img src="https://habrastorage.org/web/b65/e5a/c0c/b65e5ac0c72b4babab72d1ffd513b0f7.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">5D (projection onto two-dimensional space using t-SNE)</b> <div class="spoiler_text"><img src="https://habrastorage.org/web/b7a/648/4a0/b7a6484a0f0d4aecb56acb6eaef8f953.png"><br></div></div><br></div></div><br>  The table shows that even a simple optimization algorithm can successfully solve the problem of constructing a simple clusterizer.  At the same time, the created clusterizer will be optimal (and to be honest, suboptimal, since the optimization method used does not guarantee finding the <a href="https://ru.wikipedia.org/wiki/%25D0%25AD%25D0%25BA%25D1%2581%25D1%2582%25D1%2580%25D0%25B5%25D0%25BC%25D1%2583%25D0%25BC">global optimum</a> point) in terms of the quality metric used.  Naturally, the optimization algorithm used for problems of a higher dimension is hardly suitable (here it is better to use more complex and efficient algorithms based on several heuristics of different levels).  For a small synthetic task, Random Search did quite well. <br><br><h3>  <b>Instead of an afterword</b> </h3><br>  I would like to thank everyone who read the article, unsubscribed in the comments.  In short, everyone who contributed to the creation of this work.  Probably, it should be immediately noted that articles on this subject will appear as far as possible and my current workload.  But I would like to say that this time I will try to bring the matter begun by me to the end. <br><br>  <b>References and literature</b> <br><br><ul><li>  <a href="https://github.com/wol4aravio/Kaimere/tree/7aa7b634983c3410e99dab3b0b0c4919c31ba54a">Project code</a> </li><li>  <a href="https://github.com/wol4aravio/Habrahabr-Article-1">Code to generate / visualize</a> , </li><li>  K-means: [ <a href="https://ru.wikipedia.org/wiki/K-means">1</a> ], [ <a href="https://en.wikipedia.org/wiki/K-means_clustering">2</a> ], [ <a href="http://projecteuclid.org/euclid.bsmsp/1200512992">3</a> ], [ <a href="https://habrahabr.ru/post/67078/">4</a> ] </li><li>  Random Search: [ <a href="https://en.wikipedia.org/wiki/Random_optimization">1</a> ], [ <a href="https://books.google.ru/books%3Fid%3Dy4JUSgAACAAJ%26dq%3D%25D0%25BF%25D0%25B0%25D0%25BD%25D1%2582%25D0%25B5%25D0%25BB%25D0%25B5%25D0%25B5%25D0%25B2%2B%25D0%25BB%25D0%25B5%25D1%2582%25D0%25BE%25D0%25B2%25D0%25B0%2B%25D0%25BC%25D0%25B5%25D1%2582%25D0%25BE%25D0%25B4%25D1%258B%2B%25D0%25BE%25D0%25BF%25D1%2582%25D0%25B8%25D0%25BC%25D0%25B8%25D0%25B7%25D0%25B0%25D1%2586%25D0%25B8%25D0%25B8%2B%25D0%25B2%2B%25D0%25BF%25D1%2580%25D0%25B8%25D0%25BC%25D0%25B5%25D1%2580%25D0%25B0%25D1%2585%2B%25D0%25B8%2B%25D0%25B7%25D0%25B0%25D0%25B4%25D0%25B0%25D1%2587%25D0%25B0%25D1%2585%26hl%3Den%26sa%3DX%26redir_esc%3Dy">2</a> ], [ <a href="http://www.springer.com/us/book/9781441916631">3</a> ], </li><li>  Scala: [ <a href="https://books.google.ru/books%3Fid%3DRIn-oAEACAAJ%26dq%3Dlearning%2Bscala%26hl%3Den%26sa%3DX%26ved%3D0ahUKEwjJub6b1enTAhWrHJoKHfeVC9kQ6AEILDAB">1</a> ], [ <a href="https://books.google.ru/books%3Fid%3DxVU2AAAAQBAJ%26printsec%3Dfrontcover%26dq%3Dlearning%2Bscala%26hl%3Den%26sa%3DX%26ved%3D0ahUKEwjJub6b1enTAhWrHJoKHfeVC9kQ6AEIXTAJ">2</a> ]. </li></ul></div><p>Source: <a href="https://habr.com/ru/post/328198/">https://habr.com/ru/post/328198/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../328186/index.html">DPI-digest: IPv6, SD-WAN and more</a></li>
<li><a href="../328188/index.html">DNS glue records - what is it and why are they so important?</a></li>
<li><a href="../328190/index.html">Min-Long Chou: What I designed for Uncharted 4. Part 1</a></li>
<li><a href="../328192/index.html">The concept of systems and designs. Their place in the design of information systems</a></li>
<li><a href="../328194/index.html">The digest of interesting materials for the mobile # 202 developer (May 2-8)</a></li>
<li><a href="../328200/index.html">How to talk about yourself at the interview</a></li>
<li><a href="../328202/index.html">Correction codes "on the fingers"</a></li>
<li><a href="../328204/index.html">Where to go for those who have decided to leave Ubuntu Unity</a></li>
<li><a href="../328206/index.html">Using the NSProxy class on a simple example</a></li>
<li><a href="../328208/index.html">Adding to_string simplifies development and debugging code on Elixir</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>