<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How we developed a 3D people scanning system using Intel RealSense 3D cameras and Intel Edison technology</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cappasity has been developing 3D scanning technologies for two years now. This year we are launching a scanning software for ultrabooks and tablets wi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How we developed a 3D people scanning system using Intel RealSense 3D cameras and Intel Edison technology</h1><div class="post__text post__text-html js-mediator-article">  <a href="http://www.cappasity.com/">Cappasity</a> has been developing 3D scanning technologies for two years now.  This year we are launching a scanning software for ultrabooks and tablets with the Intel RealSense camera - <a href="http://www.easy3dscan.com/">Cappasity Easy 3D Scan</a> , and next year - hardware and software solutions for scanning people and objects. <br><br>  Due to the fact that I am an <a href="https://software.intel.com/en-us/intel-software-innovators">Intel Software Innovator</a> and thanks to the Intel team that leads this program, we received an invitation to show our prototype for scanning people much earlier than planned.  Despite the fact that there was very little preparation time, we decided to take the risk.  And in this article I will tell you how our demonstration was created for the Intel Developer Forum 2015, which was held in San Francisco from August 18-20. <br><br><img src="https://habrastorage.org/files/585/f96/5ff/585f965fff0942238c23a57e33a3826a.jpg"><br><a name="habracut"></a><br>  Our demonstration is based on the previously developed technology of combining depth cameras and RGB cameras into a single scanning complex (US Patent Pending).  The general principle of operation is as follows: we calibrate the positions, inclinations and optical parameters of the cameras and due to this we can combine the data for the subsequent reconstruction of the 3D model.  In order to make a 3D shooting of an object, we can position the cameras around the shooting object, rotate the camera system around the object, or rotate the object in front of the camera system. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We decided to choose Intel RealSense 3D cameras, since, in our opinion, they are the best solution in terms of price and quality.  We are currently developing prototypes of two systems built using multiple Intel RealSense 3D cameras: a scanning box with several 3D cameras for instant scanning of objects and a system for scanning people to their full height. <br><br>  We showed both prototypes at IDF 2015, and the prototype for scanning a person successfully accomplished the task of scanning a fairly large flow of visitors to the booth during the three days of the conference. <br><br><img src="https://habrastorage.org/files/b26/25b/2e2/b2625b2e242b494fa0c8cbb84b698cf6.jpg"><br><br>  We now turn to how everything works.  On the vertical bar, we secured three Intel RealSense long-range cameras so that the lowermost one took off the lower part of the legs, including the feet, the middle one - the legs and most of the body, and the uppermost - the head and shoulders. <br><br><img src="https://habrastorage.org/files/e0c/10b/bc9/e0c10bbc991c47aab2a26568e6915eb9.jpg"><br><br>  Each camera was connected to a separate <a href="http://www.intel.ru/content/www/ru/ru/nuc/overview.html">Intel NUC</a> computer, and all computers were connected to a local network. <br><br>  Since the cameras are attached to a stationary bar, we use a rotary table to rotate a person.  The table has a simple structure based on plexiglass, bearings for rollers and a stepper motor.  Through <a href="http://www.intel.com/content/www/us/en/do-it-yourself/edison.html">Intel Edison,</a> it is connected to a computer and receives commands via the USB port. <br><br><img src="https://habrastorage.org/files/581/134/76d/58113476d6b84ce8bf9818174764485f.jpg"><br><img src="https://habrastorage.org/files/69d/8bc/305/69d8bc305dab4322acabbe576fa483e5.jpg"><br><br>  In addition, a simple system of constant illumination is used, which allows you to evenly illuminate the frontal part of a person.  Of course, in the future, all the elements described above will be enclosed in a single case, but so far we have demonstrated an early prototype of the scanning system, and therefore everything has been assembled on the basis of commercially available elements. <br><br><img src="https://habrastorage.org/files/fc4/a49/620/fc4a4962033e43c99cc0833ed56bd100.jpg" alt="image"><br><br>  Our software has a client-server architecture, but the server can be run on virtually any modern computer.  That is, we conditionally call the computer on which the calculations take place a server and often use a regular ultrabook with Intel HD Graphics as a server.  The server sends a command to the NUC computers for recording, loads data from them, analyzes and reconstructs the 3D model. <br><br>  We now turn to the features of the problem being solved.  At the heart of the 3D reconstruction that we use in Cappasity products is the implementation of the <a href="https://msdn.microsoft.com/en-us/library/dn188670.aspx">Kinect Fusion</a> algorithm that we wrote.  But here the task was much more difficult - in a month it was necessary to write an algorithm that could reconstruct data from several sources.  We called it Multi-Fusion, and in its current implementation it can integrate data from an unlimited number of sources into a single voxel volume.  In the case of a human scan, we had three data sources. <br><br>  So, the first step is calibration.  Cappasity software allows you to calibrate devices in pairs.  At one time, we had a year on R &amp; D, and before IDF 2015, we were very helpful with the old developments.  For a couple of weeks, we reworked the calibration and maintained the voxel volumes obtained after Fusion.  Prior to this, calibration worked more with point clouds.  Calibration needs to be performed only once after installing the cameras, and it takes no more than 5 minutes. <br><br>  Then there was a question about the approach to data processing, and after conducting a series of studies, we chose to post process data.  Thus, at the beginning we record data from all the cameras, then we upload them over the network to the server and then we begin to reconstruct sequentially.  Flows of color and depth are recorded from each camera.  Thus, we have a complete copy of the data for further work with them, which is extremely convenient in view of the continuous improvement of post-processing algorithms, and we have written them literally in the last days before the IDF in an emergency mode. <br><br>  Intel RealSense long-range R200 cameras work better with black color and complex materials than Intel RealSense F200 cameras.  The number of failures in tracking was minimal, which, of course, made us happy.  And the main thing is that cameras allow you to shoot at the distances we need.  So that everything was reconstructed quickly even on HD Graphics 5500+, we optimized our Fusion algorithm for OpenCL.  Noises were removed by Fusion and additional data segmentation after the construction of a single mesh. <br><br><img src="https://habrastorage.org/files/1fc/63e/e69/1fc63ee693844c0d9ed0b459e4e7c386.jpg" alt="image"><img src="https://habrastorage.org/files/5ed/232/359/5ed232359906484db5bcb6c9442ce780.jpg" alt="image"><br><br>  In addition, we modified the high-resolution texturing algorithm to IDF.  Here we have the following approach: we take pictures in full resolution of the color camera and then project them onto the mesh.  We do not use voxel colors, as this blurs the quality of the texture.  The projection method is extremely difficult to implement, but it gives us the opportunity to use not only built-in cameras, but also external ones as a color source.  For example, the scanning box we are developing uses DSRL cameras for high resolution textures, and this is extremely important for our e-commerce clients. <br><br>  But the cameras built into RealSense RGB gave excellent colors.  Here is an example of a model after texture mapping: <br><br><img src="https://habrastorage.org/files/8eb/ce1/f5f/8ebce1f5f1d6476388cccf5458c18946.jpg" alt="image"><br><br>  We are currently working on a new algorithm that would allow us to eliminate texture shifts and plan to finish it before the release of our Easy 3D Scan product. <br><br>  As you can see, at first glance, a simple demonstration is worth a lot of complex code, thanks to which we can compete with scanning systems that cost about $ 100K +.  Intel RealSense cameras are affordable and can change the market for B2B solutions. <br><br>  What is the advantage of the human scanning system we are developing: <br><ul><li>  Affordable solution and ease of setup and use - everything works by pressing a single button; </li><li>  Compactness - the scanning complex can be located in any trading floors, entertainment centers, medical centers, casinos, and so on; </li><li>  Quality models are suitable for 3D printing, content development for AR / VR applications; </li><li>  The accuracy of the resulting mesh allows you to take the size of the scanned object. </li></ul><br>  We understand that we have not yet discovered the full potential of Intel RealSense cameras, but we are sure that already at CES 2016 we will be able to show significantly improved products all in our hands! </div><p>Source: <a href="https://habr.com/ru/post/267561/">https://habr.com/ru/post/267561/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../267547/index.html">The company D-Link mistakenly published the secret keys for signing firmware</a></li>
<li><a href="../267549/index.html">Accordion on AngularJS and Bootstrap</a></li>
<li><a href="../267555/index.html">New telephony from "OnLime"</a></li>
<li><a href="../267557/index.html">We fasten the multimedia keys in Yandeks.Radio</a></li>
<li><a href="../267559/index.html">How to work on Chromium</a></li>
<li><a href="../267563/index.html">Technical method of protection against unauthorized issuance of duplicate SIM cards (and personal data in general), implemented at the operator level</a></li>
<li><a href="../267565/index.html">How to create an image slider in a mail message</a></li>
<li><a href="../267567/index.html">Telegram check using PVS-Studio and vice versa</a></li>
<li><a href="../267569/index.html">Software design</a></li>
<li><a href="../267571/index.html">Impressions from the trainings Certified Scrum Master and Certified Scrum Product Owner</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>