<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>UIKit + Viper or MVC healthy person</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="About a year ago I met such a wonderful pattern as the Viper . And now I want to talk about my problems, as well as about their solution. 

 Introduct...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>UIKit + Viper or MVC healthy person</h1><div class="post__text post__text-html js-mediator-article">  About a year ago I met such a wonderful pattern as the <b>Viper</b> .  And now I want to talk about my problems, as well as about their solution. <br><br><h3>  Introduction </h3><br>  Having read tutorios about Viper, I started trying to create a new project on it.  As a result, my Viper looked like this: <a name="habracut"></a><br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/8a1/505/d45/8a1505d455d04da487d1bfcb005b7a71.png" alt="image"></div><br>  <i>A base class is signed next to each block.</i>  <i>Arrows indicate links between objects (weak dotted line).</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This scheme does not solve an extremely important problem.  How to locate modules in UINavigationController?  Due to the fact that the navigation stack needs to add heirs to the UIViewController class. <br><br><ul><li>  in the router you will have to pull the view through the presenter and explicitly indicate that this is a UIViewController </li><li>  after adding a view to the UINavagationController, the view of the strong link counter will increase to 2.  In the future, you will have to manually remove the viper module from memory. </li></ul><br>  In this approach, some incompatibility of Viper and UIKit is evident. <br><br><h3>  How to make friends Viper and UIKit </h3><br>  First of all, you need to understand how to move from Apple MVC to Viper.  MVC quite easily decomposed into view, presenter and interactor.  But viper has an additional layer - the router.  And at this point, I propose an alternative point of view (at least on the Internet, I have not seen anything like this). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/b22/7f6/97b/b227f697b2bf42469103e444f05fb568.png" alt="image"></div><br>  It became noticeably more UI components.  Now let's see why everything is so, well, or almost.  As a basis for my reasoning, I will use this <a href="https://habrahabr.ru/post/273061">article</a> . <br><br>  It says: <br><blockquote>  Presenter / Presenter <br><br>  Presenter is PONSO, which basically consists of logic to control the UI.  It collects input from user interaction, so it can send requests to Interactor.  Presenter also gets the results of Interactor and converts the results to the state that is most effective for display on the View. <br><br>  Entities are never transferred from Interactor to Presenter.  Instead, simple data structures that have no behavior are transferred from Interactor to Presenter.  This prevents any real work in Presenter.  Presenter can only prepare data for display on the View. </blockquote><br>  If, in the capacity of a presenter, to take not a PONSO, but a UIViewController, what will change?  Yes, the presenter will be responsible for displaying the module, but only under the hood of the UIKit.  All methods of the life cycle can be regarded on the same principle as the events from the view buttons.  That is, the view tells the presenter that the viewdidload has happened and something can be done about it.  All rendering logic remained on view. <br><br>  Now let's take a look at the router (in the article it‚Äôs shown as wireframe. I usually divide it into router and moduleManager) <br><br><blockquote>  Wireframe / Frame <br><br>  Routing handles navigation from one screen to another, as defined in the wireframes created by the interaction designer.  The wireframe object is responsible for routing.  The wireframe object owns UIWindow, UINavigationController, etc. objects.  He is responsible for creating the Interactor, Presenter and View / ViewController and for setting the ViewController.  Since Presenter contains logic to respond to user input, Presenter knows when to go to another screen.  Wireframe knows how to do it.  So Presenter is a Wireframa user. </blockquote><br>  There is a question.  Why router can not be UINavigationController?  Why do we still need a bicycle when UIKit has its own routers - these are UINavigationController and sympathizers.  In such classes, the basic logic has already been laid. <br><br>  What does this approach solve? <br><br><ul><li>  less code, everything is done for us </li><li>  clear code for someone unfamiliar with Viper </li><li>  UIKit is now responsible for working with memory; you don‚Äôt have to destroy modules by hand </li><li>  simple integration with third-party libraries that accept UIViewController at the entrance </li></ul><br>  As an example, I created a small demo <a href="https://github.com/Atimca/UIKitViper">project</a> .  I hope for an objective discussion. </div><p>Source: <a href="https://habr.com/ru/post/327262/">https://habr.com/ru/post/327262/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../327252/index.html">Go meetup report April 14</a></li>
<li><a href="../327254/index.html">A prototype of a simple service for healthy eating.</a></li>
<li><a href="../327256/index.html">How DDos-attacks are ‚Äúordered‚Äù: life story</a></li>
<li><a href="../327258/index.html">Why do we need chat bots, or the story of Bitrix24</a></li>
<li><a href="../327260/index.html">How Google Cloud protects its data centers from cybercriminals and internal errors</a></li>
<li><a href="../327264/index.html">Everything is bad</a></li>
<li><a href="../327266/index.html">How to beat groundhog day ‚Üí Automate testing of the KOMPAS-3D v17 interface</a></li>
<li><a href="../327270/index.html">Hacksplaining - an online course on web vulnerabilities</a></li>
<li><a href="../327272/index.html">‚ÄúCryptography in blockchains‚Äù: about hash functions, keys and digital signatures</a></li>
<li><a href="../327274/index.html">Development of an accelerated BBC News homepage</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>