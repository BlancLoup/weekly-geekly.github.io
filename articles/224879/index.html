<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Anemic Domain Model [Translation]</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Against the background of my enthusiastic study of DDD, I read an article by Martin Fowler dated November 25, 2003 from the Anemic Domain Model . Some...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Anemic Domain Model [Translation]</h1><div class="post__text post__text-html js-mediator-article"><blockquote>  <i>Against the background of my enthusiastic study of DDD, I read an article by Martin Fowler dated November 25, 2003 from the <b>Anemic Domain Model</b> .</i>  <i>Sometimes, for a better understanding of the material, I translate it into Russian.</i>  <i>So I decided to share the translation.</i> <i><br></i>  <i>Translation of the author and in some places very semantic.</i> <i><br><br></i>  <i>Link to the <a href="http://www.martinfowler.com/bliki/AnemicDomainModel.html">original</a> .</i> <i><br><br></i>  <i>The article has quotes from the already published book, which was translated into Russian by professionals, in order to improve the understanding of my translation, I quoted from the book under the spoilers.</i> <br></blockquote>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Pale Domain Model</b> <br><br>  This is one of those anti-patterns that has surrounded us for a long time, and now it is even more active.  I talked about this with Eric Evans and we both noted that he is becoming more and more popular.  And I, as a supporter of the right Domain Model, believe that this is not good. <br><br><a name="habracut"></a><br><br>  The first symptoms of the Pale Domain Model are that it looks normal, but only at first glance.  Objects are named as nouns from the subject area, interconnected and have the structure of normal domain objects.  Understanding comes when viewing their contents, it is hardly more than a set of getters and setters.  Often these domain objects come with architectural rules not to place any domain logic in them.  Instead, there is a set of services (service objects) that contain all the domain logic in themselves.  These services are located architecturally above the domain model and use it as a data source. <br><br>  The whole horror of this anti-pattern is that it goes against the basic idea of ‚Äã‚ÄãObject Oriented Design, which consists in combining data and process (behavior).  The pale model is something of a procedural design, something that fans like me and Eric have been fighting from the very first days of their work with Smalltalk. <br><br>  Nowadays, Object-Oriented Purism is good, but I think we need more compelling arguments against this ‚Äúpallor‚Äù in the model.  The problem with the Pale Domain Model is that it carries the entire load of the Domain Model without bringing its advantages.  And we pay for it with the absurdity of database mapping, which usually results in a whole layer of ORM.  This makes sense only when powerful Object-Oriented techniques are used to organize complex logic.  However, moving all the system behavior into services, you need to understand that everything will end <s>badly in</s> <a href="http://martinfowler.com/eaaCatalog/transactionScript.html">Transaction Script</a> , and you will certainly lose all the advantages that the Domain Model has.  But as I said in the book <a href="http://martinfowler.com/books/eaa.html">P of EAA, the</a> Domain Model is not always the best choice. <br><br>  It is also worth noting that the placement of behavior in Domain Objects should not contradict the consistent approach of using layers to separate the domain logic from the layer of persistence and presentation.  The logic that should be in the domain object is the domain logic, for example: validation, calculations or whatever you call the ‚Äúbusiness rule‚Äù. <br>  (There are cases, of course, when you pass a parameter to the domain object with a data source or pieces of presentation logic, but this is orthogonal to my idea of ‚Äã‚Äã‚Äúpallor‚Äù.) <br><br>  One of the sources of misinterpretation is that many Object Oriented experts recommend placing a layer of procedural services <b>over a</b> domain model in order to form a service layer.  But this is not an argument not to place the behavior in the domain model, in fact, the service layer pushes to use it in conjunction with the domain model containing the behavior. <br><br>  Erik Evans' excellent book " <a href="http://www.amazon.com/Domain-Driven-Design-Tackling-Complexity-Software/dp/0321125215">Domain Driven Design</a> " talks about these layers. <br><br><blockquote>  Application Layer [as he calls the Service Layer]: defines the tasks that it is supposed that the application will solve and directs their execution to the (rich) domain model.  The tasks of this layer are significant for business (not business logic) or are simply interaction with the application layer of other systems.  This layer should remain thin.  It does not contain business logic or any knowledge, it only coordinates tasks and delegates work to sets of domain objects at a lower level.  It does not carry a state that reflects the situation in business logic, but may be aware of the status of the task to inform the user and / or application as a whole. <br></blockquote><br><br><div class="spoiler">  <b class="spoiler_title">From book</b> <div class="spoiler_text"><blockquote>  Defines the tasks that the task must solve, and distributes them between objects that express the essence of the subject area.  Tasks performed by this level make sense for a specialist user or are necessary for interactive interaction with operational levels of other systems.  This level does not need to "inflate" in size.  It does not contain neither knowledge nor business rules (business rules), but only the coordination of tasks and the distribution of work between sets of domain objects at the next lower level.  It does not reflect the state of the objects of the applied model, but it may contain a state that informs the user about the degree of completion of the task to inform the user. <br></blockquote><br></div></div><br><br><blockquote>  Domain Layer (or Model Layer): Responsible for presenting the meaning of business processes, carries information about the business situation and business rules (business logic).  Here, the state that reflects the situation in the application (in its business part) is monitored and used, even if the technical details of data storage (persistence) are allowed and delegated to the infrastructure. <br>  <b>This layer is the heart of the application.</b> <br></blockquote><br><br><div class="spoiler">  <b class="spoiler_title">From book</b> <div class="spoiler_text"><blockquote>  Responsible for introducing the concepts of the applied domain, working conditions, business regulations.  This is where the current state of the applied model is monitored and used, even if the technical details of data manipulation are delegated to the infrastructure.  This level is the main, algorithmic part of the program. <br></blockquote><br></div></div><br><br>  The point here is that the Service Layer is <b><i>thin</i></b> , and all the logic is in the Domain Layer.  He (Eric) repeats this in his <b><i>service pattern.</i></b> <br><br><blockquote>  Now it‚Äôs a common mistake to surrender too soon when putting behavior into the appropriate object, gradually slipping into procedural programming. <br></blockquote><br><br><div class="spoiler">  <b class="spoiler_title">From book</b> <div class="spoiler_text"><blockquote>  At this point, it is easy to make a common mistake: to abandon the attempt to place an operation in an object suitable for it, and thus come to procedural programming. <br></blockquote><br></div></div><br><br>  I don't know why this anti-pattern is so common.  I suspect this from the fact that there are so many people who did not work with the <b><i>correct</i></b> domain model, especially if they came from the world of data.  Some technologies encourage this anti-pattern, such as J2EE's Entity Beans, this is one of the reasons why I prefer <a href="http://en.wikipedia.org/wiki/Plain_Old_Java_Object">POJO</a> domain models. <br><br>  In general, the more your logic in services, the more it seems that you left yourself without the advantages of the Domain Model.  And if all your logic in services, then you stupidly rob yourself. <br><br><blockquote>  <i>Thanks for attention.</i> <i><br><br></i>  <i>I do not pretend to invite, because I do not need it.</i>  <i>But if someone thinks that the material is worthy of an invite, just let us know in the comments, I will be pleased.</i> </blockquote></div><p>Source: <a href="https://habr.com/ru/post/224879/">https://habr.com/ru/post/224879/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../224865/index.html">Announced Xamarin 3</a></li>
<li><a href="../224867/index.html">Why did we choose Bitbucket for code review, not GitHub?</a></li>
<li><a href="../224869/index.html">The future of Ethernet & FC</a></li>
<li><a href="../224871/index.html">The electronic cigarette will count every puff</a></li>
<li><a href="../224875/index.html">Feature # 2 - Podcast on entrepreneurs and current trends in the IT ecosystem</a></li>
<li><a href="../224883/index.html">Kerio Control for Windows to Kerio Control Appliance Migration Guide</a></li>
<li><a href="../224889/index.html">Google maps clustering</a></li>
<li><a href="../224891/index.html">(May 25, Kiev) Fighters of the invisible front or the story of how to protect themselves from DDoS-attacks in a short time using Radware</a></li>
<li><a href="../224895/index.html">The main international standards and best practices for auditing information technology</a></li>
<li><a href="../224897/index.html">WebRTC or how I taught our CRM to call phones</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>