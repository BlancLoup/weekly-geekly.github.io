<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>NetApp SDS: ONTAP Select</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ONTAP Select is a logical evolution of the Data ONTAP-v line , i.e. Software Defined Storage. ONTAP software (an operating system or firmware in a tra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>NetApp SDS: ONTAP Select</h1><div class="post__text post__text-html js-mediator-article">  ONTAP Select is a logical evolution of the <a href="https://habrahabr.ru/post/279875/">Data ONTAP-v line</a> , i.e.  Software Defined Storage.  ONTAP software (an operating system or firmware in a traditional way, if you wish) can be used on a specialized FAS hardware platform or as a virtual machine: in public clouds or on a chest of drawers equipment. <br>  The last two options are called <a href="https://habrahabr.ru/post/279907/">ONTAP for Cloud</a> and ONTAP Select, respectively. <br><br>  Like the predecessor of ONTAP Select, this product, which lives in the form of a virtual machine and fully relies on the traditional RAID controller installed in your server.  NAS (CIFS, NFS) and IP SAN (iSCSI) protocols are supported and FCP is not supported.  In the documents NetApp can be found the internal name ONTAP Select - sDOT, this is the same thing. <br><br>  From the expected innovations: <br><ul><li>  High Avalability Support </li><li>  Clustering support up to 4 nodes </li><li>  Maximum useful capacity is 400 TB (100TB per node in 4 node cluster) </li></ul><br>  Along with High Availability and Clustering, single-anode configurations are still supported. <br><img src="https://habrastorage.org/files/078/a55/62b/078a5562b1074e56a8f73890281c8e94.png"><br><a name="habracut"></a><br><h4>  High availability </h4><br>  To provide the High Availability functionality, SyncMirror technology is used (the same as in MetroCluster) which works like RAID1: there are two plexes, one main and one backup.  From the main there is a reading and record, and in a reserve there is a synchronous replica.  If one of the two nodes in the HA configuration with the main plex dies, the second node uses the backup plex, the applications switch transparently and do not notice the loss of the node.  In the figure, each node has two data sets (two plexes): its own (main) and neighbor (backup). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  SnapMirror replication </h4><br>  ONTAP Select can act as a source, and as the recipient of replicas.  Based on <a href="http://blog.aboutnetapp.ru/archives/1260">SnapMirror,</a> you can build a <a href="https://habrahabr.ru/post/279911/">DR solution SVM</a> .  If ONTAP is used only as a file repository, then there is no need for replication to provide data consistency with third-party software.  If you use IP SAN or virtualization applications, databases and others, then backup software will be needed to ensure the consistency of the information. <br><br><h4>  <a href="https://habr.com/ru/post/303146/">Point-in-time consistency</a> </h4><a name="Point-in-time-consistency"></a><br>  The easiest way to take a consistent snapshot is to put out the application.  What is data consistency?  Consistency refers to backup requirements that guarantee data recovery at the time of backup.  This is if explained in a dry, completely technical language.  And if it is simple and understandable, then it is better explained and understood from the opposite: Imagine that you have a database that lives in a virtualization environment or on storage systems that can do snapshots and they are set up, so they are removed every day at 12 at night.  Can you recover to one of such snapshots if it is damaged?  The answer is ‚Äúmaybe yes or maybe not‚Äù, even ‚Äúno more than yes‚Äù.  Because by themselves snapshots without any interaction with the application to sculpt, regardless of whether the database transactions have completed and all the data from the memory were on the disk.  In other words, you need to somehow integrate and ‚Äúmake friends‚Äù of your snaps and your application, so that it flushes data from the cache to disk, completes all accumulated transactions, stops, followed by snapshot, and only at the end the application ‚Äúdied‚Äù.  And so that this happens unnoticed by users, snapshot must be removed instantly.  And only under this condition, you are guaranteed to be able to roll back to such an inappropriate one. <br><br><h4>  Virtualization and consistency </h4><br>  All modern hypervisors, with the help of agents installed inside virtual machines, can achieve consistency and continue to perform consistent snapshots, this is very convenient for small companies that have not very loaded virtual machines.  If you do not install the agent hypervisor, then the consistency will not. <br><br><h4>  Why are the hypervisor snapshots evil? </h4><br>  For the time being, the organization and the load on the virtual machines are not large, consistent snepshots of hypervisors and backup solutions built on this will be suitable for such companies.  But companies and workloads can grow, and here comes a turning point: <br>  Hyper-V snapshots or the same VMware are arranged, unfortunately in such a way that the more they exist, the more this snapshot becomes.  The more snapshots, the longer it will be removed.  The more it is removed, the more it loads the disk subsystem.  The longer it is removed, the greater the likelihood that the old snap will not have time to retire due to the increased additional load, and another new snap will be created for the new backup process.  The more snapshots, the greater the load on the disk subsystem. <br>  Both VMware and Microsoft openly say that the hypervisor snapshots are not recommended for use on highly loaded applications.  I personally observed two times in practice that the process of removing a snapshot (consolidation) led to the collapse of the system, in both cases this was due to the fact that the disk subsystem did not have time to cope with the additional load, the block device increased and increased due to excessive load the response time has not yet exceeded the timeout and the virtual machine, having not yet managed to consolidate, has gone offline with its subsequent damage.  Once even managed to restore it. <br>  In general, at a certain point, it becomes clear that snapshots of hypervisors are not suitable as a backup paradigm. <br><br><h4>  Napshots ONTAP </h4><br>  SNPS made on ONTAP do not affect the performance of the storage system at all.  This is the internal ONTAP architecture.  But the storage snapshots are the storage snapshots.  And so that they can interact with the hypervisor, you need to use some kind of specialized software solution for interaction.  Examples of such solutions are Veeam B &amp; R, vVOL technology and others.  It is important to separately note the decision of the company NetApp SnapCreator, which is able to provide this bundle, since ONTAP Select is designed for not large organizations, but SnapCreator is a free product. <br><br><h4>  SnapCreator </h4><br>  This is a free web-based framework for managing and integrating with ONTAP and various applications, including Hyper-V, VMware and KVM hypervisors.  Due to its modularity, the framework can be integrated with many other software products with the help of plug-ins, and if necessary expanded with the help of scripts.  Learn more about SnapCreator <a href="http://blog.aboutnetapp.ru/archives/tag/snapcreator">here</a> and <a href="http://community.netapp.com/t5/Backup-and-Restore-Articles-and-Resources/What-is-Snap-Creator/ta-p/85555">here</a> . <br><iframe width="560" height="315" src="https://www.youtube.com/embed/BjonS8OizWw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><h4>  Supported ONTAP Select Configurations </h4><br>  Hypervisors <br><ul><li>  VMware vSphere 5.X or 6.X, Enterprise or Enterprise Plus </li><li>  KVM hypervisor </li></ul><br>  Equipment: <br><ul><li>  Intel Haswell CPU (Xeon E5 v3) </li><li>  ONTAP Select virtual machine: 4 virtual </li><li>  CPUs / 16GB memory </li><li>  Storage: </li><li>  SAS, NL-SAS disk support </li><li>  Hardware RAID controller with writeback cache </li><li>  Network: minimum 2 x 10GbE ports </li></ul><br><br>  Licensing <br>  Lossy byte.  The maximum size is 400TB. <br>  ONTAP Select includes licenses: CIFS, NFS, iSCSI, FlexClone, SnapRestore, SnapVault, SnapMirror, Virtual Storage Console. <br>  The SnapCenter license is not included and is purchased for each individual host. <br><br>  <a href="https://habr.com/ru/post/303146/">Distinctive features</a> <a name="advantages"></a><br>  The following is included in the basic delivery when buying ONTAP Select, in addition, this functionality does not need to be bought: <br><ul><li>  SAN (iSCSI) &amp; NAS Support (CIFS &amp; NFS) </li><li>  CIFS (SMB) is supported both in integration with AD and using Workgroup </li><li>  High availability </li><li>  Clustering with the possibility of online migration of SAN / NAS data across the cluster nodes </li><li>  Snapshots and clones that do not affect storage performance - FlexClone and SnapRestore licenses come as standard </li><li>  QoS - at the file level, moon, volyum </li><li>  MS ODX &amp; Copy Offload (SAN / NAS), SMB 3.1 </li><li>  NFS 4.X, pNFS </li><li>  NDMP with 0x2050 extension support </li><li>  Thing provisioning, SCSI-3 UNMAP (Space Reclamation) </li><li>  resource exhaustion reporting - host notification of the end of space in a thin moon </li><li>  Compression </li><li>  Deduplication </li><li>  Storage Virtual Machine (Multi Tenancy) - Ability to create dedicated ‚Äúvirtual‚Äù cluster-based storage systems that can work independently of each other and be managed by various administrators, departments or even companies </li><li>  Integration with advanced backup software </li><li>  Support vVol (NFS / iSCSI), VASA, VAAI (NFS / iSCSI) </li><li>  Ability to create Disastar Recovery solutions on multiple sites </li><li>  Support for fine data replication to remote ONTAP (no matter FAS, ONTAP Select or ONTAP for Cloud) - SnapMirror and SnapVault licenses come as standard </li><li>  Free SnapCreator - software integration snaps with applications (database, virtualization, etc.) </li><li>  Free OnCommand Unified Manager &amp; Performance Manager - software for monitoring performance, security and fullness of storage </li></ul><br><br><h4>  findings </h4><br>  SDS ONTAP is well suited for medium and small companies, and branch companies, where it may be necessary to replicate data to other ONTAPs.  The product allows clustering for online migration of your data across cluster nodes, has rich functionality and wide integration with a variety of applications and allows you to build high-level storage using a server comoditi.  Backup products that integrate ONTAP with KVM and ESXi virtual environments will be in great demand in such schemes as they allow to improve the backup process qualitatively.  So <a href="https://habrahabr.ru/post/279891/">Veeam Backup &amp; Replication</a> and free SnapCreator allow you to perform consistent backups in conjunction with hypervisors and know how to manage SnapMirror replication, which makes these and other similar products, the best tandem in such an infrastructure.  The <a href="https://habrahabr.ru/post/279911/">SnapMirror for SVM</a> technology will help build a DR solution based on ONTAP.  Separately, it is worth highlighting <a href="https://habrahabr.ru/post/279945/">VMware vVOL</a> technology, which natively provides consistent snapshots on ONTAP because of which it will also be very interesting for such installations. <br><br>  <b>This may contain links to Habra articles that will be published later</b> . <br>  <b>I ask to send messages on errors in the text to the <abbr title="Private message">LAN</abbr></b> . <br>  <b>Comments, additions and questions on the article on the contrary, please in the comments</b> . </div><p>Source: <a href="https://habr.com/ru/post/303146/">https://habr.com/ru/post/303146/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../303136/index.html">The digest of fresh materials from the world of the frontend for the last week No. 215 (June 6 - 12, 2016)</a></li>
<li><a href="../303138/index.html">What makes us go to work every morning?</a></li>
<li><a href="../303140/index.html">Matrix procrastination (postponing cases "for later")</a></li>
<li><a href="../303142/index.html">OpenGL ES 2.0. One million particles</a></li>
<li><a href="../303144/index.html">CD Changer Control Protocol</a></li>
<li><a href="../303150/index.html">We automate the purchase of railway tickets Ukrzal—ñznits—ñ</a></li>
<li><a href="../303156/index.html">Delayed Durability or a story about how to speed up the execution of autotests from 11 to 2.5 minutes</a></li>
<li><a href="../303158/index.html">The digest of interesting materials for the mobile # 157 developer (June 6-13)</a></li>
<li><a href="../303160/index.html">10 rules that allow NASA to write millions of lines of code with minimal errors</a></li>
<li><a href="../303162/index.html">On the implementation of persistent processes in real-time control systems (part 1)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>