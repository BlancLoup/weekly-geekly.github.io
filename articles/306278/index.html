<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A library that facilitates the development of forms on sites (v3)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! 


 Once, a year ago, I wrote about my small library, which facilitates the development of forms on sites. Recently I released the 3rd versi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A library that facilitates the development of forms on sites (v3)</h1><div class="post__text post__text-html js-mediator-article"><p>  Hi, Habr! </p><br><p>  <a href="https://habrahabr.ru/post/261347/">Once, a year ago,</a> I wrote about my small library, which facilitates the development of forms on sites.  Recently I released the 3rd version, which, in fact, was rewritten from scratch to become more correct and more convenient.  But in my article I will not repeat the <a href="">README</a> and <a href="http://paulzi.ru/paulzi-form/">DEMO</a> , but rather I will show in practice how it helps to write less code. </p><br><a name="habracut"></a><br><p>  But before that, I would like to give some information about the new version.  In it, I got rid of the <a href="http://malsup.com/jquery/form/">malsup jquery.form dependency</a> to send files, and I divided one large repository into several small independent repositories, while retaining, at the same time, the general all-in-one assembly: </p><br><ul><li>  support for additional form events ( <a href="http://github.com/paulzi/form-extra-events">form-extra-events</a> ); </li><li>  HTML5 form- <a href="http://github.com/paulzi/form-association-polyfill">association-polyfill</a> ; </li><li>  support for sending files via iframe for older browsers ( <a href="http://github.com/paulzi/jquery-iframe-ajax">jquery-iframe-ajax</a> ); </li><li>  and, actually, the library itself ( <a href="https://github.com/paulzi/paulzi-form">paulzi-form</a> ). </li></ul><br><p><br clear="all"></p><h4>  Additional Form Events </h4><br>  In the second version of the library I was faced with the problem of the need to comply with a certain order of connecting scripts.  For example, previously it was impossible to include this script in front of the standard Yii2 validation script, the fact is that all the scripts that somehow have to process the submission are hung on the submit event, and in particular there is no guarantee that this event is not someone interrupts by calling <code>preventDefault()</code> .  Therefore, in the case of an incorrect connection order, the form was first blocked and then validated, and if there were validation errors, the form could not be resubmitted.  form-extra-events solves this problem; it provides several new types of form events, one of which ensures that the form is sent and this process cannot be interrupted.  In addition, events start and end of form submission are generated, which is used in all other features of the library. <p></p><br><p><br clear="all"></p><h4>  Prototype site </h4><br><img src="https://habrastorage.org/files/7c1/fdb/003/7c1fdb0039e0437b95a07e0733a352d6.png" align="right">  To demonstrate the utility of the library, I sketched a prototype of a typical online store on Bootstrap: <br>  <a href="http://paulzi.ru/paulzi-form-site/">http://paulzi.ru/paulzi-form-site/</a> <p></p><br><p>  From scripts we use only jQuery, bootstrap and paulzi-form.all.js.  In this prototype, we do not use a single line of JS-code written specifically for the prototype site. </p><br><p><br clear="all"></p><h4>  Html5 form attributes </h4><br><img src="https://habrastorage.org/files/a6e/e08/674/a6ee0867490b46b688b0239ce9a13ac6.png" align="right">  What can HTML5 form attributes do for you?  For example, in the <a href="http://paulzi.ru/paulzi-form-site/cart.html">basket</a> it is assumed several actions on selected items - add to favorites, send to Email, download.  Of course, it would be possible to make a single action, and pass in the parameters what exactly needs to be done.  But this is ugly, because it spawns the use of <code>switch($action)</code> , instead of directing it to a specific action (for example, in Yii2).  And if you open a modal window, you will see that the submit button had to be made outside the form itself, however it continues to function, since the <code>form</code> attribute was specified to it.  And most importantly, these attributes greatly help out in situations when you need to make a small form in a large form, which the HTML standard forbids. <p></p><br><p><br clear="all"></p><h4>  Do not send empty fields </h4><br><img src="https://habrastorage.org/files/b92/85d/328/b9285d32811a4bc39f1dfb4047c48d61.png" align="right">  Now, pay attention to the filter in the <a href="http://paulzi.ru/paulzi-form-site/">catalog</a> .  If you tick "Intel Core i5" and send this form, then even if other fields are not filled, we still get a long sheet from the parameters after the transition: <p></p><br><p> <code>?proce_from=&amp;proce_to=&amp;tdp_from=&amp;tdp_from=&amp;line[]=i5</code> </p> <br><p>  Using the library, if you add the <code>data-submit-empty="false"</code> attribute to the form <code>data-submit-empty="false"</code> empty fields will not be sent, and the result will be a more comprehensible URL: </p><br><p> <code>?line[]=i5</code> </p> <br><p><br clear="all"></p><h4>  Block re-send </h4><br><img src="https://habrastorage.org/files/ae3/498/01b/ae349801b75148089c2993c0e2ddd1a0.png" align="right">  Consider a callback order form.  If you double-click the form submit button, the form will be sent to you twice, and you will receive two letters.  This is wrong, so the default script blocks the ability to resubmit the form until the request is completed.  An example of correct work can be seen in the form "Contact us".  This behavior is regulated by setting the attribute <code>data-lock="false"</code> <p></p><br><p><br clear="all"></p><h4>  Dispatch Status Indication </h4><br><img src="https://habrastorage.org/files/124/24b/387/12424b38793b45f9a90f797cdc3e70d0.png" align="right">  Sometimes, the process of submitting a form can take a long time (sending a file, processor-intensive handler, slow Internet), and if it doesn‚Äôt show that the form is being sent, the user will sooner or later think that he didn‚Äôt press the button, or something hung, and press the button again.  An example of such a form is the ‚ÄúWrite to us‚Äù form.  The library provides several options, in the prototype I used the <code>data-loading-text</code> and <code>data-loading-icon</code> attributes, which change the text of the button and add an icon.  Also, <code>form-loading</code> and <code>btn-loading</code> classes are added to the form and button, this allows you to zastilizovat state through CSS. <p></p><br><p><br clear="all"></p><h4>  AJAX form submission </h4><br>  And most importantly, it is the ability to send the form via AJAX.  Indeed, in our prototype there are two forms in modal windows, it is logical when clicking on the submit button not to perform transitions between pages, but simply to close the modal window and display a message of success.  And everything is very easy here - we add the <code>data-via="ajax"</code> attribute, and voila, the form is sent via AJAX.  And not only that, those who have ever been involved in transferring files via AJAX know that this is not so easy, because support for sending files appeared only from XMLHttpRequrest 2. For this, third-party libraries are often included, which often require writing to the server parts of special handlers, store files in a temporary folder, and then when sending the form in a separate request, take them from there.  In our case, there is practically no need to think about it - everything goes as if the form was sent in the standard way.  If necessary, you can easily display the percentage of data sent by hooking to the <code>uploadprogress</code> event. <p></p><br><p><br clear="all"></p><h4>  Handling AJAX Responses </h4><br><img src="https://habrastorage.org/files/98d/735/9c0/98d7359c08c44e76b4719f2a4e88bcd6.png" align="right">  Let's look at an example more difficult - the add to cart button on the <a href="http://paulzi.ru/paulzi-form-site/">catalog</a> page.  When you click on it, you need not just execute the query and display a message - you need to update a short list of the contents of the basket when hovering and update the counter of the amount of goods in it.  This moment is also taken into account, and I tried to make the most flexible handler for AJAX-responses.  Consider the answer that comes when you click on the "Add to cart" in the prototype: <p></p><br><div class="spoiler">  <b class="spoiler_title">response to a request</b> <div class="spoiler_text"><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"badge"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-insert-context</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"document"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-insert-to</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">".cart-block .badge"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-insert-mode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"replaceWith"</span></span></span><span class="hljs-tag">&gt;</span></span>43<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"alert alert-success alert-dismissible"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">role</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"alert"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-insert-context</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"document"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-insert-to</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">".alert-fixed"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"close"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-dismiss</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"alert"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">aria-hidden</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span>&amp;times;<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span>    ! <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cart-block-hover"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-insert-context</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"document"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-insert-to</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">".cart-block-hover"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-insert-mode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"replaceWith"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"row"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"col-xs-6 text-left"</span></span></span><span class="hljs-tag">&gt;</span></span>AMD K6<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"col-xs-6"</span></span></span><span class="hljs-tag">&gt;</span></span>10 .<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"row"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"col-xs-6 text-left"</span></span></span><span class="hljs-tag">&gt;</span></span>Intel Celeron<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"col-xs-6"</span></span></span><span class="hljs-tag">&gt;</span></span>12 .<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"row"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"col-xs-6 text-left"</span></span></span><span class="hljs-tag">&gt;</span></span>Intel Core i7<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"col-xs-6"</span></span></span><span class="hljs-tag">&gt;</span></span>1 .<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"row cart-block-total"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"col-xs-6 text-left"</span></span></span><span class="hljs-tag">&gt;</span></span>:<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"col-xs-6"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"price"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>117 000<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> ‚ÇΩ<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><br><p>  As you can see, the response consists of three html elements with <code>data-insert-to</code> , <code>data-insert-context</code> , <code>data-insert-mode</code> attributes.  These attributes define how and where to insert each element, for example, for the first <code>span.badge</code> <code>data-insert-context="document" data-insert-to=".cart-block .badge" data-insert-mode="replaceWith"</code> means that this element needs to replace the element <code>.cart-block .badge</code> and the search zone with this selector - the whole document.  All this allows you to carry out the above steps without a single line of code. </p><br><p><br clear="all"></p><h4>  Scenarios </h4><br><img src="https://habrastorage.org/files/a6e/e08/674/a6ee0867490b46b688b0239ce9a13ac6.png" align="right">  Let's return to <a href="http://paulzi.ru/paulzi-form-site/cart.html">the cart page</a> .  As already discussed above, there are several buttons for it that imply different actions.  For example, when you click on "arrange" it is logical to send the form with a standard mechanism, then redirect to the page with information about the order.  But when you click on "Add to favorites", on the contrary, it is better not to leave the page, but simply send the form via AJAX and display a message about success or error.  For this, scenarios are implemented - for any button, you can specify a <code>data-via</code> attribute that indicates how to send the form when you click on it. <p></p><br><p><br clear="all"></p><h4>  Settings </h4><br>  If you do not like something, or there are any conflicts, you can change a lot in the library through <a href="https://github.com/paulzi/paulzi-form">settings</a> .  For example, do you need to block re-sending all forms by default.  All attribute names can also be changed. <p></p><br><p><br clear="all"></p><h4>  Conclusion </h4><br>  As a result, by connecting a 10 kb library, you get the most important thing - you need to write less code for various small forms (or even not to write at all), and in the appendix you get some nice features, such as additional form events, iframe transport, AJAX -sending files, etc. <p></p><br><p>  <a href="https://github.com/paulzi/paulzi-form">Go to the project page in Github ¬ª</a> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/306278/">https://habr.com/ru/post/306278/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../306258/index.html">Using custom functions in OSSIM parsers</a></li>
<li><a href="../306260/index.html">On the role of DevOps in IT - expert opinions</a></li>
<li><a href="../306266/index.html">RuHaxe 5 Online Conference</a></li>
<li><a href="../306272/index.html">Monitoring projects using the messenger on the example of Nagios and Telegram, with the analysis of fakapov from the life of Highload 24x7</a></li>
<li><a href="../306276/index.html">Simple Dependency Injection in Node.js</a></li>
<li><a href="../306280/index.html">Oracle, bypassing mutable tables</a></li>
<li><a href="../306282/index.html">View video "side"</a></li>
<li><a href="../306286/index.html">Corporate culture: How are employees of western (and not only) IT companies living?</a></li>
<li><a href="../306288/index.html">3CX Phone System v15 System Development Plans</a></li>
<li><a href="../306290/index.html">Bitcoin business in Panama (interview)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>