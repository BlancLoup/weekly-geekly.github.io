<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PostfixAdmin revamped (ViMbAdmin)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ViMbAdmin 

 The ViMbAdmin project ( vim / -be / -admin / ) provides a web-based administration interface for virtual 
 mailboxes, allowing mail admin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PostfixAdmin revamped (ViMbAdmin)</h1><div class="post__text post__text-html js-mediator-article"><h4>  ViMbAdmin </h4><br><br>  <strong>The ViMbAdmin</strong> project ( <em>vim / -be / -admin /</em> ) provides a web-based administration interface for virtual <br>  mailboxes, allowing mail administrators to easily manage domains, and aliases. <br>  ViMbAdmin is free software, you can redistribute it or modify it in accordance with the terms of the GNU General Public License version 3. <br><br>  ViMbAdmin was written in PHP using our own web application framework, which includes the Zend Framework, ORM Doctrina and the Smarty template system with jQuery and Bootstrap. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ViMbAdmin is placed on a separate page of the GitHub project, where you can find documentation, <br>  view source code.  <a href="https://github.com/opensolutions/ViMbAdmin" title="Github">Github</a> <br><br>  <b>UPDATE:</b> <br><pre><code class="bash hljs">yum install dovecot-mysql</code> </pre> <br><a name="habracut"></a><br><br><h4>  ViMbAdmin Demonstration System: </h4><br>  <a href="http://www.opensolutions.ie/vimbadmin/auth/login">www.opensolutions.ie/vimbadmin/auth/login</a> <br>  ======================================= <br><br><h3>  Standard and advanced features from PostfixAdmin include: </h3><br>  - Super administrator with full access; <br>  - Administrators having access only to the established domain and their mailboxes and aliases; <br>  - Super administrators can create and modify super administrators and administrators; <br>  - jQuery Datatable for quick search in the browser and page numbering; <br>  - Create, modify and delete; <br>  - Enable / disable administrators, domains, mailboxes and aliases at the touch of a button; <br>  - Full event logging; <br>  - Interface for users (mailbox owners) to change their password; <br><br><h3>  Additional features include: </h3><br>  - default values ‚Äã‚Äãfor quotas, number of mailboxes and aliases for creating a domain; <br>  - added additional columns to the mailbox scheme (including UID, GID, home directory and Maildir); <br>  - templates of greetings and settings for users; <br>  - Support for choosing plain or hashed or salted mailbox password; <br>  - Administrator password tables with salted SHA; <br>  - Password Reset features for administrators and mailboxes; <br><br><img src="https://habrastorage.org/getpro/habr/post_images/be9/534/c9a/be9534c9a69a8942355ef2d964a36c29.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/8e4/269/993/8e4269993ff4ea4f02eb87cf9aed4286.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/2c1/957/00a/2c195700a6503cd211878d4ac3ff5d7f.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/f9d/1fd/cb7/f9d1fdcb783093ed14907df2ef6ee827.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/ee7/03f/2c6/ee703f2c684b81d1f8e84225720f0987.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/49e/a56/475/49ea564759e64d6f9d6ded603afc99ce.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/828/650/baa/828650baad3c45e09b54596d871485ff.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/7fa/a0a/60c/7faa0a60c816dc40d056c8cce0e40b29.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/52c/b16/130/52cb1613088c503b34c849cebcac3203.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/01f/22e/52b/01f22e52b2e6542d4f1187b0dfe8818d.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/917/663/040/9176630408da2c3ac9a82d5e2aa06e36.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/85e/db7/f51/85edb7f51664b2e0559906abc27c4e94.png"><br><br><h3>  ViMbAdmin installation instructions </h3><br>  <a href="https://github.com/opensolutions/ViMbAdmin/wiki/Installation-instructions">github.com/opensolutions/ViMbAdmin/wiki/Installation-instructions</a> <br><br><h3>  Install and configure Postfix + Dovecot: </h3><br>  Install the CentALT + EPEL repository: <br><pre> <code class="bash hljs">rpm -Uhv http://centos.alt.ru/pub/repository/centos/6/x86_64/centalt-release-6-1.noarch.rpm rpm -Uhv http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm</code> </pre><br><br>  Install mail programs: <br><pre> <code class="bash hljs">yum install postfix dovecot dovecot-pigeonhole</code> </pre><br><br>  Create a user and group that will be responsible for mailboxes: <br><pre> <code class="bash hljs">groupadd -g 5000 vmail useradd -g vmail -u 5000 vmail -d /home/vmail -m</code> </pre><br><br>  Create a directory where MySQL connection settings will be stored: <br><blockquote><pre> <code class="bash hljs">mkdir /etc/postfix/mysql touch /etc/postfix/mysql/virtual-alias-maps.cf</code> </pre><br><pre> <code class="bash hljs">user = vimbadmin password = password hosts = 127.0.0.1 dbname = vimbadmin query = SELECT goto FROM <span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> WHERE address = <span class="hljs-string"><span class="hljs-string">'%s'</span></span> AND active = <span class="hljs-string"><span class="hljs-string">'1'</span></span></code> </pre></blockquote><br><br><blockquote><pre> <code class="bash hljs">touch /etc/postfix/mysql/virtual-mailbox-domains.cf</code> </pre><br><pre> <code class="bash hljs">user = vimbadmin password = password hosts = 127.0.0.1 dbname = vimbadmin query = SELECT domain FROM domain WHERE domain = <span class="hljs-string"><span class="hljs-string">'%s'</span></span> AND backupmx = <span class="hljs-string"><span class="hljs-string">'0'</span></span> AND active = <span class="hljs-string"><span class="hljs-string">'1'</span></span></code> </pre></blockquote><br><br><blockquote><pre> <code class="bash hljs">touch /etc/postfix/mysql/virtual-mailbox-maps.cf</code> </pre><br><pre> <code class="bash hljs">user = vimbadmin password = password hosts = 127.0.0.1 dbname = vimbadmin query = SELECT maildir FROM mailbox WHERE username = <span class="hljs-string"><span class="hljs-string">'%s'</span></span> AND active = <span class="hljs-string"><span class="hljs-string">'1'</span></span></code> </pre></blockquote><br><br>  Start editing /etc/dovecot/dovecot.conf: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># 2.0.21: /etc/dovecot/dovecot.conf auth_mechanisms = plain login disable_plaintext_auth = no log_timestamp = "%Y-%m-%d %H:%M:%S " mail_location = maildir:/home/vmail/%d/%n mail_privileged_group = mail managesieve_notify_capability = mailto managesieve_sieve_capability = fileinto reject envelope encoded-character vacation subaddress comparator-i;ascii-numeric relational regex imap4flags copy include variables body enotify environment mailbox date ihave namespace { inbox = yes location = prefix = type = private } passdb { driver = pam } passdb { args = /etc/dovecot/dovecot-sql.conf driver = sql } protocols = imap pop3 service auth { unix_listener /var/spool/postfix/private/auth { group = postfix mode = 0660 user = postfix } unix_listener auth-master { mode = 0600 user = vmail } user = root } userdb { driver = passwd } userdb { args = uid=5000 gid=5000 home=/home/vmail/%d/%n allow_all_users=yes driver = static } protocol pop3 { pop3_uidl_format = %08Xu%08Xv } protocol lda { auth_socket_path = /var/run/dovecot/auth-master log_path = /home/vmail/dovecot-deliver.log postmaster_address = postmaster@myserver.com }</span></span></code> </pre><br><br>  Also edit /etc/dovecot/dovecot-sql.conf: <br><pre> <code class="bash hljs">driver = mysql connect = host=127.0.0.1 dbname=vimbadmin user=vimbadmin password=password default_pass_scheme = PLAIN-MD5 password_query = SELECT username as user, password FROM mailbox WHERE username = <span class="hljs-string"><span class="hljs-string">'%u'</span></span></code> </pre><br><br>  Go to Postfix setup. <br>  /etc/postfix/main.cf <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#      additional_config_dir = /etc/postfix/config # ,        SMTP smtpd_banner = $myhostname ESMTP Xbox #   biff ,  #   ,    . biff = no # Appending .domain is the MUA's job. append_dot_mydomain = no #  readme_directory = /usr/share/doc/postfix # TLS parameters #     smtpd_tls_cert_file = /etc/ssl/certs/postfix.pem #     smtpd_tls_key_file = /etc/ssl/private/postfix.pem #       TLS smtpd_use_tls = yes smtpd_tls_session_cache_database = btree:${data_directory}/smtpd_scache smtp_tls_session_cache_database = btree:${data_directory}/smtp_scache #     (FQDN) myhostname = mail.server.com #  ,      ,   #     mydestination = $myhostname, localhost, localhost.$mydomain, $myhostname.$mydomain #   mynetworks = 127.0.0.0/8 alias_maps = hash:/etc/aliases alias_database = hash:/etc/aliases myorigin = /etc/mailname mailbox_command = procmail -a "$EXTENSION" #     .  0 -  mailbox_size_limit = 0 #  ,     Postfix inet_interfaces = all #   html html_directory = /usr/share/doc/postfix/html # ,   SMTP      SMTP  #    HELO  EHLO smtpd_helo_required = yes #   EHLO  SMTP  smtp_always_send_ehlo = yes #  SMTP  VRFY.   ,   #   .   (  VRFY) #        disable_vrfy_command = yes #     ,  Microsoft Outlook Express 4 #  Microsoft Exchange 5,     AUTH broken_sasl_auth_clients = yes #     virtual_mailbox_domains = mysql:/etc/postfix/mysql/virtual-mailbox-domains.cf #     virtual_mailbox_maps = mysql:/etc/postfix/mysql/virtual-mailbox-maps.cf #   virtual_alias_maps = mysql:/etc/postfix/mysql/virtual-alias-maps.cf #  UID-   virtual_uid_maps = static:5000 #  GID-   virtual_gid_maps = static:5000 virtual_transport = dovecot #  sasl  smtpd_sasl_auth_enable = yes #  sasl  smtpd_sasl_type = dovecot smtpd_sasl_path = private/auth dovecot_destination_recipient_limit = 1 #  smtpd_restriction_classes = verify_sender, rbl_cbl_abuseat_org, rbl_sbl_spamhaus_org, rbl_dul_ru, rbl_spamcop, white_client_ip, black_client_ip, block_dsl, helo_access, white_client, black_client, mx_access #  : verify_sender = reject_unverified_sender, permit rbl_cbl_abuseat_org = reject_rbl_client cbl.abuseat.org rbl_dul_ru = reject_rbl_client dul.ru rbl_sbl_spamhaus_org = reject_rbl_client sbl.spamhaus.org rbl_spamcop = reject_rbl_client bl.spamcop.net # IP ,   ,      white_client_ip = check_client_access pcre:$additional_config_dir/white_client_ip # IP ,         black_client_ip = check_client_access pcre:$additional_config_dir/black_client_ip # E-mail,         white_client = check_sender_access pcre:$additional_config_dir/white_client # E-mail,         black_client = check_sender_access pcre:$additional_config_dir/black_client #    dsl/ ,    . block_dsl = regexp:$additional_config_dir/block_dsl #   RFC 2821 helo_access = check_helo_access pcre:$additional_config_dir/helo_checks #    ,        #       IP  MX  mx_access = check_sender_mx_access cidr:$additional_config_dir/mx_access #  restrictions #    (   ), #     postfix    smtpd_client_restrictions = white_client_ip, black_client_ip, white_client, black_client, helo_access, block_dsl, rbl_dul_ru, rbl_sbl_spamhaus_org, rbl_spamcop, rbl_cbl_abuseat_org #       permit_mynetworks, #      permit_sasl_authenticated, #     mynetworks  # reject_unauth_destination.   , #         #    ,     reject_unauth_destination, #  ,     SMTP #  ,   ,   Postfix  #   ESMTP reject_unauth_pipelining, #     from,   #   A/MX  reject_unknown_address, #      reject_unknown_recipient_domain, #      A  MX  DNS. #  ,   reject_unknown_sender_domain #        smtpd_sender_restrictions = white_client, white_client_ip, black_client_ip, #       reject_unknown_recipient_domain, reject_unknown_sender_domain, #      FQDN   reject_non_fqdn_recipient, #      FQDN -  reject_non_fqdn_sender, permit_sasl_authenticated, permit_mynetworks, mx_access, #       reject_unlisted_sender, reject_unauth_destination #      smtpd_recipient_restrictions = verify_sender white_client, helo_access, reject_unknown_recipient_domain, reject_unknown_sender_domain, reject_non_fqdn_recipient, reject_non_fqdn_sender, reject_unauth_pipelining, permit_sasl_authenticated, permit_mynetworks, reject_unlisted_recipient, reject_unknown_address, reject_unauth_destination, #         # ,    reject_multi_recipient_bounce smtpd_data_restrictions = reject_unauth_pipelining, reject_multi_recipient_bounce, permit #  ,      5xx smtp_skip_5xx_greeting = no smtpd_reject_unlisted_sender = yes #       smtpd_reject_unlisted_recipient = yes</span></span></code> </pre><br><br>  Now at the end of the /etc/postfix/master.cf file we add: <br><pre> <code class="bash hljs">dovecot unix - nn - - pipe flags=DRhu user=vmail:vmail argv=/usr/lib/dovecot/deliver -d <span class="hljs-variable"><span class="hljs-variable">${recipient}</span></span></code> </pre><br><br>  Mail Filters: <br><pre> <code class="bash hljs">mkdir /etc/postfix/config touch /etc/postfix/config/black_client touch /etc/postfix/config/black_client_ip touch /etc/postfix/config/block_dsl touch /etc/postfix/config/helo_checks touch /etc/postfix/config/mx_access touch /etc/postfix/config/white_client touch /etc/postfix/config/white_client_ip</code> </pre><br><br>  Edit / etc / postfix / config / black_client: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># # #  reject' #      mail.ru #/^.*\@mail\.ru$/ REJECT Your e-mail was banned!</span></span></code> </pre><br><br>  Edit / etc / postfix / config / black_client_ip: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># # #  reject' #  IP (   123.45.67.89) #/123\.45\.67\.89/ REJECT Your IP was banned! #   (   123.45.0-255.0-255) #/123\.45/ REJECT Your IP-range was banned! #   (   xyz.ua) #/xyz\.ua/ REJECT Your Domain was banned! #   (   cc.zxc.ua) #cc\.zxc\.ua/ REJECT Your Domain was banned!</span></span></code> </pre><br><br>  Edit / etc / postfix / config / block_dsl: <br><pre> <code class="bash hljs">/^dsl.*\..*/i 553 AUTO_DSL We aren<span class="hljs-string"><span class="hljs-string">'t accept direct connection not from dedicated SMTP servers. Please use your internet provider SMTP Server. /.*\.dsl\..*/i 553 AUTO_DSL2 We aren'</span></span>t accept direct connection not from dedicated SMTP servers. Please use your internet provider SMTP Server. /[a|x]dsl.*\..*\..*/i 553 AUTO_[A|X]DSL We aren<span class="hljs-string"><span class="hljs-string">'t accept direct connection not from dedicated SMTP servers. Please use your internet provider SMTP Server. /client.*\..*\..*/i 553 AUTO_CLIENT We aren'</span></span>t accept direct connection not from dedicated SMTP servers. Please use your internet provider SMTP Server. /cable.*\..*\..*/i 553 AUTO_CABLE We aren<span class="hljs-string"><span class="hljs-string">'t accept direct connection not from dedicated SMTP servers. Please use your internet provider SMTP Server. /pool\..*/i 553 AUTO_POOL We aren'</span></span>t accept direct connection not from dedicated SMTP servers. Please use your internet provider SMTP Server. /.*dial(\.|-).*\..*\..*/i 553 AUTO_DIAL We aren<span class="hljs-string"><span class="hljs-string">'t accept direct connection not from dedicated SMTP servers. Please use your internet provider SMTP Server. /ppp.*\..*/i 553 AUTO_PPP We aren'</span></span>t accept direct connection not from dedicated SMTP servers. Please use your internet provider SMTP Server. /dslam.*\..*\..*/i 553 AUTO_DSLAM We aren<span class="hljs-string"><span class="hljs-string">'t accept direct connection not from dedicated SMTP servers. Please use your internet provider SMTP Server. /dslb.*\..*\..*/i 553 AUTO_DSLB We aren'</span></span>t accept direct connection not from dedicated SMTP servers. Please use your internet provider SMTP Server. /node.*\..*\..*/i 553 AUTO_NODE We aren<span class="hljs-string"><span class="hljs-string">'t accept direct connection not from dedicated SMTP servers. Please use your internet provider SMTP Server. /.*\.dynamicIP\..*/i 553 AUTO_DYNAMIC We aren'</span></span>t accept direct connection not from dedicated SMTP servers. Please use your internet provider SMTP Server. /[ax]dsl.*\..*\..*/i REJECT Your message looks like SPAM 01 /\.dsl.*\..*\..*/i REJECT Your message looks like SPAM 02 /cable.*\..*\..*/i REJECT Your message looks like SPAM 03 /client.*\..*\..*/i REJECT Your message looks like SPAM 04 /dhcp.*\..*\..*/i REJECT Your message looks like SPAM 05 /dial.*\..*\..*/i REJECT Your message looks like SPAM 06 /dialup.*\..*\..*/i REJECT Your message looks like SPAM 07 /dslam.*\..*\..*/i REJECT Your message looks like SPAM 08 /node.*\..*\..*/i REJECT Your message looks like SPAM 09 /pool.*\..*\..*/i REJECT Your message looks like SPAM 10 /ppp.*\..*\..*/i REJECT Your message looks like SPAM 11 /user.*\..*\..*/i REJECT Your message looks like SPAM 12 /[0-9]+-[0-9]+/ REJECT Invalid hostname (DD) (dsl) /(modem|dia(l|lup)|cp[ce]|dsl|p[cp]p|cable|catv|poo(l|les)|pppoe|dhcp|client|customer|user|host|[0-9]{4,})(-|_|\.|[0-9])/ REJECT Invalid hostname (client)</code> </pre><br><br>  Edit / etc / postfix / config / helo_checks: <br><pre> <code class="bash hljs">/^\[?10\.\d{1,3}\.\d{1,3}\.\d{1,3}\]?$/ REJECT Address <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> RFC 1918 private network /^\[?192\.\d{1,3}\.\d{1,3}\.\d{1,3}\]?$/ REJECT Address <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> RFC 1918 private network /^\[?172\.\d{1,3}\.\d{1,3}\.\d{1,3}\]?$/ REJECT Address <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> RFC 1918 private network /\d{2,}[-\.]+\d{2,}/ REJECT Invalid hostname (DD) /^(((newm|em|gm|m)ail|yandex|rambler|hotbox|chat|rbc|subscribe|spbnit)\.ru)$/ REJECT Faked hostname (<span class="hljs-variable"><span class="hljs-variable">$1</span></span>) /^(((hotmail|mcim|newm|em)ail|post|hotbox|msn|microsoft|aol|news|compuserve|yahoo|google|earthlink|netscape)\.(com|net))$/ REJECT Faked hostname (<span class="hljs-variable"><span class="hljs-variable">$1</span></span>) /[^[] *[0-9]+((\.|-|_)[0-9]+){3}/ REJECT Invalid hostname (ipable) /(modem|dia(l|lup)|cp[ce]|dsl|p[cp]p|cable|catv|poo(l|les)|pppoe|dhcp|client|customer|user|host|[0-9]{4,})(-|_|\.|[0-9])/ REJECT Invalid hostname (client)</code> </pre><br><br>  Editing / etc / postfix / config / mx_access <br><pre> <code class="bash hljs">127.0.0.1 DUNNO 127.0.0.2 550 Domains not registered properly 0.0.0.0/8 REJECT Domain MX <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> broadcast network 10.0.0.0/8 REJECT Domain MX <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> RFC 1918 private network 127.0.0.0/8 REJECT Domain MX <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> loopback network 169.254.0.0/16 REJECT Domain MX <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> link <span class="hljs-built_in"><span class="hljs-built_in">local</span></span> network 172.16.0.0/12 REJECT Domain MX <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> RFC 1918 private network 192.0.2.0/24 REJECT Domain MX <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> TEST-NET network 192.168.0.0/16 REJECT Domain MX <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> RFC 1918 private network 224.0.0.0/4 REJECT Domain MX <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> class D multicast network 240.0.0.0/5 REJECT Domain MX <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> class E reserved network 248.0.0.0/5 REJECT Domain MX <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> reserved network</code> </pre><br><br>  Edit / etc / postfix / config / white_client: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#    c  mail.ru #/^.*\@mail\.ru$/ PERMIT</span></span></code> </pre><br><br>  Edit / etc / postfix / config / white_client_ip: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#    SMTP- 91.214.209.5 #/91\.214\.209\.5/ PERMIT</span></span></code> </pre><br><br>  Open the log and look for errors: <br><pre> <code class="bash hljs">tail -f /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/mail.log</code> </pre><br><br>  And we start postal services: <br><pre> <code class="bash hljs">/etc/init.d/dovecot restart /etc/init.d/postfix restart</code> </pre><br><br>  ¬© <br>  <a href="http://debian.asy.org.ua/5-postfix-postfixadmin-dovecot-ssl-roundcube.html">debian.asy.org.ua/5-postfix-postfixadmin-dovecot-ssl-roundcube.html</a> <br>  <a href="http://www.opensolutions.ie/open-source/vimbadmin">www.opensolutions.ie/open-source/vimbadmin</a> </div><p>Source: <a href="https://habr.com/ru/post/166487/">https://habr.com/ru/post/166487/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../166475/index.html">Design Camp: how it was</a></li>
<li><a href="../166479/index.html">Lenovo P770 - ‚Äúlong-playing‚Äù smartphone with a 3500mAh battery</a></li>
<li><a href="../166481/index.html">Chinese threat: Android without Google?</a></li>
<li><a href="../166483/index.html">BranchCache in Windows Server 2012 and Windows 8</a></li>
<li><a href="../166485/index.html">What does the "excessive" kindness project manager</a></li>
<li><a href="../166493/index.html">About investors</a></li>
<li><a href="../166495/index.html">In the vast expanses of the App Store ...</a></li>
<li><a href="../166497/index.html">Yandex and CERN: a new stage of cooperation</a></li>
<li><a href="../166499/index.html">Imagine Camps: January 26 and 31, 2013 Take the first step in youth entrepreneurship</a></li>
<li><a href="../166501/index.html">Ben Horowitz: ‚ÄúWe like to invest in those who quit college and have crazy ideas for tiny markets without monetization‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>