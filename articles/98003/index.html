<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Alan.Platform Tutorial (Part 1)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Last time we said that it is not enough to create one model of the world with which the brain will interact. To test the behavior of the brain in vari...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Alan.Platform Tutorial (Part 1)</h1><div class="post__text post__text-html js-mediator-article">  <a title="Alan.Platform" href="http://habrahabr.ru/blogs/artificial_intelligence/90534/">Last time</a> we said that it is not enough to create one model of the world with which the brain will interact.  To test the behavior of the brain in various situations it is necessary to have on hand a variety of such models.  And for this you need two things: the first is the ability to easily and quickly create models, and the second is the ability to reuse the created models, changing their configuration. <br><br>  Looking at these requirements, I have the following thoughts: <br><ul><li>  modularity, loadable libraries with extensions; </li><li>  configuration via XML; </li><li>  model representation in the form of a tree of objects; </li></ul><a name="habracut"></a>  Also, when creating the models themselves, I would like to write as little code as possible, because the <s>laziness</s> model will need more than one and not two.  Here we need to remember that the brain, when interacting with the environment, receives information from it, transforms it and returns the result.  The environment, in turn, receives this information, transforms it again and returns the result to the brain.  This is the whole point - the information goes in a circle. <br><br>  Technically, only information conversions could be modeled.  No labyrinths, no food, whistles and bells.  There is only one object - the World, which plays ping-pong bytes with the brain.  I would love to look at this process, but I would not wish the enemy to create such a model. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Object-world is a bad metaphor that does not fit into any brain.  When we look at the world, we do not see information - we see objects that have certain properties.  Therefore, I would like to work with the metaphors of objects and their properties when modeling the world.  The problem is that for this you will need to write additional code, which, as it turned out, it is not necessary to write at all, and in general is too lazy. <br><br>  Therefore, a compromise was found.  In the code you need to describe only the transformation of information, and objects with properties will be created declaratively. <br><br><h3>  Tutorial ["Part 1"] </h3><br>  This is a couple of words about why I did what I did, end and you can proceed to practice.  Last time, some ideas were demonstrated on what the process of modeling the world might look like.  Today it will be a tutorial that will guide you through this process from the very beginning to the end. <br><br>  To work, we need the .NET Framework 3.5, the development environment for it, and the latest version of Alan.Platform <a title="CodePlex" href="http://alan.codeplex.com/SourceControl/list/changesets">source code</a> .  To begin with, we will create a solution with one class library (.dll), copy the Platform.Core project from Alan.Platform into it and add a link to it to our class library.  This library will contain various elements on the basis of which then the world will be constructed. <br><br>  As is customary in tutorials, the created model will be fairly simple, but no more than is required.  In our case it will be a board divided into cells.  Objects will be located on the cells of the board, so their coordinates can be determined by two numbers. <br><br>  Let's start by marking our newly created library with the ElementsLib attribute, so that the Platform.Constructor can use the elements defined in it: <br><blockquote><code><font color="black">[assembly: Platform.Core.Concrete.ElementsLibAttribute]</font></code> </blockquote>  The most suitable place for this is the AssemblyInfo.cs file.  Next, add a new CellBoard class to the library that will represent our checkered board.  Let it be a board for the game of checkers.  Then only one type of object can be placed on it - a checker, which has two properties: X and Y. Thus, our CellBoard class takes the following form: <br><blockquote> <code><font color="black"><font color="#0000ff">using</font> System; <br> <font color="#0000ff">using</font> Platform.Core.Elements; <br> <font color="#0000ff">using</font> Platform.Core.Concrete; <br> <br> <font color="#0000ff">namespace</font> Checkers <br> { <br> [PropertySet( <font color="#A31515">"Checker"</font> , <font color="#A31515">"X"</font> , <font color="#A31515">"Y"</font> )] <br> <font color="#0000ff">public</font> <font color="#0000ff">class</font> CellBoard : Layout <br> { <br> <font color="#0000ff">public</font> <font color="#0000ff">override</font> <font color="#0000ff">bool</font> ValidatePropertySet(PropertySet ps) <br> { <br> <font color="#0000ff">throw</font> <font color="#0000ff">new</font> NotImplementedException(); <br> } <br> } <br> }</font></code> </blockquote>  What have we just done?  The brain has several channels through which it receives information of a different type.  Therefore, it is logical to manage information of one type using a separate object.  This object is the operator.  Layout is a class derived from an operator that is designed to manage information of a special type ‚Äî information about the location of objects. <br><br>  Location information is special because it has the potential to affect other types of information.  For example, if you bring a fragrant bun to us, then its smell will become stronger. <br><br>  Let's go back to our CellBoard.  The PropertySet attribute, as you might guess, declares the names of the object type and its properties.  There may be several such attributes, and they all indicate with what types of objects and their properties the operator can work. <br><br>  ValidatePropertySet we will not need, so leave it as is.  Although the class implementation is not yet available, we can try to construct something based on it.  To do this, you need to add to our solution the Platform.Constructor project from Alan.Platform, a new console project and add a link to the designer to the console project. <br><br>  Platform.Constructor helps to create a ready-made model of the world from a variety of elements.  It is very simple to use a constructor - it is enough to describe the desired end result in XML.  What we now do. <br><br>  The XML schema is pretty simple.  If you want to see hints for tags and attributes, you can connect it to your favorite editor.  You can find the scheme in <br>  Alan Platform \ Platform.Constructor \ config.xsd. <br><br>  This is how the description of a 2x2 board looks like, in the corners of which there is a checker: <br><blockquote> <code><font color="black"><font color="#0000ff">&lt;?</font> <font color="#800000">xml</font> <font color="#ff0000">version</font> <font color="#0000ff">="1.0"</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">component</font> <font color="#ff0000">xmlns</font> <font color="#0000ff">="http://alan.codeplex.com/constructor/world"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">operator</font> <font color="#ff0000">name</font> <font color="#0000ff">="Checkers.CellBoard"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">component</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">propertySet</font> <font color="#ff0000">name</font> <font color="#0000ff">="Checker"</font> <font color="#ff0000">operator</font> <font color="#0000ff">="Checkers.CellBoard"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">property</font> <font color="#ff0000">name</font> <font color="#0000ff">="X"</font> <font color="#ff0000">value</font> <font color="#0000ff">="0"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">property</font> <font color="#ff0000">name</font> <font color="#0000ff">="Y"</font> <font color="#ff0000">value</font> <font color="#0000ff">="0"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">propertySet</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">component</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">component</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">propertySet</font> <font color="#ff0000">name</font> <font color="#0000ff">="Checker"</font> <font color="#ff0000">operator</font> <font color="#0000ff">="Checkers.CellBoard"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">property</font> <font color="#ff0000">name</font> <font color="#0000ff">="X"</font> <font color="#ff0000">value</font> <font color="#0000ff">="1"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">property</font> <font color="#ff0000">name</font> <font color="#0000ff">="Y"</font> <font color="#ff0000">value</font> <font color="#0000ff">="1"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">propertySet</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">component</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">component</font> <font color="#0000ff">&gt;</font></font></code> </blockquote>  Here we see our newly created operator and two components (checkers) for which we did not write code at all.  If someone still does not fully understand the idea of ‚Äã‚Äãa PropertySet, then imagine that this is a projection of an object onto an operator.  That is, each object (component) consists of several sets of properties, one per operator (type of information). <br><br>  You can not pay attention so far that all this is enclosed in another root component.  Yes, theoretically, the components can be infinitely nested in each other, but it is not entirely clear how this can be used. <br><br>  So, if you pass this XML document to the constructor, it will return the same root component, which, in theory, is our board with checkers.  To check this, we use ObjectDumper.  Add it to our console project, and also do not forget to add a link to our library of elements, as the designer expects to find it in the same folder as itself. <br><br>  The Main function should look something like this: <br><blockquote> <code><font color="black"><font color="#0000ff">using</font> System; <br> <font color="#0000ff">using</font> System.Xml.Linq; <br> <br> <font color="#0000ff">namespace</font> Tutorial <br> { <br> <font color="#0000ff">class</font> Program <br> { <br> <font color="#0000ff">public</font> <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) <br> { <br> <font color="#0000ff">var</font> constructor = <font color="#0000ff">new</font> Platform.Constructor.Constructor(); <br> constructor.CollectElementsIndex(); <br> <br> <font color="#008000">//   XML,     .</font> <br> <font color="#0000ff">var</font> config = <font color="#2B91AF">XDocument</font> .Load(args[0]); <br> <br> <font color="#008000">//    .</font> <br> <font color="#0000ff">var</font> rootComponent = constructor.Construct(config); <br> <br> ObjectDumper.Write(rootComponent, 2); <br> <br> <font color="#2B91AF">Console</font> .Write( <font color="#A31515">"Press any key to continue . . . "</font> ); <br> <font color="#2B91AF">Console</font> .ReadKey( <font color="#0000ff">true</font> ); <br> } <br> } <br> }</font></code> </blockquote>  All that remains is to pass the address of our XML document to Main.  To do this, set the Copy to output property for it - PreserveNewest.  And in the properties of the console project, specify the command line arguments - config.xml. <br><br>  This is what should end up: <br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/eb/07/eb07964caca96064bccfacb1aa274cc2.png"></a> <br>  Container - reference to the parent component.  The root component is null. <br>  Components - a set of child components. <br>  Clients - a special type of components, which later. <br>  Operators - a set of child statements. <br>  Layout is one of the operators. <br>  Properties - information about the properties of the component.  The root component has no properties. <br>  Id is a unique identifier.  At the root component, it is always 0, and for its children it is 1, 2, 3, etc. <br><br>  In general, the tree structure corresponds to the one that was in XML.  Is that the properties of the components are not divided into sets of properties, since here it is not necessary.  Components in this model are present only in order to make users familiar with seeing objects with properties. <br><br>  In fact, the brain will not interact with the components, either directly or even indirectly.  It will interact with the operators in which this property data is stored.  And those that are in the components become irrelevant almost immediately.  To update them, you will have to manually call UpdateProperties (). <br><br>  This is where the first part of the tutorial ends.  His main goal was to show how the work with Alan.Platform looks like.  The archive with the result can be downloaded <a href="">here</a> .  In the next part, we will try to create a graphical representation of our checkers using Platform.Explorer. <br><br>  PS The Main function has the following line ‚Äúconstructor.CollectElementsIndex ();‚Äù, which, as you might guess, indexes the elements.  Here is how it works: <br><br>  1. Creates an AppDomain to temporarily load libraries into it. <br>  2. It loads into the created AppDomain all * .dll files that are in the same folder as the constructor (or rather, AppDomain.Current.BaseDirectory). <br>  3. It eliminates libraries in which there is no ElementsLib attribute. <br>  4. In the remaining libraries, it finds types that correspond to the elements of the world model tree. <br>  5. Fills the index with necessary information about these elements. <br>  6. Unloads the AppDomain with libraries. <br><br>  Further, the created index can be used to create a tree of elements based on XML, if necessary, loading the libraries in which these elements are defined.  This is what the index looks like: <br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/2c/51/2c5118f8bf288ce01315f3778f040217.png"></a> <br><br>  <i>Those wishing to participate in the project or use it to create something, please contact the LAN or knock on the jabber:</i> <i><br></i>  <i>openminded@xdsl.by</i> <br><br>  <a href="http://openminded.habrahabr.ru/blog/98006/">The second part of</a> </div><p>Source: <a href="https://habr.com/ru/post/98003/">https://habr.com/ru/post/98003/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../97996/index.html">I2P - Creating your site</a></li>
<li><a href="../97998/index.html">Memory management of the guest machine in the cloud</a></li>
<li><a href="../97999/index.html">New Kindle DX for $ 379</a></li>
<li><a href="../98000/index.html">From July 1 - duty-free import of goods up to 1000 euros (it was: 5-10 thousand rubles)</a></li>
<li><a href="../98001/index.html">Supercomputer problems in the middle lane</a></li>
<li><a href="../98005/index.html">Connecting a rotary encoder to a computer via USB</a></li>
<li><a href="../98006/index.html">Alan.Platform Tutorial (Part 2)</a></li>
<li><a href="../98010/index.html">Again about forms: default values</a></li>
<li><a href="../98013/index.html">Fractality Fractal Clock or Thoughts of Scale and Time</a></li>
<li><a href="../98014/index.html">Making a dystopian / cyberpunk mask</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>