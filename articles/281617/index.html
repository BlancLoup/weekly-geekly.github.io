<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Filter properly, or bad filtering tips in Angular.Js</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello. This article has been written for quite a long time, it has been rewritten a couple of times, and, as a result, it did not suit me. Too mentor ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Filter properly, or bad filtering tips in Angular.Js</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/c79/e3e/da5/c79e3eda5f5d4990a3cbcefade8f3f5f.png"><br><br>  Hello.  This article has been written for quite a long time, it has been rewritten a couple of times, and, as a result, it did not suit me.  Too mentor turned out tone.  And then, suddenly, Friday is coming, the end of the sprint, which means you can relax.  And so, do not take it too seriously, just a few tips on how to prepare filters in Angular.JS <br><br>  Whoever is interested or wants to relax a bit - go ahead under the cut and all a good Friday! <br><a name="habracut"></a><br>  <b>1.</b> Use filters anytime, anywhere.  For page titles, column names, product list.  Filters are executed every digest, which means that the user will miss anything for sure.  The more filters on the page - the better.  In addition, then, in each filter, you can add logic. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>2.</b> Make filters universal.  The filter should be able to filter everything.  From products to embedded base-64.  Just one filter, some twenty parameters and your team is happy.  After all, everything works out of the box, and write nothing.  And if this filter is also able to translate text into lower case, then recognition will find you.  Inevitably. <br><br>  <b>3.</b> Always add logging to your filter.  So debugging is much easier.  And, believe in the word, the one who will disassemble your logs, just will not remain without work. <br><br>  <b>4.</b> Let's filter only common names.  And what if someone makes it universal then!  Do not rename the same later!  In addition, it will be much more interesting for your colleagues to read the markup.  You can say, give them a quest.  Free. <br><br>  <b>5.</b> Infinitie Scroll should be implemented only on filters and no data loading.  We went to the server, unloaded the entire table, and then let our filters work.  No wonder you wrote them.  The load on the server is less, the hosting can be taken cheaper, and you need to thank. <br><br>  <b>6.</b> Business logic should be only in filters.  Because - "And" - Encapsulation. <br><br>  <b>7.</b> Generally hide all logic in the filters.  So safer.  And if not, then at least the most "heavy."  And the harder the better.  It is possible to make any complicated calculations there or to change the DOM.  Better yet, pull the server.  Straight from the filter.  The user does not train, wait!  But you will have the most subtle services and controllers.  Just brag on the next interview. <br><br>  <b>8.</b> Speaking of DOM.  Who said that you need to use directives to manipulate it?  Filters, this is the best place for $ ('# user_icon'). Trigger ('click'); <br><br>  <b>9.</b> Communicate filters.  Let one filter, something changes in the second filter.  Best through $ broadcast.  And best of all incoming data.  So debag turn into a fun and entertaining game that develops attention, concentration and knowledge of the foundations of the core of Angular.  And in general, always use $ broadcast.  It is stylish. <br><br>  <b>10.</b> Collect filters in chains!  If the chain is less than three filters, it is not kosher!  You can even write sentences with filters.  For colleagues or just curious users. <br><br>  <b>11.</b> Combine filters with ng-mouse-over.  It's fun!  You can even write nothing to the mouse-over handler.  The main thing is to hang it on the body and check in on Friday night.  Take special pleasure if you have Continues Integration. <br><br>  <b>12.</b> Do not optimize.  First, early optimization kills.  Secondly, it is the work of the framework.  You will not do someone else's work, right? <br><br>  @By StGeass <br><br>  <b>13.</b> Use filters as handlers when changing the digest! <br><br>  <b>14.</b> Change the context of the entire $ scope right inside the filter through this.  Your version of the angular does not allow this?  Pass the context right through the arguments and change it again! <br><br>  And most importantly, know.  No filters inhibit your application.  And misunderstanding and underestimation of you, as a developer! <br><br><div class="spoiler">  <b class="spoiler_title">For the curious.</b> <div class="spoiler_text">  Filters in Angular are such a function that each digest is called.  Those.  often, very often, and several times in a row.  There is no control over the start of filtering, no control over the end.  Raising events is useless and fraught.  When carelessly handling easily turns the application into a pumpkin.  And, yes, "out of the box" tools for optimizing filters either. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">For the more curious.</b> <div class="spoiler_text">  Winning is not easy and everyone finds their solution for a particular case.  For example, filtering on the side, using ng-change, isDirty, INotifyOnPropertyChange, caching, $ scope. $ Watch (function getData () {}, true) and so on.  Although the latter I do not advise you because it can be even worse.  They also say CodeReview helps, but this is generally shamanism. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">For the most curious.</b> <div class="spoiler_text"><pre><code class="javascript hljs">.directive(<span class="hljs-string"><span class="hljs-string">'onRepeatFinish'</span></span>, [<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">restrict</span></span>: <span class="hljs-string"><span class="hljs-string">'A'</span></span>, <span class="hljs-attr"><span class="hljs-attr">link</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">scope, elem, attr</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (scope.$last === <span class="hljs-literal"><span class="hljs-literal">true</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'ngRepeatFinished'</span></span>); }; } } }]);</code> </pre> <br>  If anything, this ‚Äúfor‚Äù parameterized filters does not work. <br></div></div><br><br>  Good Friday everyone. </div><p>Source: <a href="https://habr.com/ru/post/281617/">https://habr.com/ru/post/281617/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../281605/index.html">RESTful Visual Editor</a></li>
<li><a href="../281607/index.html">Develop HTML5 games in Intel XDK. Part 4. The system of coordinates and moving objects</a></li>
<li><a href="../281609/index.html">Create 3D CSS effects on hover using jQuery</a></li>
<li><a href="../281611/index.html">Nix as a dependency manager for C ++</a></li>
<li><a href="../281615/index.html">Oracle PaaS - present and future cloud platform</a></li>
<li><a href="../281619/index.html">Internet of things (IoT) - challenges of new reality</a></li>
<li><a href="../281621/index.html">Storydesk - my non-existent wonder designer</a></li>
<li><a href="../281627/index.html">Welcome to the RISSPA seminar on April 20</a></li>
<li><a href="../281629/index.html">Is it necessary to get rid of the branches? - For example, sign, abs, min and max</a></li>
<li><a href="../281631/index.html">I thought I knew everything about cisco ...</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>