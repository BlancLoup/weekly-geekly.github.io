<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Collected all "Habrom" directory "Issued by whom ..." for passports. Download to health</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="From a couple of months ago, we experimented: whether it will be possible to gather at Habr√© a suitable directory of the units that issued Russian pas...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Collected all "Habrom" directory "Issued by whom ..." for passports. Download to health</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/4r/2k/de/4r2kdef9h3fieollcezqj2vwszk.jpeg"><br><br>  From a couple of months ago, we experimented: whether it will be possible to <a href="https://habr.com/ru/company/hflabs/blog/442012/">gather</a> at Habr√© a <a href="https://habr.com/ru/company/hflabs/blog/442012/">suitable directory of the units that issued Russian passports</a> .  This is a useful matter: many people need this data, there is no canonical source, and the existing ones are very so-so. <br><br>  And you know, everything turned out.  A usable reference book is ready, you can download and use.  We also made prompts that speed up the introduction of units into forms. <br><a name="habracut"></a><br><h2>  "Naked" CSV - in the public domain </h2><br>  We posted the compiled and cleaned reference book on GitHub.  Inside, everything is simple, CSV with two fields: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  unit code; </li><li>  unit name. </li></ul><br>  It lies here <a href="https://github.com/hflabs/fms-unit/releases/latest">github.com/hflabs/fms-unit/releases/latest</a> . <br><br><h2>  There are still ready tips for input forms (and free). </h2><br>  We assembled units to make ready service - hints for input forms.  And here they are ready. <br><br>  "Tips" DaData.ru can be integrated into the site, CRM or CMS and pass for caring small: the user simply enter the unit code, and the name will fill the service. <br><br><img src="https://habrastorage.org/webt/hi/ow/pn/hiowpn7nn-fcbwhqacerbme5os4.gif"><br>  <sub>It seems everyone hates to fill in the name of the unit.</sub>  <sub>We tried to alleviate the suffering of people.</sub> <br><br>  Another "Tips" pull the region and the type of unit from the code, sometimes convenient.  Here is a brief response specification. <br><table><tbody><tr><th>  Title </th><th>  Description </th></tr><tr><td>  value </td><td>  Value in one line (as shown in the list of hints) </td></tr><tr><td>  data.code </td><td>  Division Code </td></tr><tr><td>  data.name </td><td>  The name of the unit in the instrumental case (‚Äúby whom?‚Äù) </td></tr><tr><td>  data.region_code </td><td>  Region Code </td></tr><tr><td>  data.type </td><td>  Type of division: <br><br><ul><li>  0 - division of the FMS; </li><li>  1 - Municipal Department of Internal Affairs or the Ministry of Internal Affairs of the region; </li><li>  2 - ATC or ATS of a district or city; </li><li>  3 - police station. </li></ul></td></tr></tbody></table>  Up to 10,000 requests for "Tips" per day are given free of charge, these are ‚âà300 completed forms.  More - as part of a subscription, from 5 000 ‚ÇΩ per year.  It works through jQuery-plugin, API or components for different CRM, CMS, "1C" and others. <br><br>  Details - on <a href="https://dadata.ru/suggestions/outward/fms_unit/%3Futm_source%3Dhabr%26utm_medium%3Dreferral%26utm_campaign%3Dpassport_suggestions%26utm_content%3Dreleased">dadata.ru/suggestions/outward/fms_unit/</a> . <br><br><h2>  Habr helped a lot with data </h2><br>  The first question of those who hear about the project: ‚ÄúWas it really collected through Habr?‚Äù.  It was not only Habr that helped, but the contribution of habrazhitele is great and extensive.  We are grateful and a little surprised: the first time turned to the community, and immediately such a result. <br><br>  <b>Initially, we had some groundwork.</b>  But, first, far from being a complete reference.  Secondly, I wanted to check how adequate the data are to real passports. <br><br>  <b>Many sent units from their passports through a collection form</b> when we threw a cry.  They sent one and five to ten records.  Heroes who are not too lazy to drive it all hands - respect. <br><br>  <b>Three people offered in a personal database of respectable size.</b>  Friendly and gratis. <br><br><img src="https://habrastorage.org/webt/6w/7y/9m/6w7y9m3_ggxfqzxuiqnin55b-fw.png"><br>  <sub>Those who are worried about security: all directories were sent impersonal, no byte of personal data</sub> <br><br>  Such gifts significantly moved things forward.  As a result, after three weeks we collected a volume from which we are not ashamed to make a product suitable for industrial use. <br><br><h2>  The path to success - ‚ÄúA pile of raw data + 300 regexp + a little pitonachki‚Äù </h2><br>  So, the raw data is in the hands of the grocerer " <a href="https://habr.com/ru/users/nalgeon/" class="user_link">Dadata</a> " <a href="https://habr.com/ru/users/nalgeon/" class="user_link">nalgeon</a> .  Further dance, he described a quote from the title.  All that we have collected, has passed a series of wonderful transformations. <br><br>  <b>To begin with, the names of the divisions were normalized.</b>  Here I had to fidgetly work with a file.  For example, in ‚Äúlive‚Äù passports, the numbers of territorial subdivisions are indicated with ‚ÄúNo.‚Äù: ‚ÄúTP No. 1 V G. KHIMKI ...‚Äù.  In the same way, in the majority of the collected reference books, except for one - in it all the numbers without the ‚ÄúNo.‚Äù: ‚ÄúTP 1 IN G. KHIMKI ...‚Äù.  I had to insert. <br><br>  <b>Slapped years.</b>  In several reference books, the names of the divisions are ‚Äúspread‚Äù by years, even when they do not change with time. <br><br> <code>500-168,     .  . ,2007 <br> 500-168,     .  . ,2008 <br> 500-168,     .  . ,2009 <br> 500-168,     .  . ,2010 <br></code> <br>  We combined such records, linking them to a period: in the example above, four records turned out to be one with the dates ‚Äú2007‚Äì2010‚Äù. <br><br>  <b>They collected another reference book - ‚Äú2018+‚Äù.</b>  In 2018, there was a coup - now the name of the ‚Äúsupreme‚Äù department of the Ministry of Interior in the region is written in passports.  Therefore, in a document issued in the Krasnoyarsk Territory, regardless of the code, they indicate ‚ÄúThe Directorate of the Ministry of Internal Affairs of Russia for the Krasnoyarsk Territory‚Äù. <br><br>  We took all the codes we collected, divided them into regions and gave them the same names in the 2018 style.  The names were taken from the collected directories, something had to be searched on the Internet.  It turned out something like that. <br><br> <code>240-001,     ,2018 <br> 240-002,     ,2018 <br> 240-003,     ,2018</code> <br> <br>  <b>Removed the years.</b>  It turned out that in the reference books there is a perfect commotion: there are some years, some not.  It remains either to remove the years everywhere for a more complete reference book, or to leave only units over the years for the sake of what is not clear.  Chose a more comprehensive reference. <br><br>  <b>Combined reference books</b> , data in ecstasy merged together.  The result was thoroughly rubbed with a rag, brushed and reminded: for example, ‚ÄúRA‚Äù was turned into ‚ÄúRepublic of Altai‚Äù where it was necessary and made a dozen more such changes. <br><br>  And so, the directory is ready.  Use, do as for yourself (actually, for yourself and did :). <br><br><h2>  A pair of subtleties for corrosive </h2><br>  <b>In the directory there are many entries with the same codes of divisions.</b>  This is due to the fact that in different years in the passports the spelling of the same department was different.  We merged similar options, but left the very different ones: let the user choose how he has them in the document. <br><br>  <b>It may turn out that your passport and the directory are written a little differently.</b>  Without a minimum normalization, each unit would have such a bunch of similar options that go and find the right one.  Therefore, we have reduced the "MANAGEMENT OF INTERNAL AFFAIRS" to "ATC", "CITY" and "MOUNTAIN" - to "G.", "DEPARTMENT OF PASSPORT AND VISA SERVICE" - to "OPVS", etc. <br><br><img src="https://habrastorage.org/webt/1x/95/v2/1x95v22jqkfznpcnz95ga3acqyc.png"><br>  <sub>If you start typing the name, the ‚ÄúClues‚Äù will also contribute</sub> <br><br>  But!  No law or sub-law requires that the name of the department in the documents coincide with the version in the passport.  Both abbreviations and omissions are allowed.  The main thing is that it is approximately similar and the rest of the details: the series, number, date, unit code. <br><br>  <b>Errors can be reported to us <a href="https://dadata.ru/fix/fms/%3Futm_source%3Dhabr%26utm_medium%3Dreferral%26utm_campaign%3Dpassport_suggestions%26utm_content%3Dreleased">dadata.ru/fix/fms</a> .</b>  Indicate the code and name of the problem record, and write in the comments what is wrong.  Let's correct and lay out the updated reference book for everyone.  Or send pull requests to GitHub. <br><br>  Naturally, you can fix the CSV with your hands if you have a naked reference book without ‚ÄúTips‚Äù.  But it is not clear how everything will look if you ever pick up the next version of the directory from us. <br><br>  In general, use on health: <br><br><ul><li>  <a href="https://github.com/hflabs/fms-unit/releases/latest">reference in CSV</a> ; </li><li>  <a href="https://dadata.ru/suggestions/outward/fms_unit/%3Futm_source%3Dhabr%26utm_medium%3Dreferral%26utm_campaign%3Dpassport_suggestions%26utm_content%3Dreleased">ready tips on units issuing passports</a> . </li></ul><br>  If you share the article, help people who are looking for a directory of units of passports.  Suffering enough, they will be grateful. </div><p>Source: <a href="https://habr.com/ru/post/448504/">https://habr.com/ru/post/448504/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../448484/index.html">Aboriginal microbes</a></li>
<li><a href="../448486/index.html">‚ÄúIn November of 2018, we accidentally fell into spam on all fronts.‚Äù How I saved mailing with the company with a million base</a></li>
<li><a href="../448488/index.html">Fear and Loathing DevSecOps</a></li>
<li><a href="../448498/index.html">"Russia 404": How much is left to live free Internet</a></li>
<li><a href="../448500/index.html">Solve a simple crackme for Sega Mega Drive</a></li>
<li><a href="../448506/index.html">‚ÄúThe Matrix‚Äù is 20 years old: how Wachowski made the cyberpunk that set the agenda for a whole generation</a></li>
<li><a href="../448510/index.html">Acer in 2019: what if you remove all the trinkets from the gaming laptops</a></li>
<li><a href="../448516/index.html">Evolving or making a base for a rote cart on the ARDUINO platform, while sensors and video are being driven to a computer via a smartphone</a></li>
<li><a href="../448518/index.html">How to see a black hole?</a></li>
<li><a href="../448522/index.html">Config generation for nginx, history of one pull request</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>