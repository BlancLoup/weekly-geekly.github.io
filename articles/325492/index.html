<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Human face design patterns</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Design patterns are a way to solve recurring problems. More precisely, this is a guide to solving specific problems. These are not classes, packages o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Human face design patterns</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/files/bb8/685/ef6/bb8685ef636143ac9713d0131774c7e0.JPG" alt="image"></p><br><p>  Design patterns are a way to solve recurring problems.  More precisely, this is a guide to solving specific problems.  These are not classes, packages or libraries that you can insert into your application and expect magic. </p><br><p>  As stated on Wikipedia: </p><br><blockquote>  In software engineering, an application design pattern is a reusable solution to a regularly occurring problem within a specific application architecture context.  A template is not a complete architectural solution that can be directly converted to source or machine code.  This is a description of the approach to solving a problem that can be applied in different situations. </blockquote><br><h3 id="imagehttpshabrastorageorgfiles408734bfb408734bfb5ec43878ea5b9a8b22fd277png-budte-ostorozhny"><img src="https://habrastorage.org/files/408/734/bfb/408734bfb5ec43878ea5b9a8b22fd277.png" alt="image">  be careful </h3><br><ul><li>  Design patterns are not a silver bullet. </li><li>  Do not try to introduce them by force, the consequences may be negative.  Remember that patterns are <strong>solutions</strong> , not problems.  So do not be too smart. </li><li>  If applied correctly and in the right places, they can be a salvation.  Otherwise, you will have even more problems. </li></ul><br><p>  The article contains examples in PHP 7, but don't be confused by the fact that the principles incorporated in the templates are unchanged.  In addition, <strong>support for other languages ‚Äã‚Äãis being introduced</strong> . </p><a name="habracut"></a><br><h3 id="vidy-shablonov-proektirovaniya">  Types of design patterns </h3><br><ul><li>  <a href="https://habrahabr.ru/company/mailru/blog/325492/">Generating</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/325492/">Structural</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/325492/">Behavioral</a> </li></ul><br><h2 id="porozhdayuschie-shablony-proektirovaniya">  Generating design patterns </h2><br><p>  <strong>In short</strong> </p><br><p>  Generating templates describe the creation (instantiate) of an object or a group of related objects. </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>  In software engineering, generators are templates that use object creation mechanisms to create objects in a way that is appropriate for a given situation.  The basic way of creation can lead to problems in architecture or to its complication.  Generating patterns attempt to solve these problems by controlling the way objects are created. </blockquote><br><ul><li>  <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image">Simple factory</a> </li><li>  <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image">Factory Method</a> </li><li>  <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image">Abstract Factory</a> </li><li>  <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image">Builder</a> </li><li>  <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image">Prototype</a> </li><li>  <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image">Single mother</a> </li></ul><br><h3 id="imagehttpshabrastorageorgfiles49cfd95d249cfd95d226e47ceb73b85d6c35ff184png-prostaya-fabrika"><img src="https://habrastorage.org/files/49c/fd9/5d2/49cfd95d226e47ceb73b85d6c35ff184.png" alt="image">  Simple factory </h3><br><p>  <strong>Analogy</strong> </p><br><p>  Let's say you build a house and you need doors.  It will be a mess if every time you need a door, you will become armed with tools and do it at the construction site.  Instead, you order the doors in the factory. </p><br><p>  <strong>In short</strong> </p><br><p>  A simple factory simply generates an instance for a client without providing any instance logic. </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>  In object-oriented programming, a factory is an object that creates other objects.  Formally, a factory is a function or method that returns objects of different prototypes or classes from a call to a method that is considered new. </blockquote><p>  <strong>Example</strong> </p><br><p>  First we need a door interface and its implementation. </p><br><pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Door</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getWidth</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">float</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getHeight</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">float</span></span></span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WoodenDoor</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Door</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $width; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $height; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float $width, float $height)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;width = $width; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;height = $height; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getWidth</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">float</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;width; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getHeight</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">float</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;height; } }</code> </pre> <br><p>  Now we will build a factory of doors that creates and returns doors to us. </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DoorFactory</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">makeDoor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($width, $height)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Door</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WoodenDoor($width, $height); } }</code> </pre> <br><p>  Using: </p><br><pre> <code class="php hljs">$door = DoorFactory:makeDoor(<span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Width: '</span></span> . $door-&gt;getWidth(); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Height: '</span></span> . $door-&gt;getHeight();</code> </pre> <br><p>  <strong>When to use?</strong> </p><br><p>  When creating an object involves some kind of logic, and not just several assignments, it makes sense to delegate the task to a dedicated factory, rather than repeating the same code everywhere. </p><br><h3 id="imagehttpshabrastorageorgfilesdbd913d1edbd913d1e60f4c4e9a0991241f8b246epng-fabrichnyy-metod"><img src="https://habrastorage.org/files/dbd/913/d1e/dbd913d1e60f4c4e9a0991241f8b246e.png" alt="image">  Factory Method </h3><br><p>  <strong>Analogy</strong> </p><br><p>  One cadre is not able to conduct interviews with all candidates for all positions.  Depending on the vacancy, she can delegate different stages of interviews to different employees. </p><br><p>  <strong>In short</strong> </p><br><p>  This is a way to delegate the logic of creating objects (instantiation logic) to child classes. </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>  In class-based programming, a factory designation method is a generating method that uses factory methods to solve the problem of creating objects without specifying specific classes for them.  Objects are created by calling not the constructor, but the generating method defined in the interface and implemented by the child classes or implemented in the base class and, optionally, overridden by derived classes. </blockquote><p>  <strong>Example</strong> </p><br><p>  First, create an interface for the interviewer and some implementations for him. </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Interviewer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">askQuestions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Developer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Interviewer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">askQuestions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Asking about design patterns!'</span></span>; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommunityExecutive</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Interviewer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">askQuestions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Asking about community building'</span></span>; } }</code> </pre> <br><p>  Now we will create a <code>HiringManager</code> . </p><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HiringManager</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   abstract public function makeInterviewer(): Interviewer; public function takeInterview() { $interviewer = $this-&gt;makeInterviewer(); $interviewer-&gt;askQuestions(); } }</span></span></code> </pre> <br><p>  Any child class can extend it and provide the right interviewer: </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DevelopmentManager</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HiringManager</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">makeInterviewer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Interviewer</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Developer(); } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MarketingManager</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HiringManager</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">makeInterviewer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Interviewer</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CommunityExecutive(); } }</code> </pre> <br><p>  Using: </p><br><pre> <code class="php hljs">$devManager = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DevelopmentManager(); $devManager-&gt;takeInterview(); <span class="hljs-comment"><span class="hljs-comment">// Output:    . $marketingManager = new MarketingManager(); $marketingManager-&gt;takeInterview(); // Output:    .</span></span></code> </pre> <br><p>  <strong>When to use?</strong> </p><br><p>  This template is useful for some general class processing, but the required subclasses are dynamically determined during runtime.  That is, when the client does not know which subclass he might need. </p><br><h3 id="imagehttpshabrastorageorgfilesa079a0c34a079a0c348ef4f79b4fe7ac190407f3epng-abstraktnaya-fabrika"><img src="https://habrastorage.org/files/a07/9a0/c34/a079a0c348ef4f79b4fe7ac190407f3e.png" alt="image">  Abstract Factory </h3><br><p>  <strong>Analogy</strong> </p><br><p>  Let's return to the example with the doors from ‚ÄúSimple Factory‚Äù.  Depending on your needs, you can buy a wooden door in one store, steel - in another, plastic - in the third.  For installation, you will need different specialists: a wooden door needs a carpenter, a steel one - a welder, a plastic one - a specialist in PVC profiles. </p><br><p>  <strong>In short</strong> <br>  This is a factory of factories.  That is, a factory grouping individual, but interrelated / interdependent factories without specifying specific classes for them. </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>  The ‚ÄúAbstract Factory‚Äù template describes how to encapsulate a group of individual factories united by a certain topic, without specifying specific classes for them. </blockquote><p>  <strong>Example</strong> </p><br><p>  Create a Door interface and several implementations for it. </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Door</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDescription</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WoodenDoor</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Door</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDescription</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'I am a wooden door'</span></span>; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IronDoor</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Door</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDescription</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'I am an iron door'</span></span>; } }</code> </pre> <br><p>  Now we need specialists to install each type of door. </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DoorFittingExpert</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDescription</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Welder</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DoorFittingExpert</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDescription</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'I can only fit iron doors'</span></span>; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Carpenter</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DoorFittingExpert</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDescription</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'I can only fit wooden doors'</span></span>; } }</code> </pre> <br><p>  We have an abstract factory that allows you to create families of objects or interrelated objects.  That is, the factory of wooden doors will create a wooden door and a person for its installation, a factory of steel doors - a steel door and an appropriate specialist, etc. </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DoorFactory</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">makeDoor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Door</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">makeFittingExpert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DoorFittingExpert</span></span></span></span>; } <span class="hljs-comment"><span class="hljs-comment">//         class WoodenDoorFactory implements DoorFactory { public function makeDoor(): Door { return new WoodenDoor(); } public function makeFittingExpert(): DoorFittingExpert { return new Carpenter(); } } //         class IronDoorFactory implements DoorFactory { public function makeDoor(): Door { return new IronDoor(); } public function makeFittingExpert(): DoorFittingExpert { return new Welder(); } }</span></span></code> </pre> <br><p>  Using: </p><br><pre> <code class="php hljs">$woodenFactory = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WoodenDoorFactory(); $door = $woodenFactory-&gt;makeDoor(); $expert = $woodenFactory-&gt;makeFittingExpert(); $door-&gt;getDescription(); <span class="hljs-comment"><span class="hljs-comment">// Output:    $expert-&gt;getDescription(); // Output:       // Same for Iron Factory $ironFactory = new IronDoorFactory(); $door = $ironFactory-&gt;makeDoor(); $expert = $ironFactory-&gt;makeFittingExpert(); $door-&gt;getDescription(); // Output:    $expert-&gt;getDescription(); // Output:      </span></span></code> </pre> <br><p>  Here the wooden door factory encapsulated the <code>carpenter</code> and the <code>wooden door</code> , the steel door factory was an <code>iron door</code> and <code>welder</code> .  That is, you can be sure that for each of the created doors, we will get the right specialist. </p><br><p>  <strong>When to use?</strong> </p><br><p>  When you have interrelations with not the simplest logic of creation (creation logic). </p><br><h3 id="imagehttpshabrastorageorgfiles301beff6b301beff6b71b4be18c4ab10aaabb464fpng-stroitel"><img src="https://habrastorage.org/files/301/bef/f6b/301beff6b71b4be18c4ab10aaabb464f.png" alt="image">  Builder </h3><br><p>  <strong>Analogy</strong> </p><br><p>  Suppose you came to the diner, ordered a burger of the day, and you were given it <strong>without question</strong> .  This is an example of ‚ÄúSimple Factory.‚Äù  But sometimes the creation logic consists of more steps.  For example, when ordering a burger of the day, there are several options for bread, toppings, sauces, additional ingredients.  In such situations helps template "Builder". </p><br><p>  <strong>In short</strong> </p><br><p>  The template allows you to create different properties of the object, avoiding constructor pollution (constructor pollution).  This is useful when an object can have several properties.  Or when the creation of an object consists of a large number of stages. </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>  The Builder pattern is designed to find a solution to the problem of the Telescoping constructor's anti-pattern. </blockquote><p>  Let me explain what the anti-pattern Telescoping constructor is.  Each of us has ever encountered such a constructor: </p><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($size, $cheese = true, $pepperoni = true, $tomato = false, $lettuce = true)</span></span></span><span class="hljs-function"> </span></span>{ }</code> </pre> <br><p>  As you can see, the number of parameters can quickly grow, and it will become difficult to understand their structure.  In addition, this list of parameters will continue to grow if you want to add new options in the future.  This is the anti-pattern telescoping constructor. </p><br><p>  <strong>Example</strong> </p><br><p>  A sensible alternative is the builder pattern.  First, create a burger: </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Burger</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $size; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $cheese = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $pepperoni = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $lettuce = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $tomato = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BurgerBuilder $builder)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;size = $builder-&gt;size; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;cheese = $builder-&gt;cheese; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;pepperoni = $builder-&gt;pepperoni; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;lettuce = $builder-&gt;lettuce; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;tomato = $builder-&gt;tomato; } }</code> </pre> <br><p>  And then add the "builder": </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BurgerBuilder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $size; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $cheese = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $pepperoni = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $lettuce = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $tomato = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(int $size)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;size = $size; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addPepperoni</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;pepperoni = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addLettuce</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;lettuce = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addCheese</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;cheese = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addTomato</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;tomato = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">build</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Burger</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Burger(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>); } }</code> </pre> <br><p>  Using: </p><br><pre> <code class="php hljs">$burger = (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BurgerBuilder(<span class="hljs-number"><span class="hljs-number">14</span></span>)) -&gt;addPepperoni() -&gt;addLettuce() -&gt;addTomato() -&gt;build();</code> </pre> <br><p>  <strong>When to use?</strong> </p><br><p>  When an object can have several properties and when it is necessary to avoid the Telescoping constructor.  The key difference from the ‚ÄúSimple Factory‚Äù template is that it is used in one-step creation, and ‚ÄúBuilder‚Äù is used in multi-step creation. </p><br><h3 id="imagehttpshabrastorageorgfilesa730be6c4a730be6c433647d3af9858e505876141png-prototip"><img src="https://habrastorage.org/files/a73/0be/6c4/a730be6c433647d3af9858e505876141.png" alt="image">  Prototype </h3><br><p>  <strong>Analogy</strong> </p><br><p>  Remember the cloned sheep Dolly?  So, this design pattern is just about cloning. </p><br><p>  <strong>In short</strong> </p><br><p>  An object is created by cloning an existing object. </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>  The prototype template is used when the types of objects created are determined by the prototype instance cloned to create new objects. </blockquote><p>  That is, the template allows you to duplicate an existing object and modify the copy to suit your needs.  No problems with creating an object from scratch and setting it up. </p><br><p>  <strong>Example</strong> </p><br><p>  In PHP, this can be done easily with <code>clone</code> : </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sheep</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $name; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $category; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $name, string $category = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'Mountain Sheep'</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;name = $name; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;category = $category; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $name)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;name = $name; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;name; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setCategory</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $category)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;category = $category; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCategory</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;category; } }</code> </pre> <br><p>  Then you can clone like this: </p><br><pre> <code class="php hljs">$original = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Sheep(<span class="hljs-string"><span class="hljs-string">'Jolly'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $original-&gt;getName(); <span class="hljs-comment"><span class="hljs-comment">//  echo $original-&gt;getCategory(); //   //   ,   $cloned = clone $original; $cloned-&gt;setName('Dolly'); echo $cloned-&gt;getName(); //  echo $cloned-&gt;getCategory(); //  </span></span></code> </pre> <br><p>  You can also refer to the <code>__clone</code> magic method to modify the cloning procedure. </p><br><p>  <strong>When to use?</strong> </p><br><p>  When the necessary object is similar to an existing one or when creating from scratch is more expensive than cloning. </p><br><h3 id="imagehttpshabrastorageorgfiles46db1404e46db1404ea144dbf8b16073d5397698dpng-odinochka"><img src="https://habrastorage.org/files/46d/b14/04e/46db1404ea144dbf8b16073d5397698d.png" alt="image">  Single mother </h3><br><p>  <strong>Analogy</strong> </p><br><p>  A country can have only one president.  He must act when circumstances and debt require it.  In this case, the president is a loner. </p><br><p>  <strong>In short</strong> </p><br><p>  The template allows you to make sure that the object being created is the only one in its class. </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>  The ‚ÄúSingleton‚Äù template allows you to limit the creation of a class to a single object.  This is convenient when coordinating actions within the system requires that the object is the only one in its class. </blockquote><p>  In fact, the template "Singleton" is considered antipattern, they should not be too carried away.  It is not necessarily bad and is sometimes helpful.  But use it with caution, because Loner makes the application a global state, so a change in one place can affect all other uses, and debugging this is not an easy task.  Other drawbacks to the pattern are: it makes your code tightly coupled, and prototyping (mocking) ‚ÄúLoners‚Äù can be difficult. </p><br><p>  <strong>Example</strong> </p><br><p>  Make the constructor private, disable the extensions, and create a static variable to hold the instance: </p><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">President</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> $instance; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   } public static function getInstance(): President { if (!self::$instance) { self::$instance = new self(); } return self::$instance; } private function __clone() { //   } private function __wakeup() { //   } }</span></span></code> </pre> <br><p>  Using: </p><br><pre> <code class="php hljs">$president1 = President::getInstance(); $president2 = President::getInstance(); var_dump($president1 === $president2); <span class="hljs-comment"><span class="hljs-comment">// true</span></span></code> </pre> <br><h2 id="strukturnye-shablony-proektirovaniya">  Structural Design Patterns </h2><br><p>  <strong>In short</strong> </p><br><p>  These templates are mainly devoted to the composition of objects (object composition).  That is, how entities can use each other.  Another explanation: structural patterns help answer the question ‚ÄúHow to build a software component?‚Äù </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>  Structural are templates that facilitate design, defining a simple way to implement the relationship between entities. </blockquote><br><ul><li>  <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image">Adapter</a> </li><li>  <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image">Bridge</a> </li><li>  <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image">Linker</a> </li><li>  <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image">Decorator</a> </li><li>  <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image">Facade</a> </li><li>  <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image">Adapted</a> </li><li>  <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image">Deputy</a> </li></ul><br><h3 id="imagehttpshabrastorageorgfiles08bbdb0a708bbdb0a740d4129bea4f8fe9456e0d0png-adapter"><img src="https://habrastorage.org/files/08b/bdb/0a7/08bbdb0a740d4129bea4f8fe9456e0d0.png" alt="image">  Adapter </h3><br><p>  <strong>Analogy</strong> </p><br><p>  Suppose you have some pictures on your memory card.  They need to be transferred to a computer.  You need an adapter that is compatible with the input port of the computer into which you can insert a memory card.  In this example, the adapter is a card reader.  Another example: an adapter that allows you to use an American power supply with a Russian outlet.  The third example: a translator is an adapter that connects two people speaking different languages. </p><br><p>  <strong>In short</strong> </p><br><p>  The ‚ÄúAdapter‚Äù template allows you to put an incompatible object in a wrapper so that it is compatible with another class. </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>  The Adapter design pattern allows you to use the interface of an existing class as another interface.  This template is often used to ensure that some classes work with others without changing their source code. </blockquote><p>  <strong>Example</strong> </p><br><p>  Imagine a lion hunter. </p><br><p>  Create a <code>Lion</code> interface that implements all types of lions. </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Lion</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">roar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AfricanLion</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Lion</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">roar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AsianLion</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Lion</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">roar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ } }</code> </pre> <br><p>  The hunter must hunt all implementations of the <code>Lion</code> interface. </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Hunter</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hunt</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Lion $lion)</span></span></span><span class="hljs-function"> </span></span>{ } }</code> </pre> <br><p>  Add now wild dog <code>WildDog</code> , which the hunter can also hunt.  But we can't do it directly, because the dog has a different interface.  To make it compatible with the hunter, you need to create a suitable adapter. </p><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//    class WildDog { public function bark() { } } //         class WildDogAdapter implements Lion { protected $dog; public function __construct(WildDog $dog) { $this-&gt;dog = $dog; } public function roar() { $this-&gt;dog-&gt;bark(); } }</span></span></code> </pre> <br><p>  Now <code>WildDog</code> can come into play thanks to <code>WildDogAdapter</code> . </p><br><pre> <code class="php hljs">$wildDog = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WildDog(); $wildDogAdapter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WildDogAdapter($wildDog); $hunter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Hunter(); $hunter-&gt;hunt($wildDogAdapter);</code> </pre> <br><h3 id="imagehttpshabrastorageorgfiles5730de7ab5730de7abc284e128bce7c4e5ea64913png-most"><img src="https://habrastorage.org/files/573/0de/7ab/5730de7abc284e128bce7c4e5ea64913.png" alt="image">  Bridge </h3><br><p>  <strong>Analogy</strong> </p><br><p>  Suppose you have a website with several pages.  You want to allow users to change the page layout.  What would you do?  Did you create multiple copies of each page for each topic, or did you simply make separate topics and load them according to the user settings?  Template "Bridge" allows you to implement the second approach. </p><br><p><img src="https://habrastorage.org/files/693/d31/e70/693d31e709f249bfab95520c182af6d6.jpg" alt="image"></p><br><p>  <strong>In short</strong> </p><br><p>  The Bridge template is a preference for the inheritance layout.  Implementation details are passed from one hierarchy to another object with a separate hierarchy. </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>  The "Bridge" template means the separation of abstraction from implementation, so that both of them can be changed independently of each other. </blockquote><p>  <strong>Example</strong> </p><br><p>  We implement the above example with web pages.  Make a hierarchy of <code>WebPage</code> : </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WebPage</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Theme $theme)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getContent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">About</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WebPage</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $theme; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Theme $theme)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;theme = $theme; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getContent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"About page in "</span></span> . <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;theme-&gt;getColor(); } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Careers</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WebPage</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $theme; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Theme $theme)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;theme = $theme; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getContent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Careers page in "</span></span> . <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;theme-&gt;getColor(); } }</code> </pre> <br><p>  Separate the hierarchy of topics: </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Theme</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getColor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DarkTheme</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Theme</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getColor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'Dark Black'</span></span>; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LightTheme</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Theme</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getColor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'Off white'</span></span>; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AquaTheme</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Theme</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getColor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'Light blue'</span></span>; } }</code> </pre> <br><p>  Both hierarchies: </p><br><pre> <code class="php hljs">$darkTheme = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DarkTheme(); $about = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> About($darkTheme); $careers = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Careers($darkTheme); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $about-&gt;getContent(); <span class="hljs-comment"><span class="hljs-comment">// "About page in Dark Black"; echo $careers-&gt;getContent(); // "Careers page in Dark Black";</span></span></code> </pre> <br><h3 id="imagehttpshabrastorageorgfiles899fb76f3899fb76f3bbc4489a71f36d4c0b190f8png-komponovschik"><img src="https://habrastorage.org/files/899/fb7/6f3/899fb76f3bbc4489a71f36d4c0b190f8.png" alt="image">  Linker </h3><br><p>  <strong>Analogy</strong> </p><br><p>  Each company consists of employees.  Every employee has the same properties: salary, duties, accountability to someone, subordination ... </p><br><p>  <strong>In short</strong> </p><br><p>  The ‚ÄúLinker‚Äù template allows clients to process individual objects in a single order. </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>  The ‚ÄúLinker‚Äù template describes the general order of processing a group of objects, as if it were a single instance of an object.  The essence of the template is the arrangement of objects in a tree structure to represent the hierarchy from the particular to the whole.  The template allows clients to access individual objects and groups of objects in the same way. </blockquote><p>  <strong>Example</strong> <br>  Here are the different types of employees: </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Employee</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $name, float $salary)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setSalary</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float $salary)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getSalary</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">float</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRoles</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">array</span></span></span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Developer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Employee</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $salary; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $name; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $name, float $salary)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;name = $name; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;salary = $salary; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;name; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setSalary</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float $salary)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;salary = $salary; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getSalary</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">float</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;salary; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRoles</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">array</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;roles; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Designer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Employee</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $salary; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $name; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $name, float $salary)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;name = $name; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;salary = $salary; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;name; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setSalary</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float $salary)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;salary = $salary; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getSalary</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">float</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;salary; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRoles</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">array</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;roles; } }</code> </pre> <br><p>  But the company, which consists of employees of different types: </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Organization</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $employees; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addEmployee</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Employee $employee)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;employees[] = $employee; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getNetSalaries</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">float</span></span></span><span class="hljs-function"> </span></span>{ $netSalary = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;employees <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $employee) { $netSalary += $employee-&gt;getSalary(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $netSalary; } }</code> </pre> <br><p>  Using: </p><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//   $john = new Developer('John Doe', 12000); $jane = new Designer('Jane Doe', 15000); //     $organization = new Organization(); $organization-&gt;addEmployee($john); $organization-&gt;addEmployee($jane); echo "Net salaries: " . $organization-&gt;getNetSalaries(); // Net Salaries: 27000</span></span></code> </pre> <br><h3 id="imagehttpshabrastorageorgfiles1d6a22eff1d6a22eff4b047e691417f69f37647f5png-dekorator"><img src="https://habrastorage.org/files/1d6/a22/eff/1d6a22eff4b047e691417f69f37647f5.png" alt="image">  Decorator </h3><br><p>  <strong>Analogy</strong> </p><br><p>  Suppose you have your own car service, providing various services.  How to bill customers?  Consistently adding the services and their cost - and in the end you get the total amount to be paid.  Here, each type of service is a ‚Äúdecorator‚Äù. </p><br><p>  <strong>In short</strong> </p><br><p>  The "decorator" template allows you to dynamically change the behavior of an object at runtime, wrapping it into an object of the "decorator" class. </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>  The "Decorator" template allows you to connect to the object additional behavior (statically or dynamically), without affecting the behavior of other objects of the same class.  The template is often used to comply with the Single Responsibility Principle, because it allows the division of functionality between classes to solve specific tasks. </blockquote><p>  <strong>Example</strong> </p><br><p>  Take coffee as an example.  First, just implement the interface: </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Coffee</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCost</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDescription</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleCoffee</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Coffee</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCost</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDescription</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'Simple coffee'</span></span>; } }</code> </pre> <br><p>  You can make the code extensible to make modifications if necessary.  Add "decorators": </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MilkCoffee</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Coffee</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $coffee; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Coffee $coffee)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;coffee = $coffee; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCost</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;coffee-&gt;getCost() + <span class="hljs-number"><span class="hljs-number">2</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDescription</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;coffee-&gt;getDescription() . <span class="hljs-string"><span class="hljs-string">', milk'</span></span>; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WhipCoffee</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Coffee</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $coffee; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Coffee $coffee)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;coffee = $coffee; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCost</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;coffee-&gt;getCost() + <span class="hljs-number"><span class="hljs-number">5</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDescription</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;coffee-&gt;getDescription() . <span class="hljs-string"><span class="hljs-string">', whip'</span></span>; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">VanillaCoffee</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Coffee</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $coffee; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Coffee $coffee)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;coffee = $coffee; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCost</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;coffee-&gt;getCost() + <span class="hljs-number"><span class="hljs-number">3</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDescription</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;coffee-&gt;getDescription() . <span class="hljs-string"><span class="hljs-string">', vanilla'</span></span>; } }</code> </pre> <br><p>  Now make coffee: </p><br><pre> <code class="php hljs">$someCoffee = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SimpleCoffee(); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $someCoffee-&gt;getCost(); <span class="hljs-comment"><span class="hljs-comment">// 10 echo $someCoffee-&gt;getDescription(); // Simple Coffee $someCoffee = new MilkCoffee($someCoffee); echo $someCoffee-&gt;getCost(); // 12 echo $someCoffee-&gt;getDescription(); // Simple Coffee, milk $someCoffee = new WhipCoffee($someCoffee); echo $someCoffee-&gt;getCost(); // 17 echo $someCoffee-&gt;getDescription(); // Simple Coffee, milk, whip $someCoffee = new VanillaCoffee($someCoffee); echo $someCoffee-&gt;getCost(); // 20 echo $someCoffee-&gt;getDescription(); // Simple Coffee, milk, whip, vanilla</span></span></code> </pre> <br><h3 id="imagehttpshabrastorageorgfilesc1feaf9e9c1feaf9e90c0486fb48479326557424apng-fasad"><img src="https://habrastorage.org/files/c1f/eaf/9e9/c1feaf9e90c0486fb48479326557424a.png" alt="image">  Facade </h3><br><p>  <strong>Analogy</strong> </p><br><p>  How to turn on the computer?  You will say: ‚ÄúPress the power button‚Äù.  This is because you are using a simple interface provided by the computer outside.  And inside it there are a lot of processes.  A simple interface for a complex subsystem is a facade. </p><br><p>  <strong>In short</strong> </p><br><p>  The "Facade" template provides a simplified interface for a complex subsystem. </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>  A ‚Äúfacade‚Äù is an object that provides a simplified interface for a larger body of code, such as a class library. </blockquote><p>  <strong>Example</strong> </p><br><p>  Create a computer class: </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Computer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getElectricShock</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Ouch!"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">makeSound</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Beep beep!"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showLoadingScreen</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Loading.."</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bam</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Ready to be used!"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">closeEverything</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Bup bup bup buzzzz!"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sooth</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Zzzzz"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pullCurrent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Haaah!"</span></span>; } }</code> </pre> <br><p>  Now the "facade": </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ComputerFacade</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $computer; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Computer $computer)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;computer = $computer; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">turnOn</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;computer-&gt;getElectricShock(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;computer-&gt;makeSound(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;computer-&gt;showLoadingScreen(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;computer-&gt;bam(); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">turnOff</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;computer-&gt;closeEverything(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;computer-&gt;pullCurrent(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;computer-&gt;sooth(); } }</code> </pre> <br><p>  Using: </p><br><pre> <code class="php hljs">$computer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ComputerFacade(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Computer()); $computer-&gt;turnOn(); <span class="hljs-comment"><span class="hljs-comment">// Ouch! Beep beep! Loading.. Ready to be used! $computer-&gt;turnOff(); // Bup bup buzzz! Haah! Zzzzz</span></span></code> </pre> <br><h3 id="imagehttpshabrastorageorgfilese17d114ebe17d114eb9d645c7ab57f590a1aea3b3png-prisposoblenec"><img src="https://habrastorage.org/files/e17/d11/4eb/e17d114eb9d645c7ab57f590a1aea3b3.png" alt="image">  Adapted </h3><br><p>  <strong>Analogy</strong> </p><br><p>  Usually, in catering establishments, tea is not brewed separately for each client, but immediately in some large container.  This saves resources: gas / electricity, time, etc. The "Adaptive" template is just about sharing. </p><br><p>  <strong>In short</strong> </p><br><p>  The template is used to minimize the use of memory or computational cost due to the total use of as many identical objects as possible. </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>  ‚ÄúAdaptive‚Äù is an object that minimizes the use of memory at the expense of the use of the largest possible amount of data with other similar objects.     ,         . </blockquote><p>  <strong>Example</strong> </p><br><p>     . </p><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//  ‚Äî ,   . //    ‚Äî . class KarakTea { } //       class TeaMaker { protected $availableTea = []; public function make($preference) { if (empty($this-&gt;availableTea[$preference])) { $this-&gt;availableTea[$preference] = new KarakTea(); } return $this-&gt;availableTea[$preference]; } }</span></span></code> </pre> <br><p>   <code>TeaShop</code> ,    : </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TeaShop</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $orders; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $teaMaker; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(TeaMaker $teaMaker)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;teaMaker = $teaMaker; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">takeOrder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $teaType, int $table)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;orders[$table] = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;teaMaker-&gt;make($teaType); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">serve</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;orders <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $table =&gt; $tea) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Serving tea to table# "</span></span> . $table; } } }</code> </pre> <br><p> : </p><br><pre> <code class="php hljs">$teaMaker = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TeaMaker(); $shop = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TeaShop($teaMaker); $shop-&gt;takeOrder(<span class="hljs-string"><span class="hljs-string">'less sugar'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); $shop-&gt;takeOrder(<span class="hljs-string"><span class="hljs-string">'more milk'</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>); $shop-&gt;takeOrder(<span class="hljs-string"><span class="hljs-string">'without sugar'</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>); $shop-&gt;serve(); <span class="hljs-comment"><span class="hljs-comment">// Serving tea to table# 1 // Serving tea to table# 2 // Serving tea to table# 5</span></span></code> </pre> <br><h3 id="imagehttpshabrastorageorgfilesa8ed1e294a8ed1e294f2842a0b4d066c471905962png-zamestitel"><img src="https://habrastorage.org/files/a8e/d1e/294/a8ed1e294f2842a0b4d066c471905962.png" alt="image">  </h3><br><p>  <strong>Analogy</strong> </p><br><p>           (access card)      .      ‚Äî ,       -  ‚Äî ¬´¬ª. </p><br><p>  <strong>In short</strong> </p><br><p>    ¬´¬ª     . </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>     ¬´¬ª ‚Äî  ,     -.    -,       , ¬´¬ª . ¬´¬ª      ,     :           ;    (preconditions)      . </blockquote><p>  <strong>Example</strong> </p><br><p>      : </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Door</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">open</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">close</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LabDoor</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Door</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">open</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Opening lab door"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">close</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Closing the lab door"</span></span>; } }</code> </pre> <br><p>  ¬´¬ª,      : </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Security</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $door; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Door $door)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;door = $door; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">open</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($password)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;authenticate($password)) { <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;door-&gt;open(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Big no! It ain't possible."</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">authenticate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($password)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $password === <span class="hljs-string"><span class="hljs-string">'$ecr@t'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">close</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;door-&gt;close(); } }</code> </pre> <br><p> : </p><br><pre> <code class="php hljs">$door = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Security(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LabDoor()); $door-&gt;open(<span class="hljs-string"><span class="hljs-string">'invalid'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Big no! It ain't possible. $door-&gt;open('$ecr@t'); // Opening lab door $door-&gt;close(); // Closing lab door</span></span></code> </pre> <br><p>         (data-mapper).        ODM (Object Data Mapper)  MongoDB.   ¬´¬ª  mongo-,    <code>__call()</code> .       mongo-  ¬´¬ª,      .     <code>find</code>  <code>findOne</code>      ,    <code>Cursor</code> . </p><br><h2 id="povedencheskie-shablony-proektirovaniya">    </h2><br><p>  <strong>In short</strong> </p><br><p>      (responsibilities) .      ,     ,      ,  .         ¬´     ?¬ª </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>             .      . </blockquote><br><ul><li> <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image"> </a> </li><li>  <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image">Team</a> </li><li> <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image"></a> </li><li> <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image"></a> </li><li> <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image"></a> </li><li> <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image"></a> </li><li> <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image"></a> </li><li>  <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image">Strategy</a> </li><li>  <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image">condition</a> </li><li> <a href="&amp;xid=17259,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhggPD0pQgcDLscUDNhuX29_bkzoFg#image"> </a> </li></ul><br><h3 id="imagehttpshabrastorageorgfiles8fc3f4f858fc3f4f85cd240bf9628c2c6e5728e2cpng-cepochka-otvetstvennosti"><img src="https://habrastorage.org/files/8fc/3f4/f85/8fc3f4f85cd240bf9628c2c6e5728e2c.png" alt="image">   </h3><br><p>  <strong>Analogy</strong> </p><br><p> ,         ( <code>A</code> , <code>B</code>  <code>C</code> ).      : <code>A</code> ‚Äî 100 , <code>B</code> ‚Äî 300, <code>C</code> ‚Äî 1000.    : ,  ,  .    -  210 .   ¬´ ¬ª     .    ‚Äî   ,   .     ‚Äî      ,  . . </p><br><p>  <strong>In short</strong> </p><br><p>  ¬´ ¬ª    .            ,      . </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>  ¬´ ¬ª        .     ,    ,    ,        . </blockquote><p>  <strong>Example</strong> </p><br><p>    ,      ,   . </p><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Account</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $successor; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $balance; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setNext</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Account $account)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;successor = $account; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pay</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float $amountToPay)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;canPay($amountToPay)) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> sprintf(<span class="hljs-string"><span class="hljs-string">'Paid %s using %s'</span></span> . PHP_EOL, $amountToPay, get_called_class()); } <span class="hljs-keyword"><span class="hljs-keyword">elseif</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;successor) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> sprintf(<span class="hljs-string"><span class="hljs-string">'Cannot pay using %s. Proceeding ..'</span></span> . PHP_EOL, get_called_class()); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;successor-&gt;pay($amountToPay); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>(<span class="hljs-string"><span class="hljs-string">'None of the accounts have enough balance'</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">canPay</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($amount)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bool</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;balance &gt;= $amount; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bank</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Account</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $balance; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float $balance)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;balance = $balance; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Paypal</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Account</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $balance; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float $balance)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;balance = $balance; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bitcoin</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Account</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $balance; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float $balance)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;balance = $balance; } }</code> </pre> <br><p>       (Bank, Paypal, Bitcoin)  : </p><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//    // $bank-&gt;$paypal-&gt;$bitcoin // //    //     ,   Paypal //  Paypal  ,   Bitcoin $bank = new Bank(100); //    100 $paypal = new Paypal(200); //  Paypal  200 $bitcoin = new Bitcoin(300); //  Bitcoin  300 $bank-&gt;setNext($paypal); $paypal-&gt;setNext($bitcoin); //    $bank-&gt;pay(259); //   // ============== //     . ... //     Paypal. ... //  259   Bitcoin!</span></span></code> </pre> <br><h3 id="imagehttpshabrastorageorgfiles8d2e5082a8d2e5082afd747d4aee91ca0e48113c4png-komanda"><img src="https://habrastorage.org/files/8d2/e50/82a/8d2e5082afd747d4aee91ca0e48113c4.png" alt="image">  Team </h3><br><p>  <strong>Analogy</strong> </p><br><p>    .  ( <code>Client</code> )   ( <code>Invoker</code> )   ( <code>Command</code> ).    - ( <code>Receiver</code> ),  ,    .  :  ( <code>Client</code> )  ( <code>Command</code> )  ( <code>Receiver</code> )    ( <code>Invoker</code> ). </p><br><p>  <strong>In short</strong> </p><br><p>  ¬´¬ª     .   ‚Äî      . </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>   ¬´¬ª      ,         .      ; ,  ;   . </blockquote><p>  <strong>Example</strong> </p><br><p>   ,    ,    . </p><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// Receiver class Bulb { public function turnOn() { echo "Bulb has been lit"; } public function turnOff() { echo "Darkness!"; } }</span></span></code> </pre> <br><p>   ,     .    . </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Command</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">execute</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">undo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">redo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; } <span class="hljs-comment"><span class="hljs-comment">// Command class TurnOn implements Command { protected $bulb; public function __construct(Bulb $bulb) { $this-&gt;bulb = $bulb; } public function execute() { $this-&gt;bulb-&gt;turnOn(); } public function undo() { $this-&gt;bulb-&gt;turnOff(); } public function redo() { $this-&gt;execute(); } } class TurnOff implements Command { protected $bulb; public function __construct(Bulb $bulb) { $this-&gt;bulb = $bulb; } public function execute() { $this-&gt;bulb-&gt;turnOff(); } public function undo() { $this-&gt;bulb-&gt;turnOn(); } public function redo() { $this-&gt;execute(); } }</span></span></code> </pre><br><p>    <code>Invoker</code> ,        . </p><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// Invoker class RemoteControl { public function submit(Command $command) { $command-&gt;execute(); } }</span></span></code> </pre> <br><p> ,      : </p><br><pre> <code class="php hljs">$bulb = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Bulb(); $turnOn = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TurnOn($bulb); $turnOff = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TurnOff($bulb); $remote = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RemoteControl(); $remote-&gt;submit($turnOn); <span class="hljs-comment"><span class="hljs-comment">//  ! $remote-&gt;submit($turnOff); // !</span></span></code> </pre> <br><p>  ¬´¬ª         .   ,          .     ,   .          <code>undo</code>    . </p><br><h3 id="imagehttpshabrastorageorgfiles625e57fc3625e57fc3cfa494da9b770f93f5322b0png-iterator"><img src="https://habrastorage.org/files/625/e57/fc3/625e57fc3cfa494da9b770f93f5322b0.png" alt="image">  </h3><br><p>  <strong>Analogy</strong> </p><br><p>   ‚Äî .    - ,      /.         . </p><br><p>  <strong>In short</strong> </p><br><p>  ‚Äî          . </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>               .      .  -  ,    ,    . </blockquote><p>  <strong>Example</strong> </p><br><p>  PHP          PHP.    <code>RadioStation</code> . </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RadioStation</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $frequency; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float $frequency)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;frequency = $frequency; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getFrequency</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">float</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;frequency; } }</code> </pre> <br><p>   : </p><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Countable</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Iterator</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StationList</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Countable</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Iterator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> RadioStation[] $stations */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $stations = []; <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> int $counter */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $counter; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addStation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(RadioStation $station)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;stations[] = $station; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">removeStation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(RadioStation $toRemove)</span></span></span><span class="hljs-function"> </span></span>{ $toRemoveFrequency = $toRemove-&gt;getFrequency(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;stations = array_filter(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;stations, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(RadioStation $station)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">use</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($toRemoveFrequency)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $station-&gt;getFrequency() !== $toRemoveFrequency; }); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">count</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> count(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;stations); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">current</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RadioStation</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;stations[<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;counter]; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">key</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;counter; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">next</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;counter++; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rewind</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;counter = <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">valid</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bool</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;stations[<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;counter]); } }</code> </pre> <br><p> : </p><br><pre> <code class="php hljs">$stationList = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StationList(); $stationList-&gt;addStation(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RadioStation(<span class="hljs-number"><span class="hljs-number">89</span></span>)); $stationList-&gt;addStation(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RadioStation(<span class="hljs-number"><span class="hljs-number">101</span></span>)); $stationList-&gt;addStation(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RadioStation(<span class="hljs-number"><span class="hljs-number">102</span></span>)); $stationList-&gt;addStation(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RadioStation(<span class="hljs-number"><span class="hljs-number">103.2</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span>($stationList <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $station) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $station-&gt;getFrequency() . PHP_EOL; } $stationList-&gt;removeStation(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RadioStation(<span class="hljs-number"><span class="hljs-number">89</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// Will remove station 89</span></span></code> </pre> <br><h3 id="imagehttpshabrastorageorgfiles4358f59fc4358f59fcb634418a9dc22bce47b0720png-posrednik"><img src="https://habrastorage.org/files/435/8f5/9fc/4358f59fcb634418a9dc22bce47b0720.png" alt="image">  </h3><br><p>  <strong>Analogy</strong> </p><br><p>     -  ,        .      ,   .     ‚Äî . </p><br><p>  <strong>In short</strong> </p><br><p>  ¬´¬ª     (¬´¬ª)       (¬´¬ª).     (coupling) ,    ,          . </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>   ,      . </blockquote><p>  <strong>Example</strong> </p><br><p>  :  (¬´¬ª),    (¬´¬ª)    . </p><br><p>  ¬´¬ª: </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ChatRoomMediator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showMessage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(User $user, string $message)</span></span></span></span>; } <span class="hljs-comment"><span class="hljs-comment">//  class ChatRoom implements ChatRoomMediator { public function showMessage(User $user, string $message) { $time = date('M d, y H:i'); $sender = $user-&gt;getName(); echo $time . '[' . $sender . ']:' . $message; } }</span></span></code> </pre> <br><p>   ¬´¬ª: </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $name; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $chatMediator; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $name, ChatRoomMediator $chatMediator)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;name = $name; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;chatMediator = $chatMediator; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;name; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($message)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;chatMediator-&gt;showMessage(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>, $message); } }</code> </pre> <br><p> : </p><br><pre> <code class="php hljs">$mediator = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ChatRoom(); $john = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> User(<span class="hljs-string"><span class="hljs-string">'John Doe'</span></span>, $mediator); $jane = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> User(<span class="hljs-string"><span class="hljs-string">'Jane Doe'</span></span>, $mediator); $john-&gt;send(<span class="hljs-string"><span class="hljs-string">'Hi there!'</span></span>); $jane-&gt;send(<span class="hljs-string"><span class="hljs-string">'Hey!'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   // Feb 14, 10:58 [John]: Hi there! // Feb 14, 10:58 [Jane]: Hey!</span></span></code> </pre> <br><h3 id="imagehttpshabrastorageorgfilesf1c4c72d2f1c4c72d22204ce08703d3a196fa9908png-hranitel"><img src="https://habrastorage.org/files/f1c/4c7/2d2/f1c4c72d22204ce08703d3a196fa9908.png" alt="image">  The keeper </h3><br><p>  <strong>Analogy</strong> </p><br><p>       (¬´¬ª),          (¬´¬ª),         -  (¬´¬ª). </p><br><p>  <strong>In short</strong> </p><br><p>  ¬´¬ª      ,    . </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>  ¬´¬ª        (   ‚Äî undo via rollback). </blockquote><p>   ,      . </p><br><p>  <strong>Example</strong> </p><br><p>        ,       -  . </p><br><p>    ¬´¬ª,      . </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EditorMemento</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $content; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $content)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;content = $content; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getContent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;content; } }</code> </pre> <br><p>    (¬´¬ª),     ¬´¬ª. </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Editor</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $content = <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">type</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $words)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;content = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;content . <span class="hljs-string"><span class="hljs-string">' '</span></span> . $words; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getContent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;content; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">save</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> EditorMemento(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;content); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">restore</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(EditorMemento $memento)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;content = $memento-&gt;getContent(); } }</code> </pre> <br><p> : </p><br><pre> <code class="php hljs">$editor = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Editor(); <span class="hljs-comment"><span class="hljs-comment">//  - $editor-&gt;type('This is the first sentence.'); $editor-&gt;type('This is second.'); //   : This is the first sentence. This is second. $saved = $editor-&gt;save(); //   $editor-&gt;type('And this is third.'); // Output:    echo $editor-&gt;getContent(); // This is the first sentence. This is second. And this is third. //     $editor-&gt;restore($saved); $editor-&gt;getContent(); // This is the first sentence. This is second.</span></span></code> </pre> <br><h3 id="imagehttpshabrastorageorgfilesd7bce8a7ed7bce8a7e9cd4ed989a08d5f21c16f75png-nablyudatel"><img src="https://habrastorage.org/files/d7b/ce8/a7e/d7bce8a7e9cd4ed989a08d5f21c16f75.png" alt="image">  Observer </h3><br><p>  <strong>Analogy</strong> </p><br><p>  : ,  ,         ,   ,   . </p><br><p>  <strong>In short</strong> </p><br><p>     ,         ¬´¬ª   . </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>   ¬´¬ª   (¬´¬ª),    ¬´¬ª (¬´¬ª)         ,        . </blockquote><p>  <strong>Example</strong> </p><br><p>   ,  ,      . </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JobPost</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $title; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $title)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;title = $title; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTitle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;title; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JobSeeker</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Observer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $name; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $name)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;name = $name; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onJobPosted</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(JobPost $job)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Do something with the job posting echo 'Hi ' . $this-&gt;name . '! New job posted: '. $job-&gt;getTitle(); } }</span></span></code> </pre> <br><p>    ,     . </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JobPostings</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Observable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $observers = []; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">notify</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(JobPost $jobPosting)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;observers <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $observer) { $observer-&gt;onJobPosted($jobPosting); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">attach</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Observer $observer)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;observers[] = $observer; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addJob</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(JobPost $jobPosting)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;notify($jobPosting); } }</code> </pre> <br><p> : </p><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//   $johnDoe = new JobSeeker('John Doe'); $janeDoe = new JobSeeker('Jane Doe'); //      $jobPostings = new JobPostings(); $jobPostings-&gt;attach($johnDoe); $jobPostings-&gt;attach($janeDoe); //     ,     $jobPostings-&gt;addJob(new JobPost('Software Engineer')); // Output // Hi John Doe! New job posted: Software Engineer // Hi Jane Doe! New job posted: Software Engineer</span></span></code> </pre> <br><h3 id="imagehttpshabrastorageorgfiles735be130d735be130d5514a59a834860596a6087bpng-posetitel"><img src="https://habrastorage.org/files/735/be1/30d/735be130d5514a59a834860596a6087b.png" alt="image">  Visitor </h3><br><p>  <strong>Analogy</strong> </p><br><p>    .       ().        ,   ,   .     -  ‚Äî     .  ¬´¬ª     . </p><br><p>  <strong>In short</strong> </p><br><p>  ¬´¬ª         . </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>  ¬´¬ª ‚Äî       ,    .   ‚Äî           .       / (open/closed principle). </blockquote><p>  <strong>Example</strong> </p><br><p>  :      ,       . </p><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//   interface Animal { public function accept(AnimalOperation $operation); } //  interface AnimalOperation { public function visitMonkey(Monkey $monkey); public function visitLion(Lion $lion); public function visitDolphin(Dolphin $dolphin); }</span></span></code> </pre> <br><p>  : </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Monkey</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Animal</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">shout</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Ooh oo aa aa!'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">accept</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AnimalOperation $operation)</span></span></span><span class="hljs-function"> </span></span>{ $operation-&gt;visitMonkey(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>); } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Lion</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Animal</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">roar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Roaaar!'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">accept</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AnimalOperation $operation)</span></span></span><span class="hljs-function"> </span></span>{ $operation-&gt;visitLion(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>); } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Dolphin</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Animal</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">speak</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Tuut tuttu tuutt!'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">accept</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AnimalOperation $operation)</span></span></span><span class="hljs-function"> </span></span>{ $operation-&gt;visitDolphin(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>); } }</code> </pre> <br><p>  : </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Speak</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AnimalOperation</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">visitMonkey</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Monkey $monkey)</span></span></span><span class="hljs-function"> </span></span>{ $monkey-&gt;shout(); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">visitLion</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Lion $lion)</span></span></span><span class="hljs-function"> </span></span>{ $lion-&gt;roar(); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">visitDolphin</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Dolphin $dolphin)</span></span></span><span class="hljs-function"> </span></span>{ $dolphin-&gt;speak(); } }</code> </pre> <br><p> : </p><br><pre> <code class="php hljs">$monkey = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Monkey(); $lion = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Lion(); $dolphin = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dolphin(); $speak = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Speak(); $monkey-&gt;accept($speak); <span class="hljs-comment"><span class="hljs-comment">// --! $lion-&gt;accept($speak); // ! $dolphin-&gt;accept($speak); //   !</span></span></code> </pre> <br><p>         ,             .      . ,     ,    : </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Jump</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AnimalOperation</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">visitMonkey</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Monkey $monkey)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Jumped 20 feet high! on to the tree!'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">visitLion</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Lion $lion)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Jumped 7 feet! Back on the ground!'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">visitDolphin</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Dolphin $dolphin)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Walked on water a little and disappeared'</span></span>; } }</code> </pre> <br><p> : </p><br><pre> <code class="php hljs">$jump = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Jump(); $monkey-&gt;accept($speak); <span class="hljs-comment"><span class="hljs-comment">// Ooh oo aa aa! $monkey-&gt;accept($jump); // Jumped 20 feet high! on to the tree! $lion-&gt;accept($speak); // Roaaar! $lion-&gt;accept($jump); // Jumped 7 feet! Back on the ground! $dolphin-&gt;accept($speak); // Tuut tutt tuutt! $dolphin-&gt;accept($jump); // Walked on water a little and disappeared</span></span></code> </pre> <br><h3 id="imagehttpshabrastorageorgfiles0ff1d477c0ff1d477ce4d4e2ca81d427ce072a757png-strategiya"><img src="https://habrastorage.org/files/0ff/1d4/77c/0ff1d477ce4d4e2ca81d427ce072a757.png" alt="image">  Strategy </h3><br><p>  <strong>Analogy</strong> </p><br><p>     .   ,          .      (Quick sort).      ,      .    ,         ,    ‚Äî . </p><br><p>  <strong>In short</strong> </p><br><p>  ¬´¬ª          . </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>  ¬´¬ª      . </blockquote><p>  <strong>Example</strong> </p><br><p>   .        . </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SortStrategy</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sort</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(array $dataset)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">array</span></span></span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BubbleSortStrategy</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SortStrategy</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sort</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(array $dataset)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">array</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Sorting using bubble sort"</span></span>; <span class="hljs-comment"><span class="hljs-comment">// Do sorting return $dataset; } } class QuickSortStrategy implements SortStrategy { public function sort(array $dataset): array { echo "Sorting using quick sort"; // Do sorting return $dataset; } }</span></span></code> </pre> <br><p>   ,     . </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sorter</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $sorter; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(SortStrategy $sorter)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;sorter = $sorter; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sort</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(array $dataset)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">array</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;sorter-&gt;sort($dataset); } }</code> </pre> <br><p> : </p><br><pre> <code class="php hljs">$dataset = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>]; $sorter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Sorter(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BubbleSortStrategy()); $sorter-&gt;sort($dataset); <span class="hljs-comment"><span class="hljs-comment">// Output :   $sorter = new Sorter(new QuickSortStrategy()); $sorter-&gt;sort($dataset); // Output :  </span></span></code> </pre> <br><h3 id="imagehttpshabrastorageorgfiles375200f5a375200f5aa9c444aa74eac8813c00af5png-sostoyanie"><img src="https://habrastorage.org/files/375/200/f5a/375200f5aa9c444aa74eac8813c00af5.png" alt="image">  condition </h3><br><p>  <strong>Analogy</strong> </p><br><p> ,       ¬´¬ª.         : . .    . </p><br><p>  <strong>In short</strong> </p><br><p>        . </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote>  ¬´¬ª      .    : <br><ul><li>          ¬´¬ª, </li><li>    (state transitions)   ,    (superclass). </li></ul><br><br>  ¬´¬ª ‚Äî      ¬´¬ª,          ,    . </blockquote><p>  <strong>Example</strong> </p><br><p>     ,   , . .     ‚Äî      . . </p><br><p>       : </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WritingState</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">write</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $words)</span></span></span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UpperCase</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WritingState</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">write</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $words)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> strtoupper($words); } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LowerCase</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WritingState</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">write</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $words)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> strtolower($words); } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Default</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WritingState</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">write</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $words)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $words; } }</code> </pre> <br><p>  : </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TextEditor</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $state; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(WritingState $state)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;state = $state; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setState</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(WritingState $state)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;state = $state; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">type</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $words)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;state-&gt;write($words); } }</code> </pre> <br><p> : </p><br><pre> <code class="php hljs">$editor = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TextEditor(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Default</span></span>()); $editor-&gt;type(<span class="hljs-string"><span class="hljs-string">'First line'</span></span>); $editor-&gt;setState(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> UpperCase()); $editor-&gt;type(<span class="hljs-string"><span class="hljs-string">'Second line'</span></span>); $editor-&gt;type(<span class="hljs-string"><span class="hljs-string">'Third line'</span></span>); $editor-&gt;setState(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LowerCase()); $editor-&gt;type(<span class="hljs-string"><span class="hljs-string">'Fourth line'</span></span>); $editor-&gt;type(<span class="hljs-string"><span class="hljs-string">'Fifth line'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Output: // First line // SECOND LINE // THIRD LINE // fourth line // fifth line</span></span></code> </pre> <br><h3 id="imagehttpshabrastorageorgfilesdc3e84492dc3e84492b0f47e0954fd7454fcad987png-shablonnyy-metod"><img src="https://habrastorage.org/files/dc3/e84/492/dc3e84492b0f47e0954fd7454fcad987.png" alt="image">   </h3><br><p>  <strong>Analogy</strong> </p><br><p> ,    .   : </p><br><ul><li>  . </li><li>  . </li><li>  . </li><li>  . </li></ul><br><p>     .        ‚Äî  . .    : , ,    ,   . </p><br><p>  <strong>In short</strong> </p><br><p> ¬´ ¬ª     ,       . </p><br><p>  <strong>Wikipedia</strong> </p><br><blockquote> ¬´ ¬ª ‚Äî   ,          ,      . </blockquote><p>  <strong>Example</strong> </p><br><p> ,     ,  ,     (lint),  ,    (   ,     . .),       . </p><br><p>        . </p><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Builder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   final public function build() { $this-&gt;test(); $this-&gt;lint(); $this-&gt;assemble(); $this-&gt;deploy(); } abstract public function test(); abstract public function lint(); abstract public function assemble(); abstract public function deploy(); }</span></span></code> </pre> <br><p>   : </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AndroidBuilder</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Builder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Running android tests'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lint</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Linting the android code'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">assemble</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Assembling the android build'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deploy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Deploying android build to server'</span></span>; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IosBuilder</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Builder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Running ios tests'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lint</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Linting the ios code'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">assemble</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Assembling the ios build'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deploy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Deploying ios build to server'</span></span>; } }</code> </pre> <br><p> : </p><br><pre> <code class="php hljs">$androidBuilder = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AndroidBuilder(); $androidBuilder-&gt;build(); <span class="hljs-comment"><span class="hljs-comment">// Output: //  Android- //  Android- //  Android- //  Android-   $iosBuilder = new IosBuilder(); $iosBuilder-&gt;build(); // Output: //  iOS- //  iOS- //  iOS- //  iOS-  </span></span></code> </pre> <br><h3 id="imagehttpshabrastorageorgfiles2e7927eb22e7927eb26194671b5d86ec03e6ebc94png-zakruglyaemsya"><img src="https://habrastorage.org/files/2e7/927/eb2/2e7927eb26194671b5d86ec03e6ebc94.png" alt="image">  Round out </h3><br><p>    .           .    . </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/325492/">https://habr.com/ru/post/325492/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../325482/index.html">Implementation of pseudo-3D in racing games</a></li>
<li><a href="../325484/index.html">The influence of ambient music on the process of writing code</a></li>
<li><a href="../325486/index.html">Is there life after 30: history of CiscoSystems</a></li>
<li><a href="../325488/index.html">Different approaches to balancing traffic</a></li>
<li><a href="../325490/index.html">"Man in the middle" using revoked certificates. Part 1</a></li>
<li><a href="../325494/index.html">Why in the standard library there are no tools to combat hanging links and how to fix it?</a></li>
<li><a href="../325498/index.html">Facilitating the reversal of Golang binaries or why even write scripts in IDA</a></li>
<li><a href="../325502/index.html">Spectral analysis of signals from non-linear links of ACS in Python</a></li>
<li><a href="../325504/index.html">We automate everything: the new version of OneBox Next (CRM + ERP) is available for free</a></li>
<li><a href="../325508/index.html">Posting 3CX on Google Compute Engine</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>