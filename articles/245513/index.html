<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Read SVG in C ++</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When choosing a format for storing or exchanging vector 2D images, SVG is one of the main contenders, due to its openness and prevalence. For all its ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Read SVG in C ++</h1><div class="post__text post__text-html js-mediator-article">  When choosing a format for storing or exchanging vector 2D images, SVG is one of the main contenders, due to its openness and prevalence.  For all its merits, the authors, in my opinion, were overly fascinated by the convenience and flexibility in creating documents, which led to great variability and redundancy, and, consequently, the complexity of reading.  In addition, for the sake of compactness, various grammars were invented, embedded in XML, which also added a headache to programmers. <br><br>  Now there are several C / C ++ libraries that can load SVG and draw it into raster, but this is only a small part of possible applications of SVG in applications. <br><br>  I developed a C ++ library that should take on the implementation of most of the nuances of the specification, providing the SVG data in a convenient way. <a name="habracut"></a>  The task was not to impose on the programmer any simplifications of the initial information from the SVG.  For example, the developer is often not interested in what units of measurement the length was given, it is more convenient for him to work with the values ‚Äã‚Äãreduced to the same dimension.  But in some cases (for example, creating SVG DOM) information about the units must be passed to the program.  Or rectangles, circles, etc. - in some cases it is convenient to represent them in ways (path) for uniformity, but sometimes we want to know what kind of a figure it was. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, meet, <a href="http://svgpp.org/">SVG ++ 1.0</a> ! <br><ul><li>  Free for commercial and non-commercial use, the license is <a href="http://www.boost.org/LICENSE_1_0.txt">Boost</a> . </li><li>  Header-only, cross-platform, enough C ++ 03. </li><li>  From third-party libraries, only Boost is required.  Oh yeah, another XML parser for your taste.  Out of the box, there are adapters for <a href="https://github.com/svgpp/rapidxml_ns">RapidXML NS</a> , libxml2, and MSXML, but the support of others is easy. </li></ul><br><br>  As is customary, a motivating example: <br><br><pre><code class="hljs rust">#include &lt;rapidxml_ns/rapidxml_ns.hpp&gt; #include &lt;svgpp/policy/xml/rapidxml_ns.hpp&gt; #include &lt;svgpp/svgpp.hpp&gt; using namespace svgpp; class Context { public: void on_enter_element(tag::element::any); void on_exit_element(); void transform_matrix(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> boost::array&lt;double, <span class="hljs-number"><span class="hljs-number">6</span></span>&gt; &amp; matrix); void path_move_to(double x, double y, tag::coordinate::absolute); void path_line_to(double x, double y, tag::coordinate::absolute); void path_cubic_bezier_to( double x1, double y1, double x2, double y2, double x, double y, tag::coordinate::absolute); void path_quadratic_bezier_to( double x1, double y1, double x, double y, tag::coordinate::absolute); void path_elliptical_arc_to( double rx, double ry, double x_axis_rotation, <span class="hljs-built_in"><span class="hljs-built_in">bool</span></span> large_arc_flag, <span class="hljs-built_in"><span class="hljs-built_in">bool</span></span> sweep_flag, double x, double y, tag::coordinate::absolute); void path_close_subpath(); void path_exit(); }; typedef boost::mpl::set&lt; tag::element::circle, tag::element::ellipse, tag::element::line, tag::element::path, tag::element::polygon, tag::element::polyline, tag::element::rect, tag::element::svg, tag::element::g &gt;::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">processed_elements_t</span></span></span></span>; typedef boost::mpl::insert&lt; traits::shapes_attributes_by_element, tag::attribute::transform &gt;::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">processed_attributes_t</span></span></span></span>; void loadSvg(rapidxml_ns::xml_node&lt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> * xml_root_element) { Context context; document_traversal&lt; processed_elements&lt;processed_elements_t&gt;, processed_attributes&lt;processed_attributes_t&gt; &gt;::load_document(xml_root_element, context); }</code> </pre> <br><br>  This small code allows Context objects to get information about the geometry of SVG objects.  To do this, ‚Äúunder the hood‚Äù of SVG ++, support is provided for the features of the SVG <i>path</i> , the <i>basic shapes</i> , <i>units</i> and <i>transformations</i> .  <u>And this is only a small part of the capabilities of SVG ++.</u> <br>  <i>In fact, for full support of geometry (even without drawing styles, clipping, masks, etc.), several more steps are required (take into account the size of the viewports, device resolution, links, etc.), but about this in the examples, <a href="http://svgpp.org/en/latest/lesson01.html">tutorial'e</a> and help.</i> <br><br>  The library does not draw and will not draw anything by itself, however, it includes the demo application svgpp / src / demo / render, which implements rasterization of SVG (some subset of the specification), using <a href="http://antigrain.com/">AGG</a> or GDI + for drawing. <br><br>  For the full use of the library is very desirable familiarity with the <a href="http://www.w3.org/TR/SVG/">specification of</a> SVG. <br><br><ul><li>  Library home page with documentation - <a href="http://svgpp.org/">svgpp.org</a> (documentation is being prepared for translation into English, therefore temporary mishmash Russian and english languages) </li><li>  GitHub repository <a href="https://github.com/svgpp/svgpp">github.com/svgpp/svgpp</a> </li><li>  <a href="https://groups.google.com/forum/">Forum</a> on Google Groups </li></ul></div><p>Source: <a href="https://habr.com/ru/post/245513/">https://habr.com/ru/post/245513/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../245503/index.html">Concurrent programming with CUDA. Part 1: Introduction</a></li>
<li><a href="../245505/index.html">How to independently register Ltd.</a></li>
<li><a href="../245507/index.html">ASH Viewer</a></li>
<li><a href="../245509/index.html">Onto engineer: work on concepts</a></li>
<li><a href="../245511/index.html">Analog video capture with STM32F4-DISCOVERY</a></li>
<li><a href="../245515/index.html">Time Series, metrics and statistics: familiarity with InfluxDB</a></li>
<li><a href="../245517/index.html">A simple built-in woofer amplifier on a chip with an FM receiver based on Arduino</a></li>
<li><a href="../245521/index.html">Qt 5.4 and Qt Creator 3.3 Release</a></li>
<li><a href="../245523/index.html">Concurrent programming with CUDA. Part 2: GPU hardware and parallel communication patterns</a></li>
<li><a href="../245525/index.html">Peter Thiel: How to build a monopoly?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>