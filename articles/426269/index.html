<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A python kivy application for dietary diversity. From the code to the receipt of the .apk file for Android</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I study python kivy and for myself decided to write a small application to diversify my diet. Decided to share. The article is designed for beginners ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A python kivy application for dietary diversity. From the code to the receipt of the .apk file for Android</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/un/qp/bb/unqpbbu0zqrbyug9_oyhmkxfkrc.jpeg"><br>  I study python <a href="https://kivy.org/">kivy</a> and for myself decided to write a small application to diversify my diet.  Decided to share.  The article is designed for beginners in kivy.  The application takes about 100 lines of code. <br><br>  The purpose of creating a bike <s>application</s> : <br><br><ol><li>  Avoid frequent repetitions in the diet.  To not eat the same dish too often. </li><li>  I did not forget the dishes that I ate, then I forgot, and for years I did not return to them, because I did not remember the corny.  It happens to me. </li></ol><a name="habracut"></a><br><h2>  <font color="#cc0000">Intro</font> </h2><br>  You can not read in any intro lyrics. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I had to live in one country, in the same hotel, where they were fed daily for breakfast eggs and nothing more, and after a month it began to itch.  He applied for medical help, although he had never suffered from anything like this before.  Having learned from bitter experience, after this, he decided for himself to allow as few repetitions as possible in the food, so that nothing could accumulate in the body.  This is my personal experience, I'm just telling, without imposing.  Perhaps there are no rules, without exception, probably oatmeal can be eaten every day for dozens of years. <br><br><h2>  <font color="#cc0000">Screenshots</font> </h2><br><img src="https://habrastorage.org/webt/ub/o4/l2/ubo4l2ajlvsmzdaaqoiohlje7vw.png"><br><br>  Suppose my diet consists of 50 dishes.  For example, today I ate an omelet.  I click on the button, and the omelette is on the 50th line in the queue, and there are 49 dishes in front of it, which I will eat to get to the omelet again.  That's the whole logic of the application.  (On the screenshots the dishes are naked, all coincidences are random, they have no relation to my real diet). <br><br><h2>  <font color="#cc0000">Source Code and Explanations</font> </h2><br>  <b>main.py</b> <br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.app <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> App <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.button <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Button <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.boxlayout <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> BoxLayout <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.screenmanager <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ScreenManager, Screen <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.recycleview <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> RecycleView <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.gridlayout <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> GridLayout <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.core.window <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Window <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.config <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ConfigParser <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.textinput <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> TextInput <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.label <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Label <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.metrics <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> dp <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> datetime <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> datetime <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ast <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MenuScreen</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Screen)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, **kw)</span></span></span><span class="hljs-function">:</span></span> super(MenuScreen, self).__init__(**kw) box = BoxLayout(orientation=<span class="hljs-string"><span class="hljs-string">'vertical'</span></span>) box.add_widget(Button(text=<span class="hljs-string"><span class="hljs-string">' '</span></span>, on_press=<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: set_screen(<span class="hljs-string"><span class="hljs-string">'list_food'</span></span>))) box.add_widget(Button(text=<span class="hljs-string"><span class="hljs-string">'    '</span></span>, on_press=<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: set_screen(<span class="hljs-string"><span class="hljs-string">'add_food'</span></span>))) self.add_widget(box) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SortedListFood</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Screen)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, **kw)</span></span></span><span class="hljs-function">:</span></span> super(SortedListFood, self).__init__(**kw) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_enter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#       self.layout = GridLayout(cols=1, spacing=10, size_hint_y=None) self.layout.bind(minimum_height=self.layout.setter('height')) back_button = Button(text='&lt;    ', on_press=lambda x: set_screen('menu'), size_hint_y=None, height=dp(40)) self.layout.add_widget(back_button) root = RecycleView(size_hint=(1, None), size=(Window.width, Window.height)) root.add_widget(self.layout) self.add_widget(root) dic_foods = ast.literal_eval( App.get_running_app().config.get('General', 'user_data')) for f, d in sorted(dic_foods.items(), key=lambda x: x[1]): fd = f.decode('u8') + ' ' + (datetime.fromtimestamp(d).strftime('%Y-%m-%d')) btn = Button(text=fd, size_hint_y=None, height=dp(40)) self.layout.add_widget(btn) def on_leave(self): #       self.layout.clear_widgets() #   class AddFood(Screen): def buttonClicked(self, btn1): if not self.txt1.text: return self.app = App.get_running_app() self.app.user_data = ast.literal_eval( self.app.config.get('General', 'user_data')) self.app.user_data[self.txt1.text.encode('u8')] = int(time.time()) self.app.config.set('General', 'user_data', self.app.user_data) self.app.config.write() text = "  : " + self.txt1.text self.result.text = text self.txt1.text = '' def __init__(self, **kw): super(AddFood, self).__init__(**kw) box = BoxLayout(orientation='vertical') back_button = Button(text='&lt;    ', on_press=lambda x: set_screen('menu'), size_hint_y=None, height=dp(40)) box.add_widget(back_button) self.txt1 = TextInput(text='', multiline=False, height=dp(40), size_hint_y=None, hint_text=" ") box.add_widget(self.txt1) btn1 = Button(text=" ", size_hint_y=None, height=dp(40)) btn1.bind(on_press=self.buttonClicked) box.add_widget(btn1) self.result = Label(text='') box.add_widget(self.result) self.add_widget(box) def set_screen(name_screen): sm.current = name_screen sm = ScreenManager() sm.add_widget(MenuScreen(name='menu')) sm.add_widget(SortedListFood(name='list_food')) sm.add_widget(AddFood(name='add_food')) class FoodOptionsApp(App): def __init__(self, **kvargs): super(FoodOptionsApp, self).__init__(**kvargs) self.config = ConfigParser() def build_config(self, config): config.adddefaultsection('General') config.setdefault('General', 'user_data', '{}') def set_value_from_config(self): self.config.read(os.path.join(self.directory, '%(appname)s.ini')) self.user_data = ast.literal_eval(self.config.get( 'General', 'user_data')) def get_application_config(self): return super(FoodOptionsApp, self).get_application_config( '{}/%(appname)s.ini'.format(self.directory)) def build(self): return sm if __name__ == '__main__': FoodOptionsApp().run()</span></span></code> </pre> <br>  I deliberately did not use kv files, as the code is given for educational purposes, for people who are familiar with python.  Everything is written on bare python.  In the explanations, I will not dwell on the explanation of the python code, but immediately go to the specific features of Kivy. <br><br>  Go: <br><br><ul><li><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MenuScreen</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Screen)</span></span></span><span class="hljs-class">:</span></span></code> </pre> <br>  The class is responsible for launching the starting page of the application, it can be called as you like, for example, StartScreen.  And inherits the <a href="https://kivy.org/doc/stable/api-kivy.uix.screenmanager.html">kivy Screen module</a> .  The application consists of 3 windows, these windows are created using this module. </li><li><pre> <code class="python hljs">box = BoxLayout(orientation=<span class="hljs-string"><span class="hljs-string">'vertical'</span></span>)</code> </pre> <br>  <a href="https://kivy.org/doc/stable/api-kivy.uix.boxlayout.html">BoxLayout</a> divides the screen into equal parts, horizontally by default, I wrote orientation = 'vertical' to divide vertically </li><li><pre> <code class="python hljs">Button(text=<span class="hljs-string"><span class="hljs-string">' '</span></span>, on_press=<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: set_screen(<span class="hljs-string"><span class="hljs-string">'list_food'</span></span>))</code> </pre><br>  <a href="https://kivy.org/doc/stable/api-kivy.uix.button.html">Button</a> - creates buttons, in on_press it is set which function will be launched when pressed. <br></li><li><pre> <code class="python hljs">.add_widget()</code> </pre>  - adds buttons to layers and windows </li><li><pre> <code class="python hljs">self.layout = GridLayout(cols=<span class="hljs-number"><span class="hljs-number">1</span></span>, spacing=<span class="hljs-number"><span class="hljs-number">10</span></span>, size_hint_y=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>)</code> </pre> <br>  <a href="https://kivy.org/doc/stable/api-kivy.uix.gridlayout.html">Grid Layout is</a> somewhat similar to the table tag in html, indicating cols - the number of columns or rows - the number of rows. <br><br>  You can specify both parameters or one parameter. <br>  The screen will be divided into the desired number of compartments. <br></li><li><pre> <code class="python hljs">root = RecycleView(size_hint=(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>), size=(Window.width, Window.height))</code> </pre> <br>  <a href="https://kivy.org/doc/stable/api-kivy.uix.recycleview.html">RecycleView</a> is the module that creates vertical scrolling in my application.  A feature of RecycleView is that it builds scrolls with elements of the same width and height.  And it works fast.  And there is a <a href="https://kivy.org/doc/stable/api-kivy.uix.scrollview.html">ScrollView</a> module, it can build scrolls with elements of different sizes, but it works slower than RecycleView <br></li><li><pre> <code class="python hljs">config.get(<span class="hljs-string"><span class="hljs-string">'General'</span></span>, <span class="hljs-string"><span class="hljs-string">'user_data'</span></span>)</code> </pre>  - in the code such lines are often found.  I just used <a href="https://kivy.org/doc/stable/api-kivy.config.html">Config kivy</a> as my data store.  Well, let there be several thousand dishes, it makes no sense to make a garden with sqlite and something similar.  All data is stored in one file.  This file is stored in the same folder as the application itself, if you specify self.directory as in my code, but you can specify <a href="https://kivy.org/doc/stable/api-kivy.app.html">self.user_data_dir</a> so that this file is not destroyed during the swap or updates. </li></ul><br><h2>  <font color="#cc0000">Run on windows &amp; linux &amp; macos</font> </h2><br>  The principle for all operating systems is the same: <br><br><ol><li>  We put python3 </li><li>  <a href="https://kivy.org/doc/stable/installation/installation.html">We put kivy</a> </li><li>  Create a main.py file and stick the entire code above into it </li><li>  Run the command <br><br><pre> <code class="python hljs">python3 main.py</code> </pre> </li></ol><br>  The program should earn. <br><br><h2>  <font color="#cc0000">Build an apk file and run on your Android phone</font> </h2><br>  So, we have a program code file written in python.  How to create an application now so that it can be launched on an Android phone?  Previously, it was quite a tricky process, requiring skills and dancing with a tambourine.  Now this is not a problem. <br>  Here is a step by step guide: <br><br><ol><li>  We download the ready virtual machine from the kivy developers in which everything is already configured.  <a href="https://github.com/Zen-CODE/kivybits/blob/master/KivyCompleteVM/ReadMe.txt">https://github.com/Zen-CODE/kivybits/blob/master/KivyCompleteVM/ReadMe.txt</a> .  Password: kivy <br></li><li>  Run it in the Virtual Box. </li><li>  Open the terminal and enter the following commands: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#    python-for-android cd /home/kivy/Repos rm -fr python-for-android/ git clone https://github.com/kivy/python-for-android.git cd ~ mkdir Project cd Project git clone https://github.com/Alexmod/FoodOptions.git cd FoodOptions buildozer android debug #        100500  , #       .</span></span></code> </pre></li><li>  The last command creates the bin folder in the same directory, in bin you will find the file foodoptions-0.1-debug.apk, which you can upload to your phone, install and enjoy the application. </li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/co/nq/la/conqla41ldeuegbg4lwlbqztwqc.png"></div><br>  <b>How to upload apk file to phone?</b> <br><br>  You can, of course, do it as you please, send yourself by mail, put it somewhere, put it in telegrams, etc., and then download the application to your phone. <br><br>  But there is a specialized tool for this.  We turn on the developer mode on the phone, connect it with a USB cable.  The virtual player should see that you have connected the phone.  Next install adb: <br><br><pre> <code class="bash hljs">sudo apt install adb</code> </pre> <br>  After installation, go to the bin folder and enter the command <br><br><pre> <code class="bash hljs">adb install -r foodoptions-0.1-debug.apk</code> </pre> <br>  And after about a minute you can see the application on your phone after <br>  Success in the console. <br><br><pre> <code class="bash hljs">kivy@kivy-complete:~/Project/FoodOptions/bin$ adb install -r foodoptions-0.1-debug.apk 342 KB/s (10083019 bytes <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> 28.730s) Success kivy@kivy-complete:~/Project/FoodOptions/bin$</code> </pre><br>  If suddenly the application crashes or does not behave as expected, then there is such a command to view errors <br><br><pre> <code class="bash hljs">adb logcat| grep python</code> </pre> <br>  <b>Russian application name</b> <br><br>  If you want your application to be called in Russian, for example, ‚ÄúFood Diary‚Äù, then you need to make changes to the file: <br><br><pre> <code class="hljs pgsql">.buildozer/android/platform/build/dists/foodoptions/templates/strings.tmpl.xml</code> </pre><br>  The Russian name of the application is written into the appName tag, this folder is created after the first launch of the buildozer android debug.  After editing the file, go back to the FoodOptions folder and run the buildozer android debug again.  The file will be collected in a new way.  After installation on the phone, the program name will be written in Russian. <br><br>  <b>About buildozer.spec</b> <br><br>  Here is my github file: <a href="">buildozer.spec</a> <br>  It is this file that tells buildozer how to build the package. <br><br>  There are many different variations.  To whom it is interesting, then enter the following command inside virtualke <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /tmp buildozer init</code> </pre><br>  A default buildozer.spec file will be created with a bunch of comments and explanations.  For example, if you want an icon of your own for an application, you specify in the line: <br><br><pre> <code class="bash hljs">icon.filename = %(source.dir)s/data/icon.png</code> </pre> <br>  your file with an icon.  And the application will be assembled with your icon. <br><br>  If you need to load any specific module that is not included in the official python library, then this is done in the requirements = line.  In general, the story of the buildozer.spec file can take a whole article, or even two. <br><br>  <b>Downloading the app on Google Play</b> <br><br>  It is necessary to register, go through all the procedures, get the keys.  And then run: <br><br><pre> <code class="bash hljs">sudo apt install zipalign buildozer android release jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore /path/keystore bin/apk-unsigned.apk apkname zipalign -v 4 bin/apk-apkname-unsigned.apk bin/apk-apkname-release.apk</code> </pre> <br>  The resulting file apk-apkname-release.apk upload to Google Play. <br><br><h2>  <font color="#cc0000">Links</font> </h2><br><ul><li>  <a href="https://www.youtube.com/playlist%3Flist%3DPLvoBekrlHDgT2t0PH1J1VT_Bk2ziEAWMs">Video lessons on kivy in Russian</a> .  I personally liked </li><li>  Articles on Habr√© about kivy from <a href="https://habr.com/users/heattheatr/" class="user_link">HeaTTheatR</a> (and thanks to him for the help!) </li></ul><br>  In principle, anyone who can program in python can change the application and easily add the following: <br><br><ol><li>  <a href="https://github.com/HeaTTheatR/KivyMD">Add design</a> to make the application beautiful </li><li>  <a href="https://kivy.org/doc/stable/guide/lang.html">Use kv-files</a> to make the code easier.  I would give this analogy: those who are familiar with web programming, imagine a code without html templates and with html templates.  Putting buttons, layers and other things into kv-files is something like jinja2 for a web programmer.  The logic remains in .py files, and baubles - in kv-files. </li><li>  Add counting calories, protein, carbohydrates, fat (BJU) </li><li>  <a href="https://github.com/kivy/plyer/tree/master/examples/camera/basic">Add the ability to photograph food</a> </li></ol></div><p>Source: <a href="https://habr.com/ru/post/426269/">https://habr.com/ru/post/426269/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../426257/index.html">Is it time to upgrade?</a></li>
<li><a href="../426261/index.html">Cogear.JS - modern static site generator</a></li>
<li><a href="../426263/index.html">Wi-Fi 6 announced: what you need to know about the new standard</a></li>
<li><a href="../426265/index.html">Marine Automation Framework (SAF)</a></li>
<li><a href="../426267/index.html">A song about how project creation turned into hell</a></li>
<li><a href="../426271/index.html">Car Safety Tesla Model 3</a></li>
<li><a href="../426273/index.html">Install and configure Oracle Internet Directory to resolve database names</a></li>
<li><a href="../426275/index.html">How we looked for signs of medical errors</a></li>
<li><a href="../426277/index.html">What a programmer who is switching to Python needs to remember</a></li>
<li><a href="../426279/index.html">How audio formats and audio technologies ‚Äúfought‚Äù and evolved: a big historical digest</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>