<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Desktop JavaScript applications. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It's no secret that in our time JavaScript has become one of the most popular programming languages. In the distant 90s, at the time of the birth of t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Desktop JavaScript applications. Part 1</h1><div class="post__text post__text-html js-mediator-article">  It's no secret that in our time <i>JavaScript has</i> become one of the most popular programming languages.  In the distant 90s, at the time of the birth of the language, when it was created for the sole purpose of adding interactivity to web pages and improving the process of user interaction, who would have thought that it would reach such unprecedented heights.  After all, now you can do almost anything on it.  Want to write a website: both backend and frontend in javascript?  you are welcome!  Want to write a mobile application in javascript?  no problems.  You program a microcontroller - and then JavaScript will come to your aid. <br><br>  Of course, there are some minor drawbacks in the approach of using JavaScript everywhere, but if you think about it, how much time and effort you can save by learning only one language, especially if the same application should work on different platforms.  Different platforms say?  Hmm ... Exactly - different platforms - now JS can afford desktop applications for Windows, Linux, Mac, how can you ask?  The answer is simple: meet - <i>NW.js.</i> <br><br>  You can read the first letters - <i>Node.js + Webkit</i> , if these concepts are not yet familiar to you, then soon you will understand what is being said. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Node.js</b> is a software platform based on the V8 engine, which translates our script into machine code.  This platform was created in 2009 mainly to work with the backend sites. <br><br>  <b>WebKit</b> is a free engine developed by Apple.  First announced as part of Safari in 2003 <br>  So, the code written in JS for this technology will be available to both the Node.js modules and the standard browser API (respectively, WebKit) <br><a name="habracut"></a><br><h3>  Fast start </h3><br>  All this is nice, but where do you start?  On github you can find and download <a href="">the source repository</a> .  Also here you can find direct download links for the platform on which the development will be carried out.  Among other things, we will need an installed <a href="https://nodejs.org/">node.js.</a> <br><br>  After the necessary software was downloaded and installed, you wrote your application on your favorite JS (how to do this, read below) and localize everything into one folder.  Half the battle is done, now it remains the most difficult and long - to pack everything into one file and <a href="https://github.com/nwjs/nw.js/wiki/How-to-package-and-distribute-your-apps">prepare for distribution</a> .  For simplicity, you can use ready-made libraries, such as <a href="https://github.com/nwjs/nw-builder">nw-builder</a> .  Installing the library is easy if you have already worked with node.js.  As you know, node.js includes <i>the package manager npm</i> , with which you need to work from the command line.  In order to install any library, you need to run the command: <br><br><pre><code class="bash hljs">&gt; npm install [_] []</code> </pre> <br>  Please note that the library can be installed, both locally and globally, for local installation use the option <i>--save-dev</i> , for the global <i>-g</i> .  Thus, we put our collector for NW.js globally by running the command: <br><br><pre> <code class="bash hljs">&gt; npm install nw-builder -g</code> </pre><br>  In order to build our application, you need to execute the command (you can find more options in the <a href="https://github.com/nwjs/nw-builder">documentation</a> ): <br><br><pre> <code class="bash hljs">&gt; nwbuild -p [_] -o [_____] [__]</code> </pre><br>  The following values ‚Äã‚Äãcan be used as the platform name: <i>win32, win64, osx32, osx64, linux32, linux64</i> . <br><br>  During development, there is no need to build the application each time, you can simply launch it as it is and it will open in a separate window.  To do this, run the nw.exe application from the command line and pass the path to the folder with your application as parameters.  In addition, if you are working under Windows, you can simply drag-and-drop the folder with the source code of the application on the JS (note that it is the entire folder) into nw.exe using the drag-n-drop method. <br><br><h3>  Hello, world! </h3><br>  Now that you know how to run the application, how to build it into one file, let's write something.  By tradition, familiarity with the new platform begins with the writing of the application Hello, world. <br><br>  For this application, we do not even need <i>JavaScript</i> , only <i>HTML</i> .  Create a folder called <i>HelloWorld</i> .  Place the <i>index.html</i> file inside with the following markup: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> Hello, world <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> Hello, world, from NW.js <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  In addition, for each application under NW.js, a file is needed, which must necessarily be called <b>package.json</b> .  Information will be taken from it to build the application.  Create a simple version of the file and put it in the <i>HelloWorld</i> folder.  So: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"hello-world"</span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"First application"</span></span>, <span class="hljs-string"><span class="hljs-string">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"index.html"</span></span>, <span class="hljs-string"><span class="hljs-string">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Developer"</span></span>, <span class="hljs-string"><span class="hljs-string">"window"</span></span>: { <span class="hljs-string"><span class="hljs-string">"toolbar"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"width"</span></span>: <span class="hljs-number"><span class="hljs-number">500</span></span>, <span class="hljs-string"><span class="hljs-string">"height"</span></span>: <span class="hljs-number"><span class="hljs-number">200</span></span> } }</code> </pre><br>  The contents of the file are understandable without explanation (note that the <u>required fields are only main and name</u> ).  In <b>main,</b> you need to write a markup file that will be the entry point to the application.  The <b>window</b> section adjusts the window parameters (in this case, we disable the toolbar and set the window size to 500x200). <br><br>  In addition, you can configure such fields as (for a full list of options, refer to the <a href="https://github.com/nwjs/nw.js/wiki/Manifest-format">documentation</a> ): <br><br><ul><li>  <b>icon</b> - specify the path to the icon (override the standard one) </li><li>  <b>position</b> - you can specify the position of the window when loading ( <i>null</i> , <i>center</i> or <i>mouse</i> ) </li><li>  <b>min_width</b> , <b>min_height</b> , <b>max_width</b> , <b>max_height</b> - limit the size of the window </li><li>  <b>resizable</b> - a boolean value that shows whether the user can resize the window </li><li>  <b>fullscreen</b> - enable fullscreen mode </li><li>  <b>kiosk</b> - enable kiosk mode </li><li>  <b>transparent</b> - make the window transparent </li></ul><br>  The application is created and you can run it.  After launching (about how to do this, see the section above) you should get the following window: <br><br><img src="https://habrastorage.org/files/6f9/7dc/9f0/6f97dc9f05774021bad17f56fdbaefe5.png"><br><br>  The application is written, but there is only one div element in it and there is no logic at all, but what if we have markup rich in elements and complex logic?  We are come to the rescue by an element of the <b>toolbar</b> configuration file, which we set to false.  To make debugging tools available, you need to <u>set the toolbar to true</u> .  Doing this when you start the application, we get the following window: <br><br><img src="https://habrastorage.org/files/774/d7d/a1c/774d7da1c45a49bcabd323f8d3b163ba.png"><br><br>  After clicking on the button in the upper right corner, another window will open, which will display the familiar developer tools: <br><br><img src="https://habrastorage.org/files/026/c43/52b/026c4352bc7c451dba0e31cbd8363b4d.png"><br><br><h3>  Work with native controls </h3><br>  NW.js allows you to work with native controls.  Consider the work on the example <b>menu</b> .  To work with the native UI controls in nw.js, you must use the <b>nw.gui</b> module, which can be connected as follows: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gui = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'nw.gui'</span></span>);</code> </pre><br>  General template for using controls: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> element = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> gui.ElementName(option);</code> </pre><br>  Thus, to create menu items, you can use the following construction: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menu = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> gui.Menu();</code> </pre><br>  In addition, any properties of the object created by us can be easily changed with standard JS constructions, for example: <br><br><pre> <code class="javascript hljs">menu.title = <span class="hljs-string"><span class="hljs-string">'New Title'</span></span>;</code> </pre><br>  The menu has been created, now you need to fill it, there are methods for manipulating the child elements: <br><br><pre> <code class="javascript hljs">menu.append(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> gui.MenuItem({<span class="hljs-attr"><span class="hljs-attr">label</span></span>: <span class="hljs-string"><span class="hljs-string">'Label of menu item'</span></span>})); menu.removeAt(<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><br>  In addition, for a more flexible addition of items to the menu, you can use the <b>insert</b> method, in the parameters of which you need to pass the <i>MenuItem</i> and the position number where to insert it (the <i>position before the first item corresponds to 0</i> ). <br><br>  To access the created items you can use the <b>items</b> property: <br><br><pre> <code class="javascript hljs">menu.items[<span class="hljs-number"><span class="hljs-number">0</span></span>].title = <span class="hljs-string"><span class="hljs-string">"New title"</span></span></code> </pre><br>  Please note that you cannot directly create elements: <br><br><pre> <code class="javascript hljs">menu.items[<span class="hljs-number"><span class="hljs-number">2</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> gui.MenuItem(); <span class="hljs-comment"><span class="hljs-comment">// </span></span></code> </pre><br>  The most important thing when working with native controls is to remember that <u>any mistake when working with them can lead to the collapse of the entire application</u> , so you need to be extremely careful and, if possible, when deleting elements, also set the variable to null.  Thus, <i>to remove the control</i> , you can do the following: <br><br><pre> <code class="javascript hljs">control.remove(); control = <span class="hljs-literal"><span class="hljs-literal">null</span></span>;</code> </pre><br>  For more convenient work with controls, they are inherited from <a href="https://nodejs.org/api/events.html">EventEmitter</a> , so the good news is that we can easily work with events, like this: <br><br><pre> <code class="javascript hljs">menuitem.on(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  -  });</span></span></code> </pre><br>  The menu was created, but if you start the application, you will not see any menu.  To display the menu, there is a popup method, in the parameters of which you need to pass coordinates to display the menu. <br><br>  To demonstrate the basic features of the menu, add the following script to the <i>Hello, world</i> project created earlier: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gui = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'nw.gui'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menu1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> gui.Menu(); menu1.append(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> gui.MenuItem({<span class="hljs-attr"><span class="hljs-attr">label</span></span>: <span class="hljs-string"><span class="hljs-string">'Item 1'</span></span>})); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> subMenu1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> gui.Menu(); subMenu1.append(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> gui.MenuItem({<span class="hljs-attr"><span class="hljs-attr">label</span></span>: <span class="hljs-string"><span class="hljs-string">'Item 2'</span></span>})); menu1.append(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> gui.MenuItem({ <span class="hljs-attr"><span class="hljs-attr">label</span></span>: <span class="hljs-string"><span class="hljs-string">"Submenu"</span></span>, <span class="hljs-attr"><span class="hljs-attr">submenu</span></span>: subMenu1 })); <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.addEventListener(<span class="hljs-string"><span class="hljs-string">'contextmenu'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ev</span></span></span><span class="hljs-function">) </span></span>{ ev.preventDefault(); menu1.popup(ev.x, ev.y); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; });</code> </pre><br>  After starting the application, we can see the created context menu for the body.  Thus, we can define a context menu for any item. <br><br><img src="https://habrastorage.org/files/938/2bd/56a/9382bd56a6a6430a9c12aa831d565034.png"><br><br>  So, now everyone can create cross-platform applications, but you have to pay for everything.  In this case, we sacrifice both the speed and the occupied memory (the collected application is quite large, more than 50 MB).  A list of applications created using this technology can be found on <a href="">github</a> . <br><br>  In the second part of the article, we will look at technology in more detail. </div><p>Source: <a href="https://habr.com/ru/post/272389/">https://habr.com/ru/post/272389/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../272375/index.html">Apple has released Swift source code</a></li>
<li><a href="../272381/index.html">Useful Snippets for Nginx Configs</a></li>
<li><a href="../272383/index.html">Postulates Go</a></li>
<li><a href="../272385/index.html">True Snowden</a></li>
<li><a href="../272387/index.html">Resources for designers and front-end developers</a></li>
<li><a href="../272391/index.html">The story of how I wrote OS in Minecraft</a></li>
<li><a href="../272393/index.html">Creating a ToDo application with Realm and Swift</a></li>
<li><a href="../272395/index.html">PostgreSQL Document Designing API (Part 1)</a></li>
<li><a href="../272397/index.html">Cloud services that help us every day</a></li>
<li><a href="../272399/index.html">Passion for the domain Sex.com</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>