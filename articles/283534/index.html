<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Intel System Studio for Microcontrollers 2015: development and debugging details</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We have already talked about how to get started in Intel System Studio for Microcontrollers 2015 (ISSM) and create programs for the Intel Quark D1000....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Intel System Studio for Microcontrollers 2015: development and debugging details</h1><div class="post__text post__text-html js-mediator-article">  We have already talked about how to get started in Intel System Studio for Microcontrollers 2015 (ISSM) and create programs for the Intel Quark D1000.  Today we will talk about how to modify the simple firmware from the ISSM examples in IDE Eclipse.  Also consider the work with the reference board for conducting technical tests D1000 (Customer Reference Board, CRB).  Namely, using a JTAG connection, we use OpenOCD in order to flash the image we created in the microcontroller and debug the code. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f2b/b33/ab8/f2bb33ab88bc5a1888cbd07b11b5ba23.png"></div><a name="habracut"></a><br><h2>  <font color="#0071c5">Development environment for Intel Quark D1000</font> </h2><br>  Intel System Studio for Microcontrollers includes a C / C ++ compiler based on LLVM (composed of an assembler, linker and C / C ++ runtime libraries), a GDB debugger and an in-circuit debugger OpenOCD.  ISSM can be used as a stand-alone toolkit, but it also has plugins for integrating with Eclipse IDE. <br><br><h2>  <font color="#0071c5">We open the project of firmware in ISSM</font> </h2><br>  Before creating a project for Intel Quark D1000, you need to install the necessary software.  Namely: IDE Eclipse for C / C ++ developers, ISSM, Putty and Zadig.  When installing programs, try to follow carefully the manuals that can be found in the ISSM installation directory, in the ‚Äúdocs‚Äù folder.  Here we also assume that you understand the examples of ‚ÄúHello World‚Äù and ‚ÄúFW‚Äù for IDE Eclipse.  If this is not the case, please refer to the Using the Eclipse IDE user guide.  It can also be found in the aforementioned docs folder. <br>  After everything is ready for work, launch Eclipse using the batch file ‚ÄúrunEclipse.bat‚Äù, specifying the folder where Eclipse is installed as an argument.  Then open the firmware project, in our case it is ‚ÄúFW-D1000‚Äù, and build it.  Errors should not be. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      After the firmware was successfully assembled, locate the file ‚ÄúFW-D1000.elf‚Äù, which is located in the project folder ‚ÄúBinaries‚Äù.  Its contents will be the same as in the image below.  If you are unable to see the sections of the image with information about the characters, you need to check whether the objdump utility is installed on the computer.  If it is not really installed, refer to the ‚ÄúViewing GNU Elf and Map Files‚Äù section of the user manual in order to install ‚Äúobjdump‚Äù and configure the path to it on the computer. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/713/a47/d86/713a47d866f71833b4c419d934db1bd2.png"></div><br>  <i><font color="#999999">Dump object in file FW-D1000.elf</font></i> <br><br><h2>  <font color="#0071c5">Transferring data from a hardware interrupt handler</font> </h2><br>  After it became clear that the example ‚ÄúFW-D1000‚Äù compiles normally, it can be changed to fit your own needs.  Here we are going to change the string that the PushButton program displays from the FW-D1000 example in the terminal window. <br><br>  Navigate to the ‚ÄúApplicaition‚Äù folder of the ‚ÄúFW-D1000‚Äù project.  It has 10 sample applications for the Intel Quark D1000.  Review the ‚ÄúAppConfig.h‚Äù file to find out which particular application will be integrated into the project, and, if necessary, modify the file so that this application is ‚ÄúPUSH_BUTTON_TEST‚Äù.  This is what the file looks like in which the integration into the finished project of what we need is included. <br><br><pre><code class="hljs smalltalk">//<span class="hljs-symbol"><span class="hljs-symbol">#define</span></span> <span class="hljs-type"><span class="hljs-type">MAN_DECODING</span></span> //<span class="hljs-symbol"><span class="hljs-symbol">#define</span></span> <span class="hljs-type"><span class="hljs-type">POWER_MANAGEMENT_TEST</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#define</span></span> <span class="hljs-type"><span class="hljs-type">PUSH_BUTTON_TEST</span></span> //<span class="hljs-symbol"><span class="hljs-symbol">#define</span></span> <span class="hljs-type"><span class="hljs-type">ADC2SPI_TEST</span></span> //<span class="hljs-symbol"><span class="hljs-symbol">#define</span></span> <span class="hljs-type"><span class="hljs-type">ADC2GPIO_TEST</span></span> //<span class="hljs-symbol"><span class="hljs-symbol">#define</span></span> <span class="hljs-type"><span class="hljs-type">DDS_TEST</span></span> //<span class="hljs-symbol"><span class="hljs-symbol">#define</span></span> <span class="hljs-type"><span class="hljs-type">OSCILLATOR_RE_TRIM</span></span> //<span class="hljs-symbol"><span class="hljs-symbol">#define</span></span> <span class="hljs-type"><span class="hljs-type">PWM_TESTING</span></span> //<span class="hljs-symbol"><span class="hljs-symbol">#define</span></span> <span class="hljs-type"><span class="hljs-type">MOTOR_CTRL</span></span> //<span class="hljs-symbol"><span class="hljs-symbol">#define</span></span> <span class="hljs-type"><span class="hljs-type">UART_WAKE</span></span></code> </pre> <br>  Now go to the initial application file, ‚ÄúPushButton.c‚Äù, which is located in the ‚ÄúApplications‚Äù folder, and slightly modify the code.  As a result, when the program starts up the device, you will understand for sure that exactly its modified version is being executed.  Here we have corrected the string "rts_interrupt_msg".  This line will be displayed every second by interrupting the real-time clock (Real Time Clocl, RTC). <br><br><pre> <code class="hljs ruby">/<span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/          /</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ char rtc_interrupt_msg[] = "\r\nSean RTC interrupt!"; void rtc_callback_function_PB(void) { PUSH_UART(rtc_interrupt_msg,sizeof(rtc_interrupt_msg),0,0); rtc_callback(rtc_callback_function_PB); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/      }</span></span></code> </pre> <br>  Change the file, save it.  Now everything is ready for compilation and firmware image on the device. <br><br><h2>  <font color="#0071c5">Compile and flash the image on the D1000</font> </h2><br>  In order to flash the compiled image on the D1000, you need to establish a JTAG connection with the board.  This is described in detail in the ‚ÄúStarting Debugging Session‚Äù user's manual.  Before you open the OpenOCD perspective in Eclipse, check if OpenOCD was able to successfully read the IdCode code of the target CPU, if it matches the expected (‚ÄúExpected‚Äù) processor code. <br><br>  In this example, we connected via JTAG to the D1000 and established an OpenOCD connection before running Eclipse.  Sometimes Eclipse cannot read ‚ÄúIdCode‚Äù and shows zeros instead of code.  If this happens, click the reset button and see if OpenOCD has succeeded in correctly detecting the ‚ÄúIdCode‚Äù.  After everything has been determined, and you have waited for the appearance of messages, such as those shown in the figure below, you can flash the modified image on D1000. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b98/5b5/569/b985b5569bf26ca62079c12537fa4db3.png"></div><br>  <i><font color="#999999">OpenOCD console when connected to the D1000 reference board</font></i> <br><br>  After you have managed to establish a JTAG connection with the D1000 board, assemble the ‚ÄúFW-D1000‚Äù project in the Eclipse IDE.  If no errors are found during the build, the image file ‚ÄúFW-D1000.elf‚Äù will appear in the ‚ÄúBinaries‚Äù folder.  It can be flashed to the device using the debugging perspective ‚ÄúDebug‚Äù in Eclipse, which is configured to use GDB through OpenOCD. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ef1/e74/8e5/ef1e748e562120276a0e04202ca08636.png"></div><br>  <i><font color="#999999">Configuring the debugger to work with the D1000 reference board using OpenOCD</font></i> <br><br>  After the image is flashed, a message appears on the successful completion of the operation in the OpenOCD console (take a look at the picture with the console above).  In this example, it is necessary for the debugger to stop the process in the ‚Äúmain‚Äù function for step-by-step execution. <br><br>  The following figure shows how to set a breakpoint at the entrance to the "main".  The debugger, after completing the firmware and loading the image, will stop the processor at the beginning of the function and will be ready for step-by-step program execution. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fe8/c89/ddd/fe8c89ddd2864c3695d6fb3f5184cd01.png"></div><br>  <i><font color="#999999">Set a breakpoint in the function "main"</font></i> <br><br>  Now open the console serial port using Putty.  This is necessary in order to see the UART messages that will be displayed when the program sends a specified message on a hardware interrupt of a real-time clock (RTC) or when a button is pressed (ButtonPress). <br><br>  When connected to the D1000 board, we will have two USB devices at our disposal.  Namely, one is the Dual RS232 HS, which is used for the OpenOCD JTAG connection, and the second is the USB interface to the serial port.  Before launching the PushButton application, you must open a connection to the serial port using the Putty client with the following settings: Baudrate-19200, Flow Control-XON / XOFF. <br><br><h2>  <font color="#0071c5">Debug: Step-by-Step Code Execution</font> </h2><br>  When the image firmware is completed, the code will start debugging, from the very beginning of the ‚Äúmain‚Äù function, as shown in the figure below.  In this example, the PushButton program is launched, and then the debugger waits for the PushButton function, the main function of the application, to be called.  Here you can view the code written in a high-level language, as well as machine commands in the Disassembly window, in which the instruction of the current command pointer is highlighted. <br><br>  Now you can start debugging, perform steps with bypassing procedures (step over), steps with entering procedures (step into), resume (resume) execution of the program. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eea/0ec/525/eea0ec5250713ef863978d006020520f.png"></div><br>  <i><font color="#999999">The debugger stopped the processor at the beginning of the "main" function</font></i> <br><br>  Here we perform a step in the procedure, then we see the source code of the input function ‚ÄúPushButton‚Äù, the debugger opens ‚ÄúPushButton.c‚Äù in order to point to the next executable function. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8d3/96c/d26/8d396cd26c4184fcd2c7ec28a9b29ffe.png"></div><br>  <i><font color="#999999">Step into the procedure performed from the "main"</font></i> <br><br><h2>  <font color="#0071c5">Running an example on the D1000</font> </h2><br>  As a result, we can resume the execution of the program, it will work as usual.  If you now look at the Putty terminal window, you can see the message log from the D1000.  Messages containing exactly the line that we modified above in the example code are output by the interruptions of the real-time clock. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/240/008/5c9/2400085c9896371bc252d3ead957e76b.png"></div><br>  <i><font color="#999999">Test output of the program running on the D1000</font></i> <br><br><h2>  <font color="#0071c5">About hardware</font> </h2><br>  The reference board for conducting technical tests (CRB V2) contains the following components: <br><br><ul><li>  Intel Quark D1000 microcontroller. </li><li>  Accelerometer </li><li>  SPI flash memory. </li><li>  Bluetooth LE adapter. </li><li>  Serial port module for wifi. </li><li>  Serial Port Converter for USB and JTAG. </li><li>  Power module </li><li>  Battery charging circuit. </li></ul><br><h2>  <font color="#0071c5">Intel Quark D1000 Microcontroller</font> </h2><br>  The controller has 24 GPIO outputs, many of which are multifunctional (for details, see the table).  CRB V2 connects these pins to the pads of the circuit board, which is very similar to the Arduino, but is not fully compatible with this standard.  It is worth noting that several of the findings, in addition, are connected to peripheral devices located on the board.  In some cases, they cannot be used as multifunctional conclusions.  They are noted in the table and in the description of the hardware components of the board, which is given below.  Namely, when describing the outputs, their names are given for the D1000 microcontroller, for the Arduino, and for the CRB V2 board.  Note that the SPI interface is used to communicate with all peripheral devices built into the board using the following pins: <br><br><ul><li>  MST_M2SC (SPI data transfer synchronization signal output, Arduino - D13, CRB v2 - XPB5). </li><li>  MST_M2SD (serial data output (MOSI) SPI, Arduino - D11, CRB v2 - XPB3). </li><li>  MST_S2MD (serial data input (MISO) SPI input, Arduino - D12, CRB v2 - XPB4). </li></ul><br>  <i><font color="#999999">Connecting Intel Quark D1000 pins to CRB v2</font></i> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6f8/b2b/0d5/6f8b2b0d5edddea6b7560ca26567256d.png"></div><br><br>  The CRB V2, in addition, includes some other components whose behavior cannot be controlled by the D1000 microcontroller. <br><br><ul><li>  FTDI FT2232H is a serial port converter chip for USB and JTAG.  It is used to provide console (UART) connections to the D1000, for programming and debugging using the JTAG interface.  D6 (yellow) and D7 (green) LEDs are connected to the FTDI FT2232H, they blink when the device receives or sends data. <br><br></li><li>  Linear Technologies LTC4414, Texas Instruments BQ24080, Maxim Integrated MAX8869 controllers are used for power supply and battery charging.  D10 and D11 LEDs are connected to the BQ24080 and are used to indicate battery charge status. <br></li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f2b/b33/ab8/f2bb33ab88bc5a1888cbd07b11b5ba23.png"></div><br>  <i><font color="#999999">Intel Quark D1000 CRB v2 board layout</font></i> <br><br><h2>  <font color="#0071c5">findings</font> </h2><br>  Now you know how to work with firmware for Intel Quark D1000 in IDE Eclipse.  You can edit them, write to the device, test and debug the code.  We also talked about the reference board for conducting technical tests (CRB V2), which, in addition to the Quark D1000, includes a set of additional components.  <a href="http://www.intel.com/content/dam/www/public/us/en/documents/guides/quark-d1000-user-guide.pdf">Here</a> and <a href="http://www.intel.com/content/dam/www/public/us/en/documents/datasheets/quark-d1000-datasheet.pdf">here</a> you can find details about the Intel Quark D1000, and here about the ISSM. </div><p>Source: <a href="https://habr.com/ru/post/283534/">https://habr.com/ru/post/283534/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../283522/index.html">Multiple dispatch in C #</a></li>
<li><a href="../283526/index.html">35 useful tips for Ludum Dare members</a></li>
<li><a href="../283528/index.html">What makes a programmer a good programmer?</a></li>
<li><a href="../283530/index.html">Interfaces in the real world: we design the most hellish interface</a></li>
<li><a href="../283532/index.html">Game that is not a game</a></li>
<li><a href="../283536/index.html">Security Week 19: AI in security, zero days at Microsoft and Adobe, a different look at crypto-fiber</a></li>
<li><a href="../283538/index.html">We compile an audiobook base for easy filtering.</a></li>
<li><a href="../28354/index.html">Starting something new</a></li>
<li><a href="../283540/index.html">Fail2ban 0.10: New features. Test open</a></li>
<li><a href="../283542/index.html">I needed a report ...</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>