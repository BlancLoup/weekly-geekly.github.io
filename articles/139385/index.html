<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Remote Follow Focus on Arduino</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Once I decided to make a remote follow focus for my camera. This is a system that allows you to focus the lens from a certain distance. Thus, the came...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Remote Follow Focus on Arduino</h1><div class="post__text post__text-html js-mediator-article">  Once I decided to make a remote follow focus for my camera.  This is a system that allows you to focus the lens from a certain distance.  Thus, the camera can be located on a crane, a steadicam or on the shoulder of the operator, and the operator of the focus (focus puller) can turn the focus ring on the lens remotely.  The idea was born by itself when I watched what can be done with the help of Arduino. <br><br><img src="https://habrastorage.org/storage2/60b/7c2/ec4/60b7c2ec47ba58bede988b8316e705df.jpg"><br><a name="habracut"></a><br>  When all the components arrived, I proceeded to build the prototype.  For this project I used: <br><ol><li>  Arduino Duemilanove and Arduino Uno (different only because they were bought at intervals of several years) </li><li>  2 nRF24L01 + transceivers </li><li>  Servo machine </li><li>  Cogwheel (0.8 pitch) </li><li>  MaxSonar EZ0 </li><li>  7-Segment Serial Display </li><li>  10k variable resistor </li><li>  2 voltage regulators 3.3V </li><li>  Several capacitors and resistors to stabilize the power supply according to the specifications of the voltage regulator and sonar </li><li>  Development boards, loops, connectors, shrinking, wires, miscellaneous </li></ol>  With subsequent assembly into the case, I plan to use the Arduino Nano.  This version is substantially less than Duemilanove and Uno.  The only disadvantage of this board is that it does not give out 3.3V if it is not powered via USB.  That is why I added a voltage regulator to my prototype board. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/n0rP73TYfbY%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhh9KYHazEJ94ubjVj9y-vdMXVMyxQ" frameborder="0" allowfullscreen=""></iframe>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Transmitter (control unit) <br><img src="https://habrastorage.org/storage2/df3/283/ec2/df3283ec291d4dd09980ad2fcad3faa4.jpg"><br><br>  Receiver (performing unit) <br><img src="https://habrastorage.org/storage2/65d/610/ab9/65d610ab949db20f5bbf5f00a1208655.jpg"><br><br>  The task involves two blocks - the transmitter and receiver.  The transmitter reads the readings of the variable resistor, smoothes them and sends them by radio to the receiver.  The receiver accepts a packet with the position of the resistor knob and rotates the servo proportionally to this value. <br><br>  I was lucky and nRF24L01 + are able to communicate in two-way mode.  So I also installed the MaxSonar EZ0 ultrasonic rangefinder on the ‚Äúreceiver‚Äù.  It measures the distance to the object in front of the camera and this figure ‚Äúreceiver‚Äù sends to the ‚Äútransmitter‚Äù - to the control unit.  There, this figure is displayed on a 7-segment display.  She is supposed to help a person manage the focus.  For example, you can apply a scale around the handle so that you can focus on the numbers. <br><br>  Development board and module with nRF24L01 + <br><img src="https://habrastorage.org/storage2/b23/c9d/f38/b23c9df38843f3828f9424a51a0c57e2.jpg"><br><br>  MaxSonar EZ0 <br><img src="https://habrastorage.org/storage2/13e/072/be6/13e072be6f918d76f9a3d97426b59a42.jpg"><br><br>  The reverse side of one of the development boards <br><img src="https://habrastorage.org/storage2/959/9f7/edf/9599f7edf8776d3cea28834f9a99b952.jpg"><br><br>  In the process of working on this project, I encountered many different problems.  But almost all of them managed to heroically overcome. <br><br>  Here are some of them: <br><ol><li>  Floating value analog input.  For some reason, at the input from the resistor, I get a very large variation in values ‚Äã‚Äãat the moment when the handle is not spinning.  I solved the problem programmatically - averaging the values ‚Äã‚Äãand doing a few more tricks.  In general, the problem is almost solved.  I'll try another resistor.  The current seems to be older than me. </li><li>  Low positioning accuracy servos.  The default documentation suggests positioning the servo with an accuracy of 1 degree.  For me this was not enough.  Improved the situation with the writeMicroseconds function.  It allows you to more accurately rotate the gear. </li><li>  Receivers did not start immediately.  The problem was in the pinout on the page with the documentation.  I found another page in the network with a working pinout and the radio was working. </li><li>  Servo works jerky when using the serial port in the program.  Apparently, interrupts interfere with its timing.  And the most convenient data from MaxSonar was to take it out via the serial port.  I had to completely rewrite the program to interrupt and use PWM output.  From the analogue output, the distance was bad. </li><li>  PWM output at MaxSonar is not stable.  There is a spread of values.  But so far it is not critical for me.  I plan to solve this problem more radically in the future.  I still do not know how. </li><li>  The 7-segment display has managed to flip itself to another baud rate.  I thought for two days that it just burned out.  But then I thought of double-checking at all baud rate and saw that he was still a worker.  In general, it does not work very stable.  Perhaps due to the fact that I use SoftwareSerial.  Or due to the fact that the frequency generators for him and for Arduino are different. </li></ol>  Next, I plan to switch to Arduino Nano to save space, place the circuits in the case, solve the power issue (there will be a LiPo battery and charge from Mini USB), replace the servo, make a mount for the servo from the aluminum corner and not from polymorphic plastic.  And, of course, conduct field trials.  I hope that something will come out of this.  Do not switch. </div><p>Source: <a href="https://habr.com/ru/post/139385/">https://habr.com/ru/post/139385/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../139379/index.html">We write plugins for Android</a></li>
<li><a href="../139380/index.html">Research through functional testing</a></li>
<li><a href="../139382/index.html">Picasaweb API Authorization. We get a constant token</a></li>
<li><a href="../139383/index.html">Django micro</a></li>
<li><a href="../139384/index.html">STM32F1—Ö—Ö - we continue treatment for arduine dependence with the help of LCD</a></li>
<li><a href="../139386/index.html">Customize graphite + virtualenv + collectd</a></li>
<li><a href="../139387/index.html">Mercedes made a "transparent" car (LED and video camera)</a></li>
<li><a href="../139388/index.html">ikSelect - the perfect plugin for styling selektov</a></li>
<li><a href="../139390/index.html">Audio chat for 5 days</a></li>
<li><a href="../139392/index.html">Azure Service Bus: Non-Classical Application</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>