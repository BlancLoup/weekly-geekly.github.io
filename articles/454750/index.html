<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Swift UI - at a gallop across Europe</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="22:35. Delight 


 I looked WWDC 2019 Key Notes. The expected declarative UI really became a reality, and this is truly a universal event for the worl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Swift UI - at a gallop across Europe</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/rm/kt/z6/rmktz63wonvr2jf4eibvooq2aas.png" alt="image"></p><br><p>  <strong>22:35.</strong>  <strong>Delight</strong> </p><br><p>  I looked WWDC 2019 Key Notes.  The expected declarative UI really became a reality, and this is truly a universal event for the world of iOS development.  ‚ÄúWe need to write an article about this,‚Äù I thought, and thousands of iOS developers around the world who are in a state of exaltation, thought. </p><a name="habracut"></a><br><p>  <strong>05:30</strong>  <strong>Tutorials</strong> </p><br><blockquote>  Swift UI - a new framework developed by Apple, written in Swift, is intended for the declarative description of the UI in the code. </blockquote><p>  I noticed that every year in terms of documentation at Yabloko it becomes steeper and steeper.  This time, under Swift UI, they filled in <a href="https://developer.apple.com/tutorials/swiftui/creating-and-combining-views">several full-fledged tutorials</a> with step-by-step addition and interactive display of the result on the view, and at the end added carefully control questions to consolidate what was passed.  Well, just a fairy tale!  In the same place - links to example-projects. </p><br><p><img src="https://habrastorage.org/webt/6j/c1/mw/6jc1mwpjmuau62zp_cvpddp2jc4.png"><br>  Handsomely! </p><br><p>  I will not retell the tutorial in Russian, in such a beautiful form it is better to poke it in the original source.  I will describe my impressions and observations about this whole story with Swift UI and I will indulge in it a little. </p><br><p>  <strong>07:00</strong>  <strong>Installation</strong> </p><br><p>  The new Xcode has a new code editing mode - Editor And Canvas. </p><br><p><img src="https://habrastorage.org/webt/k-/cv/mb/k-cvmbq_k3svxvrwk47d_9ntza0.png"></p><br><p>  I didn‚Äôt see the canvas right away - for that, it‚Äôs not enough to download Xcode 11.0, you need to update Makos to 10.15.  Without it, Xcode will work, but without the charms in the form of canvas and, perhaps, something else. </p><br><p>  I was pleased that when you select the code, the corresponding element in the canvas will also be highlighted. </p><br><p>  New axis, exampl'y run.  Is it painted?  Well, yes, it happens.  Is the backlight falling off?  No, of course - the same never happened in Xcode;) But the canvas works, and changes to the view are reflected instantly if it is not a table with complex cells. </p><br><p><img src="https://habrastorage.org/webt/xq/py/8c/xqpy8ce-ku2qaaa_g4405ye5c_q.jpeg"></p><br><p>  <strong>09:22.</strong>  <strong>New project</strong> </p><br><p>  When creating a new project, the Use Swift UI option is now available and the project is created with the appropriate configuration. </p><br><p><img src="https://habrastorage.org/webt/an/uw/f1/anuwf1pecpucufpasejxodbkou0.png"></p><br><p> Immediately struck by the new file <code>SceneDelegate</code> , which creates a window and its root view.  But in <code>AppDelegate</code> there is not a word about it.  But there is a new method that creates <code>UISceneConfiguration</code> : </p><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">application</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> application: UIApplication, configurationForConnecting connectingSceneSession: UISceneSession, options: UIScene.ConnectionOptions)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">UISceneConfiguration</span></span> { <span class="hljs-comment"><span class="hljs-comment">// Called when a new scene session is being created. // Use this method to select a configuration to create the new scene with. return UISceneConfiguration(name: ¬´Default Configuration¬ª, sessionRole: connectingSceneSession.role) }</span></span></code> </pre> <br><p>  Well, the <code>Default Configuration</code> itself is in <code>Info.plist</code> and <code>SceneDelegate</code> indicated there.  Everything fell into place. </p><br><p><img src="https://habrastorage.org/webt/xm/bo/jb/xmbojbh1dva39o9d1_o2joldl_q.png"></p><br><p>  But back to <code>SceneDelegate</code> - the launch takes place in it. </p><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scene</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> scene: UIScene, willConnectTo session: UISceneSession, options connectionOptions: UIScene.ConnectionOptions)</span></span></span></span> { <span class="hljs-comment"><span class="hljs-comment">// Use this method to optionally configure and attach the UIWindow `window` to the provided UIWindowScene `scene`. // If using a storyboard, the `window` property will automatically be initialized and attached to the scene. // This delegate does not imply the connecting scene or session are new (see `application:configurationForConnectingSceneSession` instead). // Use a UIHostingController as window root view controller let window = UIWindow(frame: UIScreen.main.bounds) window.rootViewController = UIHostingController(rootView: ContentView()) self.window = window window.makeKeyAndVisible() }</span></span></code> </pre> <br><p>  <code>UIHostingController</code> is a <code>generic UIViewController</code> that can have any type of content under the new <code>View</code> protocol </p><br><pre> <code class="plaintext hljs">open class UIHostingController&lt;Content&gt; : UIViewController where Content : View { /// }</code> </pre> <br><p>  <code>View</code> protocol is simple to the obscene: </p><br><pre> <code class="plaintext hljs">public protocol View : _View { associatedtype Body : View var body: Self.Body { get } }</code> </pre> <br><p>  That is, he needs only to implement the <code>body</code> . <br>  But the trick is that a whole ton of extensions is written on this <code>View</code> protocol, for example, for hanging gestures, for tracking the appearance and disappearance of a view from the screen, for indents, frames, and many, many things.  You can see all this in the dock <a href="https://developer.apple.com/documentation/swiftui/view">View |</a>  <a href="https://developer.apple.com/documentation/swiftui/view">Apple Developer Documentation</a> .  This means that <em>any view you create (under the <code>View</code> protocol) out of the box will get a bunch of super powers!</em> </p><br><p>  Let's <code>ContentView.swift</code> on to <code>ContentView.swift</code> . </p><br><pre> <code class="plaintext hljs">struct ContentView : View { var body: some View { Text(¬´Hello World¬ª) } }</code> </pre> <br><p>  It's simple: we create a view from the already implemented <a href="https://developer.apple.com/documentation/swiftui/views_and_controls">Views and Controls |</a>  <a href="https://developer.apple.com/documentation/swiftui/views_and_controls">Apple Developer Documentation</a> .  Could make it more complicated using different containers <a href="https://developer.apple.com/documentation/swiftui/view_layout_and_presentation">View Layout and Presentation |</a>  <a href="https://developer.apple.com/documentation/swiftui/view_layout_and_presentation">Apple Developer Documentation</a> and the views that we have already created. </p><br><p>  Layout with Swift UI is a separate story, about which many more materials will be written, and Apple has a decent tutorial.  I will not dwell on it.  Let's return to the second part of <code>ContentView.swift</code> , there is such code there: </p><br><pre> <code class="plaintext hljs">#if DEBUG struct ContentView_Previews : PreviewProvider { static var previews: some View { ContentView() } } #endif</code> </pre> <br><p>  Obviously by name, it is he who is responsible for what is displayed in the canvas - and it will display the <code>previews</code> , in our case <code>ContentView()</code> . </p><br><p>  Let's try to create a screen with a primitive table: </p><br><pre> <code class="plaintext hljs">struct ContentView : View { var birds: [Birds] = [] var body: some View { List(birds) { bird in Text(verbatim: bird.name) } } }</code> </pre> <br><p>  Everything.  Is done.  Simple, concise, elegant.  Here it is all the beauty of the declarative UI! </p><br><p>  It can be seen that the <code>List</code> is a table under the hood.  But not UITableView, but some UpdateCoalesingTableView. </p><br><p><img src="https://habrastorage.org/webt/nl/7b/wb/nl7bwbdfhbpyezrxkp5jjn4fcbq.png"></p><br><p>  And it is also clear that there is no autoloout.  There are no contstaint's, everything is on frames, which means that there are no these complex systems with linear equations and a bunch of calculations.  But, on the other hand, the layout is adaptive and the frame is somehow calculated and we will see in future sessions of WWDC exactly how. </p><br><p>  Swift UI - is it wrapper over UIKit?  It seems that yes, and at the same time no. </p><br><p>  <a href="https://twitter.com/i/web/status/1135677921014628352">Joe Groff tweets</a> the following: </p><br><blockquote>  "Some entities are wrappers over UI / NS views, but the fact that they do it, and what type of view they wrap is a thing that can change." </blockquote><p>  Original: <br>  <em>There are some things that you can use.</em>  <em>A distinct thing.</em> </p><br><p>  What noticed more: </p><br><ul><li>  Swift UI provides mechanisms for reactive lovers with their <code>BindableObject</code> , <code>ObjectBinding</code> and the whole <a href="https://developer.apple.com/documentation/combine">Combine</a> framework. </li><li>  Lets Draw <a href="https://developer.apple.com/tutorials/swiftui/drawing-paths-and-shapes">Drawing Paths and Shapes |</a>  <a href="https://developer.apple.com/tutorials/swiftui/drawing-paths-and-shapes">Apple Developer Documentation</a> </li><li>  Compatible with UIKit <a href="https://developer.apple.com/tutorials/swiftui/interfacing-with-uikit">Interfacing with UIKit |</a>  <a href="https://developer.apple.com/tutorials/swiftui/interfacing-with-uikit">Apple Developer Documentation</a> </li><li>  Makes it easy to manage themes. </li></ul><br><p>  <strong>11:00</strong>  <strong>Total</strong> </p><br><p>  Alas, all these charms </p><br><pre> <code class="swift hljs"><span class="hljs-meta"><span class="hljs-meta">@available</span></span> (iOS <span class="hljs-number"><span class="hljs-number">13.0</span></span>, <span class="hljs-type"><span class="hljs-type">OSX</span></span> <span class="hljs-number"><span class="hljs-number">10.15</span></span>, tvOS <span class="hljs-number"><span class="hljs-number">13.0</span></span>, watchOS <span class="hljs-number"><span class="hljs-number">6.0</span></span>, *)</code> </pre> <br><p>  That is, to switch to them is to abandon the old axes, which is too radical and devoid of concern for the user. </p><br><p>  I am sure that the mechanism is still raw, there will be many more changes, and a lot of bugs will emerge, and this is natural.  But after a year or two it will be possible to introduce in the prod. </p><br><p>  Swift UI is a direct revolution in the world of people who call themselves iOS developers, and it's cool that this new road, even if not ideal, has opened. </p><br><p>  In the meantime, nothing prevents you from using it in your pet projects, filling your hand and getting esthetic pleasure :) </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/454750/">https://habr.com/ru/post/454750/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../454738/index.html">Visual Studio 2019 support in PVS-Studio</a></li>
<li><a href="../454742/index.html">At least one trick of Vim, about which you did not know</a></li>
<li><a href="../454744/index.html">Overview of Java track reports from the RigaDevDays conference</a></li>
<li><a href="../454748/index.html">MongoDB Survival Guide</a></li>
<li><a href="../45475/index.html">PostgreSQL horizontal scaling using PL / Proxy.</a></li>
<li><a href="../454754/index.html">When is it worth testing the hypothesis of no less effectiveness?</a></li>
<li><a href="../454756/index.html">Checking the effectiveness of the site and advertising settings, the cost of attracting customers wholesale company</a></li>
<li><a href="../454758/index.html">Bypassing Windows Defender cheap and cheerful: Mimikatz obfuscation</a></li>
<li><a href="../45476/index.html">My city.ru - a social network in an urban environment</a></li>
<li><a href="../454760/index.html">Intel Optane Memory M15 - faster than M10</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>