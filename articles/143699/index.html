<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Bomberman Online - HTML5 multiplayer online game from habrauser. We are testing the load!</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bombermine Online - the result of the last two weeks of testing and preparing the engine for a large number of players online. 

 The engine is writte...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Bomberman Online - HTML5 multiplayer online game from habrauser. We are testing the load!</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/3f6/cb3/e81/3f6cb3e814e18e712605dcc4a2b3cf45.png" align="left">  <b><a href="http://bombermine.ru/">Bombermine Online</a></b> - the result of the last two weeks of testing and preparing the engine for a large number of players online. <br><br>  The engine is written in Java + Jetty (backend).  Front End - HAProxy + Nginx + Node.js.  The client side is GWT, which is translated to HTML5 / canvas + javascript + websockets.  Everything is hosted in the cloud. <br><br>  Currently, the record is 50 players online.  All necessary software for load monitoring is configured.  After a habraeffekt we promise to lay out the report.  We are waiting for guests. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br><h2>  Gameplay video </h2><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/NnX1sin1XqE%3Ffeature%3Doembed&amp;xid=25657,15700002,15700019,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhgrw1EQ8mMvtA8X-Otw-tU-q7wK5Q" frameborder="0" allowfullscreen=""></iframe><br><br><br><h2>  Background to the creation of the engine </h2><br>  Recently there was a fashion to rewrite old games under HTML5 - the idea that childhood games can be ported to the browser and, maybe, even play them with friends turned my head. <br><br>  For large maps, the method I used to look at in Minecraft was used when I wrote <a href="http://www.minecraftforum.net/topic/728727-181-mine-upside-down-03-the-other-side/">my Mine Upside Down mod</a> : the map is divided into square chunks, and the user sends defs relating to the squares in his visibility zone.  In this case, the client performs a part of the update of the game state itself, and what it cannot - it receives as diff from the server.  It is clear that, in the ideal case, out-of-sync should occur only at the limits of the player‚Äôs visibility and are extinguished due to redundant information in the differential. <br><br>  Since this method seemed to be the most difficult and potentially important part, I began to implement it immediately, using unit testing.  The test with a random movement of tanks across the desert terrain caught the out of sync between the client and the server. <br><br>  Then it is time to write a mapping.  When drawing a tile map, a problem arose: if the tiles are 16x16 and the screen is 640x480, then 1200 squares should be drawn.  At the same time drawing tile depended on its neighbors.  The resulting FPS did not please me.  Saved the thing used in the same Minecraft - the chunk received from the server should be drawn and remembered until it changes.  In this case, the buffer for displaying chunks can be used periodically, slightly larger than the screen. <br><br>  Now, instead of 1200 16x16 images, the numbers of which depended on the neighboring ones, you only need to draw only 6 256x256 images, without any extra calculations.  The FPS immediately went up to the cherished 60. The GWT DevMode on my laptop comes out with 17 FPS - for debugging it's just great. <br><br>  The network part turned out to be quite simple - WebSockets via Jetty. <br><br>  <b>Clientside</b> : Chrome shows itself best (holding 60 fps even on old hardware), then Safari, FF and Opera.  About donkey better not to ask :) <br><br><br><h2>  Bombermine Online Crew </h2><br>  The authors of the engine are me and <a href="http://habrahabr.ru/users/fibulwinter/" class="user_link">fibulwinter</a> .  Web and interface - <a href="http://habrahabr.ru/users/demark/" class="user_link">demark</a> .  Tuning and tuning server - <a href="http://habrahabr.ru/users/stolen/" class="user_link">stolen</a> .  Artists - <a href="http://habrahabr.ru/users/davedee/" class="user_link">DaveDee</a> and <a href="http://habrahabr.ru/users/d3emp/" class="user_link">d3emp</a> . <br><br>  <b><a href="http://bombermine.ru/">Enjoy</a></b> !  Good Luck &amp; Have Fun </div><p>Source: <a href="https://habr.com/ru/post/143699/">https://habr.com/ru/post/143699/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../143691/index.html">Hard links for repository cloning in mercurial</a></li>
<li><a href="../143692/index.html">Facebook smartphone will be on Windows Phone?</a></li>
<li><a href="../143694/index.html">XEN: A simple script to quickly open VNC consoles</a></li>
<li><a href="../143695/index.html">Domen.RF: just statistics and a little bit of freebies in the bargain</a></li>
<li><a href="../143698/index.html">Mobiscroll - custom select for mobile sites and not only</a></li>
<li><a href="../143700/index.html">SELinux in practice: DVWA test</a></li>
<li><a href="../143701/index.html">How to read to the end</a></li>
<li><a href="../143705/index.html">Replacing WiMAX devices with LTE devices</a></li>
<li><a href="../143706/index.html">Tell a story and get a Samsung Galaxy Tab tablet as a gift!</a></li>
<li><a href="../143707/index.html">Debian cookbook or how I started working on the official wiki</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>