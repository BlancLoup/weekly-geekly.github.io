<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Printing from Mac OS over WiFi to a GDI printer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wonderful win-printers in general are capricious pieces of iron when trying to use them under * NIX and over the network, and then it became necessary...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Printing from Mac OS over WiFi to a GDI printer</h1><div class="post__text post__text-html js-mediator-article">  Wonderful win-printers in general are capricious pieces of iron when trying to use them under * NIX and over the network, and then it became necessary to connect the HP LaserJet 1000 to the designer of D-Link DIR-320 for printing without wires.  The print server from the box does not seem to support this feature, I did not check the kit from the iota homemade product. <br>  My recipe under the cut. <br><a name="habracut"></a><br><h2>  General concept </h2><br>  The printer requires a firmware download, it can be done on the router when the printer is connected to USB.  The print server needs to be chosen such that it exposes the RAW interface through which fully prepared tasks will come from the clients.  To support the firmware download and launch of the print server, firmware of the router with USB support is required, as well as the inclusion of USB support, additional memory and printing in its settings. <br><br>  There is a variation on this topic - download the firmware from the client computer.  But it does not seem to work, because  To remotely download the firmware, you must first share the printer, and for this you need to download the firmware ;-) <br><br><h2>  Concrete </h2><br><ol><li>  <b>Installing router firmware.</b>  In this case, dd-wrt.v24-13577_NEWD_mini_usb.bin <a href="http://dd-wrt.com/site/support/other-downloads%3Fpath%3Dothers/eko/V24_TNG/svn13491-snow/NEWD/">from eko</a> .  Instructions can be found <a href="http://www.dd-wrt.com/wiki/index.php/%25D0%259F%25D1%2580%25D0%25BE%25D1%2588%25D0%25B8%25D0%25B2%25D0%25BA%25D0%25B0_DIR-320">here.</a> </li><li>  <b>Setting up the router.</b>  Do not forget to set a password and configure the mac-address, Internet access and routing.  After that we enable on the <i>Administration</i> tab in the USB section support JFFS2, Core USB Support, USB 1.1 Support, USB 2.0 Support, USP Printer Support.  Then we enable the SSHd service in the services section and the option to access the router via SSH. </li><li> <b>Printer and print server.</b>  We connect the printer to the router, reboot the router, go to it with ssh root (192.168.1.1).  Preparing the firmware: <br> <code>mkdir -p /jffs/usr/share/foo2zjs/firmware</code> <br> <code>cd /jffs/usr/share/foo2zjs/firmware</code> <br> <code><a href=""></a> wget oleg.wl500g.info/hplj/sihp1000.dl</code> <br>  Install print server for JetDirect printing: <br> <code>ipkg update</code> <br> <code>ipkg install p910nd</code> <br>  In theory, the correct firmware of the router should already have the modules kmod-usb-core, kmod-usb-uhci, kmod-usb-ohci, kmod-usb2, kmod-usb-printer, which we included in the settings for downloading. <br>  Modify (with vi or cat) the connection script: <br>  The /jffs/etc/config/usb.startup file should contain the firmware download and server start <br> <code>cat /jffs/usr/share/foo2zjs/firmware/sihp1000.dl &gt; /dev/usb/lp0&lt;br&gt; <br> /jffs/usr/sbin/p910nd -b -f /dev/usb/lp0 0 <br></code> <br>  It must also be executable - we do rights with + x and run.  In principle, simply performing these commands manually is sufficient if you do not plan to turn off either the router or the printer.  You can check the status of the printer connection <code>dmesg | grep USB</code>  <code>dmesg | grep USB</code> , server on port 9100 <code>netstat -na</code> .  Everything can be done without ssh by executing commands via the web admin area, but this is inconvenient, especially for editing files. <br></li><li>  <b>Customize customers.</b>  On Linux, we simply install foo2zjs and gplgs from packages.  Mac OS we put dmg <br>  <a href="http://mac.softpedia.com/get/Drivers/foo2zjs.shtml">foo2zjs</a> <br>  <a href="http://www.linuxfoundation.org/collaborate/workgroups/openprinting/macosx/foomatic">foomatic + ghostscript</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      When creating a printer, select the HP LaserJet 1000 network printer with the foo2zjs driver using the JetDirect protocol at 192.168.1.1 on port 9100. </li></ol><br><h2>  Conclusion, open questions </h2><br>  Probably, will work and from the screw client.  For Mac, apparently, operation and installation is easier than local connection.  The downside is that in fact the foo2zjs driver is worse than the hplip driver (experience on a local machine using Ubuntu 9.x).  Perhaps you can install hplips + cups, but far from being a fact. </div><p>Source: <a href="https://habr.com/ru/post/87641/">https://habr.com/ru/post/87641/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../87630/index.html">Adventures of Gigabyte in Russia</a></li>
<li><a href="../87631/index.html">Tied up</a></li>
<li><a href="../87632/index.html">uTorrent on guard online viewing</a></li>
<li><a href="../87633/index.html">Government bunker in Scotland</a></li>
<li><a href="../87634/index.html">Milgram's experiment</a></li>
<li><a href="../87644/index.html">Fear, risk and hacking</a></li>
<li><a href="../87648/index.html">We return the familiar look of windows in Ubuntu 10.04</a></li>
<li><a href="../87650/index.html">RFID Implants: Hello, Matrix!</a></li>
<li><a href="../87651/index.html">Improved plugin idioms</a></li>
<li><a href="../87652/index.html">Fresh YouTube interface</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>