<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Steam CEG from Valve and what it eats. Introduction</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Few definitions 
 CEG ( Custom Executable Generation , rus. Generation of a Unique Executable File ) is a means of protection against piracy (as parad...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Steam CEG from Valve and what it eats. Introduction</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/55b/f02/837/55bf02837e1a8ccbc11ff9ed772e42a0.gif" alt="image"><br><br><h5>  <b>Few definitions</b> </h5><br>  <b>CEG</b> ( <i>Custom Executable Generation</i> , <i>rus. Generation of a Unique Executable File</i> ) is a means of protection against piracy (as paradoxical as it may sound), developed by the great and terrible company <i>Valve</i> in 2009.  It was originally planned that the new remedy will be used on almost every game released on <i>Steam</i> .  However, after reviewing their priorities, Valve realized that if a potential developer wanted to use such 'happiness' in a new game, then it would be advisable to pay and not a cheap price.  Therefore, historically, <i>CEG is</i> used only by large companies that can afford it. <br>  The very essence of this protection is as follows: as soon as the download of the game from the Steam digital distribution service comes to an end, a bare, not yet signed executable file is downloaded to the client‚Äôs personal computer.  Then, a digital certificate is uploaded to the same client computer using the special <i>SteamServices.dll</i> library (which, by the way, is loaded into TEMP) and a special key with <i>AES</i> encryption (this key with the <i>cegpublickey</i> identifier is unique on the Valve server side, created when the game is published in the service itself using the <i>Steam CEG SDK</i> , access to which, by the way, has a limited number of persons), the above-mentioned executable file is signed. <a name="habracut"></a><br><br><h5>  <b>Actually, a quick review of protection</b> </h5><br>  ‚ÄúAnd what then is the practical value of such 'protection', if it only does that simply signs the executable file?‚Äù - you ask.  And then I will answer - not everything is as simple as it seems at first glance.  The fact is that when a digital signature is applied to a file, information is collected about the folders and files that are present on the client system, as well as some hardware.  Later, the collected information also finds its place in the executable file.  And this information will be truly unique, as the following components are taken into account: time stamp of files and folders in the unix style (date of creation, date of last change), unique registry keys (as well as checking whether the Steam client is installed on a PC using the same Orthodox registry), the number of files in a given directory, processor ID, serial number of the hard disk.  It should be noted that the last two are used only in the newest versions of CEG (for example, such games as: <i>XCOM: Enemy Within</i> , <i>Grid Autosport</i> , <i>DiRT Rally</i> ). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  <b>Underwater rocks</b> </h5><br>  So, what we have is such a binding of the 'unique' executable file to the hardware and files of the client PC.  Is it good or bad?  In general, a good idea and implementation.  A minus in all of this, if, let's say, you went to your friends' country house and took with you a full backup of your favorite game with this very <i>CEG</i> , dropping it onto a portable media and hoping that you can safely play.  But then the unexpected happened - the friend does not work the Internet!  But on the laptop is installed Steam.  It does not matter, you are restoring the backup of your game in offline Steam mode, press the "Play" button, but nothing happens!  And all because the iron and other components, which were written above, do not coincide with the iron of your friend.  And without access to the global network, you simply can‚Äôt start the game, because, for obvious reasons, it is impossible to generate a new executable file.  Or is it still possible to run the executable file? <br>  In the next part of the article we will talk about whether it is possible to completely wean the executable file from <i>CEG</i> , having a debugger on hand. </div><p>Source: <a href="https://habr.com/ru/post/274741/">https://habr.com/ru/post/274741/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../274729/index.html">Calculation of binomial coefficients using Fourier transforms</a></li>
<li><a href="../274731/index.html">Easy setup Asterisk + Fail2Ban</a></li>
<li><a href="../274733/index.html">Using LSM engine from SQLite 4 as a separate NoSQL database using Python</a></li>
<li><a href="../274735/index.html">How much does it cost: Gigabyte traffic in Africa</a></li>
<li><a href="../274739/index.html">Translation: The tragedy of common lisp</a></li>
<li><a href="../274743/index.html">Understanding the syntax of templates in Angular2</a></li>
<li><a href="../274745/index.html">Quickly create phar files using Box</a></li>
<li><a href="../274749/index.html">LetsEncrypt in Go</a></li>
<li><a href="../274757/index.html">Rust in 2016</a></li>
<li><a href="../274759/index.html">Well tuned emacs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>