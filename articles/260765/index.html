<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>SAP's electronic signature is just</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Increasingly, I receive requests from customers about the use of electronic signatures in their decisions. Often, the very idea of ‚Äã‚Äãintroducing an el...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>SAP's electronic signature is just</h1><div class="post__text post__text-html js-mediator-article">  Increasingly, I receive requests from customers about the use of electronic signatures in their decisions.  Often, the very idea of ‚Äã‚Äãintroducing an electronic signature already raises many questions, both technical and general - in connection with a collision with a very specific area of ‚Äã‚Äãinformation security, which has many nuances and references to legislation.  With this article I want to show that the use of electronic signature is easy. <br><br><img src="https://habrastorage.org/files/41f/0db/64e/41f0db64e85a480a9364ed3d5bff2375.jpg" alt="image"><br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>A bit of history</b> <br><br>  In 1977, Ronald Rivest, Adi Shamir, and Len Adleman publish their article <a href="https://people.csail.mit.edu/rivest/Rsapaper.pdf">‚ÄúThe method of obtaining electronic signatures and public-key cryptosystems‚Äù</a> (hereinafter my translation): <br><br><blockquote>  Probably the era of email is near.  We need to be sure that we can keep two important properties of the current ‚Äúpaper mail‚Äù: letters must remain personalized and can be personally signed.  In our article, we will demonstrate how to implement these properties in an email system.  The heart of our proposal will be a new encryption method.  He applies the elegant concept of ‚Äúpublic-key cryptosystems‚Äù proposed by Diffie and Hellman. </blockquote><br>  <a href="http://xn--wwwee-0u3b.stanford.edu/~hellman/publications/24.pdf">‚ÄúThe elegant concept of Diffie and Hellman,‚Äù</a> which the authors write about, was indeed an important step in the field of cryptography.  By the mid-seventies, the NSA (National Security Agency) had already controlled the widespread use of cryptography by controlling the means of distributing encryption keys.  However, the principle of distribution of public keys proposed by Diffie and Hellman allowed to get away from it, and now individuals and legal entities have gained a way to securely exchange encrypted messages without receiving a shared secret (‚Äúsymmetric‚Äù) encryption key from a third-party government organization. <br><br>  The principle proposed by Diffie and Hellman can be illustrated by the example of ‚Äúcolors‚Äù.  Each party has its own ‚Äúsecret‚Äù paint, but exchanges with a partner only a mixture of colors (Alice - orange and Bob - blue as a ‚Äúgreeting‚Äù; the second time - brown as an encryption key).  It is assumed that to find the ‚Äúsecret‚Äù paint in the mixture is not possible. <br><br><img src="https://habrastorage.org/files/186/78e/542/18678e54215e419bac386740ae6f01f4.PNG"><br><br>  In the original, of course, the cryptographic robustness of the algorithm proposed by Diffie and Hellman is based on mathematics - namely, the complexity of the problem of discrete logarithm ( <a href="https://ru.wikipedia.org/wiki/%25D0%2594%25D0%25B8%25D1%2581%25D0%25BA%25D1%2580%25D0%25B5%25D1%2582%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BB%25D0%25BE%25D0%25B3%25D0%25B0%25D1%2580%25D0%25B8%25D1%2584%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">https://ru.wikipedia.org/wiki/Discrete_logging</a> ) <br><br>  This was not an electronic signature, but in the same article, Diffie and Hellman suggest using a private key (‚Äúsecret paint‚Äù) to encrypt messages and issue a public key to check messages: <br><blockquote>  If user A wants to send a message to user B, he ‚Äúdecrypts‚Äù him with his private key and sends the result of ‚Äúdecryption‚Äù to the partner.  User B can read the message and be sure of its authenticity (authenticity) using the public key encryption function.  Anyone can use this function and get the original message as a result. <br></blockquote>  The world-famous RSA algorithm in the field of electronic signature (following the first letters of the names Ronald Rivest, Adi Shamir, and Len Adleman) fully implements the principle proposed by Diffie and Hellman. <br><br>  In fact, the two articles mentioned in 1976‚Äì1977 laid the foundation for 95% of the cryptography used today.  Client-server encryption, cross-server encryption, electronic signature, etc., are all the result of using the principles proposed 39 years ago. <br><br>  <b>Electronic signature in Russia</b> <br><br>  Ironically, but despite the fact that almost 40 years have passed since the publication of the RSA algorithms, we still have to keep an absolute majority of documents in paper form. <br><br>  However, the world does not stand still, and every year the law allows more and more documents to be translated into electronic form using an electronic signature to give documents legal value.  There is no doubt that in the future for 20 years ahead, all legislative barriers will be removed and the need to store paper documents will disappear altogether.  The experience of Estonia, in which electronic signature functions are used even in such subtle areas as during voting (including parliament), is a good example. <br><br>  Today, the field of application of electronic signature in the Russian Federation can be divided into five large areas: <br><ul><li>  Electronic bidding </li><li>  Internal legally relevant electronic document management </li><li>  External legally significant electronic document management </li><li>  Electronic reporting to government agencies </li><li>  Information exchange with public authorities </li></ul><br>  The main advantages of using electronic signatures are a significant acceleration of document circulation (especially in the scale of global corporations) and an increase in the security of information exchange in general. <br><br>  If your company already has an electronic document flow, then with the help of an electronic signature you can give it legal significance.  In the case of communication with customers, contractors and government agencies, the use of electronic signatures speeds up the interaction, ultimately reducing costs. <br><br>  <b>SAP Electronic Signature</b> <br><br>  One of our clients in the field of oil and gas saves 4 million rubles annually only on a single printing of documents, replacing the printout of inventory cards with the storage of documents in the form of an electronic signature.  SAP recommended using the sapcryptolib library as a means of cryptographic information protection (CIPP).  Along with commoncryptolib, it can be installed in the standard delivery package of most SAP solutions.  It should be noted that since these libraries have the implementation of cryptographic tools, they are subject to the regulators.  Ask if your organization can import them. <br><br>  The standard SAP cryptographic provider has already been connected to the FI (Finance), SD (Sales), HR (Personnel), and other modules: <br><br><img src="https://habrastorage.org/files/b3d/f95/f36/b3df95f367914e799ecff645fefb7100.PNG" alt="image"><br><br>  Thus, the ES function is already implemented at the SAP NetWeaver platform level, which means that the functions of document signing and verification are already available for the enterprise business processes.  It remains only to connect them. <br><br>  As is known, Russian legislation (No. -63 ‚ÄúOn electronic signature‚Äù of April 6, 2011) defines three types of electronic signature: <br><ul><li>  Simple EP.  It is intended for internal document circulation, allows to confirm authorship, but does not guarantee the immutability of the document after its signing and does not provide legal significance. </li><li>  Unskilled ES.  Allows you to determine the author of a signed document and prove the immutability of the information contained therein.  The unqualified electronic signature contains cryptographic algorithms that protect documents.  Signed documents have legal significance if there are regulations that establish rules for the use and recognition of electronic signatures.  Such a signature is suitable for internal and external document circulation and in some cases participation in electronic trading. </li><li>  Qualified EP.  It can only be obtained from a certification center accredited by the Ministry of Communications and Mass Media of Russia, and the software used must be certified by the FSB.  A qualified electronic signature undoubtedly gives documents full legal force, and therefore is used for information exchange with government authorities and for participation in electronic trading. </li></ul><br>  Simple and unskilled ES can be implemented in the standard delivery of SAP NetWeaver.  At the same time, the range of available functions is quite wide: <br><ol><li>  Signature and verification on the server and on the thin client </li><li>  PKCS # 7, XML, S / MIME, Adobe PDF Forms Support </li><li>  NetWeaver ABAP and NetWeaver Java support </li><li>  Work in SAP GUI and Web Applications </li><li>  Cyrillic certificate support </li><li>  Using Microsoft Keystorage secure certificate store (Windows OS level) </li><li>  Using USB Tokens and Smart Cards </li><li>  Verification of the signature of a trusted issuing certifying authority (verification of the certificate chain) </li><li>  Verification of certificates for revocation (by Certificate Revokation List - CRL) </li><li>  The possibility of archival storage of electronic signature (with versioning) </li><li>  Getting Active Directory Certificates (via LDAP) </li><li>  Certificate Management (Public Key Infrastructure - PKI) </li></ol><br>  (some features may require additional licenses) <br><br>  Speaking about the qualified EP, it is necessary to understand that the requirements for this type of EP differ from country to country.  For example, the German Electronic Signature Act (‚ÄúSignaturgesetz‚Äù) of 1997 requires that certificates used in an ES are issued by a qualified certification authority, only individual devices, smartcards or tokens, are used for signing, and the signed electronic documents themselves must be written only to unchangeable media (for example, on optical discs). <br><br>  Therefore, in questions of the implementation of a qualified ES, SAP relies on the assistance of the developers of CIPF. <br><br>  The principal requirement of the Federal Security Service for software certification for qualified electronic signature is the use of GOST 28147-89, GOST R 34.11-94, GOST R 34.10-2001 in the implementation of cryptographic algorithms (as of June 2015, the requirements for the use of GOST R 34.10-2012 and GOST R 34.11-2012 not fully regulated) <br><br>  Technically, the use of GOST cryptographic algorithms in SAP is achieved by simply switching the ‚Äúwrapper‚Äù of the SKZI.  ‚ÄúWrapper‚Äù replaces the use of the standard sapcryptolib library by referring to any third-party SKZI built on GOST.  For example, LISI-CSP, CryptoPro CSP, Validata CSP - if we are talking about the MS CSP interface;  PBZI "SKZI LirSSL" if the OpenSSL interface is used;  ruTokenETSP / eTokenGOST if we are talking about tokens / smart cards with a PKCS11 interface.  In particular, the solution of LISSI-Soft LLC, called FoxSSF, allows you to use ICPS with the support of all three of the above interfaces.  In our next article we will talk more about solutions that allow you to sign SAP documents with a qualified electronic signature. <br><br>  In conclusion, it is necessary to mention the problem of archival storage of documents signed by ES.  Since  Unlike paper signatures, algorithms and certificates of electronic signatures tend to become obsolete, you must take care to obtain long-term certificates from the most stable and respected certificate authorities.  If more than five years of storage is planned, then a time stamp must be put on the documents to be signed.  This approach allows you to record the time signature, therefore: <br><ul><li>  after the expiration of the certificate or algorithm does not need to ‚Äúre-sign‚Äù the document </li><li>  it eliminates the technical possibility to shift the signing time and use the copied certificate / algorithm due to the presence of the Time Stamp Protocol (TSP) signature on archived documents. </li></ul><br>  If time stamps are not used, then after a certain period of time there will be a need to re-sign documents, which, of course, is a rather costly procedure for large organizations.  From the point of view of the legislation, the subtleties of long-term storage have not yet been fully worked out, for example, the question of whether it is possible to re-sign all documents just once by one signature remains open. <br>  In this case, technically, in what form you store the signature: in the form of a database table, archive or file - it does not matter.  SAP has three repositories for archival storage: the ArchiveLink, the Archive Development Kit and the Knowledge Warehouse.  For documents (PDF, DOC, etc.) we recommend using ArchiveLink, and for database tables - Archive Development Kit.  In turn, only Knowledge Warehouse allows you to record data in a background job.  All three options can provide data for verification (auditing) and work with external devices in order not to burden the application server. <br><br>  The author - Daniel Luzin <br>  Consulting subdivision of SAP CIS LLC <br>  Kosmodamianskaya emb.  52/7, 113054 Moscow <br>  T. +7 495 755 9800 ext.  3045 <br>  M. +7 926 452 0425 <br>  F. +7 495 755 98 01 </div><p>Source: <a href="https://habr.com/ru/post/260765/">https://habr.com/ru/post/260765/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../260753/index.html">Collection and visualization of application metrics in Graphite and Graph-Explorer</a></li>
<li><a href="../260755/index.html">How the PVS-Studio team improved the Unreal Engine code</a></li>
<li><a href="../260757/index.html">How we made programming language from JSON</a></li>
<li><a href="../260761/index.html">Bindings QCustomPlot for Python</a></li>
<li><a href="../260763/index.html">Programming for beginners. My acquaintance with Processing</a></li>
<li><a href="../260767/index.html">Java string processing Part I: String, StringBuffer, StringBuilder</a></li>
<li><a href="../260769/index.html">Action-Domain-Responder - revision of MVC for web tasks</a></li>
<li><a href="../260771/index.html">Forecast for Specification pattern in Domain layer - problems are expected</a></li>
<li><a href="../260773/index.html">Java string processing Part II: Pattern, Matcher</a></li>
<li><a href="../260775/index.html">How I Made and Sold the Axure 7 Course</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>