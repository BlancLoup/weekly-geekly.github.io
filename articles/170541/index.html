<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Building Android Applications Using AIR SDK 3.6 on Linux</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 Linux as a system for work, I use recently. Previously worked in Windows. The reason for the transition is very simple and banal - tire...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Building Android Applications Using AIR SDK 3.6 on Linux</h1><div class="post__text post__text-html js-mediator-article"><h4>  Introduction </h4><br>  Linux as a system for work, I use recently.  Previously worked in Windows.  The reason for the transition is very simple and banal - tired of the glitches and lags of Windows.  I develop applications using Adobe Flash and Adobe AIR technologies for both web and Android.  Therefore, during the transition it was very important to decide whether I could work in Linux as productively as in Windows.  Having rummaged on the forums and on the official website, I learned that FlexSDK is supported, but the support for AIR has ended since version 2.6.  Sad however.  But we also have the opportunity to run windows-applications in the Linux environment, why not take advantage of this.  This article is just about how to configure Linux work with AIR SDK 3.6 - the latest version at the time of publication. <a name="habracut"></a><br>  I have ArchLinux installed on my computer, so all the actions described in this article will be considered for this distribution.  In other distributions, you may need to enter slightly different commands to perform these operations, but the sequence of commands will be exactly the same. <br>  The commands given in the article will begin with the symbol $ or #.  If a command starts with $, such commands need to be run as a regular user.  If the command begins with #, these commands need to be entered only from the root.  Be careful! <br><br><h4>  WINE </h4><br>  On Linux, there are not so many ways to run an application for Windows.  One of the most common solutions is to use wine.  Additional information on this software can be found on the Internet, for example, here <a href="http://www.winehq.org/">http://www.winehq.org</a> . <br>  So, first we need to install wine, if it is not already installed.  Usually, the package is called wine, but if it is not in your repository, you can download it from the official site as source code and compile it on your computer.  The package installation command in ArchLinux looks like this: <br> <code># pacman -S wine</code> <br>  After its execution from the repository, the ready-to-run wine will be downloaded and installed.  We just need to adjust it a bit.  Run wine and everything connected with it, you need only as a normal user and in any case not from the root.  To set up wine there is a special program that is launched by the command: <br> <code>$ winecfg</code> <br>  After executing this command, a menu will appear where you can configure some wine parameters.  From the default settings, I changed only the version of the operating system from Windows XP to Windows 7, left everything else as is.  It is also important to check that the Z: drive is created in the "Disks" tab, pointing to the root directory.  It looks like this to me: <br><img src="https://habrastorage.org/storage2/abb/7de/815/abb7de8153c56f4440df2081dac9afe9.jpg"><br>  You will need this disk when setting up a script to run the AIR debugger, which will be mentioned later.  If everything is ready, click OK and exit the configurator.  Now that wine is set up, you can install FlexSDK and the AIR SDK. <br><br><h4>  FlexSDK and AIR SDK </h4><br>  If you have not yet installed FlexSDK, you must first install it.  I installed it from the user repository AUR.  If there is no FlexSDK in the repository of your distribution, it can be downloaded from the official Adobe website at this link <a href="http://www.adobe.com/devnet/flex/flex-sdk-download.html">www.adobe.com/devnet/flex/flex-sdk-download.html</a> .  So, install from AUR: <br> <code>$ yaourt -S flex-sdk</code> <br>  After installing the SDK from AUR, it will be located in / opt / flex-sdk.  Next, download the AIR SDK from the official Adobe website <a href="http://www.adobe.com/devnet/air/air-sdk-download.html">http://www.adobe.com/devnet/air/air-sdk-download.html</a> .  We need a version for Windows: <br> <code><a href=""></a> $ wget -P ~ airdownload.adobe.com/air/win/download/latest/AIRSDK_Compiler.zip</code> <br>  The specified command will download the file to the home folder.  Next, we need to unpack it and copy it to the folder with the installed FlexSDK.  Go to the home folder and unpack the archive.  You can unpack the archive using the file-roller program, a GTK-based archiver with a graphical interface, or with the unzip console utility.  Suppose you unpacked it into the folder AIRSDK_Compiler, which was saved in your home directory.  After unpacking, we roll the contents of this folder onto the folder with FlexSDK: <br> <code># cp -R ~/AIRSDK_Compiler/* /opt/flex-sdk</code> <br>  If your FlexSDK is installed in a folder other than / opt / flex-sdk, then of course you specify your destination folder.  After copying the folder AIRSDK_Compiler, you can delete it, we will no longer need it, the entire set of files has already been copied to FlexSDK. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  ADL, AAPT and ADB </h4><br>  All AIR SDK, like FlexSDK, is written in Java, that is, it is cross-platform and can function on any system for which the JRE exists, including Linux.  However, the AIR SDK does not have linux versions of the following programs: debugger (adl), packer (aapt), and bridge program for debugging (adb), and without them you can‚Äôt run and build anything. <br>  <b>ADL</b> (Adobe Debug Launcher) is a debugger used to debug applications and launch them. <br>  <b>AAPT</b> (Android Asset Packaging Tool) is a packer for building applications, libraries and resources into a single apk-file. <br>  <b>ADB</b> (Android Debug Bridge) is a bridge program for debugging and remote control of an Android emulator or a real device based on this system.  Since I did not find another sane translation for this program, later in the article I will call this program simply a ‚Äúbridge‚Äù. <br>  In the SDK, all three programs are present for only two operating systems: Windows and Mac OS.  Therefore, to launch the debugger, we will use wine, a packer and a bridge from the Android SDK Platform Tools, since both of these programs for Linux are present in this software package. <br><br><h4>  Android SDK Platform Tools </h4><br>  This is a set of programs that simplify the development of applications for Android.  It contains two programs we need: packer and bridge.  I installed it from AUR too.  The default set is installed in / opt / android-sdk / platform-tools. <br> <code>$ yaourt -S android-sdk-platform-tools</code> <br>  In the absence of such a package in the repository of your distribution, it can easily be downloaded from the official site <a href="http://developer.android.com/sdk/index.html">http://developer.android.com/sdk/index.html</a> . <br><br><h4>  Run ADL </h4><br>  As a development environment, I use Intellij IDEA.  How to configure it to use our newly installed FlexSDK is not described in the article, since the reader is probably savvy in such questions if it reads this.  We will assume that you have already done this and in your test AIR project, the newly installed FlexSDK is used.  When compiling an AIR project, this environment tries to start the debugger along the path 'folder_c_flex_sdk / bin / adl'.  Assuming that the FlexSDK is installed in the / opt / flex-sdk folder, the full path will be / opt / flex-sdk / bin / adl.  Now there is an executable file for Windows adl.exe.  To get him to do our tasks, we need to do the following: <br>  1. The Windows debugger understands as a path only the paths of the type ‚ÄúC: \ directory \ path_to_file‚Äù, when building a project under Linux, the path to the file is ‚Äú/ directory / path_to_file". That is, we need to bring the second to the first in order Understand us and run the file we need. This is where the Z: drive is useful, which in wine points to the root directory of the operating system. <br>  2. You need to pass to the debugger all the parameters that were passed from the development environment. <br>  To solve this problem, we will create a script that will do two things: 1. Convert the file path from the windows version to the linux version, so that the path points to the real file in the system;  2. Run the debugger under wine with the same parameters with which this debugger tries to launch the nama development environment.  I have already written a draft version of such a script in bash and post it here.  It is quite simple: <br><br> <code>!#/bin/bash</code> <br> <code>wine /opt/flex-sdk/bin/adl.exe ${@//\/home/\Z\:\/home}</code> <br> <br>  Now it is designed for the fact that all your projects are in your home directory, which is not always the case.  The script clearly needs some work, but I still don't physically have enough time to bring it to mind.  I would be very grateful to everyone who will help unify it. <br>  To save the script, go to / opt / flex-sdk / bin.  There is already a Mac OS version of the adl file.  You can simply delete this file: <br> <code># rm /opt/flex-sdk/bin/adl</code> <br>  Instead, create a new empty file: <br> <code># touch /opt/flex-sdk/bin/adl</code> <br>  Open it in any text editor (I use nano): <br> <code># nano /opt/flex-sdk/bin/adl</code> <br>  and paste the above script lines above.  Save and exit the editor.  It remains to make the file executable.  To do this, assign him the right mask 755: <br> <code># chmod 755 /opt/flex-sdk/bin/adl</code> <br>  After that, the file is ready for use. <br><br><h4>  Linking AAPT and ADB </h4><br>  The packer runs along the path / opt / flex-sdk / lib / android / bin / aapt.  Go to the / opt / flex-sdk / lib / android / bin folder and see that there is also an aapt-file here and it is also compiled for Mac OS.  Delete it: <br> <code># rm /opt/flex-sdk/lib/android/bin/aapt</code> <br>  In its place should be a file from the Android SDK Platform Tools, so we simply create a symbolic link to the executable file of the packer / opt / android-sdk / platform-tools / aapt.  You can do this with the following command: <br> <code># ln -s /opt/android-sdk/platform-tools/aapt /opt/flex-sdk/lib/android/bin/aapt</code> <br>  Similar commands need to be executed for the bridge: <br> <code># rm /opt/flex-sdk/lib/android/bin/adb</code> <br> <code># ln -s /opt/android-sdk/platform-tools/adb /opt/flex-sdk/lib/android/bin/adb</code> <br>  That's probably all.  Congratulations, you can now develop AIR applications for Android on Linux using the latest version of the AIR SDK! <br><br><h4>  Summary </h4><br>  I managed to make the debugger work under wine, debugging works completely: breakpoints work, the contents of variables are displayed, etc. But I still haven't had time to check some things.  For example, how applications using Stage3D will work in such a debugger, did not try to debug the application on a real device, and maybe something else.  As soon as I do this, I will definitely add an article if there is such an opportunity.  I will also be grateful to everyone who can deal with the assembly of AIR-applications under iOS, since I have not done this either. <br><br><h4>  Conclusion </h4><br>  I really hope that this information will be useful to someone.  When I ran into this, I did not find any sane decision on the network.  I had to dig myself.  And when I figured it out, I wanted to share this with everyone.  I really like Linux, its stability, openness, unlimited possibilities in setting up this platform.  Sadly, the low prevalence of the system among ordinary users, in part because of the lack of versions of various software for this particular OS.  Perhaps, after reading this article, part of the developers who were prevented from switching to this OS from the absence of the Linux SDK would try to do it again.  May the penguin's power come with you!  ) </div><p>Source: <a href="https://habr.com/ru/post/170541/">https://habr.com/ru/post/170541/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../170527/index.html">Our answer is Raspberry Pi</a></li>
<li><a href="../170531/index.html">Homemade switch layouts for Windows</a></li>
<li><a href="../170535/index.html">Browser TTD: closed network game testing</a></li>
<li><a href="../170537/index.html">Ink for ink jet continue to go up</a></li>
<li><a href="../170539/index.html">Listen trackers</a></li>
<li><a href="../170543/index.html">Making flexible graphene ionics using a regular DVD-drive</a></li>
<li><a href="../170545/index.html">Introduction to Bayesian Methods</a></li>
<li><a href="../170549/index.html">Say a word about a poor mockup</a></li>
<li><a href="../170551/index.html">Hours on gas-discharge indicators</a></li>
<li><a href="../170553/index.html">APT1: resistant intrusion pattern</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>