<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PHP could get better</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="PHP ‚Äî . PHP, {lang_name} . - .
 

 PHP . . . " ‚Äî ‚Äî ‚Äî " .
 

 PHP . , backend , . . . , .
  
 . . , , . " " " ". , .
 1. 
 

 . JavaScript .
 

let str...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PHP could get better</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/sl/5m/h3/sl5mh38vwauf3a_oto0yziykkfc.jpeg" alt="PHP elephant to attract attention"></p><br><p>  PHP ‚Äî       .    PHP,   <code>{lang_name}</code>  .  -    <a href="http://phpsadness.com/"></a>.</p><br>
<p>  PHP .     .             .  " ‚Äî  ‚Äî  ‚Äî "        .</p><br>
<p>   PHP  .  ,   backend ,    .          .    .  ,    .</p><a name="habracut"></a><br>
<blockquote><strong> </strong><br>
     .      . , ,  .      "  "  "  ".  ,    .</blockquote><br>
<h2 id="1-neyavnoe-vremennoe-preobrazovanie-primitiva-v-obekt">1.      </h2><br>
<p>   .  JavaScript          .</p><br>
<pre><code class="javascript">let str = "1,2,3";

let arr = str.split(",");

arr = arr.map(_ =&gt; _ * 2);

console.log(arr); // [2, 4, 6]</code></pre><br>
<p>  ,   , ,       ..</p><br>
<p> JavaScript,    ,     ,      .   ,     <code>String</code>,    .</p><br>
<p>   PHP   - ?</p><br>
<pre><code class="php">$str = '1,2,3';

$arr = $str-&gt;explode(',');

$arr = $arr-&gt;map(function ($i) {
    return $i * 2;
});

var_dump($arr);

//   :

$str = '1,2,3';

$arr = $str
    -&gt;explode(',')
    -&gt;map(function ($i) {
        return $i * 2;
    });

var_dump($arr);</code></pre><br>
<p> ,            <code>String</code>  <code>Array</code>.           .</p><br>
<pre><code class="php">$arr-&gt;keyExists(...);
$arr-&gt;map(...);
$arr-&gt;filter(...);
$arr-&gt;keys(...);
$arr-&gt;push(...);
$arr-&gt;pop(...);
$arr-&gt;exists(...); // in_array

$str-&gt;repeat(...);
$str-&gt;join(...);
$str-&gt;trim(...);
$str-&gt;replace(...);</code></pre><br>
<p>   :       .    ?      ,  <code>is_iterable</code>, <code>is_numeric</code>, <code>is_countable</code>,    c <code>instanceof</code> <code>\Countable</code>, <code>\Traversable</code>  ..    ?</p><br>
<h2 id="2-dzheneriki">2. </h2><br>
<p>    ,   Java.    .     DI ,    ,   :</p><br>
<pre><code class="php">$service = $container-&gt;get&lt;SomeService&gt;();</code></pre><br>
<p>     ,    (Yii2 Query  Doctrine).</p><br>
<p>,      ,  type hinting   (    ).  ,    :</p><br>
<pre><code class="php">public function getItems(): Array&lt;Item&gt;

public function setItems(Array&lt;Item&gt;): void</code></pre><br>
<p>  , ?    ,       ,  IDE  ,     PHPDoc .        ,    :</p><br>
<pre><code class="php">public function getItems(): Collection&lt;Item&gt;

public function setItems(Collection&lt;Item&gt;): void</code></pre><br>
<p>     PHPDoc    (<code>SomeObject[]</code>),    .     ,  ,    ( <code>array</code>,  ).</p><br>
<h2 id="3-annotacii-ili-dekoratory">3.   </h2><br>
<p> Java     1.6 (    ).    . (Java  ,  ,  -  )<br>
 JavaScript    ‚Äî  ( ,     ,      Babel).<br>
    PHP?  PHP  PHPDoc ,     .      ,  .     ,  Doctrine  PHP-DI.</p><br>
<p>   ,    Symfony Event Dispatcher.    -,      ,     <code>getSubscribedEvents</code>,   ,     ‚Äî  ,     ‚Äî  ,      .       . ,   . ?        .       - ,     ,   -,     <code>getSubscribedEvents</code>,     (),    ()  .    ,     - ,        ,    .       .  ,     -,         IDE (   ‚Äî  ,   IDE).    .<br>
     ,    :</p><br>
<pre><code class="php">@EventSubscriber(ItemEvents::CREATE)
public function itemCreated(ItemEvent $event)</code></pre><br>
<p>  ,   .    ,   ,    .    .  :    -  ,  ,      .</p><br>
<p>      IDE,      .    ,    ,      namespace'.</p><br>
<p>  ,     .     ,     ,     ...</p><br>
<h2 id="4-korotkiy-sintaksis-funkciy">4.   .</h2><br>
<p>   JavaScript      (,   ..)    :</p><br>
<pre><code class="php">$input = [...];
$output = [];

foreach ($input as $i =&gt; $item) {
    // logic
    $output[$i] = $item;  
}</code></pre><br>
<p>  ReactJS + Redux         :</p><br>
<pre><code class="javascript">let output = input.map(item =&gt; {
    // logic
    return item;
});</code></pre><br>
<p>   ,     PHP:</p><br>
<pre><code class="php">$output = array_map(function($item) {
    // logic
    return $item;
}, $input);</code></pre><br>
<p>       :</p><br>
<pre><code class="php">$output = $input-&gt;map(($item) =&gt; {
    // logic
    return $item;
});</code></pre><br>
<p> ,  PHP   -,    <code>function($item) {}</code>  -    .    ,   -       (    JS). ,            .       .     <a href="https://wiki.php.net/rfc/short_closures">RFC</a>.   ,   ?</p><br>
<h2 id="5-asinhronnost">5. </h2><br>
<p>    .   JavaScript  Promise.     ,        .</p><br>
<p> PHP    ,     ,    .            HTTP .    ,    ,    ,  .   ,       Slack   Mailgun .          HTTP .        ,     ?  .      .</p><br>
<p>    <a href="https://github.com/krakjoe/pthreads">PThreads</a>,       ?   ,    ,    . </p><br>
<h2 id="6-ispolzovanie-vyrazheniy-vezde">6.   </h2><br>
<p>     :</p><br>
<pre><code class="php">class Money {
    __constuct($currency = new Currency('RUB')) {...}
}</code></pre><br>
<p>    :</p><br>
<pre><code class="php">class Money {
    private $currency = new Currency('RUB');

    public function setCurrency(Currency $currency) {...}
}</code></pre><br>
<p>    ,    ,          .</p><br>
<p>  ,    ,  -      ,     :</p><br>
<pre><code class="php">class Money {
    private $currency;

    __constuct(Currency $currency = null) {
        $this-&gt;currency = $currency ?? new Currency('RUB');
    }
}</code></pre><br>
<p>       .        :</p><br>
<pre><code class="php">public function someMethod($value = $this-&gt;defaultValue): void

public $statuses = SomeClass::getStatuses();</code></pre><br>
<p>    .</p><br>
<h2 id="7-ukazanie-tipa-peremennym">7.   </h2><br>
<p>    ,   (1)    , (2)    .    ,   PHP       .     .      ,    .   ,       , PHP   .</p><br>
<h2 id="8-ubrat-function">8.  <code>function</code></h2><br>
<p>      <code>function</code>    .</p><br>
<pre><code class="php">public function someMethod()
// 
public someMethod()</code></pre><br>
<p>   .    ,     PHP,   Java  JavaScript,    . ,  ?       .     ,  ,   .  ,    9 ,          .   ,  .</p><br>
<h2 id="9-navesti-poryadok">9.  </h2><br>
<p>, ,     .  ,   PHP    ,  <a href="http://phpsadness.com/sad/4"></a> <a href="http://phpsadness.com/sad/15"></a> <a href="http://phpsadness.com/sad/48"></a>, <a href="http://phpsadness.com/sad/6"></a> <a href="http://phpsadness.com/sad/9"></a>  <a href="http://phpsadness.com/">..</a>  :  , " ",   .    !<br>
 ,      ,       ,         ( <code>Array::method()</code>),      <code>deprecated</code>.      !</p><br>
<p>  , PHP     ,   ,   ..     (<code>json_encode -&gt; Json::encode</code>, <code>cUrl</code>).<br>
  -  ,    ,       ,  ,     ,   Codesniffer      ‚Ä¶       .  ,    .    ,      ,          .</p><br>
<h2 id="vmesto-zaklyucheniya"> </h2><br>
<p> ,    ( )     ,      .    .     ,        .          .    ,   PHP  ,     .</p><br>
<p>  ,    ,   ,        ,     .    ?)   ,   , ,    . ,        .</p><br>
<p>   .   .  ,    .   ,      Java.       .       ,         .</p><br>
<p>         PHP?</p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/354742/">https://habr.com/ru/post/354742/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../354730/index.html">We reanimate the Nintendo Switch and PlayStation gaming service after locks on the RKN</a></li>
<li><a href="../354732/index.html">Developing a simple deep learning model for predicting stock prices using TensorFlow</a></li>
<li><a href="../354736/index.html">How to work as an IT manager and why your boss doesn't have to be Steve Jobs</a></li>
<li><a href="../354738/index.html">Municipal Moira or What affects the career of an official</a></li>
<li><a href="../354740/index.html">Implementing a RESTful Table in the Atlassian User Interface</a></li>
<li><a href="../354744/index.html">Protection against easy DDoS'a</a></li>
<li><a href="../354748/index.html">CPU Cache Myths About Programmers Believe</a></li>
<li><a href="../354750/index.html">Do not write too much</a></li>
<li><a href="../354752/index.html">Flask Mega-Tutorial, Part XXII: Background Tasks</a></li>
<li><a href="../354756/index.html">DevConf 2018 - vote for reports</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>