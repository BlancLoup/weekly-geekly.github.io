<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Integration of VR tools in Unity3d</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Time passes and everything changes, including the game, or rather the approach to their creation. Now there are newfangled things like virtual reality...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Integration of VR tools in Unity3d</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/a4f/63a/e0e/a4f63ae0e7fa084c5258b01f65c47098.png"><br>  Time passes and everything changes, including the game, or rather the approach to their creation.  Now there are newfangled things like virtual reality helmets Oculus Rift, Sony Morpheus, various motion controllers such as Razer Hydra, Sixense STEM and many other tools that help immerse yourself in virtual reality.  In this article, the integration of Oculus Rift and Razer Hydra in Unity3d will be visually discussed. <br><a name="habracut"></a><br>  From the cap it follows that we have: <br><br><ol><li>  Oculus rift </li><li>  Razer hydra </li><li>  Unity3d 4.3.4f </li></ol><br><br><h4>  Foreword </h4><br>  So, I‚Äôll start with the story about the Razer Hydra controller, which was released in 2011, you can already say, at a reasonable price, but this device allowed not only to get information about the tilt and deviations of the joystick, but also the coordinates of each of them in space.  At that time, there were no really games developed with regard to the capabilities of the hydra and many people forgot about it, but time passed and Oculus Rift was shown, which allows you to plunge into a previously unexplored virtual reality.  And for greater sensations, it was necessary to at least control the movements of the arms, and then the forgotten Razer Hydra comes to the rescue. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Training </h4><br>  I probably will start with the process of installing drivers on the device.  And again, I'll start with the hydra.  For a start, it‚Äôs worth understanding that Razer has already forgotten about the device and the driver hasn‚Äôt been updated for a long time and they don‚Äôt provide the SDK, but Sixense does that actually developed this technology. To download the latest driver, go to their <a href="http://sixense.com/forum/vbulletin/forumdisplay.php%3F157-Beta-Software-Releases">forum</a> where you need select the latest version of Motion Creator, download and install. <br><br>  With Oculus Rift, it's easier, it does not need drivers, but you need to download the latest version of the SDK, you can do this by clicking on the <a href="https://developer.oculusvr.com/">link</a> , but you need to register for the download. <br><br><h4>  Integration </h4><br>  Now after installing all the software, we need to make our devices work in Unity3d.  According to the already established tradition, I will start with the Razer Hydra.  You need to launch Unity3d, open your project or create a new one, go to the Asset Store (Ctrl + 9 hot keys), find SixenseUnityPlugin in it, download and import. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/644/3a4/a7f/6443a4a7fb1af6e11b30a837979ec3ce.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/caf/a59/5c1/cafa595c16e8e22f1a1b80b5d637d9f5.png"><br><br>  Now let's import the Oculus SDK, for this we need to drag from the <code>\{"  SDK"}\ovr_unity_{ }_lib\OculusUnityIntegration</code> folder <code>\{"  SDK"}\ovr_unity_{ }_lib\OculusUnityIntegration</code> file called <code>OculusUnityIntegration.unitypackage</code> <br><img src="https://habrastorage.org/getpro/habr/post_images/315/bb1/6fe/315bb16fedb29657042dc0945242b8cb.png"><br><br>  In the project we should have the following files: <br>  Ok, we coped with it, now you need to try it all in action.  To do this, create a scene on which to start place <code>Terrain</code> , <code>First Person Controller</code> . <br><br>  So, I sketched a small scene to try our hydra for a start: <br><img src="https://habrastorage.org/getpro/habr/post_images/ae1/ddb/2f1/ae1ddb2f1d96245974d84f1d8ae2d10c.png"><br><br>  Also, in order for the hydra itself to work, you need to add the <code>SixenseInput</code> object from the <code>/SixenseInput</code> folder in the project to the scene. <br><img src="https://habrastorage.org/getpro/habr/post_images/af1/150/3bd/af11503bd0df42617e609bedb998c965.png"><br><br>  Now we need to add hands to the scene, find them in <code>SixenseInput/DemoScenes/Models</code> , the object is called <code>Hand</code> .  Since this is just a tutorial, I do not consider that this is just one right hand =).  So in order not to lose hands, I suggest you to shove them into an empty object and fix it in the hierarchy of the <code>FirstPersonController</code> object.  We get something like this: <br><img src="https://habrastorage.org/getpro/habr/post_images/bdb/8d0/0b0/bdb8d00b0687edc56273d945fc6bac51.png"><br><br>  Now we need to create a script to handle the values ‚Äã‚Äãcoming from the hydra.  To do this, create a C # script, call it HandsController and put this code into it: <br><div class="spoiler">  <b class="spoiler_title">HandsController.cs</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">HandsController</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> m_sensitivity = <span class="hljs-number"><span class="hljs-number">0.003f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject leftHand; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject rightHand; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { leftHand.transform.localPosition = SixenseInput.Controllers[<span class="hljs-number"><span class="hljs-number">0</span></span>].Position * m_sensitivity; rightHand.transform.localPosition = SixenseInput.Controllers[<span class="hljs-number"><span class="hljs-number">1</span></span>].Position * m_sensitivity; leftHand.transform.localRotation = SixenseInput.Controllers [<span class="hljs-number"><span class="hljs-number">0</span></span>].Rotation; rightHand.transform.localRotation = SixenseInput.Controllers [<span class="hljs-number"><span class="hljs-number">1</span></span>].Rotation; } }</code> </pre><br></div></div><br><br>  We hang this script on <code>MainCamera</code> in <code>FirstPersonController</code> , assign hands to the appropriate fields and see what we have done, I will attach a video demonstrating the work. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/hSNsZu4FARs%3Ffeature%3Doembed&amp;xid=25657,15700021,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhikNKb9vo-FsaM8Tt3TnFct28J_Vw" frameborder="0" allowfullscreen=""></iframe><br><br>  Great, the Oculus Rift's turn has come, there are no special problems with it, we just need to carefully replace <code>FirstPersonController</code> with <code>OVRPlayerController</code> from the <code>OVR/Prefabs</code> .  Also, do not forget to add our <code>HandsController.cs</code> to the <code>OVRCameraController</code> and do not forget to assign hands. <br><br>  Here is how you should look like: <br><img src="https://habrastorage.org/getpro/habr/post_images/419/253/1ca/4192531ca52131e2456eda7d504b3607.png"><br><br>  After all this, we can test our creation, but we cannot walk, it is necessary to solve this problem.  Create a <code>MoveController.cs</code> script and put this code into it: <br><div class="spoiler">  <b class="spoiler_title">MoveController.cs</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MoveController</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> X = SixenseInput.Controllers[<span class="hljs-number"><span class="hljs-number">1</span></span>].JoystickX * <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> Y = SixenseInput.Controllers[<span class="hljs-number"><span class="hljs-number">1</span></span>].JoystickY * <span class="hljs-number"><span class="hljs-number">5</span></span>; X*=Time.deltaTime; Y*=Time.deltaTime; transform.Translate(X, <span class="hljs-number"><span class="hljs-number">0</span></span>, Y); } }</code> </pre><br></div></div><br><br>  We will assign this script to <code>OVRPlayerController</code> and can be checked.  I apologize for the low frame rate video: <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/nB7lzhZeo_4%3Ffeature%3Doembed&amp;xid=25657,15700021,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhhQncStb_UNyPYR5Mu-myleffC9bA" frameborder="0" allowfullscreen=""></iframe><br><br><h4>  Total </h4><br>  As a result, we got a little playable scene, where you can understand whether it is worthwhile to use these newfangled things in your projects or not?  I think that if you make such games, you need to think through every little thing.  I have nothing more to say, thank you for your attention. </div><p>Source: <a href="https://habr.com/ru/post/223295/">https://habr.com/ru/post/223295/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../223287/index.html">Interview with the creator of the game River Raid, Carol Shaw</a></li>
<li><a href="../223289/index.html">New lambda features in C ++ 14</a></li>
<li><a href="../22329/index.html">Encyclopedia of life rewrites all</a></li>
<li><a href="../223291/index.html">Thingiverse Service - Universe for 3d printing</a></li>
<li><a href="../223293/index.html">WavPlayer - we are not looking for easy ways, we are laying them</a></li>
<li><a href="../2233/index.html">Sergey Burkov told what Google does</a></li>
<li><a href="../22330/index.html">New - well forgotten old!</a></li>
<li><a href="../223301/index.html">[mind map] Specification of a good PMA</a></li>
<li><a href="../223303/index.html">A bold plan that could save the Columbia shuttle. Part 3</a></li>
<li><a href="../223305/index.html">About p2p traffic restrictions</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>