<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Installing an unsupported Wifi card in the HP Pavilion dv6-1319er</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Marketing is a terrible force, and in the pursuit of profit, it has become fashionable for laptop manufacturers to block third-party extension cards, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Installing an unsupported Wifi card in the HP Pavilion dv6-1319er</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage/habraeffect/0f/f6/0ff634be261f893770d1faf5b9e0eaa4.jpg" alt="image" align="left">  Marketing is a terrible force, and in the pursuit of profit, it has become fashionable for laptop manufacturers to block third-party extension cards, saying that you want a new card - buy from us, with a surcharge, and not the fact that the manufacturer has what YOU need (and if you take into account what The BIOS for a laptop is updated for a maximum of a year - two, then also live with old equipment). <br>  On Habr√© there are already such topics ( <a href="http://habrahabr.ru/blogs/DIY/107598/">for example</a> ) about making changes in the laptop's BIOS to support third-party mini pci-e cards, and I want to tell you about the same feat, but on another representative of <b>HP Pavilion dv6-1319er laptops</b> <br><br><a name="habracut"></a><br><br>  A little background, I decided that the current 54Mbit (and in the dry residue ~ 26Mbit) does not suit me at all.  The network of the provider has long been 100Mbps, the router has long been with 802.11n support, it remains the case for a few to upgrade the laptop to the standard 802.11n.  On ebay a modern Intel Centrino N6200 card for laptops with 2 antennas was purchased.  It remains to replace the "grandfather" Broadcom BCM9431 on arrival and enjoy life. <br>  But it was not there that the manufacturer lovingly "took care" of us, because ... there is nothing to install anything into a good laptop, the manufacturer knows best what the owner needs. <br>  And on the screen we see the message: <br> <code><b>104-Unsupported wireless network device detected. <br> System halted. Remove device and restart.</b></code> <br> <br><img src="https://habrastorage.org/storage/habraeffect/b6/48/b648f22894f3ca19839307225ad4d4ce.jpg" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage/habraeffect/a2/4f/a24fde950110fe1252992a147a38de42.jpg" alt="image"><br><br>  We will change the situation! <br>  There are several ways to make a white card: <br>  1) Find information in the BIOS about the current card, and replace the data from the new (VEN, DEV, SUBSYS) <br>  probably the most popular method among users, especially if you change the card of the same manufacturer, <br>  for example, Intel Wifi 5100&gt; 6200 ( <a href="http://h30434.www3.hp.com/t5/Wireless-Internet-and-home/Wireless-Card-upgrade/m-p/373355">link</a> ) <br><br>  2) Remove completely the module responsible for checking, <br>  when loading, there will be a message stating that no wifi modules were detected, and how the BIOS will behave after such an operation is unknown ( <a href="http://icelord.net/wordpress/archives/2015">link</a> ) <br><br>  3) More complex than the previous ones, but effective, namely, to find in the code the function responsible for checking and make any card be white.  Not so scary as it seems, with the necessary knowledge can be handled by a complete layman in assembler. <br><br>  So let's go on the way # 3 :) <br><br>  <strong>In case of unsuccessful firmware or damage to the device, neither I nor the administration of the resource of responsibility bear any responsibility!</strong>  <strong>All actions you do at your own peril and risk.</strong> <strong><br></strong>  <strong>Be very careful.</strong>  <strong>No one except you is responsible for any negative consequences of this modification.</strong> <br><br>  We need a disassembler IDA, a firmware file from the official laptop hp site, and a utility to unpack the bios firmware file - <a href="http://forums.mydigitallife.info/threads/13194-Tool-to-Insert-Replace-SLIC-in-Phoenix-Insyde-Dell-EFI-BIOSes">Phoenix Tool 1.64</a> , as well as any HEX editor <br><br>  1) Download the BIOS from the official site, in my case it is sp49467.exe <br>  2) Run the installation and unpack it in any folder <br><br>  3) Run PhoenixTool, we need to unpack the BIOS firmware on executable modules. <br><br>  <s>lyrical digression:</s> <br> <code><a href="http://icelord.net/wordpress/archives/2015"><b>   ****.fd   Recovery filenames are ,        bios      ,       ,         </b></a></code> <br> <br>  3.1) In PhoenixTool, the following settings must be made: <br><br>  In the Count, Manufactured will install in <b>Other</b> <br>  In Advanced install checkboxes on the <b>‚Äúno SLIC‚Äù</b> and <b>‚ÄúAllow user to modify other modules‚Äù</b> items <br><br><img src="https://habrastorage.org/storage/habraeffect/0d/de/0dded5d26883ac2d1f4d456629479507.png" alt="image"><br><br>  Next, click Go and <b>do not close the</b> window with the information, this will allow us to make changes and, after clicking OK, enter them into the firmware file. <br><br><img src="https://habrastorage.org/storage/habraeffect/67/b2/67b2c0534288a4288eb5bdd5aa9ddebf.png" alt="image"><br><br>  <b>Now we have a DUMP folder with all the BIOS modules.</b> <br><br>  4) Open IDA Pro Advanced (64-bit), because  firmware modules compiled for 64 bit <br><br>  We are interested in the module <b>E62F9F2F-4895-4AB5-8F1A-399D0D9C6B90</b> , it is he who is responsible for checking the validity of the cards. <br><br>  We are looking for a module in the DUMP directory, for example E62F9F2F-4895-4AB5-8F1A-399D0D9C6B90_3_719.ROM (3 and 719 optional, they vary from laptop model and BIOS version), the main card verification module is the largest of the neighboring (for example, our 7Kb) <br><br>  We expose the settings, Processor Type: Intel 80x86 processors: metapc <br><br><img src="https://habrastorage.org/storage/habraeffect/f8/cf/f8cfa7399a329c501051a30e42d6407b.png" alt="image"><br><br>  5) It is necessary to find the verification function.  We will rely on the information about the previous wifi card known to us, we will find the function by the SUBSYS number (for example, Broadcom SUBSYS_1507103C) <br>  In IDA, scroll the pointer to the very top of the code, and do <b>Search -&gt; Text</b> , insert <b>1507103C</b> and find <b>ourselves</b> in the right part of the code. <br><br><img src="https://habrastorage.org/storage/habraeffect/ec/22/ec2260c03918e9a7fb1bc061eff70653.png" alt="image"><br><br>  In the code it becomes clear how the cards are checked (by VEN DEV SYBSYS and REV) <br>  The key to success is that the function returns to the register al = 1, and not 0 if the card does not fit. <br><br><img src="https://habrastorage.org/storage/habraeffect/2c/7f/2c7f9546545e3b4457e373a09513f727.jpg" alt="image"><br><br>  6) Edit the module file, <br>  by setting the spacing in IDA to the command mov al, r8b and switching to the Hex View A window, we find out the byte chain <b>418AC0</b> - it is needed to search in the hex editor, in order to replace it with the ‚Äúright command‚Äù <br><br>  To do this, open E62F9F2F-4895-4AB5-8F1A-399D0D9C6B90_3_719.ROM in the HEX editor and look for the string <b>418AC0</b> , change to <b>B00190</b> <br><br> <code>  : <br> mov al,1 = B0 01 <br> nop = 90 <br></code> <br><br>  Save the file, open it again in IDA and see that everything is correct with us: <br><br><img src="https://habrastorage.org/storage/habraeffect/89/c7/89c729f8b716ba513ff9490ecb4fdadc.png" alt="image"><br><br>  7) Firmware <br>  <b>Close IDA, HEX editor and so on!</b> <br><br>  Go back to the open PhoenixTool, <b>now press the OK button</b> , <br><br>  our changes will be saved in xxxxx_SLIC.fd (for example, 3623F42_SLIC.fd) <br>  must be renamed to a file without the SLIC suffix (for example, 3623F42.fd) <br><br>  All now you can run InsydeFlash.exe and flash our modified BIOS. <br><br>  8) Profit <br><br><img src="https://habrastorage.org/storage/habraeffect/2b/cf/2bcf311ac71ebb614feb86e9624d2672.png" alt="image"><br><br>  upd: Maybe someone will come in handy, posting the already fixed BIOS <br>  upd3: <a href="https://yadi.sk/d/UN_C_BMm394TSb">BIOS F.46 dv6-1319er sp54629 disabled white list wifi</a> </div><p>Source: <a href="https://habr.com/ru/post/108820/">https://habr.com/ru/post/108820/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../108807/index.html">Samsung BDC - how we participated in the competition and won it</a></li>
<li><a href="../108809/index.html">Right now. Lecture by Stanislav Smirnov in FML 239</a></li>
<li><a href="../108813/index.html">Zip zip: hooray! Or - Dump the archive</a></li>
<li><a href="../108815/index.html">Release Version: debugging is just beginning ...</a></li>
<li><a href="../108817/index.html">New materials on ASP.Net in Russian (150 articles)</a></li>
<li><a href="../108823/index.html">Apache will breathe new life into Google Wave</a></li>
<li><a href="../108824/index.html">How to update your Facebook, LinkedIn & Twitter status using spring-social</a></li>
<li><a href="../108828/index.html">The release of the second part of the book "Smashing Magazine": add yourself to the book!</a></li>
<li><a href="../108831/index.html">NLP: spell check - an inside look (part 1)</a></li>
<li><a href="../108833/index.html">Configuring Active / Passive PostgreSQL Cluster using Pacemaker, Corosync, and DRBD (CentOS 5.5)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>