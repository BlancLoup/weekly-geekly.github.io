<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Linux kernel maintainer rejected patch for AMDGPU</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On December 8, 2016, AMD unveiled the latest version of the proprietary AMDGPU-PRO 16.50 driver for operating systems on the Linux kernel. This driver...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Linux kernel maintainer rejected patch for AMDGPU</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/geektimes/post_images/ae0/d57/208/ae0d57208852f4bbe4e7485cda2e3ea5.jpg"><br><br>  On December 8, 2016, AMD <a href="http://support.amd.com/en-us/kb-articles/Pages/AMDGPU-PRO-Driver-for-Linux-Release-Notes.aspx">unveiled the</a> latest version of the proprietary <a href="http://support.amd.com/en-us/kb-articles/Pages/AMDGPU-PRO-Driver-for-Linux-Release-Notes.aspx">AMDGPU-PRO 16.50</a> driver for operating systems on the Linux kernel.  This driver is based on the free AMDGPU core module.  It provides DirectGMA support for OpenGL and <a href="http://www.amd.com/ru-ru/innovations/software-technologies/technologies-gaming/freesync">FreeSync</a> technology, which in some hybrid and AMD graphics processors solves the problem of communication between the processor and the monitor and eliminates image gaps, especially in games.  AMDGPU-PRO 16.50 supports some models of GNC 1.0 graphics accelerators AMD Series Southern Islands, namely the Radeon R7 M465X, AMD Radeon R7 M370 and AMD Radeon R7 M350.  Published scripts for installation on RedHat Enterprise Linux 7.3, CentOS 7.3, CentOS 6.8, and SLED / SLES 12 SP2. <br><br>  At the same time, AMD spokesman Harry Wentland addressed the Linux kernel developers mailing list with a <a href="https://lists.freedesktop.org/archives/dri-devel/2016-December/126422.html">proposal</a> to include a modest patch of about 100,000 lines of code with a layer of hardware abstractions into the kernel.  Maintainer core Dave Airlie (Dave Airlie) clearly <a href="https://lists.freedesktop.org/archives/dri-devel/2016-December/126516.html">explained</a> to an AMD representative why such a patch would not be accepted into the core.  Although the maintainer did not recall <a href="https://habrahabr.ru/post/145964/">Linus' famous phrase to Nvidia</a> , many people remember those words.  AMD was also sent on foot, albeit not in such a rough form. <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  New driver </h1><br>  AMDGPU-PRO 16.50 driver provides support for OpenGL 4.5, GLX 1.4, OpenCL 1.2, Vulkan 1.0, VDPAU API, and Vulkan support in Dota 2. It includes basic graphics and power management features, a GPL-compatible kernel module, compatible with technologies ADF (Atomic Display Framework) and KMS (Kernel Mode Setting). <br><br>  The new driver implemented FirePro features, such as EDID Management and 30-bit color, support for 64-bit versions of Red Hat Enterprise Linux 7.3, Red Hat Enterprise Linux 6.8, CentOS 7.3, CentOS 6.8, SUSE Linux Enterprise Desktop 12 Service Pack 2 , SUSE Linux Enterprise Server 12 Service Pack 2 and Ubuntu 16.04 LTS. <br><br><div class="spoiler">  <b class="spoiler_title">List of supported graphics cards AMDGPU-PRO 16.50 driver</b> <div class="spoiler_text">  Radeon RX 480 Graphics <br>  Radeon RX 470 Graphics <br>  Radeon RX 460 Graphics <br>  AMD Radeon R9 Fury X Graphics <br>  AMD Radeon R9 Fury Graphics <br>  AMD Radeon R9 Nano Graphics <br>  AMD Radeon R9 390X Graphics <br>  AMD Radeon R9 390 Graphics <br>  AMD Radeon R9 380X Graphics <br>  AMD Radeon R9 380 Graphics <br>  AMD Radeon R9 M395X Graphics <br>  AMD Radeon R9 M385 Graphics <br>  AMD Radeon R9 M380 Graphics <br>  AMD Radeon R9 M270X Graphics <br>  AMD Radeon R9 360 Graphics <br>  AMD Radeon R9 290X Graphics <br>  AMD Radeon R9 290 Graphics <br>  AMD Radeon R9 285 Graphics <br>  AMD Radeon R9 M485X <br>  AMD Radeon R7 M400 Series <br>  AMD Radeon R7 M370 <br>  AMD Radeon R7 M350 <br>  AMD Radeon R7 260X Graphics <br>  AMD Radeon R7 260 Graphics <br>  AMD Radeon Pro WX-series <br>  AMD FirePro W-Series <br>  AMD FirePro S-Series </div></div><br>  Developers warn about some known bugs of the new driver.  For example, the possibility of a complete freeze when the display is hot-plugged in while the computer is turned on, the inability to determine the mode of operation (modeset) when the monitor is hot-plugged in Red Hat Enterprise Linux 7.3, and incompatibility with the EnSight 10 benchmark. <br><br>  <b>Links to binaries:</b> <br><br><ul><li>  <a href="http://">AMDGPU-Pro Driver Version 16.50 for RHEL 7.3</a> </li><li>  <a href="http://">AMDGPU-Pro Driver Version 16.50 for RHEL 6.8 / CentOS 6.8</a> </li><li>  <a href="http://">AMDGPU-Pro Driver Version 16.50 for Ubuntu 16.04</a> </li><li>  <a href="http://">AMDGPU-Pro Driver Version 16.50 for SLED / SLES 12 SP2</a> </li></ul><br><h1>  No HAL in the core! </h1><br>  Simultaneously with the release of the driver, AMD representative Harry Wentland (Harry Wentland) addressed the kernel developer mailing list with a <a href="https://lists.freedesktop.org/archives/dri-devel/2016-December/126422.html">proposal</a> to include a patch for the AMDGPU module supplied as part of the Linux kernel, reworking the display control code (Display Core) to provide support for the next generation GPU (uGPU ), as well as adding a number of innovations, such as tools for organizing audio output via HDMI and DisplayPort. <br><br>  There is a big discussion around this proposal.  At <a href="https://lists.freedesktop.org/archives/dri-devel/2016-December/126488.html">first</a> , a representative of AMD <a href="https://lists.freedesktop.org/archives/dri-devel/2016-December/126488.html">was gently</a> and <a href="https://lists.freedesktop.org/archives/dri-devel/2016-December/126516.html">then firmly</a> explained that such a patch would not be accepted into the core, because AMD is trying to integrate its own hardware abstraction layer (HAL) instead of using a uniform interface for all drivers. <br><br>  Maintainer core Dave Airlie explained very simply: ‚ÄúNo HAL.  We do not embed layers of hardware abstractions into the core.  In DRM (Direct Rendering Manager), we also do not accept such patches if the maintainers do not sleep.  They may be convenient for AMD, but for the Linux kernel they offer no advantages and make it difficult to maintain code.  I have been supporting this code base for more than 10 years, and in all the years only the smerdzhil patch has been done for semi-political reasons (it was exynos), and that thing required a lot of effort to clean up, and I really don‚Äôt want to settle for that again. ‚Äù <br><br>  Dave Airlie said that he was definitely not going to undermine Linus' trust and merge 100,000 lines of hardware abstractions into the core, and Airlie is also not going to rewrite this code. <br><br>  Maintainer hoped that AMD would not threaten to leave the latest versions of AMD video cards without support if this HAL is not included in the core.  In this case, a large number of users will have to be left on the sidelines, but Linux will survive this and will develop further, said Airlie: ‚ÄúThe kernel is larger than any of us, and it has standards of what is acceptable and what is not.‚Äù  Maintainer recommended to colleagues from AMD to read all threads of the discussion about mac80211, which was several years ago, when vendors wrote their own 80211 layers inside their drivers. <br><br>  According to Airlie, if AMD needs to provide support for additional functionality, such as FreeSync or new HDMI features, this should be done jointly by expanding existing interfaces, rather than inventing new levels of abstraction and creating driver-specific ioctl.  Airlie reproached AMD for keeping aloof from the graphic community, closing in "its own bunker." <br><br>  On December 9, 2016, AMD Deucher, one of AMD's leading Linux developers, wrote a <a href="https://lists.freedesktop.org/archives/dri-devel/2016-December/126684.html">great answer to the</a> kernel maintainer.  He said that in this discussion, the reasons why many people are tired of working with upstream Linux are well manifested.  He considers it inappropriate to attack a company and its corporate culture in a technical discussion.  This is probably due to the fact that Dave Airlie himself spent too much time in an isolated Red Hat bunker (Dave is the chief lead programmer for Red Hat <a href="https://www.linkedin.com/in/dave-airlie-a2b07a1">on LinkedIn</a> ). <br><br>  The representative of AMD said that they have a very small team of Linux-developers who have been working in this topic for a long time.  They do everything they can - the Linux drivers are almost as good as the drivers for Windows, and as for the universal interfaces of the Linux kernel, with each update of the kernel they always break several drivers.  If you rewrite the current HAL from AMD on a universal interface, you will have to sacrifice stability and limit the functionality of the equipment. <br><br>  Apparently, the discussion on the Linux kernel developer mailing list will continue today. </div><p>Source: <a href="https://habr.com/ru/post/372961/">https://habr.com/ru/post/372961/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../372951/index.html">Neurotechnology is safe</a></li>
<li><a href="../372953/index.html">A robot with a record indicator of vertical jumping ability mastered parkour</a></li>
<li><a href="../372955/index.html">Car Radio: Safety Lessons</a></li>
<li><a href="../372957/index.html">Royal Blockchain: UK Mint launches digital gold trading platform</a></li>
<li><a href="../372959/index.html">Earth days increase on average by 1.78 ms per century</a></li>
<li><a href="../372963/index.html">Sudden space Yekaterinburg</a></li>
<li><a href="../372965/index.html">Home CNC router as an alternative to 3D printer, part three, software and G-code</a></li>
<li><a href="../372967/index.html">Expansion uBlock Origin came to Microsoft Edge</a></li>
<li><a href="../372969/index.html">Dark energy and dark flow - how to explain all this?</a></li>
<li><a href="../372971/index.html">Information from the original source about the death of Pebble</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>