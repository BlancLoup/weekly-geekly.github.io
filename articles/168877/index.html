<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Statistical tests in R. Part 2: Qualitative data tests</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article is a continuation of the first part. In this series of articles, I consider the use of the increasingly popular programming language R fo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Statistical tests in R. Part 2: Qualitative data tests</h1><div class="post__text post__text-html js-mediator-article">  This article is a continuation of the first part.  In this series of articles, I consider the use of the increasingly popular programming language R for solving common statistical problems. <br><br>  In this and the next article, I show how to choose the right tests for processing qualitative and quantitative data and implement them in R. These methods allow you to get a real idea of ‚Äã‚Äãan object, process or phenomenon by any parameter, i.e.  allow you to say "good" or "bad."  They will not require in-depth knowledge of programming and statistics, and will be useful to people of various kinds of activities. <br><br>  Interested?  Welcome under the cut! <br><a name="habracut"></a><br>  <a href="http://habrahabr.ru/post/167341/">Part 1: Binary Classification</a> <br>  <a href="http://habrahabr.ru/post/176795/">Part 3: Quantitative Tests</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Before you begin, I will make an important remark.  The hardest part is choosing how to analyze the data.  R is a tool, it will do everything you tell it.  But if you apply the wrong method, your results will not make sense. <br><br><h4>  Some theory </h4><br>  Testing is used to compare two random variables, i.e.  prove the presence or absence of a difference between them.  The basic idea is that there is a comparison of the difference between averages and standard deviation. <br><br>  In statistics, they operate on so-called guitar hypotheses.  There are only two of them.  The main, H0, that there is no difference: <br><img src="https://habrastorage.org/storage2/f67/b7c/ab4/f67b7cab4e0bfa29f0d38e053c00a810.png"><br>  Alternative, H1, difference of values: <br><img src="https://habrastorage.org/storage2/f4b/7c2/0fc/f4b7c20fcaed5ae07f0bebd32db28596.png"><br>  The hypothesis may be of the form x1 &lt;x2, and then you have to use one-sided tests.  But in practice this is done extremely rarely. <br><br>  It is also necessary to set the error of the first kind, Œ±.  I mentioned it in the last article as (1 - sensitivity) for binomial classification.  This is the error with which we predict H1.  Standard Œ± is 5%. <br><br>  Each test output gives 2 values: test statistics and p-value, which is essentially the same.  Briefly explain what it is.  As we know, the confidence interval (that is, the interval in which the random variable is with a given probability), which we will compose for H0, is represented by the formula: <br><img src="http://habrastorage.org/storage2/32e/4fd/19e/32e4fd19e5821254452f1417a4c1db5d.png"><br>  where x is the mean, œÉ is the standard deviation. <br>  Œ∂ is the quantile of the distribution used, i.e.  multiplier, which corresponds to the interval of a given probability.  Œ± is the error of the first kind, i.e.  the probability that x is outside the interval. <br><br>  The test has the x value of the alternative hypothesis.  Test statistics characterize it in the quantile dimension, and p-value in the probability dimension.  If the p-value is smaller than Œ±, or the test statistic is greater than quantile, then the alternative hypothesis is outside this interval.  In this case, with probability of error alpha, we accept H1, since  We believe that the test value can not relate to H0.  Test statistics and p-value are test results. <br><br>  If we build a confidence interval, we get essentially the same thing.  Perhaps many will be more natural.  Nevertheless, the tests are arranged according to the p-value principle, let's use them and not think at the conceptual level (especially since people have been doing this all their lives, apparently, this is the way they should be). <br><br><h5>  The choice of methods </h5><br><img src="https://habrastorage.org/storage2/87e/eb1/6e2/87eeb16e2212fa3a212c3aa3f02cf904.png"><br>  Data is paired if both values ‚Äã‚Äãare from the same object.  For example, a comparison of ‚Äúbefore and after‚Äù results or the use of two algorithms on the same data.  It is clear that the pair test is less stringent, i.e.  the effect can be proved with a smaller sample. <br><br><h5>  Stages of working with data </h5><br>  You have identified what you are dealing with.  What to do next.  Here is some work algorithm. <br><br><ul><li>  Description.  Get average values, standard deviations, postit distribution graphs </li><li>  Decision-making <br><ul><li>  Appropriate test </li><li>  Obtaining a confidence interval (in R included in tests) </li></ul><br></li></ul><br><br><h4>  High-quality data processing </h4><br><br>  Qualitative data is ‚Äúyes‚Äù and ‚Äúno‚Äù.  Examples of application: comparison of the work of two methods / algorithms / departments of companies, finding the influence of the presence of an antivirus on computer infection / smoking on cancer of the legs / text of an advertisement on the fact of sale.  The <a href="http://en.wikipedia.org/wiki/Binomial_distribution">binominal distribution</a> works for this data. <br><br>  For example, I took a few abstract binary data, two groups of 25 elements.  Each element is 0 or 1. We will work with them, as I indicated above: first, we will beautifully present these data (perhaps after this no tests will be needed), then we will carry out the analysis. <br><br>  For example, we construct the binomial distribution for the first sample, assuming that the probability value is true.  Thus, we get how a random variable should behave on the basis of the available data. <br><br><pre><code class="diff hljs">tab &lt;- read.csv(file="data1.csv", header=TRUE, sep=",", dec=".") attach(tab) tab x1 &lt;- X[Group==1] x2 &lt;- X[Group==2] library(graphics) n &lt;- length(x1) p1 &lt;- mean(x1) k &lt;- seq(0, n, by = 1) plot (k, dbinom(k, n, p), type = "l", ylab = "probability", main = "Binominal distribution")</code> </pre> <br><img src="http://habrastorage.org/storage2/5c3/0ba/1b2/5c30ba1b246207f5a2ddce947b872e58.png"><br><br>  If we are interested in the probability: <br><br><pre> <code class="diff hljs">plot (k/n, dbinom(k, n, p), type = "l", ylab = "probability", main = "Binominal distribution")</code> </pre><br><img src="http://habrastorage.org/storage2/0eb/a47/e97/0eba47e97c695a3ad09df5636e2e6487.png"><br><br>  To describe the data, it is necessary to imagine the average probability with a confidence interval for each group.  The probability density function is as follows: <br><img src="http://habrastorage.org/storage2/d05/d6f/c82/d05d6fc829e651e34d84a5505801fa3b.png"><br><br>  In R binom will help us.  Having established it, we use the code: <br><br><pre> <code class="diff hljs">library(binom) binom.confint(sum(x1), n, conf.level = 0.95, methods = "exact") binom.confint(sum(x2), n, conf.level = 0.95, methods = "exact")</code> </pre><br><img src="http://habrastorage.org/storage2/827/96a/23a/82796a23ae2bdcf3d537aed37be21a8f.png"><br><br>  Already, we can conclude that, although the difference in averages is significant, the confidence intervals overlap, which was generally expected for such small samples.  Also note that if you considered the above formula, you would get other results.  In this calculation, the exact method is used, while the formula is approximate.  The difference decreases with increasing sample. <br><br>  The chi-square test is used to analyze several binomial samples.  It is common because  easy to hold with your hands. <br><br><pre> <code class="diff hljs">chisq.test(x1,x2)</code> </pre><br><img src="http://habrastorage.org/storage2/e5f/290/1d8/e5f2901d8cb9e1ddb2580ce8c4eb12a7.png"><br><br>  We were given a warning.  The fact is that the chi-square test is approximate (although even here R uses an additional correction, it can be turned off if necessary).  For small samples, it gives an error.  There is a more complex, but absolutely accurate test that takes into account the uncertainty of some parameters, which is unaccounted for in the chi-square test.  This is a Fisher test. <br><br><pre> <code class="diff hljs">fisher.test(x1, x2)</code> </pre><br><img src="http://habrastorage.org/storage2/345/49e/9e6/34549e9e65e28c27d11a85293ae19828.png"><br><br>  P-value of 9.915%, which is more than 5%.  Therefore, we leave the hypothesis H0 - there is no difference between the quantities. <br><br>  For these tests, you can take several groups.  In this case, H1 will reflect the difference of at least one group from the others. <br><br><h4>  Results </h4><br>  This concludes this article.  Today I talked about how to use tests, how to choose a suitable test, and also analyzed in detail the analysis of qualitative data, the use of chi-square test and Fisher test.  The text was more than R, but there is no way to go.  In the next, I will proceed to the analysis of quantitative samples. <br><br>  <a href="http://rusfolder.com/35149696">Sample files</a> <br><br>  PS Waiting for edits, additions and alternative points of view in the comments. </div><p>Source: <a href="https://habr.com/ru/post/168877/">https://habr.com/ru/post/168877/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../168863/index.html">Playstation 2: Hello World</a></li>
<li><a href="../168865/index.html">News digest from the world of mobile development in the last week # 1 (February 2 - 9, 2013)</a></li>
<li><a href="../168867/index.html">Building AI for the game of Japanese Shogi Chess</a></li>
<li><a href="../168869/index.html">Caching in ASP.NET MVC</a></li>
<li><a href="../168875/index.html">Interesting interview with Larry Page</a></li>
<li><a href="../168879/index.html">mini-PCIe LTE for laptop</a></li>
<li><a href="../168881/index.html">Jabra Halo 2 Bluetooth Stereo Headset and Laptop</a></li>
<li><a href="../168885/index.html">Clouds on CSS3 3D Transformations</a></li>
<li><a href="../168887/index.html">The future of bitcoin mining on ASIC devices (reasoning)</a></li>
<li><a href="../168889/index.html">What is different iPad 4 128 GB?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>