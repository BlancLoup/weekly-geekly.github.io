<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>GraphicsJS - Graphic JavaScript Library</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Translation of the article. The English original is published on SitePoint - " Introducing GraphicsJS, a Powerful Lightweight Graphics Library ". 

 H...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>GraphicsJS - Graphic JavaScript Library</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/web/f56/dd3/64b/f56dd364b9914eddadfc127324a5d4f3.jpg" align="left"><br><br>  <i>Translation of the article.</i>  <i>The English original is published on SitePoint - " <a href="https://www.sitepoint.com/introducing-graphicsjs-a-powerful-lightweight-graphics-library/">Introducing GraphicsJS, a Powerful Lightweight Graphics Library</a> ".</i> <br><br>  HTML5 is the cornerstone of the modern web.  And today, when the challenge is to create interactive graphics, the choice most often falls on technologies such as SVG and Canvas.  Flash is forgotten, Silverlight is a rare bird living on the outskirts of the web, and almost no one remembers third-party ActiveX and Java plug-ins. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The pros and cons of SVG and Canvas are <a href="https://www.sitepoint.com/canvas-vs-svg-choosing-the-right-tool-for-the-job/">well known</a> - in general, it all comes down to the fact that SVG is more suitable for creating interactive elements and working with them.  This is a vector format based on XML, and when an image is loaded onto a page using the <code>&lt;svg&gt;</code> , each of its internal elements are made available in the SVG DOM. <br><br>  In this article I want to talk about <a href="http://www.graphicsjs.org/">GraphicsJS</a> .  This is a powerful, open-source, graphical JavaScript library based on SVG technology ( <a href="https://en.wikipedia.org/wiki/Vector_Markup_Language">VML</a> for older versions of IE).  I‚Äôll start with a brief introduction to the basics of GraphicsJS, and then illustrate the library‚Äôs possibilities with two small but illustrative examples.  The first one is dedicated to the visual arts.  The second will show how to make a simple art game in the timekiller genre in less than 50 lines of code. <a name="habracut"></a><br><br><h2>  Why GraphicsJS </h2><br>  There are quite a few libraries that make it easier to work with SVG: <a href="https://dmitrybaranovskiy.github.io/raphael/">Rapha√´l</a> , <a href="http://snapsvg.io/">Snap.svg,</a> and <a href="https://bonsaijs.org/">BonsaiJS</a> are among the best.  Each has strengths and weaknesses, but their detailed comparison will be the subject of one of the following publications.  This article is solely about GraphicsJS, and now I will try to explain how this library is good and stands out among others. <br><br>  Firstly, GraphicsJS weighs quite a bit and has a very flexible JavaScript API.  It provides rich possibilities for text formatting, as well as a virtual DOM - independent of the specifics of the HTML DOM in different browsers. <br><br>  Secondly, the code of this library <a href="https://www.anychart.com/blog/2016/09/15/anychart-open-source-powerful-draw-anything-js-graphics-library-graphicsjs/">was only opened last fall</a> .  <a href="https://www.anychart.com/">AnyChart</a> , one of the leaders in developing solutions for interactive data visualization, has used GraphicsJS as a graphics engine in its commercial products for about three years (since the release of AnyChart 7.0), so this library has been tested in combat conditions.  (Disclaimer: I'm AnyChart's R &amp; D executive and lead graphicsjs developer.) <br><br>  Third, unlike other AnyChart products ‚Äî graphing JavaScript libraries ‚Äî GraphicsJS is free for both commercial and non-commercial use.  The library is available <a href="https://github.com/anychart/graphicsjs">on GitHub</a> under the Apache license. <br><br>  Fourth, GraphicsJS has cross-browser compatibility, including support for Internet Explorer 6.0+, Safari 3.0+, Firefox 3.0+, Opera 9.5+.  In older versions of IE, the library uses VML, in all other browsers, SVG. <br><br>  Finally, GraphicsJS allows you to effectively combine graphics and animation.  Look at the library‚Äôs <a href="http://www.graphicsjs.org/">main gallery</a> : there are such examples as a <a href="https://playground.anychart.com/gallery/latest/Graphics/Bonfire-plain">blazing bonfire</a> , a <a href="https://playground.anychart.com/gallery/latest/Graphics/Galaxy-plain">rotating galaxy</a> , <a href="https://playground.anychart.com/gallery/latest/Graphics/Rain-plain">rain</a> , <a href="https://playground.anychart.com/gallery/latest/Graphics/Tree-plain">procedurally generated leaves</a> , a <a href="https://playground.anychart.com/gallery/7.12.0/Graphics/Puzzle_15-plain">‚ÄúFifteen‚Äù puzzle,</a> and so on.  In the detailed <a href="https://docs.anychart.com/latest/Graphics/Overview">documentation</a> and detailed <a href="https://api.anychart.com/latest/anychart.graphics">description of the API</a> you can find even more examples of using GraphicsJS. <br><br><h2>  GraphicsJS Basics </h2><br>  To start working with GraphicsJS, you need to connect the library itself and create a block HTML element for the future drawing: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"en"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"utf-8"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>GraphicsJS Basic Example<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stage-container"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"width: 400px; height: 375px;"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://cdn.anychart.com/js/latest/graphics.min.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">//   GraphicsJS </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Then you need to build a workspace and draw something in it, for example, a <a href="https://api.anychart.com/latest/anychart.graphics">rectangle</a> , a <a href="https://api.anychart.com/latest/anychart.graphics">circle</a> or some other <a href="https://docs.anychart.com/latest/Graphics/Shapes">shape</a> : <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    var stage = acgraph.create('stage-container'); //   var stage.rect(25, 50, 350, 300);</span></span></code> </pre> <br>  Here is <a href="https://codepen.io/SitePoint/pen/oBPEzE">an example on CodePen</a> , in which we go a little further and draw the <a href="https://harrypotter.wikia.com/wiki/Deathly_Hallows">Deathly Hallows</a> mark. <br><br><h2>  Our first masterpiece </h2><br><h3>  Contour, fill color and pattern </h3><br>  You can color any shape or line using <a href="https://docs.anychart.com/latest/Graphics/Fill_Settings">the fill</a> and <a href="https://docs.anychart.com/latest/Graphics/Stroke_Settings">outline</a> <a href="https://docs.anychart.com/latest/Graphics/Fill_Settings">settings</a> .  Everything has a contour (border), but the fill is available only for figures and closed lines. <br><br>  GraphicsJS offers numerous settings for these parameters, up to a linear and radial gradient, both in the fill and in the contour.  Lines can be dashed, and also supports fill image with multiple modes of paving.  However, such a set of functions can be found in almost any library.  What distinguishes GraphicsJS is the option to <a href="https://docs.anychart.com/latest/Graphics/Hatch_Fill_Settings">fill it with hatching and a pattern</a> that allows you not only to choose from thirty-two (!) Ready <a href="https://api.anychart.com/latest/anychart.graphics.vector.HatchFill.HatchFillType">fill options</a> , but also to easily create your own patterns from shapes or text. <br><br>  And now let's see what can be done specifically.  I will draw a small picture (a little man standing near the house) and then modify it with the help of color and patterns.  Let, for simplicity, this will be an image in the style of <a href="https://en.wikipedia.org/wiki/Na%25C3%25AFve_art">naive art</a> (I will try not to reach <a href="https://en.wikipedia.org/wiki/Outsider_art">ar Brut</a> ).  Go: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    var stage = acgraph.create('stage-container'); //   var frame = stage.rect(25, 50, 350, 300); //   var walls = stage.rect(50, 250, 200, 100); var roof = stage.path() .moveTo(50, 250) .lineTo(150, 180) .lineTo(250, 250) .close(); //   var head = stage.circle(330, 280, 10); var neck = stage.path().moveTo(330, 290).lineTo(330, 300); var kilt = stage.triangleUp(330, 320, 20); var rightLeg = stage.path().moveTo(320, 330).lineTo(320, 340); var leftLeg = stage.path().moveTo(340, 330).lineTo(340, 340);</span></span></code> </pre> <br>  The result can be viewed <a href="https://codepen.io/SitePoint/pen/VPGQKx">at CodePen</a> . <br><br>  As you can see, here we use variables: all methods that paint something in the workspace return a reference to the created object, which can be used to change or delete it. <br><br>  In addition, in ChainJS you can actively use chain calls (for example, <code>stage.path().moveTo(320, 330).lineTo(320, 340);</code> ), which allows you to reduce the code.  You need to use this feature carefully, but with the right approach, a chain call really makes the code more compact and easy to read. <br><br>  Now you can give the picture we got to some child and ask them to color it - even a child can master the following technique: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   //   frame.stroke(["red", "green", "blue"], 2, "2 2 2"); //   walls.fill(acgraph.hatchFill('horizontalbrick')); //   roof.fill("#e4d96f"); //   kilt.fill(acgraph.hatchFill('plaid'));</span></span></code> </pre> <br>  Now our example looks <a href="https://codepen.io/SitePoint/pen/QdVQqb">like this</a> . <br><br>  Now the picture shows a highlander in a kilt.  He stands beside his thatched-roof brick castle.  You can even take a chance and really call our picture a work of <i>art</i> , the copyright to which we want to protect.  Well, let's do it with the help of the original text pattern fill, which we ourselves will configure: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// 169 -     var text = acgraph.text().text(String.fromCharCode(169)).opacity(0.2); var pattern_font = stage.pattern(text.getBounds()); pattern_font.addChild(text); //     frame.fill(pattern_font);</span></span></code> </pre> <br>  As you can see, it is very simple: you need to create an instance of a <a href="https://api.anychart.com/latest/anychart.graphics.vector.Text">text object</a> , then build a <a href="https://api.anychart.com/latest/anychart.graphics.vector.Stage">pattern</a> in the workspace, and finally insert text into the pattern. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://codepen.io/SitePoint/embed/preview/RKYyoV" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  We draw an art game (timekiller) in less than 50 lines of code </h2><br>  In the next part of the article, I'll show you how to use GraphicsJS to draw a <a href="http://orteil.dashnet.org/cookieclicker/">cookie</a> clicker like a clicker in less than 50 lines of code. <br><br>  The name of this game is "Janitor in the Wind."  In it, the user acts as a janitor who sweeps the street on a windy autumn day.  Here we partially use the example code with <a href="https://playground.anychart.com/gallery/latest/Graphics/Tree-plain">procedurally generated leaves</a> from the GraphicsJS gallery. <br><br>  <a href="https://codepen.io/SitePoint/pen/NdLMgB">The final version of the game can be viewed at CodePen</a> (or at the end of this article). <br><br><h3>  Layers, zIndex, virtual DOM </h3><br>  Start by creating a workspace (as in the previous example).  And then we declare several source variables: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    var stage = acgraph.create("stage-container"); //     var palette_fill = ['#5f8c3f', '#cb9226', '#515523', '#f2ad33', '#8b0f01']; var palette_stroke = ['#43622c', '#8e661b', '#393b19', '#a97924', '#610b01']; //  var leavesCounter = 0;</span></span></code> </pre> <br>  To create a game, we can use the ability to work with a <a href="https://docs.anychart.com/latest/Graphics/Layers">layer</a> - an object responsible for grouping elements in GraphicsJS.  Elements must be grouped so that it is convenient to apply the same changes to them, for example transformations.  Layers can be modified in pause mode (I‚Äôll talk about it a little lower): this improves performance and usage impressions. <br><br>  In this example, the functionality of the layer helps to group the leaves and not let them close the inscription, telling how many leaves we swept out.  To do this, first create a caption, and then use the <code>stage.layer</code> method <code>stage.layer</code> create a layer for the entire <code>stage.layer</code> and assign the latter a lower <code>zIndex</code> than the caption. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//      var counterLabel = stage.text(10,10, "Swiped: 0", {fontSize: 20}); //    var gameLayer = stage.layer().zIndex(counterLabel.zIndex()-1);</span></span></code> </pre> <br>  Now, no matter how much we create leaves in this layer, they will never be on top of the text. <br><br><h3>  Transformations </h3><br>  Next, we add a function for drawing leaves, using a convenient transformation API that allows you to move, scale, rotate and crop both elements and groups of elements.  Coupled with other features of GraphicsJS - layers and virtual DOM - this is a very powerful tool. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">drawLeaf</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x, y</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      var index = Math.floor(Math.random() * 5); var fill = palette_fill[index]; var stroke = palette_stroke[index]; //        var scale = Math.round(Math.random() * 30) / 10 + 1; var angle = Math.round(Math.random() * 360 * 100) / 100; //    () var path = acgraph.path(); //      path.fill(fill).stroke(stroke, 1, 'none', 'round', 'round'); var size = 18; path.moveTo(x, y) .curveTo(x + size / 2, y - size / 2, x + 3 * size / 4, y + size / 4, x + size, y) .curveTo(x + 3 * size / 4, y + size / 3, x + size / 3, y + size / 3, x, y); //    path.scale(scale, scale, x, y).rotate(angle, x, y); return path; };</span></span></code> </pre> <br>  As you can see, each line is created in the same way, but then transformed.  The result is a very nice random pattern of leaves. <br><br><h3>  Work with events </h3><br>  All objects, workspaces, and layers in GraphicsJS can <a href="https://docs.anychart.com/latest/Graphics/Events">handle events</a> .  A list of all available events is in the <a href="https://api.anychart.com/latest/anychart.graphics.events.EventType">EventType API</a> .  The workspaces support <a href="https://api.anychart.com/latest/anychart.graphics.vector.Stage.EventType">four special events</a> for rendering control. <br><br>  In the game example, we use event listeners tied to each object (sheet) to make the leaves disappear one by one when you hover over them.  To achieve this, add the following code at the end of the <code>drawLeaf</code> function, before the <code>return</code> : <br><br><pre> <code class="javascript hljs">path.listen(<span class="hljs-string"><span class="hljs-string">"mouseover"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ path.remove(); counterLabel.text(<span class="hljs-string"><span class="hljs-string">"Swiped: "</span></span> + leavesCounter++); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (gameLayer.numChildren() &lt; <span class="hljs-number"><span class="hljs-number">200</span></span>) shakeTree(<span class="hljs-number"><span class="hljs-number">300</span></span>); });</code> </pre> <br>  From this it is also clear that a layer is used to count the leaves. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (gameLayer.numChildren() &lt; <span class="hljs-number"><span class="hljs-number">200</span></span>) shakeTree(<span class="hljs-number"><span class="hljs-number">300</span></span>);</code> </pre> <br>  Notice, in fact, we do not store the number of leaves here.  Leaves are lines that are added to a particular layer or are removed from there, and therefore you can track how many children we have (and therefore how many leaves remain). <br><br>  The GraphicsJS library allows you to use a <a href="https://docs.anychart.com/latest/Graphics/Virtual_DOM">virtual DOM</a> , an HTML DOM abstraction that is light and independent of the specifics of using SVG / VML in different browsers.  This technology is useful for implementing a number of useful functions, such as controlling all objects and layers, applying transformations to groups, and optimizing rendering using methods that allow you to monitor and control its entire process. <br><br><h3>  Performance optimization </h3><br>  Thanks to the virtual DOM, as well as event handlers, GraphicsJS users can control the rendering.  How these things are connected, you can read in the article " <a href="https://docs.anychart.com/latest/Graphics/Performance">Performance</a> " from the library documentation. <br><br>  At the time when the leaves are generated in our game, the rendering needs to be suspended and then resumed as soon as all changes are made: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">shakeTree</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">n</span></span></span><span class="hljs-function">)</span></span>{ stage.suspend(); <span class="hljs-comment"><span class="hljs-comment">//   for (var i = 0; i &lt; n; i++) { var x = Math.random() * stage.width()/2 + 50; var y = Math.random() * stage.height()/2 + 50; gameLayer.addChild(drawLeaf(x, y)); //   } stage.resume(); //   }</span></span></code> </pre> <br>  With this method of adding elements, new leaves appear almost instantly. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//      shakeTree(500);</span></span></code> </pre> <br>  Finally, drop all the leaves by calling the <code>shakeTree()</code> method. <br><br><h3>  Final result </h3><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://codepen.io/SitePoint/embed/preview/NdLMgB" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  Conclusion </h2><br>  Switching to HTML5 changed the web.  When it comes to modern web applications or even a simple site, we often encounter tasks that require manipulation of graphics.  Although it is impossible to find a solution that works perfectly in absolutely any situation, I would suggest that you pay attention to the GraphicsJS library.  It has an open source and open-source license, it is very functional and productive, and also has excellent browser support and many features.  All this makes GraphicsJS an interesting, convenient and, of course, effective solution. <br><br>  I would be happy to get feedback on GraphicsJS in the comments.  Already using this library?  Are you ready to consider the possibility of its use in a new project?  It would be interesting to know why, as well as why not.  By the way, I am currently working on creating a list of the best graphic JavaScript libraries and articles where they will be compared - so I suggest writing in the comments which libraries you would like to see there. <br><br><h2>  Links </h2><br><ul><li>  general information <br><ul><li>  <a href="https://www.w3.org/wiki/HTML/Elements/svg">Svg</a> </li><li>  <a href="https://www.w3.org/wiki/Html/Elements/canvas">Canvas</a> </li><li>  <a href="https://en.wikipedia.org/wiki/Canvas_element">SVG vs.</a>  <a href="https://en.wikipedia.org/wiki/Canvas_element">Canvas</a> </li></ul></li></ul><br><ul><li>  Libraries <br><ul><li>  <a href="http://www.graphicsjs.org/">GraphicsJS</a> </li><li>  <a href="https://dmitrybaranovskiy.github.io/raphael/">Rapha√´l</a> </li><li>  <a href="http://snapsvg.io/">Snap.svg</a> </li><li>  <a href="https://bonsaijs.org/">BonsaiJS</a> </li></ul></li></ul><br><ul><li>  GraphicsJS <br><ul><li>  <a href="https://github.com/anychart/graphicsjs">GraphicsJS on github</a> </li><li>  <a href="https://docs.anychart.com/latest/Graphics/Overview">GraphicsJS Documentation</a> </li><li>  <a href="https://api.anychart.com/latest/anychart.graphics">GraphicsJS API Description</a> </li></ul></li></ul><br>  <i>The author of the <a href="https://www.sitepoint.com/introducing-graphicsjs-a-powerful-lightweight-graphics-library/">original article on SitePoint</a> : Roman Lyubushkin (Roman Lubushkin).</i> </div><p>Source: <a href="https://habr.com/ru/post/331272/">https://habr.com/ru/post/331272/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../331262/index.html">How can PVS-Studio help in finding vulnerabilities?</a></li>
<li><a href="../331264/index.html">Analytical tools: a review of lucrative offers</a></li>
<li><a href="../331266/index.html">Hosting provider paid a million dollars to ransomware hackers</a></li>
<li><a href="../331268/index.html">How to run add-on bitcoin blockchain</a></li>
<li><a href="../331270/index.html">Speed ‚Äã‚Äãreading: does it work or not? Part 1</a></li>
<li><a href="../331274/index.html">Material motivation of staff in the department of Internet marketing</a></li>
<li><a href="../331276/index.html">Antipatterns to search for applicants</a></li>
<li><a href="../331280/index.html">Kotlin aftertaste, part 1</a></li>
<li><a href="../331282/index.html">Assessment of connectedness of events using Bayes</a></li>
<li><a href="../331286/index.html">Materials of the student school "Recent Advances in Algorithms"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>