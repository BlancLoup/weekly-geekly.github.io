<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We use closures in Swift in full</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Despite the fact that in Objective-C 2.0 there are closures (known as blocks ), previously Apple‚Äôs API reluctantly used them. Perhaps this is partly w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We use closures in Swift in full</h1><div class="post__text post__text-html js-mediator-article">  Despite the fact that in Objective-C 2.0 there are <a href="https://ru.wikipedia.org/wiki/%25D0%2597%25D0%25B0%25D0%25BC%25D1%258B%25D0%25BA%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5_(%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5)">closures</a> (known as <b>blocks</b> ), previously Apple‚Äôs API reluctantly used them.  Perhaps this is partly why many iOS programmers were happy to exploit third-party libraries, such as AFNetworking, where blocks are used everywhere.  With the release of Swift, as well as the addition of new functionality to the API, working with closures has become extremely convenient.  Let's look at what features their syntax has in Swift, and what tricks you can do with them. <br><br><img src="https://habrastorage.org/files/ad8/b57/b04/ad8b57b045ba43be81bf5dfd2805ef05.jpg"><br><br>  We will move from simple to complex, from boring to fun.  I apologize in advance for the abundant use of the mantras "function", "parameter" and "Double", but you cannot throw out the words from the song. <br><a name="habracut"></a><br><h1>  Part 1. Introduction </h1><br><h4>  1.1.  First Class Objects </h4><br>  To begin with, let us strengthen ourselves with the idea that in Swift functions are carriers of the proud status <a href="https://ru.wikipedia.org/wiki/%25D0%259E%25D0%25B1%25D1%258A%25D0%25B5%25D0%25BA%25D1%2582_%25D0%25BF%25D0%25B5%25D1%2580%25D0%25B2%25D0%25BE%25D0%25B3%25D0%25BE_%25D0%25BA%25D0%25BB%25D0%25B0%25D1%2581%25D1%2581%25D0%25B0">of first-class objects</a> .  This means that a function can be stored in a variable, passed as a parameter, returned as the result of another function.  The concept of ‚Äútype of function‚Äù is introduced.  This type describes not only the type of the return value, but also the types of input arguments. <br>  Suppose we have two similar functions that describe two mathematical operations of addition and subtraction: <br><pre><code class="hljs swift"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(op1: Double, op2: Double)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Double</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> op1 + op2 } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">subtract</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(op1: Double, op2: Double)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Double</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> op1 - op2 }</code> </pre> <br>  Their type will be described as follows: <br><pre> <code class="hljs pgsql">(<span class="hljs-type"><span class="hljs-type">Double</span></span>, <span class="hljs-type"><span class="hljs-type">Double</span></span>) -&gt; <span class="hljs-type"><span class="hljs-type">Double</span></span></code> </pre> <br>  You can read it like this: ‚ÄúBefore us is a type of function with two input parameters of type <i>Double</i> and a return value of type <i>Double</i> .‚Äù <br>  We can create a variable of this type: <br><pre> <code class="hljs pgsql">//   var operation: (<span class="hljs-type"><span class="hljs-type">Double</span></span>, <span class="hljs-type"><span class="hljs-type">Double</span></span>) -&gt; <span class="hljs-type"><span class="hljs-type">Double</span></span> //      //   ,    - : <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.</span></span>.&lt;<span class="hljs-number"><span class="hljs-number">2</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> i == <span class="hljs-number"><span class="hljs-number">0</span></span> { operation = <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { operation = subtract } let result = operation(<span class="hljs-number"><span class="hljs-number">1.0</span></span>, <span class="hljs-number"><span class="hljs-number">2.0</span></span>) // ""  println(result) }</code> </pre><br>  The code described above will be displayed in the console: <br>  <b>3.0</b> <b><br></b>  <b>-1.0</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  1.2.  Closures </h4><br>  We use another privilege of the first class object.  Returning to the previous example, we could create such a new function that would accept one of our old functions like <i>(Double, Double) -&gt; Double</i> as the last parameter.  This is how it will look like: <br><pre> <code class="hljs pgsql">// (<span class="hljs-number"><span class="hljs-number">1</span></span>) func performOperation(op1: <span class="hljs-type"><span class="hljs-type">Double</span></span>, op2: <span class="hljs-type"><span class="hljs-type">Double</span></span>, operation: (<span class="hljs-type"><span class="hljs-type">Double</span></span>, <span class="hljs-type"><span class="hljs-type">Double</span></span>) -&gt; <span class="hljs-type"><span class="hljs-type">Double</span></span>) -&gt; <span class="hljs-type"><span class="hljs-type">Double</span></span> { // (<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> operation(op1, op2) // (<span class="hljs-number"><span class="hljs-number">3</span></span>) }</code> </pre><br>  Let's sort the tangled syntax into components.  The function <i>performOperation</i> takes three parameters: <br><ul><li>  <i>double op1</i> (op - short for operand) </li><li>  <i>double</i> type <i>op2</i> </li><li>  <i>operation</i> type <i>(Double, Double) -&gt; Double</i> </li></ul><br>  In its body, <i>performOperation</i> simply returns the result of executing the function stored in the <i>operation</i> parameter, passing the first two of its parameters to it. <br>  So far, it looks confusing, and perhaps not even clear.  A little patience, gentlemen. <br><br>  Let us now pass as a third argument not a variable, but an anonymous function, enclosing it in curly <i>{}</i> brackets.  The parameter passed in this way will be called the <b>closure</b> : <br><pre> <code class="hljs kotlin">let result = performOperation(<span class="hljs-number"><span class="hljs-number">1.0</span></span>, <span class="hljs-number"><span class="hljs-number">2.0</span></span>, {(op1: <span class="hljs-built_in"><span class="hljs-built_in">Double</span></span>, op2: <span class="hljs-built_in"><span class="hljs-built_in">Double</span></span>) -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Double</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> op1 + op2 <span class="hljs-comment"><span class="hljs-comment">// (5) }) // (4) println(result) //  3.0  </span></span></code> </pre><br>  The code snippet <i>(op1: Double, op2: Double) -&gt; Double in</i> is, so to speak, the ‚Äúheader‚Äù of the closure.  It consists of: <br><ul><li>  <i>double</i> alias <i>op1</i> , <i>op2</i> type for use inside the circuit </li><li>  return value of the closure <i>-&gt; Double</i> </li><li>  in keyword </li></ul><br>  Once again about what happened now, by points: <br>  <b>(1)</b> The <i>performOperation</i> function is <i>declared.</i> <br>  <b>(2)</b> This function takes three parameters.  The first two are operands.  The latter is the function that will be executed on these operands. <br>  <b>(3)</b> <i>performOperation</i> returns the result of the operation. <br>  <b>(4)</b> The function described by the closure was passed as the last parameter in <i>performOperation</i> . <br>  <b>(5)</b> The body of the closure indicates which operation will be performed on the operands. <br><br><h1>  Part 2. Merry. <br>  Syntactic sugar and unexpected "buns" </h1><br>  The authors of Swift have put a lot of effort into allowing users of the language to write as little code as possible and spend their precious time <s>reading Habr</s> as much as possible on the architecture of the project.  Taking as a basis our example of arithmetic operations, let's see to what state we can ‚Äúunleash‚Äù it. <br><br><h5>  2.1.  We get rid of types by a call. </h5><br>  First, you can not specify the types of input parameters in the closure explicitly, since the compiler already knows about them.  The function call now looks like this: <br><pre> <code class="hljs kotlin">performOperation(<span class="hljs-number"><span class="hljs-number">1.0</span></span>, <span class="hljs-number"><span class="hljs-number">2.0</span></span>, {(op1, op2) -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Double</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> op1 + op2 })</code> </pre><br><h5>  2.2.  We use the tail closure syntax. </h5><br>  Secondly, if the closure is passed as the last parameter to the function, then the syntax allows you to shorten the record, and the closure code is simply attached to the call tail: <br><pre> <code class="hljs kotlin">performOperation(<span class="hljs-number"><span class="hljs-number">1.0</span></span>, <span class="hljs-number"><span class="hljs-number">2.0</span></span>) {(op1, op2) -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Double</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> op1 + op2 }</code> </pre><br><h5>  2.3.  Do not use the keyword "return". </h5><br>  A nice (in some cases) feature of the language is that if the closure code fits into one line, the result of the execution of this line will automatically be returned.  Thus, the "return" keyword can be omitted: <br><pre> <code class="hljs erlang"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">performOperation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> {</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(op1, op2)</span></span></span><span class="hljs-function"> -&gt;</span></span> Double in op1 + op2 }</code> </pre><br><h5>  2.4.  We use shorthand names for parameters. </h5><br>  Go ahead.  Interestingly, Swift allows the use of so-called shorthand (English shorthand) names for input parameters in the closure.  Those.  Each parameter is assigned an alias in the format <b>$ n</b> by default, where <i>n</i> is the sequence number of the parameter, starting from zero.  Thus, it turns out that we don‚Äôt even need to invent names for the arguments.  In this case, the entire "header" of the closure no longer carries any semantic load, and it can be omitted: <br><pre> <code class="hljs pgsql">performOperation(<span class="hljs-number"><span class="hljs-number">1.0</span></span>, <span class="hljs-number"><span class="hljs-number">2.0</span></span>) { <span class="hljs-meta"><span class="hljs-meta">$0</span></span> + <span class="hljs-meta"><span class="hljs-meta">$1</span></span> }</code> </pre><br>  Agree, this record is not at all like the one that was at the very beginning. <br><br><h5>  2.5.  Knight's move: operator functions. </h5><br>  These were all flowers.  Now there will be a berry. <br>  Let's look at the previous entry and ask ourselves what the compiler already knows about the closure?  He knows the number of parameters ( <i>2</i> ) and their types ( <i>Double</i> and <i>Double</i> ).  Knows the type of the return value ( <i>Double</i> ).  Since only one line is executed in the closure code, he knows what he needs to return as the result of its execution.  Is it possible to simplify this post somehow? <br>  It turns out you can.  If the closure only works with two input arguments, as a closure it is allowed to pass an operator function that will be executed on these arguments (operands).  Now our call will look like this: <br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">performOperation</span></span>(1<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>, 2<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>, +)</code> </pre><br>  Beauty! <br>  Now you can perform elementary operations on our operands, depending on certain conditions, while writing a minimum of code. <br><br>  By the way, Swift also allows you to use comparison operations as an operator function.  It will look something like this: <br><pre> <code class="hljs swift"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">performComparisonOperation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(op1: Double, op2: Double, operation: </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(Double, Double)</span></span></span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Bool</span></span>) -&gt; <span class="hljs-type"><span class="hljs-type">Bool</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> operation(op1, op2) } <span class="hljs-built_in"><span class="hljs-built_in">println</span></span>(performComparisonOperation(<span class="hljs-number"><span class="hljs-number">1.0</span></span>, <span class="hljs-number"><span class="hljs-number">1.0</span></span>, &gt;=)) <span class="hljs-comment"><span class="hljs-comment">//  "true" println(performComparisonOperation(1.0, 1.0, &lt;)) //  "false"</span></span></code> </pre><br>  Or bit operations: <br><pre> <code class="hljs pgsql">func performBitwiseOperation(op1: <span class="hljs-type"><span class="hljs-type">Bool</span></span>, op2: <span class="hljs-type"><span class="hljs-type">Bool</span></span>, operation: (<span class="hljs-type"><span class="hljs-type">Bool</span></span>, <span class="hljs-type"><span class="hljs-type">Bool</span></span>) -&gt; <span class="hljs-type"><span class="hljs-type">Bool</span></span>) -&gt; <span class="hljs-type"><span class="hljs-type">Bool</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> operation(op1, op2) } println(performBitwiseOperation(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, ^)) //  "false" println(performBitwiseOperation(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, |)) //  "true"</code> </pre><br><br>  Swift is a fun programming language in some way.  I hope the article will be useful for those who are starting to get acquainted with this language, as well as for those who are just wondering what is happening there with developers under iOS and Mac OS X. <br>  ___________________________________________________________________ <br><h5>  UPD .: Real application </h5><br>  Some users complained about the lack of real-life examples.  Just yesterday, I ran into a task that can be elegantly solved using short circuits. <br><br>  If you need to create a priority queue, you can use the binary heap.  As you know, it can be both MinHeap and MaxHeap, i.e.  heaps, where in the root of the tree is the minimum or maximum element, respectively.  The basic MinHeap implementation from MaxHeap will differ in essence only in check comparisons when restoring a binary heap invariant after adding / removing an element. <br><br>  Thus, we could create the base class <i>BinaryHeap</i> , which will contain the property of <i>comparison</i> type <i>(T, T) -&gt; Bool</i> .  And the constructor of this class will accept the comparison method and then use it in the <i>heapify</i> methods.  The base class prototype would look like this: <br><pre> <code class="hljs markdown">class BinaryHeap<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">T:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">Comparable</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>: DebugPrintable { private var array: Array<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">T?</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> private var comparison: (T, T) -&gt; Bool private var used: Int = 0 // -- // Internal Methods internal func removeTop() -&gt; T? { //... } internal func getTop() -&gt; T? { //... } // Public Methods: func addValue(value: T) { if used == self.array.count { self.grow() } self.array[<span class="hljs-string"><span class="hljs-string">used</span></span>] = value heapifyToTop(used, comparison) //   ,     self.used++ } init(size newSize: Int, comparison newComparison: (T, T) -&gt; Bool) { array = [<span class="hljs-string"><span class="hljs-string">T?</span></span>](<span class="hljs-link"><span class="hljs-link">count: newSize, repeatedValue: nil</span></span>) comparison = newComparison } }</code> </pre><br>  Now, in order to create the <i>MinHeap</i> and <i>MaxHeap classes,</i> we only need to inherit from <i>BinaryHeap</i> , and in their constructors it is easy to clearly indicate what comparison to use.  This is how our classes will look like: <br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MaxHeap</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Comparable</span></span></span><span class="hljs-class">&gt;: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BinaryHeap</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getMax</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">T?</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.getTop() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">removeMax</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">T?</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.removeTop() } <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(size newSize: <span class="hljs-type"><span class="hljs-type">Int</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(size: newSize, {$<span class="hljs-number"><span class="hljs-number">0</span></span> &gt; $<span class="hljs-number"><span class="hljs-number">1</span></span>}) } }</code> </pre><br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MinHeap</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Comparable</span></span></span><span class="hljs-class">&gt;: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BinaryHeap</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getMin</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">T?</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.getTop() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">removeMin</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">T?</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.removeTop() } <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(size newSize: <span class="hljs-type"><span class="hljs-type">Int</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(size: newSize, {$<span class="hljs-number"><span class="hljs-number">0</span></span> &lt;= $<span class="hljs-number"><span class="hljs-number">1</span></span>}) } }</code> </pre></div><p>Source: <a href="https://habr.com/ru/post/241303/">https://habr.com/ru/post/241303/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../241293/index.html">SSL3 protocol check in 20 bank clients</a></li>
<li><a href="../241295/index.html">How to quickly configure Kaspersky Anti-Virus on Juniper SRX gateway</a></li>
<li><a href="../241297/index.html">Do you use the mouse while working?</a></li>
<li><a href="../241299/index.html">Resurrect FTDI in pictures</a></li>
<li><a href="../241301/index.html">MindStream. How do we write software under FireMonkey. Part 3. DUnit + FireMonkey</a></li>
<li><a href="../241305/index.html">As we voiced the stadium "Spartak"</a></li>
<li><a href="../241307/index.html">Microsoft DocumentDB: second article, resources and concepts</a></li>
<li><a href="../241309/index.html">Passive fingerprinting to detect synthetic traffic</a></li>
<li><a href="../241311/index.html">A. Kibkalo - Windows Server "10": what's new in virtualization (practice)</a></li>
<li><a href="../241313/index.html">Active Directory vs. Azure Active Directory</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>