<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>"Calendar tester" for May. Load service</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Load testing is very similar to exercises on civil defense and emergency situations. It is better to understand in advance what this or that situation...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>"Calendar tester" for May. Load service</h1><div class="post__text post__text-html js-mediator-article"><blockquote>  Load testing is very similar to exercises on civil defense and emergency situations.  It is better to understand in advance what this or that situation will look like than to try to navigate in panic.  In addition to own tests and the problems collected on production, it is possible to adopt experience of colleagues on the industry.  Especially for the <a href="http://t.me/QAcalendar">Testers Calendar</a> project <a href="http://t.me/QAcalendar">,</a> Dmitry Vorotnikov, Kontur's tester, based on the example of the emergency of large IT companies, derived several simple but important rules for service testing. </blockquote><br><img src="https://habrastorage.org/webt/_q/9_/xf/_q9_xfteky7zbnaa8_xud1llz9u.jpeg"><br><br><h1 id="izmenivshiysya-profil-nagruzki">  Modified load profile </h1><br><p>  When people talk about load testing, they usually mean capacity testing.  Online stores have Black Friday and Cyber ‚Äã‚ÄãMonday - the time of sales and an extreme increase in the load on all services.  In Contour, similar traffic jumps occur in the last days of reporting to regulatory authorities.  For whatever reason, the number of visitors has increased, it is impossible to prevent the unavailability of operations, errors or increase the response time.  With the help of testing the capacity of the service, we will make sure that users will not viciously tug at the mouse or go to competitors, but they can work comfortably and productively. </p><br><blockquote>  <em>Testing with a load profile that replicates the model for the last month, year, or two, you may encounter a problem that <a href="http://www.availabilitydigest.com/public_articles/0307/amazon.pdf">Amazon Simple Storage Service had on February 15, 2008</a> .</em>  <em>Data access in S3 is regulated by the AWS Authentication service.</em>  <em>Requests to it are encrypted and require large processing resources for processing.</em>  <em>Amazon supported as many servers as needed to handle the workload of the previous two years.</em>  <em>On the reporting day at 3:30 am, engineers noticed that the number of authentication requests had increased.</em>  <em>This overwhelmed the AWS infrastructure and it became impossible to process all requests.</em>  <em>To handle the increased load, we had to introduce additional capacity.</em>  <em>Until 6:48 all projects using S3 were not available.</em> <br><a name="habracut"></a><br></blockquote><p>  Consider the possible change in the load profile when planning the capacity of the service and during load tests. </p><br><h1 id="neregulyarnost">  Irregularity </h1><br><p>  It is not enough to conduct single or episodic testing, even taking into account possible changes in the load profile.  Especially if you are constantly growing number of users or new integrations. </p><br><blockquote>  <em>On Wednesday, <a href="http://www.availabilitydigest.com/public_articles/0601/skype.pdf">December 22, 2010 Skype messenger</a> started working with errors.</em>  <em>It took more and more time to establish a connection, until finally the service did not stop working at all.</em>  <em>The trigger for the problem was the overload of a number of servers processing instant messages.</em>  <em>Processing them began to take much more time.</em>  <em>This slowdown caused an error in the Windows client, which caused them to crash.</em>  <em>A significant part of clients (supernods) supported P2P exchange between other clients.</em>  <em>Due to the failure of 25‚Äì30% supernod, the rest turned out to be overloaded and refused, further increasing the load.</em>  <em>As a result of this cascade failure, the Skype network was unavailable for about a day.</em> </blockquote><p>  Test and review your service regularly. </p><br><h1 id="pobochnyy-effekt">  By-effect </h1><br><p>  When you are planning regular testing and developing its scripts, keep in mind that force majeure can increase the load.  Spreading the service across multiple data centers will not add fault tolerance if one fails, and the rest will not be able to handle its load.  Capacity planning should consider such scenarios.  Another way to increase the load is to intentionally make changes to the system, for example, software updates or work. </p><br><blockquote>  <em>On February 24, 2009, a new feature led to problems with GMail, which allowed storing letters geographically closer to senders.</em>  <em>During the technical work of users of one data center redirected to another, overloading it.</em>  <em>This caused a cascade of failures from the data center to the data center, each of which was taking an increasing load.</em>  <em>The service was unavailable for two and a half hours.</em>  <em>This story got the nickname <a href="http://www.availabilitydigest.com/public_articles/0410/google_troubles.pdf">Gfail</a> .</em> </blockquote><p>  Two related conclusions can be drawn from this post-mortem.  The first is that the service and its environment are constantly changing, which means that you need to test the scenarios for performing technical work or disabling services and servers.  The second is to take into account the test results when working and update them before changes and disconnections. </p><br><h1 id="negotovnost-k-otkazu">  Unwillingness to refuse </h1><br><p>  To avoid downtime and add the nines to the availability metric, you need to know how much your service can withstand, regularly update this knowledge, maintain its availability and use it when making various changes.  When designing and developing a service, we apply a variety of measures that provide protection against overloads, cascading failures, power cuts, equipment failure and data loss.  This diversity, unfortunately, is not a panacea for errors in implementation, configuration, and the human factor. </p><br><blockquote>  <em><a href="http://www.availabilitydigest.com/public_articles/0509/american_eagle.pdf">On July 19, 2010, the site of the large American online retailer American Eagle Outfitters</a> became unavailable due to the failure of the main repository.</em>  <em>It does not matter, because there are backups!</em>  <em>However, switching to backup storage led to its failure.</em>  <em>Not scary, because there were still backups on magnetic tape.</em>  <em>They were restored for a long time, then they tried to launch the site on the backup site, but it also failed.</em>  <em>The reserve site was not ready, although it should have been prepared in advance.</em>  <em>Despite a wide range of protective measures, it was possible to restore the ability to take orders in 4 days.</em>  <em>Another 4 days required a full recovery.</em> </blockquote><p>  After stress testing and identifying the capabilities of the service, do not forget to test the protection mechanisms, failover and your backups. </p><br><p>  And finally, keep in an accessible place information about all the falls of the service, the chronology of the fall and analysis of the reasons that led to it.  This will help the entire team of developers and testers to better study the file and find new approaches to its solution. </p><br><p>  List of calendar articles: <br>  <a href="https://habr.com/company/skbkontur/blog/433132/">Try a different approach</a> <br>  <a href="https://habr.com/company/skbkontur/blog/431460/">Reasonable pair testing</a> <br>  <a href="https://habr.com/company/skbkontur/blog/428089/">Feedback: as it happens</a> <br>  <a href="https://habr.com/company/skbkontur/blog/424349/">Optimize tests</a> <br>  <a href="https://habr.com/company/skbkontur/blog/421101/">Read the book</a> <br>  <a href="https://habr.com/company/skbkontur/blog/417287/">Analytics testing</a> <br>  <a href="https://habr.com/company/skbkontur/blog/414451/">The tester must catch the bug, read Kaner and organize a move.</a> <br>  <a href="https://habr.com/company/skbkontur/blog/358234/">Load service</a> <br>  <a href="https://habr.com/company/skbkontur/blog/353928/">Metrics in QA service</a> <br>  <a href="https://habr.com/company/skbkontur/blog/351806/">Test security</a> <br>  <a href="https://habr.com/company/skbkontur/blog/349274/">Know your customer</a> <br>  <a href="https://habr.com/company/skbkontur/blog/349300/">Disassemble backlog</a> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/358234/">https://habr.com/ru/post/358234/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../358224/index.html">Software testing: automation, evaluation and ... utopian</a></li>
<li><a href="../358226/index.html">Fintech-digest: online banking unhappy because of the lack of "humanity"; $ 10 billion bitcoins are stored in Switzerland</a></li>
<li><a href="../358228/index.html">How we conduct experiments in humans. A / b testing for advanced</a></li>
<li><a href="../358230/index.html">Robot Tank on Raspberry Pi with OpenCV</a></li>
<li><a href="../358232/index.html">Support for HTTP / 2 Server Push technology in Node.js</a></li>
<li><a href="../358236/index.html">DevOps Moscow meetup: Monitoring</a></li>
<li><a href="../358238/index.html">Women's networks: who makes the choice for us?</a></li>
<li><a href="../358242/index.html">AI.Hack St. Petersburg</a></li>
<li><a href="../358244/index.html">Playing Cap: how to put the cashier on the cashier's table</a></li>
<li><a href="../358246/index.html">Material Design 2.0 and Android P</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>