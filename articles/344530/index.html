<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>cBackup - backup network equipment configurations</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Better backup can only be backup with version control and integrity checking. There is a lot of software of various levels of chargeability for differ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>cBackup - backup network equipment configurations</h1><div class="post__text post__text-html js-mediator-article">  Better backup can only be backup with version control and integrity checking.  There is a lot of software of various levels of chargeability for different operating systems for backing up files, databases and images, as well as for managing server and software configurations.  But there are not so many solutions for working with configurations of network equipment. <br><br><img src="https://habrastorage.org/webt/ox/if/e_/oxife_chajnykimv0whi-gtqwl0.png"><br><br>  We created the cBackup application (from configuration backup) to work with network equipment configurations.  In addition to directly backing up configs, you can track changes between their versions, which helps to localize the source of the problem when recovering from crashes.  cBackup is open source and distributed free of charge, including separately downloadable templates supporting various network devices. <br><a name="habracut"></a><br><h2>  For whom? </h2><br>  cBackup was developed by admins for admins who do not need a heavyweight like the NOC Project.  We administer several thousand switches and routers in our work, therefore maintaining the network configuration in proper order is a vital necessity.  Hence, quite tangible parallels in the basic principles of work: discovery, as in the monitoring systems of the network infrastructure;  already somewhere seen terminology in most sections;  schedule management, as in crontab, and so on. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  What is already there? </h2><br>  The current version is available for download as a tar.gz archive, as well as rpm and deb packages.  Documentation available.  The system was originally designed for Linux, but you can also start it under Windows, although there is no official support yet.  After installing the package or unpacking it on a prepared server, you will need to complete the installation on the system itself through the web installer.  The documentation covers this process in as much detail as possible, therefore installation and operation will not be described as part of the material in the PR hub.  If there will be requests, then I will tell you about the technical side of the work and the use cases in a separate material in the profile hub. <br><br>  Briefly describe the architecture, the cBackup interface is a web application written in a Yii2 framework with a daemon written in Java 8 using Spring Boot.  MySQL is used as a database, and Git is used for version control.  The system processing 1200 switches and routers feels quite comfortable on a virtual machine with two cores and two gigabytes of RAM, processing tasks for collecting configurations, STP and geo maps in 30 streams.  Hard disk space is also used sparingly - for the year of use, the data application folder takes up 350 MB, and the database - 35 MB. <br><br><img src="https://habrastorage.org/webt/90/wl/tj/90wltjrwc3rbe5nfdevg6llg6rw.png"><br><br>  cBackup is free and distributed under the Affero GPL v3 license.  Also our plugins, updates and downloadable content with support for vendors and devices are free.  At the moment, the system interface supports English and Russian.  There are no hidden fees, functional limitations and microtransactions and are not planned.  However, our team is open for cooperation on deployment, requests for official support for business with SLA and for corporate support, including individual developments. <br><br><h4>  Register of subnets and equipment, automatic search for new devices </h4><br>  cBackup can work both on a manually predefined list of nodes, and walking on specified subnets, detecting installed devices (discovery).  Separately, you can exclude addresses from any processes and tasks.  Hardware support is downloaded and installed from the official repository.  If the server with backup is in an isolated network and does not have access to the Internet, you can upload files manually or add support for new equipment yourself. <br><br>  By itself, the management of the registry of subnets and equipment may seem unnecessarily heaped up, but after working with different vendors, we made sure that everyone comes up with some kind of chips in their protocols and processes.  And it's not even about STP, the implementation of which may be different, like day from night, but about the banal command line operation via SSH.  Therefore, infrastructure management is highly detailed, providing the ability to create plug-ins and factories for individual models and / or vendors, redefining interaction with a device or model at any stage. <br><br><h4>  Backup Configurations </h4><br>  Directly the task of interacting with nodes assigned to the system service, which operates in multi-threaded mode.  The service is an executable file in Java and does not use the system crontab, using only its functionality.  The daemon communicates with the kernel of the system through the RESTful API and, in theory, it can be generally moved to a separate server, if necessary.  Interaction with end devices is designed as a sequence of commands with the processing of received data, and can be carried out via Telnet, SSH and SNMP v1 / v2 protocols. <br><br><h4>  Version Control System </h4><br>  One of the main goals for us was to give the opportunity not only to read and restore the config from a backup copy as part of a disaster recovery, but also to find the problem in the case of the configuration file.  Since a significant number of operators work with equipment, the search and localization of changes for us was an extremely important task.  In general, quite a lot of functions are entrusted to Git in our system: version control configurations, system updates, downloads and updates for hardware support and vendors. <br><br><h4>  Plugins and APIs </h4><br>  We are convinced that each system should do its job.  Therefore, if the name of the software has the word 'backup', then it should, first of all, deal with the backup itself.  Everything else is strictly optional.  cBackup implements plug-in connection functionality, but at the moment there are only two of them - positioning the node on the map based on the information in the OID system.sysLocation.0 and drawing STP trees.  If there is a real need and request, we will be happy to add the required functionality.  This also includes the API, which allows you to integrate cBackup with other services. <br><br><h2>  What will happen? </h2><br>  Initially, the project was written ‚Äúfor internal needs‚Äù and, in fact, was a reworking from scratch of a self-written utility for saving switch configurations.  Already in the process of refactoring, the idea came that the project may be useful outside our networks.  The system was overwhelmed with a lot of new chips with an eye on versatility, received multilingual and more serious documentation, and now it has come to the public. <br><br>  There are plans for development, and a roadmap on the upcoming versions hangs on the board behind me.  But since cBackup currently covers all <i>our</i> needs, I would like to listen to the wishes of the community and users if someone starts using this software.  Wishes and questions can be left in the mail, on our forum, in the issue tracker on Github or in our chat room in Discord. <br><br>  From the key features in the queue for the implementation we have: support for SNMP v3, support for IPv6, validation of configs according to specified rules and import of nodes from external databases or APIs.  Supplementing the list of supported equipment will be carried out at the request of users "on the job," good, for this update of the installed system is not required.  We will try to make this process smooth, in the hope that more of the tweaks than MikroTik will not come up with any vendor.  The plans also include changes in the architecture of the daemon, in order to provide plugins for it. <br><br><h2>  Where are the links? </h2><br><ul><li>  <a href="http://cbackup.me/ru">Official site of the project</a> </li><li>  <a href="http://cbackup.me/ru/downloads">Download the current version</a> </li><li>  <a href="https://github.com/cBackup">Github</a> </li><li>  <a href="http://cbackup.rtfd.io/">Documentation</a> </li><li>  <a href="https://discord.gg/ZJCmmtJ">Discord chat</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/344530/">https://habr.com/ru/post/344530/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../344518/index.html">Welcome to Christmas Agile MeetUp</a></li>
<li><a href="../344522/index.html">Tutorial on the Unreal Engine. Part 3: materials</a></li>
<li><a href="../344524/index.html">Case analysis about backup verification (SureBackup) and using vSAN</a></li>
<li><a href="../344526/index.html">C / C ++ application development using Tcl / Tk</a></li>
<li><a href="../344528/index.html">How to segment users for different verticals</a></li>
<li><a href="../344534/index.html">Acceleration build C and C ++ projects</a></li>
<li><a href="../344536/index.html">Designing a site that is protected from blocking</a></li>
<li><a href="../344538/index.html">How I realized what distributed systems are</a></li>
<li><a href="../344540/index.html">Are you still Java code? It's time to change</a></li>
<li><a href="../344542/index.html">The human factor in information security</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>