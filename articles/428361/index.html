<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A la perfecci√≥n: Improving WordPress with AMP for WordPress and Setka Editor Plugins</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! Today we will talk about the process of customizing and customizing CMS WordPress. Often we hear that it is suitable only for small sites, a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A la perfecci√≥n: Improving WordPress with AMP for WordPress and Setka Editor Plugins</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr!  Today we will talk about the process of customizing and customizing CMS WordPress.  Often we hear that it is suitable only for small sites, and for media sites with massive traffic, it is not suitable (although there are many reverse examples).  Another WordPress feature is the lack of pre-installed advanced tools for journalists, editors, and anyone who needs additional features when publishing news and articles, including custom styling. <br><br>  At the same time, WordPress fans claim that CMS is suitable for both landing pages and sites with a million traffic.  The truth is somewhere in the middle.  WordPress has drawbacks, but you can avoid them if you like, while enhancing the positive features of the CMS.  How to do it today and talk. <br><a name="habracut"></a><br>  When WordPress users are faced with the task of providing readers with ‚Äúexpressive‚Äù content - that is, materials with original, custom design - complexity arises.  Usually when using interesting, interactive design and custom elements, CMS performance drops.  In our case, the goal was to optimize the loading of the pages of the sites while maintaining the design of the content. <br><br>  All this was made possible with the help of a bundle of AMP for Wordpress and Setka Editor plugins.  The developers of Setka managed to shorten the drawing time of important elements (First Meaningful Paint) on the site‚Äôs pages and 5 times the load time of the elements of interaction (Time to Interactive) (if you are not interested in the technical details, you can jump to the indicators efficiency at the end of the post). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  AMP Google and Wordpress </h3><br>  <a href="https://habr.com/company/google/blog/419589/">We wrote</a> about AMP (Accelerated Mobile Pages) a <a href="https://habr.com/company/google/blog/419589/">couple of months ago</a> .  Recall the main thing: AMP is a technology and a set of best practices for creating websites and pages, as well as a library.  AMP HTML is HTML with a set of limitations and extensions for performance. <br><br>  The review shows one of the possibilities of AMP, but many moments remained behind the scenes.  For example, the plugin <a href="https://wordpress.org/plugins/amp/">AMP for WordPress</a> , which was created to implement the features of Accelerated Mobile Pages in WordPress functionality.  With this plugin, you can simply implement the technology on your website. <br><br><img src="https://habrastorage.org/webt/6t/cw/nv/6tcwnv1mz7myytme4e1savqaovy.png"><br><br>  The plugin appeared on January 28, 2016.  In the changelog <a href="https://github.com/Automattic/amp-wp/releases/tag/0.2%26sa%3DD%26ust%3D1536912662261000%26usg%3DAFQjCNFpqXKG519drewyH3zmLaDuy41Mow%25E2%2580%259D">version 0.2</a> , its capabilities stated the following: ‚Äúlots of fixes and improvements for customization‚Äù.  Over time, the possibilities of the plugin have expanded, and today, after its activation, the user receives the conversion of posts into the AMP format, after which they almost immediately fall into the Google search results.  Using AMP, developers get a base for creating their own themes and plugins. <br><br>  Over the next few weeks, it <a href="https://wptavern.com/amp-for-wordpress-plugin-to-introduce-user-friendly-theme-support-settings-in-upcoming-1-0-release">is planned to release a version of the plugin 1.0</a> , which was created with the participation of Google, Automatic and XWP.  Among the contributors is such a major player as Alley Interactive. <br><br>  <b>Modes of operation 0.7.2</b> <br><br><img src="https://habrastorage.org/webt/qj/fl/ke/qjflke-fqhwa_xxvoree0xdcrju.png"><br><br>  AMP for WordPress works in three modes: <br><br><ul><li>  Classic provides a ready-made template for a theme, allowing the Google search engine bot to index pages on the site immediately after the plug-in is activated; </li><li>  Paired allows you to use existing theme templates or add your own if you wish to customize or trim the AMP version.  In this case, AMP-pages will be available only through a special link or from mobile search results; </li><li>  Native, as is already clear from the title, involves the creation of a site out of the box specifically for AMP.  In this case, there is no need to form individual links, templates and other elements. </li></ul><br>  AMP has not so many restrictions, but they are.  These include custom HTML tags, the inability to connect external scripts, except for AMP libraries, and inline styles with a size of 50 KB. <br><br><h3>  Setka Editor Plugin for WordPress </h3><br><img src="https://habrastorage.org/webt/xl/wl/ea/xlwleaai9mkgckernyxu9arfn9a.png"><br><br>  The second WordPress plugin mentioned above is Setka Editor.  Its functionality includes a built-in style designer that allows media, online publications and brands to decorate materials on a professional level. <br><br>  Own style of posts is created using modular grids, fonts, color backgrounds, scaling and moving images throughout the body of the article (as well as other elements, such as icons or animations).  The plugin allows you to implement all this without digging into CSS and HTML. <br><br>  Layout elements or, if necessary, whole posts can be saved as templates for reuse.  Plugin supports SEO and Alt-attributes. <br><br>  <b>Plug-in installation</b> <br><br>  In order to use the online editor, you need to download the plugin from the WordPress plugin repository or through editor.setka.io. <br><br>  There are technical limitations: the minimum allowed PHP version for the plugin is 5.5.9.  Recommended seventh version. <br><br>  The installation process is standard. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://player.vimeo.com/video/246071867" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3>  And now - we unite </h3><br>  If both plugins are installed on the same site, they provide the possibility of custom content that is required by the editorial staff or the marketing team of the company.  At the same time, the mobile site does not lose in performance, but, on the contrary, starts loading faster. <br><br>  To integrate the plug-ins, four sanitizers (preprocessors) were written for elements that differed from the AMP notation, plus the developers prepared lighter style files. <br><br>  One of the most interesting tasks in developing was setting up animations.  In Setka Editor, all functions are implemented using JavaScript and CSS, which are connected separately.  But for AMR, its own animations and rules for them, for example, the ‚Äú <a href="https://www.ampproject.org/docs/reference/components/amp-position-observer">AMP position observer</a> ‚Äù object should be a direct descendant of the body element. <br><br><img src="https://habrastorage.org/webt/vb/uu/uc/vbuuucim5lhvfi5doxqtoe1ifga.png"><br><br>  For successful integration, it was necessary to use animation definitions in elements, and then gradually add AMP animation objects to the body and link them with elements on the page.  For this purpose, a sanitizer was written using the filter amp_content_sanitizers.  The Sanitizer is used to modify the Setka Editor animation in AMP animation while simultaneously maintaining event-based activation and the transition of elements from one state to another. <br><br>  After the release of AMP for WordPress version 1.0, the user can choose which page types to include AMP and in which mode to work, and also enable CSS Tree Shaking to optimize CSS and automatically receive hints of sanitizers from the plugin.  In most cases, the AMP page will look like a regular mobile page.  After activation, Setka Editor checks for AMP for WordPress and adds its sanitizers and styles to AMP pages. <br><br>  <b>Conclusion</b> <br><br>  The first project to test the solution was the <a href="https://realtimeboard.com/">RealtimeBoard</a> blog.  The company is developing a platform for collaboration in distributed teams, which is used, for example, in Twitter, Autodesk, Netflix and Skyscanner.  With Setka Editor, a company creates design articles, interviews and case studies on its blog.  The RealtimeBoard team was interested in speeding up the loading of mobile pages, while maintaining a variety of design elements. <br><br><img src="https://habrastorage.org/webt/ld/vy/cq/ldvycqbmzo39rupivslot0ajsry.png"><br><br>  Setka developers helped to adapt the WordPress theme of the RealtimeBoard site to work in paired mode.  After the solution was implemented, the average drawing time of important elements (First Meaningful Paint) on blog pages decreased from 7.2 to 1.9 seconds.  At the same time, the load time of the interaction elements (Time to Interactive) decreased 5 times. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://player.vimeo.com/video/289732827" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Improving page load metrics is not the limit to what AMP technology is capable of.  Ultimately, it affects commercial metrics: the site becomes more convenient, mobile users do not go away in the first seconds and interact with the pages more readily. </div><p>Source: <a href="https://habr.com/ru/post/428361/">https://habr.com/ru/post/428361/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../428349/index.html">Cucumber in the cloud: using BDD scripts for load testing a product</a></li>
<li><a href="../428351/index.html">I see you: machine learning and artificial neural networks in the study of the sight of fruit flies</a></li>
<li><a href="../428353/index.html">How we made a system for mobile rounds at SIBUR</a></li>
<li><a href="../428355/index.html">Mechanics of gamification: rating</a></li>
<li><a href="../428357/index.html">Absorption in practice: life story</a></li>
<li><a href="../428363/index.html">Building a jetpack / hoverboard: rescue systems</a></li>
<li><a href="../428365/index.html">Tale of how Google billing was changed, or how to avoid unnecessary costs</a></li>
<li><a href="../428367/index.html">We made the world's smallest sonar modem</a></li>
<li><a href="../428369/index.html">Getting out of the wheel of Samsara, extremism and some greens - analysis of tasks from the GridGain booklet at the Joker 2018 conference</a></li>
<li><a href="../428371/index.html">Old play IBM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>