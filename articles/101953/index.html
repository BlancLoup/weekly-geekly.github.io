<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>xz - LZMA compression power is already in your console</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Many probably already know about the utility for compression / decompression xz . But even more do not know. Therefore, I wrote this introductory topi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>xz - LZMA compression power is already in your console</h1><div class="post__text post__text-html js-mediator-article">  Many probably already know about the utility for compression / decompression <b>xz</b> .  But even more do not know.  Therefore, I wrote this introductory topic. <br><br>  xz is a data compression format, along with gzip, bzip2 included in gnu-shnye applications. <br>  It uses the <a href="http://ru.wikipedia.org/wiki/LZMA">LZMA algorithm</a> , the same as in 7z, which means that you can compress many types of data, such as text, binary data that are not yet compressed compared to the standard ones mentioned above. <br>  xz is used in the new <a href="">rpm 4.7.2</a> for <a href="http://rpm.org/ticket/84">compressing .cpio archives in rpm packages</a> (used with Fedora 12). <br>  ArchLinux generally uses .tar.xz as a package. <br>  The <a href="http://mac.softpedia.com/progChangelog/GNU-Tar-Changelog-47303.html">GNU tar</a> option has the -J --lzma options that play the same role as -z for gzip, -j for bzip2 <br><a name="habracut"></a><br>  Pros: <br><img src="https://habrastorage.org/storage/habraeffect/db/6e/db6e8aef9557b667e7f2ebaa0ef57a54.png">  High compression ratio <br><br>  Minuses: <br>  high resource consumption: <br><img src="https://habrastorage.org/storage/habraeffect/b0/db/b0dbe9fb78f1267d9103609d38ea0d57.png">  cpu time (and proper compression time) <br><img src="https://habrastorage.org/storage/habraeffect/b0/db/b0dbe9fb78f1267d9103609d38ea0d57.png">  memory (configurable, but still more than gzip, bzip2). <br>  In particular, xz with <b>--best aka -9</b> consumes up to <b>700mb!</b>  with compression and 90mb during decompression 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Features: <br><img src="https://habrastorage.org/storage/habraeffect/cf/00/cf00e42f80b5e76aeb1a056c8b9ab151.png">  Consumption of a large amount of memory is limited to a preliminary calculation of available resources. <br><img src="https://habrastorage.org/storage/habraeffect/cf/00/cf00e42f80b5e76aeb1a056c8b9ab151.png">  GNU tar integration <br><img src="https://habrastorage.org/storage/habraeffect/cf/00/cf00e42f80b5e76aeb1a056c8b9ab151.png">  work with threads <br><img src="https://habrastorage.org/storage/habraeffect/cf/00/cf00e42f80b5e76aeb1a056c8b9ab151.png">  optional: progressbar via --verbose <br><br>  I do not want to clutter up the introductory topic with graphs and other things, but one cannot do without it: <br>  I made a banal gzip, bzip2, xz race for the degree of compression, time consumption.  WinRar will also take part as a guest (albeit intoxicated, under wine, but it certainly showed excellent results) <br><br><table><tbody><tr><td> <a href=""><img src="https://habrastorage.org/storage/habraeffect/2e/3c/2e3cfc807a13f6a5c19e7f9620ec8434.png"></a> <br>  this picture has excellent clickability </td><td>  As the test data, I took the unrolled branch of the 2.6.27 fedor kernel, collected it in tar - with a volume of 292mb, and took measurements.  Vertical compression level (times), horizontally - the amount of time spent. <br><br>  xz stung this file from 4.8 to 6.9 times. <br>  gzip 3.6 - 4.5 <br>  bzip2 4.5 - 5.6 <br>  winrar 4,5 - 6,7 <br></td></tr></tbody></table><br>  We get 4 squares: <br>  Lower left - slow and weak: gzip and winrar fastest. <br>  Upper left: winning compression / time ratio: bzip2, xz shows itself at the 1st and 2nd compression levels a little better, and <br>  Upper right: real press mechanism: dollars but very tight xz <br>  In the lower right: no one, and who needs a long-working and weakly squeezing archiver? <br><br>  But in general, the coordinate grid is not well chosen: how do we estimate time?  categories!  for example, quickly - 10‚Äì20 seconds, medium from half a minute to a minute, more than 2 minutes is a long time. <br>  so the logarithmic scale is clearer here: <br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/9c/5e/9c5e6330131c79fe8a31c2095ce56cb0.png"></a> <br><br>  And if you evaluate them as a stream compression, on my Core2Duo E6750 @ 2.66GHz, <br>  it turned out such a schedule: <br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/32/fd/32fdef949b7c4a3b8a8508b2d71c4fdf.png"></a> <br>  those.  using gzip -1 or gzip -4 as a szhimalki conveyor, you can drive up to 25MB / s of uncompressed data on a 100Mbit network.  (I checked it several times - gzip -4 for some reason gives more profit than -3 or -5) <br> <code>cat /some/data | gzip -1c | ssh user@somehost -c "gzip -dc &gt; /some/data"</code> <br>  xz can only be used on channels &lt;8mbit, <br><br><h5>  The obvious conclusion (With the assistance of KO) </h5><br>  <b>xz</b> - in view of resource consumption, occupies a niche of compressor <s>archivers</s> , where compression ratio can play a big role, and there is enough computing resources and time resources.  those.  various backups / archives, distributions (rpm, tar.xz in archlinux).  Or the data is very easily compressed: logs, tables with text-digital data csv, tsv, which are not supposed to be changed. <br><br>  PS It would not have been happy for xz, in the rationality of the effort spent WinRar Wins. </div><p>Source: <a href="https://habr.com/ru/post/101953/">https://habr.com/ru/post/101953/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../101947/index.html">Microsoft WebMatrix - Reloaded</a></li>
<li><a href="../101948/index.html">Droider Chart. Release 14</a></li>
<li><a href="../101949/index.html">The first release of the game 0 AD</a></li>
<li><a href="../101950/index.html">Mobile advertising in numbers</a></li>
<li><a href="../101951/index.html">General peering in Kazakhstan is close</a></li>
<li><a href="../101954/index.html">Introduction to 1-Wire</a></li>
<li><a href="../101955/index.html">The Rage engine on the iPhone showed an impressive 60 fps</a></li>
<li><a href="../101957/index.html">D'Artagnan and the Internet, or work on the problem of broken links</a></li>
<li><a href="../101960/index.html">JavaFX Competition: Tower Defense</a></li>
<li><a href="../101963/index.html">Media server, collect their own hands from those found in the "bins of the motherland"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>