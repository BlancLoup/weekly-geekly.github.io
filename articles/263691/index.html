<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>vCloud Director for the smallest (part 5): VPN setup</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today we will explain how to build a site-to-site VPN connection using vShield Edge in the vCloud Director panel. At the end, we‚Äôll tell you about the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>vCloud Director for the smallest (part 5): VPN setup</h1><div class="post__text post__text-html js-mediator-article">  Today we will explain how to build a site-to-site VPN connection using vShield Edge in the vCloud Director panel.  At the end, we‚Äôll tell you about the new features that have appeared since this week in <a href="https://cloudlite.ru/faq/151%3Futm_source%3Dhabrahabr%26utm_medium%3Dreferral%26utm_campaign%3Dvpn">CloudLITE</a> , summer prices and discounts.  Read to the end). <br><br><img src="https://habrastorage.org/files/289/9e6/2e5/2899e62e512240848436422e0187c37a.JPG" alt="image"><a name="habracut"></a><br><br><h4>  Instead of the preface </h4><br>  <b>Virtual Private Network</b> , or virtual private network, allows you to build virtual (logical) connections "on top" of networks (the same Internet).  To protect data from outsiders (there are ways to intercept messages between VPN nodes), encryption, authentication, public key infrastructure, and means to protect against repetitions and changes sent over a logical network of messages are used.  These mechanisms, in turn, use cryptographic algorithms, of which there are now a great many. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      By type of VPN access can be divided into 2 groups: site-to-site and remote access.  The first is used when access from one local network to another is necessary, for example, a connection between the main office, the office and a commercial data center / cloud.  The second type implies that a separate host accesses the local network ‚Äî for example, a separate device connects to the office network.  This is a situation where an employee works from home on a mobile device. <br><br>  Devices and software allows you to build VPN-connections a huge amount.  This can be either a Cisco router or a server on FreeBSD.  In our case today, two vShield Edge organizations located in different clouds act as VPN nodes. <br><br><h4>  Instruction </h4><br>  First, we set up everything on the side of the organization located in the CloudLITE cloud. <br>  1. In the vCloud Director control panel, go to the <b>Administration</b> section, click the mouse on the virtual data center.  In the <b>Edge Gateway Services</b> tab, select the desired vShield Edge.  Click on it with the right mouse button and select <b>Edge Gateway Services</b> . <br><br><img src="https://habrastorage.org/files/3bb/677/23f/3bb67723f4c0457db661f8ff1df8b090.png" alt="image"><br><br>  2. In the new window, go to the <b>VPN</b> tab and activate VPN in the <b>Enable VPN</b> checkbox.  To create a new tunnel, click the <b>Add</b> button. <br><br><img src="https://habrastorage.org/files/102/59e/b3c/10259eb3c5234545b3344f9ad9fa30fd.png" alt="image"><br><br>  3. Using the <b>Configure Public IP</b> button, you can change the external IP, which is allocated for the default pool, to another. <br><br><img src="https://habrastorage.org/files/f17/8ce/01d/f178ce01da364a07ab0ec87da1de1ba4.png" alt="image"><br><br>  4. In the <b>Add a Site-to-Site VPN configuration</b> window, set the name (Name) of the VPN and Description (Description), if required. <br><br>  In the <b>Establish VPN</b> to field, select a remote network, since the VPN Gateway (second vShield Edge) is located on another local network. <br><br>  In the <b>Local Networks</b> field, specify the local network that will participate in the VPN connection and that connects to the Edge. <br><br>  In the <b>Peer Networks</b> field, we indicate in the CIDR CIDR format (for example, 192.168.10.0/24) the internal addressing network connected to the point to which we are setting up VPN. <br><br>  In the <b>Local Endpoint</b> field, we select an external network (Internet) through which we will connect from our organization to another.  In our case it can be cloudlite-Internet or cloudlite-internet 2. <br><br>  In the <b>Local ID</b> field we specify the external IP address of our vShield Edge, which is used to create a VPN connection. <br><br>  In the <b>Peer ID</b> field, specify the external IP address of the remote VPN Gateway (gateway). <br><br><img src="https://habrastorage.org/files/d26/f8c/863/d26f8c863d21459c98139d086553749d.png" alt="image"><br><br>  Scroll and fill further. <br><br>  In the <b>Peer IP</b> field, set the external IP address of the VPN Gateway (in our case, Edge of another organization). <br><br>  In the <b>Encryption protocol</b> list, select the encryption protocol (AES-256, AES, 3 DES). <br><br>  Put a check in the <b>Show key</b> checkbox.  Copy this key: we will need it for the settings on the receiving side of the VPN tunnel. <br><br>  In the <b>MTU</b> field, if necessary, change the default value of the packet size. <br><br><img src="https://habrastorage.org/files/b5d/4d0/f65/b5d4d0f6528840508f1b81877638b5bb.png" alt="image"><br><br>  5. Click OK, on ‚Äã‚Äãour side of CloudLITE everything is configured.  The created VPN tunnel appears in Edge Gateway Services in the VPN tab. <br><br><img src="https://habrastorage.org/files/4d0/ce7/d15/4d0ce7d155ea4964a61a2cdd1a8ff780.png" alt="image"><br><br>  6. Now similar settings need to be made on the receiving side. <br>  In the settings of the second vShield Edge, located in a different cloud: we do everything the same as in the first stage, only all the parameters that were Peer now become Local, and vice versa. <br><br><img src="https://habrastorage.org/files/f6b/0fd/039/f6b0fd0394554798a6abbee3b3b45a7e.png" alt="image"><br><br>  7. Paste the key that we copied earlier. <br><br><img src="https://habrastorage.org/files/913/24b/2d8/91324b2d8c854f6fa687c798d35cfde4.png" alt="image"><br><br>  Clearly the resulting scheme can be represented as follows: <br><br><img src="https://habrastorage.org/files/5dd/fd7/6d2/5ddfd76d244f42cbac93dcbe88b432f6.jpg" alt="image"><br><br>  That's all. Ask your questions in the comments.  If you find an inaccuracy or error, please write in a personal. <br><br>  You can go and try to put the theory into practice in the <a href="https://cloudlite.ru/%3Futm_source%3Dhabrahabr%26utm_medium%3Dreferral%26utm_campaign%3Dvpn">CloudLITE</a> service (there is a test period for experiments). <br><br>  From the news service: <br>  1. From this week, you can register and pay for your resources in the status of a legal entity with all the consequences: non-cash bank transfer, originals of closing documents.  Read more about how to do this <a href="https://cloudlite.ru/faq/151%3Futm_source%3Dhabrahabr%26utm_medium%3Dreferral%26utm_campaign%3Dvpn">here</a> . <br>  2. We have reduced prices for fixed tariffs (discount over 40%).  So far, without a deadline of the action, but I can say for sure, this will not last long :). <br>  3. The action to double your payments ends.  In August, it will definitely not be. <br>  4. On the other hand, the action <a href="https://cloudlite.ru/offer%3Futm_source%3Dhabrahabr%26utm_medium%3Dreferral%26utm_campaign%3Dvpn">‚ÄúBring a friend, get 300 rubles‚Äù</a> will continue until August 10.  In light of temporarily low prices, it is especially tempting. </div><p>Source: <a href="https://habr.com/ru/post/263691/">https://habr.com/ru/post/263691/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../263677/index.html">Unit tests in Cach√© are just</a></li>
<li><a href="../263681/index.html">And we decided to make friends with Baresip and Nodejs</a></li>
<li><a href="../263685/index.html">How to use exceptions</a></li>
<li><a href="../263687/index.html">Magic of tensor algebra: Part 14 - Non-standard introduction to the dynamics of a rigid body</a></li>
<li><a href="../263689/index.html">Joker 2015: News July 16-27, 2015 - new speakers and reports</a></li>
<li><a href="../263693/index.html">Why do we need business intelligence systems</a></li>
<li><a href="../263695/index.html">The ideal way to implement a static code analyzer</a></li>
<li><a href="../263697/index.html">Central Park NY: official app redesign</a></li>
<li><a href="../263699/index.html">How-to: responsive emails in Gmail</a></li>
<li><a href="../263701/index.html">Modernization of operational data center</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>