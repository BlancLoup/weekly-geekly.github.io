<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Another Snake is not in 30 lines on Android</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello to all! Today I want to tell the story of creating one toy for Android. What will happen: 


- Why another snake for android? Explanation (c des...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Another Snake is not in 30 lines on Android</h1><div class="post__text post__text-html js-mediator-article">  Hello to all!  Today I want to tell the story of creating one toy for Android.  What will happen: <br><ul><li>  Why another snake for android?  Explanation (c description); </li><li>  How I did it - the tricks used, some code; </li><li>  A little bit about design; </li><li>  Google Play Games, non-standard use. </li></ul><br><img src="https://habrastorage.org/files/931/2f0/37a/9312f037aa494d709a84f078605d531f.png"><br><br>  All interested in asking under the cat! <br><a name="habracut"></a><br><br><h3>  Why another snake for android? </h3><br>  It so happened that in the fall my girlfriend and I rested on the sea.  Warm water, calm, swimming - all this has the birth of various thoughts in my head.  One of these thoughts was ‚ÄúWhat to do on the plane on the way back?‚Äù.  Rest was in full swing, and I missed programming a bit.  So it‚Äôs decided to code!  On what?  So on 7 "Nexus recently installed AIDE. What? A simple game. But - with a twist. So the idea was born to write a Snake with hexagonal tiles - not trivial, interesting. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Immediately there was a question of the choice of technology.  I wrote my last game ( <a href="http://habrahabr.ru/post/178523/">Pacman</a> ) in C ++ + OpenGL ES 2.0, here it is an obvious overhead.  Something vaguely heard about Canvas, read a little and understood - what you need, give two.  4.5 hours in the plane - the engine is ready, the snake walks, crashes into itself, and responds to the swipe in six directions.  And then ... then there was still about a month of finishing. <br><br>  What happened in the end: <br><img src="https://habrastorage.org/files/e38/509/9c3/e385099c366d418badd2024cc76c4dbf.png"><br>  <i>In the screenshots: Main screen, Labyrinth "Mill" (dark skin), Labyrinth "Teleport" (light skin)</i> <br><br><ul><li>  2 types of games - mazes and classic; </li><li>  3 skins; </li><li>  7 levels of difficulty, opening one after the other. </li></ul><br><br>  Bonus went to a primitive map editor with the ability to immediately start the game and try, as well as a bunch of new experiences. <br><br><h3>  How i did it </h3><br>  Let's start in order. <br><br><h4>  Main screen </h4><br>  It is the pause screen, with a different layout of components. <br><img align="right" src="https://habrastorage.org/files/7c8/266/c4f/7c8266c4f99b4d43a8ba13be79dee7ec.png">  On this screen, pay attention to the background.  I spent the whole evening on him, and still, sometimes it seems to me that he looks a little different from what I want.  The idea of ‚Äã‚Äãmaking it exactly like this was partially taken from Google, partly from 2Gis - I like these intersecting broad rays.  Vector background, that is, it takes in apk read bytes.  It is drawn on the Canvas, in a custom view. <br><div class="spoiler">  <b class="spoiler_title">Some code</b> <div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BackgroundView</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Bitmap mBmp; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDraw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Canvas canvas)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*  ,         */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(mBmp == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>){ mBmp = Bitmap.createBitmap(canvas.getWidth(), canvas.getHeight(), Config.ARGB_8888); Canvas c = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Canvas(mBmp); drawBackground(c); } canvas.drawBitmap(mBmp, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">drawBackground</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Canvas canvas)</span></span></span></span>{ canvas.drawRGB(<span class="hljs-number"><span class="hljs-number">180</span></span>, <span class="hljs-number"><span class="hljs-number">220</span></span>, <span class="hljs-number"><span class="hljs-number">70</span></span>); <span class="hljs-comment"><span class="hljs-comment">/*       ,   */</span></span> <span class="hljs-comment"><span class="hljs-comment">/*    Path    ,   ,   */</span></span> } }</code> </pre> <br></div></div><br>  What do we get out of this code?  The first way (and the easiest) drawing on Canvas.  Inherit from <code>View</code> , override the <code>void onDraw(Canvas canvas)</code> method and draw on the Canvas whatever your heart desires.  It was this way that my first prototype written on the plane was drawn.  For a dynamic update, you must call the <code>invalidate()</code> method on the <code>View</code> , and then <a href="http://developer.android.com/reference/android/view/View.html">sometime in the future, onDraw () will be</a> called.  Without guarantees.  A more correct way to get a Canvas for intensive drawing is described <a href="https://habr.com/ru/post/246817/">below</a> . <br><br><h4>  Settings screen </h4><br><img align="left" src="https://habrastorage.org/files/a1a/4fb/666/a1a4fb666f104f2187a7292dde1146fb.png"><br>  Here, in principle, nothing special is there, except for the preview of the game.  It seems to be a rather controversial decision, but I wanted the player to immediately see what was waiting for him when changing the skin.  In the future, I plan to increase the number of skins.  Also, on devices that support vibration, you can turn it on / off on this screen. <br><br><h4>  Labyrinth selection screen </h4><br><img align="right" src="https://habrastorage.org/files/b7b/1c3/e66/b7b1c3e66a4446bc8b710a1a6c014b02.png"><br>  So far there are not too many labyrinths in the game - 8. In the future I plan to add them.  Each line has a labyrinth icon, its name, personal and world records.  In the case when a player is not logged in to Google Play Games, his personal record automatically becomes global.  Labyrinths are opened sequentially, as well as difficulty levels.  And here, perhaps, the time has come to talk about a non-standard way of using Google Play Games ... <br><br><h3>  Non-standard use of Google Play Games </h3><br>  Or rather, the achievement subsystem.  I called it share-over-achievements.  Surely I was not the first to invent it, but I did not find descriptions of this method.  Do not kick with your feet =) <br>  When there are some "unlocking" in the game - for example, opening a level or a maze, as in my case, the question immediately arises - what if the player has two devices?  Smartphone and tablet, for example?  How to let him use content unlocked on one device, everywhere?  If you have a server, and time to support it, then everything is in openwork, you can fumble through it.  And if, like me, neither one nor the other, then the following trick might do: <br>  At the moment when the user unlocks some content, unlock the content. <br><div class="spoiler">  <b class="spoiler_title">Cap code</b> <div class="spoiler_text"><pre> <code class="java hljs">Games.Achievements.unlock(getApiClient(), achievementName);</code> </pre></div></div><br>  And when you need to check the content for openness, check this achivka at the same time (you can in advance). <br><div class="spoiler">  <b class="spoiler_title">Another code</b> <div class="spoiler_text"><pre> <code class="java hljs">PendingResult&lt;LoadAchievementsResult&gt; pendingResult = Games.Achievements.load(getApiClient(), <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); pendingResult.setResultCallback(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LoadAchievementsResultCallback());</code> </pre></div></div><br>  In this case, the loaded achievements are better to cache somewhere, from where you can quickly get them.  And also to cache unblocked achievements, in case the player is not logged in - you will need to unblock them at the moment when he does log in. <br><br>  Why is this a non-standard way to use Google Play Games?  Because the documentation basically shows us that achievement is such a whistle to raise the user's mood.  But they can also be really useful.  And I think it's cool.  I use this method to unlock mazes and difficulty levels. <br><br><h4>  Now let's talk about the game itself. </h4><br>  The field of the game is square, 15x15 hexagons.  Logically represented by a two-dimensional array of tiles, each of which has: <br><ul><li>  Coordinates of the "following him" tile - used in the body of a snake and teleports; </li><li>  The "mortality" flag is, again, the body of the snake and the walls of the labyrinths; </li><li>  Type of tile - food, super food, snake, wall, teleport, empty; </li></ul><br>  Thus, checking for death is equal to checking one flag; moving through a teleport is not more expensive than just moving.  The field is drawn using classes that implement the <code>IDrawer</code> interface, so the number of skins may increase with time. <br><a name="SurfaceExample"></a>  Above, I described the easiest way to draw on Canvas.  A better way for dynamic rendering is to inherit from <code>SurfaceView</code> and draw in a separate thread.  I will focus on the main points: <br>  Inherit from <code>SurfaceView</code> , implement <code>SurfaceHolder.Callback</code> to receive <code>SurfaceView</code> events: <br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GameView</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SurfaceView</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SurfaceHolder</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Callback</span></span></span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(context); getHolder().addCallback(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">surfaceChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(SurfaceHolder holder, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> format, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> width, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> height)</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">surfaceCreated</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(SurfaceHolder holder)</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">surfaceDestroyed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(SurfaceHolder holder)</span></span></span><span class="hljs-function"> </span></span>{ } }</code> </pre><br></div></div><br>  We write the <code>DrawThread</code> drawing <code>DrawThread</code> : <br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DrawThread</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Thread</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> mRunning = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> SurfaceHolder mSurfaceHolder; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DrawThread</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(SurfaceHolder surfaceHolder)</span></span></span><span class="hljs-function"> </span></span>{ mSurfaceHolder = surfaceHolder; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setRunning</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> running)</span></span></span><span class="hljs-function"> </span></span>{ mRunning = running; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Canvas canvas; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (mRunning) { canvas = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { canvas = mSurfaceHolder.lockCanvas(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (canvas == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/*   canvas */</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (canvas != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { mSurfaceHolder.unlockCanvasAndPost(canvas); } } <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>{ <span class="hljs-comment"><span class="hljs-comment">//let other threads do they work Thread.sleep(15); }catch(InterruptedException e){ } } } }</span></span></code> </pre><br></div></div><br>  We return to our <code>SurfaceView</code> and start the rendering stream when creating Surface: <br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="hljs java"> <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">surfaceCreated</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(SurfaceHolder holder)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*      , Canvas   ,     */</span></span> mDrawThread = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DrawThread(holder); mDrawThread.setRunning(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); mDrawThread.start(); }</code> </pre><br></div></div><br>  And do not forget to clean up after you break the Surface: <br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="hljs java"> <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">surfaceDestroyed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(SurfaceHolder holder)</span></span></span><span class="hljs-function"> </span></span>{ destroy(); } <span class="hljs-comment"><span class="hljs-comment">/*   ,  surfaceDestroyed()   ,    destroy() "" */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">synchronized</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">destroy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(mDrawThread == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> retry = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; mDrawThread.setRunning(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (retry){ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>{ mDrawThread.join(); retry = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (InterruptedException ignored){ } } mDrawThread = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; }</code> </pre><br></div></div><br><br>  In the <code>IDrawer</code> and <code>Game</code> combat code, I <code>GameView</code> to <code>GameView</code> .  In the rendering stream, the logic is recalculated as well. <br><br><h3>  findings </h3><br>  Writing small games (even clones), as well as own non-game projects is extremely useful.  A way out of the comfort zone is especially useful, it allows you to learn a lot of new and useful things in a short time.  From a small project for a few hours, you can make quite an interesting game. <br>  Drawing technology on Canvas is quite suitable for small games where special special effects are not needed. <br>  Writing Java games for Android is much easier than C ++, especially if you are a loner. <br>  Have a great weekend, everyone, and Happy New Year! </div><p>Source: <a href="https://habr.com/ru/post/246817/">https://habr.com/ru/post/246817/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../246803/index.html">Hottest topics of the year</a></li>
<li><a href="../246805/index.html">Fight for the souls of the players or how I tried to enter the mobile market</a></li>
<li><a href="../246807/index.html">SuperDuino: Arduino compatible miniature board with color display and accelerometer</a></li>
<li><a href="../246811/index.html">Alex Schultz (part 2): an introduction to growth hacking</a></li>
<li><a href="../246815/index.html">Samsung launches mass production of the industry's first 8-gigabit mobile DRAM memory chip LPDDR4</a></li>
<li><a href="../246819/index.html">New track on Coursera: Mobile Cloud Computing with Android</a></li>
<li><a href="../246825/index.html">Localization for Brazil: tips and tricks</a></li>
<li><a href="../246827/index.html">REST API for a couple of minutes with Lionframe</a></li>
<li><a href="../246829/index.html">Authorization of users with AngularJS and Firebase</a></li>
<li><a href="../246831/index.html">Eleventh grader, or we test layout bugs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>