<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HPE Synergy Pro - Part V. Control</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="HPE Synergy Pro - Part V. Control. 

 Start: 

 Part I (Introduction) - habrahabr.ru/post/308224 
 Part II (Chassis and Server) - habrahabr.ru/post/31...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>HPE Synergy Pro - Part V. Control</h1><div class="post__text post__text-html js-mediator-article">  HPE Synergy Pro - Part V. Control. <br><br>  Start: <br><br><blockquote>  Part I (Introduction) - <a href="https://habrahabr.ru/post/308224/">habrahabr.ru/post/308224</a> <br>  Part II (Chassis and Server) - <a href="https://habrahabr.ru/post/310092/">habrahabr.ru/post/310092</a> <br>  Part III - D3940 Disk Storage and SAS Switches - <a href="https://habrahabr.ru/post/310564/">habrahabr.ru/post/310564</a> <br>  Part IV - Our Networks - <a href="https://habrahabr.ru/post/313240/">habrahabr.ru/post/313240</a> </blockquote><br>  I started writing this part in October, but then the ‚Äúheat of the end of the year‚Äù went on projects, and then New Year's procrastination overcame, but already January, and the final effort must be made =). <br><a name="habracut"></a><br>  It will be logical to divide this part into three sections, in each of the sections describe the modules SY Composer, SY Image Streamer and SY Frame Link Module (FLM). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Let's start with the main device - Synergy Composer (one piece for installation is required). <br><br><div class="spoiler">  <b class="spoiler_title">Photos of the industrial prototype of the Synergy Composer</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/4a8/9f8/334/4a89f8334eeb4b40b6c57a018c6e343b.jpg"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Drawing Synergy with Composer and Streamer</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/9b4/cc9/7b7/9b4cc97b73c247829243fbf99d5d5000.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Appearance on Composer's 3D model</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/3d6/423/66f/3d642366f1fb42ecbc5358cf65ecb7bd.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">B / W drawing projection Composer'a</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/c1a/a4d/7ba/c1aa4d7ba5ce4ff0972c093306b7cc34.png"><br></div></div><br>  As I wrote earlier, the developers tried to put the main meaning of this device in the title, ‚Äúcomposer‚Äù, translated from English - the composer (there are also meanings - the author-writer and the synthesizer).  So, Synergy Composer is a small blade server, which is also mounted in the chassis, and on board, besides some operating system, has a deployed HPE OneView functional module, which manages all the chassis resources ‚Äî computing, data transfer, and storage.  In addition, I quote "it is a fully programmable interface, such as Chef, Docker, and OpenStack". <br><br>  From the point of view of servers and chassis Composer: <br><br><ul><li>  manages connected chassis (plural) and servers in that chassis, including auto-detection of installed equipment; </li><li>  keeps in itself, for subsequent uploading to servers, firmware options (firmware) of servers; </li><li>  uses some kind of ‚Äúlogical enclosures‚Äù functionality, which is not described in detail.  I would venture to suggest that it allows you to create logical computational entities on the basis of the iron of several frames; </li><li>  keeps in itself, for subsequent download, options for operating system drivers; </li><li>  also allows you to monitor and log the system as a whole and its components; </li><li>  contains a reporting module with a certain set of standard reports, with the possibility of exporting them to CSV or MS Excel; </li><li>  contains the HPE Unified REST API element for handling external control commands; </li><li>  contains a module for interaction with SY Image Streamer, i.e.  the module where image-files of operating system disks with pre-installed software are stored is ready for quick deployment of the OS on servers (recall that the control modules are connected to a separate 10-bit network from the rest of the chassis). </li></ul><br>  In terms of networks: <br><br><ul><li>  supports setting up HPE VirtualConnect, switches and pass-thru modules; </li><li>  manages connections between master modules and satellites; </li><li>  controls aggregation of links between chassis (Multi-module link aggregation, MLAG); </li><li>  manages the detection of network equipment and its scaling into the existing infrastructure; </li><li>  supports updating logical connections without stopping the transmission of traffic. </li></ul><br>  In terms of information storage: <br><br><ul><li>  manages the use of DAS or SAN storage.  Separately, it is stated that some storages are managed through Composer, but initially must be configured independently of it. </li><li>  manages capacity and storage levels (tiering) based on DAS 3940 disk modules, for a chassis with VSAs ‚Äútense‚Äù on them (raw volume limit is up to 614 TB, and volume distribution between different chassis is possible); </li><li>  manages Boot-from-SAN for Fiber Channel (FC); </li><li>  Manages storage zoning policies </li><li>  monitors and logs SAN systems and storage systems in general and at the component level; </li></ul><br>  Separately indicated supported external equipment: <br><br><ul><li>  storage - StoreServe 3PAR (FC switched), StoreVirtual VSA and P4000 (iSCSI); </li><li>  SAN networks - Brocade SAN switches, HPE 5900cp / af and 5930 SAN switches, Cisco Nexus 5500/6000 and MDS SAN switches (FC / FCoE). </li></ul><br>  In terms of integration with third-party software products: <br><br><ul><li>  HPE OneView for VMware vCenter 8.1 supports Synergy systems; </li><li>  HPE OneView for Microsoft System Center 8.1 supports Synergy systems; </li><li>  HPE Helion CloudSystem 10 supports Synergy systems. </li></ul><br>  The main question - why all this garden had to be fenced?  HPE promises that it will work in the form of "Infrastructure-as-code", that is, at the level of writing software, you can set all the parameters of interest and their variations to deploy this software.  For example, write code directly into the software: we deploy a farm of 10 web servers, so many processors, so much memory, so much disk, firmware ‚Äî so and so, OS ‚Äî so and so with such and such patches (take it from Streamer's Image), drivers such and such.  After that, through the API, the Synergy Composer should work out all this correctly and quickly.  The idea is interesting, it all depends on the implementation, because ‚ÄúSoftware-defined-something‚Äù projects were already quite a few, and not all came to success.  If the implementation succeeds, it can be a breakthrough, if it is like, for example, with Helion CloudSystem, then to put it mildly, the solution will be ‚Äúnot for everyone‚Äù. <br><br>  What else can I add about Composer?  For fault tolerance, it is recommended to take the second Composer (even for a single chassis, but then it will not be possible to install the Image Streamer);  Single-sign-on (SSO) for iLO is supported;  Composer can be backed up (?);  I see support only level 24x7 and higher. <br><br>  SDK for REST-based Unified API is available for Java, PowerShell, and Python. <br><br>  We smoothly proceed to the addition of the first module - the second module, also known as Synergy Image Streamer.  It is also a small blade server, which is also mounted in the chassis.  What is on board is not yet known.  The appearance is the same as that of Composer, only the information label is different. <br><br><div class="spoiler">  <b class="spoiler_title">Appearance on a 3D model of Image Streamer</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/f75/c26/19f/f75c2619fcb645899ebdfdf077f9ef4a.png"><br></div></div><br>  On Image Streamer, as in the repository, the following is stored: <br><br><ul><li>  <b>Profile</b> - server profiles that include different versions of BIOS settings and different versions of firmware; </li><li>  <b>Golden Image</b> - ‚ÄúGolden Snapshots‚Äù of the OS - basic boot versions of the OS with I / O drivers.  There is a separate postscript - "If your image can be captured, then it can also be deployed and / or updated with HPE Image Streamer." </li><li>  <b>Personality</b> - personalized OS snapshots with applications and configurations (hostname, IP config, etc). </li></ul><br>  In general, the functional role of the module emerges as the role of the OS and software repository plus the iSCSI-boot-from functionality (here I will quote separately - ‚ÄúUnlike the traditional boot-from-SAN environments, HPE Image Streamer requires no additional manual setup or configuration (like multipath support, adapter configuration, access control, and SAN array configuration in typical SAN environments) ‚Äù).  The picture is as follows: in the software, we code a plan for deploying any software farm, push it to Composer, which determines the presence of the software, operating system and settings on the Image Streamer, pushing this data to the server. <br><br><div class="spoiler">  <b class="spoiler_title">Composer, Image Streamer and servers in the chassis interaction scheme</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/52d/f75/60c/52df7560c02545c6976ecee58c589c32.png"><br><br></div></div><br>  There may be several modules in the installation, the maximum installation is promised in 21 chassis.  At the moment, the connection between the control modules 10/20 Gbit / s (separate from the rest of the chassis modules) promise to disperse up to a hundred. <br><br>  Next, consider the Synergy Frame Link Module (FLM).  For good it made sense to consider it in the second part, in the framework of the chassis, but in this case the section turned out logically unbalanced, so we consider here. <br><br><div class="spoiler">  <b class="spoiler_title">B / W FLM projection drawing</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/273/825/728/27382572887340e3962fcb22d2934b49.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Appearance on a 3D-model FLM</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/00b/d6a/2ae/00bd6a2ae7b546a99d7f626e378ebc01.png"><br></div></div><br>  The task of FLM is to create a control network with a 10GbE private management network ring between the different chassis for the chassis management modules - SY Composer and SY Image Streamer, based on the set of these modules (FLM).  Chassis in the same rack can be connected with CAT6 cables, CAT7 is required between racks.  The figure shows that there are two RJ-45 ports on the front panel of the module: the top one is MGMT (control), the bottom one is LINK (communication between the modules).  Each chassis contains one module; a second FLM module is required for connecting two or more. <br><br>  And finally, I will talk about three interesting documents that I did not know when I started writing / reading this cycle, but which can help in studying the infrastructure with HPE Synergy: <br><br><ul><li>  <a href="https://www.hpe.com/h20195/v2/GetPDF.aspx/4AA6-3322ENN.pdf">Five steps to building a composable Infrastructure with HPE Synergy</a> </li><li>  <a href="http://h20566.www2.hpe.com/hpsc/doc/public/display%3Fsp4ts.oid%3D1008615198%26docId%3Demr_na-c05061206%26docLocale%3Den_US">Configuration and Compatibility Guide</a> </li><li>  <a href="https://www.hpe.com/us/en/resources/integrated-systems/synergy-for-dummies.html">HPE Synergy For Dummies</a> </li></ul><br><img src="https://habrastorage.org/files/130/9d6/1e3/1309d61e3bfe426f868c02014d63c46a.png"><br><br>  The first document consists of 12 pages and contains a brief description of all the pieces of iron and comparative tables with them - useful as a brief cheat sheet. <br><br>  The second document is much more serious - page 71, and describes the principles and examples of installations.  Here it can be noted that now I have two documents, the first of April 2016 and there are 51 pages with theoretical examples, and the second is the one to which the link is given, this is already fresh from December 2016, 71 pages, worked out in more detail, apparently using gained experience. <br><br>  The third document is already from the series ‚ÄúFinish me with dance, my idol!‚Äù, Read with interest, immediately took from there several explanatory pictures in good quality for this article. <br><br>  In general, a general link to all available product documentation - <a href="http://www.hpe.com/info/synergy-docs">http://www.hpe.com/info/synergy-docs</a> (I think I found something that I will read in the next couple of months - HPE OneView 3.0 User Guide with 500 pages).  Not all documentation is ready, instead of some documents there are links, stubs, but it already makes sense to note the high level of development of the section, most of the documentation that did not exist in October (when I was just starting to write a draft of this article) came out in December 2016. <br><br>  <b>PS</b> Dear HPE just yesterday announced at the end of January ‚ÄúHPE Synergy - technical details.  Pre-industrial sample demonstration "- really ?!  Perhaps, after this event, there is enough information to write another article, in which it will be possible to briefly review the existing solution configurations and planning methods. <br><br>  <b>PPS</b> Before publication, a colleague sent a link to the description of the two-day course 01064178 ‚Äú <a href="https://certification-learning.hpe.com/TR/datacard/Course/01064178">HPE Synergy Solutions, Rev.</a>  <a href="https://certification-learning.hpe.com/TR/datacard/Course/01064178">16.21</a> ‚Äù, it turned out that, to put it mildly, I definitely wrote the first day of the course. <br><br>  PPPS - here the habrovchanin began to write about the experience of actual operation <br>  - I hope it will be interesting - <a href="https://habrahabr.ru/post/319590/">habrahabr.ru/post/319590</a> </div><p>Source: <a href="https://habr.com/ru/post/319430/">https://habr.com/ru/post/319430/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../319416/index.html">Juniper firewall update unauthorized root access to devices</a></li>
<li><a href="../319418/index.html">How to create your file system based on blob fields in the database. Why is it convenient? Efficiency issues</a></li>
<li><a href="../319422/index.html">Cooking ORM, without departing from the plate. We generate SQL - query based on binary expression trees</a></li>
<li><a href="../319424/index.html">Graal and Truffle (Graal & Truffle)</a></li>
<li><a href="../319426/index.html">Who posted the 10 millionth comment? Secrets of numerology</a></li>
<li><a href="../319436/index.html">tiny-dnn - library announcement</a></li>
<li><a href="../319438/index.html">Where to place containers: on a dedicated server or a virtual machine?</a></li>
<li><a href="../319440/index.html">About Haskell for the smallest on the example of the problem with codefights</a></li>
<li><a href="../319442/index.html">Strict definition of concepts: object, state, event, business transaction and business function</a></li>
<li><a href="../319444/index.html">UI / UX events of 2017 that will not tire you for sure</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>