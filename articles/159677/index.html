<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>First-hand: pitfalls on the way to support WebRTC</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Many of you have heard about the new standard for the implementation of realtime web communications, aka WebRTC. We are developing services for voice ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>First-hand: pitfalls on the way to support WebRTC</h1><div class="post__text post__text-html js-mediator-article"><img src="http://webrtc.org/_/rsrc/1318870658554/config/customLogo.gif?revision=8" alt="Logo"><br>  Many of you have heard about the new standard for the implementation of realtime web communications, aka WebRTC.  We are developing <a href="http://zingaya.com/">services for voice communication</a> (click-to-call / tap-to-call) with users of websites and mobile applications.  And that is why we are very close to the idea of ‚Äã‚Äãvoice and video calls directly from the browser without installing additional plug-ins.  In general, any additional software.  Our company is part of the W3C working group on the development of this standard along with Google, Mozilla, Cisco, Ericsson, Skype and many others (yes, we are in a great company).  A team of serious professionals, such as Cullen Jennings (Cisco), Justin Uberti (Google), Daniel Burnett (Voxeo), Cary FitzGerald, is working on the standard.  Many of them participated in the creation of IP-telephony in the form that we know it for the past 10-15 years. <a name="habracut"></a><br><br>  The initiator of the entire WebRTC movement was Google after the acquisition of GIPS. They were the first to add support for the latest draft version of the standard to their browser.  WebRTC already works fine in Google Chrome 23. But yes, in order for the WebRTC version of your online service to take off, you need to spend time and figure out how it all works now.  And in order for your WebRTC service to continue to work, you also need to monitor what is happening in the working group and all changes to the standard, which is not as trivial as it seems. <br><br>  A bit of history.  The first browser in which at least some support for WebRTC was implemented was an experimental browser from Ericsson.  We could not wait to try WebRTC in action, and we ‚Äúfiled‚Äù support in such a way that our servers would work with this browser.  As it turned out later, it was a rather silly idea.  As soon as Google took over the business, all Ericsson's developments were sent far away, and the constant change of the standard began, as well as the corresponding implementation in the Chrome Canary developer assembly. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      There were quite funny moments when browser developers used some strange RFC variants (or didn‚Äôt use them at all) and it turned out that STUN or ICE had to be rewritten again to make it work at least somehow.  As a result, common sense won, and they did everything according to the RFC, but a lot of time was spent on dancing with a tambourine and explaining that doing so is not good. <br><br>  There are several points that now cause difficulties when working with WebRTC: <br><br><ol><li>  Work on the standard is in full swing, and some kind of finished version is still far away.  Everything is changing - for example, there are new versions of browsers that require re-checking and often reworking the entire implementation.  It is not a fact that there is backward compatibility.  Often there is none. </li><li>  The implementation of standard protocols (for example, SDP) is still far from ideal.  Say, now PeerConnection is able to send video and audio through only one port, even if the other participant specifies the opposite in SDP.  True in fairness it should be noted that the situation is gradually being corrected.  For example, ICE in recent versions of Chrome works in accordance with the RFC. </li><li>  The impossibility of implementing Media Control XML methods adds complexity to integration with SIP.  Therefore, with the loss of packets from the gateway to the SIP equipment, there will be problems with recovering the picture.  Colleagues from Google said that they implemented this at the RTP protocol level, so this issue still needs to be dealt with. </li><li>  There is no support for common video codecs (read H.264).  Of course, some softphones already have a VP8 implementation, but no industrial solution yet supports this codec.  There is no clarity with this question yet, there are a number of companies advocating for H.264 support, but since the codec is patented by MPEG-LA, and only royalty free codecs are planned to be used, only VP8 is currently available. </li></ol><br><br>  From the point of view of UX / UI, WebRTC is clearly better than Flash (see screenshot), but there are a number of flaws that we hope will be fixed in the future.  For example, if you save the recorder selection (only available when using HTTPS), then to reset this setting you need to go to Settings -&gt; Advanced Settings ... -&gt; Privacy -&gt; Content Settings ... -&gt; Media -&gt; Manage exceptions ... Do you need to say that a regular user will never get there? <br><br>  <b>It was (Flash)</b> <br><img src="https://habrastorage.org/storage2/311/e1d/69f/311e1d69f7679db96dc7187a38f3bc4a.png"><br><br>  <b>It became (WebRTC)</b> <br><img src="https://habrastorage.org/storage2/cba/c63/ba3/cbac63ba3683ec69e3d50de42becc67b.png"><br><br>  I must say that the sound quality when using WebRTC is really seriously better than in Flash.  For example, WebRTC has full automatic gain control (AGC, Automatic Gain Control) for a microphone, and Adobe, for some apparently religious reasons, did not turn on such a useful function.  Well, the rest of the GIPS audio engine works very well.  In the near future, WebRTC will be able to use the Opus audio codec, which is a hybrid of Skype SILK and CELT and has already been adopted as mandatory for WebRTC along with G.711.  Google is already hard at work on supporting WebRTC for the mobile version of Chrome for Android, which means that there is a serious future on mobile platforms (Adobe abandoned attempts to promote and develop Flash for mobile). <br><br>  And finally: WebRTC Conf &amp; Expo announced that WebRTC support will be added in the release version of Firefox 18, and this remarkable event will occur approximately in April 2013. We are waiting for Opera, IE and Safari.  By the way, we were direct participants of the conference and even managed to win a prize, we will try to write a separate post about it. </div><p>Source: <a href="https://habr.com/ru/post/159677/">https://habr.com/ru/post/159677/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../159665/index.html">Intel absorbs the developer of ARM chips - the company ZiiLabs</a></li>
<li><a href="../159667/index.html">Youtube.com removed from zapret-info.gov.ru</a></li>
<li><a href="../159669/index.html">Duqu - a malicious matryoshka</a></li>
<li><a href="../159673/index.html">In which language do you usually write code comments?</a></li>
<li><a href="../159675/index.html">More than VDS</a></li>
<li><a href="../159679/index.html">After publishing photos of Prince William at the Royal Air Force base, the military had to change passwords.</a></li>
<li><a href="../159681/index.html">How do you prefer to hide directories on the web server from being accessed from the outside?</a></li>
<li><a href="../159689/index.html">Joel's test as a tool of the interviewee</a></li>
<li><a href="../159691/index.html">Master Yoda and his paper Padawans: Creative corporate story</a></li>
<li><a href="../159695/index.html">Do you need Symfony2 documentation in Russian?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>