<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Monitoring system on BASH</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Monitoring system: why? 
 Many of you who were responsible for a small subnet, faced with the problem of taking into account the performance of a coup...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Monitoring system on BASH</h1><div class="post__text post__text-html js-mediator-article"><h4>  Monitoring system: why? </h4><br>  Many of you who were responsible for a small subnet, faced with the problem of taking into account the performance of a couple of dozen machines.  Or you just wanted to be able at any time from anywhere in the world to find out how your torrent swing left at home is feeling. <br><br>  Personally, I developed this system to solve the problem of hidden remote monitoring of the computers entrusted to me.  At the implementation stage, I was offered to get some profit from this project and do everything on BASH as a project for some conference. <br><br>  ... and now, digging trash, I found the source.  While working as a web programmer was not in vain, it was decided to completely override and expand the functionality.  Actually, let's start ... 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Platform Description, Dependencies </h4><br>  Not so long ago, I upgraded to the 12.10th version of my beloved Kubuntu (Ubuntu with KDE as WM, GNOME can not stand it).  The system is pristine clean, no manipulations have been made with it, so there will be no packages in it that you don‚Äôt have. <br>  Kernel 3.5.0-21, KDE.  For the system itself, we need additional packages that can be found in the standard repository.  We type the following: <br><a name="habracut"></a><pre><code class="bash hljs">sudo -s apt-get install perl apt-get install libnotify-bin apt-get install lm-sensors apt-get install sysstat apt-get install apache2 <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span></code> </pre> <br>  We will need the pearl to execute the line processor script, libnotify to display a notification, lm-sensors to take the temperature, sysstat to collect statistics on I / O, apache2 the web server to display.  Well, by itself, any text editor with syntax highlighting is needed. <br><br><h4>  Implementation </h4><br>  At first I made a pattern on the divas, in some cases the beginning of the teaser for the film ‚ÄúStart‚Äù, but in general the structure of the DOM tree is correct.  Next, we design a system that will fill this template.  To do this, we write a script on BASH.  To do this, you should know that for our (Ubuntu) distribution, the default directory for the webserver is Apache / var / www.  Therefore, if nothing except our system is in the public domain, the output will be implemented immediately in index.html. <br><br>  The script itself is extremely simple: the echo command outputs the input parameter to stdout, we redirect this exhaust to a file.  So we can transfer in html from BASH template.  From the point of view of the theory of algorithms, we get the already specialized code. <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash export DISPLAY=:0.0; echo '&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"&gt; &lt;HTML&gt; &lt;!-- Coded and designed by 19N4T0V --&gt; &lt;head&gt; &lt;meta http-equiv="Content-Type" content="text/html; charset=KOI8-R"&gt; &lt;script type="text/javascript" src="jquery.js"&gt;&lt;/script&gt; &lt;title&gt;Kansatsu&lt;/title&gt; &lt;link rel="stylesheet" type="text/css" href="style.css"&gt; &lt;/head&gt; &lt;body&gt; &lt;div class="leftline"&gt; &lt;a href=""&gt;&lt;div class="header"&gt;&lt;/div&gt;&lt;/a&gt; &lt;ul class="leftmenu"&gt; &lt;a href="#summary"&gt;&lt;li&gt;SUMMARY&lt;/li&gt;&lt;/a&gt; &lt;a href="#IO"&gt;&lt;li&gt;I/O STATS&lt;/li&gt;&lt;/a&gt; &lt;a href="#temperature"&gt;&lt;li&gt;TEMPERATURE&lt;/li&gt;&lt;/a&gt; &lt;a href="#HDD"&gt;&lt;li&gt;HDD&lt;/li&gt;&lt;/a&gt; &lt;a href="#RAM"&gt;&lt;li&gt;RAM&lt;/li&gt;&lt;/a&gt; &lt;a href="#net"&gt;&lt;li&gt;NETWORK&lt;/li&gt;&lt;/a&gt; &lt;a href="#PROC"&gt;&lt;li&gt;PROC&lt;/li&gt;&lt;/a&gt; &lt;/ul&gt; &lt;/div&gt; &lt;div class="content"&gt; &lt;!--ABOUT BEGINS HERE--&gt; &lt;div class="block"&gt; &lt;div class="bl_head"&gt; ABOUT &lt;/div&gt; &lt;div class="bl_info"&gt; KANSATSU monitoring system is an opensource project. License is &lt;a href="http://www.gnu.org/copyleft/"&gt;&lt;font color="red"&gt;GNU copyleft&lt;/font&gt;&lt;/a&gt;. This is the simple scripts written in BASH and Perl, running as a cron job . Everything you can see there is just responding to console comands. Author - &lt;a href="http://19N4T0V.PNZ.RU/"&gt;&lt;font color="red"&gt;19N4T0V&lt;/font&gt;&lt;/a&gt;. If you want to receive the code to use or improve it - write me. &lt;br&gt; Thanks to &lt;a href="http://linux.org.ru/"&gt;&lt;font color="red"&gt;LOR&lt;/font&gt;&lt;/a&gt; users for help and advices.&lt;br&gt; DEPENDS: lm-sensors, libnotify-bin, perl, sysstat. &lt;/div&gt; &lt;/div&gt; &lt;!--SUMMARY BEGINS HERE--&gt; &lt;div class="block" id = "summary"&gt; &lt;div class="bl_head"&gt; SUMMARY &lt;/div&gt; &lt;div class="bl_info"&gt; &lt;div class="line"&gt; &lt;div class="tit"&gt; HOSTNAME &lt;/div&gt; &lt;div class="tty"&gt;' &gt; /var/www/index.html hostname &gt;&gt; /var/www/index.html; echo ' &lt;/div&gt; &lt;/div&gt; &lt;div class="line"&gt; &lt;div class="tit"&gt; UPTIME &lt;/div&gt; &lt;div class="tty"&gt;' &gt;&gt; /var/www/index.html; uptime | sed 's/,.*//' | sed 's/.*up //' &gt;&gt; /var/www/index.html; echo ' &lt;/div&gt; &lt;/div&gt; &lt;div class="line"&gt; &lt;div class="tit"&gt; TIMESTAMP &lt;/div&gt; &lt;div class="tty"&gt;' &gt;&gt;/var/www/index.html; date &gt;&gt; /var/www/index.html; echo ' &lt;/div&gt; &lt;/div&gt; &lt;div class="line"&gt; &lt;div class="tit"&gt; KERNEL &lt;/div&gt; &lt;div class="tty"&gt;'&gt;&gt; /var/www/index.html; uname -s &gt;&gt; /var/www/index.html; echo ' &lt;/div&gt; &lt;/div&gt; &lt;div class="line"&gt; &lt;div class="tit"&gt; VERSION &lt;/div&gt; &lt;div class="tty"&gt;' &gt;&gt; /var/www/index.html; uname -r &gt;&gt; /var/www/index.html; echo ' &lt;/div&gt; &lt;/div&gt; &lt;div class="line"&gt; &lt;div class="tit"&gt; HARDWARE &lt;/div&gt; &lt;div class="tty"&gt;' &gt;&gt; /var/www/index.html; uname -m &gt;&gt; /var/www/index.html; echo ' &lt;/div&gt; &lt;/div&gt; &lt;div class="line"&gt; &lt;div class="tit"&gt; PROCESSOR &lt;/div&gt; &lt;div class="tty"&gt;' &gt;&gt; /var/www/index.html; uname -p &gt;&gt; /var/www/index.html; echo ' &lt;/div&gt; &lt;/div&gt; &lt;div class="line"&gt; &lt;div class="tit"&gt; PLATFORM &lt;/div&gt; &lt;div class="tty"&gt;' &gt;&gt; /var/www/index.html; uname -i &gt;&gt; /var/www/index.html; echo ' &lt;/div&gt; &lt;/div&gt; &lt;div class="line"&gt; &lt;div class="tit"&gt; OS &lt;/div&gt; &lt;div class="tty"&gt;' &gt;&gt; /var/www/index.html; uname -o &gt;&gt; /var/www/index.html; echo ' &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;!--IO BEGINS HERE--&gt; ' &gt;&gt; /var/www/index.html; echo ' &lt;div class="block" id ="IO"&gt; &lt;div class="bl_head"&gt; I/O STATS &lt;/div&gt; &lt;div class="bl_info"&gt; ' &gt;&gt; /var/www/index.html; iostat -h -x &gt; /var/www/tmp; perl /var/www/scr.pl; echo ' &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;!--TEMPERATURE BEGINS HERE--&gt; &lt;div class="block" id ="temperature"&gt; &lt;div class="bl_head"&gt; TEMPERATURE &lt;/div&gt; &lt;div class="bl_info"&gt; &lt;div class="line"&gt; &lt;div class="tit"&gt; CHIPSET CURRENT &lt;/div&gt; &lt;div class="tty"&gt;' &gt;&gt; /var/www/index.html; sensors -u | grep "temp1_input" | sed 's/temp1_input://' | sed 's/ *//g' | sed 's/\.000//' &gt;&gt; /var/www/index.html; echo ' &lt;/div&gt; &lt;/div&gt; &lt;div class="line"&gt; &lt;div class="tit"&gt; CHIPSET CRITICAL &lt;/div&gt; &lt;div class="tty"&gt;' &gt;&gt;/var/www/index.html; sensors -u | grep "temp1_crit" | sed 's/temp1_crit://' | sed 's/ *//g' | sed 's/\.000//' &gt;&gt; /var/www/index.html; echo ' &lt;/div&gt; &lt;/div&gt; &lt;div class="line"&gt; &lt;div class="tit"&gt; CORE1 CURRENT &lt;/div&gt; &lt;div class="tty"&gt;' &gt;&gt; /var/www/index.html; sensors -u | grep "temp2_input" | sed 's/.*: //' | sed 's/.000//' &gt;&gt; /var/www/index.html; echo ' &lt;/div&gt; &lt;/div&gt; &lt;div class="line"&gt; &lt;div class="tit"&gt; CORE1 CRITICAL &lt;/div&gt; &lt;div class="tty"&gt;' &gt;&gt; /var/www/index.html; sensors -u | grep "temp2_crit:" | sed 's/.*: //' | sed 's/.000//' &gt;&gt; /var/www/index.html; echo ' &lt;/div&gt; &lt;/div&gt; &lt;div class="line"&gt; &lt;div class="tit"&gt; CORE2 CURRENT &lt;/div&gt; &lt;div class="tty"&gt;' &gt;&gt; /var/www/index.html; sensors -u | grep "temp3_input" | sed 's/.*: //' | sed 's/.000//' &gt;&gt; /var/www/index.html; echo ' &lt;/div&gt; &lt;/div&gt; &lt;div class="line"&gt; &lt;div class="tit"&gt; CORE2 CRITICAL &lt;/div&gt; &lt;div class="tty"&gt;' &gt;&gt; /var/www/index.html; sensors -u | grep "temp3_crit:" | sed 's/.*: //' | sed 's/.000//' &gt;&gt; /var/www/index.html; echo ' &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;!--HDD BEGINS HERE--&gt; &lt;div class="block" id="HDD"&gt; &lt;div class="bl_head"&gt; HDD &lt;/div&gt; &lt;div class="bl_info"&gt;' &gt;&gt; /var/www/index.html; df -a -h &gt; /var/www/tmp; perl /var/www/scr.pl; echo ' &lt;/div&gt; &lt;/div&gt; &lt;!--RAM BEGINS HERE--&gt; &lt;div class="block" id="RAM"&gt; &lt;div class="bl_head"&gt; RAM &lt;/div&gt; &lt;div class="bl_info"&gt;' &gt;&gt; /var/www/index.html; free -l -h &gt; /var/www/tmp; perl /var/www/scr.pl; echo '&lt;/div&gt;&lt;/div&gt; &lt;!--NETWORK BEGINS HERE--&gt; &lt;div class="block" id="net"&gt; &lt;div class="bl_head"&gt; NETWORK &lt;/div&gt; &lt;div class="bl_info"&gt;' &gt;&gt; /var/www/index.html; ifconfig &gt; /var/www/tmp; perl /var/www/scr.pl; echo ' &lt;/div&gt; &lt;/div&gt; &lt;!--PROC BEGINS HERE--&gt; &lt;div class="block" id="PROC"&gt; &lt;div class="bl_head"&gt; PROC &lt;/div&gt; &lt;div class="bl_info"&gt;' &gt;&gt; /var/www/index.html; top -n1 -b &gt; /var/www/tmp; perl /var/www/scr.pl; echo ' &lt;/div&gt; &lt;/div&gt;' &gt;&gt; /var/www/index.html; #footer, closing "content" div and finishing DOM tree echo '&lt;/div&gt; &lt;/body&gt; &lt;/html&gt;' &gt;&gt; /var/www/index.html; notify-send "KANSATSU" "Report has been updated";</span></span></code> </pre><br><br>  We see redirection of the echo output stream in abundance.  So it turns out the pattern.  To fill the template, use the same output stream redirection system for regular commands.  If we look in more detail, we will see the following: <br><pre> <code class="bash hljs">hostname &gt;&gt; /var/www/index.html; uptime | sed <span class="hljs-string"><span class="hljs-string">'s/,.*//'</span></span> | sed <span class="hljs-string"><span class="hljs-string">'s/.*up //'</span></span> &gt;&gt; /var/www/index.html; date &gt;&gt; /var/www/index.html; uname -s &gt;&gt; /var/www/index.html; uname -r &gt;&gt; /var/www/index.html; uname -m &gt;&gt; /var/www/index.html; uname -p &gt;&gt; /var/www/index.html; uname -i &gt;&gt; /var/www/index.html; uname -o &gt;&gt; /var/www/index.html; iostat -h -x &gt; /var/www/tmp; perl /var/www/scr.pl; sensors -u | grep <span class="hljs-string"><span class="hljs-string">"temp1_input"</span></span> | sed <span class="hljs-string"><span class="hljs-string">'s/temp1_input://'</span></span> | sed <span class="hljs-string"><span class="hljs-string">'s/ *//g'</span></span> | sed <span class="hljs-string"><span class="hljs-string">'s/\.000//'</span></span> &gt;&gt; /var/www/index.html; sensors -u | grep <span class="hljs-string"><span class="hljs-string">"temp1_crit"</span></span> | sed <span class="hljs-string"><span class="hljs-string">'s/temp1_crit://'</span></span> | sed <span class="hljs-string"><span class="hljs-string">'s/ *//g'</span></span> | sed <span class="hljs-string"><span class="hljs-string">'s/\.000//'</span></span> &gt;&gt; /var/www/index.html; sensors -u | grep <span class="hljs-string"><span class="hljs-string">"temp2_input"</span></span> | sed <span class="hljs-string"><span class="hljs-string">'s/.*: //'</span></span> | sed <span class="hljs-string"><span class="hljs-string">'s/.000//'</span></span> &gt;&gt; /var/www/index.html; sensors -u | grep <span class="hljs-string"><span class="hljs-string">"temp2_crit:"</span></span> | sed <span class="hljs-string"><span class="hljs-string">'s/.*: //'</span></span> | sed <span class="hljs-string"><span class="hljs-string">'s/.000//'</span></span> &gt;&gt; /var/www/index.html; sensors -u | grep <span class="hljs-string"><span class="hljs-string">"temp3_input"</span></span> | sed <span class="hljs-string"><span class="hljs-string">'s/.*: //'</span></span> | sed <span class="hljs-string"><span class="hljs-string">'s/.000//'</span></span> &gt;&gt; /var/www/index.html; sensors -u | grep <span class="hljs-string"><span class="hljs-string">"temp3_crit:"</span></span> | sed <span class="hljs-string"><span class="hljs-string">'s/.*: //'</span></span> | sed <span class="hljs-string"><span class="hljs-string">'s/.000//'</span></span> &gt;&gt; /var/www/index.html; df -a -h &gt; /var/www/tmp; perl /var/www/scr.pl; free -l -h &gt; /var/www/tmp; perl /var/www/scr.pl; ifconfig &gt; /var/www/tmp; perl /var/www/scr.pl; top -n1 -b &gt; /var/www/tmp; perl /var/www/scr.pl; notify-send <span class="hljs-string"><span class="hljs-string">"KANSATSU"</span></span> <span class="hljs-string"><span class="hljs-string">"Report has been updated"</span></span>;</code> </pre><br>  This is the skeleton of our system.  We can say that in this form it is a console version for liks2, for example.  Consider the commands and give comments: <br>  hostname returns the name of the host for which information is being collected. <br>  uptime returns the system uptime.  In our case, it goes along the assembly line to sed, a string editor, where we extract only digits from the exhaust command of the replacement command: hours and minutes. <br>  uname with various parameters - general information about the machine: architecture of iron, processor, core, OS ... <br>  The iostat with the -x option gives an extended description of the I / O operation.  The key -h promises to make the output readable. <br>  The sensors return the temperature of my two cores and the temperature of the mother.  The -u switch gives an extended output, then the exhaust goes along the conveyor to grep, which allows you to select one line from the entire output with the substring entered, then in sed, where we again remove the extra characters with regexp.  I have only three sensors, therefore I display 6 lines: current and critical temperatures. <br>  df will tell us about the hard disk, with the -a flag - about all partitions, with the -h flag will allow the person to disassemble the exhaust. <br>  free - a report on memory usage.  Here with flags for easy output and full report. <br>  ifconfig - full report on all network interfaces.  I took it as is. <br>  top displays in the infinite loop the most voracious processes.  I used the -b flag to output to the file, which removes special characters and with the -n1 flag ‚Äî I specify the number of readings.  It should be noted that with such a set of flags I received a list of all processes.  If we consider that sometimes you need to see who is doing what on a remote machine, it is easily tracked by this list. <br>  And finally, notify-send gives a system message about a successful report update. <br><br><h4>  Perl script </h4><br>  And no one kept silent about anything!  Just for this you need a separate topic.  I installed everything on divas and did not want to use a single table.  In cases when I received a single value from the utility, I packed its description and the value itself into two diva in one line.  All the columns, everything is beautiful.  But now I get whole tables at the output.  I could put them in html as is, using the pre tag, thereby retaining the original formatting.  But in this case, the long tables will be unreadable, because for the hover div event of the line, which is each row, I have the highlight of the entire row set so that I don‚Äôt have to apply a ruler to the monitor or move the cursor along the row to the desired column.  It is entirely personal that this trend should continue.  For this, in fact, I made the following knight's move: if you take a closer look, wherever perl is used, the line above, the exhaust is not directed to html, but to / var / www / tmp.  This is a text file.  The pearl script should read this file line by line and ‚Äúdress‚Äù each line in a div, then spit it out in html.  Well, it is said - done: <br><pre> <code class="perl hljs"><span class="hljs-comment"><span class="hljs-comment">#! perl -w open (STREAM_IN, '/var/www/tmp');# || die "Can't open STREAM_IN\n"; open (STREAM_OUT, '&gt;&gt; /var/www/index.html');# || die "Can't open STREAM_OUT\n"; $s1 = '&lt;div class="line"&gt;'; $s2 = '&lt;/div&gt;'; while ($curr = &lt;STREAM_IN&gt;) { chomp($curr); $curr=~s/\s/\ /g; $out = $s1.$curr.$s2; print (STREAM_OUT $out); }; close STREAM_IN; close STREAM_OUT;</span></span></code> </pre><br><br>  From the code it is clear that we take a line, cut off the newline character, change spaces to codes (the table is formed by the console with spaces, if you give them in html as is - there will be porridge).  Statically set the auxiliary lines and concatenated we get one line that is appended to the end of the html report.  From the script code on BASH it is clear that echo follows after similar constructions, which hurries to close the divas. <br><br>  Such a script works with any contents of the same file and records it to the end of another file.  I always send the output of the table to a temporary file on the PER record, it clears itself, then the script is called, which this output leads to a common template and DRAWS to html.  One script for all times). <br><br><h4>  Additional files, final touches </h4><br>  It is clear that you need to write a style sheet.  I pursued the principle of KISS, I wanted maximum functionality and minimum workload.  I chose the following solution: on the left there will be fixed links to each report block, and the report itself will be scrolled on the right. <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">html</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>:<span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>:<span class="hljs-number"><span class="hljs-number">100%</span></span> } <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>:<span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>:<span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>:<span class="hljs-number"><span class="hljs-number">0px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:<span class="hljs-number"><span class="hljs-number">#000</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">font-family</span></span>:Arial; <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>:<span class="hljs-number"><span class="hljs-number">14px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>:<span class="hljs-number"><span class="hljs-number">#FFF</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.leftline</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>:<span class="hljs-number"><span class="hljs-number">210px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">overflow</span></span>:hidden; <span class="hljs-attribute"><span class="hljs-attribute">float</span></span>:left; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>:<span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>:fixed; <span class="hljs-attribute"><span class="hljs-attribute">top</span></span>:<span class="hljs-number"><span class="hljs-number">0px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>:<span class="hljs-number"><span class="hljs-number">0px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.header</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>:<span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">float</span></span>:none; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(logo.png) top left no-repeat; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>:<span class="hljs-number"><span class="hljs-number">160px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.leftmenu</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>:<span class="hljs-number"><span class="hljs-number">0px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.leftmenu</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">li</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>:<span class="hljs-number"><span class="hljs-number">200px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>:<span class="hljs-number"><span class="hljs-number">30px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>:<span class="hljs-number"><span class="hljs-number">#000</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>:<span class="hljs-number"><span class="hljs-number">24px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">line-height</span></span>:<span class="hljs-number"><span class="hljs-number">1.3</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">float</span></span>:none; <span class="hljs-attribute"><span class="hljs-attribute">margin</span></span>:<span class="hljs-number"><span class="hljs-number">10px</span></span> <span class="hljs-number"><span class="hljs-number">10px</span></span> <span class="hljs-number"><span class="hljs-number">10px</span></span> <span class="hljs-number"><span class="hljs-number">0px</span></span> ; <span class="hljs-attribute"><span class="hljs-attribute">text-align</span></span>:right; <span class="hljs-attribute"><span class="hljs-attribute">padding-right</span></span>:<span class="hljs-number"><span class="hljs-number">10px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">list-style</span></span>:none } <span class="hljs-selector-class"><span class="hljs-selector-class">.leftmenu</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">li</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:hover</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>:<span class="hljs-number"><span class="hljs-number">#FF0000</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:<span class="hljs-number"><span class="hljs-number">#FFF</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">text-decoration</span></span>:none; } <span class="hljs-selector-class"><span class="hljs-selector-class">.content</span></span> { } <span class="hljs-selector-class"><span class="hljs-selector-class">.block</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">float</span></span>:none; <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>:<span class="hljs-number"><span class="hljs-number">20px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin-left</span></span>:<span class="hljs-number"><span class="hljs-number">250px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin-right</span></span>:<span class="hljs-number"><span class="hljs-number">50px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border-left</span></span>:<span class="hljs-number"><span class="hljs-number">2px</span></span> black solid; } <span class="hljs-selector-class"><span class="hljs-selector-class">.bl_head</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:<span class="hljs-number"><span class="hljs-number">#fff</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>:<span class="hljs-number"><span class="hljs-number">#000</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>:<span class="hljs-number"><span class="hljs-number">10px</span></span> <span class="hljs-number"><span class="hljs-number">0px</span></span> <span class="hljs-number"><span class="hljs-number">10px</span></span> <span class="hljs-number"><span class="hljs-number">10px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.bl_info</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:<span class="hljs-number"><span class="hljs-number">#000</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">padding-left</span></span>:<span class="hljs-number"><span class="hljs-number">10px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">padding-top</span></span>:<span class="hljs-number"><span class="hljs-number">5px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.line</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>:block; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>:<span class="hljs-number"><span class="hljs-number">20px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">cursor</span></span>:default; } <span class="hljs-selector-class"><span class="hljs-selector-class">.line</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:hover</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>:red; } <span class="hljs-selector-class"><span class="hljs-selector-class">.tit</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>:<span class="hljs-number"><span class="hljs-number">200px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">float</span></span>:left; } <span class="hljs-selector-class"><span class="hljs-selector-class">.tty</span></span> { }</code> </pre><br><br>  By code - that's it.  You need only 2 more files and set permissions.  The first file is the logo itself.  Half an hour GIMP'a and voila!  The second file is the temporary one.  I called it tmp.  I threw all this into one big pile into the / var / www directory.  Next, set the file permissions.  While this version is in debug, I decided to do a generous act: <br><pre> <code class="bash hljs">sudo chmod 777 /var/www/index.html sudo chmod 777 /var/www/tmp sudo chmod 777 /var/www/scr.pl sudo chmod 777 /var/www/style.css</code> </pre><br>  Actually, sisiema is ready for use.  But there is one thing: you will have to update with your hands.  For debugging, I registered a new alias in bashrts.  I called the system itself Kansatsu, which means "observation."  Therefore, the alias looks like this: <br> <code>alias kansatsu="sh /var/www/kansatsu.sh" <br></code> <br><br><h4>  Automation </h4><br>  It‚Äôs no big deal to have such a powerful OS on hand and do something with your hands.  Here we are rescued by the good old crowns. <br><pre> <code class="bash hljs">crontab -e</code> </pre><br><img src="https://habrastorage.org/storage2/f55/aa0/53f/f55aa053f70e2a6fb44e3eedbeada9b7.png"><br>  As you can see, I put the update on every five minutes.  Thanks to libnotify, I get reports: <br><img src="https://habrastorage.org/storage2/9a2/f29/caf/9a2f29cafdd5ce01d254b46500e9c786.png"><br>  The web interface is as follows: <br><img src="https://habrastorage.org/storage2/279/aec/30d/279aec30d2d79174c3a3ffa9263ed441.png"><br>  Everything is as described: a fixed panel on the left, the rest with a margin on the right side is dynamically scaled, information is divided into blocks, row highlighting. <br>  The project is open-source, if you want - improve, use, praise RMS. </div><p>Source: <a href="https://habr.com/ru/post/165171/">https://habr.com/ru/post/165171/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../165157/index.html">We measure the open source resource of a person with github</a></li>
<li><a href="../165159/index.html">How to create a load test using Apache Jmeter</a></li>
<li><a href="../165161/index.html">Moin-moin hacks</a></li>
<li><a href="../165165/index.html">Self-mapping of C ++ classes to JVM via JNI</a></li>
<li><a href="../165167/index.html">The end of an era. Sony discontinues PlayStation 2</a></li>
<li><a href="../165173/index.html">Unbanal way to fix hardware error</a></li>
<li><a href="../165175/index.html">Futubra closes</a></li>
<li><a href="../165181/index.html">Runetology (180): Victor Kozlov, co-founder of Reksoft, Ozon, ASSIST, CleverPumpkin</a></li>
<li><a href="../165185/index.html">Introduction to HDInsight</a></li>
<li><a href="../165189/index.html">Windows Messenger merges into Skype</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>