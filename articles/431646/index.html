<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>DataGrip 2018.3: Cassandra support, generating SQL files from objects, many improvements in auto-completion, and much more.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! This is a story about what's new in our database plugin. We release it as a separate DataGrip product, and deliver to almost all of our other I...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>DataGrip 2018.3: Cassandra support, generating SQL files from objects, many improvements in auto-completion, and much more.</h1><div class="post__text post__text-html js-mediator-article">  Hello!  This is a story about what's new in our database plugin.  We release it as a separate <a href="https://www.jetbrains.com/datagrip/download/">DataGrip</a> product, and deliver to almost all of our other IDEs.  There will be a lot of pictures and gifs.  For those who are too lazy to watch them: <br><br><ul><li>  Cassandra support </li><li>  Creating SQL files from schema objects </li><li>  New inspections </li><li>  Many new pieces in autocompletion </li><li>  Work with data source through one connection </li><li>  New search </li><li>  High contrast color scheme </li></ul><br>  Thanks to those who try EAP-versions and report problems to our tracker: it helps not to drag them to release :) Active users have already received free subscriptions for a year. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7d7/200/def/7d7200defaf72ff2c91ecb0369f05473.png" alt="image"><br><a name="habracut"></a><br><h2>  Cassandra support </h2><br>  Slowly mastering NoSQL database.  So far, only those that use SQL-like languages ‚Äã‚Äãfor queries.  We supported Clickhouse in <a href="https://blog.jetbrains.com/datagrip/2018/08/15/datagrip-2018-2-2-clickhouse-support-and-bugfixes/">2018.2.2</a> , and in this release we added Cassandra. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/webt/m2/fv/o2/m2fvo2_xobkuvbouhvobfkkzmc4.png"><br><br><h2>  Autocompletion </h2><br>  There are a lot of new things in this subsystem. <br><br>  Added the ability to insert <b>pseudonyms automatically</b> after table names.  If the nickname proposed by us does not suit you, indicate which nicknames to use for specific names. <br><br><img src="https://habrastorage.org/webt/l5/uh/vn/l5uhvnebr7kq3itddncsgipqqam.png"><br><br>  As a result, it works like this: <br><br><img src="https://habrastorage.org/webt/bc/s3/xh/bcs3xh8_1zvctd9uonimpuryac4.gif"><br><br>  When using <em>GROUP BY,</em> DataGrip will suggest a list of <b>non-aggregated columns</b> . <br><br><img src="https://habrastorage.org/webt/cl/js/km/cljskmk7m4auwoix20scmberrei.png"><br><br>  The SELECT clause provides a <b>list of all columns</b> . <br><br><img src="https://habrastorage.org/webt/ui/vr/hj/uivrhjy_wrqute399_aqpfqaxh0.png"><br><br>  Autocompletion works for <b>named parameters</b> . <br><br><img src="https://habrastorage.org/webt/w_/zp/6r/w_zp6rhqz-j95rjxxi7nf0qy3be.png"><br><br>  Also added <b>contextual</b> information for identical names. <br><br><img src="https://habrastorage.org/webt/t6/ps/bn/t6psbnoabtt2uds7cctzoiyxqa4.png"><br><br>  Finally, we made a <b>postfix completion</b> : this is when something related to the object is written through a dot. <br><br><img src="https://habrastorage.org/webt/ww/do/mx/wwdomxv5ug1mjdut-vqwh82zhhi.png"><br><br>  For example, if after <em>SELECT you</em> write the name of the Table.afrom, it will open into the list of columns and the <em>FROM clause</em> .  Or, in our opinion the most convenient, you can add .cast to the column or variable. <br><br>  It is better to see once: <br><br><img src="https://habrastorage.org/webt/ax/mm/so/axmmsolvtg9kkakrq7tvhwptkys.gif"><br><br>  Auto-completion has become better for <b>window functions</b> : OVER () is automatically added and the carriage is put in the right place. <br><br><img src="https://habrastorage.org/webt/-z/1f/1z/-z1f1zqtaznljuijzwjbojo8z5g.gif"><br><br><h2>  Refactoring </h2><br>  An important thing that it was time to do was to <strong>use a pseudonym instead of a table.</strong>  Click on the table Alt + Enter ‚Üí Introduce alias.  The uses of the table will be replaced by pseudonyms. <br><br><img src="https://habrastorage.org/webt/2f/_b/cy/2f_bcy-ysfzl4aqkymkcqs-hzui.gif"><br><br>  After the previous release, we received detailed feedback from <a href="https://habr.com/users/speshuric/" class="user_link">speshuric</a> .  For example, he found a lot of unobvious scripts for <strong>Extract subquery as a CTE.</strong>  This refactoring is called via the menu <em>Refactor ‚Üí Extract ‚Üí Subquery as CTE</em> , but we advise you to get used to <strong>Find Action</strong> <em>(Ctrl + Shift + A).</em> <br><br><img src="https://habrastorage.org/webt/5i/xl/tc/5ixltcxg3j0jn5iakzvutf8xpg8.gif"><br><br>  What we did: <br><br>  - The new name for the CTE does not conflict with the existing ones: <a href="https://youtrack.jetbrains.com/issue/DBE-6496">DBE-6496</a> <br>  - Correctly determine the context if the request is wrapped in another expression: <a href="https://youtrack.jetbrains.com/issue/DBE-6503">DBE-6503</a> , <a href="https://youtrack.jetbrains.com/issue/DBE-6517">DBE-6517</a> <br>  - We do not offer refactoring in case of <em>AS TableName</em> : <a href="https://youtrack.jetbrains.com/issue/DBE-6490">DBE-6490</a> <br>  - Supported for MySQL 8. <br>  - Works as it should with deep subqueries.  <a href="https://youtrack.jetbrains.com/issue/DBE-7332">DBE-7332</a> , <a href="https://youtrack.jetbrains.com/issue/DBE-7333">DBE-7333</a> <br><br><h2>  Code generation </h2><br>  Code templates can be <b>tied to dialects</b> - a template can work for some bases, and not work for others. <br><br><img src="https://habrastorage.org/webt/fz/wo/up/fzwoupfmsr31mrhwug7-z6w8pau.png"><br><br>  What is more important: the same template can generate different code for different databases.  To do this, create template groups for each dialect, because the same template names are not supported within the same group (by default, we store templates in the SQL group). <br><br>  For example, we want to create a template to pull out the first n rows from the table.  In postgreSQL and SQL Server, a different syntax is used for this, and we will always use the <code>seln</code> template.  Accordingly, implement the two patterns in two different groups and assign them the appropriate dialects. <br><br><img src="https://habrastorage.org/webt/ka/py/g6/kapyg6glqiejll_xtatkg49rmi4.png"><br><br>  It turns out like this: <br><br><img src="https://habrastorage.org/webt/mx/r0/og/mxr0og5v5ofyd_crb8cy4jr4g0k.gif"><br><br>  From the SELECT clause you can now <b>generate the creation of a table</b> with the same signature.  To do this, press <em>Alt + Enter ‚Üí Create table definition</em> <br><br><img src="https://habrastorage.org/webt/b0/dy/39/b0dy39hiv93xp3yyfmjs0gggoyc.gif"><br><br>  And a small fix for the <em>INS</em> template - <b>hints for column names are</b> shown automatically. <br><br><img src="https://habrastorage.org/webt/3j/wh/h9/3jwhh945axy4kqjtfojp6edfnue.gif"><br><br><h2>  Code analysis </h2><br>  Added inspections about <b>unsafe</b> <em>DELETE</em> and <em>UPDATE</em> - we warn you that you will lose data. <br><br><img src="https://habrastorage.org/webt/sr/ot/6m/srot6mchw2c2asypczuz2heeuyg.png"><br><br><img src="https://habrastorage.org/webt/da/c8/9g/dac89gfmhvopqv3w8zoljhjh9-4.png"><br><br>  And if you run, specify :) <br><br><img src="https://habrastorage.org/webt/br/q_/yp/brq_yppwh3c-c2x8sgrweuhucvi.png"><br><br>  Another inspection will find unused <b>columns from the subquery</b> . <br><br><img src="https://habrastorage.org/webt/zu/hs/ex/zuhsexruai52rdfwprdhtjlt8pg.png"><br><br>  And the other is <b>unused code.</b> <br><br><img src="https://habrastorage.org/webt/w5/lf/zo/w5lfzoypwclgnjheivs10qaa8f8.png"><br><br><h2>  Database objects </h2><br>  SQL Generator ( <em>Ctrl / Cmd + Alt + G</em> ) learned <b>to write the results to a file</b> : to do this, click the <a href="">Save</a> button. <br><br>  By default, there are two ways to organize files, but if you need any more, write in the comments. <br><br><img src="https://habrastorage.org/webt/xa/1o/bm/xa1obmastdtbkrl8_eiw_c_lr5o.png"><br><br>  Or right now, if you click on the pencil on the right, you can edit the corresponding groovy scripts.  Or create your own. <br><br><img src="https://habrastorage.org/webt/su/3_/f5/su3_f5atf8qsd0h7zzoumvfglem.png"><br><br>  Supported <b>extensions</b> in PostgreSQL. <br><br><img src="https://habrastorage.org/webt/sg/6q/gq/sg6qgqza-eqmnpnq4scrcjyndl0.png"><br><br>  We show <b>statistics</b> in the information window for the data source (Ctrl + Q for Windows / Linux, F1 for OSX), including the number of different objects. <br><br><img src="https://habrastorage.org/webt/xr/k7/eh/xrk7ehuq4p__lb2lbw_ju_le0iy.png"><br><br>  And when generating code to remove an object, the option <em>' <b>Use drop cascade syntax</b> ' was</em> added. <br><br><img src="https://habrastorage.org/webt/vp/el/co/vpelcoi30jkfesg9g4wkjdwv7io.png"><br><br><h2>  Compound </h2><br>  Prior to the current version, each new console meant a new connection.  Other things that did not require the console also created separate connections: running scripts, importing, graphical interface for creating tables.  In 2018.3, if you enable <em>Single connection mode</em> in the properties of the data source, all work with it will occur through one connection. <br><br>  As a result, temporary objects will appear in the tree, and also consoles and data editors will work within a single transaction.  This is the first step to complete connection management, which we are going to do. <br><br><img src="https://habrastorage.org/webt/gw/ab/os/gwaboszfznthnygnebyt7ldfq5m.png"><br><br>  They also made it so that the IDE itself <a href="https://youtrack.jetbrains.com/issue/DBE-5294">reconnects</a> after idle time. <br><br><h2>  Search and navigation </h2><br>  The IntelliJ platform introduced a <b>new search</b> : it combined different types of search that were separate: <em>Search Everywhere</em> , <em>Find Action</em> , <em>Go to table / view / procedure /</em> , <em>Go to File</em> and <em>Go to Symbol</em> .  In DataGrip, the second tab is called Tables, and in other IDEs, the Classes.  But it does the same thing: it searches for both database objects and classes.  Tab key toggles tabs. <br><br>  We seriously did not change the search algorithms: if suddenly you had looked for something well before, and now it is looking bad, please write. <br><br><img src="https://habrastorage.org/webt/l6/it/6j/l6it6j_iu3ytiexg9uudopgxjwg.png"><br><br>  <b>Several lines at once</b> can now be found in ‚ÄúFind everywhere‚Äù (Find in path).  For SQL it is especially useful - the query is found inside the source of objects. <br><br><img src="https://habrastorage.org/webt/5h/jr/nh/5hjrnhfugtrfcgp60ar4jq3irsi.png"><br><br>  <b>TODO comments</b> can now be multi-line.  To add the following lines to such a comment, separate them with a space from the comment character.  Tasks <em>designed</em> like this fall into the <em>TODO Tool Window</em> . <br><br>  The picture is clearer: <br><br><img src="https://habrastorage.org/webt/yr/8m/k9/yr8mk92b3tufqrgy4vjngvyr134.png"><br><br><h2>  Interface </h2><br>  New color scheme - very contrast. <br><br><img src="https://habrastorage.org/webt/xg/ti/xw/xgtixwjyzfwg_evvammmu3amb1s.png"><br><br>  Switch schemes like this: Press <em>Ctrl + `and select</em> Look and Feel. <br><br>  A menu appears to <b>select the color of the data source</b> in its properties window. <br><br><img src="https://habrastorage.org/webt/wb/_c/ec/wb_cecpkuyx0_ltqxow-2v5afnk.png"><br><br>  And a little friendliness was added to the row selection field per page.  Previously, in order for the result to show all the lines, you had to write -1 here :) <br><br>  Now there is a checkbox. <br><br><img src="https://habrastorage.org/webt/gt/mw/p3/gtmwp3q9tusedoe9gizdg8wbtai.png"><br><br>  Everything! <br><br>  ‚Üí <a href="https://www.jetbrains.com/datagrip/whatsnew/">More details here.</a> <br>  ‚Üí <a href="https://www.jetbrains.com/datagrip/download">Download trial for a month</a> <br>  ‚Üí The <a href="https://twitter.com/datagrip">tweeter we read</a> <br>  ‚Üí <a href="">Mail we read</a> <br>  ‚Üí <a href="https://youtrack.jetbrains.com/issues/DBE">Bug Tracker</a> <br><br>  DataGrip command </div><p>Source: <a href="https://habr.com/ru/post/431646/">https://habr.com/ru/post/431646/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../431630/index.html">Laser safety clearly, or why you should not look into the laser beam</a></li>
<li><a href="../431636/index.html">How to celebrate the day of information security</a></li>
<li><a href="../431638/index.html">How we got into the IB department of a large company and started working in it. Diary of two young and promising professionals</a></li>
<li><a href="../431642/index.html">Beekeepers against microcontrollers or about the benefits of errors</a></li>
<li><a href="../431644/index.html">Straight line with TM. v4.0</a></li>
<li><a href="../431648/index.html">NB-IoT: how does it work? Part 2</a></li>
<li><a href="../431650/index.html">Learning Latency: Queuing Theory</a></li>
<li><a href="../431652/index.html">Reservoir Sampling Algorithm</a></li>
<li><a href="../431654/index.html">Trends in programming languages ‚Äã‚Äã2019</a></li>
<li><a href="../431656/index.html">CraSSh: breaking all modern browsers with CSS calculations</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>