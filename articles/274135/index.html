<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Animator - what is it? Why is it needed? Why use it instead of Animation?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! My name is Danil Perevalov, I work as an Android developer at Live Taiping, and today I have the honor to open our blog on Habr√©. The debut mat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Animator - what is it? Why is it needed? Why use it instead of Animation?</h1><div class="post__text post__text-html js-mediator-article">  Hello!  My name is Danil Perevalov, I work as an Android developer at Live Taiping, and today I have the honor to open our blog on Habr√©.  The debut material is devoted to the type of classes Animator.  The article will be useful to those who are just faced with the creation of animations, and those who are not enough already existing knowledge on the subject.  Those who are familiar with the topic for a long time, we strongly ask you to share your experience in the comments. <br><br><h4>  What is Animator? </h4><br>  A bit of history.  Since the launch of the Android platform, there has been a View Animation framework.  It was intended, as the name implies, for animations.  But the performance of the devices at the end of the zero was so low that nobody really thought about the beautiful animations, so the framework was not comfortable and flexible.  He had only four types of animation (TranslateAnimation, AlphaAnimation, ScaleAnimation, RotateAnimation), a class that allows them to be combined (AnimationSet), and the ability to work only with classes inherited from View. <br><br>  In Android 3.0, a much more flexible Property Animation framework has appeared.  He is able to change any available property, and can also work with any classes.  Its main tool is Animator. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Animator is a type of classes designed to change the values ‚Äã‚Äãof a selected object with respect to time.  Roughly speaking, it is a tool for controlling the flow of a given duration, which changes a certain property from the initial value to the final one.  Such a smoothly changing property in animation can be, for example, transparency. <br><br>  The ideological difference between the Animator classes and View Animation is that View Animation changes the ‚Äúview‚Äù of an object without changing the object itself (the exception is using setFillAfter (true), but with this flag the object changes at the end of the animation).  Animator is designed to change the properties of the object itself. <br><br><a name="habracut"></a><br><h4>  Classes inherited from Animator </h4><br>  <i>ValueAnimator (inherited from Animator)</i> <br><br>  In the simplest version, we set this class the type of the variable value, the initial value and the final value, and run it.  In response, we will receive events at the beginning, end, repetition and cancellation of animation, and another two events, which are set separately for pause and change of value.  The change event is perhaps the most important: it will receive a modified value, with which we will change the properties of objects. <br><br>  Look at changing alpha with it: <br><br><pre><code class="java hljs">ValueAnimator animator = ValueAnimator.ofFloat(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); animator.addUpdateListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ValueAnimator.AnimatorUpdateListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onAnimationUpdate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ValueAnimator animation)</span></span></span><span class="hljs-function"> </span></span>{ view.setAlpha((Float) animation.getAnimatedValue()); } }); animator.start();</code> </pre> <br><br>  <i>ObjectAnimator, inherited from ValueAnimator</i> <br><br>  This is a class designed to simplify working with ValueAnimator.  With it, you do not need to manually change any value on the change event ‚Äî you simply give the Animator an object and specify the field you want to change, for example, scaleX.  Using Java Refliction, a setter is searched for this field (in this case, setScaleX. Next, Animator will independently change the value of this field. <br>  Using ObjectAnimator, the alpha change will look like this: <br><br><pre> <code class="java hljs">ObjectAnimator.ofFloat(view, View.ALPHA, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>).start();</code> </pre><br>  The View class has several properties specifically designed for animating with Animator: <br><ul><li>  transparency (View.ALPHA) </li><li>  scale (View.SCALE_X, View.SCALE_Y) </li><li>  rotation (View.ROTATION, View.ROTATION_X, View.ROTATION_Y) </li><li>  position (View.X, View.Y, View.Z) </li><li>  position of the displayed part (View.TRANSLATION_X, View.TRANSLATION_Y, View.TRANSLATION_Z) </li></ul><br><br>  <i>AnimatorSet (inherited from Animator)</i> <br><br>  This is a class that allows you to combine animations in various ways: run simultaneously or sequentially, add delays, etc. <br><br>  <i>ViewPropertyAnimator</i> <br><br>  This is a separate class.  It is not inherited from Animator, but it has the same logic as ObjectAnimator for View, and is designed to easily animate any View without unnecessary problems. <br>  This is how you can change alpha with it: <br><br><pre> <code class="java hljs">view.animate().alphaBy(<span class="hljs-number"><span class="hljs-number">0</span></span>).alpha(<span class="hljs-number"><span class="hljs-number">1</span></span>).start();</code> </pre><br><br><h4>  How we started using Animator </h4><br>  About a year ago I was faced with the task of making an animation when clicking on an element.  Here is this: <br><img src="https://habrastorage.org/files/355/820/622/355820622fb24674b809518a2004ca4e.gif"><br><br>  Not that I haven't done animations before, but they are rarely needed at outsourcing.  Therefore, I google Animation Android.  The first five links described in some detail how animations are made, and I started.  Here is the first result: <br><img src="https://habrastorage.org/files/355/820/622/355820622fb24674b809518a2004ca4e.gif"><br><div class="spoiler">  <b class="spoiler_title">Animation code</b> <div class="spoiler_text"><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">likeAnimation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@DrawableRes </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> icon, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ImageView imageView)</span></span></span><span class="hljs-function"> </span></span>{ imageView.setImageResource(icon); imageView.setVisibility(View.VISIBLE); AlphaAnimation showAlphaAnimation = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AlphaAnimation(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>); showAlphaAnimation.setDuration(SHOW_DURATION); ScaleAnimation showScaleAnimation = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ScaleAnimation(<span class="hljs-number"><span class="hljs-number">0.2f</span></span>, <span class="hljs-number"><span class="hljs-number">1.4f</span></span>, <span class="hljs-number"><span class="hljs-number">0.2f</span></span>, <span class="hljs-number"><span class="hljs-number">1.4f</span></span>, android.view.animation.Animation.RELATIVE_TO_SELF, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>, android.view.animation.Animation.RELATIVE_TO_SELF, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>); showScaleAnimation.setDuration(SHOW_DURATION); AnimationSet showAnimationSet = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AnimationSet(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); showAnimationSet.addAnimation(showAlphaAnimation); showAnimationSet.addAnimation(showScaleAnimation); showAnimationSet.setAnimationListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OnEndAnimationListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onAnimationEnd</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(android.view.animation.Animation animation)</span></span></span><span class="hljs-function"> </span></span>{ ScaleAnimation toNormalScaleAnimation = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ScaleAnimation(<span class="hljs-number"><span class="hljs-number">1.4f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.4f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, android.view.animation.Animation.RELATIVE_TO_SELF, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>, android.view.animation.Animation.RELATIVE_TO_SELF, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>); toNormalScaleAnimation.setDuration(TO_NORMAL_DURATION); toNormalScaleAnimation.setAnimationListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OnEndAnimationListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onAnimationEnd</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(android.view.animation.Animation animation)</span></span></span><span class="hljs-function"> </span></span>{ AlphaAnimation hideAlphaAnimation = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AlphaAnimation(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>); hideAlphaAnimation.setDuration(HIDE_DURATION); ScaleAnimation hideScaleAnimation = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ScaleAnimation(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.2f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.2f</span></span>, android.view.animation.Animation.RELATIVE_TO_SELF, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>, android.view.animation.Animation.RELATIVE_TO_SELF, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>); hideScaleAnimation.setDuration(HIDE_DURATION); AnimationSet hideAnimationSet = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AnimationSet(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); hideAnimationSet.setStartOffset(HIDE_DELAY); hideAnimationSet.addAnimation(hideAlphaAnimation); hideAnimationSet.addAnimation(hideScaleAnimation); hideAnimationSet.setAnimationListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OnEndAnimationListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onAnimationEnd</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(android.view.animation.Animation animation)</span></span></span><span class="hljs-function"> </span></span>{ imageView.setVisibility(View.GONE); } }); imageView.startAnimation(hideAnimationSet); } }); imageView.startAnimation(toNormalScaleAnimation); } }); imageView.startAnimation(showAnimationSet); }</code> </pre><br></div></div><br>  <a href="">Link to code</a> <br><br>  The code turned out to be incomprehensible, which prompted me to search for a different approach in drawing up a sequence of animations.  A solution was found on <a href="http://stackoverflow.com/a/7334539/5451527">StackOveflow</a> .  The idea is to place each successive animation in the AnimationSet in the animation sequence with a shift equal to the sum of the durations of the previous animations.  It turned out much better than it was: <br><img src="https://habrastorage.org/files/935/d70/fd1/935d70fd173c465a9b1876a159bbe983.gif"><br><div class="spoiler">  <b class="spoiler_title">AnimationSet</b> <div class="spoiler_text"><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">likeAnimation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@DrawableRes </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> icon, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ImageView imageView)</span></span></span><span class="hljs-function"> </span></span>{ imageView.setImageResource(icon); imageView.setVisibility(View.VISIBLE); AnimationSet animationSet = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AnimationSet(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); animationSet.addAnimation(showAlphaAnimation()); animationSet.addAnimation(showScaleAnimation()); animationSet.addAnimation(toNormalScaleAnimation()); animationSet.addAnimation(hideAlphaAnimation()); animationSet.addAnimation(hideScaleAnimation()); animationSet.setAnimationListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OnEndAnimationListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onAnimationEnd</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Animation animation)</span></span></span><span class="hljs-function"> </span></span>{ imageView.setVisibility(View.GONE); } }); imageView.startAnimation(animationSet); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Animation </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showAlphaAnimation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ AlphaAnimation showAlphaAnimation = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AlphaAnimation(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>); showAlphaAnimation.setDuration(SHOW_DURATION); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> showAlphaAnimation; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Animation </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showScaleAnimation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ ScaleAnimation showScaleAnimation = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ScaleAnimation( <span class="hljs-number"><span class="hljs-number">0.2f</span></span>, <span class="hljs-number"><span class="hljs-number">1.4f</span></span>, <span class="hljs-number"><span class="hljs-number">0.2f</span></span>, <span class="hljs-number"><span class="hljs-number">1.4f</span></span>, Animation.RELATIVE_TO_SELF, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>, Animation.RELATIVE_TO_SELF, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>); showScaleAnimation.setDuration(SHOW_DURATION); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> showScaleAnimation; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Animation </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toNormalScaleAnimation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ ScaleAnimation toNormalScaleAnimation = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ScaleAnimation( <span class="hljs-number"><span class="hljs-number">1.4f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.4f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, Animation.RELATIVE_TO_SELF, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>, Animation.RELATIVE_TO_SELF, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>); toNormalScaleAnimation.setDuration(TO_NORMAL_DURATION); toNormalScaleAnimation.setStartOffset(SHOW_DURATION); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> toNormalScaleAnimation; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Animation </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hideAlphaAnimation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ AlphaAnimation hideAlphaAnimation = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AlphaAnimation(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>); hideAlphaAnimation.setDuration(HIDE_DURATION); hideAlphaAnimation.setStartOffset(SHOW_DURATION + TO_NORMAL_DURATION + HIDE_DELAY); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> hideAlphaAnimation; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Animation </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hideScaleAnimation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ ScaleAnimation hideScaleAnimation = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ScaleAnimation( <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.2f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.2f</span></span>, Animation.RELATIVE_TO_SELF, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>, Animation.RELATIVE_TO_SELF, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>); hideScaleAnimation.setDuration(HIDE_DURATION); hideScaleAnimation.setStartOffset(SHOW_DURATION + TO_NORMAL_DURATION + HIDE_DELAY); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> hideScaleAnimation; }</code> </pre><br></div></div><br>  <a href="">Link to code</a> <br><br>  The code has become clearer and more readable, but there is one ‚Äúbut‚Äù: it is rather inconvenient to follow the shift for each animation even in such a simple sequence.  If you add a few more steps, it will become an almost impossible task.  Also an important disadvantage of this approach was the strange behavior of the animation: the size of the animated object, for reasons unknown to me, was larger than with the usual sequence of animations.  Attempts to sort things out did not lead to anything, but I didn‚Äôt go deeper any more - I still didn‚Äôt like the approach.  But I decided to develop this idea and split each step into a separate AnimatorSet.  This is what happened: <br><img src="https://habrastorage.org/files/3a3/bc5/a29/3a3bc5a293044c5684722d05bf552be1.gif"><br><div class="spoiler">  <b class="spoiler_title">AnimatorSet in AnimatorSet</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">likeAnimation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@DrawableRes </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> icon, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ImageView imageView)</span></span></span><span class="hljs-function"> </span></span>{ imageView.setImageResource(icon); imageView.setVisibility(View.VISIBLE); AnimationSet animationSet = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AnimationSet(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); animationSet.addAnimation(showAnimationSet()); animationSet.addAnimation(toNormalAnimationSet()); animationSet.addAnimation(hideAnimationSet()); animationSet.setAnimationListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OnEndAnimationListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onAnimationEnd</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Animation animation)</span></span></span><span class="hljs-function"> </span></span>{ imageView.setVisibility(View.GONE); } }); imageView.startAnimation(animationSet); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> AnimationSet </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showAnimationSet</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ AlphaAnimation showAlphaAnimation = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AlphaAnimation(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>); ScaleAnimation showScaleAnimation = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ScaleAnimation( <span class="hljs-number"><span class="hljs-number">0.2f</span></span>, <span class="hljs-number"><span class="hljs-number">1.4f</span></span>, <span class="hljs-number"><span class="hljs-number">0.2f</span></span>, <span class="hljs-number"><span class="hljs-number">1.4f</span></span>, Animation.RELATIVE_TO_SELF, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>, Animation.RELATIVE_TO_SELF, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>); AnimationSet set = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AnimationSet(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); set.addAnimation(showAlphaAnimation); set.addAnimation(showScaleAnimation); set.setDuration(SHOW_DURATION); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> set; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> AnimationSet </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toNormalAnimationSet</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ ScaleAnimation toNormalScaleAnimation = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ScaleAnimation( <span class="hljs-number"><span class="hljs-number">1.4f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.4f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, Animation.RELATIVE_TO_SELF, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>, Animation.RELATIVE_TO_SELF, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>); AnimationSet set = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AnimationSet(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); set.addAnimation(toNormalScaleAnimation); set.setDuration(TO_NORMAL_DURATION); set.setStartOffset(SHOW_DURATION); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> set; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> AnimationSet </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hideAnimationSet</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ AlphaAnimation hideAlphaAnimation = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AlphaAnimation(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>); ScaleAnimation hideScaleAnimation = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ScaleAnimation( <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.2f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.2f</span></span>, Animation.RELATIVE_TO_SELF, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>, Animation.RELATIVE_TO_SELF, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>); AnimationSet set = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AnimationSet(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); set.setDuration(HIDE_DURATION); set.addAnimation(hideAlphaAnimation); set.addAnimation(hideScaleAnimation); set.setStartOffset(SHOW_DURATION + TO_NORMAL_DURATION + HIDE_DELAY); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> set; }</code> </pre><br></div></div><br>  <a href="">Link to code</a> <br><br>  Incorrect animation work, bad approach, everything is bad.  Again, I turned to Google, and came across the fact that Animation is already a Legacy code, that is, outdated and not supported, although it is used. <br>  I realized that you need to make animations completely different.  And in the open spaces of <a href="http://developer.android.com/intl/ru/guide/topics/graphics/prop-animation.html">Android Developers,</a> I came across Animator.  An attempt to make an animation with its help looked like this: <br><img src="https://habrastorage.org/files/d67/ae7/4f2/d67ae74f22d34d0f8da4037229c95cf5.gif"><br><div class="spoiler">  <b class="spoiler_title">Animator</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">likeAnimation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@DrawableRes </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> icon, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ImageView view)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (view != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; !isAnimate) { AnimatorSet set = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AnimatorSet(); set.playSequentially( showAnimatorSet(view), toNormalAnimatorSet(view), hideAnimatorSet(view)); set.addListener(getLikeEndListener(view, icon)); set.start(); } view.animate().alphaBy(<span class="hljs-number"><span class="hljs-number">0</span></span>).alpha(<span class="hljs-number"><span class="hljs-number">1</span></span>).start(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> AnimatorListenerAdapter </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getLikeEndListener</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ImageView view, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> icon)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AnimatorListenerAdapter() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onAnimationStart</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Animator animation)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onAnimationStart(animation); isAnimate = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; view.setVisibility(View.VISIBLE); view.setImageResource(icon); view.setLayerType(View.LAYER_TYPE_HARDWARE, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onAnimationEnd</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Animator animation)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onAnimationEnd(animation); isAnimate = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; view.setVisibility(View.GONE); view.setImageDrawable(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); view.setLayerType(View.LAYER_TYPE_NONE, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); } }; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> AnimatorSet </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showAnimatorSet</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{ AnimatorSet set = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AnimatorSet(); set.setDuration(SHOW_DURATION).playTogether( ObjectAnimator.ofFloat(view, View.ALPHA, <span class="hljs-number"><span class="hljs-number">0f</span></span>, <span class="hljs-number"><span class="hljs-number">1f</span></span>), ObjectAnimator.ofFloat(view, View.SCALE_X, <span class="hljs-number"><span class="hljs-number">0.2f</span></span>, <span class="hljs-number"><span class="hljs-number">1.4f</span></span>), ObjectAnimator.ofFloat(view, View.SCALE_Y, <span class="hljs-number"><span class="hljs-number">0.2f</span></span>, <span class="hljs-number"><span class="hljs-number">1.4f</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> set; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> AnimatorSet </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toNormalAnimatorSet</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{ AnimatorSet set = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AnimatorSet(); set.setDuration(TO_NORMAL_DURATION).playTogether( ObjectAnimator.ofFloat(view, View.SCALE_X, <span class="hljs-number"><span class="hljs-number">1.4f</span></span>, <span class="hljs-number"><span class="hljs-number">1f</span></span>), ObjectAnimator.ofFloat(view, View.SCALE_Y, <span class="hljs-number"><span class="hljs-number">1.4f</span></span>, <span class="hljs-number"><span class="hljs-number">1f</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> set; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> AnimatorSet </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hideAnimatorSet</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{ AnimatorSet set = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AnimatorSet(); set.setDuration(HIDE_DURATION).playTogether( ObjectAnimator.ofFloat(view, View.ALPHA, <span class="hljs-number"><span class="hljs-number">1f</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>), ObjectAnimator.ofFloat(view, View.SCALE_X, <span class="hljs-number"><span class="hljs-number">1f</span></span>, <span class="hljs-number"><span class="hljs-number">0.2f</span></span>), ObjectAnimator.ofFloat(view, View.SCALE_Y, <span class="hljs-number"><span class="hljs-number">1f</span></span>, <span class="hljs-number"><span class="hljs-number">0.2f</span></span>) ); set.setStartDelay(HIDE_DELAY); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> set; }</code> </pre><br></div></div><br>  <a href="">Link to code</a> <br><br>  The animation worked flawlessly, which means that the search can be considered finished.  The only thing you need to remember when working with Animator is whether any Animator is already running for a specific view, because otherwise the old one will continue to execute, as if nothing had happened. <br><br><h4>  Deeper into the animator </h4><br>  I started searching for what else you can do with Animator.  Flight of thought led me to the following: <br><img src="https://habrastorage.org/files/a75/a9b/92a/a75a9b92a0e54275b1c4a92ba499f618.gif"><br><br>  When you press a button, four Animators are simultaneously executed: <br><div class="spoiler">  <b class="spoiler_title">Simultaneous launch</b> <div class="spoiler_text"><pre> <code class="java hljs"> AnimatorSet showHideSet = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AnimatorSet(); showHideSet.playTogether( ScrollAnimatorUtils.translationYAnimator(translationY, footerButtons), ScrollAnimatorUtils.translationYAnimator(translationY, footerText), ScrollAnimatorUtils.scrollAnimator(startScroll, endScroll, scrollView), ScrollAnimatorUtils.alphaAnimator(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, recyclerView) ); showHideSet.start();</code> </pre><br></div></div><br>  1) move down the list footer; <br>  2) move down the buttons; <br><div class="spoiler">  <b class="spoiler_title">translationYAnimator</b> <div class="spoiler_text"><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Animator </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">translationYAnimator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> start, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> end, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> View view, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> duration)</span></span></span><span class="hljs-function"> </span></span>{ ObjectAnimator animator = ObjectAnimator.ofFloat(view, View.TRANSLATION_Y, end); animator.setDuration(duration); animator.addListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AnimatorListenerAdapter() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onAnimationEnd</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Animator animation)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onAnimationEnd(animation); view.setTranslationY(start); } }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> animator; }</code> </pre><br></div></div><br>  3) ScrollView scroll down to the bottom; <br><div class="spoiler">  <b class="spoiler_title">scrollAnimator</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Animator </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scrollAnimator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> start, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> end, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> View view, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> duration)</span></span></span><span class="hljs-function"> </span></span>{ ValueAnimator scrollAnimator = ValueAnimator.ofInt(start, end); scrollAnimator.addUpdateListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ValueAnimator.AnimatorUpdateListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onAnimationUpdate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ValueAnimator valueAnimator)</span></span></span><span class="hljs-function"> </span></span>{ view.scrollTo(<span class="hljs-number"><span class="hljs-number">0</span></span>, (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) valueAnimator.getAnimatedValue()); } }); scrollAnimator.setDuration(duration); scrollAnimator.addListener(getLayerTypeListener(view)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> scrollAnimator; }</code> </pre><br></div></div><br>  4) imposes an alpha effect on recyclerView. <br><div class="spoiler">  <b class="spoiler_title">alphaAnimator</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Animator </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">alphaAnimator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> start, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> end, View view, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> duration)</span></span></span><span class="hljs-function"> </span></span>{ ValueAnimator alphaAnimator = ObjectAnimator.ofFloat(view, View.ALPHA, start, end); alphaAnimator.setDuration(duration); alphaAnimator.addListener(getLayerTypeListener(view)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> alphaAnimator; }</code> </pre><br></div></div><br>  <a href="">Link to the full code</a> <br><br>  This concludes the Animator overview.  If you are aware of some interesting tricks related to Animator - supplement the article with your comments. <br>  Link to the project in Github: <a href="https://github.com/princeparadoxes/AnimationVsAnimator">github.com/princeparadoxes/AnimationVsAnimator</a> </div><p>Source: <a href="https://habr.com/ru/post/274135/">https://habr.com/ru/post/274135/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../274107/index.html">Erlang for web development (2) -> DB and deploy;</a></li>
<li><a href="../274109/index.html">The digest of interesting materials for the mobile developer # 135 (December 21-27)</a></li>
<li><a href="../274117/index.html">The botnet of thousands of hacked Aethra routers was used to attack Wordpress sites</a></li>
<li><a href="../274129/index.html">I want sites to open instantly</a></li>
<li><a href="../274131/index.html">Monitoring Dynamic XML Documents</a></li>
<li><a href="../274137/index.html">Development of digital hardware in C ++ / SystemC through the eyes of the programmer SystemVerilog</a></li>
<li><a href="../274139/index.html">Functional Expressions in JavaScript</a></li>
<li><a href="../274141/index.html">The digest of interesting materials from the world of web development and IT for the last week ‚Ññ191 (December 20 - 27, 2015)</a></li>
<li><a href="../274143/index.html">How to "animate" the product? Lettering</a></li>
<li><a href="../274145/index.html">Highlight interactive maps using jquery.maphilight.js</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>