<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Installation of video surveillance at polling stations</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day. 
 Briefly about yourself: 5th year student of the specialty "Organization and technology of information protection." One day I got a side jo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Installation of video surveillance at polling stations</h1><div class="post__text post__text-html js-mediator-article">  Good day. <br>  Briefly about yourself: 5th year student of the specialty "Organization and technology of information protection."  One day I got a side job - a video surveillance installation at polling stations. <br>  Scrolling through the comments on the <a href="http://habrahabr.ru/blogs/e_gov/139006/">article</a> , I decided to share with the community about technical, and not very technical information about the video surveillance system in the upcoming elections. <br><a name="habracut"></a><br><h4>  Technical part </h4><br>  We started working since January 23.  We worked in teams of 2 people, I and my partner equipped 22 PECs from scratch, and we always came across the following equipment: <br><br><ul><li>  Lenovo Z570 laptop; </li><li>  2 webcams Logitech C510 720p; </li><li>  UPS Ippon Back Power Pro 500; </li><li>  ADLS modems Dlink-2540u / 2500u. </li></ul><br>  Filling laptops: <br><ul><li>  CPU - Intel core i3 second revision; </li><li>  Video - half with integrated Intel video, half with Nvidia discrete graphics card; </li><li>  HDD - 250GB / 320GB; </li><li>  RAM - 2GB; </li></ul><br>  In addition, the bundle included: <br><ul><li>  Metal anti-vandal cabinet (inside there are two double sockets + automatic); </li><li>  Cable Kensington lock or on the key / or code; </li><li>  2 usb passive extension cable - 5m; </li><li>  2 usb active extender - 10m; </li><li>  Surge protector (usual plug, to plug into the ups, you had to cut the plug from the pilot, and twist the wires with the complete plug from the UPS). </li></ul><br>  I also worked in the villages, the situation is the same there, but at some sites the connection was not via a telephone line, but through satellite equipment, and a power supply was provided instead of a modem, through which a twisted pair was connected to a laptop.  Immediately, I would like to say that I don‚Äôt know the details related to satellite equipment, it was installed before my arrival, and a shielded twisted pair cable was brought to the PEC premises.  I only know that satellite equipment was installed by Telecom TZ.  Also, in some areas, the connection was established through the equipment of local third-party providers (they pulled the twisted pair from the modem of the provider). <br><br>  The work began with the fact that we delivered cabinets to objects, often on our own cars.  Then, at best, they communicated with the representative of the election commission, at worst - with the guards / janitor (people also work at the election commission, and everything human is alien to them, <s>laziness and irresponsibility</s> , rest as well), who told where they would be ballot boxes, and tables of members of the election commission.  There were also polling station schemes, but most of them did not coincide with the realities, and the ballot box and voting tables of the election commission that we were interested in were depicted very roughly, without specifying sizes, distances, etc. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Then we installed metal boxes, looked for a telephone box, and learned from telephonists what a pair of ‚Äúours‚Äù (mostly we had to call, although sometimes the telephone operator personally appeared).  And they pulled up to their box ShVVP (220v) from the panel / socket (clings directly to the socket terminals) and telephone 2-wire cable.  Modems were pre-configured for a specific PEC, each box had a label with the PEC number, ip-address, ip gateway. <br><br>  Already at this stage, 70% of the objects had serious shoals from Rostelecom: either an alarm button hung on the issued pair, or there was no connection (no dsl got stuck), or the telephone number on the PEC was not allocated at all.  A separate story with villages where there are rotten telephone lines, 5 parallel telephones on our telephone pair in different houses / schools / clubs, etc. <br><br>  Then, when boxes were set up at all sites, a telephone line was stretched, laptops and webcams were issued (without extension cables).  The task is to go back to the objects again - put the PACKs, turn on the webcams, receive a confirmation code from Moscow. <br><br>  This is where the fun begins. <br><br>  The operating system was already installed on laptops (by the way, not at all, 4 out of 22 turned out to be pristine with free dos :), they themselves had to go through the whole city and change them for others). <br>  The operating system is based on linux-e.  According to my vague suspicions, the graphical shell is based on kde (font rendering is very similar), and the design is under the classic Windows theme, only the buttons are not pressed when pressed, and it is incomprehensibly pressed or the PACK hangs and does not catch pressing.  So it works very interesting. <br><br>  My task for setting up a PACK was as follows: <br><ul><li>  Turn on the laptop; </li><li>  Connect a modem to the laptop; </li><li>  Mark the cameras (there is a drop-down menu under each camera window, where you can choose one of the ‚ÄúUrn‚Äù / ‚ÄúElectoral Commission‚Äù / ‚ÄúVoting counters‚Äù table); </li><li>  Click the "Save" button to the right of the drop-down list with labels; </li><li>  Click the button ‚ÄúAll set.  Request verification code; </li><li>  Wait for the confirmation code, write it down. </li></ul><br><br>  But in fact ... <br><br>  So, everything is connected, press the cherished button to turn on the laptop.  The BIOS greeting is loaded, GRUB (tried to get into its menu by pressing SHIFT - ignoring), and finally - the graphical shell.  All this happens surprisingly quickly enough - 10-15 seconds. <br><br>  I apologize for the quality of the photo, nothing else was at hand. <br><br> <a href=""><img src="https://habrastorage.org/storage2/70f/054/421/70f054421853b1724ee022ba8061ad59.jpg"></a> <br>  <i>Server video receiver lay down to rest (all photos are clickable)</i> <br><br> <a href=""><img src="https://habrastorage.org/storage2/c88/65e/0c8/c8865e0c8479ff812862289936a5d62c.jpg"></a> <br><br>  For my reasons, the registrar here is the server from which the PAC receives information about the number of the election commission, the DVR directly receives the stream from the webcams.  And apparently, the Urn and Commission are recorded on different servers (once half a day from several PECs at the same time they saw a picture from only one camera in technical support, and there was no signal for the second). <br><br>  Just want to tell you about the shell.  In the upper right part of the screen there are three buttons: <br>  ‚ÄúNetwork‚Äù, ‚ÄúOffline Mode‚Äù, ‚ÄúUpdate Software‚Äù <br><br>  Click on the "Network" button: <br><br> <a href=""><img src="https://habrastorage.org/storage2/646/6b3/d9f/6466b3d9f5cf85f04cf915c3046baa0e.jpg"></a> <br><br>  Click "Go to network settings": <br><br> <a href=""><img src="https://habrastorage.org/storage2/2e6/0ce/8b2/2e60ce8b29e8d64ef5f4803550e9c7bb.jpg"></a> <br><br>  Click "Offline mode": <br><br><img src="https://habrastorage.org/storage2/9cc/6cc/d4f/9cc6ccd4fd54880ea8a63bf623c828ae.jpg" alt="image"><br>  I wonder where and how it is going to send the code :) <br><br>  Next, in order to transfer the PAC to offline mode (where there is no connection), you need to enter a 10-digit code to determine the PEC.  Everything. <br><br>  Well, now the shoals begin ... 3-5 minutes later this miracle cannot get an ip-address.  "I can not get the ip-address" "I'm trying to get an ip-address."  Strangely, we rewire the patch cord in our laptop - ip-address is immediately displayed.  Well, okay, waited for the receipt of ip-address, then it communicates with the registrar, and receives the address and number of the PEC, which it happily notifies us.  Then the PAC measures the connection speed, on average 200-1000kbit / s.  On PECs with Telecom-TZ, the speed is about 2 Mbit / s.  Next, get the video encoding scheme.  As for the quality of the picture, the image before February 24 was 320x240, the bitrate 128-256 kbps.  Looking ahead, I will say that on the 25th there was an update that increased the image to 640x480, the bitrate to 512kbit / s for each camera.  And maybe more, but personally I saw only such numbers. <br><br>  It immediately caught my eye that there is an opportunity for both cameras to choose either ‚ÄúUrn‚Äù or ‚ÄúElectoral Commission‚Äù. <br><br><img src="https://habrastorage.org/storage2/7a7/0a5/dc5/7a70a5dc50bad087ac11596537e4b4fb.jpg" alt="image"><br><br>  And in general it is not clear why they made a manual selection of tags.  By the way, for some reason, the first version of the software did not save the tags, or they were not sent to the server, and therefore in Moscow they rejected the request for a confirmation code.  Honestly, it is very enraged.  In technical support (toll-free line) the only answer was to wait, reload, set the labels again, again request the confirmation code, if it didn‚Äôt help, repeat.  ‚ÄúIt happens that only with 5 reboots tags are transmitted‚Äù (c).  By the way, after the reboot, the tags from the cameras get off (only in the first software version). <br><br>  Another point is that there are no status / messages about what the system is doing at the moment.  It can be updated on the sly, if at this moment, on the advice of technical support, turn off the laptop for rebooting, then we get a white screen with a cursor, then it will not boot.  Periodically, at startup, the inscription "I can not boot.  Possible actions: refresh, reload. ‚Äù <br><br>  The confirmation code is issued by Moscow, after the operator opens my PEC, checks the image from the cameras, checks the signatures from the cameras.  If something is wrong (no signatures) - the request is rejected, and everything is new.  By the way, as it turned out later, the delay in the picture from the cameras is 2-5 minutes.  Do I have to say how much time was wasted rebooting the laptop, waiting for the confirmation code (on average 20-40min), receiving a negative answer and repeating all actions? <br><br>  Well, okay, with grief in half got the code - let's go further. <br><br>  After doing this operation on all PECs, we were given uninterruptible power supplies and pilots.  Moreover, the pilot does not have an ‚Äúinput‚Äù suitable for the UPS output, so I had to cut the wires, twist, insulate, connect. <br><br>  When all this was done, they gave usb extension cables, and mounting plates for the cameras.  USB extensions are the cheapest, and as a result, barely alive.  There were badly soldered connectors collapsed, came across broken plastic amplifier housings (on active extenders). <br><br>  Then it turned out that they had released a new version of the software, and now the tags on the cameras were registered tightly.  Those.  one camera, no matter how stuck it into a laptop, will always be labeled ‚ÄúUrn‚Äù, the other is always labeled ‚ÄúElectoral Commission‚Äù.  Changing usb ports does not help, only the physical rearrangement of cameras.  But after the reboot, the tags are no longer confused. <br><br>  Periodically, the authorities called and said that they had to go there and there, the PAK hung there / the camera fell off / the connection was gone, etc.  Yes, laptops often hang, reboot themselves, registrar servers constantly fell, webcams fell off by themselves (one works, and the second red ‚Äúno signal‚Äù red) DHCP fell at one time, you had to manually enter network settings.  A couple of times tech support said ‚Äúservers are in Moscow, go home, today nothing will work‚Äù.  And in the box it is always hot, sometimes even the walls are warm. <br><br><h4>  Organizational part (uninteresting, not necessary to read) </h4><br>  Simultaneously, the registration and signing of acts of acceptance and transfer of equipment.  Here, too, everything is not so simple: often you had to look for / call out the owner of the object, every second refused to sign papers. <br><br>  Totally, 6-7 times we came to every PEC, lost a lot of time because of other people's jambs, waiting for those in charge, waiting for the end of dinner at Rostelecom, lunch at the election commission, lunch at telephone operators. <br><br>  And then we changed the form of the equipment's transfer and acceptance certificates, and the acceptance form for safekeeping was added ... Again, manually fill in all the equipment, serials and two copies.  Again, go around all the PECs.  And the people again eat and refuse to sign. <br><br>  Well, ahead of duty at the PECs on March 4, emergency troubleshooting, and then dismantling the equipment.  As far as I know, on paper it is not yet signed whether the equipment will remain in schools or not. <br><br>  I repeat, maybe, <b>but almost every day the servers fell, so I can‚Äôt imagine how they would sustain the load on March 4</b> .  And the equipment hangs, the connection is broken, the cameras fall off, they only add fuel to the fire. <br><br>  As for the camera viewing angle: at some sites, placing the commission tables, or the camera viewing angle, or the size of the room simply does not allow to capture all the tables of the election commission. <br><br>  I draw your attention to the fact that the equipment issued by Rostelecom was not all at once, but in parts.  In general, and in general, everything was meaningless and merciless.  Organizational issues are poorly thought out, the workflow is not so optimized that there are no words.  After all, the deadlines for the performance of work are slightly more than a month.  By the way, during the work, the car rolled almost 5 thousand kilometers. <br><br>  Thank you all for your attention.  I am pleased to answer your questions in the comments. <br><br>  <b>upd.</b>  March 4, oddly enough, PACKs worked without failures (on my PECs). <br>  On the 6th, an order came from Rostelecom to urgently pick up laptops from certain PECs and bring them to the office.  Apparently not everything went as smoothly as we are told, apparently broadcasting was not recorded from some PECs.  And on the PAKs they demanded to mark the number of the polling station and the assigned ip address.  That's it. </div><p>Source: <a href="https://habr.com/ru/post/139323/">https://habr.com/ru/post/139323/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../139316/index.html">Web development with the ChicagoBoss framework</a></li>
<li><a href="../139319/index.html">AutoTranslate via Skype</a></li>
<li><a href="../13932/index.html">10 Tips for Productive Work at Home</a></li>
<li><a href="../139320/index.html">We overclock the sysadmin's portfolio with free certificates</a></li>
<li><a href="../139322/index.html">AlertDialog setMultiChoiceItems, bug or non-obvious feature</a></li>
<li><a href="../139324/index.html">Cross-compiling Qt-4.8.0 under mingw32 (x86) in Gentoo (x86_64)</a></li>
<li><a href="../139325/index.html">Architectural Flame CouchDB</a></li>
<li><a href="../139326/index.html">Morris.js: beautiful graphics tool with jQuery and Rapha√´l</a></li>
<li><a href="../139328/index.html">What do you need from the forms?</a></li>
<li><a href="../139329/index.html">Stopwatch on CSS3 without pictures, scripts and SMS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>