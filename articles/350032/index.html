<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Additional factors for evaluating spam activity IP / Email addresses in the Anti-Spam / Anti-Fraud API</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="CleanTalk Cloud Anti-Spam in the process of work, collects data on spam activity IP / Email addresses. Based on this data, a spam IP / email database ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Additional factors for evaluating spam activity IP / Email addresses in the Anti-Spam / Anti-Fraud API</h1><div class="post__text post__text-html js-mediator-article">  CleanTalk Cloud Anti-Spam in the process of work, collects data on spam activity IP / Email addresses.  Based on this data, a spam IP / email database is formed.  CleanTalk provides several API methods for working with the data we have. <br><br>  Recently, we added new parameters in the spam checking method and launched two new method APIs: <br><br><ul><li>  the first one is getting the letter code of the country by IP address </li><li>  the second - check the domain for participation in spam ezines </li></ul><br>  But first things first. <br><a name="habracut"></a><br>  <b>Obtaining a letter of the country code by IP address</b> . <br>  This API method returns a two-letter country code (US, UK, CN, etc.) or the full name of Russia by IP address.  Learn more about using <a href="https://cleantalk.org/help/api-ip-info-country-code">the ip_info method</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Checking the domain for participation in spam ezines</b> . <br>  Allows you to check if this domain has been used in spam mailings.  At the moment, the CleanTalk database contains records of 1,383,062 domains. <br><br>  For example, you have a comment, it is on the topic of the article, with quite meaningful text and does not arouse suspicion, but contains a link to a third-party site.  We check the links and find out that the domain is listed in the database, the links were placed on other web sites and the date of their placement approximately coincides with the date of the comment.  It turns out that the comment was used to post a link to a third-party resource. <br><br>  Using this method is useful in recognizing manual spam when all other checks have been passed. <br><br>  You can check the blacklists <a href="https://cleantalk.org/blacklists%3Fblackseo%3D1">manually on the site</a> <br><br>  Learn more about using <a href="https://cleantalk.org/help/api-backlinks-check">the backlinks_check method</a> . <br><br>  <b>Update for spam_check method</b> . <br>  The method allows you to massively check IP / email on the basis of CleanTalk blacklists.  At the moment, the database contains records of 2,808,344 IP and 9,990,835 Email.  The same method allows you to check the IP on a specific date. <br><br>  In addition to the main parameter, as a result of the output, indicating the presence or absence of the database, additional parameters were added: <br><br>  <b>spam_rate</b> - spam activity rating from 0 to 100%.  The parameter is calculated for each IP or email record, as a ratio of blocked requests, to the total number of requests from this IP or email.  As an example, IP has a total of 100 requests, of which the service blocked 97 requests as spam, so spam_rate will be 97%. <br><br>  Why this is important, it gives you the opportunity to establish your own request blocking logic.  Since IP spammers change and at the moment it may belong to a regular user. <br><br>  The following options: <br><br> <code>frequency_time_10m <br> frequency_time_1h <br> frequency_time_24h</code> <br> <br>  Each parameter shows the activity of the checked data for the last 10 minutes, 1 hour and 24 hours, respectively.  Those.  shows the number of requests for a specific time from a specific IP or email.  This is useful in cases where IP or email does not yet have BlackListed status in the database, but have a fairly high activity in a short time.  About what other parameters you can use to protect against spam, you can read in our previous articles: <br><br>  <a href="https://habrahabr.ru/company/cleantalk/blog/282586/">Non-visual methods to protect the site from spam Part 1</a> <br>  <a href="https://habrahabr.ru/company/cleantalk/blog/283300/">Non-visual methods to protect the site from spam Part 2</a> <br>  <a href="https://habrahabr.ru/company/cleantalk/blog/301302/">Non-visual methods to protect the site from spam.</a>  <a href="https://habrahabr.ru/company/cleantalk/blog/301302/">Part 3</a> <br><br>  Sample API data output for test email s@cleantalk.org.  This email is intended for tests, therefore in the parameter ‚Äúupdated‚Äù: ‚Äú2019-03-28 22:07:19‚Äù there is such a date. <br><br><pre> <code class="hljs json">{<span class="hljs-attr"><span class="hljs-attr">"data"</span></span>: {<span class="hljs-attr"><span class="hljs-attr">"s@cleantalk.org"</span></span>: {<span class="hljs-attr"><span class="hljs-attr">"appears"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"frequency_time_10m"</span></span>:<span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"spam_rate"</span></span>:<span class="hljs-string"><span class="hljs-string">"0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"frequency"</span></span>:<span class="hljs-string"><span class="hljs-string">"999"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"frequency_time_24h"</span></span>:<span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"updated"</span></span>:<span class="hljs-string"><span class="hljs-string">"2019-03-28 22:07:19"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"frequency_time_1h"</span></span>:<span class="hljs-literal"><span class="hljs-literal">null</span></span>} } }</code> </pre> <br>  Learn more about using the <a href="https://cleantalk.org/help/api-spam-check">spam_check</a> method. </div><p>Source: <a href="https://habr.com/ru/post/350032/">https://habr.com/ru/post/350032/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../350018/index.html">You may not need Rust to speed up your JS</a></li>
<li><a href="../350022/index.html">FastTrack Training. "Network Basics". "Basics of switching or switches." Part two. Eddie Martin December 2012</a></li>
<li><a href="../350026/index.html">(Non) security monitoring systems: Zabbix</a></li>
<li><a href="../350028/index.html">Code Integrity Protection with PGP. Part 2. Creating a master key</a></li>
<li><a href="../350030/index.html">Searchless method for calculating controller settings using Python</a></li>
<li><a href="../350034/index.html">Service Workers. Web Push and where they live</a></li>
<li><a href="../350038/index.html">Rake when moving to a virtual platform with physical hardware</a></li>
<li><a href="../350040/index.html">Call Tracking Mango Office: under the hood of the service</a></li>
<li><a href="../350042/index.html">Benchmark of Google's new tensor processor for deep learning</a></li>
<li><a href="../350044/index.html">Announcement of Google Summer of Code 2018 for the project radare2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>