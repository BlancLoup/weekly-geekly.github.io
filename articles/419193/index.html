<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Understanding JavaScript Objects</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article, the author, a front-end developer, gave an overview of the main ways of creating, modifying, and comparing JavaScript objects. 


 Ob...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Understanding JavaScript Objects</h1><div class="post__text post__text-html js-mediator-article">  <i>In this article, the author, a front-end developer, gave an overview of the main ways of creating, modifying, and comparing JavaScript objects.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tw/em/rb/twemrbhsfbxmrw7_htw8o4mfzny.jpeg"></div><br>  Objects are one of the basic concepts in JavaScript.  When I began to study them, they seemed to me quite simple: just a couple of keys and values, as described in theory. <br><br>  Only after some time I began to understand that the topic was much more complicated than I thought.  And then I began to study information from various sources.  Some of them gave a good idea of ‚Äã‚Äãthe subject, but I could not see the whole picture at once. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In this post, I tried to cover all aspects of working with objects in JS, not going too deeply into specific details, but also without losing important details that will help you understand the subject and feel more confident during its further study. <br><br>  So let's start with the basics. <br><br><h3>  An object </h3><br>  <b>An object in JavaScript is simply a set of properties, each of which is a key-value pair.</b>  You can refer to the keys using the dot ( <i>obj.a</i> ) or bracket designation ( <i>obj ['a']</i> ). <br><br>  Remember that brackets should be used if the key is: <br><br><ul><li>  is not a valid JavaScript identifier (there is a space in it, a dash, starts with a digit ...) </li><li>  is variable. </li></ul><br>  One of the properties that objects in JS get when they are created is called <i>Prototype</i> , and this is a very important concept. <br><a name="habracut"></a><br><h3>  Prototype </h3><br>  Every object in JavaScript has an internal property called <i>Prototype</i> .  In most browsers, you can refer to it by the symbol <i>__proto__</i> . <br><br>  <i>Prototype</i> is a way to ensure the inheritance of properties in JavaScript.  So you can share the functionality without duplicating the code in memory.  The method works by creating a connection between two objects. <br><br>  Simply put, Prototype creates a pointer from one object to another. <br><br>  <b>Prototype chain</b> <br><br>  Every time JS searches for a property in an object and does not find it directly at the object itself, it checks the presence of the property in the prototype object.  If there is no property in it, then JS will continue the search in the prototype of the associated object.  This will continue until JS finds a suitable property or reaches the end of the chain. <br><br>  Let's look at an example: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cons = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.a = <span class="hljs-number"><span class="hljs-number">1</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b = <span class="hljs-number"><span class="hljs-number">2</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> obj = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> cons(); <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">i</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>  cons.prototype.b = <span class="hljs-number"><span class="hljs-number">3</span></span>; cons.prototype.c = <span class="hljs-number"><span class="hljs-number">4</span></span>;</code> </pre> <br>  <i>cons</i> is a constructor (just a function that can be called using the <i>new</i> operator). <br><br>  On the fifth line, we create a new object ‚Äî a new copy of <i>cons</i> .  Immediately after creation, <i>obj</i> also receives the property of the prototype. <br><br>  And now we add properties ( <i>'b', 'c'</i> ) to the <i>cons</i> object prototype. <br>  Consider <i>obj</i> : <br><br>  <b>obj.a // 1</b> - here everything is as <i>before</i> , <i>obj.a</i> is still equal to 1. <br>  <b>obj.c</b> - <i>obj has</i> no <i>c</i> property!  However, as previously mentioned, JS will now search for it in the prototype <i>obj</i> and return the value 4. <br><br>  And now let's think about what the value of <i>obj.b is</i> and what will it be when we remove <i>obj.b</i> ? <br><br>  <i>Obj.b</i> is equal to 2. We assigned the property <i>b</i> , but we did it for the <i>cons</i> prototype, so when we check <i>obj.b</i> , we still get 2. However, immediately after removing <i>obj.b,</i> JS will not be able to find <i>b</i> at <i>bj</i> , and therefore will continue the search in the prototype and return the value 3. <br><br>  Next, I want to briefly talk about various ways to create an object and a little more about prototypes. <br><br><h3>  Object creation </h3><br>  <b>Object literal:</b> <i>let obj = {a: 1};</i> <br>  We created an object with the following prototype chain: <i>obj ---&gt; Object.prototype ---&gt; null</i> <br>  As you can guess, <i>object.prototype</i> is the prototype of the object, as well as the end of the prototype chain. <br><br>  <b>Object.create ():</b> <i>var newObj = Object.create (obj);</i> <br>  <i>NewObj</i> will have the following prototype chain: <i>newObj ---&gt; obj ---&gt; Object.prototype ---&gt; null</i> <br><br>  <b>Constructor.</b>  As in the example above, the constructor is just a JS function, which allows us to use the <i>new</i> operator to create new instances of it. <br><br>  <b>ES6 classes:</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">rectangle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(height, width) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.height = height; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.width = width; } getArea() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.height * <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.width; } } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> square = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> rectangle(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>);</code> </pre> <br>  <i>Square</i> is an instance of the <i>rectangle</i> constructor, and therefore we can call <i>square.getArea () // 4</i> , <i>square.width</i> , as well as all the functions inherited from <i>object.prototype</i> . <br><br>  Which way is better?  If you plan to create multiple instances, you can use ES6 or Designer.  If you plan to create an object once, it is better to specify a literal, since this is the easiest way. <br><br>  And now, when we learned about <i>prototype</i> and got acquainted with all the ways to create new objects, we can proceed to discuss one of the most confusing moments associated with objects. <br><br><h3>  Comparing and modifying objects </h3><br>  <b>In JavaScript, objects are of reference type.</b> <br><br>  When we create a <i>let</i> object <i>obj = {a: 1};</i>  , the variable <i>obj</i> gets the address in the memory of the object, but not its value!  It is extremely important to understand this difference, because otherwise errors can occur.  When we create another object <i>let newObj = obj</i> , we actually create a <b>pointer</b> to a certain memory area <i>obj</i> , and not a completely new object. <br><br>  This means that by executing <i>newObj.a = 2</i> , we actually change <i>obj</i> so that <i>obj.a</i> becomes equal to 2! <br><br>  This approach easily leads to the appearance of bugs, so many companies work with immutable objects.  Instead of changing an already created object, you will have to create a new object again (a copy of the original) and make changes already in it.  This is how important libraries like Redux work, and in general this is one of the main concepts of functional programming.  You can read more <a href="https://facebook.github.io/immutable-js/">here</a> . <br><br>  <b>Equality</b> <br><br>  It also follows from the above that two objects can never be equal, even if they possess the same properties.  This is due to the fact that JS actually compares the location in the memory of objects, and two objects are never in the same memory cell. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Two distinct objects with the same properties are not equal var fruit = {name: 'apple'}; var fruitbear = {name: 'apple'}; fruit === fruitbear; // return false // here fruit and fruitbear are pointing to same object var fruit = {name: 'apple'}; var fruitbear = fruit; fruit === fruitbear; // return true</span></span></code> </pre><br>  So, you most likely have already wondered how you can compare objects or how to perform various manipulations with objects, given the requirement for their immutability. <br><br>  Consider several possibilities. <br><br>  <b>Object change</b> <br><br>  Suppose it is clear that in a good way we should not change objects, so we want to create a copy of the corresponding object and change its properties.  <i>Object.assign ()</i> comes to the <i>rescue</i> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> obj = { <span class="hljs-attr"><span class="hljs-attr">a</span></span> : <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span> : <span class="hljs-number"><span class="hljs-number">2</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> newObj = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.assign({}, obj,{<span class="hljs-attr"><span class="hljs-attr">a</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>}) <span class="hljs-comment"><span class="hljs-comment">// {a : 2, b : 2 }</span></span></code> </pre> <br>  If we want to change the value of the <i>a</i> property of the <i>obj</i> object, we can use <i>object.assign</i> to create a copy of <i>obj</i> and modify it. <br><br>  In the example, you can see that we first create an empty object, then copy the <i>obj</i> values ‚Äã‚Äãand make our changes, eventually getting a new and ready-to-use object. <br><br>  Please note that this method will not work for deep copying.  Speaking of deep copying, we mean that you need to copy an object with one or more properties. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = {<span class="hljs-attr"><span class="hljs-attr">a</span></span> : <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span> : { <span class="hljs-attr"><span class="hljs-attr">a</span></span> : <span class="hljs-number"><span class="hljs-number">1</span></span> } }; <span class="hljs-comment"><span class="hljs-comment">// b property is an object</span></span></code> </pre> <br>  <i>Object.assign ()</i> copies the properties of an object, so if the value of the property is a pointer to an object, only the pointer is copied. <br><br>  Recursive operation is required for deep copying.  Here you can write a function or simply use the <a href=""><i>_.cloneDeep</i></a> method from the <a href="https://lodash.com/">Lodash</a> library. <br><br>  <b>Comparison of objects</b> <br><br>  There is one cool way to work with objects - a string conversion.  In the following example, we convert both objects into strings and compare them: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(obj1) === <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(obj2)</code> </pre> <br>  This approach is justified, because in the end we compare the strings, which are a pointer to a type-value.  The bad news is that it does not always work, mainly because this or that order of properties of an object is not guaranteed. <br><br>  Another good solution is to use the <i>Lodash _.isEqual</i> method, which performs a deep comparison of objects. <br><br>  And before you finish, let's go over some of the frequently asked questions on the subject of objects.  This will help to dive deeper into the topic and apply the knowledge gained in practice. <br><br>  Try to think about the solution yourself before reading the answer. <br><br><h3>  How to know the length of the object? </h3><br>  To get the answer, you must go through all the properties of the object one by one and count them.  There are several ways to perform this iteration: <br><br><ul><li>  <i>for in</i> .  This method covers all the countable properties of an object and a chain of its prototypes.  We met with the prototype (and, I hope, learned the material), so it should be clear that the use of <i>for in</i> will not always be correct for obtaining the properties of the object. </li><li>  <i>Object.keys</i> .  This method returns an array with the keys of all <b>its own</b> (belonging to the specified object) <b>counting</b> properties.  This approach is better, since we only work on the properties of the object, not referring to the properties of the <i>prototype</i> .  However, there are situations when you <i>set the enumerable</i> attribute of a property to false, and <i>object.keys</i> eventually misses it, and you get an incorrect result.  This happens rarely, but in such cases, <i>getOwnPropertyNames</i> will be very useful. </li><li>  <i>getOwnPropertyNames</i> returns an array containing all the object's <b>own</b> keys (both countable and uncountable). </li></ul><br>  Also worth mentioning are: <br><br><ul><li>  <i>Object.values ‚Äã‚Äãenumerates</i> its own countable properties and returns an array with the appropriate <b>values</b> . </li><li>  <i>Object.entries enumerates</i> its own countable properties and returns an array <b>with keys and their values</b> . </li></ul><br>  I think you noticed that most of the above methods return an array.  This is an opportunity to take full advantage of JavaScript methods for working with arrays. <br><br>  One of these methods is <i>array.length</i> .  As a result, we can just write <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> objLength = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getOwnPropertyNames(obj).length;</code> </pre> <br><h3>  How to check if an object is empty? </h3><br><ol><li>  <i>JSON.stringify (myObj) === ‚Äú{}‚Äù</i> .  Here, we again use the string conversion tool to easily check if the object is empty (comparing strings, not objects). </li><li>  <i>! Object.keys (myobj) .length // true</i> .  As I mentioned, converting object keys to an array can be very useful.  Here we use the convenient <i>length</i> property inherited from <i>Array.prototype</i> , checking with it the length of the keys in the array.  In JS <i>0 it</i> turns into false, therefore adding <i>!</i>  we make it true.  Any other numbers will turn false. </li></ol><br><h3>  Finally </h3><br>  I hope, now you feel more confident in creating objects and working with them.  Let's summarize: <br><br><ul><li>  Remember that objects belong to the reference type, which means that it is recommended to work with them without changing the original objects. <br></li><li>  Make friends with the <i>prototype</i> property and the <i>prototype</i> chain. <br></li><li>  Get acquainted with the tools, assistants in working with objects.  Remember that you can turn objects into strings, get an array with their keys, or simply iterate over their properties using a set of methods that we met. <br></li></ul><br>  Good luck learning JavaScript objects. <br><br> <a href="https://wirexapp.com/ru/"><img src="https://habrastorage.org/files/4bd/bf6/597/4bdbf659775744b1bdbb4d8a00a0a980.png" alt="image"></a> </div><p>Source: <a href="https://habr.com/ru/post/419193/">https://habr.com/ru/post/419193/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../419177/index.html">Amazing Amazon Patterns</a></li>
<li><a href="../419179/index.html">Pure pragmatic architecture. Brainstorm</a></li>
<li><a href="../419181/index.html">Programming the mouse: how we run away from the routine with CRM</a></li>
<li><a href="../419183/index.html">Demopati in Helsinki "Assembly 2018" photo report, the first day</a></li>
<li><a href="../419185/index.html">An overview of current protocols for achieving consensus in a decentralized environment</a></li>
<li><a href="../419199/index.html">Report of the Club of Rome 2018, Chapter 3.5: ‚ÄúSome Success Stories in Agriculture‚Äù</a></li>
<li><a href="../419201/index.html">What startups are looking for Y Combinator in 2018</a></li>
<li><a href="../419203/index.html">The broadcast of the second day of Slurm: Intensive on Kuburnethes</a></li>
<li><a href="../419205/index.html">New Mikrotik vulnerability? No, but it's worth checking your devices.</a></li>
<li><a href="../419207/index.html">[Translation] 4 ways to style React components</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>