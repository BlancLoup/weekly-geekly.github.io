<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>All ingenious is simple. Writing geolocation services for J2ME</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day! 

 Introduction 
 Today, geolocation services such as GPS and Cell ID have become an integral part of our life. Through them, we can find ou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>All ingenious is simple. Writing geolocation services for J2ME</h1><div class="post__text post__text-html js-mediator-article">  Good day! <br><br><h4>  Introduction </h4><br>  Today, geolocation services such as <b>GPS</b> and <b>Cell ID</b> have become an integral part of our life.  Through them, we can find out where we are, for example, if we are lost, or just share our location on social networks, for example, on Foursquare. <br>  Many J2ME mobile phones support the <b>Location API</b> ( <b>JSR-179</b> ).  Using it, we can easily write some useful and, most importantly, interesting application for this platform. <br>  In this article, I propose to consider the possibilities of the Location API for J2ME and write a small but very interesting application.  But first things first. <br><a name="habracut"></a><br><br><h4>  What are geolocation services used for? </h4><br>  Geolocation services allow you to quickly answer three questions, namely: <br><ul><li>  Where I am? </li><li>  What is around me? </li><li>  And how the hell did I get here? </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For example, you feel very bad (pah-pah-pah), not a single passerby is by your side and you cannot say a word.  You will be assisted by <b>GPS</b> , which will provide the ambulance with the coordinates of your location.  Unfortunately, this principle only works in the United States when calling 911. <br><br><h4>  Closer to the point </h4><br>  In order to use our application, we need a phone that will meet the following requirements: <br><ul><li>  <b>J2ME</b> platform </li><li>  the presence of the phone <b>JSR-179</b> ( <b>Location API</b> ) </li><li>  <b>CDC</b> ( <b>Connected Device Configuration</b> ) or <b>CLDC 1.1</b> ( <b>Connected Limited Device Configuration</b> Profile) </li></ul><br>  Such phones are, for example, <i>Nokia E71, E66, N95, N96, 6210 Navigator</i> and many others ... <br><br><h4>  Device location </h4><br>  To determine the location of the device, the <b>Location API</b> uses real-time positioning methods available to it.  Accuracy depends on the methods used. <br>  Usually, built-in <b>GPS</b> devices are used that give us the necessary information, namely width, longitude and height. <br><br>  <b><u>The width</u></b> is expressed as 0-90 degrees (north or south). <br>  <b><u>Longitude</u></b> is expressed as 0-180 degrees (west or east). <br>  <b><u>The height</u></b> is expressed, respectively, in meters above sea level. <br><br>  Applications can use multiple positioning methods. <br><ul><li>  <b>Cell ID</b> : when using this method, the value from the nearest cell tower, the so-called <b>BTS</b> ( <b>Base Transceiver Station</b> ), is taken as the location coordinates.  The accuracy of this method depends on the range of the cell tower.  For GSM networks, this distance varies from 2 to 20 kilometers. </li><li>  Using satellite: <b>GPS</b> or global positioning system using data received from one of 24 satellites in orbit.  <b>GPS</b> determines your location, equal to the time difference of the passing signal from one satellite to another.  <b>GPS</b> is the most accurate location indicator.  The error will be about 4-40 meters (with a clear sky). </li></ul><br><br><h4>  From theory to practice </h4><br>  <b>JSR-179</b> is nothing more than a <b>javax.microedition.location</b> package that is wired inside your mobile phone.  It provides developers with the opportunity to develop geolocation services for <b>J2ME</b> , providing all the necessary information (starting from the coordinates and ending with the storage for your marks). <br>  The hardware platform determines which methods of real-time positioning are available to you at the moment.  You absolutely do not need to worry about which method to use, because  <b>J2ME</b> will solve it for you.  Accordingly, the most accurate method available ( <b>GPS</b> , <b>Cell ID</b> ) will be used. <br><br>  To make sure that the <b>Location API</b> is available, we can do the following: <br><pre><code class="java hljs">... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isLocationSupported</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> isItTrue = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { Class.forName(<span class="hljs-string"><span class="hljs-string">"javax.microedition.location.Location"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (Exception e) { isItTrue = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> isItTrue; } ...</code> </pre> <br><br><h4>  So, go further </h4><br>  To write a geolocation application, we need to work with the following classes: <br><ul><li>  <b>Criteria</b> , containing information about accuracy, response time from satellites or towers and speed. </li><li>  <b>LocationProvider</b> , which works with the data of the Criteria class to determine your location. </li><li>  <b>Location</b>  An object containing the coordinates, speed (if available), address as text (if available), and the time over which the calculations were made. </li><li>  The coordinates themselves (yes, yes, I understand you) we can get from one of two classes ( <b>Coordinates</b> or <b>Qualified</b> <b>Coordinates</b> , to choose from).  The only difference is that <b>QualifiedCoordinates</b> provides additional data on the measurement accuracy, presented in meters. </li></ul><br><br>  For the concept and consolidation of the theory, I propose to write us a small <b>MIDlet</b> (this is the name of the J2ME application): <br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//     import javax.microedition.midlet.*; import javax.microedition.lcdui.*; import javax.microedition.location.*; //    ,   MIDlet public class FirstGeo extends MIDlet implements CommandListener { //     Display dsp; Form frm; StringItem data; Command cmdExit; //   MIDleta public FirstGeo() { dsp = Display.getDisplay(this); frm = new Form("First Geo-located application"); data = new StringItem("Location: ","Unavailable"); cmdExit = new Command("Exit",Command.EXIT,1); } //     //          public void startApp() throws MIDletStateChangeException { dsp.setCurrent(frm); frm.append(cmdExit); frm.setCommandListener(this); frm.append(data); // ,    -   if (isLocationSupported()) { Criteria cr = new Criteria(); cr.setHorizontalAccuracy(500); LocationProvider lp = LocationProvider.getInstance(cr); Location l = lp.getLocation(10); QualifiedCoordinates qc = l.getQualifiedCoordinates(); data.setText("Latitude: " + qc.getLatitude() + "\n" + "Longitude: " + qc.getLongitude() + "\n" + "Altitude: " + qc.getAltitude() + "\n"); } else { destroyApp(true); } } //        public void pauseApp() throws MIDletStateChangeException { //    } //   public void destroyApp(boolean uncond) throws MIDletStateChangeException { if (uncond == true) { notifyDestroyed(); } } public void commandAction(Command c, Displayable d) { if (c == cmdExit &amp;&amp; d == dsp) { destroyApp(true); } } // ,       public boolean isLocationSupported() { boolean isItTrue = true; try { Class.forName("javax.microedition.location.Location"); } catch (Exception e) { isItTrue = false; } return isItTrue; } }</span></span></code> </pre><br><br>  So in a couple of minutes you wrote an application that determines the width, longitude and height, which is currently redundant, of our location. <br><br>  The purpose of this topic was to introduce you to the topic of building geolocation services, which was done.  If you want to read the full <b>Location API</b> , <a href="http://www.developer.nokia.com/info/sw.nokia.com/id/56a9a94a-ab11-4f6a-84c4-4ee7ada2a7e8.html">please</a> . <br><br>  <b>PS</b> <i>Unfortunately, I am far away from the desktop PC to compile the source code and show you screenshots that I promise to do later</i> . <br></div><p>Source: <a href="https://habr.com/ru/post/133427/">https://habr.com/ru/post/133427/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../133422/index.html">Camera found in ocean, owner found via Google+</a></li>
<li><a href="../133423/index.html">Wow mobile from Ukrtelecom. Beware scammers!</a></li>
<li><a href="../133424/index.html">The whole truth about the sale of the Touchpad for 99 and 149 dollars</a></li>
<li><a href="../133425/index.html">34 Magnificent examples of infographics, revealing the world of social media.</a></li>
<li><a href="../133426/index.html">Output Node.JS version 0.6.3 and two errors found when working with encodings of child processes in the Windows XP console</a></li>
<li><a href="../133428/index.html">We realize the dream of the perfect player with Qt Quick to the advantage!</a></li>
<li><a href="../133429/index.html">Samsung began production of LED-bulbs</a></li>
<li><a href="../133430/index.html">Google is going to make its services even more secure.</a></li>
<li><a href="../133431/index.html">Monopolies, patents, IT and the future</a></li>
<li><a href="../133432/index.html">Nokia E6 - parsing a compact smartphone</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>