<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Vagrant, Python, Pycharm = (convenient, work, Windows)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 Django is a well-known and one of the most advanced web development frameworks. Django is written in Python and, therefore, to work wit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Vagrant, Python, Pycharm = (convenient, work, Windows)</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/files/a58/514/295/a585142957ea4e599b153b316d29c5cc.png"></div><br><br><h5>  <b>Introduction</b> </h5><br>  Django is a well-known and one of the most advanced web development frameworks.  Django is written in Python and, therefore, to work with it, you will need an installed Python interpreter.  This is no problem if we are working in a Linux environment.  However, events take a completely different turn if you have to develop in Python under Windows. <br><br>  For Windows, there are ready-made Python builds, among which <a href="https://www.enthought.com/products/epd/">Enthought Python</a> , <a href="https://store.continuum.io/cshop/anaconda//">Anaconda Python</a> , <a href="https://code.google.com/p/pythonxy/">PythonXY</a> are worth noting. <br>  There are <a href="http://docs.python-guide.org/en/latest/starting/install/win/">more simple ways</a> . <br>  Their main disadvantage compared to the "standard" Python in Linux is the limited number of libraries available for installation.  In particular, they are not Django, and for its installation it is necessary to perform some not quite obvious actions. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      One of the possible solutions to the problem is to install a virtual machine with Linux on board.  Working with a virtual machine, despite the simplicity of its installation and configuration, introduces a number of inconveniences. <br>  So, a virtual machine can be quite demanding of computer resources and sometimes work slowly, creating discomfort for the developer.  This is especially annoying if braking begins at the most tense moment of work (and that‚Äôs when it happens most often!).  In addition, even on very good hardware, an IDE such as PyCharm works in a mode far from what is considered to be comfortable. <br><br>  You can improve performance by installing only the necessary packages, the lack of a window manager, and similar problems.  That is, you need to properly configure the virtual machine.  And in this case <a href="http://www.vagrantup.com/">Vagrant</a> comes to the rescue - a utility for creating completely ready working environments based on virtual machines (VirtualBox, VmWare Player / Workstation).  Vagrant not only installs a virtual machine, but also makes it easy to create new ones using the current user configuration. <br><br>  The next section discusses installing and configuring the Vagrant workspace for use as a remote Python interpreter for PyCharm projects. <br><a name="habracut"></a><br><h5>  <b>Work with Vagrant on Windows</b> </h5><br><br><h6>  <b>Installing Vagrant and loading environment</b> </h6><br><br>  Installing Vagrant is very simple.  All that is needed is to download the <a href="">installer</a> from the site and run it.  In addition, Vagrant requires the installation of one of the VirtualBox or VMware virtual machines. <br><br>  After Vagrant is installed, we proceed to create the working environment.  The basis of its construction is the ‚Äúbox‚Äù Vagrant (box).  "Box" Vagrant is a file with a box extension.  This file is nothing but a tar archive, possibly compressed with gzip.  Inside the archive are stored the image of the virtual machine and the files necessary for its correct launch. <br><br>  On the official website of Vagrant there are a significant number of ready-made "boxes" with different versions of Linux and installed software.  Their list can be viewed on <a href="https://vagrantcloud.com/discover/featured">VagrantCloud</a> . <br>  More ready environments are available at <a href="http://www.vagrantbox.es/">www.vagrantbox.es</a> . <br><br>  For our purposes, the standard version of Ubuntu - hashicorp / precise64 with the preinstalled Chef and Puppet (which, by the way, we will not need) from the official repository, is quite suitable.  Before setting the environment, create a directory where the configuration file for it will be stored.  Let's call it Vagrant.  Go to this directory and run in the console: <br><br><pre><code class="python hljs">\Vagrant&gt; vagrant init hashicorp/precise64</code> </pre> <br><br>  After that, the Vagrantfile file will appear in the directory, which contains a description of the configuration of this environment.  For example, the line config.vm.box = "hashicorp / precise64" defines the name of our environment.  Now everything is ready to start the environment.  Will execute <br><br><pre> <code class="python hljs">\Vagrant&gt; vagrant up</code> </pre><br><br>  and see a message about loading the corresponding ‚Äúbox‚Äù.  Since this is the first launch of this environment, before starting it must be downloaded from the repository to a local disk.  It should be noted that in the example above, the argument of the init command ‚Äî the name of the environment ‚Äî is the same as on the Vagrant website.  This match is optional.  So, one could configure this environment (its version without Chef and Puppet) and thus: <br><br><pre> <code class="python hljs">\Vagrant&gt; vagrant init precise64 http://cloud-images.ubuntu.com/vagrant/precise/current/... .box</code> </pre><br><br>  The second argument to init, as is easy to see, is the URL of the box.  Note also that the names of the environments, for example, used above hashicorp / precise64, precise64, are actually needed for convenient orientation among the established environments, and the Vagrant itself uses unique identifiers to start the desired environment (their value is stored in the action_set_name file).  Files of working environments are stored by default in the directory ~ / .vagrant.d}, where "~" in Windows is the directory C: \ Users \ your_login \. <br><br>  After we have completed the vagrant up and waited for the environment to load, it is ready for use, as can be seen by checking its status: <br><br><pre> <code class="python hljs">\Vagrant&gt; vagrant status</code> </pre><br><br>  To complete the environment, use the command <br><br><pre> <code class="python hljs">\Vagrant&gt; vagrant halt</code> </pre><br><br>  All installed Vagrnat environments can be viewed using the vagrant box list or directly in VirtualBox (VMware). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/373/1cc/554/3731cc55410e42a9b6f12b970d8e9ce7.png"></div><br>  <i>Virtualbox with Vagrant virtual machines installed.</i> <br><br>  To conclude this section, we note that the Vagrant environment can be added using the vagrant box add command.  You can read more about it and other Vagrant console commands on the <a href="http://docs.vagrantup.com/v2/cli/index.html">official documentation</a> page. <br><br><h6>  <b>Connection to the Vagrant environment</b> </h6><br><br>  When the environment starts (vagrant up), the insecure_private_key key is automatically created in the .vagrant.d folder to connect to the environment using the ssh protocol.  To use the ssh protocol in Windows, we will need the <a href="">PuTTY</a> and PuTTYgen programs (to convert a key into a format that PuTTY understands).  <a href="">Start PuTTYgen</a> , open insecure_private_key and see the message that the key was successfully imported.  Now you can save it in ppk format as a private key. <br><br>  For reasons of convenience, the key can be saved to the folder with the Vagrantfile file for this environment.  Now we specify PuTTY, which key to use, and connect via port 2222 (the port number is displayed when vagrant up is running).  The default login name is vagrant. <br><br>  If the connection is successful, we will be in the console of our Vagrant environment, where you can install Python libraries or system applications. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/0af/874/2bb/0af8742bb7ca469e9e80a36274d235bc.png"></div><br>  <i>Saving key in PuTTYgen.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/d62/c5a/f2e/d62c5af2ec0641d692f21854a2bda98c.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/files/331/bbd/f03/331bbdf03cad4aa3b3e5b2e3d096174c.png"></div><br>  <i>Configure PuTTY connection settings.</i> <br><br>  Now that the working environment is downloaded and running, you're ready to install Python and Django itself.  Good practice is using virtual environments to work with Python (and not only with it).  In this case, the risk of conflicts with versions of the interpreter and other software already installed on the system is minimized, and it becomes possible to work simultaneously with different versions of the Python interpreter, Django, or any other package. <br><br>  To install a virtual environment, perform in the Vagrant console: <br><br><pre> <code class="python hljs">vagrant@vagrant sudo apt-get install python-virtualenv</code> </pre><br><br>  After the installation is completed, we create a new virtual environment. <br><br><pre> <code class="python hljs">vagrant@vagrant virtualenv venv</code> </pre><br><br>  activate it <br><br><pre> <code class="python hljs">vagrant@vagrant source /home/vagrant/venv/bin/activate</code> </pre><br>  Now it's time to install Django: <br><br><pre> <code class="python hljs">(venv)vagrant@vagrant pip install django</code> </pre><br><br>  You can specify the version of the package we want to install: <br><br><pre> <code class="python hljs">(venv)vagrant@vagrant pip install django==<span class="hljs-number"><span class="hljs-number">1.4</span></span></code> </pre><br><br>  Django is installed, but one small task remains: to teach PyCharm to work with the Python interpreter installed in the Vagrant environment.  How to do this, understands the following section. <br><br><h6>  <b>PyCharm setup</b> </h6><br><br>  Run PyCharm and create a new Django project.  By default, it is created in the ~ / PycharmProjects / folder.  Let it be a Test project.  Next, in the home directory of the Vagrant desktop environment, create the PycharmProjects folder (the names match randomly and are selected for convenience). <br><br>  Go to the project settings menu: File-&gt; Settings-&gt; Project Interpeter.  Here we add a new interpreter: specify its address (127.0.0.1), port number (2222), user name (vagrant), path to the interpreter / home / vagrant / venv / bin / python and, finally, specify the path to the file with the key for ssh <br><br>  Now you need to configure the synchronization of the local folder with projects and a similar folder in the Vagrant environment.  Open the Vagrant file for editing and uncomment the line with config.vm.synced_folder in it, correcting it to config.vm.synced_folder C: / Users / adolgikh / PycharmProjects, / home / vagrant / PycharmProjects.  Now local files will be synchronized with the environment in which the interpreter is installed.  Restart Vagrant <br><br><pre> <code class="python hljs">$ vagrant reload</code> </pre><br><br>  and we see that our folder with the Test project was successfully added to the folder with projects in a remote working environment. <br><br>  In order for the current changes made during the work on the project to be immediately sent to the remote environment, you need to make additional settings in the Pycharm project.  Go to the menu Run-&gt; Edit Configuration and adjust Path Mapping as shown in the screenshot. <br>  Mention deserves the ability to run ssh-console in Pycharm.  It starts from the Tools menu and connects via ssh to the environment specified in the settings of the remote interpreter.  Thus, we do not need to use PuTTY with the correctly configured project in Pycharm. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/9d6/9b1/edd/9d69b1edd7dc454b89ddf5bfba52f0d9.png"></div><br>  <i>Setting up path mapping in Pycharm</i> <br><br><h5>  <b>Conclusion</b> </h5><br>  Undoubtedly, Vagrant is good not only because it allows you to significantly improve the usability of Python-development in Windows.  By installing Vagrant, we are able to create, configure, and save fully functional working environments.  Moreover, we can create configurations where several Vagrant environments with different configurations work at the same time. <br>  Thus, it is possible to accurately model the intended working environment used in production.  In short, Vagrant is another valuable tool in the hands of the developer, in the future we will try to highlight other aspects of working with him. </div><p>Source: <a href="https://habr.com/ru/post/264367/">https://habr.com/ru/post/264367/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../264355/index.html">SpiderTest: DIY AutoTests</a></li>
<li><a href="../264359/index.html">14 new roles in Big Data</a></li>
<li><a href="../264361/index.html">A test version of the HTTP / 2 module for NGINX has been published.</a></li>
<li><a href="../264363/index.html">4 invisible UX, which you never knew</a></li>
<li><a href="../264365/index.html">Running OpenStack Keystone tests in a Docker container on Mac</a></li>
<li><a href="../264369/index.html">The battle with the robot, the dangers of social networks and hacked WiFi: how was NeoQUEST-2015</a></li>
<li><a href="../264375/index.html">Contingency tables and factorization of non-negative matrices</a></li>
<li><a href="../264379/index.html">ReactOS Hackfest started</a></li>
<li><a href="../264381/index.html">Magic of tensor algebra: Part 18 - Mathematical modeling of the Janibekov effect</a></li>
<li><a href="../264383/index.html">Tox developers disassociate themselves from the Tox Foundation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>