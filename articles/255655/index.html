<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Video surveillance through 3 / 4G (part 1)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Access to devices connected to the Internet via the mobile operator‚Äôs network is currently possible only using reverse VPN technology. Therefore, for ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Video surveillance through 3 / 4G (part 1)</h1><div class="post__text post__text-html js-mediator-article">  Access to devices connected to the Internet via the mobile operator‚Äôs network is currently possible only using reverse VPN technology.  Therefore, for the organization of remote video surveillance via 3G / 4G networks, we need two components: <br><ul><li>  A router with tunneling protocol support.  In our version this is VPN - OpenVPN. </li><li>  A server that will accept connections from remote 3 / 4G and provide access to them for clients from the Internet. </li></ul><br>  In this article we will look at the settings of the router on the side of the webcam (DVR). <a name="habracut"></a>  First, a small picture illustrating the general connection of a webcam (DVR): <br><img src="https://habrastorage.org/files/d23/b08/234/d23b08234c8f4cae93d79731a56bcc61.png"><br>  <b>Attention!</b>  <b>The material is designed for trained users who are ready to ‚Äúflash‚Äù the firmware DD-WRT.</b>  <b>If you do not have knowledge in this area, you should contact a specialist.</b> <br>  As routers, we will use a device with DD-WRT firmware.  First, we configure the VPN link <i>‚ÄúServices -&gt; VPN-&gt; OpenVPN Client‚Äù</i> .  It is assumed that the 3 / 4G modem is already connected to the router and there is Internet access.  Enable the OpenVPN client software: <br><img src="https://habrastorage.org/files/1ee/6a1/4e0/1ee6a14e0d484cf1a71d98f6a6e2375b.png"><br>  Configure VPN settings: <br><img src="https://habrastorage.org/files/533/c42/873/533c42873f6e488bb2b925e5f7ce3d2e.png"><br>  Let's set OpenVPN certificates: <br><img src="https://habrastorage.org/files/8c2/eb2/169/8c2eb216934f4f99acfa4b0cf55914f3.png"><br>  We need the following certificates and keys: <br><ul><li>  "CA Cert" - the root certificate of the VPN server; </li><li>  ‚ÄúPublic Client Cert‚Äù - a public certificate issued to the client by the server (server administrator) VPN; </li><li>  "Private Client Key" - the client's private key issued by the VPN server (server administrator) to the client; </li><li>  "TA Auth Key" is the VPN server pre-authentication key. </li></ul><br>  All these parameters are generated on the server side and given to you by the administrator of the VPN server. <br>  Check it out.  To do this, <i>let's</i> go, for example, to the <i>‚ÄúStatus-&gt; Bandwidth‚Äù</i> page of the router settings.  If the VPN connection was successful, you should see that a new tun1 interface has been added: <br><img src="https://habrastorage.org/files/077/c38/5fc/077c385fc54840e29ebc86bc89a5a876.png"><br>  Set up access to the camcorder.  We define the IP address of the camera.  Ways can be different.  You can, for example, go to the <i>‚ÄúStatus-&gt; LAN‚Äù</i> page of the router and select the desired IP in the <i>‚ÄúActive Clients‚Äù</i> list by its MAC address (which is usually printed on the webcam case). <br><img src="https://habrastorage.org/files/cad/a3c/bc7/cada3cbc7af748deaeea25597aeeb6cf.png"><br>  It is better to ‚Äúfix‚Äù the IP address provided by the video camera so that during further work it will not change and we would not have to reconfigure everything.  This can be done in <i>the router's ‚ÄúServices-&gt; Services-&gt; Static Leases‚Äù</i> menu by adding the MAC and IP addresses obtained in the previous step to this list. <br>  Set up port forwarding.  We will configure in two places.  First, the general port forwarding <i>"NAT / QoS-&gt; Port Range Forwarding"</i> : <br><img src="https://habrastorage.org/files/7f6/f7d/a9f/7f6f7da9f3774b2bb87ceb47eb2c6e30.png"><br>  If we used a ‚Äúnormal‚Äù connection with a real IP, then we could stop at that.  The router and camera would be ‚Äúvisible‚Äù from the Internet by name or by IP.  But we use VPN, so we need the webcam to be visible through the interface tun1 - <i>‚ÄúAdministration-&gt; Commands-&gt; Save-&gt; Firewall‚Äù</i> : <br><img src="https://habrastorage.org/files/a58/237/929/a58237929e1447b6961cf5f132dabfae.png"><br>  <b>Attention!</b>  <b>Since many webcams (DVRs) use port 80 (HTTP) for default access, we recommend that you leave only HTTPS to manage later problems with the router‚Äôs control panel to fix possible problems:</b> <br><img src="https://habrastorage.org/files/3b6/02a/c49/3b602ac49be448a1b39b0cfc774cf80a.png"><br>  Restart the router - <i>‚ÄúAdministration-&gt; Management-&gt; Reboot router‚Äù</i> . <br>  Check again that the VPN is connected (see above). <br>  This completes the client-side (webcam) setup. <br><hr><br>  To be continued‚Ä¶ </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/255655/">https://habr.com/ru/post/255655/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../255645/index.html">Again about AUTO_INCREMENT</a></li>
<li><a href="../255647/index.html">Levitron on Arduino</a></li>
<li><a href="../255649/index.html">Best approaches to moving a MATLAB code to a fixed point</a></li>
<li><a href="../255651/index.html">Create a beautiful date / time / data picker in android</a></li>
<li><a href="../255653/index.html">Developing a cross-platform application using the Ionic Framework</a></li>
<li><a href="../255657/index.html">Our devices to control the lighting in the smart home</a></li>
<li><a href="../255659/index.html">We pump over Stream API, or we need more sugar.</a></li>
<li><a href="../255661/index.html">Magvik filter</a></li>
<li><a href="../255663/index.html">Interview with Stanislav Shalunov - developer of technology used in BitTorrent and Apple</a></li>
<li><a href="../255665/index.html">PHP Digest number 60 - interesting news, materials and tools (March 30 - April 13, 2015)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>