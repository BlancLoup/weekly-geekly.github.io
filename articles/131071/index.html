<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Rules of ant battles</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We continue to understand the rules of the current Google AI Challenge tournament. Then you can read the translation of the official rules for calcula...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Rules of ant battles</h1><div class="post__text post__text-html js-mediator-article">  We continue to understand the <a href="http://habrahabr.ru/blogs/sport_programming/130979/">rules of the</a> current Google AI Challenge tournament.  Then you can read the translation of the official rules for calculating the results of ant battles. <br><a name="habracut"></a><br><h4>  The basic rule of the result of the battle </h4><br>  The outcome of the battle is determined from two different angles: <br>  The ant dies if the enemy, which is at a distance of attack, is surrounded by a smaller (or the same) number of its own enemies. <br><br>  or <br><br>  Our ant kills the enemy if the enemy, which is at a distance of attack, is surrounded by a greater (or the same) number of enemies than its target. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If this is not clear yet, do not despair, further detailed explanations will follow. <br><br><h4>  Obvious facts about the world of ants </h4>  The ant is a very simple creature.  In fact, he can do only two things on his own. <br>  <b>The first</b> is to create a new ant from food, to which he got close enough.  This action, of course, is quite difficult for the ant, requiring precise and hard work (which is why it is necessary to get close to the food).  Although the result is quite simple - if the food is close enough, another ant of the same color appears.  An exception is the case when several ants of different colors approach the food closely at the same time;  food is destroyed when they try to collect it. <br>  <b>The second</b> is to attack the enemy ants.  This is much simpler than birth and can occur over a much greater distance (although the details are not known reliably, but you have to quickly sort through your paws).  Results may be somewhat more difficult to understand than at birth. <br><br>  In the simplest case, when two separate ants of different colors approach each other so much that they engage in combat, all their attention is focused on the enemy.  Paying an equal amount of attention, opponents kill each other. <br><br>  When a lone ant collides with two opponents at the same time, it has to divide the attention between the enemies.  The enemies at the same time are fully focused on the ant.  This means that a lonely ant will be at a loss and perish, and the other two will survive.  You see, for the survival of the ant, the concentration of attention must be higher than that of the enemy.  If the ant's attention is equal to or less than that of any of the opponents, the ant dies. <br><br>  Ants do not distinguish enemies by color.  If the ants of three different colors, say, green, red and blue at the same time, are within the distance of each other's attack, the attention of each ant will be divided between two enemies, and all three ants will die.  But if a green ant has red on one side and blue on the other, red and blue being too far away to attack each other, then only green will die.  After all, his attention will be dispersed between two opponents, while each of the enemies of the week will be concentrated only on green. <br><br>  Hopefully, this description has helped you understand the principle of calculating the outcome of the battle.  To consolidate understanding, we consider a more complex example of combat. <br><br>  Two blue ant Sid and Sam, and two red ant Kent and Kite explored the world.  And now, after the next move, Sam went to the distance of the attack of both red ants, while Sid can attack only Kent.  Now a question for you.  Who will die and who will survive? <br>  Do not answer until you answer the question. <br><pre><code class="python hljs"> -&gt; .. ...  -&gt; . &lt;-  ... .. &lt;- </code> </pre> <br>  Have you received the answer yet?  Do not continue until you get. <br>  In this situation, the attention of the blue ant Sam and the red ant Kent is divided between two enemies.  Sid and Kite are each focused on their only enemy, whose attention is divided.  Therefore, Sam and Kent will die in this battle, and Sid and Kite will survive in order to fight in the future. <br><br>  Pretty simple, right?  Of course.  Each battle proceeds in the same way.  If an ant's attention is divided between fewer opponents than the attention of each of its opponents, it survives.  You are now ready to go into this document to find a description of some technical details and additional examples. <br><br><h4>  Some technical details </h4>  Each ant in the attack distance may have several opponents.  It is believed that he is "busy" with the battle with these ants.  Each ant can have its own number of enemies who ‚Äúoccupy‚Äù its attention.  Ants who are busy with fewer enemies are more focused on killing these enemies than ants who fight more enemies.  Equally busy ants can kill each other. <br><pre> <code class="python hljs">......C CABC ......C</code> </pre> <ul><li>  ant A at distance of attack from ant B </li><li>  Ant A is busy (or fighting with) 2nd opponents </li><li>  Ant B is busy (or fighting with) 4th opponents </li><li>  Ant B has to be tracked and distracted by a larger number of opponents, so it is less effective at fighting than Ant A </li><li>  so the ant A can kill the ant B </li><li>  if we consider ants C, then the situation will change, but so far we have considered only A and B </li><li>  ants C will kill both A and B, even if A and B were not so close to each other </li></ul>  Each ant can kill more than one ant, and each ant can be killed by several ants.  The same ant can kill an ant and be killed by another ant in one turn. <br>  To try to count the battle manually, it‚Äôs enough to count the number of enemies surrounding each ant: <br><pre> <code class="python hljs">.....<span class="hljs-number"><span class="hljs-number">.1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> .....<span class="hljs-number"><span class="hljs-number">.1</span></span></code> </pre> <br>  Then, if there is an enemy with a smaller or equal number near the ant, the ant will die. <br><pre> <code class="python hljs">......C CxxC ......C</code> </pre> <br><h4>  Options </h4><br>  In all cases, the square of the attack radius is 5, and the attack distance is shaped as in the figure (with the calculated squares of the radii) <br><pre> <code class="python hljs">....... ..<span class="hljs-number"><span class="hljs-number">.9</span></span>... ..xxx.. <span class="hljs-number"><span class="hljs-number">.85458</span></span>. .xxxxx. <span class="hljs-number"><span class="hljs-number">.52125</span></span>. .xxAxx. <span class="hljs-number"><span class="hljs-number">9410149</span></span> .xxxxx. <span class="hljs-number"><span class="hljs-number">.52125</span></span>. ..xxx.. <span class="hljs-number"><span class="hljs-number">.85458</span></span>. ....... ..<span class="hljs-number"><span class="hljs-number">.9</span></span>...</code> </pre> <br><h5>  One on one </h5><br>  Both die <br><pre> <code class="python hljs">..... ..... ..... .AB -&gt; <span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>. -&gt; .xx ..... ..... .....</code> </pre> <br><h5>  two versus one </h5><br>  A dies <br><pre> <code class="python hljs">...B. ..<span class="hljs-number"><span class="hljs-number">.1</span></span>. ...B. .A... -&gt; <span class="hljs-number"><span class="hljs-number">.2</span></span>... -&gt; .x... ...B. ..<span class="hljs-number"><span class="hljs-number">.1</span></span>. ...B.</code> </pre> <br><h5>  3 fighters met </h5><br>  All died <br><pre> <code class="python hljs">...B. ..<span class="hljs-number"><span class="hljs-number">.2</span></span>. ...x. .A... -&gt; <span class="hljs-number"><span class="hljs-number">.2</span></span>... -&gt; .x... ...C. ..<span class="hljs-number"><span class="hljs-number">.2</span></span>. ...x.</code> </pre> <br><h5>  Ant sandwich </h5><br>  The ant in the middle perishes.  A and C survive. <br><pre> <code class="python hljs">..... ..... ..... ABC -&gt; <span class="hljs-number"><span class="hljs-number">1.2</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> -&gt; AxC ..... ..... .....</code> </pre> <br><h5>  Couple against two singles </h5><br>  B and C die <br><pre> <code class="python hljs">...B. ..<span class="hljs-number"><span class="hljs-number">.3</span></span>. ...x. .AA -&gt; <span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span>. -&gt; .AA ...C. ..<span class="hljs-number"><span class="hljs-number">.3</span></span>. ...x.</code> </pre> <br><h5>  Wall punching </h5><br>  Many fell <br><pre> <code class="python hljs">AAAAAAAAA <span class="hljs-number"><span class="hljs-number">013565310</span></span> AAxxxxxAA ...BBB... -&gt; ..<span class="hljs-number"><span class="hljs-number">.555</span></span>... -&gt; ...xxx... ...BBB... ..<span class="hljs-number"><span class="hljs-number">.333</span></span>... ...xBx...</code> </pre> <br>  Ant B survives because it is attacked by only 3 central ants A, each of which is occupied much more.  In turn, it affects the death of these three central ants A. <br><pre> <code class="python hljs">???AAA??? ???<span class="hljs-number"><span class="hljs-number">565</span></span>??? AAxxxxxAA ...???... -&gt; ...???... -&gt; ...xxx... ...?B?... ...?<span class="hljs-number"><span class="hljs-number">3</span></span>?... ...xBx...</code> </pre> <br>  Ants A from the edge survive because they are attacked by a single B ant who is busy much more. <br><pre> <code class="python hljs">?A??????? ?<span class="hljs-number"><span class="hljs-number">1</span></span>??????? AAxxxxxAA ...B??... -&gt; ..<span class="hljs-number"><span class="hljs-number">.5</span></span>??... -&gt; ...xxx... ...???... ...???... ...xBx...</code> </pre> <br>  Sid and Sam vs. Kent and Kite: <br>  The upper and lower ants do not reach each other. <br>  One death per side <br><pre> <code class="python hljs">...... .<span class="hljs-number"><span class="hljs-number">.1</span></span>.... ...... ..... -&gt; .<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span>.. -&gt; ..xx. ...... ...<span class="hljs-number"><span class="hljs-number">.1</span></span>.. ......</code> </pre> <br><br><h4>  Maths </h4><br>  For the position of the ant x, we define the function enemies (x) equal to the number of enemies located at a distance of attack from x. <br>  For ant position a, a survives if <img src="http://habrastorage.org/storage1/15d44b2a/a9a2d89d/1c443dad/68438897.png"><br>  Similarly, for the position of the ant a, a dies if <img src="http://habrastorage.org/storage1/6e1f3e1a/f609423c/cfdd2c2b/d9b34fd5.png"><br><br><h4>  Pseudocode: </h4><br><pre> <code class="python hljs">//        :        :  (    ) &gt;= (    )       </code> </pre> <br><h4>  Python </h4><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#           #      nearby_enemies = {} for ant in self.current_ants.values(): nearby_enemies[ant] = self.nearby_ants(ant.loc, self.attackradius, ant.owner) #     ants_to_kill = [] for ant in self.current_ants.values(): #     (1/power) weakness = len(nearby_enemies[ant]) # ,          if weakness == 0: continue #      min_enemy_weakness = min(len(nearby_enemies[enemy]) for enemy in nearby_enemies[ant]) #  ,         if min_enemy_weakness &lt;= weakness: ants_to_kill.append(ant)</span></span></code> </pre> </div><p>Source: <a href="https://habr.com/ru/post/131071/">https://habr.com/ru/post/131071/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../131063/index.html">iPad 2 is now considered a navigator (+ 5% duty)</a></li>
<li><a href="../131064/index.html">Droider Show # 12. Dmitry Anatolyevich's secret</a></li>
<li><a href="../131065/index.html">How I put together the first analog client for twitter</a></li>
<li><a href="../131067/index.html">We are glad to meet you! ... gY ... gYpost</a></li>
<li><a href="../131068/index.html">Overview of the OS Symbian Belle</a></li>
<li><a href="../131072/index.html">Two-dimensional segment tree (with group modification of elements)</a></li>
<li><a href="../131073/index.html">Interaction of managed and unmanaged code</a></li>
<li><a href="../131074/index.html">PhpBB3 trap system</a></li>
<li><a href="../131076/index.html">New app - Friday - another step towards Siri</a></li>
<li><a href="../131077/index.html">ZF2 EventManager</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>