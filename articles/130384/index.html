<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Camera Angle Control</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Formulation of the problem:  The advantage of a static video camera is that it allows you to continuously monitor the same, certain solid angle of the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Camera Angle Control</h1><div class="post__text post__text-html js-mediator-article"><h4>  Formulation of the problem: </h4>  The advantage of a static video camera is that it allows you to continuously monitor the same, certain solid angle of the protected space. <br><br>  The advantage of the PTZ camera is that it allows you to control the solid angle of space, which can be remotely changed by the operator. <br><br>  The price of a PTZ camera is significantly higher than the static one.  Our task is to make our own PTZ camera at an affordable price. <br><img src="https://habrastorage.org/getpro/habr/post_images/b0e/f3f/9ee/b0ef3f9ee1a6ffcedbd0974332a398d2.jpg" alt="Result"><br><a name="habracut"></a><br><h4>  Objective: </h4>  Development of algorithms and software and hardware to control the process of angular movement of a video camera based on a stepper motor without the use of high-precision mechanics and the technical implementation of this control system based on a personal computer. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h6>  This goal is achieved by solving the following main tasks: </h6>  1. Analysis of the existing design features of stepper motors and their control methods. <br>  2. Development of algorithms and software and hardware for controlling the process of angular displacement (rotation) of a video camera using stepper motors. <br>  3. Technical implementation of the control system of a stepper motor based on a personal computer (PC). <br><br><h6>  Scientific and practical significance of the work: </h6>  The developed algorithms and software and hardware for controlling the rotation of cameras using stepper motors will significantly increase the viewing angle of video surveillance systems based on the use of low-cost webcams that do not have high-precision mechanics to move them. <br><br><h4>  Design features of stepper motors: </h4>  <u>A stepper motor</u> is an electromechanical device that converts a control signal into an angular (or linear) movement of the rotor with its fixation in a predetermined position without feedback devices.  When designing specific systems, one has to make a choice between a servomotor and a stepper motor.  When precise positioning and precise speed control are required, and the required torque and speed are within tolerance limits, the stepping motor is the most economical solution.  Unlike collector engines, in which the electromechanical torque increases with increasing speed, a stepping motor has a higher torque at low speeds and a much lower maximum speed. <br>  The most common are permanent magnet motors, which consist of a stator having windings and a rotor containing permanent magnets.  The alternating poles of the rotor have a rectilinear shape and are parallel to the axis of the engine. <img src="https://habrastorage.org/getpro/habr/post_images/77c/791/1b0/77c7911b0918457f1c87675005683065.jpg" alt="The layout of the windings of a stepper motor with permanent magnets (a) and a general view of this motor (b)"><br><br><h6>  Ways to control stepper motors: </h6>  <i>The bipolar motor</i> has one winding in each phase, which must be re-polarized by the driver to change the direction of the magnetic field.  For this type of engine requires a bridge driver, or half bridge with bipolar power.  In total, the bipolar engine has two windings and, accordingly, four outputs. <br><br>  <i>The unipolar motor</i> also has one winding in each phase, but there is a diversion from the middle of the winding.  This allows you to change the direction of the magnetic field created by the winding, by simply switching the winding halves.  This significantly simplifies the driver circuit, which should have only 4 simple keys.  The middle winding leads can be combined inside the motor, so this motor can have 5 or 6 leads.  Sometimes unipolar engines have 4 separate windings, so there will be 8 total pins. With the appropriate connection of the windings, such an engine can be used as unipolar or bipolar. <br><br>  The most effective way to control a stepper motor is the half-step mode, i.e.  half step mode, when the engine takes a step in half the main.  For each second step, only one phase is powered, and in other cases, two are powered.  As a result, the angular displacement of the rotor is half the angle of the main step, however, the half-step mode usually does not allow to get the full moment. <br><img src="https://habrastorage.org/getpro/habr/post_images/c38/749/1e3/c387491e3d6358846d195154774553e0.jpg" alt="Half step mode (half step mode)"><br><br><h4>  Hardware implementation of stepper motor control using a PC: </h4>  Based on the analysis, a stepper motor SD-1EM was selected, which has the following features: the number of steps per revolution is 200, the maximum winding current is 500 mA, the nominal power is 12 W. <br>  As an engine driver, it is advisable to use the ULN2003A chip.  This is a set of transistors assembled according to the Darlington circuit with an open collector and a protective diode in the load circuit.  The microcircuit contains 7 switching channels with a load current up to 500 mA. <br><img src="https://habrastorage.org/getpro/habr/post_images/011/eca/b31/011ecab31aa1c1005a9abf6b6d5037f5.jpg" alt="Driving ULN2003A driver (a) and one of its channels (b)"><br><br>  The chip has resistors in the base circuit that allows you to directly connect its inputs to conventional digital circuits.  All emitters are connected together and brought to a separate conclusion.  The outputs of the transistor switches are protective diodes, which allows you to manage with this chip inductive loads with a minimum of external components. <br><img src="https://habrastorage.org/getpro/habr/post_images/ed6/0bd/f1a/ed60bdf1a863edb223b9130a5aa0a92d.jpg" alt="Electrical wiring diagram for a stepper motor"><br><br>  The COM signal (pin 9) is connected to the power supply not directly, but through a zener diode.  This is done in order to protect the circuit from the voltage of the EMF of self-induction arising in the coils when turning off the supply voltage of the circuit.  The driver chip is controlled by the parallel LPT port of the personal computer in the ECP / EPP mode using the lower four data lines (D0-D3). <br><br><h4>  Features of stepper motor control algorithms: </h4>  For a half-step motor control, it is necessary to install a voltage of + 5V on the D0, D1, D2, D3 LPT pins of the PC port in accordance with the scheme, which corresponds to supplying them with logical units in a certain sequence determining the direction of engine rotation. <br><img src="https://habrastorage.org/getpro/habr/post_images/852/738/393/852738393972f0b360f1b4d6e70e0087.jpg" alt="The sequence of the pulses in the LPT port"><br><br>  Signals are given at certain time intervals, which are programmed using the program flow stop function (SLEEP) and depend on the time during which the rotation command must be processed. <br><br><h4>  Software implementation: </h4> The Delphi environment is used as a programming language, since it has a simple syntax, successfully demonstrates the paradigms of procedural programming and OOP, and also has a simple and understandable architecture of standard libraries. <br>  To work with the LPT communication port running under the Microsoft Windows operating system, two WinAPI functions are used - Inp32 and Out32, which are part of the standard inpout32.dll library. <br>  A listing of the subroutine that provides the direct angular displacement of the Alpha motor during T, starting from the initial position of the shaft St, is shown below. <br> <code>procedure Forward(Alpha:Real, T:Real, K:Real, var St:Integer); <br> const PORT=888; <br> const Steps:array[1..8] of Byte = (1, 3, 2, 6, 4, 12, 8, 9); <br> var I, DT:Integer; <br> begin <br> DT:=Round(T/(Alpha*K)); <br> I:=0; <br> while (I&lt;Trunc(Alpha*K)) do begin <br> Out32(PORT, Steps[St]); sleep(DT); <br> St:=St+1; <br> If (St&gt;8) then St:=8; <br> I:=I+1; <br> end; <br> end;</code> <br> <br><h4>  Conclusion: </h4>  On the basis of the developments, a technical implementation of the ShD-1EM stepper motor control system based on a personal computer was implemented to control the angular movement of a Logitech QuickCam webcam with the following characteristics: video capture in real time at up to 30 frames per second with a resolution of 640x480 pixels. <br><br><h6>  Bibliography: </h6><br>  1. Damyanovski V. CCTV Bible security television.  Digital and network technologies ". Is-es-Press, 2006. - 480. <br>  2. Dubrovsky I.L., Dambrauskas A.P., Rybin A.A.  Microprocessor control of industrial robots electric drives: a tutorial /;  - Krasnoyarsk, KSTU, 1993 - 88s. <br>  3. Kenio Takashi.  Stepper motors and their microprocessor control systems: Trans.  from English., M .: Energoatomizdat, 1987 - 199s. <br>  4. Lebedev N.I., Gundshu V.M., Yavdoshak Ya.I.  Valve electrical machines.  Spb .: Science, 1996. - 352s. <br>  5. Stepper motors.  Motor reducers: portal [Electronic resource].  - Access Mode: <a href="http://stepmotor.ru/">stepmotor.ru</a> <br><br>  <b>PS The project was implemented and described in December 2008 as part of school work contests.</b>  <b>The first time the article was published in the sandbox.</b>  <b>After that, copies began to appear on the network.</b>  <b>From the second time it was published</b> . </div><p>Source: <a href="https://habr.com/ru/post/130384/">https://habr.com/ru/post/130384/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../130378/index.html">V-Ray and Iray. Comparison and review</a></li>
<li><a href="../130379/index.html">Keyboard hack for easy text navigation</a></li>
<li><a href="../130380/index.html">200 million users already work with Google Chrome</a></li>
<li><a href="../130382/index.html">Trying free spice virtualization in Ubuntu 11.04 amd64</a></li>
<li><a href="../130383/index.html">Realistic flight simulator with a 360 degree view</a></li>
<li><a href="../130386/index.html">The Google + user base has exceeded 40 million and continues to grow - the official statistics from Google CEO!</a></li>
<li><a href="../130387/index.html">Framework for web applications built on CodeIgniter</a></li>
<li><a href="../130389/index.html">Common truths</a></li>
<li><a href="../130391/index.html">Easy PERL script for sending and receiving SMS via mobile phone</a></li>
<li><a href="../130393/index.html">Clearing the cache in iOS 5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>