<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>New programming language framework</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="geektimes.ru/post/100171 : 
 I‚Äôm always delighted by the early programming languages. Not much text; a lot gets done. Old programs read a quietly spok...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>New programming language framework</h1><div class="post__text post__text-html js-mediator-article"><br><blockquote><a href="https://geektimes.ru/post/100171/" title="<- google: ‚Äòc ++ &amp; quot; high level assembler &amp; quot;‚Äô"></a>  <a href="https://geektimes.ru/post/100171/"><i>geektimes.ru/post/100171</i></a> : <br><table><tbody><tr><td>  I‚Äôm always delighted by the early programming languages.  Not much text;  a lot gets done.  Old programs read a quietly spoken researcher and a compiler.  Who'd have guessed sophistication bought such noise? <br><br>  - Dick Gabriel <br><br>  ... 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The standard languages ‚Äã‚Äã(Java, C ++) are statically typed. <br><br>  Most outsider languages ‚Äã‚Äã(Ruby, Python, JavaScript) are interpreted and dynamically typed. <br><br>  Perhaps as a result, non-expert programmers have a confused "ease of use" with interpretation and dynamic typing. <br><br>  The world has split into a false dichotomy: interpreted, dynamic versus ugly, compiled, static. <br><br>  Time to put things right. </td><td>  I have always admired the ease and serenity of early programming languages.  Some text;  but much is being done.  Older programs are read as quiet conversations between a well-spoken researcher and a well-trained mechanical colleague, and not as debates with the compiler.  Who would have thought that sophistication would bring so much noise? <br><br>  - Dick Gabriel <br><br>  ... <br><br>  Standard languages ‚Äã‚Äã(Java, C ++) are statically typed. <br><br>  Most outsider languages ‚Äã‚Äã(Ruby, Python, JavaScript) are interpretable and dynamically typed. <br><br>  Perhaps as a result of this, non-expert programmers confuse "ease of use" with interpretability and dynamic typing. <br><br>  The world was divided by a false dichotomy: pleasant, interpretable, dynamic versus ugly, compiled, static. <br><br>  The time has come to correct this situation. </td></tr></tbody></table></blockquote><br>  On this pathetic note, I will turn to examples in a new programming language. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Here is a small code example:</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/994/558/00b/99455800b0eb4116eb73665c25cbffa7.png"><br>  <font color="#BFBFBF">[</font> <font color="gray">The code is based on the ideas from the <a href="https://habrahabr.ru/post/350696/">following article</a> .</font>  <font color="#BFBFBF">]</font> <br></div></div>  (Try to guess the values ‚Äã‚Äãof the reserved letters, and also mentally rewrite this piece of code in programming languages ‚Äã‚Äãthat you know.) <br><br>  And here's a bigger example (this is a translation of the Python code from <a href="https://habrahabr.ru/post/349592/">my previous article</a> ). <br><div class="spoiler">  <b class="spoiler_title">Code that uses [reserved] letters</b> <div class="spoiler_text"><pre><code class="hljs swift"><span class="hljs-type"><span class="hljs-type">F</span></span> calculate_sacred_number()
   <span class="hljs-type"><span class="hljs-type">A</span></span> results = []

   <span class="hljs-type"><span class="hljs-type">L</span></span>(hash_algorithm) hashlib:algorithms_available <span class="hljs-comment"><span class="hljs-comment">//    -</span></span>
                                                  \\ (    <span class="hljs-type"><span class="hljs-type">MD5</span></span>, <span class="hljs-type"><span class="hljs-type">SHA</span></span>...)
      <span class="hljs-type"><span class="hljs-type">I</span></span>.unlikely <span class="hljs-string"><span class="hljs-string">"shake"</span></span> <span class="hljs-type"><span class="hljs-type">C</span></span> hash_algorithm <span class="hljs-comment"><span class="hljs-comment">//   SHAKE,   ...</span></span>
         <span class="hljs-type"><span class="hljs-type">L</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>
      <span class="hljs-type"><span class="hljs-type">L</span></span>(uppercase) 0B..1B <span class="hljs-comment"><span class="hljs-comment">//     ,   </span></span>
         <span class="hljs-type"><span class="hljs-type">L</span></span>(space)  0B..1B <span class="hljs-comment"><span class="hljs-comment">//        </span></span>
            <span class="hljs-type"><span class="hljs-type">L</span></span>(n)   <span class="hljs-number"><span class="hljs-number">10</span></span>..<span class="hljs-number"><span class="hljs-number">99</span></span> <span class="hljs-comment"><span class="hljs-comment">//    </span></span>
               <span class="hljs-type"><span class="hljs-type">A</span></span> nw = :numbers[n] <span class="hljs-comment"><span class="hljs-comment">//   ,    .</span></span>
               <span class="hljs-type"><span class="hljs-type">I</span></span> uppercase
                  nw .= upper()
               <span class="hljs-type"><span class="hljs-type">I</span></span> space
                  nw .= replace(‚Äò-‚Äô, ‚Äò ‚Äô)
               <span class="hljs-type"><span class="hljs-type">A</span></span> ns = <span class="hljs-type"><span class="hljs-type">String</span></span>(n)
               <span class="hljs-comment"><span class="hljs-comment">//      ,</span></span>
               <span class="hljs-type"><span class="hljs-type">A</span></span> digest1 = hashlib:(hash_algorithm, nw.encode()).hexdigest()
               <span class="hljs-comment"><span class="hljs-comment">//      ,   .</span></span>
               <span class="hljs-type"><span class="hljs-type">A</span></span> digest2 = hashlib:(hash_algorithm, ns.encode()).hexdigest()
               <span class="hljs-type"><span class="hljs-type">L</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-comment"><span class="hljs-comment">//   ,     </span></span>
                  <span class="hljs-comment"><span class="hljs-comment">//         </span></span>
                  <span class="hljs-comment"><span class="hljs-comment">//     .</span></span>
                  <span class="hljs-type"><span class="hljs-type">I</span></span>  digest1[<span class="hljs-number"><span class="hljs-number">0</span></span>] == ns[<span class="hljs-number"><span class="hljs-number">0</span></span>] &amp; digest1.last == ns[<span class="hljs-number"><span class="hljs-number">1</span></span>]
                   &amp; digest2[<span class="hljs-number"><span class="hljs-number">0</span></span>] == ns[<span class="hljs-number"><span class="hljs-number">0</span></span>] &amp; digest2.last == ns[<span class="hljs-number"><span class="hljs-number">1</span></span>]
                     results [+]= ns
                  <span class="hljs-comment"><span class="hljs-comment">//    </span></span>
                  digest1 = digest1[<span class="hljs-number"><span class="hljs-number">0</span></span> .&lt; (len) <span class="hljs-type"><span class="hljs-type">I</span></span>/ <span class="hljs-number"><span class="hljs-number">2</span></span>]
                  digest2 = digest2[<span class="hljs-number"><span class="hljs-number">0</span></span> .&lt; (len) <span class="hljs-type"><span class="hljs-type">I</span></span>/ <span class="hljs-number"><span class="hljs-number">2</span></span>]

   <span class="hljs-built_in"><span class="hljs-built_in">assert</span></span>(results.len == <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-comment"><span class="hljs-comment">//     "" </span></span>
   <span class="hljs-type"><span class="hljs-type">R</span></span> results[<span class="hljs-number"><span class="hljs-number">0</span></span>]             <span class="hljs-comment"><span class="hljs-comment">//   </span></span>

<span class="hljs-comment"><span class="hljs-comment">// Based on [https://stackoverflow.com/a/8982279/2692494 ‚ÄòHow do I tell Python to convert integers into words‚Äô]</span></span>
<span class="hljs-type"><span class="hljs-type">A</span></span> numbers = <span class="hljs-string"><span class="hljs-string">"zero one two three four five six seven eight nine"</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">split</span></span>()
numbers [+]= <span class="hljs-string"><span class="hljs-string">"ten eleven twelve thirteen fourteen fifteen sixteen"</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">split</span></span>()
numbers [+]= <span class="hljs-string"><span class="hljs-string">"seventeen eighteen nineteen"</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">split</span></span>()
<span class="hljs-type"><span class="hljs-type">L</span></span>(tens) <span class="hljs-string"><span class="hljs-string">"twenty thirty forty fifty sixty seventy eighty ninety"</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">split</span></span>()
   <span class="hljs-type"><span class="hljs-type">L</span></span>(ones) numbers[<span class="hljs-number"><span class="hljs-number">0</span></span>..<span class="hljs-number"><span class="hljs-number">9</span></span>]
      numbers [+]= <span class="hljs-type"><span class="hljs-type">I</span></span> ones == <span class="hljs-string"><span class="hljs-string">"zero"</span></span> {tens} <span class="hljs-type"><span class="hljs-type">E</span></span> tens‚Äò-‚Äôones

<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(calculate_sacred_number())
</code></pre></div></div><div class="spoiler"><b class="spoiler_title">,  [] </b><div class="spoiler_text"><pre><code class="hljs swift">fn calculate_sacred_number()
   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> results = []

   loop(hash_algorithm) hashlib:algorithms_available <span class="hljs-comment"><span class="hljs-comment">//    -</span></span>
                                                     \\ (    <span class="hljs-type"><span class="hljs-type">MD5</span></span>, <span class="hljs-type"><span class="hljs-type">SHA</span></span>...)
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>.unlikely <span class="hljs-string"><span class="hljs-string">"shake"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> hash_algorithm <span class="hljs-comment"><span class="hljs-comment">//   SHAKE,   ...</span></span>
         loop.<span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>
      loop(uppercase) 0B..1B <span class="hljs-comment"><span class="hljs-comment">//     ,   </span></span>
         loop(space)  0B..1B <span class="hljs-comment"><span class="hljs-comment">//        </span></span>
            loop(n)   <span class="hljs-number"><span class="hljs-number">10</span></span>..<span class="hljs-number"><span class="hljs-number">99</span></span> <span class="hljs-comment"><span class="hljs-comment">//    </span></span>
               <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> nw = :numbers[n] <span class="hljs-comment"><span class="hljs-comment">//   ,    .</span></span>
               <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> uppercase
                  nw .= upper()
               <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> space
                  nw .= replace(‚Äò-‚Äô, ‚Äò ‚Äô)
               <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ns = <span class="hljs-type"><span class="hljs-type">String</span></span>(n)
               <span class="hljs-comment"><span class="hljs-comment">//      ,</span></span>
               <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> digest1 = hashlib:(hash_algorithm, nw.encode()).hexdigest()
               <span class="hljs-comment"><span class="hljs-comment">//      ,   .</span></span>
               <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> digest2 = hashlib:(hash_algorithm, ns.encode()).hexdigest()
               loop <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-comment"><span class="hljs-comment">//   ,     </span></span>
                  <span class="hljs-comment"><span class="hljs-comment">//         </span></span>
                  <span class="hljs-comment"><span class="hljs-comment">//     .</span></span>
                  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> digest1[<span class="hljs-number"><span class="hljs-number">0</span></span>] == ns[<span class="hljs-number"><span class="hljs-number">0</span></span>] &amp; digest1.last == ns[<span class="hljs-number"><span class="hljs-number">1</span></span>]
                   &amp; digest2[<span class="hljs-number"><span class="hljs-number">0</span></span>] == ns[<span class="hljs-number"><span class="hljs-number">0</span></span>] &amp; digest2.last == ns[<span class="hljs-number"><span class="hljs-number">1</span></span>]
                     results [+]= ns
                  <span class="hljs-comment"><span class="hljs-comment">//    </span></span>
                  digest1 = digest1[<span class="hljs-number"><span class="hljs-number">0</span></span> .&lt; (len) <span class="hljs-type"><span class="hljs-type">I</span></span>/ <span class="hljs-number"><span class="hljs-number">2</span></span>]
                  digest2 = digest2[<span class="hljs-number"><span class="hljs-number">0</span></span> .&lt; (len) <span class="hljs-type"><span class="hljs-type">I</span></span>/ <span class="hljs-number"><span class="hljs-number">2</span></span>]

   <span class="hljs-built_in"><span class="hljs-built_in">assert</span></span>(results.len == <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-comment"><span class="hljs-comment">//     "" </span></span>
   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> results[<span class="hljs-number"><span class="hljs-number">0</span></span>]        <span class="hljs-comment"><span class="hljs-comment">//   </span></span>

<span class="hljs-comment"><span class="hljs-comment">// Based on [https://stackoverflow.com/a/8982279/2692494 ‚ÄòHow do I tell Python to convert integers into words‚Äô]</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> numbers = <span class="hljs-string"><span class="hljs-string">"zero one two three four five six seven eight nine"</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">split</span></span>()
numbers [+]= <span class="hljs-string"><span class="hljs-string">"ten eleven twelve thirteen fourteen fifteen sixteen"</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">split</span></span>()
numbers [+]= <span class="hljs-string"><span class="hljs-string">"seventeen eighteen nineteen"</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">split</span></span>()
loop(tens) <span class="hljs-string"><span class="hljs-string">"twenty thirty forty fifty sixty seventy eighty ninety"</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">split</span></span>()
   loop(ones) numbers[<span class="hljs-number"><span class="hljs-number">0</span></span>..<span class="hljs-number"><span class="hljs-number">9</span></span>]
      numbers [+]= <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ones == <span class="hljs-string"><span class="hljs-string">"zero"</span></span> {tens} <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> tens‚Äò-‚Äôones

<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(calculate_sacred_number())
</code></pre><br>
  ,     ‚Äî        <code>_:_(...)</code>.  ,    <code>fs:path:dirname()</code>, <code>re:compile()</code>\<code>:()</code>, <code>math:log()</code>\<code>:()</code>, <code>time:sleep()</code>\<code>:()</code>, <code>json:load()</code>, <code>html:escape()</code>      (<code>fs</code>, <code>fs:path</code>\<code>:</code>, <code>re</code>, <code>math</code>, <code>time</code>, <code>json</code>, <code>html</code>).<br>
<br>
        ‚Äî         <abbr title="           "></abbr>. <font color="#BFBFBF">[</font><font color="gray">    : <code>'""'</code>, <code>''""  "'""''</code>, ``.</font><font color="#BFBFBF">]</font><br>
</div></div>,    <s>  </s>      Python ,     ,   ,    Python, ‚Äî     ,      (   <abbr title="=  (  Python        )"></abbr>  \closure   ),     (  Cython       : <code>"http://...?rev=" + revision</code>).<br>
<br>
<div class="spoiler"><b class="spoiler_title">   11/12/13   /:</b><div class="spoiler_text"><table>
<tbody><tr>
<th colspan="2"></th>
<th colspan="2"></th>
<th></th>
</tr>
<tr>
<td colspan="2">A</td>
<td>var</td>
<td></td>
<td>    ( <code>auto</code>  C++11)</td>
</tr>
<tr>
<td colspan="2">C</td>
<td>in</td>
<td></td>
<td>contained in\ </td>
</tr>
<tr>
<td>I</td>
<td></td>
<td>if</td>
<td></td>
<td></td>
</tr>
<tr>
<td rowspan="2">E</td>
<td rowspan="2"></td>
<td>else</td>
<td></td>
<td rowspan="2"></td>
</tr>
<tr>
<td>exception</td>
<td></td>
</tr>
<tr>
<td>F</td>
<td></td>
<td>fn</td>
<td></td>
<td> </td>
</tr>
<tr>
<td>L</td>
<td>/</td>
<td>loop</td>
<td>//</td>
<td> for, while  do-while</td>
</tr>
<tr>
<td>N</td>
<td></td>
<td>null</td>
<td></td>
<td></td>
</tr>
<tr>
<td>R</td>
<td></td>
<td>return</td>
<td></td>
<td> <b></b> </td>
</tr>
<tr>
<td>S</td>
<td></td>
<td>switch</td>
<td></td>
<td>switch/select</td>
</tr>
<tr>
<td colspan="2">T</td>
<td>type</td>
<td></td>
<td>  </td>
</tr>
<tr>
<td colspan="2">T()</td>
<td>typeof</td>
<td>()</td>
<td>   (<a href="https://gcc.gnu.org/onlinedocs/gcc/Typeof.html">typeof  GCC</a>, <a href="http://en.cppreference.com/w/cpp/language/decltype">decltype  C++11</a>)</td>
</tr>
<tr>
<td colspan="4">X</td>
<td>   </td>
</tr>
</tbody></table>(        ‚Äî    ,   .)<br>
<br>
/      ,           (  <font color="#BFBFBF">[</font><font color="gray"> <font color="#BFBFBF">[</font><font color="gray">?</font><font color="#BFBFBF">]</font></font><font color="#BFBFBF">]</font>   ),     ,      11/12/13 /  /.<br>
<div class="spoiler"><b class="spoiler_title">  :</b><div class="spoiler_text"><table>
<tbody><tr>
<td>I\</td>
<td>I.likely\.<br>
I.unlikely\.</td>
</tr>
<tr>
<td>\</td>
<td>E.try<br>
E.throw<br>
E.catch\.<br>
E.try_end ( <a href="https://docs.python.org/3/reference/compound_stmts.html">try-else  Python</a>)</td>
</tr>
<tr>
<td>F\</td>
<td>F.args\.<br>
F.virtual.new\..<br>
F.virtual.override\..<br>
F.virtual.final\..<br>
F.virtual.abstract\..<br>
F.destructor\.</td>
</tr>
<tr>
<td>L\</td>
<td>L.continue\.<br>
L.on_continue\._<br>
L.break\.<br>
L.on_break\._<br>
L.again ‚Äî    <br>
L.index ‚Äî     (  0)<br>
L.next\. ‚Äî    <br>
L.prev\. ‚Äî    <br>
</td>
</tr>
<tr>
<td>S</td>
<td>S.break<br>
S.fallthrough</td>
</tr>
<tr>
<td>T</td>
<td>T.base\. ‚Äî     <br>
T.enum\. ‚Äî  </td>
</tr>
</tbody></table></div></div></div></div><br>
<br>
<h3>  </h3><br>
<ol>
<li>      (    ++      RAII) ‚Äî <code>F.on_scope_exit</code> (       <a href="https://golang.org/doc/effective_go.html">defer  Go</a>).</li>
<li>     / ‚Äî <code>F.destructor</code>.</li>
</ol><br>
     .<br>
             close():<br>
<pre><code class="python hljs">tmpfile, fname = tempfile.mkstemp(text=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)
tmpfile = open(tmpfile)
r = subprocess.call(cmd, stdout = tmpfile, stderr = tmpfile)
tmpfile.seek(<span class="hljs-number"><span class="hljs-number">0</span></span>)
print(tmpfile.read(), end = <span class="hljs-string"><span class="hljs-string">''</span></span>)
tmpfile.close() <span class="hljs-comment"><span class="hljs-comment">#     ,  tmpfile     </span></span>
os.remove(fname)
</code></pre>      move()  :<br>
<pre><code class="hljs dos">Person p
p.name = ...
p.age = ...
persons.<span class="hljs-built_in"><span class="hljs-built_in">append</span></span>(p) //  ++     persons.push_back(std::<span class="hljs-built_in"><span class="hljs-built_in">move</span></span>(p))  
</code></pre>        sorted()\():<br>
<pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> root, dirs, files <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> os.walk(path):
    <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> file <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> sorted(files): <span class="hljs-comment"><span class="hljs-comment">#  C++    -  (files.sort(), files)     files</span></span>
        ...
</code></pre><br>
<h3>    (type inference)</h3><br>
     ,          copy()\()  share()\().<br>
         (      <a href="http://nemerle.org/About"> Nemerle        </a>).   autounishared_ptr ‚Äî  unique_ptr  shared_ptr  C++11.       share(p),  p  shared_ptr-,   unique_ptr-.<br>
<br>
 copy()\()     , ,   ,       (  <code> =</code>     ).<br>
(         ‚Äî     ,   ,       <abbr title="     "></abbr>  C++  Rust (    ).)<br>
<br>
    ,        ,     ?<br>
<pre><code class="hljs delphi">A fstr = <span class="hljs-keyword"><span class="hljs-keyword">File</span></span>(fname).<span class="hljs-keyword"><span class="hljs-keyword">read</span></span>()  <span class="hljs-comment"><span class="hljs-comment">//    = ().()</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">File</span></span>(fname).<span class="hljs-keyword"><span class="hljs-keyword">write</span></span>(contents)  <span class="hljs-comment"><span class="hljs-comment">//  ().()</span></span>

I <span class="hljs-keyword"><span class="hljs-keyword">File</span></span>(fname)    <span class="hljs-comment"><span class="hljs-comment">//    I fs:file_exists(fname)</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">File</span></span>(fname).size <span class="hljs-comment"><span class="hljs-comment">//    fs:stat(fname).size</span></span>
</code></pre><br>
<h3>/  </h3><br>
      Release/Optimized ?    Debug ?      Debug  Release/Optimized? ,         ,  /  ,       .  ,     -         ,     Release/Optimized build.  ,  gdb,  <a href="https://stackoverflow.com/questions/5497855/what-does-value-optimized-out-mean-in-gdb" title="But here the a is not redundant,it needs to be used later"> optimized out</a>        .    ,  -  (   -  )  !        ‚Äî   .         ,   ,   ,  .<br>
<br>
,        , , ,    ,            .<br>
<br>
<h3>         ( )</h3><br>
      <code>:</code> ( <code>:numbers</code>   ).<br>
<br>
  ‚Äî  <code>.</code> (, , <code>.x</code>    <font color="#BFBFBF">[</font><font color="gray">/</font><font color="#BFBFBF">]</font>    <code>x</code>),   ( \static   C++) ‚Äî  <code>.:</code>.<br>
<br>
 @ (      C  a ‚Äî <b>C</b><b>a</b>pture\<b></b><b></b>) ‚Äî       ,  nonlocal  Python.<br>
<br>
 <code>^</code> ‚Äî       ‚Äò ‚Äô\scope,        (,    <code>i</code>,    - ,       <code>i</code>,         <code>i</code>  ,      <code>^i</code>).  ^          :<br>
<pre><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">F</span></span> outer_func(...)
   F local_func(...)
     <span class="hljs-regexp"><span class="hljs-regexp"> ^R</span></span> // (or<span class="hljs-regexp"><span class="hljs-regexp"> ^(outer_func)R)</span></span> return from outer_func 
</code></pre><br>
           (   ,       ).  -   ,    .<br>
<br>
<div class="spoiler"><b class="spoiler_title">P.S.       .</b><div class="spoiler_text"><pre><code class="hljs 1c">T Person
   String name
   Int age

   F (name, age)
      .name = name <span class="hljs-comment"><span class="hljs-comment">// or (.).name = name, because (.) is this/self</span></span>
      .age  = age

A persons = []
persons [+]= Person(<span class="hljs-string"><span class="hljs-string">"Name"</span></span>, <span class="hljs-number"><span class="hljs-number">17</span></span>)

<span class="hljs-comment"><span class="hljs-comment">// Translation of Python's `def parenthesize(s: Union[str, bytes]) -&gt; Union[str, bytes]: ...` from [http://neopythonic.blogspot.com]:</span></span>
F parenthesize(T C (String, Bytes) s)
   ...

<span class="hljs-comment"><span class="hljs-comment">// Doubly linked list</span></span>
T DLListItem[T Type]
   Type<span class="hljs-meta"><span class="hljs-meta">&amp; prev </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// ‚Äòunsafe pointer‚Äô/‚Äòunowned reference‚Äô [true weak pointer/reference `Type??` is much more expensive]</span></span></span></span>
   Type? next

   F is_in_list <span class="hljs-comment"><span class="hljs-comment">// if method is defined without parentheses, than it must be called also without, i.e.: I it.is_in_list {...} </span></span>
      R next != N

T DLList[T Type(DLListItem)] <span class="hljs-comment"><span class="hljs-comment">// Type(DLListItem) means that Type must be derived from DLListItem</span></span>
   Type? first
   Type<span class="hljs-meta"><span class="hljs-meta">&amp; last</span></span>

   F.destructor <span class="hljs-comment"><span class="hljs-comment">// destructor is needed/necessary because some list item may be shared, and in that case it will not be removed from the list and also all following items will not be removed</span></span>
      .clear()

   F clear()
      Type? p = move(first) <span class="hljs-comment"><span class="hljs-comment">// this also sets `first` to N</span></span>
      L p
         p.prev = N
         Type? n = move(p.next) <span class="hljs-comment"><span class="hljs-comment">// this also sets `p.next` to N</span></span>
         p = n <span class="hljs-comment"><span class="hljs-comment">// move(n) is not needed here as the compiler put `move` automatically at all places of last use of variable</span></span>
      last = N

   F append, [+]=(Type <span class="hljs-meta"><span class="hljs-meta">&amp;item) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// define both method `append()` and operator [+]=</span></span></span></span>
      item.prev = .last
      I .last {.last.next = item} E .first = item
      .last = item

   F calc_len()
      Int len = <span class="hljs-number"><span class="hljs-number">0</span></span>
      L (.)
         len++
      R len

   F L
      F () -&gt; Type<span class="hljs-meta"><span class="hljs-meta">&amp; </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// returns iterator to the first element of this container</span></span></span></span>
         R .first
      F next(it) -&gt; Type<span class="hljs-meta"><span class="hljs-meta">&amp;</span></span>
         R it.next
      F prev(it)
         R it.prev


 
   <span class="hljs-built_in"><span class="hljs-built_in"></span></span> 
   <span class="hljs-built_in"><span class="hljs-built_in"></span></span> 

    (, )
      . =  <span class="hljs-comment"><span class="hljs-comment">//  (.). = ,   (.)  this/self</span></span>
      . = 

 _ = []
_ [+]= (<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-number"><span class="hljs-number">17</span></span>)

<span class="hljs-comment"><span class="hljs-comment">//  Python-  `def parenthesize(s: Union[str, bytes]) -&gt; Union[str, bytes]: ...`  [http://neopythonic.blogspot.com]:</span></span>
 __(  (<span class="hljs-built_in"><span class="hljs-built_in"></span></span>, ) )
   ...

<span class="hljs-comment"><span class="hljs-comment">//  </span></span>
 [ <span class="hljs-built_in"><span class="hljs-built_in"></span></span>]
   <span class="hljs-built_in"><span class="hljs-built_in"></span></span><span class="hljs-meta"><span class="hljs-meta">&amp;  </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//  / [   `??`  ]</span></span></span></span>
   <span class="hljs-built_in"><span class="hljs-built_in"></span></span>? 

    _ <span class="hljs-comment"><span class="hljs-comment">//     ,       , :  ._ {...} </span></span>
        != 

 [ <span class="hljs-built_in"><span class="hljs-built_in"></span></span>()] <span class="hljs-comment"><span class="hljs-comment">// () ,       </span></span>
   <span class="hljs-built_in"><span class="hljs-built_in"></span></span>? 
   <span class="hljs-built_in"><span class="hljs-built_in"></span></span><span class="hljs-meta"><span class="hljs-meta">&amp; </span></span>

   . <span class="hljs-comment"><span class="hljs-comment">//  ,   -     shared\,               </span></span>
      .()

    ()
      <span class="hljs-built_in"><span class="hljs-built_in"></span></span>?  = <span class="hljs-keyword"><span class="hljs-keyword"></span></span>() <span class="hljs-comment"><span class="hljs-comment">//    ``  </span></span>
       
         . = 
         <span class="hljs-built_in"><span class="hljs-built_in"></span></span>?  = <span class="hljs-keyword"><span class="hljs-keyword"></span></span>(.) <span class="hljs-comment"><span class="hljs-comment">//    `.`  </span></span>
          =  <span class="hljs-comment"><span class="hljs-comment">// ()   ,     ``      </span></span>
       = 

    , , [+]=(<span class="hljs-built_in"><span class="hljs-built_in"></span></span> <span class="hljs-meta"><span class="hljs-meta">&amp;) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//      ""  : F append, ...</span></span></span></span>
      . = .
       . {.. = }  . = 
      . = 

    _()
      <span class="hljs-built_in"><span class="hljs-built_in"></span></span>  = <span class="hljs-number"><span class="hljs-number">0</span></span>
       (.)
         ++
       

    
       () -&gt; <span class="hljs-built_in"><span class="hljs-built_in"></span></span><span class="hljs-meta"><span class="hljs-meta">&amp; </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//    (   ‚Äî     )</span></span></span></span>
          .
       () -&gt; <span class="hljs-built_in"><span class="hljs-built_in"></span></span><span class="hljs-meta"><span class="hljs-meta">&amp;</span></span>
          .
       ()
          .
</code></pre><br>
     ,          : <a href="https://github.com/alextretyak/3/blob/master/round_chart/round_chart.py"> </a> ( Python    )  <a href="">   []</a> ( C++    ).<br>
</div></div></div><p>Source: <a href="https://habr.com/ru/post/350694/">https://habr.com/ru/post/350694/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../350684/index.html">Moscow JS 40 - report, guest reviews and video</a></li>
<li><a href="../350686/index.html">Exhaustive benchmarks PHP 5.6, 7.0, 7.1, 7.2 and HHVM (2018)</a></li>
<li><a href="../350688/index.html">Do you know where you can apply expression's in your project or optimize the creation of tests</a></li>
<li><a href="../350690/index.html">Cloud Application Development Guide with SAP Cloud Platform and Cloud Foundry</a></li>
<li><a href="../350692/index.html">A couple of obscure rakes when using web fonts</a></li>
<li><a href="../350696/index.html">Notes for the source editor (development environment)</a></li>
<li><a href="../350698/index.html">400 thousand servers may be subject to RCE attacks due to a vulnerability in the Exim mail agent</a></li>
<li><a href="../350700/index.html">The girls and the fourth industrial revolution</a></li>
<li><a href="../350702/index.html">A couple of tips for beginners gamedeveloper from novice gamedeveloper</a></li>
<li><a href="../350708/index.html">Containers of the introduction of dependencies and the benefits of their use</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>