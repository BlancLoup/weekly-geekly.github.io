<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Telegram bot framework</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It just so happened that the line of my work is closely intertwined with the creation of bots for Telegram. I started writing them immediately after t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Telegram bot framework</h1><div class="post__text post__text-html js-mediator-article">  It just so happened that the line of my work is closely intertwined with the creation of bots for Telegram.  I started writing them immediately after the <a href="https://core.telegram.org/bots">Telegram Bot API appeared</a> , then there were no tools for this.  I had to write the library myself to work with the API, as I partially already mentioned in my previous <a href="https://habrahabr.ru/post/264583/">article</a> .  Over time, the library was rewritten several times and eventually overgrown with different chips.  In the article I will try to talk about how to write bots with it. <br><br><img src="https://habrastorage.org/files/2ea/f0b/49b/2eaf0b49bf1149dbb8966524597a4ce8.png"><br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To work with the API, you first need a token, to get it, just write to <a href="https://telegram.me/botfather">this</a> bot and follow its instructions. <br><br>  I'll start right away with an example of a simple bot: <br><br><pre><code class="javascript hljs"><span class="hljs-meta"><span class="hljs-meta">'use strict'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tg = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'telegram-node-bot'</span></span>)(<span class="hljs-string"><span class="hljs-string">'YOUR_TOKEN'</span></span>) tg.router. when([<span class="hljs-string"><span class="hljs-string">'ping'</span></span>], <span class="hljs-string"><span class="hljs-string">'PingController'</span></span>) tg.controller(<span class="hljs-string"><span class="hljs-string">'PingController'</span></span>, ($) =&gt; { tg.for(<span class="hljs-string"><span class="hljs-string">'ping'</span></span>, () =&gt; { $.sendMessage(<span class="hljs-string"><span class="hljs-string">'pong'</span></span>) }) })</code> </pre> <br><br>  Works! <br><br><img src="https://habrastorage.org/files/9d8/ec7/04f/9d8ec704f7e7417fbb941b8da2b8b9fb.PNG" width="320"><br><br>  And now let's look at what is written there: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tg = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'telegram-node-bot'</span></span>)(<span class="hljs-string"><span class="hljs-string">'YOUR_TOKEN'</span></span>)</code> </pre><br>  Everything is clear, just declare the module and give it our token. <br><br><pre> <code class="javascript hljs">tg.router. when([<span class="hljs-string"><span class="hljs-string">'ping'</span></span>], <span class="hljs-string"><span class="hljs-string">'PingController'</span></span>)</code> </pre><br>  Next, we announce the commands and routers that are responsible for these commands. <br><br><pre> <code class="javascript hljs">tg.controller(<span class="hljs-string"><span class="hljs-string">'PingController'</span></span>, ($) =&gt; { tg.for(<span class="hljs-string"><span class="hljs-string">'ping'</span></span>, () =&gt; { $.sendMessage(<span class="hljs-string"><span class="hljs-string">'pong'</span></span>) }) })</code> </pre><br>  After we create the PingController controller and declare a ping command handler in it. <br><br>  When the bot receives the command from the user, it will understand that the PingController controller is responsible for the ping command and will execute the ping command handler. <br><br>  This can close the article and start writing simple bots, and I will continue to tell. <br><br><h4>  Router </h4><br>  As I wrote above, the router is responsible for communicating the commands and controllers that these commands handle. <br>  Obviously, one controller can handle multiple commands. <br>  Also, the router has a <i>otherwise</i> function, with which you can declare a controller that will process unsolicited commands: <br><br><pre> <code class="javascript hljs">tg.router. when([<span class="hljs-string"><span class="hljs-string">'test'</span></span>, <span class="hljs-string"><span class="hljs-string">'test2'</span></span>], <span class="hljs-string"><span class="hljs-string">'TestController'</span></span>). <span class="hljs-comment"><span class="hljs-comment">// "TestController"     test,    test2 when(['ping'], 'PingController'). otherwise('OtherController') //"OtherController"      .</span></span></code> </pre><br><br><br><h4>  Controller </h4><br>  When a bot receives a command from a user, controllers come into play.  As you can see from the example above, the controllers process user commands.  Within one controller, several commands can be processed: <br><br><pre> <code class="javascript hljs">tg.controller(<span class="hljs-string"><span class="hljs-string">'TestController'</span></span>, ($) =&gt; { tg.for(<span class="hljs-string"><span class="hljs-string">'test'</span></span>, () =&gt; { $.sendMessage(<span class="hljs-string"><span class="hljs-string">'test'</span></span>) }) tg.for(<span class="hljs-string"><span class="hljs-string">'test2'</span></span>, () =&gt; { $.sendMessage(<span class="hljs-string"><span class="hljs-string">'test2'</span></span>) }) })</code> </pre><br>  In the controller, you can also write any of its functions, variables. <br><br><h4>  Scope </h4><br>  Each controller accepts a special $ - <i>scope</i> variable. <br>  It contains all that we need to know about the request: <br><br><br><ul><li>  chatId - chat id, where the request came from </li><li>  user - information about the user who sent the request, more <a href="https://core.telegram.org/bots/api">here</a> </li><li>  message - all information about the message, <a href="https://core.telegram.org/bots/api">details</a> </li><li>  args is the message that the user sent, but without the command itself.  (If the user sends "/ start 1" to args it will be "1") </li></ul><br><br>  You may have noticed that, for example, we called the <i>sendMessage</i> function using <i>scope</i> .  The fact is that in addition to the fields described above, the <i>scope</i> also contains all the functions of the library with the <i>chatId</i> already written for a particular chat.  The same function <i>sendMessage</i> can be called directly: <br><br><pre> <code class="javascript hljs">tg.controller(<span class="hljs-string"><span class="hljs-string">'TestController'</span></span>, ($) =&gt; { tg.for(<span class="hljs-string"><span class="hljs-string">'test'</span></span>, () =&gt; { tg.sendMessage($.chatId, <span class="hljs-string"><span class="hljs-string">'test'</span></span>) }) tg.for(<span class="hljs-string"><span class="hljs-string">'test2'</span></span>, () =&gt; { tg.sendMessage($.chatId, <span class="hljs-string"><span class="hljs-string">'test2'</span></span>) }) })</code> </pre><br>  Agree, it is not very convenient to write the chat id, considering that we are writing to the same chat where the message came from. <br><br><h4>  Call chain </h4><br>  Sometimes we ask something from the user and wait for any information from him.  How to implement it?  Of course, we can store the state of users and, depending on it, process it in ‚ÄúOtherController‚Äù, but this is not very nice, and breaks the structure and readability. <br>  For such cases, the <i>scope</i> has a <i>waitForRequest</i> function: <br><pre> <code class="javascript hljs">tg.controller(<span class="hljs-string"><span class="hljs-string">'TestController'</span></span>, ($) =&gt; { tg.for(<span class="hljs-string"><span class="hljs-string">'/reg'</span></span>, ($) =&gt; { $.sendMessage(<span class="hljs-string"><span class="hljs-string">'Send me your name!'</span></span>) $.waitForRequest(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$</span></span></span><span class="hljs-function">) =&gt;</span></span> { $.sendMessage(<span class="hljs-string"><span class="hljs-string">'Hi '</span></span> + $.message.text + <span class="hljs-string"><span class="hljs-string">'!'</span></span>) }) }) })</code> </pre><br>  The <i>waitForRequest</i> function takes one argument, a <i>callback</i> , which it will call when the user sends the next message.  A new <i>scope</i> is transferred to this <i>callback</i> .  As you can see from the example above, we ask the user to enter his name, wait for his next message and welcome it. <br><br><h4>  Navigation </h4><br><br>  Suppose our bot has authorization, in the main controller we need to somehow check whether the user is authorized and redirect him to the login, but how?  To do this, there is a <i>routeTo</i> function that accepts the command and executes it as if the user sent it to us: <br><pre> <code class="javascript hljs">tg.controller(<span class="hljs-string"><span class="hljs-string">'StartController'</span></span>, ($) =&gt; { tg.for(<span class="hljs-string"><span class="hljs-string">'/profile'</span></span>, ($) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!logined){ <span class="hljs-comment"><span class="hljs-comment">//     $.routeTo("/login") //   } }) })</span></span></code> </pre><br><br><h4>  Forms </h4><br>  It often happens that you need to find out some information from the user, for this there is a form generator: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> form = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: { <span class="hljs-attr"><span class="hljs-attr">q</span></span>: <span class="hljs-string"><span class="hljs-string">'Send me your name'</span></span>, <span class="hljs-attr"><span class="hljs-attr">error</span></span>: <span class="hljs-string"><span class="hljs-string">'sorry, wrong input'</span></span>, <span class="hljs-attr"><span class="hljs-attr">validator</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">input, callback</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(input[<span class="hljs-string"><span class="hljs-string">'text'</span></span>]) { callback(<span class="hljs-literal"><span class="hljs-literal">true</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } callback(<span class="hljs-literal"><span class="hljs-literal">false</span></span>) } }, <span class="hljs-attr"><span class="hljs-attr">age</span></span>: { <span class="hljs-attr"><span class="hljs-attr">q</span></span>: <span class="hljs-string"><span class="hljs-string">'Send me your age'</span></span>, <span class="hljs-attr"><span class="hljs-attr">error</span></span>: <span class="hljs-string"><span class="hljs-string">'sorry, wrong input'</span></span>, <span class="hljs-attr"><span class="hljs-attr">validator</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">input, callback</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(input[<span class="hljs-string"><span class="hljs-string">'text'</span></span>] &amp;&amp; IsNumeric(input[<span class="hljs-string"><span class="hljs-string">'text'</span></span>])) { callback(<span class="hljs-literal"><span class="hljs-literal">true</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } callback(<span class="hljs-literal"><span class="hljs-literal">false</span></span>) } }, <span class="hljs-attr"><span class="hljs-attr">sex</span></span>: { <span class="hljs-attr"><span class="hljs-attr">q</span></span>: <span class="hljs-string"><span class="hljs-string">'Select your sex'</span></span>, <span class="hljs-attr"><span class="hljs-attr">keyboard</span></span>: [[<span class="hljs-string"><span class="hljs-string">'male'</span></span>],[<span class="hljs-string"><span class="hljs-string">'famale'</span></span>], [<span class="hljs-string"><span class="hljs-string">'UFO'</span></span>]], <span class="hljs-attr"><span class="hljs-attr">error</span></span>: <span class="hljs-string"><span class="hljs-string">'sorry, wrong input'</span></span>, <span class="hljs-attr"><span class="hljs-attr">validator</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">input, callback</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(input[<span class="hljs-string"><span class="hljs-string">'text'</span></span>] &amp;&amp; [<span class="hljs-string"><span class="hljs-string">'male'</span></span>, <span class="hljs-string"><span class="hljs-string">'famale'</span></span>, <span class="hljs-string"><span class="hljs-string">'UFO'</span></span>].indexOf(input[<span class="hljs-string"><span class="hljs-string">'text'</span></span>]) &gt; <span class="hljs-number"><span class="hljs-number">-1</span></span>) { callback(<span class="hljs-literal"><span class="hljs-literal">true</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } callback(<span class="hljs-literal"><span class="hljs-literal">false</span></span>) } }, } $.runForm(form, (result) =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(result) })</code> </pre><br>  As can be seen from the code, each field has a message that is being poisoned to the user, a validator that receives a message from the user, and an error message in case of incorrect data.  You can also send a keyboard. <br>  The <i>runForm</i> function will return an object with the same fields as we wrote in the form itself, in our case it is name and age. <br><br><h4>  Menu </h4><br><br>  There is a similar tool for the menu: <br><pre> <code class="javascript hljs">$.runMenu({ <span class="hljs-attr"><span class="hljs-attr">message</span></span>: <span class="hljs-string"><span class="hljs-string">'Select:'</span></span>, <span class="hljs-string"><span class="hljs-string">'Exit'</span></span>: { <span class="hljs-attr"><span class="hljs-attr">message</span></span>: <span class="hljs-string"><span class="hljs-string">'Do you realy want to exit?'</span></span>, <span class="hljs-string"><span class="hljs-string">'yes'</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { }, <span class="hljs-string"><span class="hljs-string">'no'</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { } } })</code> </pre><br>  The menu automatically creates a keyboard with field names and sends it along with the message that we specify in the <i>message</i> field. <br>  A menu item can be both an object and a function.  If it is an object, the user will receive a submenu, and if the function, then it will be called and allow us to process the user's request. <br><br>  It is also possible to set the location of the buttons in the menu keypad; the <i>layout</i> field is responsible for this; if it is not transmitted at all, then there will be one button on each line.  You can pass the maximum number of buttons per line or an array of the number of buttons for each line: <br><pre> <code class="javascript hljs">$.runMenu({ <span class="hljs-attr"><span class="hljs-attr">message</span></span>: <span class="hljs-string"><span class="hljs-string">'Select:'</span></span>, <span class="hljs-attr"><span class="hljs-attr">layout</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'test1'</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {}, <span class="hljs-comment"><span class="hljs-comment">//    'test2': () =&gt; {}, //    'test3': () =&gt; {}, //    'test4': () =&gt; {}, //    'test5': () =&gt; {}, //    })</span></span></code> </pre><br><br><pre> <code class="javascript hljs">$.runMenu({ <span class="hljs-attr"><span class="hljs-attr">message</span></span>: <span class="hljs-string"><span class="hljs-string">'Select:'</span></span>, <span class="hljs-attr"><span class="hljs-attr">layout</span></span>: [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], <span class="hljs-string"><span class="hljs-string">'test1'</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {}, <span class="hljs-comment"><span class="hljs-comment">//    'test2': () =&gt; {}, //    'test3': () =&gt; {}, //    'test4': () =&gt; {}, //    'test5': () =&gt; {}, ///    })</span></span></code> </pre><br><br><h4>  API functions </h4><br>  All functions for working with API have both obligatory parameters and optional ones.  For example, the function <i>sendMessage</i> - according to the documentation it has for the required parameter (chatId, photo), but we can send any additional ones: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> options = { <span class="hljs-attr"><span class="hljs-attr">reply_markup</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify({ <span class="hljs-attr"><span class="hljs-attr">one_time_keyboard</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">keyboard</span></span>: [[<span class="hljs-string"><span class="hljs-string">'test'</span></span>]] }) } $.sendMessage(<span class="hljs-string"><span class="hljs-string">'test'</span></span>, options)</code> </pre><br><br>  In this case, the last parameter is always callback. <br><br>  Here is a list of currently supported API functions with required parameters (recall that if you call them from <i>scope</i> , the <i>chatId</i> parameter <i>is</i> not needed): <br><br><ul><li>  sendPhoto (chatId, photo) </li><li>  sendDocument (chatId, document) </li><li>  sendMessage (chatId, text) </li><li>  sendLocation (chatId, latitude, longitude) </li><li>  sendAudio (chatId, audio) </li><li>  forwardMessage (chatId, fromChatId, messageId) </li><li>  getFile (fileId) </li><li>  sendChatAction (chatId, action) </li><li>  getUserProfilePhotos (userId) </li><li>  sendSticker (chatId, sticker) </li><li>  sendVoice (chatId, voice) </li><li>  sendVideo (chatId, video) </li></ul><br><br>  Examples of calling some functions: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> doc = { <span class="hljs-attr"><span class="hljs-attr">value</span></span>: fs.createReadStream(<span class="hljs-string"><span class="hljs-string">'file.png'</span></span>), <span class="hljs-comment"><span class="hljs-comment">//stream filename: 'photo.png', contentType: 'image/png' } $.sendDocument(doc) $.sendPhoto(fs.createReadStream('photo.jpeg')) $.sendAudio(fs.createReadStream('audio.mp3')) $.sendVoice(fs.createReadStream('voice.ogg')) $.sendVideo(fs.createReadStream('video.mp4')) $.sendSticker(fs.createReadStream('sticker.webp'))</span></span></code> </pre><br><br><br>  That's all, thanks to everyone who mastered the article, and here is the link to GitHub - <a href="https://github.com/Naltox/telegram-node-bot">github.com/Naltox/telegram-node-bot</a> and NPM: <a href="https://npmjs.com/package/telegram-node-bot">npmjs.com/package/telegram-node-bot</a> </div><p>Source: <a href="https://habr.com/ru/post/276389/">https://habr.com/ru/post/276389/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../276373/index.html">Social CRM. Collecting the interest of Internet users</a></li>
<li><a href="../276377/index.html">Reducing the size of a thin disk in ESXi</a></li>
<li><a href="../276381/index.html">Who should live and who should die: priorities of processes in Android</a></li>
<li><a href="../276383/index.html">Habra graph, community and where did all the karma go</a></li>
<li><a href="../276385/index.html">Hyper-scale server farm Amazon, Apple, Google, Switch, Toyota</a></li>
<li><a href="../276391/index.html">MonCach√© - implementation of the MongoDB API based on InterSystems Cach√©</a></li>
<li><a href="../276393/index.html">Smart babysitter based on Intel Edison and Ubidots</a></li>
<li><a href="../276395/index.html">Cache it: increase the stability of the ONLYOFFICE server with Redis</a></li>
<li><a href="../276397/index.html">What is the future of email: Opinions of the creator of Wikipedia, engineers and entrepreneurs from Silicon Valley</a></li>
<li><a href="../276399/index.html">What experts in Data Science and Big Data are discussing today</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>