<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Android Future note</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article I would like to share my observations and experience in building applications for the Android platform. How to save time in the future...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Android Future note</h1><div class="post__text post__text-html js-mediator-article">  In this article I would like to share my observations and experience in building applications for the Android platform.  How to save time in the future. <br><a name="habracut"></a><br><h4>  Layouts </h4><br>  I think every novice programmer for the Android platform, immediately notices, in order to build a UI, you need to create an xml file in the / res / layout project directory, and then miraculously link it with Java code.  At first, this seems to be a peculiar method, and immediately there is a feeling that something is missing, and the UI designer in the Android plug-in for IDE is far from a miracle.  Well, enough talk, to the point! <br><br>  If you do not go deep into the variety of devices on the market, which in my case turned out to be, there is a version of Android platform, we know the screen size of the target device.  Suppose you have the same situation. <br><br>  In general, you have to have two folders / res / layout and / res / layout-land.  Here, -land acts as a qualifier, which means that any layout in this folder is only available for Landscape (horizontal) mode.  If there is a layout that looks the same for both modes, vertical and horizontal, then it is placed in / res / layout.  Android independently causes the Destructor of the Activity and creates a new Activity when the screen is rotated, unless a specific orientation is specified in AndroidManifest.  Thus, you can place a layout with the same name in both / res / layout and / res / layout-land folders, and Android will take care of loading the current layout. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In the Activity code, as usual, is called <br><br><pre><code class="java hljs">setContentView(R.layout.[ layout]);</code> </pre> <br>  What from me?  And it is true that he described in short what can be found on the net anyway.  The fact is that I had to write a very graphically modified application.  Most of the elements have been greatly modified.  The first thing that came to mind was wrong.  I decided to write my own child component, from the same ListView, for example, and it started there: onDraw, dispatchDraw, etc. So it seemed to me a little, I also entered specific values ‚Äã‚Äãin pixels when drawing any element. <br><br>  This is how not to do it.  Even if there is no way out, try to the last not to create the component, but to wriggle out with layouts.  It is much better to write a BaseAdapter for a ListView, for example, where to load another layout and control it.  If there is no output, then all values ‚Äã‚Äãfor UI in pixels should be transferred to the component properties (attrs), which will be transmitted when describing the component in xml.  The values ‚Äã‚Äãthemselves in xml, just do not point to a straight line, but use dimensions, links. <br><br>  Let's look at what I mean by attrs and dimensions. <br><br><h4>  Attrs </h4><br>  Android provides an implicit way to extend your non-standard components with additional properties.  You will need to create an attrs.xml file in / res / values.  It is likely that you can call this file any differently, but I consider this name a standard. <br><br>  The content of attrs.xml is readily accessible by human.  Let's look at a simple example: <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">declare-styleable</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"MyExampleView"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">attr</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"exampleAttrWidth"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">format</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"dimension"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">declare-styleable</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Resources is constantly encountered, used to store any resources, and subsequently available in Java code through the static class R of an application package.  For example, our declaration is available through R.styleable.MyExampleView.  According to my observations and the fact that I had to use, there is such a format list (property type): <br><ul><li>  dimension - can be a value of type 10px, 10dip or a reference to <a href="http://habrahabr.ru/users/dimen/" class="user_link">dimen</a> / [value name] </li><li>  integer - may be a value of type 10, 5, 2. I also think that the link may work </li><li>  string - just a text value of the ‚ÄúHello World‚Äù type or a link to the <a href="http://habrahabr.ru/users/string/" class="user_link">string</a> / [value name] </li><li>  reference - reference to @drawable for example, which in turn can be @drawable, <a href="http://habrahabr.ru/users/color/" class="user_link">color</a> or something else </li></ul>  Suppose we have our own class, derived from View: com.android.example.view.MyExampleView.  We describe it simply: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.android.example.view; <span class="hljs-comment"><span class="hljs-comment">// import public class MyExampleView extends View { private exampleWidth; public MyExampleView(Context context) { super(context); //    this.exampleWidth = 128; } public MyExampleView(Context context, AttributeSet attrs) { super(context, attrs); initialize(context, attrs, 0); } public MyExampleView(Context context, AttributeSet attrs, int defStyle) { super(context, attrs, defStyle); initialize(context, attrs, defStyle); } private void initialize(Context context, AttributeSet attrs, int defStyle) { //     xml final TypedArray styledAttributes = context.obtainStyledAttributes(attrs, R.styleable.MyExampleView, defStyle, 0); try { //   exampleWidth  dimension   this.verticalSpace = styledAttributes.getDimensionPixelSize(R.styleable.MyExampleView_exampleWidth, 128 /*    */); } finally { //  Android  ,      styledAttributes.recycle(); } } }</span></span></code> </pre> <br>  Thus, we have created our own control that can be configured directly from xml, and this method is very flexible, because  There is no binding to specific values ‚Äã‚Äãin the code, except for the default.  To create an element, write in the layout: <br><br><pre> <code class="xml hljs"><span class="hljs-comment"><span class="hljs-comment">&lt;!--      xmlns:example="http://schemas.android.com/apk/res/com.android.example.view"  ,     example:[ ] --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">com.android.example.view.MyExampleView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">example:exampleWidth</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/exampleWidth"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></code> </pre> <br><h4>  Dimensions </h4><br>  In an ideal world, all values ‚Äã‚Äãshould be put into /res/values/dimensions.xml in the format: [value] dp, then used in xml or code via a reference to <a href="http://habrahabr.ru/users/dimen/" class="user_link">dimen</a> / [name].  I advise, as I am doing at the moment, to make the size of the text, the main elements of the application, for example the offset of some panels, default padding / margin, etc. Do not make values ‚Äã‚Äãfor any specific elements, for example in one dialog box from buttons at a distance of 10 pixels. <br><br>  This approach will help to be sure that in the application all text looks standardized, for example, large headings are 30 pixels, medium ones are 24, and plain text is 16. If you don‚Äôt like it, change it only in one place. <br><br>  In principle, this is not worth dwelling on, but there is one thing.  Recently, Google updated the Android plugin for Eclipse, respectively, and now there is such a beast Lint.  So, he winked at me all the time and convinced me that I should use dp, not px, and also painted for some other reason.  I believed, did.  And now let's remember Density.  As far as I understand, this value shows how densely the pixels are located towards each other.  Those.  For example, you have a device in 800x600 resolution.  But the fact is that one device has 800 * 600 pixels, in the other 2 * 800 * 2 * 600. I think you caught a difference?  Those.  The resolution is one, but the quality and density of pixels is completely different.  And this is exactly where the Lint trick lies.  After migrating to a device with a higher density, using dp, I had all the elements gone, and the text became completely different sizes (at a glance). <br><br>  As it turned out, if I had used px from the very beginning everywhere and ignored Lint warnings, I would not spend extra time rewriting dp on px. <br><br><h4>  Colors </h4><br>  Colors in Android can also (should) be presented in xml in the following formats: argb, rgb.  For example, white color: <br><ul><li>  rgb = #fff.  This is not # 0f0f0f or # f0f0f0 - this is a short form, we end up with an opaque white color #ffffffff </li><li>  argb = #ffff.  Similar to the previous one, only including the alpha component </li><li>  rgb = #ffffff.  Full rgb form </li><li>  argb = #ffffffff.  Full form argb </li></ul>  In principle, it is very similar to the rules rules, usually located in /res/values/colors.xml, also in the resources tag.  Bringing in colors is worth the colors that are used to standardize the full UI, and not any small details of one of the elements.  So say golden serdina between paranoia and laziness. <br><br>  I hope someone these notes will save time or help in something more deeply understood. <br><br>  <b>UPD:</b> <br>  Thank you <a href="http://habrahabr.ru/users/sdfsdhgjkbmnmxc/">sdfsdhgjkbmnmxc</a> and <a href="http://habrahabr.ru/users/sdfsdhgjkbmnmxc/">andreich</a> for pointing out errors in the text. </div><p>Source: <a href="https://habr.com/ru/post/142962/">https://habr.com/ru/post/142962/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../142956/index.html">An employee by the name of Zero brought down corporate software</a></li>
<li><a href="../142958/index.html">Fuzzing Chrome browser: 6000 instances, 50 million options per day</a></li>
<li><a href="../142959/index.html">Lokata.ru - online catalog for purchases offline</a></li>
<li><a href="../142960/index.html">Contactless smartphone Sony Xperia Sola goes on sale</a></li>
<li><a href="../142961/index.html">What you need to pay attention when opening a small online store</a></li>
<li><a href="../142963/index.html">Experience using virtualization on VirtualBox</a></li>
<li><a href="../142964/index.html">Web server on D?</a></li>
<li><a href="../142965/index.html">As a sysadmin sysadmin - tips for beginners</a></li>
<li><a href="../142966/index.html">QML and QtQuick Webinars: User Interaction</a></li>
<li><a href="../142968/index.html">Half-support Cyrillic domains in 12 Firefox</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>