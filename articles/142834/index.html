<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Interaction of Umi.CMS and Flash through Javascript functions</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Suppose there is a task to make a form for filtering goods on a site of the following form: 



 The site is managed by Umi.CMS, the required product ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Interaction of Umi.CMS and Flash through Javascript functions</h1><div class="post__text post__text-html js-mediator-article">  Suppose there is a task to make a form for filtering goods on a site of the following form: <br><br><img src="https://habrastorage.org/storage2/91d/464/192/91d464192e44258d143dd447ee5281f5.jpg"><br><br>  The site is managed by Umi.CMS, the required product catalog has been created, all properties of the goods are filled.  It is necessary to cross-shape the form and make it work.  There are no difficulties with the latter; tools necessary for filtering are present in Umi.  but <br>  Layout and programming of sliders to select a range from time to time causes a lot of trouble. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>  A good form of range selection should satisfy the following conditions: <br><br>  1) The boundaries of the range should be managed by the project administrator.  Prices are rising, everything is changing. <br>  2) When crossing the sliders at the moment of dragging, the range should remain manageable. <br>  3) Sliders should interact with text fields for entering values. <br><br>  Adobe Flash has been selected as a suitable tool for implementing animation of the range sliders, which provides an excellent opportunity to draw the missing interface elements.  And the possibilities of ActionScript and especially the package <br>  external classes allow you to do what you need: make the sliders move predictably and organize data transfer for JavaScript and back in order to organize the normal operation of the form. <br><br>  So, to make a working form of filtering based on the price range, you should go through the following three steps: <br><br>  1) Preparing a swf file with sliders animation. <br><br>  The interface for the sliders selection form will consist of the following components: <br><br>  - Clips sliders: left and right.  When preparing clips, it is desirable to take into account that when crossing them in a common part of the range, the left slider takes the form of the right and vice versa, which will preserve the integrity of the perception of the form.  You can make two clips for the left and right slider with opposite shapes on different frames, or experiment with the display of one clip. <br><br>  - The clips of the line on which the sliders are located: the lower main and upper, which will display the selected range. <br><br>  - Text fields displaying the range boundaries defined in the administrative panel. <br><br>  - Clip background.  Any. <br><br>  After creating and placing all the necessary components, we will prepare a file with the ActionScript class to organize its work.  To move the sliders within the desired range, you should get some data: <br>  The minimum and maximum limits of the range, the minimum and maximum values ‚Äã‚Äãselected by the user (if the user has not chosen anything yet, they are equal to the limits of the range), the status of the selection indicates whether the user has selected the range or not yet. <br><br>  This data allows you to get a package of classes ActionScript external.  The ExternalInterface class allows you to register the methods necessary for exchanging data between a swf file and JavaScript code on a form page.  For example, <br><br><pre><code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ExternalInterface.available) { ExternalInterface.addCallback(<span class="hljs-string"><span class="hljs-string">"getDiapasonData"</span></span>, getDiapasonData); ExternalInterface.addCallback(<span class="hljs-string"><span class="hljs-string">"setDiapasonValue"</span></span>, setDiapasonValue); }</code> </pre> <br><br>  Here, in case of availability of the ExternalInterface, two methods are registered: <br><br>  getDiapasonData - is responsible for receiving and initial processing of data necessary for the correct operation of the sliders.  It is executed once after Javascript generates the necessary parameters for transfer to the swf-file. <br><br><pre> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDiapasonData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(begin_diapason:Number, next_diapason:Number, price_status:Number = 0, min_price:Number = 0, max_price:Number = 0)</span></span></span><span class="hljs-function">:void </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ..  ,        .. //  price_status   ,     ,      //    ,       ,      if (price_status &gt; 0) { //         var all_summ:Number = next_diapason - begin_diapason; var start_relation:Number = min_price / all_summ; var end_relation:Number = max_price / all_summ; // 276 -            var line_x:Number = (276 * (min_price - begin_diapason)) / (next_diapason - begin_diapason); var line_x_width:Number = (276 * (max_price - begin_diapason)) / (next_diapason - begin_diapason) - line_x; var next_x:Number = line_x + line_x_width; // ..           } }</span></span></code> </pre><br><br>  setDiapasonValue is responsible for passing specific range values ‚Äã‚Äãfrom a JavaScript function for future use.  It is executed each time the textual values ‚Äã‚Äãof the range are filled in the HTML form. <br><br><pre> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setDiapasonValue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(temp_min_price:int, temp_max_price:int)</span></span></span><span class="hljs-function">:void </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//         if(temp_min_price &lt; temp_max_price) { //        var temp_relation:Number = (end_diapason - start_diapason) / 276; var temp_x_start:int = 0; if(temp_min_price &lt; start_diapason) { temp_min_price = start_diapason; } temp_x_start = (temp_min_price - start_diapason) / temp_relation; var temp_x_end:int = 0; if(temp_max_price &gt; end_diapason) { temp_max_price = end_diapason; } if(temp_max_price &lt; start_diapason) { temp_max_price = start_diapason; } temp_x_end = (temp_max_price - start_diapason) / temp_relation; // ..           } }</span></span></code> </pre><br><br>  The parameters passed from the JavaScript function become full-fledged parameters of the ActionScript methods and are suitable for programming the animation of sliders. <br><br>  To perform the inverse transfer of values ‚Äã‚Äãfrom the ActionScript JavaScript function, the call method of the ExternalInterface class is used, which is passed the name of the necessary JavaScript function with parameters. <br><br>  For example, the following methods are used to transfer the values ‚Äã‚Äãof each slider from ActionScript to the corresponding JavaScript functions.  There is a calculation of the price depending on the position of the slider, rounded up to 100 rubles: <br><br><pre> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setStartDiapason</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:void </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> relation:Number = line_mc.x / <span class="hljs-number"><span class="hljs-number">276</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> current_diapason:Number = Math.round((start_diapason + Math.round((end_diapason - start_diapason) * relation)) / <span class="hljs-number"><span class="hljs-number">100</span></span>) * <span class="hljs-number"><span class="hljs-number">100</span></span>; ExternalInterface.call(<span class="hljs-string"><span class="hljs-string">"setStartDiapason"</span></span>, current_diapason); } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setEndDiapason</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:void </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> relation:Number = (line_mc.x + line_mc.width) / <span class="hljs-number"><span class="hljs-number">276</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> current_diapason:Number = Math.round((start_diapason + Math.round((end_diapason - start_diapason) * relation)) / <span class="hljs-number"><span class="hljs-number">100</span></span>) * <span class="hljs-number"><span class="hljs-number">100</span></span>; ExternalInterface.call(<span class="hljs-string"><span class="hljs-string">"setEndDiapason"</span></span>, current_diapason); }</code> </pre><br><br>  2) Preparing the parameters for the range form in the Umi.CMS administration panel and setting up XSLT templates for them. <br><br>  To ensure the full functionality of the price range form, it is necessary to provide the site administrator with the ability to independently set its boundaries: the minimum and maximum prices. <br>  Prices change over time, and specifying the broad boundaries of the range degrades the accuracy of calculations in the implementation of animation.  Moreover, for certain groups of goods, the price range is completely calculated. <br><br>  To store user properties, Umi.CMS suggests creating pages of a special data type, for example, ‚ÄúGeneral site parameters‚Äù.  On this page, you can create a property group "Price Range", and in it place two properties of the numeric type: <br>  The minimum price level (minimalnyj_uroven_cen) and the Maximum price level (maksimalnyj_uroven_cen).  We remember the identifiers of these properties generated by the system, or we change them to more readable ones, and we also remember them. <br>  After that, in the structure tree of the pages, create or find the General Site Settings page and indicate the values ‚Äã‚Äãof these properties. <br><br>  In the XSLT template, select the values ‚Äã‚Äãof the price range and save in variables: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:variable</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"minPriceValue"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">select</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$commonParams//property[@name = 'minimalnyj_uroven_cen']/value"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:variable</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"maxPriceValue"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">select</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$commonParams//property[@name = 'maksimalnyj_uroven_cen']/value"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br><br>  Here commonParams is a variable that stores information about the properties of the General Site Settings page. <br><br>  Directly in the XSLT template we place the following javascript code <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> //      ,       min_price_product = parseFloat('</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">xsl:value-of</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">select</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"$minPriceValue"</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">'); max_price_product = parseFloat('</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">xsl:value-of</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">select</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"$maxPriceValue"</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">') + 100; start_diapason_price = min_price_product; end_diapason_price = max_price_product - 100; if(start_diapason_price &gt; 0) { current_start_diapason_price = start_diapason_price; } else { current_start_diapason_price = min_price_product; start_diapason_price = min_price_product; } if(end_diapason_price &gt; 0) { current_end_diapason_price = end_diapason_price; } else { current_end_diapason_price = max_price_product; end_diapason_price = max_price_product; } //  ,       </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">xsl:if</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">test</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"$min_price !='' or $max_price !=''"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> price_status = 1; min_price = parseFloat('</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">xsl:value-of</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">select</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"$min_price"</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">'); max_price = parseFloat('</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">xsl:value-of</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">select</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"$max_price"</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">'); </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">xsl:if</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  Here you can select the values ‚Äã‚Äãof the price range from the administrative panel and prepare the necessary variables for transfer to the swf-file with the animation of the sliders. <br>  Generating JavaScript code directly in the XSLT template is not a very pleasant experience, since some JavaScript constructs cannot be written without being further processed in accordance with the XSLT rules. <br>  The Umi.CMS template engine jealously ensures that the template syntax is clean, but this is the simplest way to get the values ‚Äã‚Äãof variables from the administrative panel. <br>  In addition, these variables are used further in the template to solve other tasks that are not related to the current one. <br><br>  3) Preparing JavaScript code to organize the interaction between the form and the sliders. <br><br>  You need to prepare data exchange functions with ActionScript code.  They can be placed in a separate javascript file.  There is also the initialization of the necessary variables and the launch of the function of initial setting the positions of the sliders after the page loads. <br>  For the latter purpose, the jQuery library is used, which must be pre-connected, and since its cross-browser compatibility is not recognized by all browsers, you can supplement the call to the initialization function by assigning an onLoad event handler to the body tag. <br><br>  There are no special libraries for organizing the interaction of JavaScript and ActionScript.  Everything is already there and is ready to be used directly in the languages ‚Äã‚Äãthemselves. <br><br>  The list of required JavaScript functions might look like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//      ActionScript         function setStartDiapason(start_diapason) { current_start_diapason_price = start_diapason; document.filter_form.min_price.value = current_start_diapason_price; } //      ActionScript         function setEndDiapason(end_diapason) { current_end_diapason_price = end_diapason; document.filter_form.max_price.value = current_end_diapason_price; }</span></span></code> </pre><br><br>  The values ‚Äã‚Äãset by these functions are further used to select products in the specified price range. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   swf-        jQuery(document).ready(function(){ if(document.diapason) { document.diapason.getDiapasonData(start_diapason_price, end_diapason_price, price_status, min_price, max_price); } }); //      : &lt;body onLoad="setDiapasonPrice();"&gt; //        swf- function setDiapasonPrice() { if(document.diapason) { document.diapason.getDiapasonData(start_diapason_price, end_diapason_price, price_status, min_price, max_price); } }; //     swf-       function setDiapasonValue() { var temp_min_price = parseInt(document.filter_form.min_price.value); var temp_max_price = parseInt(document.filter_form.max_price.value); if(temp_min_price &lt;= temp_max_price) { document.diapason.setDiapasonValue(temp_min_price, temp_max_price); } }</span></span></code> </pre><br><br>  After completing the above steps, the site visitor receives a product filtering form, in which he can set the price range using the swf file sliders or the usual text input fields. <br><br>  Approximately according to this scheme, you can organize the interaction of Umi.CMS with Flash-videos, using JavaScript as an intermediary. </div><p>Source: <a href="https://habr.com/ru/post/142834/">https://habr.com/ru/post/142834/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../142828/index.html">STALKER received an heir</a></li>
<li><a href="../142829/index.html">"Bad" sites are discharging the battery of mobile devices</a></li>
<li><a href="../142830/index.html">Pi number in pixels</a></li>
<li><a href="../142831/index.html">Fez Panda 2 reading ibutton</a></li>
<li><a href="../142833/index.html">The share of mobile traffic increased 2.5 times per year</a></li>
<li><a href="../142835/index.html">Opera 12 beta - try new fish</a></li>
<li><a href="../142836/index.html">Vkontakte ddosit antigate.com</a></li>
<li><a href="../142838/index.html">May 10 Yota will leave users with "powerful" external antennas without the Internet</a></li>
<li><a href="../142843/index.html">How to find someone else's soap</a></li>
<li><a href="../142844/index.html">Stereoscopic effect on 3D maps</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>