<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Exception is your friend</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the mid-nineties, when I switched from programming under DOS to Windows, my mentor introduced me to the exception mechanism. 
 Since then, an opini...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Exception is your friend</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/de0/70e/f5d/de070ef5d1378de1539142a0957f1a4d.jpg" alt="image"><br>  In the mid-nineties, when I switched from programming under DOS to Windows, my mentor introduced me to the exception mechanism. <br>  Since then, an opinion has taken root in my mind: a program falling with an exception is a bad program.  All exceptions must be processed and terminated in the event of an emergency situation independently. <br>  And this is quite true for a regular Windows application.  After all, in the event of an application crashing, a user receives a vague error message and, as a result, a negative perception of an unstable application. <br>  My opinion began to change after becoming acquainted with the tools for automatic exception handling (such as EurekaLog and peers). <br>  And finally changed after becoming familiar with the Google Play report system. <br>  This post is a cry from the heart against those thousands of examples that teach us to shove hasty checks into your code. <br><a name="habracut"></a><br>  The reason for writing this post was a dialogue with a friend who asked for advice on the implementation of the interaction of NDK with Java code.  I was shown the source code written on the basis of <a href="http://android.wooyd.org/JNIExample/">this manual</a> . <br>  Code calling questions: <br><pre><code class="cpp hljs">jmethodID method = env-&gt;GetStaticMethodID(interfaceClass, <span class="hljs-string"><span class="hljs-string">"callBack"</span></span>, <span class="hljs-string"><span class="hljs-string">"(Ljava/lang/String;)V"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!method) { LOGE(<span class="hljs-string"><span class="hljs-string">"callback_handler: failed to get method ID"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } env-&gt;CallStaticVoidMethod(interfaceClass, method, js);</code> </pre> <br>  This is a classic example of code that looks right, but in fact only creates new problems. <br>  Checking is needed here only in one case - if the callBack method is not required to exist and may be absent in the normal mode of the application. <br>  Checks are needed when we check the results of the work of network modules or when we work with external files, etc. <br>  That is, when an error may occur due to external factors.  In this case, error checking is our direct responsibility. <br>  The situation changes completely when the error is generated by our code and does not depend on external factors. <br>  If callBack is described by us and must be present in the code, verification is not needed. <br><br><h6>  The check will only mask the error. </h6><br>  It is very important to understand that error masking is bad.  Much worse than the fall of the application with the exception. <br>  You can say that the message is displayed in the log and pops up during testing. <br>  Well, great if pops up.  And if not pops up?  If the user leaves the non-working code, who will just silently ignore the call call callBack? <br>  Your users will work with a program that does not perform the intended functionality.  Well, if this is any trifle that does not seriously affect the operation of the application.  But what if an important part of the code is hidden there, because of which all the user's work results turn out to be incorrect? <br>  Remove the check and the first user who encounters a callBack call will receive the application crash.  And you - an error report with a completed call stack.  At a minimum, it will draw your attention to the problem.  Yes, the user will be unhappy.  But within five hours you will upload a new version to Google Play and thousands of users will not even know about this problem. <br>  This is much better than a huge client base, working with the application with a time bomb. <br><br>  Error checking is an important part of the application.  Errors of various kinds occur constantly.  There is not a single launch of any complex application that would occur without several errors.  But it is necessary to separate regular errors from non-standard ones.  Established errors are those errors that are permissible and whose effect is predictable.  These errors need to be processed within the application and change the logic of work depending on the situation.  In no case can abnormal errors be handled by standard checks.  It is impossible to just take and shove a block of code in if with a NULL test.  You should always clearly understand why the object has become NULL and what it threatens in the operation of your application. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h6>  So what to do with the checks? </h6><br>  You can not do anything.  Just remove the check.  In the above example, we know for sure that in the case of the lack of a method, an exception will be raised in the next step. <br>  This option is acceptable, but not very good, because an exception call is outside of our code and we cannot guarantee that an exception will be thrown. <br>  Therefore, in the ideal case, verification is necessary, but not with recording the error in the log, but with raising an exception to ensure that the execution of the code is stopped and the error report is sent. <br><br>  Of course, I did not discover America for professionals who know firsthand how harmful the concealment of mistakes is. <br>  This text is aimed at beginners who study programming from examples from the Internet ... And in the meantime, examples are full of meaningless and merciless checks ... </div><p>Source: <a href="https://habr.com/ru/post/217809/">https://habr.com/ru/post/217809/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../217797/index.html">Half-life 3 will be released in the fall of 2014</a></li>
<li><a href="../217799/index.html">How to reduce the cost of a virtual data center with a USB flash drive</a></li>
<li><a href="../217801/index.html">YAWNDB - time series database</a></li>
<li><a href="../217803/index.html">People do not need a drill, but a picture on the wall</a></li>
<li><a href="../217807/index.html">Microsoft is ending support for Windows XP</a></li>
<li><a href="../217813/index.html">Collect performance statistics and output results to SSMS as custom reports.</a></li>
<li><a href="../217815/index.html">How to make the coolest site so that all competitors envy</a></li>
<li><a href="../217819/index.html">Neck warm up in terminal</a></li>
<li><a href="../217821/index.html">Hadoop / Mapreduce small performance test</a></li>
<li><a href="../217823/index.html">The most useless extension in the world for Opera</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>