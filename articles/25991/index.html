<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Unobtrusive javascript</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The purpose of the article is to show what ‚Äúunobtrusive JavaScript‚Äù is, what it is for, and how it is better than ‚Äúintrusive‚Äù JavaScript. I have never...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Unobtrusive javascript</h1><div class="post__text post__text-html js-mediator-article">  The purpose of the article is to show what ‚Äúunobtrusive JavaScript‚Äù is, what it is for, and how it is better than ‚Äúintrusive‚Äù JavaScript.  I have never seen such articles in runet (maybe they are, but I didn‚Äôt come across and googled a bit, I also didn‚Äôt find anything), but as practice shows, many people don‚Äôt know what it is and how to use it. <br><br><a name="habracut"></a><br><br><h3>  What is Unobtrusive JavaScript </h3>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Unobtrusive JavaScript is a JavaScript programming technique that consists of the following principles: <br><ul><li>  separation of structure (HTML) / design (CSS) and behavior (JavaScript) </li><li>  use javascript to enhance the usability of already <strong>working</strong> application </li><li>  using Graceful degradation techniques - if the browser does not support certain functions that we add to the application using JavaScript - the application still remains working </li></ul><br><br><h3>  What for? </h3><br><br>  It is convenient, it is practical, it is easy to implement and it helps you to increase the audience of your site at the expense of users using old browsers that disable JavaScript, users who use the Internet from mobile devices. <br><br><h3>  How? </h3><br><br>  The easiest way to show this is by example.  You don‚Äôt need to go far behind him - let's take everyone‚Äôs beloved Habrahabr: <br><pre>  &lt;div class = "text_comments"&gt; <font></font>
<font></font>
   &lt;div class = "comment_item" style = "margin-left: 0px;"&gt;<font></font>
<font></font>
     &lt;div class = "service_text_comments_holder"&gt;
       &lt;a href="http://fxposter.habrahabr.ru/" class="comments_nickname"&gt; fxposter &lt;/a&gt;
       ...
     &lt;/ div&gt;<font></font>
<font></font>
     &lt;div class = "comment_text"&gt; ... &lt;/ div&gt;<font></font>
<font></font>
     &lt;div class = "comments_reply"&gt;
       &lt;div class = "reply_word_holder" id = "reply_link866650"&gt; (&lt;a href="javascript:saw(866650);"&gt; answer &lt;/a&gt;) &lt;/ div&gt;<font></font>
<font></font>
         &lt;div style = "display: none" id = "reply866650"&gt;
         &lt;! - comment submission form -&gt;
       &lt;/ div&gt;<font></font>
<font></font>
     &lt;/ div&gt;
   &lt;/ div&gt;
 &lt;/ div&gt; </pre><br><br>  This is the code of comments that are displayed on the page about the post.  For clarity, unnecessary fragments have been removed. <br><br>  What is bad in this snippet? <br><ol><li> JavaScript is interspersed with HTML ( <code></code> ) </li><li>  People with javascript disabled can‚Äôt respond to a comment in principle </li></ol><br><br>  How can it be improved? <br><ol><li>  Put the "hanging" of events in a separate file </li><li>  Make it so that when JavaScript is turned off, the user is transferred to a separate page where he can respond to the selected comment. </li></ol><br><br>  No sooner said than done.  Convert HTML to the following form: <br><pre>  &lt;div class = "text_comments"&gt; <font></font>
<font></font>
   &lt;div class = "comment_item" style = "margin-left: 0px;"&gt;<font></font>
<font></font>
     &lt;div class = "service_text_comments_holder"&gt;
       &lt;a href="http://fxposter.habrahabr.ru/" class="comments_nickname"&gt; fxposter &lt;/a&gt;
       ...
     &lt;/ div&gt;<font></font>
<font></font>
     &lt;div class = "comment_text"&gt; ... &lt;/ div&gt;<font></font>
<font></font>
     &lt;div class = "comments_reply"&gt;
       &lt;div class = "reply_word_holder" id = "reply_link866650"&gt; (&lt;a href="reply.php?comment_id=866650" class="show_reply_form" id="show_reply_form_866650"&gt; reply &lt;/a&gt;) &lt;/ div&gt;<font></font>
<font></font>
         &lt;div style = "display: none" id = "reply866650"&gt;
         &lt;! - comment submission form -&gt;
       &lt;/ div&gt;<font></font>
<font></font>
     &lt;/ div&gt;
   &lt;/ div&gt;
 &lt;/ div&gt; </pre><br><br>  As you can see, I changed the a tag (assigned it a ‚Äúnormal‚Äù href, added id and class).  Now, when you click on the "answer" link, the user will be transferred to the answer page for the selected question.  With this, I completed the second item in the list of improvements.  Now let's take a look at the first point: in order for users who have javascript enabled instead of a redirect to open a form under the comment itself, I need to select all the elements with the <code>show_reply_form</code> class and assign a function to the onclick event that would ‚Äúopen ¬ªAppropriate form. <br><br>  Write the appropriate function: <br><pre>  function showForm (event) {
   var id = parseInt (this.id.replace ('show_reply_form_', ''));
   saw (id);
   return false;
 } </pre><br><br>  It takes <code>this.id</code> (i.e., the id of the current object), removes the ‚Äúphrase‚Äù " <code>show_reply_form_</code> " from it, thereby obtaining the number of the element that we need to open and calls the saw function, which was originally present in the HTML code.  In order to avoid a redirect after clicking on the link, the function returns <code>false</code> . <br><br>  It remains only to associate this function with our links. <br><br>  In <a href="http://jquery.com/">jQuery,</a> this is done like this: <br><pre>  $ ('. show_reply_form'). click (showForm); </pre><br>  In <a href="http://prototypejs.org/">PrototypeJS</a> , this is: <br><pre>  $$ ('. show_reply_form'). invoke ('observe', 'click', showForm); </pre><br><br>  After assigning our function to an element, <code>this.id</code> will be assigned to the id of this element (yes, this is ‚ÄúJavaScript magic‚Äù :)). <br><br>  All JavaScript code can now be transferred to a separate file: <br><pre>  function showForm (event) {
   var id = parseInt (this.id.replace ('show_reply_form_', ''));
   saw (id);
   return false;
 }<font></font>
<font></font>
 document.observe ("load", function (event) {
   $$ ('. show_reply_form'). invoke ('observe', 'click', showForm);
 }); </pre><br><br>  Here we call the "binding" of our links to the form display function at the <code>window.onload</code> event (when loading the page) using the <code>observe</code> function, which the document PrototypeJS object adds.  <code>observe</code> adds to events that could already have been associated with the <code>window.onload</code> event, the event we specified.  Try to use the addEventListener, observe (PrototypeJS) or $ (window) .load functions to prevent the substitution of functions already ‚Äúhung‚Äù on an element. <br><br>  Thus, I completed the first item in the list of improvements. <br><br><h3>  findings </h3><br><br>  In my opinion, this use of JavaScript, namely, the removal of all functions on JS into a separate file and the linking of these functions with page elements using various events (here we saw <code>window.onload</code> and <code>element.onclick</code> ) - this is the only time proper use of javascript. <br><br>  Dare, gentlemen.  :) <br><br>  <em><strong>Ps</strong> .</em>  <em>I know perfectly well that you can use the event not <code>window.onload</code> , but <code>DOMContentLoaded</code> .</em>  <em>But I think that, for example, it would be clearer to use <code>window.onload</code> .</em> <br><br>  <em><strong>Pps</strong> .</em>  <em>Crosspost <a href="http://blog.fxposter.org/2008/05/23/unobtrusive-javascript/">from here</a> .</em> </div><p>Source: <a href="https://habr.com/ru/post/25991/">https://habr.com/ru/post/25991/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../259901/index.html">Testing RequireJS Modules in Symfony2</a></li>
<li><a href="../259903/index.html">Social networks in Russia, spring 2015. Figures, trends, forecasts</a></li>
<li><a href="../259905/index.html">Who Hacked the Electric Substation: Analysis of the Digital Substation Takeover Contest</a></li>
<li><a href="../259907/index.html">Creating games without canvas: Matreshka.js</a></li>
<li><a href="../259909/index.html">How-to: Typography in the design of email-letters</a></li>
<li><a href="../259911/index.html">How we tested a static analysis on our project of a training simulator of endovascular surgery</a></li>
<li><a href="../259915/index.html">Processing Russian text data in Azure Machine Learning</a></li>
<li><a href="../259917/index.html">Welcome to the Softlayer Workshop June 16</a></li>
<li><a href="../259919/index.html">USB adapter for a B7-28 digital voltmeter based on Arduino Mega</a></li>
<li><a href="../25992/index.html">Reading wiki via icq is real</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>