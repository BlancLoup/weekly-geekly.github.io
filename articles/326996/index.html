<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Logical replication in PostgreSQL 10</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="PG Day'17 continues to delight you with copyrighted articles. Today, our old friend and the undisputed author of provocative articles on web developme...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Logical replication in PostgreSQL 10</h1><div class="post__text post__text-html js-mediator-article"><p><img align="left" width="350" src="https://habrastorage.org/files/e50/460/ba7/e50460ba7f0b49e1bf79f0b2618cc9b4.jpg">  <i><a href="https://pgday.ru/ru/2017/request/registration%3Futm_source%3Dhabrahabr%26utm_medium%3Dblog%26utm_campaign%3Dvaranio2"><b>PG Day'17</b></a> continues to delight you with copyrighted articles.</i>  <i>Today, our old friend and the undisputed author of provocative articles on web development <a href="https://habrahabr.ru/users/varanio/" class="user_link">varanio</a> will talk about logical replication.</i> </p><br><p>  At first, I wanted to call the article "Harry Potter and the Philosopher's Stone", because for many years when comparing PostgreSQL with MySQL, someone always appeared and noticed that there was no logical replication in the Posgrace (you can only replicate the entire database, and the replica read only) and in MySQL there are two of them: statement based and row based. </p><br><p>  And if the statement based is a time bomb with a laser sight in the foot, then row based really really lacked in PG.  Those.  the question of replication is like a philosopher's stone among lovers of bases. </p><br><p>  More precisely, in the case of always it was possible to use <a href="http://www.slony.info/">slony</a> in order, for example, to replicate only one or two necessary tables.  But slony is a tricky part on triggers, which works according to the principle: work - do not touch.  Those.  for example, it is impossible to simply take and make ALTER TABLE ADD COLUMN, this should be done through special mechanisms.  If, nevertheless, someone accidentally did this, and then, even worse, after some time in a panic, returned it as it was, then only a black magician 80lvl can quickly resolve this situation.  In addition to slony, starting from 9.4, it became possible to write your extensions for logical replication through wal, like, an example of such an extension is pglogical. </p><br><p>  <strong>But this is all wrong!</strong> </p><br><p>  When I found out that the commit that allows you to logically replicate individual tables out of the box, without extensions and plug-ins, fell into the dev-branch of PostgreSQL 10, I decided to see how it works there. </p><a name="habracut"></a><br><h1>  We put PostgreSQL from source on ubuntu </h1><br><p>  It was not at all difficult.  We put all sorts of semi-intelligible words necessary for assembly: </p><br><p><del>  sudo apt-get install avada kedavra expelliarmus </del><br> <code>sudo apt-get install -y build-essential libreadline-dev zlib1g-dev flex bison libxml2-dev libxslt-dev libssl-dev</code> </p> <br><p>  Downloading source: </p><br><p> <code>git clone git://git.postgresql.org/git/postgresql.git</code> </p> <br><p>  We collect all this business: </p><br><pre> <code class="hljs go">cd postgresql ./configure <span class="hljs-built_in"><span class="hljs-built_in">make</span></span> <span class="hljs-built_in"><span class="hljs-built_in">make</span></span> install</code> </pre> <br><p>  I wrote make install, it irrevocably makes your / usr / local irreparable, so better do it in the virus or docker-container, or ask a real welder how to do it carefully.  I am absolutely not admin, so sorry. </p><br><h1>  Run test daemons </h1><br><p>  Head over to postgres user.  If you don‚Äôt have one yet, then create one.  If there is, but not to log in under it, then probably just the password is not set, then you need to do sudo passwd postgres.  So, let's log in under postgres user: </p><br><p> <code>su - postgres</code> </p> <br><p>  Create the master and slave folders somewhere and browse the database there: </p><br><pre> <code class="hljs ruby">/usr/local/pgsql/bin/initdb -D ~<span class="hljs-regexp"><span class="hljs-regexp">/master /usr</span></span><span class="hljs-regexp"><span class="hljs-regexp">/local/pgsql</span></span><span class="hljs-regexp"><span class="hljs-regexp">/bin/initdb</span></span> -D ~<span class="hljs-regexp"><span class="hljs-regexp">/slave</span></span></code> </pre> <br><p>  Those.  we will have two local pg daemon that will replicate individual tables to each other.  Let one work on port 5433, the other on 5434. </p><br><p>  To do this, enter the <code>port = 5433</code> string in <code>~/master/postgresql.conf</code> , and the <code>port = 5434</code> string in <code>~/slave/postgresql.conf</code> , respectively. </p><br><p>  In both <code>postgresql.conf</code> configurations, you must specify: </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">wal_level</span></span> = logical</code> </pre> <br><p>  In addition, in order for replication to work, you need to uncomment the line in <code>pg_hba.conf</code> : </p><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> <span class="hljs-keyword"><span class="hljs-keyword">replication</span></span> postgres trust</code> </pre> <br><p>  We launch both daemons: </p><br><pre> <code class="hljs pgsql">/usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/pgsql/bin/pg_ctl <span class="hljs-keyword"><span class="hljs-keyword">start</span></span> -D ~/master -l ~/master.<span class="hljs-keyword"><span class="hljs-keyword">log</span></span> /usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/pgsql/bin/pg_ctl <span class="hljs-keyword"><span class="hljs-keyword">start</span></span> -D ~/slave -l ~/slave.<span class="hljs-keyword"><span class="hljs-keyword">log</span></span></code> </pre> <br><h1>  Configuring Replication </h1><br><p>  Unfortunately, there is no (generally no) documentation yet.  So I had to go over the tests a bit to the source code in order to learn at least something about how to configure and use this type of replication. </p><br><p>  We will do everything right in the built-in postgres database, so as not to clutter up the details.  Go to the master: </p><br><pre> <code class="hljs pgsql">/usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/pgsql/bin/psql -p <span class="hljs-number"><span class="hljs-number">5433</span></span></code> </pre> <br><p>  We will create a table and a "publication": </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> repl ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-built_in"><span class="hljs-built_in">text</span></span>, primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> PUBLICATION testpub;</code> </pre> <br><p>  Add to the publication all the necessary tables (in this case - one): </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> PUBLICATION testpub <span class="hljs-keyword"><span class="hljs-keyword">ADD</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> repl;</code> </pre> <br><p>  Now on the side of the slave: </p><br><pre> <code class="hljs pgsql">/usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/pgsql/bin/psql -p <span class="hljs-number"><span class="hljs-number">5434</span></span></code> </pre> <br><p>  Also create a table: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> repl ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-built_in"><span class="hljs-built_in">text</span></span>, primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>) );</code> </pre> <br><p>  Now you need to create a subscription to the publication, in which we specify the connection string to another database and the name PUBLICATION: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> SUBSCRIPTION testsub <span class="hljs-keyword"><span class="hljs-keyword">CONNECTION</span></span> <span class="hljs-string"><span class="hljs-string">'port=5433 dbname=postgres'</span></span> PUBLICATION testpub;</code> </pre> <br><h1>  Check </h1><br><p>  Paste on the master: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> repl (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>);</code> </pre> <br><p>  We read on the replica: </p><br><pre> <code class="sql hljs">postgres=<span class="hljs-comment"><span class="hljs-comment"># select * from repl; id | name ----+------ 1 |  (1 row)</span></span></code> </pre> <br><p>  It works! </p><br><p>  Now stop the replica: </p><br><pre> <code class="hljs pgsql">/usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/pgsql/bin/pg_ctl stop -D ~/slave</code> </pre> <br><p>  On the master we will do: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> repl; <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> repl (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">'test'</span></span>);</code> </pre> <br><p>  We start the slave and check: </p><br><pre> <code class="hljs pgsql">/usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/pgsql/bin/pg_ctl <span class="hljs-keyword"><span class="hljs-keyword">start</span></span> -D ~/slave -l ~/slave.<span class="hljs-keyword"><span class="hljs-keyword">log</span></span></code> </pre> <br><pre> <code class="sql hljs">postgres=<span class="hljs-comment"><span class="hljs-comment"># select * from repl; id | name ----+------ 10 | test (1 row)</span></span></code> </pre> <br><p>  Everything worked. </p><br><p>  Moreover, I added a new column to the master and to the slave, inserted records, and this also worked. </p><br><p>  If you want to learn more examples of use, look at the source file <code>src/test/subscription/t/001_rep_changes.pl</code> .  He is on a pearl, but everything is clear there. </p><br><div class="spoiler">  <b class="spoiler_title">src / test / subscription / t / 001_rep_changes.pl</b> <div class="spoiler_text"><pre> <code class="perl hljs"><span class="hljs-comment"><span class="hljs-comment"># Basic logical replication test use strict; use warnings; use PostgresNode; use TestLib; use Test::More tests =&gt; 11; # Initialize publisher node my $node_publisher = get_new_node('publisher'); $node_publisher-&gt;init(allows_streaming =&gt; 'logical'); $node_publisher-&gt;start; # Create subscriber node my $node_subscriber = get_new_node('subscriber'); $node_subscriber-&gt;init(allows_streaming =&gt; 'logical'); $node_subscriber-&gt;start; # Create some preexisting content on publisher $node_publisher-&gt;safe_psql('postgres', "CREATE TABLE tab_notrep AS SELECT generate_series(1,10) AS a"); $node_publisher-&gt;safe_psql('postgres', "CREATE TABLE tab_ins (a int)"); $node_publisher-&gt;safe_psql('postgres', "CREATE TABLE tab_full AS SELECT generate_series(1,10) AS a"); $node_publisher-&gt;safe_psql('postgres', "CREATE TABLE tab_rep (a int primary key)"); # Setup structure on subscriber $node_subscriber-&gt;safe_psql('postgres', "CREATE TABLE tab_notrep (a int)"); $node_subscriber-&gt;safe_psql('postgres', "CREATE TABLE tab_ins (a int)"); $node_subscriber-&gt;safe_psql('postgres', "CREATE TABLE tab_full (a int)"); $node_subscriber-&gt;safe_psql('postgres', "CREATE TABLE tab_rep (a int primary key)"); # Setup logical replication my $publisher_connstr = $node_publisher-&gt;connstr . ' dbname=postgres'; $node_publisher-&gt;safe_psql('postgres', "CREATE PUBLICATION tap_pub"); $node_publisher-&gt;safe_psql('postgres', "CREATE PUBLICATION tap_pub_ins_only WITH (nopublish delete, nopublish update)"); $node_publisher-&gt;safe_psql('postgres', "ALTER PUBLICATION tap_pub ADD TABLE tab_rep, tab_full"); $node_publisher-&gt;safe_psql('postgres', "ALTER PUBLICATION tap_pub_ins_only ADD TABLE tab_ins"); my $appname = 'tap_sub'; $node_subscriber-&gt;safe_psql('postgres', "CREATE SUBSCRIPTION tap_sub CONNECTION '$publisher_connstr application_name=$appname' PUBLICATION tap_pub, tap_pub_ins_only"); # Wait for subscriber to finish initialization my $caughtup_query = "SELECT pg_current_xlog_location() &lt;= replay_location FROM pg_stat_replication WHERE application_name = '$appname';"; $node_publisher-&gt;poll_query_until('postgres', $caughtup_query) or die "Timed out while waiting for subscriber to catch up"; my $result = $node_subscriber-&gt;safe_psql('postgres', "SELECT count(*) FROM tab_notrep"); is($result, qq(0), 'check non-replicated table is empty on subscriber'); $node_publisher-&gt;safe_psql('postgres', "INSERT INTO tab_ins SELECT generate_series(1,50)"); $node_publisher-&gt;safe_psql('postgres', "DELETE FROM tab_ins WHERE a &gt; 20"); $node_publisher-&gt;safe_psql('postgres', "UPDATE tab_ins SET a = -a"); $node_publisher-&gt;safe_psql('postgres', "INSERT INTO tab_rep SELECT generate_series(1,50)"); $node_publisher-&gt;safe_psql('postgres', "DELETE FROM tab_rep WHERE a &gt; 20"); $node_publisher-&gt;safe_psql('postgres', "UPDATE tab_rep SET a = -a"); $node_publisher-&gt;poll_query_until('postgres', $caughtup_query) or die "Timed out while waiting for subscriber to catch up"; $result = $node_subscriber-&gt;safe_psql('postgres', "SELECT count(*), min(a), max(a) FROM tab_ins"); is($result, qq(50|1|50), 'check replicated inserts on subscriber'); $result = $node_subscriber-&gt;safe_psql('postgres', "SELECT count(*), min(a), max(a) FROM tab_rep"); is($result, qq(20|-20|-1), 'check replicated changes on subscriber'); # insert some duplicate rows $node_publisher-&gt;safe_psql('postgres', "INSERT INTO tab_full SELECT generate_series(1,10)"); # add REPLICA IDENTITY FULL so we can update $node_publisher-&gt;safe_psql('postgres', "ALTER TABLE tab_full REPLICA IDENTITY FULL"); $node_subscriber-&gt;safe_psql('postgres', "ALTER TABLE tab_full REPLICA IDENTITY FULL"); $node_publisher-&gt;safe_psql('postgres', "ALTER TABLE tab_ins REPLICA IDENTITY FULL"); $node_subscriber-&gt;safe_psql('postgres', "ALTER TABLE tab_ins REPLICA IDENTITY FULL"); # and do the update $node_publisher-&gt;safe_psql('postgres', "UPDATE tab_full SET a = a * a"); # Wait for subscription to catch up $node_publisher-&gt;poll_query_until('postgres', $caughtup_query) or die "Timed out while waiting for subscriber to catch up"; $result = $node_subscriber-&gt;safe_psql('postgres', "SELECT count(*), min(a), max(a) FROM tab_full"); is($result, qq(10|1|100), 'update works with REPLICA IDENTITY FULL and duplicate tuples'); # check that change of connection string and/or publication list causes # restart of subscription workers. Not all of these are registered as tests # as we need to poll for a change but the test suite will fail none the less # when something goes wrong. my $oldpid = $node_publisher-&gt;safe_psql('postgres', "SELECT pid FROM pg_stat_replication WHERE application_name = '$appname';"); $node_subscriber-&gt;safe_psql('postgres', "ALTER SUBSCRIPTION tap_sub CONNECTION 'application_name=$appname $publisher_connstr'"); $node_publisher-&gt;poll_query_until('postgres', "SELECT pid != $oldpid FROM pg_stat_replication WHERE application_name = '$appname';") or die "Timed out while waiting for apply to restart"; $oldpid = $node_publisher-&gt;safe_psql('postgres', "SELECT pid FROM pg_stat_replication WHERE application_name = '$appname';"); $node_subscriber-&gt;safe_psql('postgres', "ALTER SUBSCRIPTION tap_sub SET PUBLICATION tap_pub_ins_only"); $node_publisher-&gt;poll_query_until('postgres', "SELECT pid != $oldpid FROM pg_stat_replication WHERE application_name = '$appname';") or die "Timed out while waiting for apply to restart"; $node_publisher-&gt;safe_psql('postgres', "INSERT INTO tab_ins SELECT generate_series(1001,1100)"); $node_publisher-&gt;safe_psql('postgres', "DELETE FROM tab_rep"); $node_publisher-&gt;poll_query_until('postgres', $caughtup_query) or die "Timed out while waiting for subscriber to catch up"; $result = $node_subscriber-&gt;safe_psql('postgres', "SELECT count(*), min(a), max(a) FROM tab_ins"); is($result, qq(150|1|1100), 'check replicated inserts after subscription publication change'); $result = $node_subscriber-&gt;safe_psql('postgres', "SELECT count(*), min(a), max(a) FROM tab_rep"); is($result, qq(20|-20|-1), 'check changes skipped after subscription publication change'); # check alter publication (relcache invalidation etc) $node_publisher-&gt;safe_psql('postgres', "ALTER PUBLICATION tap_pub_ins_only WITH (publish delete)"); $node_publisher-&gt;safe_psql('postgres', "ALTER PUBLICATION tap_pub_ins_only ADD TABLE tab_full"); $node_publisher-&gt;safe_psql('postgres', "DELETE FROM tab_ins WHERE a &gt; 0"); $node_publisher-&gt;safe_psql('postgres', "INSERT INTO tab_full VALUES(0)"); $node_publisher-&gt;poll_query_until('postgres', $caughtup_query) or die "Timed out while waiting for subscriber to catch up"; # note that data are different on provider and subscriber $result = $node_subscriber-&gt;safe_psql('postgres', "SELECT count(*), min(a), max(a) FROM tab_ins"); is($result, qq(50|1|50), 'check replicated deletes after alter publication'); $result = $node_subscriber-&gt;safe_psql('postgres', "SELECT count(*), min(a), max(a) FROM tab_full"); is($result, qq(11|0|100), 'check replicated insert after alter publication'); # check all the cleanup $node_subscriber-&gt;safe_psql('postgres', "DROP SUBSCRIPTION tap_sub"); $result = $node_subscriber-&gt;safe_psql('postgres', "SELECT count(*) FROM pg_subscription"); is($result, qq(0), 'check subscription was dropped on subscriber'); $result = $node_publisher-&gt;safe_psql('postgres', "SELECT count(*) FROM pg_replication_slots"); is($result, qq(0), 'check replication slot was dropped on publisher'); $result = $node_subscriber-&gt;safe_psql('postgres', "SELECT count(*) FROM pg_replication_origin"); is($result, qq(0), 'check replication origin was dropped on subscriber'); $node_subscriber-&gt;stop('fast'); $node_publisher-&gt;stop('fast');</span></span></code> </pre> </div></div><br><p>  In particular, if you create a table without a primary key, then to remove values ‚Äã‚Äãfrom it, you need to write: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> tablename REPLICA <span class="hljs-keyword"><span class="hljs-keyword">IDENTITY</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span></code> </pre> <br><p>  I do not know how it works, apparently some id on the fly.  If someone has more information on logical replication, share pliz in comments. </p><br><h1>  findings </h1><br><p>  The conclusion is very simple: I'm really looking forward to PostgreSQL 10 in the production-ready state, since this will solve a whole layer of organizational problems (you can throw out slony).  For someone, perhaps this will be the last straw for the transition from MySQL to Postgres. </p><br><p>  On the other hand, how it will work in practice, so far no one knows.  Will it be fast enough, convenient to maintain and so on.  If someone has more information on the topic, share pliz in comments. </p><br><p>  In the meantime, we are waiting for PostgreSQL 10, for sure, you have a lot of questions on the training of current replication methods.  At <a href="https://pgday.ru/ru/2017/request/registration%3Futm_source%3Dhabrahabr%26utm_medium%3Dblog%26utm_campaign%3Dvaranio2"><b>PG Day'17</b></a> you will find a large number of interesting reports and workshops on PostgreSQL.  For example, <b>Ilya Kosmodemyansky</b> will tell all about GHG tuning, transaction processing, auto-vacuum and, of course, will tell you how to avoid common mistakes.  Hurry up to <a href="https://pgday.ru/ru/2017/request/registration%3Futm_source%3Dhabrahabr%26utm_medium%3Dblog%26utm_campaign%3Dvaranio2"><b>register</b></a> ! </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/326996/">https://habr.com/ru/post/326996/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../326982/index.html">Private cloud for video and photos for half an hour "on the knee"</a></li>
<li><a href="../326984/index.html">How Reddit created r / Place</a></li>
<li><a href="../326986/index.html">What is this GraphQL?</a></li>
<li><a href="../326990/index.html">Looking for fast local storage</a></li>
<li><a href="../326994/index.html">Guide for a novice project manager: drive a bike that burns</a></li>
<li><a href="../326998/index.html">Extreme migration to PostgreSQL: without stopping, losing and testing</a></li>
<li><a href="../327000/index.html">... And Justice for All</a></li>
<li><a href="../327002/index.html">LinqToSolr - use LINQ to get data from Solr</a></li>
<li><a href="../327004/index.html">All you need to know about detecting changes in Angular</a></li>
<li><a href="../327008/index.html">GeekUniversity is Russia's first online university with guaranteed employment.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>