<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Basics of computer networks. Subject number 2. Top level protocols</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="And hello again! Today we will talk about the top-level protocols. Let us examine how they work, what they consist of and where they are applied theor...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Basics of computer networks. Subject number 2. Top level protocols</h1><div class="post__text post__text-html js-mediator-article"> And hello again!  Today we will talk about the top-level protocols.  Let us examine how they work, what they consist of and where they are applied theoretically and in practice. <br><br><div style="text-align:center;"> <a href="https://habrahabr.ru/post/307714/"><img src="https://habrastorage.org/files/862/c3d/0cc/862c3d0cc98c43f783af823c60b1cab6.jpg"></a> </div><br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Content</b> <div class="spoiler_text">  1) <a href="https://habrahabr.ru/post/307252/">Basic network terms, OSI network model and TCP / IP protocol stack.</a> <br>  2) Top-level protocols. <br>  3) <a href="https://habrahabr.ru/post/308636/">Protocols of lower levels (transport, network and channel).</a> <br>  4) <a href="https://habrahabr.ru/post/312340/">Network devices and types of cables used.</a> <br>  5) <a href="https://habrahabr.ru/post/314484/">The concept of IP addressing, subnet masks and their calculation.</a> <br>  6) <a href="https://habrahabr.ru/post/319080/">The concept of VLAN, Trunk and VTP and DTP protocols.</a> <br>  7) <a href="https://habrahabr.ru/post/321132/">Spanning Tree Protocol: STP.</a> <br>  8) <a href="https://habrahabr.ru/post/334778/">Channel Aggregation Protocol: Etherchannel.</a> <br>  9) Routing: static and dynamic on the example of RIP, OSPF and EIGRP. <br>  10) Network Address Translation: NAT and PAT. <br>  11) Reservation protocols for the first transition: FHRP. <br>  12) Computer network security and virtual private networks: VPN. <br>  13) Global networks and protocols used: PPP, HDLC, Frame Relay. <br>  14) Introduction to IPv6 configuration and routing. <br>  15) Network management and network monitoring. <br><br>  PS Perhaps over time, the list will be added. </div></div><br>  As you remember from the previous article (if not read, then the content has a link to it), the OSI model at the present time serves only as a training for the roles of each level.  Networks work on a stack of TCP / IP protocols.  Although TCP / IP consists of 4 levels, it fully implements all the functionality implemented in the OSI model.  Below in the picture are comparisons of levels and their roles. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="https://habrastorage.org/files/16e/d41/5be/16ed415be3174c06a61b13ef96b03a37.PNG"></div><br>  Let's start a conversation about top-level protocols.  I did not just call the topic ‚ÄúTop Level Protocols‚Äù, and not ‚ÄúTop Level Protocols‚Äù.  Since we parse this level of TCP / IP stack, then we have it "one for three." <br><br>  In general, from the point of view of the networker, we do not care what happens inside the application layer.  This is usually done by programmers.  But it is important to know how data is formed and encapsulated into lower levels. <br>  At work, for example, we have a rule: we ensure the launch of the application and its error-free transmission over the network.  If the problem is internal software failures, then we switch to developers, and this becomes their concern.  But there are also problems that go along the thin line between us, and we solve them together. <br><br>  So, application layer protocols provide the interaction between a person and a network.  There are a huge number of these protocols, and they perform completely different roles.  I will give examples of frequently used protocols on the network and show how they work in practice: HTTP, DNS, DHCP, SMTP and POP3, Telnet, SSH, FTP, TFTP. <br><br>  <b>I) HTTP protocol (English HyperText Transport Protocol).</b>  A data transfer protocol commonly used to obtain information from websites.  Every year this protocol is becoming more popular, and the possibilities for its use are becoming more and more.  It uses the "client-server" model.  That is, there are customers who form and send a request.  And servers that listen to requests and, accordingly, respond to them. <br><br>  The clients are well-known web browsers: Internet Explorer, Mozilla Firefox, Google Chrome, etc.  And as server software use: Apache, IIS, nginx, etc. <br><br>  In order to understand deeper into the HTTP protocol, take a look at the HTTP request from the client to the server. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/3ac/9a5/f9a/3ac9a5f9acbc449c98408ac2d08a46d4.PNG"></div><br>  We are interested only in the top and bottom lines. <br><br>  The first line uses such a thing as <b>GET</b> .  This is essentially a request key.  Since after the GET there is a symbol "/", it means that the main or root page is requested by the <b>URL (English Uniform Resource Locator) of the</b> path. <br><br>  <b>URL</b> is a certain identifier of a resource in the network. <br><br>  Also in this line there is a record such as <b>HTTP / 1.1</b> .  This is the protocol version.  Pretty popular version.  They released it in 1999, and still it serves faithfully.  Although recently there was an announcement of version 2.0, version 1.1 is still in the lead. <br><br>  Now about the bottom line.  Here you can see the server address or the name where the required resource is located.  Let's see how it works in practice.  I will use my favorite program Cisco Packet Tracer 6.2 (hereinafter CPT).  It is easy to learn and is ideal for demonstrating the above.  I can say with confidence that in preparation for the CCNA R &amp; S, it is quite enough.  But only for her. <br><br>  Open the program and add a computer with a server there (they are located on the ‚ÄúEnd Devices‚Äù tab), as in the picture below <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/9fe/512/9b6/9fe5129b6bcc41de87f670f1dc6b33c8.PNG"></div><br>  We connect the computer with the server with a cross cable (English crossover cable).  In CPT, it is located on the ‚ÄúConnections‚Äù tab, indicated by a dotted line and called ‚ÄúCopper Cross-Over‚Äù. <br><br>  Now let's set up a computer and a web server. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/47c/12a/bbb/47c12abbb6f4482c9736528dd75669dc.PNG"></div><br>  <strong>1)</strong> We tear off the ‚ÄúDesktop‚Äù tabs on the work computer and server, then go to the ‚ÄúIP Configuration‚Äù window.  The windows will open, as in the image above.  These are the configuration windows of the nodes in the network. <br><br>  <strong>2)</strong> We specify the IP addresses in the lines indicated by the number 2. As we remember from the previous article, IP addresses are needed to identify the nodes in the network.  We will discuss this topic in more detail later.  Now the main thing is to understand why an IP address is needed.  I specifically chose the network, starting with "192.168", as it occurs most often in home networks. <br><br>  <strong>3)</strong> In the fields indicated by the digit 3, the subnet mask is entered.  It is needed so that the host can understand whether it is on the same subnet with another host or not.  But more about that later. <br>  The remaining values ‚Äã‚Äãare left blank. <br><br>  Now you need to enable the HTTP service on the server. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/df4/271/4f1/df42714f1f9c44e6894ee221a8c20d11.PNG"></div><br>  <strong>1)</strong> Go to the Services tab. <br>  <strong>2)</strong> We select the HTTP service on the left. <br>  <strong>3)</strong> The service settings window and file manager opens.  If anyone has working skills with HTML, you can create a page here.  But we already have a ready-made template, and we will use it.  Do not forget to enable the HTTP and HTTPS service. <br><br>  If we are already talking about HTTPS (HyperText Transfer Protocol Secure), I‚Äôll say a few words about it.  This is, in fact, an extension of the HTTP protocol, which supports cryptographic protocols and transmits information not encrypted, but encrypted.  The CPT is very superficially shown his work, but for understanding is enough.  We remember and remember: HTTP uses port 80, and HTTPS port 443.  In general, there are a lot of port numbers, and everything is hard to remember, but often there are better to remember. <br><br>  Now the fun part.  We need to switch CPT from ‚ÄúRealtime‚Äù mode to ‚ÄúSimulation‚Äù mode.  Their difference is that in the ‚ÄúRealtime‚Äù mode the network behaves as it would behave in real life and in real time.  The ‚ÄúSimulation‚Äù mode allows us to observe the behavior of the network at different time intervals, as well as to track each packet, open it and see what it carries.  Switch the environment, as shown in the figure below. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/e53/5a0/631/e535a063118b4e02910ea5a86f7fd00d.PNG"></div><br>  This is where the ‚ÄúSimulation Panel‚Äù opens, with several options.  There is a filter in which you can specify the protocols that you want to monitor, the packet transfer speed and the navigation bar, where you can monitor the network manually, by clicking ‚ÄúCapture / Forward‚Äù or automatically, using the ‚ÄúAuto Capture / Play‚Äù button. <br><br>  We leave everything as it is and open the computer. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/8f6/25a/f19/8f625af19c594dc2beddec5df895124b.PNG"></div><br>  Go to the tab "Desktop" and open the "WEB Browser".  A web browser window opens in front of us.  In the URL line we write the address of our web server, click the ‚ÄúGo‚Äù button and observe the following picture. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/2b8/1f3/b57/2b81f3b5714746febacf9d31e01bf229.PNG"></div><br>  The first sent data appeared on the diagram and in the ‚ÄúSimulation Panel‚Äù window.  These are the TCP segments that will create a session between the computer and the server.  Now we are not interested, and we will talk about this in the next article.  So I‚Äôll skip them until the moment HTTP is created.  I will do this with the ‚ÄúCapture / Forward‚Äù button. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/443/1bf/769/4431bf76952c44c197e90433f29999a2.PNG"></div><br>  And after the connection is established, the computer generates the first HTTP data.  In the following, I will call them PDUs so that you get used to these terms. <br><br>  <strong>1)</strong> We look at the scheme and see that 2 envelopes have appeared.  This is our data.  We are interested in a purple envelope.  This is the created PDU. <br><br>  <strong>2)</strong> Now we look at the ‚ÄúSimulation Panel‚Äù and see that an entry with the HTTP type appears in the table.  This data interests us.  Also next to the record is the color with which these data are colored in the diagram. <br><br>  <strong>3)</strong> Click on HTTP (purple envelope), and a data window opens before us.  It briefly shows all the necessary information for each level of the OSI model.  You can click on any level and get information about what is happening on it. <br><br>  If it is interesting for you to fully disclose the data and consider in detail what fields they consist of and what is happening in them, there is an Outbound PDU Details tab.  Let's move on to it and see what HTTP data looks like. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/7f7/a51/138/7f7a511381c043cdb0c89ddcbda08c0c.PNG"></div><br>  This tab will display data at all levels.  We still need to look at HTTP.  They are at the bottom, so pull the slider down.  They look the same as I described them before. <br><br>  Now we are interested in the stage when the web server receives the request and begins to take some action.  Let's click on ‚ÄúCapture / Forward‚Äù and see how the web server responds.  And so, in the figure below we see that he sent some data to the computer.  Let's see what they look like. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/666/6e3/913/6666e391370c46c18df597f1e70a4b2c.PNG"></div><br>  <strong>1)</strong> I accidentally squeezed the button and he already started to form TCP for closing the session  Nothing wrong.  Find the PDUs addressed from the web server to the client.  As you can see, he immediately shows us on the diagram the point in time at which I clicked.  Select the desired envelope. <br><br>  <strong>2)</strong> Here we see another picture.  The HTTP version is indicated above, the code ‚Äú200 OK‚Äù, which means that the requested page is being sent, and not an error message.  Next, indicate the length of the content, the file type, and from which server it is sent.  And the bottom line indicates that some data is being transmitted.  After the data reaches the computer, you can observe that the computer‚Äôs web browser has opened the page. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/b7b/066/ca1/b7b066ca1775498388e9274c6b21c85d.PNG"></div><br>  This is how HTTP works.  Let's look at its extended version of HTTPS.  As we remember, this version supports encryption and does not transmit data in the clear.  At the very beginning, we enabled the HTTP and HTTPS service.  Therefore, everything is ready, and you can request a page.  The difference of the request is that before the address of the page instead of HTTP, we write HTTPS. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/3ae/0eb/543/3ae0eb5432584e9b983f7d8e781ea33d.PNG"></div><br>  We see the inscription that the data is protected, and we cannot read it.  In principle, these are all differences that CPT can show, but for a basic understanding this is enough.  From myself I‚Äôll add that when you go to the HTTPS website, it is indicated in the browser as a lock.  for example <img src="https://habrastorage.org/files/066/3ef/0ff/0663ef0ff83646038ac4f255e1f40348.PNG"><br><br>  For those who want to pick it up and see how it works, you can download this lab <a href="https://drive.google.com/open%3Fid%3D0BzKZChrEeV7zaDFENzBnZ0hqRTQ">here</a> . <br><br>  We talked about HTTP, and now it's time to parse the DNS protocol.  This protocol is closely related to the previous protocol, and soon you will understand why. <br><br>  <b>Ii) DNS (Domain Name System)</b> .  Domain Name System.  Generally speaking, it stores information about domains.  For example, which IP address corresponds to a specific name.  I will give an example: when you open your favorite site, you refer to it by name.  But in the Source Address and Destination Address fields that work at the network level (this is the topic of the next article, but I‚Äôll run a little ahead), you cannot insert a name.  There must necessarily be an IP address.  This is what DNS is doing.  It reports the IP address of the requested name.  You, for example, are accessing google.com.  Your computer has no idea who and what it is.  He asks the DNS server: Who is google.com?  And the server responds that google.ru is 74.125.232.239 (this is one of its addresses).  And after that, the computer sends a request to 74.125.232.239.  For the user, everything will remain the same, and in the address bar he will also see google.ru. <br><br>  As usual, I'll show it in the picture. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/278/339/033/27833903316840fabe32e4076c252304.PNG"></div><br>  I think that the above is understandable, and move on.  This service is hierarchical.  And often the DNS server (on which this service is running) works in conjunction with other DNS servers.  Let's see what that means.  Its hierarchy lies in the fact that it works with level domains.  He works from junior to senior, from left to right. <br><br>  For example the name: ru.wikipedia.org.  The domain name ‚Äúorg‚Äù will be the eldest, and ‚Äúru‚Äù the youngest.  But there are often cases when the DNS server cannot tell us about a domain name, and then it contacts the senior DNS server, which is responsible for the higher level domain names.  I will not reinvent the wheel and bring a picture from Wikipedia.  There, this work is illustrated well. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cd4/753/406/cd47534066c69df973fe10c28f6612c0.png"></div><br>  Suppose we typed in the browser address ru.wikipedia.org.  The browser asks the DNS server: ‚Äúwhat is the IP address of ru.wikipedia.org‚Äù?  However, the DNS server may not know anything, not only about the requested name, but even about the entire wikipedia.org domain.  In this case, the server accesses the root server ‚Äî for example, 198.41.0.4.  This server reports - "I do not have information about this address, but I know that 204.74.112.1 is responsible for the org zone." Then the DNS server sends its request to 204.74.112.1, but he answers, "I have no information about this server , but I know that 207.142.131.234 is responsible for the zone wikipedia.org. ‚ÄùFinally, the same request is sent to the third DNS server and receives a response - the IP address, which is transmitted to the client browser. <br><br>  I open CPT and show how it works.  This and the following labs will be based on the previous one.  Therefore, the addressing will be the same. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/15e/2f1/198/15e2f1198ed942d3a508c1f5ea873b5c.PNG"></div><br>  Here is added another server that will act as a DNS server and switch.  When 3 or more devices appear on the network, a switch is used to connect them. <br><br>  Let's do the configuration of the DNS server.  Go to the "IP Configuration" and write down the IP address with a mask. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/7ef/db6/bfe/7efdb6bfe36a40d2adb3f0c053c3c7da.PNG"></div><br><br>  Now go to the services and configure the DNS service. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/0fd/678/c26/0fd678c262d34bf090320f456a4043e7.PNG"></div><br>  <strong>1)</strong> In the window "Name" write the name that we want to bind to the IP address.  (I wrote the name of my future site, which is being worked on). <br>  <strong>2)</strong> In the "Address" window, respectively, the IP address, which will work in conjunction with the above written name.  (here we indicate the same address as in the laboratory on HTTP - 192.168.1.2). <br>  <strong>3)</strong> Click the ‚ÄúAdd‚Äù button to add this entry. <br>  <strong>4)</strong> Do not forget to include the service itself! <br><br>  If everything is done correctly, then the picture should be like this. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/53f/2d5/b3b/53f2d5b3b3ff42d3b0454790cb6a8df1.PNG"></div><br>  Now you need to specify the address of the DNS server in the server and computer settings. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/4e0/4b3/e33/4e04b3e3377c4893b9b589b8a02a3aad.PNG"></div><br>  Configuring the DNS server and sites is complete, and it's time to check how this thing works.  We switch the environment to the simulation mode and try to access the site from the computer called ‚Äúcisadmin.ru‚Äù. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/cdb/5c6/dea/cdb5c6dea4c04253b9cff4c51534808f.PNG"></div><br>  And we see that 2 envelopes are created.  The first is DNS, and the second is ARP.  We didn‚Äôt really talk about ARP, as this is the topic of the next article.  But once he showed himself, then briefly tell you why.  As we remember, there is not enough IP address for the exchange between the nodes, as the MAC addresses working on the data link layer are still used.  We specified the IP address of the DNS server to the computer.  But he does not know what the node with the IP address is 192.168.1.3. The MAC address.  It generates an ARP message and throws it into the network.  This frame (data on the data link layer is called frames) is broadcast, that is, it will be received by all participants on the same local network (all participants in the same broadcast domain are correct to say, but so far we have not affected this, and I will not load you with this term).  And the one with this address will send a return message and report your MAC address.  All other participants will drop this frame.  Look at the pictures. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/77c/5d9/200/77c5d92001284a67a3b9b1c4b45fcba1.PNG"></div><br>  Here is the frame came to the switch, and now his task is to send this frame to all ports, in addition, where he came from. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/46c/1f5/2fb/46c1f52fb9104608b7251a7444ed35d2.PNG"></div><br>  Frames were sent and see the following.  The frame that came to the web server was dropped, as indicated by the crossed-out envelope.  Therefore, the frame is discarded.  And the DNS server, on the contrary, found out its address and should form a response. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/b79/5fd/ccf/b795fdccfff248ab9ae798820c724afe.PNG"></div><br>  And as you can see, an ARP response was created.  Let's break it down a bit. <br><br>  <strong>1)</strong> MAC addresses.  In the Source MAC, he writes his MAC address, and in the Destination MAC (Target MAC) the address of the computer. <br>  <strong>2)</strong> In Source IP, your IP address, and in Target IP address of the PC. <br><br>  I think everything is clear here.  If it is not clear, ask.  In the next article I will talk about it in more detail. <br><br>  I click on ‚ÄúCapture / Forward‚Äù and see what happens next. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/a0e/630/afa/a0e630afac134c019eae18178dad5d51.PNG"></div><br>  And I see that the computer has successfully received ARP from the server.  Now he knows the MAC address of the DNS server, and therefore, how to contact him.  And immediately decides to find out from him who this ‚Äúcisadmin.ru‚Äù is.  We can open this data and see what he decided to send there.  Open "Outbound PDU Details" and go down to the bottom.  We see that in the upper ‚ÄúNAME‚Äù field he recorded the requested name.  Click the button ‚ÄúCapture / Forward‚Äù and look. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/139/8eb/89b/1398eb89b2074923a11826e4b033c313.PNG"></div><br>  DNS server receives a DNS request.  He climbs into his table and sees that he has such a record, and forms the answer.  We open and see that the LENGTH field has changed and is equal to 4. That is, 4 bytes.  So much is the IP address.  And, accordingly, it records the IP address itself - 192.168.1.2.  This is the web server address.  Moving on. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/b0c/a3b/ed5/b0ca3bed59524e86b0e4e28be31f1ba2.PNG"></div><br>  We see that the computer received a message from the DNS server, as indicated by a tick on the brown envelope.  And now he knows the IP address of the web server.  Immediately he tries to establish a TCP session, but a problem arises.  He does not know the MAC address of the web server and runs a similar ARP request to find out.  We look. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/96b/21b/814/96b21b814d7c4f2f9f6d91670252ae7b.PNG"></div><br>  And here is similar to the previous one.  The DNS server realized that the message was not for him, and discarded.  And the web server finds out its IP address and generates an ARP response. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/15d/f18/920/15df189201184436a8863aa41a39b490.PNG"></div><br>  I got to the computer ARP answer.  Now he knows the MAC address of the web server and tries to establish a TCP session.  It sends a TCP segment to port 80.  Since the TCP protocol has again made itself felt, and in the following protocols it will also appear, then I will briefly explain why it is needed.  As you remember from the first article, I said that it establishes the connection.  So now every data block that will be sent from the server to the computer will be marked.  This is necessary in order for the client to understand whether all the data he received or some lost.  And, if any data is lost, he will be able to request it again.  Loss of a block of site data can lead to the fact that the site will skew, and it will appear crooked.  But now the main thing is to understand that TCP is located at the transport level and works with ports.  I specifically opened the window where it is written so that you gradually get used to these fields. <br><br>  Let's see how the web server will respond to the computer. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/bea/1cc/90b/bea1cc90b6df4353887913c41fc33fd8.PNG"></div><br>  The web server sends a response message to the computer and the session is established.  And, when everything is ready, the computer generates HTTP and sends it to the web server.  Let's see what has changed.  And the last line has changed.  If earlier there was recorded the IP address of the web server, now there is the domain name ‚Äúcisadmin.ru‚Äù.  But do not forget that the domain name here is written only in the application level data.  The IP address has not gone away.  It is located at the network level.  So let's immediately show the IP packet where these addresses are presented. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/3fd/b04/f4b/3fdb04f4bbe7488abd6bd3dac9428f7e.PNG"></div><br>  And as you can see, the IP addresses are in place. <br><br>  Further, the process is similar to the laboratory for HTTP.  Therefore, I will cite the final stage, where, by the name ‚Äúcisadmin.ru‚Äù, a page will open that is located on the server with the IP address 192.168.1.2. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/85e/98f/c13/85e98fc139a3419fac29ead3b59d356c.PNG"></div><br><br>  Accordingly, we see that everything works fine, and the site opens by a domain name. <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And finally, I will mention one very important utility called </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nslookup</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">It allows you to contact the DNS server and find out the name or IP address information from it. </font><font style="vertical-align: inherit;">In CPT, this command is present, and I suggest looking at it. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We click on the computer on the scheme and on the tab "Desktop" select "Command Prompt". </font><font style="vertical-align: inherit;">This is an imitation of the command line.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/c9d/57c/a97/c9d57ca9708a49c793a05a511a3541c3.PNG"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We open a window, like cmd in Windows. </font><font style="vertical-align: inherit;">You can enter the "?" </font><font style="vertical-align: inherit;">and press ENTER. </font><font style="vertical-align: inherit;">It will show a list of all available commands. </font><font style="vertical-align: inherit;">We need the nslookup command. </font><font style="vertical-align: inherit;">Enter it and press ENTER.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/7c5/380/ad6/7c5380ad65ce41a8861960e65111b884.PNG"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The utility itself opens, as evidenced by the sign of the bird on the left. </font><font style="vertical-align: inherit;">Shows us the address of the DNS server and its name. </font><font style="vertical-align: inherit;">Since there is no name, it duplicates the line with the IP address. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Well, it's time to enter there the domain name and find out what it will give in response.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/158/fc6/917/158fc6917a85474c9f46ae92ed6a33a0.PNG"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">He gives the name and address, as expected. Basically, when you access a website, he performs this procedure himself. You have seen this query above. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There is another file in each OS that is closely related to DNS. His name is "hosts". Its standard location in Windows systems is "windows \ system32 \ drivers \ etc \ hosts". And in * nix similar systems: "/ etc / hosts". It does the same thing as the DNS server. And this file is controlled by the computer administrator. And the most important: it takes precedence over the DNS server. And, if you have written in the file that the website habrahabr.ru corresponds to the IP address, which actually corresponds to google.ru, then, accordingly, it will open google, not habrahabr. This is often used by attackers when they make corrections to this file. I will give a screen of this file from your computer.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/1ba/123/0c6/1ba1230c60e048cb8f84a6e377944620.PNG"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This is how it looks. You can open it at home and realize that it is exactly the same. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Here is such an interesting service and protocol. Also as with HTTP, I will </font><font style="vertical-align: inherit;">provide a </font></font><a href="https://drive.google.com/open%3Fid%3D0BzKZChrEeV7zWmg4bVd2NEpaYXM"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">link</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to download this labs. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And we move on and sort out the DHCP protocol. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iii) DHCP (Dynamic Host Configuration Protocol).</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dynamic Host Configuration Protocol It allows nodes to dynamically obtain IP addresses and other parameters for correct work on the network (main gateway, subnet mask, DNS server addresses). From myself I will say that this protocol saves the life of many sysadmins around the world. Agree that to go and manually register IP parameters for each node is not the most pleasant thing.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">With DHCP, you can provide full control over IP addresses: create separate pools for each subnet, issue addresses for rent, reserve addresses and much more. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">His work is very difficult for the current understanding. </font><font style="vertical-align: inherit;">Too many packets, data and frames must be transmitted before the requested address is assigned to the computer. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's see how it works in practice.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/45e/837/f4e/45e837f4e42c44349208cc5ecda19f61.PNG"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And we see that a new server has been added. </font><font style="vertical-align: inherit;">Of course, it was possible to give all the roles to one server, but in order for you to understand how the data goes, let there be a separate server for each role. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Set up the server.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/ac7/4e7/309/ac74e7309df74f8ba7f6afc6fe9b7d1b.PNG"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We assign a free address and mask. </font><font style="vertical-align: inherit;">Let us turn to the role of DHCP.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/4b3/dbc/b24/4b3dbcb246bc4c39a86ee91b6c600eeb.PNG"></div><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1)</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Select the DHCP service, and a standard pool has already been created here. </font><font style="vertical-align: inherit;">It can not be deleted. </font><font style="vertical-align: inherit;">Only change. </font><font style="vertical-align: inherit;">You can create several pools yourself and do something with them, whatever, even delete. </font><font style="vertical-align: inherit;">But the standard will always remain. </font><font style="vertical-align: inherit;">We do not need additional pools, so we will redo the standard one. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2)</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Here you can add the gateway address, the DNS server address. </font><font style="vertical-align: inherit;">We have not yet touched the question of the gateway, so for now we will not touch it. </font><font style="vertical-align: inherit;">We have a DNS server, and you can specify it. </font><font style="vertical-align: inherit;">Well, let's leave the start addresses as is. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3)</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Do not forget to turn on the server! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We switch the environment to the simulation mode and see how the computer gets the address.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/092/333/b13/092333b137d94609b273e3323a4da95a.PNG"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Accordingly, go to the configuration settings and switch to DHCP. </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/5a6/e96/843/5a6e96843b8846e9a84188e4f3128b03.PNG"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We see that a DHCP request has been created. Let's go through each drop and superficially see what's inside. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1)</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Data link layer protocol (Ethernet). The address of the computer is recorded in the ‚ÄúSource MAC‚Äù. And in the ‚ÄúDestination MAC‚Äù is recorded the broadcast address (that is, all). </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2)</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Network layer protocol (IP). The address ‚Äú0.0.0.0‚Äù is recorded in the ‚ÄúSource IP‚Äù. This address is inserted when the requested address does not have an address. And in the "Destination IP" is inserted the broadcast address "255.255.255.255".</font></font><br><br>  We look further. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/29e/17f/136/29e17f1365ad40dfaf0706c9a89bfe3e.PNG"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's look at the UDP field. Ports 67 and 68 are used here. These are UDP ports reserved for DHCP. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now we look at the DHCP field. Here, everything is zero, and only in the ‚ÄúCLIENT HARDWARE ADDRESS‚Äù field is the MAC address of the computer. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We know how the broadcast works, and see how the network members will react to it.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/c27/744/70b/c2774470b70d463699073bb0cc49cefb.PNG"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And we see that all but the DHCP server have dropped the data. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Then I will tell you how the protocol works in words, because a lot of packets and frames will be formed before the DHCP server issues an address. As soon as he receives a request, he begins to look for a free address in the database. As soon as the address is found, the next stage begins - this is the verification of the address. After all, as we remember, the address can be assigned manually, bypassing the DHCP server. This often happens, and even in the corporate environment there are clever people who manually enter the address. For this, the DHCP server sends an ICMP message or ping before issuing this address.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We have not talked about this yet. Therefore, I will say in advance that the ping utility allows you to check the availability of a node by its IP address. And, if someone answers a ping to the DHCP server, then the address is busy and it will repeat the whole procedure, but with a different IP address. But this is also not the most sensible decision. You understand that if a computer with a statically assigned address is turned off, it will not respond to the ping of the DHCP server, and, accordingly, DHCP will decide that the address is not busy and assign it to some node. But, as soon as the computer turns on, 2 computers with the same IP addresses will appear. And then wild miracles can begin. Modern systems have already learned how to respond to this correctly, but still it is not necessary to allow this and it is important to monitor this. I‚Äôll skip all this data in CPT, otherwise I‚Äôll make a filmstrip of monotonous pictures. I will attach this lab belowand you can see for yourself. I will give only the final result, which will form a DHCP-server.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/5de/716/645/5de716645fc242d2b9781156768390ed.PNG"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And we see that in the field ‚ÄúYOUR‚Äù CLIENT ADDRESS ‚Äùthe address 192.168.1.1 was added. This is the address that the DHCP server offers to the computer. In the "SERVER ADDRESS" field, the DHCP server adds its address so that the computer knows who offers it the address. In the "CLIENT HARDWARE ADDRESS" field, the MAC address of the computer (that is, the one who requested) is added. And at the very bottom is the option "DHCP Domain Name Server Option". This is the address of the DNS server, which we specified in the DHCP service settings. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's see how the computer gets the address. </font></font><br><br><img src="https://habrastorage.org/files/b06/021/b41/b06021b415ee4c6eb373d6fd7606e27c.PNG"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And we observe the message ‚ÄúDHCP Request Successful‚Äù. Which means that the data was successfully received, as evidenced by the completed fields below. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This is how DHCP works. As promised, </font><font style="vertical-align: inherit;">download </font></font><a href="https://drive.google.com/open%3Fid%3D0BzKZChrEeV7zdTZRc3pZb0VQWlE"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">link</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Moving on, and the turn came to the protocols POP3 and SMTP. I specifically mentioned these protocols together and now I will explain why. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IV) POP3 (English Post Office Protocol Version 3).</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Post Office Protocol Version 3. The protocol that clients use to receive mail from the server. Versions 1st and 2nd are outdated and are not used at the present time. It works on the principle of "download and delete."</font></font> What does it mean?<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This means that the client enters the server and looks to see if there is a letter for it. And if it is present, it loads it to itself and puts a mark about deletion on the server. Good or bad, a moot point. Someone claims that this is good, since the server is not overloaded with unnecessary letters. I think otherwise. Firstly, the modern infrastructure allows you to store a large amount of letters, and secondly, it often happens that the user deletes or loses an important letter, and then it becomes difficult to find it. Although it is worth mentioning that some clients can be configured so that they do not delete letters from the server. However, with standard settings, they delete emails from the server. Therefore, be careful. The port that he is listening on is 110. A fairly well-known port number, so take notes. Just like the HTTP protocol,He has an enhanced version - POP3S. With the help of an additional cryptographic protocol, like SSL, the contents are encrypted, and the letters are transmitted securely. POP3S uses port 995. We will definitely consider the POP3 protocol in practice, after we learn about the SMTP protocol.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It is worth mentioning about the analogue of POP3. This is the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IMAP protocol (Internet Message Access Protocol).</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Email Access Protocol. It is more intelligent and more complex than POP3. But their main difference is that the client, entering the server, does not delete the mail, but copies it. Thus, the client displays a copy of the mailbox, which is stored on the mail server. And if the client removes any letter from himself, then it is deleted only from him. On the server, the original remains whole. He listens to port 143. It is not possible to consider IMAP in detail in CPT, since it is not fully implemented there. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V) SMTP (English Simple Mail Transfer Protocol).</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simple mail transfer protocol. It is used, as you understand, to transfer mail to the mail server. That is why we study POP3 and SMTP in parallel. It uses port 25. This is also important to remember. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It is also important to remember that all mail protocols work over a TCP connection. That is, with the establishment of the connection. Here it is important to get every package safe and sound. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I think from a theoretical point of view, everything is clear. Let's move on to practice and see how it works. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I will open the previous laboratory work on DHCP and slightly upgrade it.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/fe7/e4a/56e/fe7e4a56ebf645b482bc9a7348cb10ff.PNG"></div><br>  I removed the HTTP server and added a desktop computer instead, and called WORKER-PC.  I will assign him the IP address that the HTTP server had.  That is, 192.168.1.2.  Old computer renamed DIRECTOR-PC.  I left the DNS server.  We still need it in this lab.  DHCP server renamed to Mail-Server.  And let's set it up. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/c76/40a/5bd/c7640a5bd10c450e9ec2d5eebfa11f82.PNG"></div><br>  I did not change the address, and he remained from the last labs.  Let it remain so.  Go to the service and find the "EMAIL". <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/b8c/013/7df/b8c0137dff0a4f8ab3916150355d8ee6.PNG"></div><br>  <strong>1)</strong> In the field "Domain Name" you must write the domain name.  This is what will be written after the "@" sign.  Mandatory requirement.  Any mail is written in this format - login @ domain.  And press the "Set" button.  I have already pressed it, so it is not active, but if you make changes to the domain name entry field, it will become active again. <br><br>  <strong>2)</strong> And create users.  In the field "User" we will write the first user.  This will be the "Director".  And set the password "123".  And click on the "+" sign to add it to the database.  Similarly, create a second user.  This will be ‚ÄúWorker‚Äù with the same password ‚Äú123‚Äù. <br><br>  The creation of users is complete, and we observe the following picture. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/a96/014/4d7/a960144d78ae4a6e9c26fe0aa25c12d8.PNG"></div><br>  <strong>1)</strong> We see in the database a list of created users.  They can be removed, added and changed passwords using the buttons on the right. <br>  <strong>2)</strong> Do not forget to enable POP3 and SMTP services.  They are enabled by default, but verification will not be superfluous. <br><br>  This completes the server-side configuration, and now we‚Äôll proceed to the client-side configuration.  Let's start with the director's computer.  Open the "Desktop" tab and select Email. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/116/cd2/6b8/116cd26b865049f994c2fb3436452823.PNG"></div><br>  After that, the settings window will immediately open. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/89a/636/bea/89a636bea5944e92a13c9bf60cce0a94.PNG"></div><br>  <strong>1)</strong> In the field ‚ÄúYour Name‚Äù we write any name.  I will write Director. <br>  <strong>2)</strong> In the field "Email Address" we write a mailbox.  For the director, this is director@cisadmin.ru. <br>  <strong>3)</strong> In the "Incoming Mail Server" and "Outgoing Mail Server" fields, write the address of the mail server (192.168.1.4) <br>  <strong>4)</strong> In the field ‚ÄúUser Name‚Äù we write the login itself.  That is, Director and, accordingly, the password 123. <br>  Press the "Save" button, and we open a mail client.  CPT called it an email browser. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/5fd/ea1/4e5/5fdea14e58d7480da5f8133c8e11895f.PNG"></div><br><br>  The same setting will be on the desktop computer.  I bring a screen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/6a7/12a/9e7/6a712a9e79534eee8ec72d568a45826a.PNG"></div><br><br>  Now it's time to see how mail works.  Let's first take a look at how it works in real time, and then we will take a closer look at the simulation mode. <br><br>  Open the mail client on the director's computer and create a letter. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/3f3/45c/27d/3f345c27d6a14f4f9af753ff8f1ee8ca.PNG"></div><br>  Click on the button ‚ÄúCompose‚Äù, and a familiar window opens before us. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/b3a/ac2/cad/b3aac2cad6654f4bbfdbc04b3a3a0701.PNG"></div><br>  Everything is as usual here.  We write to whom we send, the subject of the letter, the text of the letter itself and press the button ‚ÄúSend‚Äù. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/596/81d/aca/59681dacacfd4999ad888f42c31b4b06.PNG"></div><br>  We see the following message that the sending was completed successfully.  Wonderful!  Now let's see how the letter will be delivered to the worker. <br><br>  Open the mail client on the desktop computer. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/4c8/3bc/8b3/4c83bc8b33be4ccdb4a992f05db423cf.PNG"></div><br>  And we see that there is no letter.  And all because the client in the CPT does not support automatic updating and you have to do it manually.  Push the "Receive" button. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/cc2/ff0/8d0/cc2ff08d0af245579c1e687ceddd474e.PNG"></div><br>  We see the appeared letter and the message on successful receipt.  Let's open the letter and see if it‚Äôs broken. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/dc4/468/02d/dc446802defb410f8733e892eb5ffb89.PNG"></div><br>  And yes, the letter, indeed, came unharmed.  We will answer this letter and at the same time check that the letters go both ways.  I click the "Reply" button and write the answer. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/4e6/53e/c88/4e653ec889774ead8a38e3c6dbbca179.PNG"></div><br>  I send the letter and go to the director's computer.  And, accordingly, press the ‚ÄúReceive‚Äù button to update the mail. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/bf3/e5e/1a1/bf3e5e1a1588479b9a5a95f3551338e6.PNG"></div><br>  There was a letter, and below, and a message about the successful receipt. <br><br>  Open the letter to make sure to the end. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/5b1/898/938/5b18989384e245c7a7e9709f06aa2ef1.PNG"></div><br>  The letter reached, which means everything works. <br><br>  Let's take a closer look.  Switch the environment to simulation mode and send an email.  I will not create something new, but just answer the above received letter. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/5b2/6c8/8cb/5b26c88cbac74c039a2598f868c7d81d.PNG"></div><br>  As I said earlier, all mail protocols work with TCP.  And this means that before the mail protocol starts to work, and in this case the SMTP protocol, a preliminary connection should be established between the computer and the server.  This is what we are seeing now. <br><br>  Now the process of establishing a connection interests us a little.  We are now talking about mail protocols, and therefore I will skip this process and wait for the appearance of SMTP. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/8e5/c89/dd8/8e5c89dd89214ee08a22b6d4a90e521a.PNG"></div><br>  <strong>1) The</strong> long-awaited SMTP appeared, as indicated by the entry in the simulation panel, and open them.  Pay attention to TCP ports to make sure that this is it.  And we see that in the "Destination Port" is 25 number.  And in the ‚ÄúSource Port‚Äù a dynamically invented port is recorded so that the server can identify the client.  All right <br><br>  <strong>2)</strong> We look at the SMTP data below, and there is nothing interesting here.  CPT shows us like a normal data block. <br><br>  Then he sends this data to the server.  Let's see what happens next. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/312/6fa/49f/3126fa49fced441c910ca4fa10d0407a.PNG"></div><br>  The server, receiving data from the computer, generates a response message.  Pay attention to the changes.  The numbers that were present were swapped, namely the ‚ÄúSource Port‚Äù and ‚ÄúDestination Port‚Äù.  Now the source is the server, and the destination is the computer.  This is a message about the delivery of letters to the server. <br><br>  After that, the SMTP protocol operation is over, and the computer can start to close the TCP session.  What he will do. <br><div style="text-align:center;"><img src="https://habrastorage.org/files/309/f8c/49e/309f8c49ea2844daa202ec0681e57d09.PNG"></div><br><br>  Now that the letter has been sent, and we know that it is on the server, we will try to receive this letter.  Open the desktop computer and click the button "Receive". <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/70b/ea2/45c/70bea245c55b498da70ff04577d9912e.PNG"></div><br>  As with SMTP, a TCP session is also created in POP3.  Let's look at the port numbers.  The ‚ÄúDestination Port‚Äù is 110 port number.  This is the standard port number for POP3.  The ‚ÄúSource Port‚Äù is port 1028. <br><br>  We look further and wait for the release of POP3. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/be7/a9f/d4f/be7a9fd4ff934b93bff3ad4e23412d2c.PNG"></div><br>  Here he appeared and observed that in the POP3 field the same picture as in SMTP, i.e.  all that and so it was clear. <br><br>  Then he sends this request to the server, and the server must respond with a letter if it is there. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/a8b/7d5/c6c/a8b7d5c6c7654cf6ae22329feb8025af.PNG"></div><br>  We know that it is there and observe how the server generates a response message.  And just like with SMTP, it reverses the ports of departure and destination.  At the application level, some POP3 data is packed.  This is the letter itself. <br><br>  As soon as the data gets to the computer, they should immediately be displayed in the mail client. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/f8e/3e8/859/f8e3e88592d04c84be65689c9a32a1be.PNG"></div><br>  And as soon as the data is received, as indicated here by the check mark on the purple package, the letter is immediately displayed in the client.  Further, as in SMTP, will be the closure of the TCP session. <br><br>  I give a <a href="https://drive.google.com/open%3Fid%3D0BzKZChrEeV7zYzRUZ1Z5MFJDZVk">link</a> to download this labs. <br><br>  And another thing that I would like to show in addition to email protocols is the role of the DNS server.  You have seen that when performing any action in the mail client, he wrote to us at the bottom of the server‚Äôs IP address.  But it is possible to specify not an IP address, but a domain name.  Let's see how to do this. <br><br>  Well, the most logical thing that comes to mind is that we have a mail server with the address 192.168.1.4.  And with this address we will have a domain name.  Accordingly, we go to the DNS server and match the name to this address. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/0f6/34f/753/0f634f753aca48f28937de8f8e330440.PNG"></div><div style="text-align:center;"><img src="https://habrastorage.org/files/249/692/db9/249692db9e3049618c15fc44b3905fcb.PNG"></div><br><br>  The configuration on the side of the DNS server is completed, and it remains to change 2 lines in the mail clients of computers.  We open the client on the director's computer. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/5d0/905/979/5d0905979fa64d37ae74c0501aa57dac.PNG"></div><br>  And click on the button "Configure Mail". <br><br>  The window that we saw during the initial configuration of the client opens. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/306/f3a/7e7/306f3a7e74ae40e2941af306d322e071.PNG"></div><br>  Here you need to change the lines "Incoming Mail Server" and "Outgoing Mail Server".  Instead of the IP address, we write down the domain name and click the ‚ÄúSave‚Äù button. <br><br>  The same is done on the worker‚Äôs computer.  I will not give extra details, just give a screen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/a4d/564/75f/a4d56475f4cc430a9c256498fd6609e8.PNG"></div><br><br>  Immediately try to write a letter to the director and send. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/2af/1df/c11/2af1dfc1123246ffb5370d2ad81c6691.PNG"></div><br>  And after clicking the "Send" button, we observe the following. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/598/152/3ea/5981523ea9c447c0b93dd09acef8e7cb.PNG"></div><br>  At the bottom there is a message that he asked the DNS server for the address, and he gave him the IP address of the mail server.  Sending was successful. <br><br>  Now let's go to the director‚Äôs computer and click on the ‚ÄúReceive‚Äù button. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/bb4/b48/f4a/bb4b48f4afd340f9bbcc49e21838adc3.PNG"></div><br>  We receive a letter, and the inscription below indicates successful delivery.  Here is another example of using a DNS server on a network. <br><br>  We have disassembled mail protocols.  And proceed to the analysis of the next protocol. <br><br>  <b>VI) Telnet (from the English. Terminal network).</b>  If you translate literally, then this is a network terminal.  The foundations of this protocol were laid a long time ago, and so far it has not lost its relevance.  It is used to display the text interface, as well as to control the OS.  A very useful protocol, and every network engineer must know how to work with it.  I will explain why.  Each network device, the interface of which is a command line, is configured either using a special console cable or through virtual terminals, which includes the Telnet protocol.  And, if the console cable requires a specialist to be located next to the equipment to be configured, then tuning using virtual terminals, and in this case Telnet, does not limit the specialist in distance.  You can be in another room, building, city and still have the opportunity to access equipment.  I think this is a huge plus.  From the minuses of this protocol, I note that it is actually not protected and everything is transmitted in the clear.  It uses port 23.  And the most popular distributions that work with this protocol are Putty, Kitty, XShell, etc.  I think we will consolidate his work in practice. <br><br>  We will use Telnet to access the Cisco 2960 switch. It, like all Cisco devices, uses the Cisco IOS operating system.  And the command line interface is called CLI (Command Line Interface).  Let's first set up the switch.  We will hang the IP address on it, because without it we will not be able to get to the switch and allow access via Telnet.  I will not give screenshots, as there are no graphics.  Just give a list of input commands and explain what they are for. <br><br>  Switch&gt; enable - <i>switch to privileged mode.</i>  <i>From here, most teams are available.</i> <br><br>  Switch # configure terminal - <i>switch to global configuration mode.</i>  <i>In this mode, you can enter</i> <i><br></i>  <i>commands that allow you to configure general system characteristics.</i>  <i>From global configuration mode, you can switch to a variety of configuration modes that are specific to</i> <i><br></i>  <i>specific protocol or function.</i> <br><br>  Switch (config) #username admin secret cisco - <i>create a user with the username admin and the password cisco.</i> <br><br>  Switch (config) #interface vlan 1 - <i>go to the virtual interface and hang the IP address on it.</i>  <i>Here the beauty lies in the fact that it does not matter on which of the 24 ports it will hang.</i>  <i>The main thing for us is to have access to it from any port.</i> <br><br>  Switch (config-if) #ip address 192.168.1.254 255.255.255.0 - <i>assign the last address 192.168.1.254 with the mask 255.255.255.0</i> <br><br>  Switch (config-if) #no shutdown - the <i>interface is turned off by default, so we turn it on.</i>  <i>In IOS, 90% of commands are canceled or disabled by assignment before the ‚Äúno‚Äù command.</i> <br><br>  Switch (config) #line vty 0 15 - <i>go to the settings of virtual lines where Telnet lives.</i>  <i>From 0 to 15 means that we apply this to all lines.</i>  <i>You can install up to 16 simultaneous connections on it.</i> <br><br>  Switch (config-line) #transport input all - <i>and allow the connection for all protocols.</i>  <i>I specifically set up for all protocols, since a bit later another protocol will be considered and I do not consider it reasonable to climb here for the sake of one team.</i> <br><br>  Switch (config-line) #login local - we <i>specify that the account is local, and it will check it with the one we created.</i> <br><br>  Switch # copy running-config startup-config - <i>be sure to save the configuration.</i>  <i>Otherwise, after resetting the switch, everything will reset.</i> <br><br>  So the switch is configured.  Let's connect to it from the work computer.  Open the command prompt.  We opened it when we looked at nslookup.  And we write the following. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/1eb/872/734/1eb8727341704bb89d6c2c0bd2a3035f.PNG"></div><br>  That is the telnet command and the address where to connect. <br><br>  If everything is correct, the next window opens with a request for a login and password. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/b0b/7b2/c0f/b0b7b2c0fb4e44f7b22661bb99eb6d69.PNG"></div><br>  Accordingly, we write login: admin and password: cisco (we created it on the switch). <br><br>  And he immediately lets us on the switch.  To check, check the availability of the director's computer, using the ping command. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/4ad/467/0e1/4ad4670e14924ce4a154bdfb2dcd096d.PNG"></div><br>  Ping is successful.  I hope it is clear that the availability check is performed not from the worker‚Äôs computer, but from the switch.  The computer here is the control device and that's it.  I will not consider it in simulation mode.  It works in the same way as mail protocols, that is, a TCP session is created, and after the connection is established, Telnet begins to work.  As soon as he fulfills, he begins to break the connection.  It's simple.  I give a <a href="https://drive.google.com/open%3Fid%3D0BzKZChrEeV7zajZzYkhTVjc3c00">link</a> to download. <br><br>  Let's now break down the SSH protocol. <br><br>  <b>VII) SSH (English Secure Shell).</b>  Translated from English - a safe shell.  Like telnet allows you to manage the OS.  Its difference is that it encrypts all traffic and transmitted passwords.  Encrypted using the <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25BE%25D1%2582%25D0%25BE%25D0%25BA%25D0%25BE%25D0%25BB_%25D0%2594%25D0%25B8%25D1%2584%25D1%2584%25D0%25B8_%25E2%2580%2594_%25D0%25A5%25D0%25B5%25D0%25BB%25D0%25BB%25D0%25BC%25D0%25B0%25D0%25BD%25D0%25B0">Diffie-Hellman algorithm</a> .  Who cares read.  Almost all modern OS systems are able to work with this protocol.  If you have a choice of which protocol to use, then use SSH.  First, you will suffer a little in tuning, and much will not be clear, but it will settle down in time with your head.  The main thing to remember now is that the most important difference between SSH and Telnet is that SSH encrypts traffic, but Telnet does not.  I think it's time to go to practice and see how it works.  We will connect and manage the same switch.  Let's try to connect via SSH from the director's computer to the switch. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/7fe/41c/fbb/7fe41cfbb115427c8bee15f2681f7929.PNG"></div><br>  Here, the command syntax is slightly different than when connected via Telnet.  We write ssh with the key l, after we type the login (we have this admin) and the address where we connect (192.168.1.254).  Finish this case with the ENTER key.  A message is displayed that the connection was closed by an external host.  That is, the switch has closed the connection.  That's because the keys that work with encryption were not created.  I‚Äôll go to the switch and configure it to work properly over SSH. <br><br>  Switch (config) #hostname SW1 - <i>change the name of the switch.</i>  <i>With this standard name, you cannot register a domain that is needed for generating keys.</i> <br><br>  SW1 (config) #ip domain-name cisadmin.ru - <i>register domain.</i> <br><br>  SW1 (config) #crypto key generate rsa - <i>generate RSA keys.</i> <br><br>  The keys for the keys will be: SW1.cisadmin.ru <br>  Choose the size of the modulus in the range of 360 to 2048 for your <br>  General Purpose Keys.  Choosing a key modulus greater than 512 may take <br>  a few minutes. <br><br>  How many bits in the modulus [512]: 1024 - <i>Specify the key size.</i>  <i>The default is 512, but I will enter 1024.</i> <br>  % Generating 1024 bit RSA keys, keys will be non-exportable ... [OK] <br>  There is a message about the successful generation of keys. <br><br>  Setup is complete, and try again to connect to the switch. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/db5/eea/157/db5eea157c274d17b3fc5df6a21f7b68.PNG"></div><br>  And another message is already displayed, asking for a password.  Enter the password "cisco" and find ourselves on the switch. <br><br>  It remains to check the work.  I will use the ping command and check the availability of the work computer. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/385/82b/20e/38582b20eb4541e093957dcb348309ba.PNG"></div><br>  And made sure that everything works fine.  I bring the <a href="https://drive.google.com/open%3Fid%3D0BzKZChrEeV7zaW8yQjhubFpLLUU">link</a> to make sure you. <br><br>  And I turn to the next protocol. <br><br>  <b>VIII) FTP (English File Transfer Protocol).</b>  File Transfer Protocol.  I think from the name of the protocol it is clear that it transfers files.  A very ancient protocol, released in the early 70s.  It appeared before HTTP and the TCP / IP stack.  As he worked before, he still works according to the ‚Äúclient-server‚Äù model.  That is, there is the initiator of the connection and the one who listens to it.  There are several modifications that support encryption, tunneling, and so on.  Previously, different console utilities worked with this protocol, which did not have graphics and they worked by entering certain commands.  At the present time there are also graphic programs.  The most popular and simple is Filezilla.  In CPT, only the console method is implemented. <br><br>  We proceed to practice.  As a basis, I will take the previous lab and replace the mail server with an FTP server. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/b38/921/bff/b38921bffe2b4ec8a0c9de56f6d3f3b7.PNG"></div><br>  In principle, the scheme is similar to the previous one. <br><br>  Open the FTP server and go to the FTP service. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/386/8ec/c22/3868ecc22eaa4bfb9633aaa114df642a.PNG"></div><br>  By default, the service is enabled, but it is better to check. <br><br>  <strong>1)</strong> I marked 1 in account, which was created by default here.  This is a standard account with the login "cisco" and the same password.  In the right column we see "Permission" - this is access rights.  And we see that this account has all the rights.  In the test environment, this is exactly what we need, but when working in a company, always follow the rights of each account. <br><br>  <strong>2)</strong> Digit 2 marked FTP repository.  Here are mostly firmware for cisc devices. <br><br>  The service is set up and once everything is so beautiful, we will try to work with it.  But first, let's create a text file on the director‚Äôs computer, which I then download to the FTP server. <br><br>  I open the director's computer and select "Text Editor".  This is an analog notebook in Windows. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/5b4/0d7/274/5b40d7274cda467cbe9b8b7ef532eedb.PNG"></div><br>  I will write there the text and save it. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/83c/2d0/b44/83c2d0b448dd410c9ab071531a38c44c.PNG"></div><br><br>  Now we will try to upload this file to an FTP server.  Open the command line and write <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/f9b/ce4/929/f9bce49295a74ed0b6eebe7c2a9b5af7.PNG"></div><br>  That is, as we remember earlier, the protocol used is written at the beginning, and then the address follows.  Next, after the connection, the login is asked (we enter cisco) and the password (also cisco).  And after authentication we get to the FTP server itself.  The list of available commands can be checked with the "?" Command. <br><br>  To upload something, use the ‚Äúput‚Äù command, and download the ‚Äúget‚Äù command.  Fill our file. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/7c3/118/5d4/7c31185d428d499f99c4d8d507047033.PNG"></div><br>  I entered the ‚Äúput‚Äù command and the name of the file I want to copy.  And he shows us a message that everything is copied.  The file weighs 20 bytes, and the transfer rate is 487 bytes per second.  Then I entered the ‚Äúdir‚Äù command to check the contents of the server.  And the message.txt file was lit up with the 17th number. <br><br>  It remains the case for small.  This is a download file on the desktop computer.  I open WORKER-PC and enter the command line. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/d96/059/80d/d9605980d33b4acd84f4b62be988897d.PNG"></div><br>  I perform almost the same actions as before.  Except for the ‚Äúget‚Äù command, not ‚Äúput‚Äù.  We see that the file is downloaded.  I also entered the "dir" command to show that when downloading a file, the original is not deleted.  Download a copy of it. <br><br>  And once he downloaded the file, it should appear on the computer.  I open the ‚ÄúText Editor‚Äù and click File-&gt; Open. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/bce/b8b/d08/bceb8bd08f9d447cb3aa9ea603c581c3.PNG"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/files/81c/1d7/69f/81c1d769f2284d8e96ec63a2a8e1b0c3.PNG"></div><br>  I see that the file is really present and try to open it. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/88d/cf9/8be/88dcf98be8af42ad98e95a83b9fb112d.PNG"></div><br>  The file came intact.  All text is present. <br><br>  I will not re-clog your head, how it works.  Because it works in the same way as mail protocols, Telnet, SSH, and so on.  That is, a TCP session is created, and the file transfer / download begins.  I will give only the structure of it. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/e84/2db/319/e842db31941e4c669ae38b6782091a2e.PNG"></div><br>  In TCP we pay attention to the port number.  This is port 21 (standard FTP port).  And in the FTP data field it is indicated that it is some kind of binary data. <br><br>  This is how the world famous protocol works.  More advanced versions are not supported here, but they work in almost the same way.  Here is a <a href="https://drive.google.com/open%3Fid%3D0BzKZChrEeV7zTjNjR1NCNll3UkU">link</a> to the lab. <br><br>  And the last protocol that remains is TFTP. <br><br>  <b>IX) TFTP (English Trivial File Transfer Protocol).</b>  Simple file transfer protocol.  Invented it in the 80s.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Although FTP was quite popular, not all its functions were needed for simple tasks. And a simple analogue was invented. It works via UDP, that is, it does not require connection establishment. Also, it does not require authentication and authorization. It is enough to know its IP address and have it yourself. This is certainly not safe, since the address can be faked. But when a simple protocol is needed and authorization is not required, the choice falls on it. The tsiskov equipment works very closely with it to copy the image or download it to flash-memory.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nothing teaches better than practice. Therefore, go to her. Miraculously, I discovered that computers in CPT do not know how to work with TFTP. It is good that they did not cut out this function from the tsiskov equipment. Therefore, we will learn from our favorite switch. The scheme remains the same. Just on the FTP server, I will enable the TFTP service.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/7d5/3ed/61f/7d53ed61fb184fb3a98601c3ad0682a6.PNG"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This is how it looks. The database has a bunch of different firmware for many devices. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's go to the switch. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SW1 # dir - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">command for outputting the contents of the file system</font></font></i> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Directory of flash: / </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 -rw- 4414921 c2960-lanbase-mz.122-25.FX.bin </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9 -rw- 1168 config.text </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64016384 bytes total (59600295 bytes free) </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We have There is a file config.text. Let's try to upload it to the TFTP server. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SW1 # copy flash: tftp: - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">that is, we specify from where, and then where. Here it is from flash-memory on tftp-server</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Source filename []? config.text - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here it asks for the name of the file to be copied.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Address or name of remote host []? 192.168.1.4 - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">specify where to copy.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Destination filename [config.text]? - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and here you need to specify under what name to save it on the server. By default, it offers to save it with the same name. And if you press the ENTER key, it will select the default name. It suits me, and I will leave it the same.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Writing config.text .... !!! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[OK - 1168 bytes] </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1168 bytes copied in 3.048 secs (383 bytes / sec) </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And in the final message it shows that everything copied successfully. Let's go to the TFTP server and check.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/d11/a62/f1f/d11a62f1fecf49cf8590cfc4b3aa0b38.PNG"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And I see that he is really there. So the switch did not deceive me. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now we will try to download something from the server to the switch. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SW1 # copy tftp: flash: - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here we write the opposite. First tftp, and then flash</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Address or name of remote host []? 192.168.1.4 - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TFTP-server address</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Next, he will ask what to copy. I do not remember the exact name of the firmware and open TFTP to view.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/560/fab/660/560fab66079645f7a1183f5e55bbf817.PNG"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Write down the name </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Source filename []? c2960-lanbasek9-mz.150-2.SE4.bin </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Destination filename [c2960-lanbasek9-mz.150-2.SE4.bin]? - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here he asks what to call it on the switch itself. I'll press ENTER and leave the default name.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Accessing tftp: //192.168.1.4/c2960-lanbasek9-mz.150-2.SE4.bin ... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Loading c2960-lanbasek9-mz.150-2.SE4.bin from 192.168.1.4: !!! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[OK - 4670455 bytes] </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4670455 bytes copied in 0.057 secs (6587503 bytes / sec) </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">He gave me a message that the download was successful. I check the availability of the firmware with the command "dir". </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SW1 # dir </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Directory of flash: / </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 -rw- 4414921 c2960-lanbase-mz.122-25.FX.bin </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10 -rw- 4670455 c2960-lanbasek9-mz.150-2.SE4.bin</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9 -rw- 1168 config.text </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64016384 bytes total (54929840 bytes free) </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I see that everything is really in place. </font><font style="vertical-align: inherit;">And in addition, he tells me about the amount of memory and the availability of free space. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We finished to consider top-level protocols. </font><font style="vertical-align: inherit;">I did not think that it would be such a long article. </font><font style="vertical-align: inherit;">Perhaps the blame pictures. </font><font style="vertical-align: inherit;">But I tried as briefly as possible in the case. </font><font style="vertical-align: inherit;">We considered a lot of protocols, and all of them are irreplaceable. </font><font style="vertical-align: inherit;">Often help out the life of the sysadmin and our favorite users. </font><font style="vertical-align: inherit;">Thank you for reading. </font><font style="vertical-align: inherit;">If something is not clear, leave comments or immediately write in a personal. </font><font style="vertical-align: inherit;">And I went to put the kettle and drink delicious tea with cakes!</font></font></div><p>Source: <a href="https://habr.com/ru/post/307714/">https://habr.com/ru/post/307714/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../307704/index.html">New 3CX Client clients for Mac and iOS, and a tip for setting up a Gmail server for 3CX Phone System</a></li>
<li><a href="../307706/index.html">Puns typing functions in C</a></li>
<li><a href="../307708/index.html">A little introduction to parallel programming on R</a></li>
<li><a href="../307710/index.html">The story ‚ÄúNIICHOSHI. Saday</a></li>
<li><a href="../307712/index.html">Passing infinity: do-it-yourself t-test</a></li>
<li><a href="../307718/index.html">PHP Digest number 90 - interesting news, materials and tools (August 1 - 14, 2016)</a></li>
<li><a href="../307720/index.html">Elixir: What does OOP look like in a functional language?</a></li>
<li><a href="../307722/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ223 (August 8 - 14, 2016)</a></li>
<li><a href="../307724/index.html">N + 5 useful books</a></li>
<li><a href="../307726/index.html">Create a multilanguage blog using OctoberCMS - Part 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>