<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ÄúWe can test Java better than Oracle‚Äù - an interview with Andrey Pangin from Odnoklassniki</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today I prepared for you a large interview with Andrei Pangin aka apangin , Odnoklassniki‚Äôs lead engineer. Andrey has been working as a JVM-engineer a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>‚ÄúWe can test Java better than Oracle‚Äù - an interview with Andrey Pangin from Odnoklassniki</h1><div class="post__text post__text-html js-mediator-article">  Today I prepared for you a large interview with <b>Andrei Pangin</b> aka <a href="https://habrahabr.ru/users/apangin/" class="user_link">apangin</a> , Odnoklassniki‚Äôs lead engineer.  Andrey has been working as a JVM-engineer at Sun Microsystems for more than 6 years, including on the HotSpot team, and has been working for Odnoklassniki for the last 5 years, solving issues related to JVM and performance.  So Andrey is rightfully considered one of the strongest JVM players in Russia. <br><br> <a href="http://habrahabr.ru/company/odnoklassniki/blog/259415/"><img src="https://habrastorage.org/files/4fa/333/e18/4fa333e181e346448c5829cc84a0f514.jpg"></a> <br><br>  Andrey is an expert in system programming, engaged in storage systems and information transfer systems.  He put down the bricks that form the basis of the Odnoklassniki portal and provide reliability and speed of services. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This is what we talked about with Andrei: <br><br><ul><li>  what is the cost of moving from Java 7 to Java 8; </li><li>  what happens to sun.misc.Unsafe; </li><li>  Odnoklassniki architecture; </li><li>  engineering tradeoffs, sharding and GC; </li><li>  data storage systems and Cassandra; </li><li>  what are the classmates ahead of the rest, and what else should you learn from Google; </li><li>  how to become a cool system programmer. </li></ul><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Imie5ECxUfs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  (I know that the beginning has been delayed. We will work on swinging faster and getting into the topic.) <br><br>  For those who once again have no time to watch the video, under the cut decrypt interview. <br><a name="habracut"></a><br><h2>  About moving from Java 7 to Java 8 </h2><br>  <b>- Working in the depths of the Sun, you looked at Java from the inside, and going to Odnoklassniki, began to look from the client side.</b>  <b>Have you seen (as an application developer) Java 6, 7, 8. Your feeling: has it become better, worse?</b>  <b>Do you have, for example, the feeling that JDK 8 is a product that is clearly better than JDK 7, or maybe vice versa?</b> <br><br>  - There are bugs in all versions, they are already used to this.  It is clear that the JVM is a very complex system.  And sometimes it is even impossible to predict in advance how the JIT compiler will work in a particular scenario.  The most important thing is that we have 99% of the portal working on it all, and there have not been any major falls since 2013.  Therefore, we are satisfied with Java. <br><br>  <b>- And what percentage of Odnoklassniki, if not secret, works on Java 7, and what percentage on Java 8?</b> <br><br>  - We still have systems even in Java 6. Fortunately, there are very few of them.  There are some services that have not been restarted for years.  What is the point to upgrade them?  Work and work.  And so, everything that we are launching now is new, we immediately start on JDK 8. Those services, those services that are often deployed, have already almost all moved to JDK 8. Now, probably, about 60 percent in the G8 are working.  And every week something new translates. <br><br>  <b>- What are the difficulties when migrating from Java 7 to Java 8?</b> <br><br>  - Surprisingly, we saw fewer problems when switching from Java 7 to Java 8 than when I migrated from Java 6 to Java 7. Some things worked differently there: for example, sorting started throwing exceptions where it wasn‚Äôt , there were changes in Unicode support, etc. <br><br>  When switching to Java 8, there were no such problems.  But we ran into bugs in the JIT compiler. <br><br>  In general, sometimes it seems that if there is some kind of bug, then we will definitely attack it: apparently, we have so many servers and such loads that we can better test Java than Oracle itself. <br><br>  For example, now we have disabled in our production a multi-level compilation that the guys from Oracle so diligently did: the C1 compiler has a critical bug, so we immediately compile in C2. <br><br>  <b>- Has this bug already been fixed?</b> <br><br>  - Yes, it seems like in JDK 8u60 they solved the problem.  We must pay tribute, in the JIT compiler, the guys from Oracle rather quickly clean up the problems.  But there were serious vulnerabilities: you could write the simplest Java code that would drop the entire virtual machine with a crash.  By the way, in version 8u40, two bugs were fixed in the compiler, which were fixed by me. <br><br><h2>  About virtualization, Unsafe and Odnoklassniki </h2><br>  <b>- How big is the Odnoklassniki project as a system?</b>  <b>How many subsystems are there, layers?</b> <br><br>  - Lots of.  There are about two hundred modules, and the largest ones have ten thousand Java class files.  You can find comments in the source, dated even 2004 year.  But, as you know, Classmates began on C #, and then a team of several people literally rewrote everything in a couple of months of tense days and sleepless nights.  That is, from the previous version of Odnoklassniki nothing is left. <br><br>  <b>- Now Odnoklassniki is a highly loaded Java project, the largest Java project in Russia.</b>  <b>Are there many similar projects in the world?</b> <br><br>  ‚ÄúI know that by traffic we are entering the world Top-100 according to Alexa.  And in Russia now is the seventh, as I recall.  Probably from Java projects we are one of the largest. <br><br>  <b>- VKontakte and Facebook, which had a lot of PHP code in large parts, released their virtual machines for PHP.</b>  <b>Where does this trend for virtualization come from?</b> <br><br>  - Virtualization is convenient!  In a broad sense, it gives you work with the layer you are used to.  The final developer should not care about which microinstructions of the architecture this pours out and how the processor is processed. <br><br>  <b>- I remember in 2012 you talked a lot about Unsafe.</b>  <b>And now, probably, only lazy does not speak about Unsafe in the Java-party.</b>  <b>I want to blame you for promoting unsafe programming techniques.</b> <br><br>  - I do not promote them - I use them!  Because not all that we need is in Java. <br><br>  Java was originally conceived as a hardware-independent platform: I wrote it once, launch it where you want.  But here we are running Odnoklassniki on 64-bit Linux, on Intel's processors: and we don‚Äôt need such portability of Java, but we want to use as much as possible the capabilities of the operating system and the hardware on which we run.  And for this you have to break through the loopholes deep into the operating system. <br><br>  Here, offhand, an example.  We have a lot of caches - in general, out of 8,000 servers that Odnoklassniki has, almost half are all sorts of caches.  And then when the snapshots are written, the data from the RAM is thrown onto the disk.  If this is done purely by Java, wildly increases the consumption of RAM.  And only a Linux-specific hint can tell her: ‚ÄúDon't, don't cache this data, we won't need it in the near future.‚Äù <br><br>  <b>- It can not be done just setting up Linux'a?</b>  <b>I just didn‚Äôt quite understand why to climb it into the application, why is this pen on its side?</b> <br><br>  - For Linux, everything is the same: that Java files are written, that other processes are in the system.  The programmer himself must distinguish what he wants to cache, and this is not.  Therefore, the initiative must come from the application. <br><br><h2>  About high loads </h2><br>  <b>- Which parts of Odnoklassniki are the most heavily loaded?</b> <br><br>  - One of the most loaded is the Tape service, the page that opens as a news feed when a user visits the main page.  Here, for each data is collected from different sources. <br><br>  Another example is the instant delivery of push alerts about friendships, news, messages, gifts.  There on one server accounts for up to 50,000 requests per second. <br><br>  Part of the push notifications is actually implemented for long polling - the client side has long http requests that hang for either 10 minutes or until data arrives.  And on the side of the backend there is a separate service, which at each moment of time knows where, on which frontend or frontend, which user is sitting.  That is, a person can have several clients open: on a mobile device, on the web version of the portal.  There are about a thousand of such machines for you to understand. <br><br>  <b>- It turns out that this is a significant percentage of all eight thousand servers.</b>  <b>Why not use WebSocket'y, for example?</b> <br><br>  - unlike WebSocket's, Long polling is supported almost everywhere.  Of course, there are outdated, ancient browsers.  Internet Explorer 8, for example.  But from him we soon want to give up. <br><br><h2>  About normalization and denormalization </h2><br>  <b>‚ÄúIn the Enterprise world, there are usually a lot of Java EE, a lot of Hibernate, a Spring, and so on.</b>  <b>Do you have any technology?</b> <br><br>  - One of our largest modules, which is responsible for most of the business logic, is traditionally called odnoklassniki-ejb.  But in fact, today from EJB there is absolutely nothing left.  I set myself this task last year - to cut EJB from the project.  We had a three-day hackathon, where developers could choose for themselves any project for which there usually is not enough time.  And so I decided to completely get rid of Enterprise in our main module.  And now this is a regular Java application.  Like this. <br><br>  And about Spring - Spring we have a lot. <br><br>  <b>- And what about Hibernate?</b> <br><br>  - No, no, not him!  We need a very precise, complete control over what requests and how we execute.  We have part of the systems, part of the storage, traditionally remained on the Microsoft SQL Server, but now we are moving more and more towards NoSQL solutions. <br><br>  In order for SQL databases to cope with the load, it is necessary to abandon a number of possibilities.  In particular, we do not use joins, we do not use triggers, stored procedures. <br><br>  <b>- That is, students are taught to "normalize", then they come to you, and you say "denormalize"?</b> <br><br>  - Something like that, yes.  Of course, where there is an opportunity to transfer the load from the SQL servers to the business logic server, we transfer it: simply because we pay for the processor power that our SQL servers run on. <br><br>  <b>- Why?</b>  <b>And what's wrong with join?</b> <br><br>  ‚ÄúOur bases are distributed and partrated.‚Äù  How will you join if you have 1/16 of the data on each server? <br><br>  <b>- Are modern sharding systems working poorly?</b>  <b>It would seem, surely some good Enterprise ...</b> <br><br>  - Everything that is called an enterprise, in fact, does not work on our loads.  Yes, it shows itself well in the banking sector, somewhere else, where the load is lower, but more serious requirements for reliability.  We are also satisfied with eventual consistency in many systems: what difference does it make, for example, your friend sees a second sooner or later that you changed your avatar? <br><br><h2>  About engineering compromises, sharding and a good garbage collector </h2><br>  <b>- In general, I really like the topic of trade-offs.</b>  <b>Let's talk about it?</b>  <b>What are their classmates?</b>  <b>I understand that performance is at the forefront.</b> <br><br>  ‚ÄúAnyway, even if you're a front-end developer, you have to think about performance.‚Äù <br>  Here come two lists, you need to somehow combine them into one. <br><br>  Yes, it is easier to write the simplest quadratic algorithm.  But when you know that your service will pick up popularity later, it will grow, the lists will come in 10 thousand and 100 thousand elements each ... you start to think.  After all, the quadratic algorithm will slow down. <br><br>  <b>- But other teams probably have other priorities: performance, for example?</b>  <b>And, again, the fact that there are no joines: if the data is denormalized, then a lot of disk space is spent?</b> <br><br>  - Where how.  This, again, is trade-off, as you say.  If we expect that we will occupy a little more space, if we denormalize and store it right in the fields of the same table.  Or we do join on the business logic side.  We get the ID, and then climb on them to other subsystems. <br><br>  I like to give a simple and clear example: how to get a list of all your friends - with names, avatars and other things?  First, a request is made to a separate subsystem of the relationship graph, and your ID gets your friends ID.  The link graph no longer possesses information other than ID.  Having received an array of IDs, we are already fulfilling the second request for user caches, which retrieve information about the user just by this ID. <br><br>  This data, of course, shardyatsya.  In our remoting module, we have implemented a kind of MapReduce, that is, the system itself can distribute requests by shards, execute them in parallel, and then collect them.  The keys know which shard they are stored on. <br><br>  <b>- In the scenario described by you, we made two requests at least, but everything must somehow run very quickly inside.</b>  <b>This is a call to the internal network, and the network means many jumps at once, because one subsystem refers to another ... In such a call chain there will be many network requests!</b> <br><br>  - Of course.  But, in fact, the average waiting period for an Ajax request is 5 milliseconds.  This is not counting the channel that goes from the user to our frontends.  That is, this time inside the portal.  It is clear that 5 milliseconds is the average for the hospital.  There are requests and 50 milliseconds, there are very short. <br><br>  <b>- That is, what percentile we consider?</b>  <b>Ninetieth?</b> <br><br>  - Ninetieth.  So that you understand, one remote request to the server in the same data center takes 300 microseconds to go to us, and to the server to another in one millisecond.  It is clear that garbage collection happens: there can be 100 and 200 milliseconds.  But they are rare.  We are struggling with long GC-pauses.  One second pause is already critical for most of our system. <br><br>  <b>- Which GC is used?</b> <br><br>  - For the most part, well-rejected CMS.  It generally works better than even Garbage-First.  But we also use G1 - for example, in our NewSQL self-written solution, which came to replace the SQL server, in order to guarantee the required response time. <br><br>  That is, on average, the G1 works a little worse than the plugged CMS, but at the same time it gives more guarantees.  For CMS, say, 50 milliseconds, on average, there is a delay, but sometimes there shoots up to 300‚Äì400 milliseconds.  And G1 collects, maybe more often, and it has an average pause of up to 150 milliseconds, but he was given a limit of 200 milliseconds, and he tries to really withstand it. <br><br>  <b>- Approximately imagining what Java is, I understand that if we command: ‚ÄúPlease, G1, pause 200 milliseconds,‚Äù then in reality there will not be 200 milliseconds.</b>  <b>More precisely, it will, but with some probability.</b>  <b>How often garbage collections get out of these conditional 200 milliseconds?</b> <br><br>  - Very rarely.  To the surprise.  Starting with JDK 8u40, the G1 has become a good collector.  If earlier it could not even unload unused classes without a complete build, then from this version it is already quite a production quality. <br><br>  <b>- The JDK9 Garbage-First will be the default collector.</b>  <b>JDK9 comes out a year later, in September 2016.</b>  <b>Will you be switching to Java 9?</b> <br><br>  - Most likely, we will, in order to receive updates, when the support of the G8 will cease.  Actually it happened with Java 7: we started to move with it, because we want to receive new updates.  I myself faced with the fact that we had to patch our version of JDK7 in order to take back quite critical fixes in the JIT compiler, which were fixed only in JDK8. <br><br>  <b>- Why not take some conditional Azul, which made most of the business that they are engaged in backports and support of the old Java?</b> <br><br>  - To give an opportunity to earn Azul at the expense of us?  :) What's the point?  Now we have experts who deal with it. <br><br><h2>  Java performance </h2><br>  <b>- For a long time there was no news about performance breakthroughs in JDK, JRE.</b>  <b>Did you have such that after switching to any version, the performance increased significantly?</b> <br><br>  - Such that simply with the replacement version - no, it was not. <br><br>  <b>- And what is the reason?</b>  <b>What are the chances that some cool optimization in JIT will be released tomorrow, which will give + 20% performance?</b> <br><br>  - This probability is close to zero.  Although interesting optimizations do happen, recently vectorization was done in cycles. <br><br>  <b>- Addition and multiplication by integers?</b>  <b>It would seem a simple thing ...</b> <br><br>  - Yes, we are talking about integer operations with an array in a loop.  Even now it does not work in all cases.  But at least there is already such an optimization.  I mean, now all these optimizations give percentages of a few, fractions of percent.  There is no question of any sudden jumps. <br><br>  <b>- A question about security.</b>  <b>At some point, until 2012, the Java motto was Compatibility-First.</b>  <b>Since 2012, it has become Security-First.</b>  <b>So you, as a portal, have felt it somehow?</b> <br><br>  - First of all, for us the problem is the bugs that lead to the crashes of the JVM.  Otherwise, there has never been a case when we were hacked, knowing some Java vulnerabilities.  It is much easier to find some kind of hole in the API. <br><br><h2>  About Storages and Cassandra </h2><br>  <b>- Let's move away from Java and talk about storage systems.</b>  <b>How does it work for you?</b>  <b>What file systems are used?</b> <br><br>  - A lot of different: and samopisnyh, and standard.  Today, probably most of all Cassandra-based repositories. <br><br>  <b>- Why Cassandra?</b> <br><br>  - Others simply do not work: there is no filelover, the ability to replicate almost manually.  And replication is an important business requirement.  Now we are striving to ensure that the entire functionality of the portal works entirely even if one of the data centers is completely abandoned. <br><br>  <b>- And how many data centers?</b> <br><br>  - Three.  And if one flew out, users will still be able to log in, but some services may not be available.  We began work on ensuring reliability with key services, and now we are cleaning up tails. <br><br>  <b>- Tell me about the process of transition to a distributed system with three data centers, please.</b>  <b>How does it work, who does it?</b> <b><br></b> <br><br>  - The libraries, storages and tools themselves are made by the platform team.  For example, for heavy content ‚Äî photos, videos, music ‚Äî samopisnye repositories are used.  Recently, colleagues from EMC came to our office to visit us - they are known for their information storage solutions.  They told about their decisions, shared their experience.  But as it turned out, they can not offer us anything new compared to what we already have. <br><br>  <b>- Yes, EMC are interesting guys.</b>  <b>And what, by the way, in your opinion, the technical expertise of Odnoklassniki?</b>  <b>Is there a world-class experience?</b> <br><br>  - The first thing that comes to mind is Cassandra.  We are contributing to it, and we are constantly ahead compared to what is in the master branch of Cassandra now.  Global indices, which are just being made there, are already in place and are being used. <br><br>  We also have a strong expertise in recommendation systems.  Initially, we had a recommendation system for music, now it is already bolted to many other services: video, groups.  The main task of the portal is to show people the content they are interested in and not show the one that is not interesting to them.  This encourages the user to hang out at Odnoklassniki for longer. <br><br>  Well, we have a strong JVM expertise, of course. <br><br>  <b>- And where do you want the expertise, what is missing today, in your opinion?</b> <br><br>  - Maybe in terms of image recognition.  There is something to learn from Google. <br><br>  <b>- As I understand it, there is a certain team of the platform that does everything related to storage, distribution, and caches.</b>  <b>And you present your work to other teams in the form of libraries, APIs, services, right?</b> <b><br></b> <br><br>  - Exactly.  We give ready-made solutions.  But the developer from the other team, of course, should know some peculiarities: to understand which requests are light, which are heavy, what can be done, what cannot. <br><br>  <b>- Do you describe it to him in the form of javadoc or somehow transfer this knowledge?</b> <br><br>  - There is such a practice when the authors of these decisions hold lectures and seminars.  Although not very often: mainly for beginners, but also experienced developers, as a rule, can learn something new. <br><br>  And we still have a code review procedure: if a person took my decision and built something on the basis of it, then he will most likely come to me later and ask: ‚ÄúAndrei, is everything okay?‚Äù If anything, I will point out where and what to fix. <br><br>  <b>- And what are you doing to ensure that your API cannot be used incorrectly?</b> <br><br>  - Personally, I am not doing very well in this regard: I just try to make the code as concise and simple as possible.  And if you use it incorrectly - you are ‚Äúangry spiteful Buratino‚Äù to yourself - go and look at the documentation or the lecture notes to figure out how to do it. <br><br>  <b>- But the documentation is, in principle, up to date?</b> <br><br>  - Yes, I am very glad that I once wrote a detailed FAQ on our remouting and serialization. <br><br>  We simply use our own system: we switched to it from JBoss Remoting in time to be able to make online updates without downtime services, and resolve situations when a version with new versions of classes works in one part of the portal, and with old versions on the other. . <br><br>  And until now, when people come to me and ask: ‚ÄúHow will it be serialized so?‚Äù, ‚ÄúIs it possible to do such a transformation?‚Äù I just send it to a page in our internal Wiki. <br><br>  <b>- Does JBoss Remoting not know how?</b>  <b>Or copes worse?</b> <br><br>  ‚ÄúIt's even worse than standard serialization.‚Äù  It supports some changes, but to a limited extent: there you can delete fields, you can add new ones, but they will be initialized with the default value. <br><br>  But, let's say, change the type from int to long.  There was a field of flags, there was a shortage of 32 - changed to a 64-bit field.  This is a typical case, however, standard serialization does not support it. <br><br><img src="https://habrastorage.org/files/b35/dba/770/b35dba770a4843478631cd12e0ae1f6b.jpg"><br><br><h2>  How to become a cool system programmer? </h2><br>  <b>- What do you advise to read, where to look to a person who is interested in the Java platform itself and its low-level details?</b> <br><br>  - About JVM and the insides of HotSpot is not much written in some third-party sources.  Fortunately, this is an OpenSource-product: you can download, watch.  Sometimes in the HotSpot code there are more comments than the code itself. <br><br>  <b>- This is C ++ mostly, huh?</b> <br><br>  - Yes.  Well, there are general concepts of how JVM virtual machines work.  Here I advise you to see an excellent <a href="https://www.youtube.com/watch%3Fv%3Df0do1-WXYRc%26index%3D1%26list%3DPLVe-2wcL84b8kB4NPYFgPFp-c1Bz4fq1r"><b>series of lectures by Oleg Pliss</b></a> on the St. Petersburg JUG. <br><br>  <b>- Maybe you will advise some more books?</b> <br><br>  - I will not recommend books.  Better to ask questions on StackOverflow.  I now sit there too, and you can ask me. <br><br>  I signed up for JVM and Java Performance related issues, and occasionally answer non-trivial questions.  And sometimes I myself learn something new from there. <br><br>  There, of course, is full of inadequate questions and answers, but there are different mechanisms for this, the reputation is the same.  But there you can meet the world's leading experts: from time to time Brian Goetz himself looks in there and comments on something. <br><br>  <b>- And Habr?</b>  <b>Now, I see you rarely write there.</b> <br><br>  - It seems to me that the quality of content on Habr√© is slowly falling ... And I‚Äôm not only talking about the Java hub. <br><br>  First, it affects the fact that Habr was divided into several subprojects.  Accordingly, the audience of each has decreased.  Secondly, when some kind of inadequacy can get you in one comment, of course, the motivation to write further disappears. <br><br>  <b>- Your <a href="http://habrahabr.ru/post/255067/"><b>last article</b></a> is about how deadlock arises during the parallel work of the classeleaders.</b>  <b>Do you think that the author of this code from Google should have fixed it, or is it ‚Äúa bug and a bug, everyone has bugs‚Äù?</b> <br><br>  - They fixed it, and we must pay tribute, quite quickly.  He just belongs to this class of bugs that are completely unobvious.  You just can't find it, looking at the code. <br><br>  <b>- Is this static analyzer can not track?</b>  <b>It would seem that the simple rule is that this class is a superclass, and this subclass is quite easily done using static analysis.</b>  <b>In principle, this is a rule that anyone can catch.</b> <b><br></b> <br><br>  - I agree.  Just there was no such rule until now.  Our mutual acquaintance <a href="https://habrahabr.ru/users/lany/" class="user_link">lany</a> has already promised to add the corresponding warning-s to FindBugs. <br><br>  <b>‚ÄúBut creative plans ‚Äî reports, articles, books ‚Äî do you still have?‚Äù</b> <br><br>  - There are many ideas, I want to write about many things, but there is not enough time.  There are lots of interesting things about the insides of the JIT compiler, how it behaves in completely unpredictable ways, and for which threads you can pull it. <br><br>  I also want to write how to work with signals in Linux.  Traditionally, the signal is intercepted only in case of any errors, but here the HotSpot JVM uses for its internal purposes a lot of interesting points related to the signals.  This is quite a good way for system software.  Such as Java Runtime, for example. <br><br><hr><br><br>  In conclusion, as always, useful links: <br><br><ul><li>  <a href="https://www.youtube.com/results%3Fsearch_query%3D%25D0%2590%25D0%25BD%25D0%25B4%25D1%2580%25D0%25B5%25D0%25B9%2B%25D0%259F%25D0%25B0%25D0%25BD%25D1%258C%25D0%25B3%25D0%25B8%25D0%25BD">Video from speeches Andrew</a> </li><li>  <a href="http://habrahabr.ru/users/apangin/">Andrew's blog on Habr√©</a> </li><li>  <a href="https://twitter.com/AndreiPangin">Andrey's Twitter (new, add to the followers!)</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/259415/">https://habr.com/ru/post/259415/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../259403/index.html">Increase performance with SO_REUSEPORT in NGINX 1.9.1</a></li>
<li><a href="../259405/index.html">Reverse engineering flashing LED (+ RGB)</a></li>
<li><a href="../259409/index.html">CLRium # 2 Workshop Videos</a></li>
<li><a href="../259411/index.html">Uptime Institute introduced a new data center certification system</a></li>
<li><a href="../259413/index.html">Wargaming: rear - front! Find out what your tank has under the hood. Python Video with DevConf 2014</a></li>
<li><a href="../259417/index.html">VMware vSphere: What's New [V5.5 to V6] - protection and transfer of "virtual": Fault Tolerance and vMotion</a></li>
<li><a href="../259419/index.html">We exploit XSS vulnerability on the site ipay.ua to steal card data</a></li>
<li><a href="../259421/index.html">How I made a news aggregator</a></li>
<li><a href="../259423/index.html">Mobile traffic: its ultra-high, but ultra-passive. What to do with it?</a></li>
<li><a href="../259425/index.html">Robot, bring your master on VDNH</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>