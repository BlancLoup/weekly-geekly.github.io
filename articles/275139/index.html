<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Collect the best of two worlds - frameworks and CMS (part 3)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Much time has passed since the release of the second article ( part 1 , part 2 ), and then there is just something to tell, since the first release of...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Collect the best of two worlds - frameworks and CMS (part 3)</h1><div class="post__text post__text-html js-mediator-article">  Much time has passed since the release of the second article ( <a href="http://habrahabr.ru/post/244311/">part 1</a> , <a href="http://habrahabr.ru/post/255139/">part 2</a> ), and then there is just something to tell, since the first release of the third version of the system was released. <br><br><h4>  Briefly about the changes </h4><br>  The third version is moving in the direction of micronuclear architecture.  This means that the kernel code is still quite tightly connected (although a little less than before), some minor features were simply removed and there were more points of contact, where the developer can, if necessary, intervene in the system if he wishes. <br><br>  On the server side, a large-scale refactoring aimed at the simplicity and quality of the code was carried out, which over the last six months resulted in an increase in the Scrutinizer score from 5.4 or so to the current 7.74 / 10, which is not bad at all. <br>  There was a revolution on the client side, Polymer 0.5.x was upgraded to Polymer 1.x and all components were rewritten accordingly, the UI framework was completely cut and some other changes were made. <br><a name="habracut"></a><br><h4>  Polymer </h4><br>  Perhaps you should start with Polymer.  The first stable version of Polymer 1.0 was announced on Google I / O 2015, which is quite significant, though not radically different from the version 0.5 used in CleverStyle CMS at that time. <br>  Unfortunately, the first version was quite a curve with a lot of inconvenience, and even version 1.1 didn't fix it much. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      CleverStyle CMS 3 comes with Polymer 1.2 and a number of patches on top, which fix many irregularities in the work of the library, as well as bring some convenience.  Many of the early patches have already been taken into the Polymer codebase, but not all. <br>  Also, for faster loading, the Polymer assembly supplied with the system is a mini-JS version instead of a set of official non-modified HTML files. <br>  Thus, Polymer in the system is a much better development environment than the vanilla version. <br>  Patches over Polymer have been tested and backward compatible, so there will be no problems when using my own or third-party components (at the time of writing, I‚Äôm in the top 10 Polymer developers by contributing to the code base, so I know what I'm talking about). <br><br>  For example: <br><br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Before Polymer({ is : 'my-element', properties : { username : { type : String, value : 'Guest' }, registered : { type : Boolean, value : false } } }); // After Polymer({ is : 'my-element', properties : { username : 'Guest', registered : false } });</span></span></code> </pre> <br>  That is, having a default value, there is no problem to deduce the type of property, but the developers will not accept the corresponding <a href="https://github.com/Polymer/polymer/pull/2205">PR</a> , although this is their P1. <br><br>  Or an example regarding styles: <br><br><pre> <code class="css hljs">// <span class="hljs-selector-tag"><span class="hljs-selector-tag">Before</span></span> <span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:host</span></span> <span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::content</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span> {} // <span class="hljs-selector-tag"><span class="hljs-selector-tag">After</span></span> <span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::content</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span> {}</code> </pre><br>  Trifle, but it's nice that this crutch is no longer needed (this is a problem in Polymer, according to the specification: the host is not needed there), <a href="https://github.com/Polymer/polymer/pull/2419">PR is</a> also waiting in the wings. <br><br>  The last thing worth mentioning is that at the time of this writing Polymer 1.x does not support the expansion of custom elements, but the <a href="https://github.com/nazar-pc/CleverStyle-CMS/wiki/Polymer-elements-extension">hack with the redefinition of elements</a> was still ported and allows the developer to completely or partially override the appearance and device of the built-in system and any other custom items.  Read more with examples <a href="https://github.com/nazar-pc/CleverStyle-CMS/wiki/Polymer-elements-extension">in the documentation</a> . <br><br><h4>  TinyMCE and Shadow DOM </h4><br><img src="https://habrastorage.org/files/c4f/b2a/7bf/c4fb2a7bf5a446e0885a5539c62e6834.png"><br>  Full-fledged WYSIWYG editors are large and complex applications and none of the popular solutions support the work inside the Shadow DOM due to the complexity of implementation and support (at the time of writing, although judging by the developers' initiative, this will be important for a long time). <br><br>  After spending a few days in the wilds of megabytes of JavaScript code and a step-by-step browser debugger, I managed to get back a compatible version of TinyMCE, which fully works inside the shadow tree. <br>  As far as I know, this is the first in the world implementation of a full-featured WYSIWYG editor with Shadow DOM support, and CleverStyle CMS is the first product where you can use it out of the box. <br><br>  In order to connect the editor, you need to install the TinyMCE plugin and wrap the <code>&lt;textarea&gt;</code> as follows: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cs-editor</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">textarea</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">textarea</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cs-editor</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Under the hood, the wrapper element will apply the Shadow DOM-compatible version of TinyMCE to <code>&lt;textarea&gt;</code> , as well as connect the CSS styles to the editor in addition to the global ones used by default so that the interface elements are displayed correctly even inside the Shadow DOM. <br>  And the wrapper element understands when it moves to the DOM, focuses, and so on, updating the link with the text field accordingly. <br><br>  There is also a variation with the inline mode used for the edited <code>&lt;div&gt;</code> : <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cs-editor-inline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cs-editor-inline</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Interestingly, in the absence of the TinyMCE plugin, the wrapper element simply will not be updated to the web component and the user will see a plain text field, this is a progressive improvement :) <br><br>  So now for the first time in the history of mankind, you can use the WYSIWYG editor anywhere in the document at any nesting level of the shadow tree. <br><br>  <a href="https://github.com/nazar-pc/CleverStyle-CMS/wiki/WYSIWYG-wrapper-elements">Read more in the documentation</a> . <br><br><h4>  UI framework </h4><br>  Historically, the system was supplied with some kind of UI framework.  A long time ago it was <a href="https://jqueryui.com/">jQuery UI</a> , which was later replaced by <a href="http://getuikit.com/">UIkit</a> . <br>  The latter served quite well until the moment when the web components began to be used in the system, after which several critical flaws of UIkit caused its complete cutting out. <br>  First, the same Shadow DOM support.  UIkit has no idea (as well as <a href="https://getbootstrap.com/">Bootstrap</a> , <a href="http://foundation.zurb.com/">Foundation</a> and other friends) what a shadow tree is.  And if it only concerned styles, there were problems with event handling and other nuances. <br>  For many months, the system came with a growing number of patches over the vanilla version to provide support for the Shadow DOM, but the developers were in no hurry to accept patches, unfortunately. <br>  The second major problem is the excessive layout and lack of data-binding support from Polymer.  As a result, the connection of the UIkit components turned into a mess on the side of the markup, as well as in JavaScript, causing pain and suffering for each attempt to use. <br><br>  The decision was not easy.  It took three days to find an alternative, a couple more days to think about the implementation, and as a result, the CleverStyle Widgets sub-project has emerged (there are plans to single out a separate stand-alone project). <br><br><h4>  CleverStyle Widgets </h4><br><img src="https://habrastorage.org/files/084/576/702/084576702a4446d784d7da0b07e79cac.png"><br>  As the name suggests, this is not a framework, although it replaced 99% of UIkit. <br>  Widgets are a collection of web components. <br>  All web components work fine with Shadow DOM by definition, as they use Polymer and support its data-binding system (unlike UIkit, Bootstrap, Foundation, and other buddies). <br>  They have a radically simple API for the user, most often this is one tag that does everything it needs - no five-floor nesting of faceless <code>&lt;div&gt;</code> . <br>  But more importantly, the elements themselves do not have a visual style - it is externally defined using <a href="https://www.polymer-project.org/1.0/docs/devguide/styling.html">CSS mixins</a> (as opposed to the fixed appearance of <a href="https://elements.polymer-project.org/browse%3Fpackage%3Dpaper-elements">Paper Elements</a> with Material Design and <a href="https://mediamath.github.io/strand/">Strand</a> , which generally comes in a single visual design).  In this way, you can make the look the way you need it. <br><br>  The set of widgets includes buttons, switches, tooltips, modal windows and similar necessary things. <br><br>  A few examples of use: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">is</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cs-button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">icon</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"home"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">primary</span></span></span><span class="hljs-tag">&gt;</span></span>Primary button with home icon<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">is</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cs-label-switcher"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">checked</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"radio"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag">&gt;</span></span> Zero <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">is</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cs-label-switcher"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">checked</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"radio"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag">&gt;</span></span> One <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">nav</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">is</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cs-nav-pagination"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">page</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"3"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">pages</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">nav</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cs-notify</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">success</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">left</span></span></span><span class="hljs-tag">&gt;</span></span>Hello<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cs-notify</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">is</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cs-button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button"</span></span></span><span class="hljs-tag">&gt;</span></span>Button will open modal<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">is</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cs-section-modal"</span></span></span><span class="hljs-tag">&gt;</span></span>One Two Three<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Emphasis is placed on maximum similarity with native elements, maximum use of the built-in browser functionality. <br><br>  More examples and description of the properties of each item <a href="https://github.com/nazar-pc/CleverStyle-CMS/wiki/CleverStyle-Widgets">in the documentation</a> . <br><br><h4>  Frontend without default styles </h4><br>  Using the UI framework you get a huge pile of styles applied to the entire document, which periodically forces you to fight these styles, sometimes even resorting to the use of <code>!important</code> . <br>  What is good about CleverStyle CMS 3 is that NO STYLES ARE APPLIED TO DOCUMENT DOCUMENT! <br>  In practice, this means that even normalize.css is not used by default.  The developer has complete freedom to customize the look and, if desired, can use the built-in <a href="https://github.com/nazar-pc/CleverStyle-CMS/wiki/Shared-styles">shared styles</a> .  It also means that you can port any ready-made HTML template as a design theme without conflict, you can use the same Bootstrap, UIkit or something else if you like without style overlay. <br><br><h4>  More frontend </h4><br>  The system has never used a template engine and never will.  To generate markup, <a href="https://github.com/nazar-pc/BananaHTML">BananaHTML is</a> used, which was also updated with a partial loss of backward compatibility and is now much more convenient and straightforward than before. <br><br>  However, now the amount of code on the server that generates the markup has become significantly less (in the kernel of the system it is just a few lines).  Instead, the entire admin works now completely on the client, including navigation between pages and interacts with the server through the API. <br>  It also means that the developer can either modify the admin interface without changing the kernel, or even write an alternative admin panel using the API if the project requires it.  The same applies to user settings. <br><br><h4>  Quality code </h4><br><img src="https://habrastorage.org/files/7a5/076/a9a/7a5076a9ad354c6e984b889cf1c4fae1.png"><br>  Refactoring to the server not only simplified the understanding of the code, but also improved its overall quality by a number of objective metrics.  At the same time, Scrutinizer has access to even more code, since the system's API uses routing based on the controller, and the OOP is better with Scrutinizer. <br><br><h4>  Other interesting changes </h4><br>  The <code>cs.Event</code> object was reworked on the frontend, now the events are based on Promise. <br><br>  This is the latest stable branch with support for IE10 (and, possibly, IE11), so the IE / Edge polyfills are now moved to a separate folder and are connected for these outdated browsers, other browsers do not spend traffic on it. <br><img src="https://habrastorage.org/files/bf3/8cf/ea5/bf38cfea5b384441b044d74dbf6c50c6.png"><br>  To the minification of CSS and the union of CSS / JS / HTML added minification JS.  The implementation is very simple, like CSS minification, but very fast and very effective. <br>  And the CSS minifier has stopped embedding images and other resources larger than 4 KiB, instead, it simply adjusts the relative paths, in practice this means a much more initial fast page load. <br><br>  Plupload module has been declared obsolete, an Uploader module has now appeared instead, which has an independent implementation of everything needed to upload files (including Drag'n'Drop, multiple file uploads), but at the same time, in non-minimized form, the JavaScript code is 15 times smaller than minified Plupload. <br><br>  Interfaces with multilingual both on the client and on the server have been improved, a number of events have been added for which the developer can subscribe, many optimizations have been made, third-party components have been updated to relevant versions and much more ( <a href="">full list of changes</a> ). <br><br><h4>  Small performance test </h4><br>  Having a lot of functionality out of the box in the core, the CleverStyle CMS remains an extremely fast system. <br><br>  It is clear that such comparisons do not have much practical use, but nevertheless they show the overhead costs created by the core of the system itself; it is impossible to jump above these results in the general case. <br><br>  For fun, the latest git version of the CleverStyle CMS at the time of this writing (3.146.4 + build-1793) and an absolutely empty Symfony Standard Edition 3.0.1 was taken. <br><br>  It should be noted that CleverStyle CMS does not work without a database, since it initiates a session for each visitor in the database (in this case, without the support of cookies, this means that the session was created with each request) + the file cache engine was used.  Symfony Standard Edition was installed via Composer and was not connected to the database when prompted. <br><br>  The state of both systems is ‚Äúout of the box‚Äù, an empty main page was loaded into CleverStyle CMS, a standard page with the inscription ‚ÄúWelcome to Symfony 3.0.1‚Äù was loaded into Symfony. <br><br>  Other software: Apache 2.4.17, PHP 7.0.2, MariaDB 10.1, Ubuntu 16.04 x64 <br>  Runs on laptop: Core i7 4900MQ, SSD <br><br>  Results: <br><div class="spoiler">  <b class="spoiler_title">CleverStyle CMS</b> <div class="spoiler_text">  nazar-pc @ nazar-pc ~&gt; ab -c256 -n10000 <a href="http://cscms.loc/">cscms.loc</a> <br>  This is ApacheBench, Version 2.3 &lt;$ Revision: $ 1706008&gt; <br>  Copyright 1996 Adam Twiss, Zeus Technology Ltd, <a href="http://www.zeustech.net/">www.zeustech.net</a> <br>  Licensed to The Apache Software Foundation, <a href="http://www.apache.org/">www.apache.org</a> <br><br>  Benchmarking cscms.loc (be patient) <br>  Completed 1000 requests <br>  Completed 2000 requests <br>  Completed 3000 requests <br>  Completed 4000 requests <br>  Completed 5000 requests <br>  Completed 6000 requests <br>  Completed 7000 requests <br>  Completed 8000 requests <br>  Completed 9000 requests <br>  Completed 10,000 requests <br>  Finished 10,000 requests <br><br>  Server Software: Apache / 2.4.17 <br>  Server Hostname: cscms.loc <br>  Server Port: 80 <br><br>  Document Path: / <br>  Document Length: 2132 bytes <br><br>  Concurrency Level: 256 <br>  Time taken for tests: 7.813 seconds <br>  Complete requests: 10,000 <br>  Failed requests: 8468 <br>  (Connect: 0, Receive: 0, Length: 8468, Exceptions: 0) <br>  Total transferred: 25217819 bytes <br>  HTML transferred: 21327819 bytes <br>  Requests per second: 1279.86 [# / sec] (mean) <br>  Time per request: 200.022 [ms] (mean) <br>  Time per request: 0.781 [ms] (mean, across all concurrent requests) <br>  Transfer rate: 3151.89 [Kbytes / sec] received <br><br>  Connection Times (ms) <br>  min mean [¬± sd] median max <br>  Connect: 0 4 58.3 0 1003 <br>  Processing: 5,171,670.6 96,6888 <br>  Waiting: 4,171 670.7 96 6888 <br>  Total: 9 175 673.2 96 6892 <br><br>  Percentage of the requests served within a certain time (ms) <br>  50% 96 <br>  66% 103 <br>  75% 108 <br>  80% 112 <br>  90% 126 <br>  95% 148 <br>  98% 221 <br>  99% 3507 <br>  100% 6892 (longest request) <br></div></div><br><div class="spoiler">  <b class="spoiler_title">UPD: CleverStyle CMS 3.156.3 + build-1823</b> <div class="spoiler_text">  nazar-pc @ nazar-pc ~&gt; ab -c256 -n10000 <a href="http://test.com/">test.com</a> <br>  This is ApacheBench, Version 2.3 &lt;$ Revision: $ 1706008&gt; <br>  Copyright 1996 Adam Twiss, Zeus Technology Ltd, <a href="http://www.zeustech.net/">www.zeustech.net</a> <br>  Licensed to The Apache Software Foundation, <a href="http://www.apache.org/">www.apache.org</a> <br><br>  Benchmarking test.com (be patient) <br>  Completed 1000 requests <br>  Completed 2000 requests <br>  Completed 3000 requests <br>  Completed 4000 requests <br>  Completed 5000 requests <br>  Completed 6000 requests <br>  Completed 7000 requests <br>  Completed 8000 requests <br>  Completed 9000 requests <br>  Completed 10,000 requests <br>  Finished 10,000 requests <br><br>  Server Software: Apache / 2.4.18 <br>  Server Hostname: test.com <br>  Server Port: 80 <br><br>  Document Path: / <br>  Document Length: 2191 bytes <br><br>  Concurrency Level: 256 <br>  Time taken for tests: 3.733 seconds <br>  Complete requests: 10,000 <br>  Failed requests: 940 <br>  (Connect: 0, Receive: 0, Length: 940, Exceptions: 0) <br>  Total transferred: 24388762 bytes <br>  HTML transferred: 21908762 bytes <br>  Requests per second: 2678.93 [# / sec] (mean) <br>  Time per request: 95.561 [ms] (mean) <br>  Time per request: 0.373 [ms] (mean, across all concurrent requests) <br>  Transfer rate: 6380.45 [Kbytes / sec] received <br><br>  Connection Times (ms) <br>  min mean [¬± sd] median max <br>  Connect: 0 10 100.7 0 1003 <br>  Processing: 4 84 29.6 79 359 <br>  Waiting: 4 81 26.5 78 359 <br>  Total: 9 94 104.5 80 1136 <br><br>  Percentage of the requests served within a certain time (ms) <br>  50% 80 <br>  66% 88 <br>  75% 95 <br>  80% 100 <br>  90% 118 <br>  95% 137 <br>  98% 199 <br>  99% 1038 <br>  100% 1136 (longest request) <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Symfony standard edition</b> <div class="spoiler_text">  nazar-pc @ nazar-pc ~&gt; ab -c256 -n10000 <a href="http://symfony.loc/web/">symfony.loc / web</a> <br>  This is ApacheBench, Version 2.3 &lt;$ Revision: $ 1706008&gt; <br>  Copyright 1996 Adam Twiss, Zeus Technology Ltd, <a href="http://www.zeustech.net/">www.zeustech.net</a> <br>  Licensed to The Apache Software Foundation, <a href="http://www.apache.org/">www.apache.org</a> <br><br>  Benchmarking symfony.loc (be patient) <br>  Completed 1000 requests <br>  Completed 2000 requests <br>  Completed 3000 requests <br>  Completed 4000 requests <br>  Completed 5000 requests <br>  Completed 6000 requests <br>  Completed 7000 requests <br>  Completed 8000 requests <br>  Completed 9000 requests <br>  Completed 10,000 requests <br>  Finished 10,000 requests <br><br>  Server Software: Apache / 2.4.17 <br>  Server Hostname: symfony.loc <br>  Server Port: 80 <br><br>  Document Path: / web / <br>  Document Length: 4580 bytes <br><br>  Concurrency Level: 256 <br>  Time taken for tests: 8.290 seconds <br>  Complete requests: 10,000 <br>  Failed requests: 0 <br>  Total transferred: 48440000 bytes <br>  HTML transferred: 45800000 bytes <br>  Requests per second: 1206.22 [# / sec] (mean) <br>  Time per request: 212.233 [ms] (mean) <br>  Time per request: 0.829 [ms] (mean, across all concurrent requests) <br>  Transfer rate: 5706.01 [Kbytes / sec] received <br><br>  Connection Times (ms) <br>  min mean [¬± sd] median max <br>  Connect: 0 14 119.0 0 3003 <br>  Processing: 6,197 43.7 194,594 <br>  Waiting: 6 194 40.3 192 594 <br>  Total: 15 211 127.4 194 3226 <br><br>  Percentage of the requests served within a certain time (ms) <br>  50% 194 <br>  66% 203 <br>  75% 210 <br>  80% 216 <br>  90% 242 <br>  95% 283 <br>  98% 387 <br>  99% 1182 <br>  100% 3226 (longest request) <br></div></div><br>  Conclusions everyone will do for himself. <br><br>  That's all, waiting for comments. <br>  Those who want to chat can do it in <a href="https://gitter.im/nazar-pc/CleverStyle-CMS">Gitter</a> . <br>  Code <a href="https://github.com/nazar-pc/CleverStyle-CMS">on GitHub</a> , documentation in the same section of the wiki. <br>  You can start feeling in one line with Docker: <br><br><pre> <code class="bash hljs">docker run --rm -p 8888:8888 nazarpc/cleverstyle-cms</code> </pre></div><p>Source: <a href="https://habr.com/ru/post/275139/">https://habr.com/ru/post/275139/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../275129/index.html">Five reasons not to use your employees for translation and localization</a></li>
<li><a href="../275131/index.html">Image Generator invites v. 2.0</a></li>
<li><a href="../275133/index.html">The unit accepting DASH will be shown at a Bitcoin conference</a></li>
<li><a href="../275135/index.html">Why am I writing C games (yes, C)</a></li>
<li><a href="../275137/index.html">Serious CVE-2016-0777 vulnerability detected in OpenSSH client</a></li>
<li><a href="../275141/index.html">Measuring the weight of minerals in the mining industry. Theoretical basis</a></li>
<li><a href="../275145/index.html">About React Native</a></li>
<li><a href="../275151/index.html">Weak links in PHP 7</a></li>
<li><a href="../275153/index.html">DeepHack.Q & A Starts - International Hackathon for Deep Learning and Machine Intelligence</a></li>
<li><a href="../275155/index.html">HotSpot using Cisco WLC5508, FreeRadius, MySQL and Easyhotspot</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>