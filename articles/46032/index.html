<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>RESTful PHP - 5 simple tips</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="REST (Representational state transfer) is an architectural style or set of conventions for web applications and services, based on the manipulation of...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>RESTful PHP - 5 simple tips</h1><div class="post__text post__text-html js-mediator-article">  REST (Representational state transfer) is an architectural style or set of conventions for web applications and services, based on the manipulation of resources and the HTTP specification.  Roy Fielding, one of the founding fathers of HTTP (Hypertext Transfer Protocol), spoke about this for the first time. <br><br>  Web applications often ignore the HTTP specification and move forward using favorite features: GET and POST, 200 OK and 404 NOT FOUND.  Since programmed web applications are used, with their own APIs, the decision to ignore the HTTP specification can create problems later.  As a result, we have many applications with GET and POST interfaces.  For example, user delete interface: GET / user / 1 / delete against POST / user / delete {id = 1};  in the case of REST, you can specify / user / 1 is a resource, and deleting HTTP is the DELETE method. <br><a name="habracut"></a><br>  Important HTTP methods such as POST, GET, PUT, and DELETE are often compared to CREATE, READ, UPDATE, DELETE (CRUD) database manipulation operations.  HTTP separates the notion of a web server and a web browser.  This allows each implementation to be different from other similar, based on the "client / server" principle. <br><br>  Now it's time to look at the examples, so it will be clearer. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  1. Using the PUT and DELETE methods </h4><br>  In PHP, you can easily determine the HTTP method used; just refer to the <code>$_SERVER['REQUEST_METHOD'];</code> system array variable <code>$_SERVER['REQUEST_METHOD'];</code>  In the case of web browsers, either the GET or the POST method is registered there.  REST client applications require PUT, DELETE support and preferably OPTIONS and <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html">others</a> .  But unfortunately in PHP there is no $ _PUT and $ _DELETE, unlike $ _GET and $ _POST.  Here is a way to correct the omission: <br><br><pre> <code class="php hljs">$_PUT = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>($_SERVER[<span class="hljs-string"><span class="hljs-string">'REQUEST_METHOD'</span></span>] == <span class="hljs-string"><span class="hljs-string">'PUT'</span></span>) {   $putdata = file_get_contents(<span class="hljs-string"><span class="hljs-string">'php://input'</span></span>);   $exploded = explode(<span class="hljs-string"><span class="hljs-string">'&amp;'</span></span>, $putdata);    <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span>($exploded <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $pair) {     $item = explode(<span class="hljs-string"><span class="hljs-string">'='</span></span>, $pair);     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(count($item) == <span class="hljs-number"><span class="hljs-number">2</span></span>) {       $_PUT[urldecode($item[<span class="hljs-number"><span class="hljs-number">0</span></span>])] = urldecode($item[<span class="hljs-number"><span class="hljs-number">1</span></span>]);     }   } }</code> </pre><br><br>  Thus, we have an array of $ _PUT, similar to $ _POST with the exception of superglobalnosti. <br><br><h4>  2. Sending custom HTTP 1.1 headers </h4><br>  PHP allows customization of headers sent to the client.  In turn, the header contains the response code from the server.  By default, PHP will respond with 200 OK to a successful request, to use the die () function, or to create a new resource.  Actually there are two ways to customize the situation: <br><br><pre> <code class="php hljs">header(<span class="hljs-string"><span class="hljs-string">'HTTP/1.1 404 Not Found'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  header('Location: http://www.foo.com/bar', true, 201); // 201 CREATED</span></span></code> </pre><br><br>  The first option is a fairly standard method for setting the response code.  If you need to specify a redirection to the resource ‚Äú201 Created‚Äù or ‚Äú301 Moved Permanently‚Äù, this is easy to implement by specifying the code in the third parameter of the function header (), as shown in the example.  The second example can be replaced by a more readable code: <br><br><pre> <code class="php hljs">header(<span class="hljs-string"><span class="hljs-string">'HTTP/1.1 201 Created'</span></span>); header(<span class="hljs-string"><span class="hljs-string">'Location: http://www.foo.com/bar'</span></span>);</code> </pre><br><br><h4>  3. Sending Significant HTTP Headers </h4><br>  The point is to use header specifications that are quite self-contained, but are often ignored or emulated by more stereotyped decisions. <br><br>  <b>201 Created</b> - used if a new resource has been created.  It should be used with the functionality of referral to the resource, for example / tech / news, because  he does not use automatic directions. <br><br>  <b>202 Accepted</b> - as if telling the customer "your order has been accepted and will be processed soon."  Unlike code 201, which is sent after creating a resource, code 202 queues the request. <br><br>  <b>204 No Content</b> - In conjunction with caching and conditional GET request (requests with If-Modified-Since / If-None-Match headers), allows web applications to say "the content has not changed, continue to use the cached version", without re-processing and sending cache. <br><br>  <b>401 Unauthorized</b> - should be used when trying to access a resource that requires a certain level of access.  Used in conjunction with www-authentication. <br><br>  <b>500 Internal Server Error</b> - much better than 200 OK, when the PHP script is no longer breathing or has led to an exception. <br><br>  Naturally, there are many more titles; on this topic it has been repeatedly written, the ones listed above are just examples. <br><br><h4>  4. Do not use $ _SESSION </h4><br>  A real RESTful PHP application should be completely independent; all requests should contain enough information so that they can be responded to without any additional effort from the server.  In practice, this implies the preservation of authorization information in cookies with a date (timestamp) and a checksum.  Additional information can also be stored in cookies.  If you need to save large amounts of data, you can put them in a database, authorization information should be left in the cookies.  <i>UPD: It is necessary to make a reservation that the use of cookies does not fully comply with the REST ideology, since</i>  <i>session communications are saved.</i>  <i>But in the case of cookies, session information is stored on the client, and in the case of session, session connections are stored in the server‚Äôs temporary directory and in the client‚Äôs session cookie (if ‚Äúsession.use_cookies‚Äù is enabled).</i> <br><br><h4>  5. Testing with cURL or rest-client </h4><br>  cURL makes it easy to execute any HTTP methods for the desired resource.  You can send any request parameters and headers, as well as check the response headers and data.  The command line tool ‚Äúcurl‚Äù is standard for most * nix systems.  For Windows users, <a href="http://www.mingw.org/">MinGW / MSYS is</a> suitable. <br><br>  Usage example and basic options: <br><br> <code><a href="http://www.foo.com/bar/1"></a> # curl -X PUT www.foo.com/bar/1 -d "some=var" -d "other=var2" -H "Accept: text/json" -I</code> <br> <br>  <b>-X [METHOD]</b> defines an HTTP method. <br>  <b>-d "name = value"</b> sets the name and values ‚Äã‚Äãof variables in POST / PUT. <br>  <b>-H [HEADER]</b> sets the header. <br>  <b>-I</b> displays the response headers. <br><br>  There is also a free, Java / Swing based <a href="http://code.google.com/p/rest-client/">rest-client</a> for REST testing.  It also supports JSON / XML. <br><br><h4>  Useful links on the topic </h4><br>  <a href="http://www.krisjordan.com/2008/12/02/towards-restful-php-5-basic-tips/">Original article in English</a> <br>  <a href="http://habrahabr.ru/blogs/webdev/38730/">Web Development ‚Üí REST Architecture</a> <br>  <a href="http://en.wikipedia.org/wiki/REST">The most useful article on REST in English</a> <br>  <a href="http://www.recessframework.com/">RESTful PHP framework</a> <br>  <a href="http://www.megginson.com/blogs/quoderat/2007/02/15/rest-the-quick-pitch/">REST: the quick pitch</a> <br>  <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html">Method Definitions</a> <br><br>  <b>UPD:</b> <h4>  Where one way or another is used </h4><br>  <a href="http://www.flickr.com/services/api">Flickr services</a> <br>  <a href="http://developer.yahoo.com/maps/">Yahoo!</a>  <a href="http://developer.yahoo.com/maps/">Maps Web Services</a> <br>  <a href="http://mambo-manual.org/display/dev/Mambo%2527s%2BRESTful%2BAPI">Mambo's RESTful API</a> <br><br>  <i>* restful (eng.) - soothing;</i>  <i>calming.</i> </div><p>Source: <a href="https://habr.com/ru/post/46032/">https://habr.com/ru/post/46032/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../46025/index.html">Revival of the legend: we put the OS on Libretto 50 CT</a></li>
<li><a href="../46026/index.html">XNA + C # vs DirectX + C ++ v OpenGL. What's better? And why?</a></li>
<li><a href="../46028/index.html">How not to make a login form in the Internet bank</a></li>
<li><a href="../46029/index.html">A small feature of window.open in Internet Explorer</a></li>
<li><a href="../46031/index.html">The market share of the Mozilla Firefox browser has exceeded the 20 percent mark. Once again.</a></li>
<li><a href="../46033/index.html">Layout of rounded borders and sharp corners</a></li>
<li><a href="../46035/index.html">Happy 3D, workers measuring Z!</a></li>
<li><a href="../46037/index.html">jQuery in Action in Russian already on sale</a></li>
<li><a href="../46040/index.html">The concept of the mechanism for correcting typos</a></li>
<li><a href="../46041/index.html">Electronic First Aid Guide</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>