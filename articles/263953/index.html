<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Visualization of static and dynamic networks on R, part 3</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the first part : 


- network visualization: why? how? 
- visualization parameters 
- best practices - aesthetics and performance 
- data formats a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Visualization of static and dynamic networks on R, part 3</h1><div class="post__text post__text-html js-mediator-article">  In the <a href="http://habrahabr.ru/company/infopulse/blog/262079/">first part</a> : <br><ul><li>  network visualization: why?  how? </li><li>  visualization parameters </li><li>  best practices - aesthetics and performance </li><li>  data formats and preparation </li><li>  description of the data sets used in the examples </li><li>  getting started with igraph </li></ul><br>  In the <a href="http://habrahabr.ru/company/infopulse/blog/263947/">second part</a> : colors and fonts in graphs R. <br><br>  In this part: parameters of graphs, vertices and edges. <br><a name="habracut"></a><br><h4>  Network Plotting </h4><br>  Building with igraph: network graphics have an extensive set of options.  In particular, there are vertex settings (start with <code>vertex.</code> ) And edge settings (start with <code>edge.</code> ).  Some of the settings are listed below, and more information can be obtained by running the <code>?igraph.plotting</code> . <br><br>  Build options in igraph (among others): 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Vertices </h4><table><tbody><tr><td>  <b>vertex.color</b> </td><td>  vertex color </td></tr><tr><td>  <b>vertex.frame.color</b> </td><td>  vertex outline color </td></tr><tr><td>  <b>vertex.shape</b> </td><td>  vertex designation form, one of the values ‚Äã‚Äã‚Äúnone‚Äù, ‚Äúcircle‚Äù, ‚Äúsquare‚Äù, ‚Äúcsquare‚Äù, ‚Äúrectangle‚Äù, ‚Äúcrectangle‚Äù, ‚Äúvrectangle‚Äù, ‚Äúpie‚Äù, ‚Äúraster‚Äù, ‚Äúsphere‚Äù </td></tr><tr><td>  <b>vertex.size</b> </td><td>  vertex size (default is 15) </td></tr><tr><td>  <b>vertex.size2</b> </td><td>  second parameter of vertex size (for example, for a rectangle) </td></tr><tr><td>  <b>vertex.label</b> </td><td>  vector of symbols for vertices </td></tr><tr><td>  <b>vertex.label.family</b> </td><td>  font family for vertex labels (for example, Times, Helvetica) </td></tr><tr><td>  <b>vertex.label.font</b> </td><td>  font: 1 - regular, 2 - bold, 3 - italic, 4 - bold italic, 5 - character </td></tr><tr><td>  <b>vertex.label.cex</b> </td><td>  font size (multiplier, device dependent) </td></tr><tr><td>  <b>vertex.label.dist</b> </td><td>  the distance between the mark and the top </td></tr><tr><td>  <b>vertex.label.degree</b> </td><td>  location of the label in relation to the vertex: 0 - on the right, "pi" - on the left, "pi / 2" - on the bottom, "-pi / 2" - on the top </td></tr></tbody></table><br><h4>  Ribs </h4><table><tbody><tr><td>  <b>edge.color</b> </td><td>  edge color </td></tr><tr><td>  <b>edge.width</b> </td><td>  edge width default 1 </td></tr><tr><td>  <b>edge.arrow.size</b> </td><td>  default arrow size 1 </td></tr><tr><td>  <b>edge.arrow.width</b> </td><td>  arrow width, default 1 </td></tr><tr><td>  <b>edge.lty</b> </td><td>  line type, either 0 or ‚Äúblank‚Äù, 1 or ‚Äúsolid‚Äù, 2 or ‚Äúdashed‚Äù (discontinuous), 3 or ‚Äúdotted‚Äù (dash), 4 or ‚Äúdotdash‚Äù (dot-dash) ), 5 or ‚Äúlongdash‚Äù (long dash), 6 or ‚Äútwodash‚Äù (double dash) </td></tr><tr><td>  <b>edge.label</b> </td><td>  edge symbol vector </td></tr><tr><td>  <b>edge.label.family</b> </td><td>  font family for edge labels (for example, Times, Helvetica) </td></tr><tr><td>  <b>edge.label.font</b> </td><td>  font: 1 - regular, 2 - bold, 3 - italic, 4 - bold italic, 5 - character </td></tr><tr><td>  <b>edge.label.cex</b> </td><td>  font size of edge marks </td></tr><tr><td>  <b>edge.curved</b> </td><td>  rib bend, in the range from 0 to 1 (FALSE sets to 0, TRUE to 0.5) </td></tr><tr><td>  <b>arrow.mode</b> </td><td>  a vector that determines whether the edges should have arrows, possible values: 0 - no arrows, 1 - reverse, 2 - straight, 3 - in both directions </td></tr></tbody></table><br><h4>  Other </h4><table><tbody><tr><td>  <b>margin</b> </td><td>  empty borders around the graph, vector of length 4 </td></tr><tr><td>  <b>frame</b> </td><td>  if TRUE, the graph will be framed </td></tr><tr><td>  <b>main</b> </td><td>  if set, adds a caption to the graphic </td></tr><tr><td>  <b>sub</b> </td><td>  if set, adds a subtitle to the graphic </td></tr></tbody></table><br>  Settings for vertices and edges can be set in two ways.  The first is to set them using the <code>plot()</code> function, as shown below. <br><pre> <code class="javascript hljs">#     (edge.curved=<span class="hljs-number"><span class="hljs-number">.1</span></span>)    : plot(net, edge.arrow.size=<span class="hljs-number"><span class="hljs-number">.4</span></span>, edge.curved=<span class="hljs-number"><span class="hljs-number">.1</span></span>)</code> </pre><img src="https://habrastorage.org/files/8fd/3c9/021/8fd3c9021d6845dbbae7c8c1379cf706.png" width="60%"><br><pre> <code class="javascript hljs">#        #     ,   <span class="hljs-string"><span class="hljs-string">"media"</span></span> plot(net, edge.arrow.size=<span class="hljs-number"><span class="hljs-number">.2</span></span>, edge.color=<span class="hljs-string"><span class="hljs-string">"orange"</span></span>, vertex.color=<span class="hljs-string"><span class="hljs-string">"orange"</span></span>, vertex.frame.color=<span class="hljs-string"><span class="hljs-string">"#ffffff"</span></span>, vertex.label=V(net)$media, vertex.label.color=<span class="hljs-string"><span class="hljs-string">"black"</span></span>)</code> </pre><img src="https://habrastorage.org/files/6f0/324/e1f/6f0324e1f255450eafcf637768c36c37.png" width="60%"><br>  Another way to set attributes is to add them to the igraph object.  Let's say we want the color of the vertices of the network to depend on the media, and the size depends on the degree of centrality (more links - more vertices).  We will also change the width of the ribs depending on their weight. <br><pre> <code class="javascript hljs">#        : colrs &lt;- c(<span class="hljs-string"><span class="hljs-string">"gray50"</span></span>, <span class="hljs-string"><span class="hljs-string">"tomato"</span></span>, <span class="hljs-string"><span class="hljs-string">"gold"</span></span>) V(net)$color &lt;- colrs[V(net)$media.type] #    ( )       : deg &lt;- degree(net, mode=<span class="hljs-string"><span class="hljs-string">"all"</span></span>) V(net)$size &lt;- deg*<span class="hljs-number"><span class="hljs-number">3</span></span> #      : V(net)$size &lt;- V(net)$audience.size*<span class="hljs-number"><span class="hljs-number">0.6</span></span> #   -  . #     NA,   : V(net)$label &lt;- NA #      : E(net)$width &lt;- E(net)$weight/<span class="hljs-number"><span class="hljs-number">6</span></span> #      : E(net)$arrow.size &lt;- <span class="hljs-number"><span class="hljs-number">.2</span></span> E(net)$edge.color &lt;- <span class="hljs-string"><span class="hljs-string">"gray80"</span></span> E(net)$width &lt;- <span class="hljs-number"><span class="hljs-number">1</span></span>+E(net)$weight/<span class="hljs-number"><span class="hljs-number">12</span></span> plot(net)</code> </pre><img src="https://habrastorage.org/files/ba3/715/3f7/ba37153f7dcd4bb3b4be1d71f95f9446.png" width="40%"><br>  You can also override attributes directly in the graphic: <br><pre> <code class="javascript hljs">plot(net, edge.color=<span class="hljs-string"><span class="hljs-string">"orange"</span></span>, vertex.color=<span class="hljs-string"><span class="hljs-string">"gray50"</span></span>)</code> </pre><img src="https://habrastorage.org/files/0cf/658/ee9/0cf658ee968b4d3c89ec98137a027c6c.png" width="40%"><br>  It is useful to add a legend explaining the meaning of the colors used: <br><pre> <code class="javascript hljs">plot(net) legend(x=<span class="hljs-number"><span class="hljs-number">-1.5</span></span>, y=<span class="hljs-number"><span class="hljs-number">-1.1</span></span>, c(<span class="hljs-string"><span class="hljs-string">"Newspaper"</span></span>,<span class="hljs-string"><span class="hljs-string">"Television"</span></span>, <span class="hljs-string"><span class="hljs-string">"Online News"</span></span>), pch=<span class="hljs-number"><span class="hljs-number">21</span></span>, col=<span class="hljs-string"><span class="hljs-string">"#777777"</span></span>, pt.bg=colrs, pt.cex=<span class="hljs-number"><span class="hljs-number">2</span></span>, cex=<span class="hljs-number"><span class="hljs-number">.8</span></span>, bty=<span class="hljs-string"><span class="hljs-string">"n"</span></span>, ncol=<span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre><img src="https://habrastorage.org/files/dbd/dbe/ca2/dbddbeca274c4127a206154a9b0d0661.png" width="40%"><br>  Sometimes, especially in semantic networks, you only need to display vertex labels: <br><pre> <code class="javascript hljs">plot(net, vertex.shape=<span class="hljs-string"><span class="hljs-string">"none"</span></span>, vertex.label=V(net)$media, vertex.label.font=<span class="hljs-number"><span class="hljs-number">2</span></span>, vertex.label.color=<span class="hljs-string"><span class="hljs-string">"gray40"</span></span>, vertex.label.cex=<span class="hljs-number"><span class="hljs-number">.7</span></span>, edge.color=<span class="hljs-string"><span class="hljs-string">"gray85"</span></span>)</code> </pre><img src="https://habrastorage.org/files/501/882/8ab/5018828ab962494c8a168d86992cb444.png" width="40%"><br>  Let's color the edges of the graph in the colors of the vertices from which they emanate.  You can find the source vertex of each edge using the <code>get.edges</code> function from igraph. <br><pre> <code class="javascript hljs">edge.start &lt;- get.edges(net, <span class="hljs-number"><span class="hljs-number">1</span></span>:ecount(net))[,<span class="hljs-number"><span class="hljs-number">1</span></span>] edge.col &lt;- V(net)$color[edge.start] plot(net, edge.color=edge.col, edge.curved=<span class="hljs-number"><span class="hljs-number">.1</span></span>)</code> </pre><img src="https://habrastorage.org/files/41b/931/550/41b9315508fd4e7e986a1ddec72f5443.png" width="40%"></div><p>Source: <a href="https://habr.com/ru/post/263953/">https://habr.com/ru/post/263953/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../263939/index.html">How we spent a couple of days working on Perl acceleration</a></li>
<li><a href="../263943/index.html">Channel Status Protocols and Single-Zone OSPF (Part 1)</a></li>
<li><a href="../263945/index.html">The story of one clone</a></li>
<li><a href="../263947/index.html">Visualization of static and dynamic networks on R, part 2</a></li>
<li><a href="../263951/index.html">Accelerated course on notations in the theory of programming languages</a></li>
<li><a href="../263957/index.html">The first Lean Poker tournament in Russia was held in Omsk</a></li>
<li><a href="../263959/index.html">Clear the code with free monads</a></li>
<li><a href="../263961/index.html">Scholarship government programs around the world. Part 1</a></li>
<li><a href="../263963/index.html">Multifactorial LastPass</a></li>
<li><a href="../263967/index.html">JavaScript - inheritance patterns</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>