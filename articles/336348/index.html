<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using the terminal when developing for Android</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Being a fan of the terminal, I have long wanted to write about this topic. In addition, knowledge of how to use the terminal, significantly speeds up ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using the terminal when developing for Android</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/getpro/habr/post_images/f20/23f/de8/f2023fde849c0f0060ef0d6c1c924bfd.gif" alt="image"></p><br><p>  Being a fan of the terminal, I have long wanted to write about this topic.  In addition, knowledge of how to use the terminal, significantly speeds up the work. </p><br><p>  My goal in this article is to share with you how I use the terminal when developing for Android. </p><a name="habracut"></a><br><h3 id="iterm2">  iTerm2 </h3><br><p>  Since we are going to spend a lot of time on the command line, let's set up a better terminal than a standard one.  I bring to your attention <a href="http://www.iterm2.com/">iTerm2</a> . </p><br><p>  ITerm2 is a modern terminal with features that you have long wanted to see.  For example, dividing the panel, custom color schemes, history, control of hot keys, as well as many other convenient settings that you will find useful. </p><br><h3 id="oh-my-zsh">  oh-my-zsh </h3><br><p>  When you launch a terminal, it launches a shell called <strong>bash</strong> .  <strong>Bash is</strong> by far the most popular shell and comes with almost every UNIX-based operating system.  However, there are <strong>Bash alternatives</strong> that make using the terminal faster and more convenient for developers. </p><br><p>  By default, <strong>oh-my-zsh</strong> comes with a <a href="https://github.com/robbyrussell/oh-my-zsh/wiki/Plugin:git"><em>plugin</em></a> that provides many useful features. </p><br><h3 id="avtozapolnenie">  Autocomplete </h3><br><p>  <strong>Zsh-autosuggestions</strong> are quick / unobtrusive sentences for insertion into <em>zsh</em> .  It offers commands as you type based on command history: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/48b/403/75a/48b40375a15f5c5a92bbb479f9f05086.gif" alt="image"></p><br><h3 id="obratnyy-umnyy-poisk">  Reverse smart search </h3><br><p>  You can hit <strong>Control + R</strong> to perform reverse smart search in command history.  Start typing the command, and the shell will auto-populate with the commands previously entered. </p><br><p>  Then you can either press <strong>Enter</strong> to execute the suggested command, or use the left / right arrows to edit the command, or continue pressing <strong>Control + R</strong> to switch between other possible commands. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/d75/ba7/8b2/d75ba78b2c150bf73eacb5e2ae63431e.gif" alt="image"></p><br><h3 id="dryrun">  Dryrun </h3><br><p>  You came across a cool github library, but what do you need to do to test it on your phone? </p><br><ul><li>  Click <strong>Download zip</strong> </li><li>  Extract the <strong>zip file</strong> </li><li>  Open <strong>Android Studio</strong> </li><li>  Import downloaded project </li><li>  Sync <strong>gradle</strong> </li><li>  Run the project </li><li>  Select device </li><li>  To try </li><li>  Delete the project <em>folder</em> and <em>zip file</em> when you no longer need it. </li></ul><br><h4 id="ili">  Or... </h4><br><p>  You can use <a href="https://github.com/cesarferreira/dryrun">dryrun</a> : </p><br><pre><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">dryrun</span></span> REMOTE_GIT_URL</code> </pre> <br><p><img src="https://habrastorage.org/getpro/habr/post_images/52c/1fb/eb1/52c1fbeb109b0fc38c26b134d949e2e5.gif" alt="image"></p><br><h3 id="bildim-proekt-bystreebez-seti">  Build a project faster / without network </h3><br><p>  The <strong>--offline</strong> flag tells <em>gradle to</em> always use cache dependency modules, regardless of whether they should be checked.  When working offline, <em>gradle</em> never tries to access the network to perform dependency resolution.  If the required modules are not in the dependency cache, the build will fail. </p><br><p>  Build at full speed: </p><br><pre> <code class="hljs pgsql">./gradlew assembleDevelopDebug <span class="hljs-comment"><span class="hljs-comment">--offline</span></span></code> </pre> <br><p>  Run your unit tests at full speed: </p><br><pre> <code class="hljs pgsql">./gradlew test <span class="hljs-comment"><span class="hljs-comment">--offline</span></span></code> </pre> <br><p>  Alternatively, in Android Studio, you can make gradle build completely offline by activating this option: </p><br><p>  <strong>Settings -&gt; Build, Execution, Deployment -&gt; Build tools -&gt; Gradle</strong> </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/0ad/536/fee/0ad536fee7c256f5ae89fd978c12ec15.png" alt="image"></p><br><h3 id="alfi">  alfi </h3><br><p>  As an Android developer, you are probably using Android Studio with Gradle.  One of the great advantages is dependency management, which automatically downloads artifacts from the repository and makes them available to your application.  Basically, you simply add one line to the <em>build.gradle</em> file, and your library is included.  Pretty easy, right? </p><br><p>  But do you know this line <strong>exactly</strong> ? </p><br><p>  There is an <strong><a href="https://github.com/cesarferreira/alfi">ALFI</a></strong> for this: </p><br><ol><li>  Enter: <em>alfi NAME_OF_THE_LIBRARY</em> </li><li>  Copy the library you want </li><li>  Paste into build.gradle </li></ol><br><p>  No user interface interaction is required and up to 20 results at once! </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">alfi</span></span> picasso</code> </pre> <br><p><img src="https://habrastorage.org/getpro/habr/post_images/bfb/ef1/b69/bfbef1b696d5dd5f53fa95b9506c62c0.gif" alt="image"></p><br><h3 id="ponimanie-gradle-zadach">  Understanding gradle tasks </h3><br><p>  If you run the <strong>./gradlew tasks</strong> , you will get a list of available gradle functions.  What is not listed is the short version of the commands, so here‚Äôs a short list of assumptions you can make, </p><br><ul><li>  iDD == installDevelopmentDebug </li><li>  aDD == assembleDevelopmentDebug </li><li>  cC == connectedCheck </li><li>  etc. </li></ul><br><p>  You can start doing this as follows: </p><br><pre> <code class="hljs ruby">./gradlew <span class="hljs-symbol"><span class="hljs-symbol">:App</span></span><span class="hljs-symbol"><span class="hljs-symbol">:iDD</span></span></code> </pre> <br><p>  So much more compact. </p><br><h3 id="android-rocket-launcher">  Android Rocket Launcher </h3><br><p>  This is a gradle plugin that adds tasks to your Android modules to install and run all the options, so there is no need to run <strong>./gradlew installDebug</strong> and go to the phone, find the application among the 50 applications that you installed, and run the right one. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/4ba/900/265/4ba90026595b1fc2eb81d6e2d56909dd.png" alt="image"></p><br><p>  All you need to do is add <strong><a href="https://github.com/cesarferreira/android-rocket-launcher">2 lines</a></strong> to <em>build.gradle</em> </p><br><p>  Tip: do not forget that even when you start the application from the terminal, you can always <a href="https://stackoverflow.com/questions/17677506/android-studio-open-debug-mode-when-app-is-running/19017722">activate the debugging process</a> without having to restart the application. </p><br><h3 id="vyvod-yunit-testov-na-konsol">  Outputting unit tests to the console </h3><br><p>  A small trick that allows you to see the results of testing devices Android. </p><br><pre> <code class="hljs cs">android { ... testOptions.unitTests.all { testLogging { events <span class="hljs-string"><span class="hljs-string">'passed'</span></span>, <span class="hljs-string"><span class="hljs-string">'skipped'</span></span>, <span class="hljs-string"><span class="hljs-string">'failed'</span></span>, <span class="hljs-string"><span class="hljs-string">'standardOut'</span></span>, <span class="hljs-string"><span class="hljs-string">'standardError'</span></span> outputs.upToDateWhen { <span class="hljs-literal"><span class="hljs-literal">false</span></span> } showStandardStreams = <span class="hljs-literal"><span class="hljs-literal">true</span></span> } } }</code> </pre> <br><p>  Now, when you run your tests, they output something like this: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/1ca/bf5/898/1cabf5898a2bd822eec3092781d633b5.png" alt="image"></p><br><h3 id="udobnye-logcats">  Convenient logcats </h3><br><p>  During application development, you often want to show only log messages coming from your application.  Unfortunately, since the process ID changes every time you deploy an application on your phone, sorting messages becomes a problem. </p><br><p>  <a href="https://github.com/JakeWharton/pidcat">This</a> small tool solves this problem by filtering by application package.  Put the desired package as the only argument and get the desired result. </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">pidcat</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">github</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.cesarferreira</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.helloworld</span></span></code> </pre> <br><p><img src="https://habrastorage.org/getpro/habr/post_images/611/396/51a/61139651a5d5f6de4f749e0ae2e2cfba.png" alt="image"></p><br><h3 id="itog">  Total </h3><br><ul><li>  Install <strong>iterm2</strong> , a more functional terminal than the standard </li><li>  Use the <strong>oh-my-zsh</strong> shell to auto-complete </li><li>  Don't forget about compact commands <strong>./gradlew iDD</strong> </li><li>  Run commands faster using the <strong>--offline</strong> flag </li><li>  Do not open the application on the phone manually after installation, use <a href="https://github.com/cesarferreira/android-rocket-launcher">this plugin</a> to automate the process </li><li>  Attach the debugging process <strong>without</strong> restarting the application </li><li>  Enjoy more convenient <em>logcat</em> output with <strong>pidcat</strong> . </li></ul></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/336348/">https://habr.com/ru/post/336348/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../336334/index.html">Paraquire, or Stop Trusting Libraries</a></li>
<li><a href="../336336/index.html">OCaml and RESTful JSON API using Eliom</a></li>
<li><a href="../336338/index.html">Accelerate Viola-Jones Method</a></li>
<li><a href="../336342/index.html">Agents, principals and online ticket booths in between</a></li>
<li><a href="../336346/index.html">How I did realtime roulette on NodeJS & VueJS</a></li>
<li><a href="../336350/index.html">Calculation of the weight spectrum of a linear subspace in Wolfram Mathematica</a></li>
<li><a href="../336352/index.html">Convenient use of Redux in vue components</a></li>
<li><a href="../336356/index.html">App Store on iOS 11: what it will be and what it means</a></li>
<li><a href="../336358/index.html">How to create a racist AI, without even trying. Part 1</a></li>
<li><a href="../336360/index.html">B2P: how in 5 years to collect 3,000 news for a corporate publication in an IT company numbering> 100 people</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>