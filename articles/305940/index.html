<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Archiving as an answer to the ‚ÄúSpring package‚Äù</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="One of the main news sensations of the last days is the signing of the so-called ‚Äú Spring Package ‚Äù. The highlight of the program is the requirement t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Archiving as an answer to the ‚ÄúSpring package‚Äù</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/84c/736/00f/84c73600fa054c6da9509562947e8705.jpg"><br><br>  One of the main news sensations of the last days is the signing of the so-called ‚Äú <a href="https://geektimes.ru/post/278196/">Spring Package</a> ‚Äù.  The highlight of the program is the requirement to store traffic for up to six months and metadata for three years.  This legislative initiative has become a full-fledged laws that will have to abide by.  In fact, we are talking about the ubiquitous creation of constantly updated archives, which requires the solution of all sorts of issues, including those related to the selection of suitable data storage systems. <br><a name="habracut"></a><br>  Archiving traffic and metadata does not imply the need for quick access.  This information will not be used in the daily activities of companies, it should only be stored in case of a request from the authorities.  This greatly facilitates the task of creating archives, allowing you to simplify their architecture. <br><br>  In general, the archive should perform five main functions: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  Saving data for future use. </li><li>  Ensuring constant user access to stored data. </li><li>  Ensuring confidentiality of access. </li><li>  Reducing the load on the working systems due to the transfer to the archive of static data. </li><li>  Using data retention policies. </li></ul><br>  The traffic and metadata transmitted by users are characterized by a wide variety and lack of structure.  Add to this a huge amount and speed of information growth, especially typical for large companies and services, and you‚Äôll get the classic definition of big data.  In other words, changes in legislation require a massive solution to the problem of storing large data, constantly and with great speed entering archive systems.  Therefore, archives should not only be high-performance, but also have excellent horizontal scalability so that, if necessary, you can relatively simply increase the storage capacity. <br><br><h3>  Big Data Archiving </h3><br>  To solve such problems, the <a href="http://russia.emc.com/content-management/infoarchive/infoarchive.htm">EMC InfoArchive</a> platform is <a href="http://russia.emc.com/content-management/infoarchive/infoarchive.htm">intended</a> ; we <a href="https://habrahabr.ru/company/emc/blog/262673/">wrote</a> about it a year ago.  This is a flexible and powerful enterprise-class archiving platform, which is a combination of a storage system (NAS or SAN) and a software archiving platform. <br><br>  The benefits of InfoArchive include: <br><br><ul><li>  Support for international standards, including open standards XML and <a href="https://en.wikipedia.org/wiki/Open_Archival_Information_System">OAIS</a> (Open Archival Information System) </li><li>  high security of stored data </li><li>  ease of managing large volumes of structured and unstructured data, </li><li>  as well as ample opportunities for configuration and scaling. </li></ul><br>  InfoArchive consists of the following components: <br><br><ul><li>  <b>Web application</b> : the main application that provides easy access to most of the settings and functions of the system. </li><li>  <b>Server</b> : Archiving Services for Web Server. </li><li>  <b>XML repository (xDB)</b> : storage services for InfoArchive Server.  The xDB base is included in the InfoArchive distribution and is automatically installed as part of the system kernel. </li><li>  <b>Shell [optional]</b> : A command-line tool for performing administrative tasks, adding data, managing, and querying objects. </li><li>  <b>The framework for adding data [optional]</b> . </li></ul><br><br>  InfoArchive high-level architecture: <br><br><img src="https://habrastorage.org/files/f29/977/77c/f2997777c46c450f9143ae976188b2a2.png"><br><br>  Depending on security, licensing, and other considerations, InfoArchive can be installed on a single host or distributed across multiple hosts.  But in general, when creating a repository, it is recommended to use the most simple architecture, this allows reducing the delay in data transfer. <br><br>  The logical architecture of InfoArchive is as follows: <br><br><img src="https://habrastorage.org/files/c43/7c4/8f7/c437c48f717b4c01ab5b53336beb83cf.png"><br><br>  Servers can scale vertically, or ‚Äúspecialize‚Äù in various functions of REST services ‚Äî data addition, search, administration, etc.  This allows you to implement any degree of scalability, increasing the archive in accordance with the needs.  And the load distribution is easily performed using the ‚Äúclassic‚Äù HTTP balancer. <br><br><h3>  xDB </h3><br>  One of the key components of InfoArchive is the automatically deployable xDB DBMS.  Its properties largely determine the capabilities of the entire system, so let's take a closer look at this component. <br><br>  In xDB, XML documents and other data are stored in an integrated, scalable, high-performance object-oriented database.  This DBMS is written in Java and allows you to save and manipulate very large amounts of data with high speed.  The xDB transaction system satisfies the <a href="https://ru.wikipedia.org/wiki/ACID">ACID</a> rules: atomicity, consistency, isolation, and durability. <br><br>  Physically, each database consists of one or more <b>segments</b> .  Each segment is distributed in one or several <b>files</b> , and each file consists of one or several <b>pages</b> . <br><br>  The relationship between physical and logical xDB structures: <br><br><img src="https://habrastorage.org/files/b40/a71/f3c/b40a71f3c4c3470a86ffad1a707e448d.png"><br><br>  The back-end application server in xDB is the so-called <b>page server</b> (page server) that transfers data pages to frontend applications (client applications).  In environments where the database is accessed from a single application server, performance is usually better if the page server is running within the same JVM along with the application server. <br><br>  If the page server performs other tasks, then it is called an <b>internal server</b> (internal server).  And if no additional tasks are assigned to the page server, then it is called <b>a</b> dedicated server.  A dedicated server in combination with a TCP / IP connection between it and clients has better scalability than the internal server.  The larger the archive sizes, the more different front-end applications access the page server, the more arguments there are to make it a dedicated server. <br><br><h3>  XDB clustering </h3><br>  xDB can be deployed both on a single node and on a cluster using the shared-nothing architecture using <a href="http://cassandra.apache.org/">Apache Cassandra</a> .  You don't have to understand Cassandra, although knowledge of its basics will make it easier to configure and manage the cluster. <br><br>  XDB clustering is performed using horizontal scaling, in which data is physically distributed across multiple servers (data nodes).  They do not have a common file system and interact with each other over the network.  Clusters also use configuration nodes containing complete information about the cluster structure. <br><br>  Both a single node and a cluster act as a logical database container.  A page server works with a node's data directory ‚Äî a structure containing one or more databases.  Each node contains its own page server, and all of these servers are combined into a cluster through the configuration node. <br><br>  Thanks to the xDB clustering capabilities, InfoArchive users can work with big data arriving at high speed.  This is especially true for the constant recording of user traffic of large web services and telecom providers: a single node can rest against the capabilities of the processor and / or the capacity of the disk subsystem. <br><br>  Cluster example: <br><br><img src="https://habrastorage.org/files/52c/7fb/612/52c7fb612bce4883a25e83ded37c4c5f.png"><br><br>  An xDB cluster consists of three types of components: <br><br><ul><li>  <b>Data nodes</b>  Information repositories.  Each node acts as a separate backend server that listens and is able to accept requests from other cluster members.  The client driver (s) allows the cluster to be represented as if it consists of a single node.  In this case, the driver should not be connected directly to the data nodes, only through configuration nodes. </li><li>  <b>Configuration nodes</b> .  They store metadata containing information about all data nodes: databases, segments, files, users, groups, and data distribution across the node.  If configuration nodes fail, the cluster dies.  Therefore, the contents of these nodes should be duplicated. </li><li>  <b>Drivers clients</b> .  Remote xDB drivers initialized using the bootstrap URL by one of the configuration nodes.  Applications interact with the cluster through a client driver, for example, to create new databases, move information between nodes, add new XML documents, etc.  The client driver automatically sends requests for data to the corresponding data nodes, focusing on information from configuration nodes. </li></ul><br><h3>  Data Partitioning </h3><br>  Data distribution in xDB is done at the detachable library level.  A disconnected library is a data block that is moved within a cluster.  They are usually used for partitioning.  Each library is always stored or tied to a single data node.  In this case, the node can store libraries linked to other nodes. <br><br>  Also disable libraries allow you to deal with the imbalance of cluster performance.  For example, if some data nodes in a cluster are overloaded, then some libraries can be transferred to other nodes. <br><br>  Possible application of data partitioning in InfoArchive: <br><br><img src="https://habrastorage.org/files/30b/040/588/30b040588246405ba73b13fd602e55c8.png"><br><br><h3>  Use EMC Isilon for EMC InfoArchive </h3><br>  As a storage for InfoArchive, you can use EMC Isilon - a horizontally scalable network storage system that provides the functionality of the entire enterprise and allows you to effectively manage the growing amounts of historical data.  The EMC Isilon cluster architecture allows both to combine ease of use and reliability in one system, as well as to ensure linear growth of volumes and system performance. <br><br>  Initially, the system may be relatively small, but over time, its size may increase significantly.  The solution based on EMC Isilon allows you to start building a system from 18 TB and grow to 50 PB in a single file system.  With increasing volumes, only the number of nodes in the cluster grows.  A single point of administration and a single file system is maintained.  Thus, EMC Isilon can be effectively used as a single consolidated storage system and used throughout the entire life cycle of information storage.  This approach avoids the use of various storage systems, which simplifies the implementation, maintenance, expansion and modernization of the system.  As a result, the cost of operating and maintaining a single EMC Isilon solution is significantly lower than that of a solution consisting of several traditional systems. <br><br>  Thus, the EMC Isilon storage system effectively complements the InfoArchive archive platform. <br><br>  Main advantages: <br><br><ul><li> Integration with SmartLock software provides compatibility with a single-write, read-multiple (WORM) scheme at the database and storage levels to prevent unintended, premature or malicious alteration or deletion of data. </li><li>  Cost reduction and infrastructure optimization.  Isilon's horizontally scalable NAS provides storage utilization for more than 80%, while Isilon SmartDedupeTM software reduces storage requirements by an additional 35%. </li><li>  EMC Isilon, based on EMC Federated Business Data Lake, supports the HDFS protocol, so all types of data in InfoArchive can be provided for all types of Hadoop. </li><li>  EMC Isilon enables you to quickly add storage without downtime, manually migrating data or reconfiguring application logic, saving valuable IT resources and reducing transaction costs. </li></ul><br><h3>  Life examples </h3><br>  At the end of the article we will give a couple of examples of using InfoArchive to create responsible archiving systems. <br><br>  <b>Example 1</b>  The company processes financial transactions, the data comes to the archive as compressed XML, in 12 simultaneous streams, about 20 million operations per day (about 320 GB XML), 3.6 million / 56 GB per hour, 1017 operations / 16 MB in give me a sec. <br><br><img src="https://habrastorage.org/files/9a6/916/4bd/9a69164bd9d74fb1adcef1973def2b36.png"><br><br>  Load when adding data and search performance does not depend on the number of already archived objects.  Discriminant query processing takes about 1 second (1 result), non-discriminant processing - 4 seconds (200 results). <br><br>  <b>Example 2</b>  At another customer, the data goes to the archive in the form of AFP documents, structured and unstructured data. <br><br>  Average / peak load per day: <br><br><ul><li>  0.5 / 4 million documents </li><li>  20/60 million records </li><li>  50,000 / 70,000 search operations </li></ul><br>  System performance when adding data to the archive: <br><br><ul><li>  1.5 million documents per hour in 12 simultaneous streams (about 60% of the time is spent converting from AFP to PDF), </li><li>  or 45 million structured entries per hour in 10 simultaneous streams. </li></ul><br>  This represents less than 0.5% of the theoretical maximum performance of the EMC Centera storage system used in the project. <br><br><img src="https://habrastorage.org/files/f8a/9e7/67b/f8a9e767b90447888168cb8f0ffd3ab6.png"><br><br><ul><li>  The average document search time is 0.5 seconds. </li><li>  The average time to receive a document is 1.5 seconds. </li><li>  The average search time for structured data among 1 billion records is 2.5 seconds. </li><li>  Up to 15,000 searches per hour. </li></ul><br><h3>  Conclusion </h3><br>  Signing the ‚ÄúSpring package‚Äù is a difficult test for the entire IT and telecom sector.  Nevertheless, the difficult task of creating numerous high-speed and voluminous archives can be solved with the help of <a href="http://russia.emc.com/content-management/infoarchive/infoarchive.htm">EMC InfoArchive</a> - bundles of storage systems and software platform based on xDB, which has wide opportunities for scaling and configuring. </div><p>Source: <a href="https://habr.com/ru/post/305940/">https://habr.com/ru/post/305940/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../305924/index.html">Creating your own graph processing application in Giraph</a></li>
<li><a href="../305926/index.html">How to think in SQL?</a></li>
<li><a href="../305932/index.html">Flume - manage data streams. Part 3</a></li>
<li><a href="../305934/index.html">"Hard time management." We talk about the book, Dan Kennedy</a></li>
<li><a href="../305936/index.html">UX Design: Flags and Switches in Forms</a></li>
<li><a href="../305944/index.html">Tale about a peasant, or how to change dusty "aglitskie" chipset coders</a></li>
<li><a href="../305948/index.html">Mobile UX-Design: How to correctly request user permissions</a></li>
<li><a href="../305950/index.html">The use of cloud technologies in stock trading - features and prospects</a></li>
<li><a href="../305952/index.html">Usability Testing: Do you want to know the truth about your users?</a></li>
<li><a href="../305954/index.html">How do FortiASIC ‚Äã‚Äãprocessors work?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>