<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Smart watch do it yourself for 1500 rubles. Part 3 - the program on MK</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="So it's time to put the source code of the MK firmware, but first I want to thank the bigbee for the new case for my watch, which he printed and sent ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Smart watch do it yourself for 1500 rubles. Part 3 - the program on MK</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/360/bd3/ba4/360bd3ba4c7bb3ef7f59a435330e4b1d.jpg" align="right"><br><br>  So it's time to put the source code of the MK firmware, but first I want to thank the <a href="http://geektimes.ru/users/bigbee/" class="user_link">bigbee</a> for the new case for my watch, which he printed and sent me for free.  Also, thanks to <a href="http://geektimes.ru/users/chameleonka/" class="user_link">Chameleonka</a> for the offer to print the case. <br><br>  So, the program was written in Code Compmser Studio V 5.3.0 <br>  I will not paint the code thoroughly, but I will sign the important points (in my opinion). <br>  Just want to make a reservation that this program is not perfect and is not optimized. <br><a name="habracut"></a><br>  Let's get started 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The program includes a file Symbols.h, containing a table of characters, icons of the notification panel, numbers for hours.  All data is presented in the form of arrays that store data for pixel-by-pixel display on the screen. <br>  Also included is the file TI_USCI_I2C_master.h.  This is the standard library from TI for working with the USCI module as an I2C master for receiving and transmitting data. <br><div class="spoiler">  <b class="spoiler_title">Inclusions and definitions</b> <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;msp430g2553.h&gt; #include "Symbols.h" #include "TI_USCI_I2C_master.h" /* Bit operations */ #define BIT_SET(lval, mask) ((lval) |= (mask)) #define BIT_CLR(lval, mask) ((lval) &amp;= ~(mask)) #define BIT_TEST(val, mask) (((val) &amp; (mask))==(mask)) /* BSL */ #define TXD BIT1 // P1.1: BSL TxD #define RXD BIT5 // P1.5: BSL RxD /* BT */ #define BT_TXD BIT1 // P2.1: UART BT TxD #define BT_RXD BIT0 // P2.0: UART BT RxD #define BT_PWR BIT2 // P2.2, P3.2 #define BT_LED BIT3 // P3.3 /* LCD */ #define PIN_RESET BIT2 // P1.2 RESET #define PIN_SCE BIT3 // P1.3 CS #define PIN_SDIN BIT4 // P1.4 SDA //mosi #define PIN_SCLK BIT1 // P3.1 SCK #define PIN_LED BIT0 // P3.0   #define LCD_C 0 // Command #define LCD_D 1 // Data /* Buttons &amp; vibro */ #define B_CENT BIT4 // P2.4 #define B_UP BIT3 // P2.3 #define B_DOWN BIT5 // P2.5 #define vibro BIT4 // P3.4 /* System configuration */ #define TIMER1A_CLOCK 1000000L // Timer1_A clock rate (1 MHz) #define UART_BAUD 9600 // desired UART baud rate #define BT_BITTIME (TIMER1A_CLOCK/UART_BAUD) // Bit interval #define BT_HALF_BT ((BT_BITTIME+1)/2) // Half-bit interval #define Slave_Address 0x68 // address RTC</span></span></span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Definition of functions</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">check_akkum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">//    void check_bluetooth(void); //   BT void uart_tx_bt(char c); //    BT void uart_puts_bt(char const* s); //    BT void get_time_from_rtc(void); //        FLASH void set_time_to_rtc(void); //     void LcdCharacter(char character); //   void LcdClear(void); //    void clear_1(void); //  ,    void Lcd_set_pos(unsigned char c, unsigned char r); //       void Lcd_set_pos_pix(unsigned char c, unsigned char r); //       void lcd_contrast(unsigned char contrast2); //    void lcd_dig(unsigned char num, unsigned char pos_x, unsigned char pos_y); //   void lcd_dot(unsigned char num, unsigned char pos_x, unsigned char pos_y); //   void LcdWrite(unsigned char dc, unsigned char data); //  /   void LcdString(char *characters); //   void lcd_show_sms(unsigned char a); //   void lcd_show_call(unsigned char a); //   void lcd_show_bt(unsigned char a); //  BT void lcd_show_bat(unsigned char proc); //   void lcd_set_time_big(void); //    void lcd_set_time_small(void); //    (  ) void lcd_show_main(void); //    (   ) void menu_setting(unsigned char submenu); //  void down_sub_menu(void); //    void up_sub_menu(void); //     void parse_string(void); //   </span></span></code> </pre><br></div></div><br>  Configure the MK modules to work with external clock modules: <br><ul><li>  DCO - Built-in frequency 8MHz; </li><li>  Timer0 - PWM for display backlighting; </li><li>  Timer1 - Software UART to communicate with BT; </li><li>  WDT + - Interval timer for checking hours; </li><li>  FLASH - Storage of changeable settings and date / time; </li><li>  ADC10 - ADC for determining the voltage on the battery. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Initialization</b> <div class="spoiler_text"><pre> <code class="cpp hljs"> WDTCTL = WDTPW + WDTHOLD; <span class="hljs-comment"><span class="hljs-comment">//   // init clocks BCSCTL1 = CALBC1_8MHZ; DCOCTL = CALDCO_8MHZ; BCSCTL2 = 0; // MCLK = 8MHz/1,SMCLK = 8MHz/1 BCSCTL3 = LFXT1S_2; // Mode 2 for LFXT1 : VLO = 12kHz __delay_cycles(800000); //  BSL     . 0 BIT_SET(P1DIR, TXD | RXD); BIT_CLR(P1OUT, TXD | RXD); edit_time = 0; //       FLASH' char *a; a = (char*) 0x104d; contrast = *a++; pwm_width = 0x00ff | (*a++) &lt;&lt; 8; timer_off = ((*a++) &amp; 0x00ff) &lt;&lt; 8; timer_off |= ((*a++) &amp; 0x00ff); //    LCD BIT_SET(P1DIR, PIN_RESET + PIN_SCE + PIN_SDIN); BIT_SET(P3DIR, PIN_SCLK); BIT_CLR(P1OUT, PIN_RESET + PIN_SDIN); BIT_CLR(P3OUT, PIN_SCLK); BIT_SET(P1OUT, PIN_SCE); BIT_SET(P3DIR, PIN_LED); BIT_SET(P3OUT, PIN_LED); BIT_SET(P1OUT, PIN_RESET); //   LCD LcdWrite(LCD_C, 0xE2); //   LcdWrite(LCD_C, 0x3D); // Charge pump ON LcdWrite(LCD_C, 0x01); // Charge pump=4 LcdWrite(LCD_C, 0xA4); // LcdWrite(LCD_C, 0x2F); // LcdWrite(LCD_C, 0xC0); //  - LcdWrite(LCD_C, 0xA0); //  - __delay_cycles(800000); LcdWrite(LCD_C, 0xAF); // Display ON LcdClear(); lcd_contrast(contrast); BIT_SET(P3SEL, PIN_LED); BIT_SET(P3DIR, PIN_LED); //     TACTL = TASSEL_2 + ID_0 + MC_1 + TACLR; // SMCLK/1 +    TACCR0 + counter clear TACCR0 = 0x0fff; //   TACCR2 = pwm_width; //     TACCTL2 = OUTMOD_6; //   // init Bluetooth BIT_SET(P3DIR, BT_PWR); BIT_CLR(P3REN, BT_PWR); BIT_SET(P3OUT, BT_PWR); BIT_SET(P2DIR, BT_PWR); BIT_CLR(P2REN, BT_PWR); BIT_SET(P2OUT, BT_PWR); //  ON BIT_CLR(P3DIR, BT_LED); //  bt_on = 1; lcd_show_bt(1); //Timer1  uart TA1CTL = TASSEL_2 + ID_3 + MC_2 + TAIE; //SMCLK/8 + Continous up + interrupt enable TA1CCTL1 = OUT; //Tx TA1CCTL0 = CM_2 + SCS + CAP + CCIE; //Rx // Rx  TX   BIT_SET(P2SEL, BT_TXD + BT_RXD); BIT_SET(P2DIR, BT_TXD); //  .  BIT_SET(TA1CCTL2, CCIE); //   BIT_CLR(P2DIR, B_CENT|B_UP|B_DOWN); //   - IN BIT_SET(P2REN, B_CENT|B_UP|B_DOWN); //   BIT_SET(P2IE, B_CENT|B_UP|B_DOWN); //   BIT_SET(P2IES, B_CENT|B_UP|B_DOWN); //    1/0 (/) BIT_CLR(P2IFG, B_CENT|B_UP|B_DOWN); //    // WDT+   ,  12  - ACLK - VLO WDTCTL = WDTPW + WDTTMSEL + WDTSSEL; BIT_SET(IE1, WDTIE); // vibro -  BIT_SET(P3DIR, vibro); BIT_CLR(P3OUT, vibro); lcd_show_main(); //   __enable_interrupt(); edit_time = 0; get_time = 0; set_time = 0; get_time_from_rtc(); //   __delay_cycles(8000000); set_time_to_rtc(); //   // init ADC ADC10CTL0 = SREF_1 + ADC10SR + REF2_5V + ADC10SHT_2 + REFON + ADC10ON + ADC10IE; ADC10CTL1 = INCH_0; ADC10AE0 |= 0x01; //  0-     </span></span></code> </pre><br></div></div><br>  Interruptions <br>  All interrupt handlers first disable other interrupts, which are turned back on when the handler ends. <br>  When receiving data via BT, either Timer1 is interrupted if the clock is in active mode, or P2 if the clock is in power saving mode. <br>  In LPM3 mode, SMCLK is disabled, respectively, the timer does not work.  If the P2 port is interrupted from BT, we transfer the MC to the active mode and translate the BT_RXD pin to the Timer1 input. <br>  At the end of data reception (the end of message symbol 0x00), the received string is processed.  The first character of the string is an identifier.  ‚Äú1‚Äù - the phone connected to the clock;  "2" - incoming SMS;  ‚Äú3‚Äù - incoming call;  "4" - the text that you just need to display the clock;  ‚Äú5‚Äù - date and time sent from the phone. <br><div class="spoiler">  <b class="spoiler_title">Parse string</b> <div class="spoiler_text"><pre> <code class="cpp hljs"> <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> il; <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> z,k; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (inputString[<span class="hljs-number"><span class="hljs-number">0</span></span>]) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'1'</span></span>: { <span class="hljs-comment"><span class="hljs-comment">//     BT  BIT_SET(P3OUT, vibro); __delay_cycles(1600000); BIT_CLR(P3OUT, vibro); __delay_cycles(1600000); BIT_SET(P3OUT, vibro); __delay_cycles(1600000); BIT_CLR(P3OUT, vibro); __delay_cycles(1600000); BIT_SET(P3OUT, vibro); __delay_cycles(1600000); BIT_CLR(P3OUT, vibro); lcd_show_bt(2); bt_connect = 1; break; } case '2': { //    current_screen = 1; lcd_show_sms(1); lcd_show_call(0); clear_1(); Lcd_set_pos(0, 1); z = 1; il = 1; k = 15; if (multiscreen) { current_screen = 4; while (il &lt; 105) { LcdCharacter(inputString[il]); if (++il &gt; k){ Lcd_set_pos(0, ++z); k += 15; } } LcdCharacter(0x7f); } else while (inputString[il] != 0x00) { LcdCharacter(inputString[il]); if (++il &gt; k){ Lcd_set_pos(0, ++z); k += 15; } } BIT_SET(P3OUT, vibro); __delay_cycles(2800000); BIT_CLR(P3OUT, vibro); __delay_cycles(2400000); BIT_SET(P3OUT, vibro); __delay_cycles(8000000); BIT_CLR(P3OUT, vibro); break; } case '3': { //    current_screen = 1; lcd_show_sms(0); lcd_show_call(1); clear_1(); Lcd_set_pos(0, 2); il = 1; z = 2; k = 15; while (inputString[il] != 0x00) { LcdCharacter(inputString[il]); if (++il &gt; k){ Lcd_set_pos(0, ++z); k += 15; } } call_true = 1; BIT_SET(P3OUT, vibro); __delay_cycles(1600000); BIT_CLR(P3OUT, vibro); __delay_cycles(800000); BIT_SET(P3OUT, vibro); __delay_cycles(8000000); BIT_CLR(P3OUT, vibro); __delay_cycles(1600000); BIT_SET(P3OUT, vibro); __delay_cycles(1600000); BIT_CLR(P3OUT, vibro); __delay_cycles(800000); BIT_SET(P3OUT, vibro); __delay_cycles(8000000); BIT_CLR(P3OUT, vibro); break; } case '4': { //    current_screen = 1; lcd_show_sms(0); lcd_show_call(0); clear_1(); Lcd_set_pos(0, 1); il = 1; z = 1; k = 15; if (multiscreen) { current_screen = 4; while (il &lt; 105) { LcdCharacter(inputString[il]); if (++il &gt; k){ Lcd_set_pos(0, ++z); k += 15; } } LcdCharacter(0x7f); } else while (inputString[il] != 0x00) { LcdCharacter(inputString[il]); if (++il &gt; k){ Lcd_set_pos(0, ++z); k += 15; } } break; } case '5': { //    edit_time = 1; s10 = inputString[1] &amp; 0x0f; s1 = inputString[2] &amp; 0x0f; m10 = inputString[3] &amp; 0x0f; m1 = inputString[4] &amp; 0x0f; h10 = inputString[5] &amp; 0x0f; h1 = inputString[6] &amp; 0x0f; dw = (inputString[7] &amp; 0x0f) + 1 ; d10 = inputString[8] &amp; 0x0f; d1 = inputString[9] &amp; 0x0f; mo10 = inputString[10] &amp; 0x0f; mo1 = inputString[11] &amp; 0x0f; ye10 = inputString[14] &amp; 0x0f; ye1 = inputString[15] &amp; 0x0f; set_time = 1; break; } default: { break; } } if (!multiscreen) for (il = 313; il &gt; 0; il--) inputString[il] = 0;</span></span></code> </pre><br></div></div><br>  The P2 interrupt handler also checks for button presses.  If the button is pressed, it exits the power saving mode.  Also, for each button in the P2 interrupt handler, there is a ‚Äúlong‚Äù pressing test cycle. <br>  WDT + interrupt handler checks the status of BT, gives the command to update the time from the RTC, gives the command to turn on the ADC. <br>  The ADC10 interrupt handler issues a command to update the battery status.  The ADC10 interrupt is triggered after the conversion is completed. <br><div class="spoiler">  <b class="spoiler_title">Work with FLASH</b> <div class="spoiler_text"><pre> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">//    FLASH char *Flash_ptrC; Flash_ptrC = (char *) 0x1040; // Point to beginning of seg C FCTL2 = FWKEY + FSSEL_1 + FN1; // MCLK/3 for Flash Timing Generator FCTL1 = FWKEY + ERASE; // Set Erase bit FCTL3 = FWKEY ; // Clear LOCK *Flash_ptrC = 0x00; // Dummy write to erase Flash seg C FCTL1 = FWKEY + WRT; // Set WRT bit for write operation Flash_ptrC = (char *) 0x1040; // Point to beginning *Flash_ptrC++ = s10; // 0x1040 *Flash_ptrC++ = s1; // 0x1041 *Flash_ptrC++ = m10; // 0x1042 *Flash_ptrC++ = m1; // 0x1043 *Flash_ptrC++ = h10; // 0x1044 *Flash_ptrC++ = h1; // 0x1045 *Flash_ptrC++ = dw; // 0x1046 *Flash_ptrC++ = d10; // 0x1047 *Flash_ptrC++ = d1; // 0x1048 *Flash_ptrC++ = mo10; // 0x1049 *Flash_ptrC++ = mo1; // 0x104a *Flash_ptrC++ = ye10; // 0x104b *Flash_ptrC++ = ye1; // 0x104c *Flash_ptrC++ = contrast; // 0x104d *Flash_ptrC++ = (pwm_width &amp; 0xff00) &gt;&gt; 8; // 0x104e *Flash_ptrC++ = (timer_off &amp; 0xff00) &gt;&gt; 8; // 0x104f *Flash_ptrC++ = (timer_off &amp; 0x00ff); // 0x1050 FCTL1 = FWKEY; // Clear WRT bit FCTL3 = FWKEY + LOCK; // Set LOCK //    FLASH char *a; a = (char*) 0x1040; s10 = *a++; s1 = *a++; m10 = *a++; m1 = *a++; h10 = *a++; h1 = *a++; dw = *a++; d10 = *a++; d1 = *a++; mo10 = *a++; mo1 = *a++; ye10 = *a++; ye1 = *a++; contrast = *a++; pwm_width = 0x00ff | (*a++) &lt;&lt; 8; timer_off = ((*a++) &amp; 0x00ff) &lt;&lt; 8; timer_off |= ((*a++) &amp; 0x00ff);</span></span></code> </pre><br></div></div><br><br>  Sources of the program <a href="https://github.com/winkingsl/smatr-watch-on-msp430">here</a> <br><br>  And another photo of the new body: <br><img src="https://habrastorage.org/getpro/habr/post_images/ff1/197/fa7/ff1197fa73a6b045edc6b7198b7e94ff.jpg"><br><img src="https://habrastorage.org/getpro/habr/post_images/870/9e0/523/8709e0523425c51c37603ca4082df26d.jpg"><br><br>  As always, I look forward to questions and comments. <br><br>  <a href="http://habrahabr.ru/post/218495/">Part 1 - Start</a> <br>  <a href="http://habrahabr.ru/post/218645/">Part 2 - Board and Components</a> </div><p>Source: <a href="https://habr.com/ru/post/219773/">https://habr.com/ru/post/219773/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../219763/index.html">To hold a student programming contest: our experience</a></li>
<li><a href="../219765/index.html">Cryptofon from InfoTeKS and Yota</a></li>
<li><a href="../219767/index.html">New image recognition algorithm from Google is able to recognize CAPTCHA with an accuracy of 99.8%</a></li>
<li><a href="../219769/index.html">Crank English with LinguaLeo: create thematic dictionaries, train your memory and train in a group!</a></li>
<li><a href="../219771/index.html">Service capable of rating your employees and business</a></li>
<li><a href="../219777/index.html">Facebook Web Injection for delivering Android mobile bot</a></li>
<li><a href="../219779/index.html">Sharing code between WP, Win8. Part 2</a></li>
<li><a href="../219781/index.html">Google received a patent for contact lenses with a video camera.</a></li>
<li><a href="../219783/index.html">Chrome Remote Desktop - now connect to PC and from Android smartphone</a></li>
<li><a href="../219787/index.html">A graduate student from Berkeley restored the look of a plant that lived 375 million years ago.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>