<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Service online task management, our view</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Once, having darted around in search of an online task management system, it was decided to write my own ‚Äúbicycle‚Äù. But with a bias in that area, whic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Service online task management, our view</h1><div class="post__text post__text-html js-mediator-article"> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/42e/4db/dba/42e4dbdbac342f228b3d90aba18664a8.png"></a> <br>  Once, having darted around in search of an online task management system, it was decided to write my own ‚Äúbicycle‚Äù.  But with a bias in that area, which, for example, is more important to me - taking into account future and repetitive tasks, and I have not seen a competent approach to this issue in any existing service. <br><br>  Similar systems are written by a huge number of developers, even some trends can be traced: <br><ul><li>  most of the project management, i.e.  bias towards collaboration, setting tasks to other users and other types of collaboration </li><li>  Approaches to certain issues are very similar to market leaders (Google calendar with its principles of setting repetition of tasks, for example).  Few people do a normal tree view of tasks, since  If this is not particularly common, it means that it is not particularly in demand.  But for some reason I always get into the group of users who lack the ability to tweak something, rummage through the settings.  A separate song - the ideology of Apple, where in most cases the program settings are reduced to a couple of checkmarks.  Sometimes this approach even offends. </li></ul><br><a name="habracut"></a><br>  In short, I will immediately inform you of the key functions of the system (i.e., those that are either not widely distributed among analogs or are not found at all): <br><ul><li>  subtasks, folders, subfolders, unlimited nesting </li><li>  repetitive tasks (several repetition methods) </li><li>  one-way and two-way synchronization with Google Tasks </li><li>  triggers (defined actions for creating, modifying, deleting tasks, time, etc.) </li><li>  custom filters (customizable up to SQL query) </li></ul><br>  So, there was a small number of dedicated servers in DC Hetzner (Germany), rented for business needs, but poorly used (the main purpose is data storage, so the load is low).  Also had experience developing in T-SQL, Delphi, Visual C, .NET.  Very little experience was in Javascript, I had to make up. <br><br>  We are one and a half developers and many subordinate users - testers.  The system is actively used in daily work, not related to the development of software.  The specifics of the work are such that there are many similar tasks, many of them have not yet arrived, but you need to be able to see and do them in advance. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For example, the account of powers of attorney.  The main task is not to miss its expiration date and take actions to extend it in advance.  The following features were used for this: <br><ul><li>  a month before the end of the power of attorney was notified by mail (trigger) </li><li>  a week before the end of the power of attorney, the task of extending it was marked as important and, accordingly, was displayed in the list of the most important cases (trigger) </li><li>  a separate filter displayed all powers of attorney expiring within a month </li><li>  a separate filter displayed all powers of attorney expiring in the next three months </li></ul><br>  First of all, a certain disclaimer.  We did not try to make another ‚Äúcombine‚Äù, our service is not a system for, for example, bugtracking, since  This is a completely different specifics.  The service is primarily focused on ordinary "advanced" users who need a little more from task management systems, the scope of application is personal tasks (buy, track, remind, etc.) with the possibility of sharing with other users (let them, relatives, Colleagues). <br><br>  What they didn‚Äôt even try to realize: <br><ul><li>  time tracking </li><li>  bugtracking analogs </li><li>  communication, all sorts of social buttons </li><li>  strict compliance with the canons of GTD.  More precisely, everything seems to be necessary for this (the ‚ÄúContext‚Äù field, tags with unlimited nesting), but did not specifically focus on the GTD technique. </li></ul><br>  I needed the following from task management (the list is, of course, incomplete, but indicative): <br><ol><li>  The list of tasks is fundamentally in a tree-like form, with folders and subfolders, nesting should be unlimited (whatever they say about the fact that three levels of nesting are enough for everyone - bullshit) </li><li>  adding tasks by e-mail, and when sent to different addresses - in different subfolders </li><li>  accounting of household affairs (payment by receipt, checking the oil in the car, tracking the deadlines for payment, etc. with varying degrees of frequency, auto-repetition and setting up notifications about all this in completely different ways - I wanted to warn myself about payment three times, and about some events - warned about the delay for more than a week) </li><li>  at work - there is complexity in quantity - it was necessary to track the deadlines for powers of attorney, contracts, certificates, etc., and it was also necessary to set up notifications about the deadlines.  The number of these tasks is hundreds, so none of the existing task managers have either coped with this or the implementation of all this was inconvenient. </li><li>  viewing the agenda (the list of current affairs) except for today also for any arbitrary period, and with sophisticated filtering, for example, in one list it was necessary to display current tasks, tasks that will start in the coming week plus all household tasks, except unimportant tasks (with a small priority) </li><li>  give access to read-only who needs all this </li><li>  give write access to whoever is needed, and with the rights to change only certain fields of the task (for example, an employee who can only change the status of the task) </li><li>  use of time zones, since  colleagues work with the same data, but in different time zones, so all dates used should be adjusted to the desired time zone </li><li>  system of tags (tags) - necessarily tree-like, with the possibility of sharing (i.e., that certain tags are visible to other users, and others - only to me) </li><li>  the possibility of temporarily hiding some tasks (for example - some kind of callus in the eyes - we hide it for 2 days, after which it will appear again).  By the way, such a mechanism can be implemented in other ways. </li></ol><br>  Well and, it is clear that common basic functions are also needed: <br><ul><li>  outputting and sending to the email of the agenda (configured as a simple option - just a list of emails every day at the appointed time, and as a trigger on a schedule - the necessary task branches are sent by editing the text of the letter) </li><li>  custom fields (customizability, however, is only to change the name, the change of the data type is not implemented until you see the need) </li><li>  customizable appearance of tasks (font, icon, colors) </li><li>  arbitrary sorting of subtasks of each task according to three criteria (tasks, I repeat, many, therefore, no sorting at all) </li><li>  RSS feed with customizable notifications (well, I like lying down to look through feedly, at the same time to look at my notification tape) </li><li>  Field "Progress" with a graphical display (in fact, very few people really need) </li><li>  Task Priorities </li></ul><br>  4 months of work and in the end I got a kind of ‚Äúengine‚Äù for taking into account the tasks, all I wanted was to implement it. <br><br><h4>  Briefly about the result. </h4><br>  The basic unit of information is the task.  The task has a start date and an end date (due date).  If everything is clear with the due date, then it‚Äôs worth explaining the start date, since  not all similar systems have it.  In essence, this is the date from which the task is considered relevant.  Those.  Assigning a date to a task, it will not appear in the task list until this date comes. <br><br>  The basis of grouping tasks and sharing access is the concept of ‚ÄúTask List‚Äù.  Those.  a certain set of tasks, for example, ‚ÄúHome‚Äù, ‚ÄúWork‚Äù, ‚ÄúComputer‚Äù, etc. In other systems this may be called a tasklist, project, calendar, workspace, etc.  Also, the function of such a division - each list has its own settings of access rights for sharing and its own time zone settings. <br><br>  Separately about time zones.  It seems to me that in practice this is not very necessary for anyone, but we just needed it to be critical.  Several of our employees and those who have been granted access work in completely different time zones, editing and viewing tasks from the same lists.  If, when setting the date of a task, you specifically do not need to specify a specific time, then when setting up notifications, triggers, it is sometimes necessary to specify a specific time, for example, to change the task status daily at 20-00.  Those.  the status change should occur exactly at 20-00 of the time zone of the user who set the trigger.  To correctly implement this, a time zone is set for each user and a specific task list. <br><br>  With regard to access rights, then came to the following decision.  The user can delegate the right to view / edit a specific task list to another user. <br><br>  The following rights may be established: <br><ul><li>  View only </li><li>  Adding tasks only </li><li>  Only editing tasks </li><li>  Only delete tasks </li><li>  Editing and deleting tasks </li><li>  Editing and adding tasks </li><li>  Adding and deleting tasks </li><li>  Full access </li></ul><br>  Additionally, subject to the right to edit, a list of fields that are prohibited for the user to edit is established.  This allows you to implement such a mechanism for user interaction when working together - someone who owns the rights sets tasks, and someone else who has only a limited set of rights can only mark tasks as completed.  Those.  You can set tasks without worrying that someone will erase the task itself or correct something in it.  It is clear that in project management systems all of this is implemented at a higher level, but we did not try to embrace the immense and implemented a basic set. <br><br>  View the task tree is possible on any date, both past and future.  Since  information about the tasks is stored regardless of the current date, you can poke any future date and see the status of the tasks on that date.  For example, often, when there is too much time, I want to do something in advance, but if the time has not come yet, then future tasks are not yet shown, because  they are in the future.  We poke a future date - and see what can be done from future tasks. <br><br><h4>  Filtration </h4><br>  Using custom filters you can realize the following wishes: <br><ul><li>  task list only from a specific folder (for example, with or without subfolders) </li><li>  task list for next week only </li><li>  in one list - tasks from a specific list of tasks for the next week, from another list - only ones that are past due for 1 month </li></ul><br>  Filters - a thing quite comfortable and flexible, but few people screwed it well.  To make it really convenient, you need the ability to group the criteria, it is implemented (thanks to DevExpress, here they have the lion's share of merit). <br><br>  Later it turned out that the benefits of filters are much greater - they can be used to determine the set of agendas sent to the user every day, plus determine the tasks that need to be synchronized with the google tasks.  But we‚Äôll write about google tasks separately. <br><br><h4>  Mobile version. </h4><br>  I myself spend 80% of my free time on the iPad, so the question of creating an application for iOS / Android was not - it was necessary.  And it was decided not to develop it.  Totally.  They went another way - by flexible synchronization with Google Tasks, you can transfer the main part of your daily work (main task editing, viewing and performance marks, i.e., the main functional tasks) to Google Tasks, and synchronize all information periodically (two-way or one-way). ) with the service.  More precisely, the synchronization is automatic, more precisely, periodic (push Google Tasks does not support).  Applications for Google Tasks are more than enough, some are just masterpieces.  Why not reinvent the wheel in this part, but use other people's work :) <br><br><h4>  The technical side. </h4><br>  The service is written in ASP.NET, spinning on one dedik.  DB - PostgreSQL, spinning on the other. <br>  It was originally written in MSSQL, but then it became clear that the postgres is more suitable.  It was too heavy to rewrite everything for postgres, but it was worth it. <br>  80% of business logic is implemented in the database, so it somehow works faster. <br>  Used server components DevExpress - the main load lies on ASPxTreeList.  Yes, it was necessary to use server components, let this extra traffic for the client, but otherwise do not implement the work with thousands of tasks and some functions.  Yes, this leads to a certain inertia of the work of the "tree", but the "response" of the order of 200-300 ms is almost imperceptible, therefore it has.  Of the similar components I tried and Telerikov, but there are very unpleasant brakes when folding / unfolding the tree, it is uncomfortable to work. <br>  ASP.NET WebForms is used, I know that the technology is a bit outdated, but almost all the work is focused on one page and the constant callbacks of one element, so the transition to MVC would give little.  And the eternal problem of oversize ViewState seems to have minimized. <br>  Two separate applications made mail operations (receiving tasks by mail and sending) and synchronizing with Google Tasks.  They wrote on Delphi. <br><br><h4>  Again disclaimer </h4><br><ol><li>  For the sake of speeding up development, many relatively infrequently used parts of the interface (editing task lists, triggers) are written using ready-made controls from DevExpress, so a bit heavy </li><li>  All common browsers are supported, but there may be problems with older versions.  IE8 sometimes gives errors, but since  there is no clean IE8 at hand, hands have not reached the point of correcting errors yet. </li><li>  Synchronization with Google Tasks is working, but angry Google has not sufficiently increased the quota for requests to their API, so theoretically, in the event of an influx of users who configure this feature, it is possible to stop synchronization at night at first.  I'll beat their support as much as I can. </li></ol><br><h4>  Monetization and data security </h4><br>  Monetization in the foreseeable future, of course, is not planned.  If it is, it is only in the case of a constant growth of active users and an increase in the need for capacity.  At the moment, we have enough resources to allocate a couple of servers for this project without hesitation, especially at hetzner prices.  In which case - you can increase the amount.  If any paid accounts are entered, then the correct practice is that previously registered users will receive a lifetime free ‚Äúpremium‚Äù account.  About data integrity - in case of closing the service, all users will be notified and there will be at least two months for data transfer.  If someone knows how best to offer users to back up data - please let us know.  For the time being, nothing happens to me except Google Tasks synchronization.  It is possible to fasten the export, for example, in csv. <br><br><h4>  Plans </h4><br><ul><li>  Integration with google calendar.  In the process.  While there is no clear understanding in what form it is beautiful to implement, because  There are no analogues. </li><li>  Optimization, optimization, optimization.  Especially the use of client traffic.  Plus for old browsers. </li><li>  SSL </li><li>  Add temporary options for repetition and scheduling of tasks (while basic periodicities are implemented) </li><li>  I rushed to write a calendar view of the tasks, I wrote, but then I decided to focus on the standard tree view, since  it is not necessary to immediately grab everything, without making the already implemented one non-buggy. </li></ul><br>  Well, a little later I will post a post in more detail about the triggers and synchronization with Google Tasks, there is something to tell. <br>  Link to the service itself - <a href="http://betasked.ru/">betasked.ru</a> <br>  <b>UPD</b> In my opinion, many who were afraid of the first screen, but nothing prevents to remove unnecessary fields, choose a design theme and work like this: <br><img src="https://habrastorage.org/getpro/habr/post_images/430/3a3/d3a/4303a3d3a457196d44f2fb71c0e034b9.png"><br>  or so: <br><img src="https://habrastorage.org/getpro/habr/post_images/935/0d2/b2c/9350d2b2ca7fc0a59274341de47a18e6.png" alt="image"></div><p>Source: <a href="https://habr.com/ru/post/204102/">https://habr.com/ru/post/204102/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../204088/index.html">Good news: Maya for game developers at a price of 70 euros.</a></li>
<li><a href="../204090/index.html">Flyme 3 Review</a></li>
<li><a href="../204094/index.html">IOS kernel ported to Nokia N900</a></li>
<li><a href="../204096/index.html">Black Friday, not only on Steam, but also on Amazon.com</a></li>
<li><a href="../204098/index.html">Developing a full-fledged API - application for the software package SolidWorks. Bolt model</a></li>
<li><a href="../204104/index.html">Lexicon Habra</a></li>
<li><a href="../204108/index.html">Report and assignments from the All-Russian Olympiad on Administration of Linux-systems</a></li>
<li><a href="../204114/index.html">Black Friday Sale Sale</a></li>
<li><a href="../204116/index.html">Python-digest # 4. News, interesting projects, articles and interviews [November 23, 2013 - November 29, 2013]</a></li>
<li><a href="../204118/index.html">Do you collect gadget artifacts?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>