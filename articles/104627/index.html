<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We program LED on the phone</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Although the Android API does not allow you to directly turn on or off the LED indicator or camera flash, on some phones there is such an opportunity....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We program LED on the phone</h1><div class="post__text post__text-html js-mediator-article"><img align="right" src="https://habrastorage.org/storage/93ba8a48/e7e57131/2ce04749/63d3a2b6.jpg"><br>  Although the <a href="http://developer.android.com/reference/packages.html">Android API</a> does not allow you to directly turn on or off the LED indicator or camera flash, on some phones there is such an opportunity. <br><br>  How to programmatically flash with multi-colored lights, how to write your own ‚ÄúFlashlight‚Äù or what other device LEDs can be controlled - you will learn about it below. <a name="habracut"></a><br><br>  It all started with the fact that I, while exploring the file system of my HTC Desire using <a href="">ES Explorer</a> , accidentally stumbled upon interesting directories: <code>/sys/class/leds/blue</code> , <code>/sys/class/leds/flashlight</code> , etc. <br>  What other blue ?!  I only saw the orange and green lights.  But the most interesting is that inside these directories there is a <code>brightness</code> file with the right to write!  What I immediately took advantage of. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In fact, this is not a simple file, but an interface for working with the LED driver.  So, having <code>/sys/class/leds/blue/brightness</code> positive number in the <code>/sys/class/leds/blue/brightness</code> file, we will turn on the blue indicator on the phone, write 0 to turn it off.  Similar to the amber and green indicators.  Turning two LEDs together, we get new colors: <nobr>amber + blue = purple;</nobr>  <nobr>green + blue = aqua.</nobr> <br><table><tbody><tr><th>  Subdirectory in / sys / class / leds </th><th>  What is responsible </th></tr><tr><td>  lcd backlight </td><td>  The brightness of the display.  The brightness file is written number from 0 to 255: more - brighter. </td></tr><tr><td>  flashlight </td><td>  The brightness of the LED flash.  Possible values: 0, 127, 128, 255. </td></tr><tr><td>  button-backlight </td><td>  Button illumination (on / off). </td></tr><tr><td>  amber <br>  green <br>  blue </td><td>  Orange, green and blue indicators (on / off), <br>  as well as the purple (amber + blue) and cyan (green + blue) indicators. </td></tr></tbody></table><br><h5>  And now how this is all programmed </h5><br> <code><font color="#0000ff">public</font> <font color="#0000ff">void</font> ledControl(String name, <font color="#0000ff">int</font> brightness) {&lt;br&gt; <br> <font color="#0000ff">try</font> {&lt;br&gt; <br> FileWriter fw = new FileWriter( <font color="#666666">"/sys/class/leds/"</font> + name + <font color="#666666">"/brightness"</font> );&lt;br&gt; <br> fw.write(Integer.toString(brightness));&lt;br&gt; <br> fw.close();&lt;br&gt; <br> } <font color="#0000ff">catch</font> (Exception e) {&lt;br&gt; <br> <font color="#00a000">//  LED </font> &lt;br&gt; <br> }&lt;br&gt; <br> }&lt;br&gt; <br> &lt;br&gt; <br> <font color="#00a000">//   </font> &lt;br&gt; <br> ledControl( <font color="#666666">"amber"</font> , <font color="#666666">255</font> );&lt;br&gt; <br> ledControl( <font color="#666666">"blue"</font> , <font color="#666666">255</font> );&lt;br&gt; <br> &lt;br&gt; <br> <font color="#00a000">//   </font> &lt;br&gt; <br> ledControl( <font color="#666666">"lcd-backlight"</font> , <font color="#666666">30</font> );&lt;br&gt; <br> &lt;br&gt; <br> <font color="#00a000">//   </font> &lt;br&gt; <br> ledControl( <font color="#666666">"button-backlight"</font> , <font color="#666666">0</font> );&lt;br&gt; <br> &lt;br&gt; <br> <font color="#00a000">//    </font> &lt;br&gt; <br> ledControl( <font color="#666666">"flashlight"</font> , <font color="#666666">128</font> );&lt;br&gt; <br></code> <br>  The example application with source codes can be downloaded <a href="">here</a> . <br><img src="https://habrastorage.org/storage/8edecbfc/64f4b3b3/8a036210/f6701272.png"><br><br><h5>  Conclusion </h5><br>  Everything!  Now the phone glows like a Christmas tree.  The code was checked only on HTC Desire running Android 2.2, but it can probably work on other devices.  Email me if it works or fails to focus on your phone. </div><p>Source: <a href="https://habr.com/ru/post/104627/">https://habr.com/ru/post/104627/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../104620/index.html">And the reader, and the dude igrets</a></li>
<li><a href="../104621/index.html">Load balancing with LVS</a></li>
<li><a href="../104622/index.html">About rubber sites and about sore</a></li>
<li><a href="../104623/index.html">Getting a US visa</a></li>
<li><a href="../104624/index.html">Windows Aero effect on pure HTML + CSS + JS</a></li>
<li><a href="../104628/index.html">Client-side templating is already a reality</a></li>
<li><a href="../104630/index.html">VLC player ported to iPad</a></li>
<li><a href="../104632/index.html">Hexlet.ru: "collective computer science student"</a></li>
<li><a href="../104633/index.html">Export to mail.app from Qt application</a></li>
<li><a href="../104634/index.html">Adobe Photoshop. Look back</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>