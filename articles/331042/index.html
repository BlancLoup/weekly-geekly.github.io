<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Life hacking editor Unity 3D. Part 1: Attributes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Content 


- Part 0. The list of GUI elements used in the articles. 
- Part 1. Attributes 
- Part 2. Windows 
- Part 3. Class editor, heir from MonoBe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Life hacking editor Unity 3D. Part 1: Attributes</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/77d/57e/ca8/77d57eca8859703f5788d052b9cfba88.png"><br><h3>  Content </h3><br><ul><li>  Part 0. The list of GUI elements used in the articles. </li><li>  <b>Part 1. Attributes</b> </li><li>  Part 2. Windows </li><li>  Part 3. Class editor, heir from MonoBehavior or ScriptableObject </li><li>  Part 4. Class editor, custom editor for a variable to be serialized. </li></ul><br><h3>  Foreword </h3><br>  Hello, friends!  I noticed that many programmers skip the rich possibilities for Unity to customize the editorial interface for one reason or another.  In this series of articles, I will write out a few very simple examples that allow game designers and artists to make life easier, as well as a couple of more complicated examples, but also easily implemented. <br><br>  The most part is taken from the experience of use, where it came from the native documentation of the engine.  You can easily find the information you need by flipping the Unity 3D documentation.  I simply say from my own experience that many programmers either have no time or no desire to delve into mantras.  Therefore, I am spreading the briefest guide on the main editorial features that I used at work and in my projects. <br><a name="habracut"></a><br><h3>  Inline Attributes </h3><br>  I will not paint all the attributes, I will sign only briefly those that I had to use myself. <br><br><h4>  Attributes to methods </h4><br>  <b>Menu item</b> <br>  <a href="https://docs.unity3d.com/ScriptReference/MenuItem.html">Unity - Scripting API: MenuItem</a> <br><div class="spoiler">  <b class="spoiler_title">Screenshots</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/8e5/fa9/aa9/8e5fa9aa908ee97e70b1cce9c161f67d.png"><br></div></div><br><pre><code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">MenuItem(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Tools/Initialization Project"</span></span></span><span class="hljs-meta">)</span></span>]</code> </pre> <br>  Allows you to create a menu to access the static method.  The ‚Äú/‚Äù indicates the hierarchy.  You can place new buttons in the standard main menu of the engine, indicating the path, for example, ‚ÄúFile / Create New Asset‚Äù. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It can contain three parameters. <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">string</span></span> path <span class="hljs-comment"><span class="hljs-comment">//    bool valudate //      (   ) int order //      </span></span></code> </pre> <br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">MenuItem(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Tools/Initialization Project"</span></span></span><span class="hljs-meta">, true)</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ValidateInitialization</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//   ,     return Selection.gameObjects.Length &gt; 0; }</span></span></code> </pre> <br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">MenuItem(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Tools/Initialization Project"</span></span></span><span class="hljs-meta">)</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Initialization</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//do something... }</span></span></code> </pre> <br>  Also, if you use the main menu items, then an additional button will appear not only there, but also in the context menu of the right mouse button.  For example, in my project, I added copying the path to an asset. <br><br>  In addition, you can assign hot keys to methods.  For this, right on the way to the menu, you need to write the necessary combination.  To do this, use one of the service characters + letter. <br>  <b>%</b> - ctrl on Windows or cmd on OSX <br>  <b>#</b> - shift <br>  <b>&amp;</b> - alt <br>  In my project, with copying the path to an asset, it looks like this <br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">MenuItem(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Assets/Copy Path %&amp;c"</span></span></span><span class="hljs-meta">)</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CopyAssetPath</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { }</code> </pre> <br><br>  <b>Context menu item</b> <br>  <a href="https://docs.unity3d.com/ScriptReference/ContextMenu.html">Unity - Scripting API: ContextMenu</a> <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">UnitController</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehavior</span></span> { [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Transform transform = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-comment"><span class="hljs-comment">//     ,    //        [ContextMenu("Initialization")] public void Initialization() { tranform = GetComponent&lt;Transform&gt;(); } }</span></span></code> </pre> <br><br><h4>  Attributes to variables </h4><br><div class="spoiler">  <b class="spoiler_title">Sample Signature, Tips, and Clamper</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/6c6/a31/50c/6c6a3150cb808ba484d5cf27cd12c4ce.png"><br></div></div><br>  <b>Limit the input value</b> <br>  <a href="https://docs.unity3d.com/ScriptReference/RangeAttribute.html">Unity - Scripting API: RangeAttribute</a> <br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Range(float min, float max)</span></span>]</code> </pre> <br>  You can say, this is a custom editor for an attribute that allows you to set the boundaries of the specified value through the inspector.  Not klampit in realtime - only in the inspector.  Useful if you specify, for example, the probability of falling out of objects from 0 to 1 or from 0 to 100. <br><br>  <b>Signature</b> <br>  <a href="https://docs.unity3d.com/ScriptReference/HeaderAttribute.html">Unity - Scripting API: HeaderAttribute</a> <br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Header(string title)</span></span>]</code> </pre> <br>  Specifies the caption over the field to be serialized, which is displayed in the inspector. <br><br>  <b>Indent</b> <br>  <a href="https://docs.unity3d.com/ScriptReference/SpaceAttribute.html">Unity - Scripting API: SpaceAttribute</a> <br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Space</span></span>]</code> </pre> <br>  Sets the indent in the inspector. <br><br>  <b>Tooltip</b> <br>  <a href="https://docs.unity3d.com/ScriptReference/TooltipAttribute.html">Unity - Scripting API: TooltipAttribute</a> <br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Tooltip(string tip)</span></span>]</code> </pre> <br>  Sets a hint to the inspector when hovering over a variable to be serialized. <br><br>  <b>Variable serialization</b> <br>  <a href="https://docs.unity3d.com/ScriptReference/SerializeField.html">Unity - Scripting API: SerializeField</a> <br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>]</code> </pre> <br>  Allows serialization of variables regardless of their scope.  A very useful attribute that allows you to make all class variables private, but customizable in the inspector. <br><br>  <b>Disable serialization</b> <br>  <a href="https://docs.unity3d.com/ScriptReference/NonSerializable.html">Unity - Scripting API: NonSerializable</a> <br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">NonSerializable</span></span>]</code> </pre> <br>  Allows you to remove the serialization of public variables.  I highly recommend the data approach.  It is better to define the property get; set;  and get data on it.  In addition, the property can be made virtual and reloaded, if necessary, in the classes of heirs.  And the fact that it is public allows it to be used in interfaces. <br><br>  <b>Hiding a variable in the inspector</b> <br>  <a href="https://docs.unity3d.com/ScriptReference/HideInInspector.html">Unity - Scripting API: HideInInspector</a> <br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">HiddenInInspector</span></span>]</code> </pre> <br>  Allows you to hide the serializable field in the inspector.  It doesn't matter if it is public or private / protected with the SerializeField attribute. <br><br><h4>  Class Attributes </h4><br>  <b>Creating a child instance from ScriptableObject</b> <br>  <a href="https://docs.unity3d.com/ScriptReference/CreateAssetMenuAttribute.html">Unity - Scripting API: CreateAssetMenuAttribute</a> <br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">CreateAssetMenu(menuName = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Entity/Weapon"</span></span></span><span class="hljs-meta">)</span></span>]</code> </pre> <br>  ScriptableObject is a very useful class that allows you to store a conditional database in a project without resorting to prefabs.  The project creates objects with the type you created.  You can also work as with prefabs, have their advantages and disadvantages.  In general, this class is a topic for a separate article, small but informative. <br>  The above attribute allows you to create an object with your type in the project, along the path where you opened the context menu. <br><br>  <b>Execution in the editor</b> <br>  <a href="https://docs.unity3d.com/ScriptReference/ExecuteInEditMode.html">Unity - Scripting API: ExecuteInEditMode</a> <br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">ExecuteInEditMode</span></span>]</code> </pre> <br>  Allows the script to work in the editor.  It is mainly useful for post-effects, because it allows you to immediately evaluate the result in the camera without starting the project.  But sometimes you can use for other purposes. <br><br>  For example, as an initializer for serializable fields of built-in types, such as transform, renderer, rectTranform, etc.  I would not recommend it everywhere, it is better to require manual initialization, or to write an editorial script, but sometimes it is convenient. <br><br>  <b>The need for another component</b> <br>  <a href="https://docs.unity3d.com/ScriptReference/RequireComponent.html">Unity - Scripting API: RequireComponent</a> <br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">RequireComponent(System.Type type)</span></span>]</code> </pre> <br>  Causes the editor to require the presence of a specific component on the same object on which the script with this attribute hangs.  When added, it immediately creates components of the specified type on the same object.  Also prohibits deleting an already added component. <br><br>  <b>New item in the add component menu</b> <br>  <a href="https://docs.unity3d.com/ScriptReference/AddComponentMenu.html">Unity - Scripting API: AddComponentMenu</a> <br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">AddComponentMenu(string path)</span></span>]</code> </pre> <br>  Adds a submenu to the drop-down list in the Components ‚Üí ... and AddComponent menu.  Conveniently, if you have a large library of code and need to organize it in the editor. <br><br>  At this, the simple part ends and add quite a bit of moderately complex. <br><br><h3>  Custom Attributes (CustomPropertyDrawer) </h3><br>  <a href="https://docs.unity3d.com/ScriptReference/PropertyAttribute.html">Unity - Scripting API: PropertyAttribute</a> <br>  <a href="https://docs.unity3d.com/ScriptReference/PropertyDrawer.html">Unity - Scripting API: PropertyDrawer</a> <br>  If the attributes listed above are not enough for you, you can always use the API to write your own custom attributes.  The implementation of this tool is also quite simple and consists of several steps.  In this example, I will describe the creation <br>  own attribute to a variable. <br><br>  First, you need to define a descendant class from the standard PropertyAttribute class.  I will immediately create it with a constructor, in which the input parameter will be the path to the list of what we need to use in the attribute. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">IntAttribute</span></span> : <span class="hljs-title"><span class="hljs-title">PropertyAttribute</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> path = ‚Äú‚Äù; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IntAttribute</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> path</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.path = path; } }</code> </pre> <br>  Secondly, after that we create an editor script in which we will draw this newest class.  You need to inherit it from PropertyDrawer, and also write the CustomPropertyDrawer attribute to it. <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">CustomPropertyDrawer(typeof(IntAttribute ))</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">IntAttributeDrawer</span></span> : <span class="hljs-title"><span class="hljs-title">PropertyDrawer</span></span> { }</code> </pre> <br>  I call classes the most common names in order to simply show how to use customizable ones. <br><br>  The base is ready, now we need to draw this attribute in the form in which we need it.  Basically, I use attributes in cases where enumeration capabilities are not enough, but you need to draw a drop-down list with a choice. <br><br>  For example, you have an effects database that has an id ‚Üí effect match.  You store this base somewhere, no matter in a ScriptableObject or on some kind of prefab.  Here is the simplest implementation of the ‚Äúrepository‚Äù <br><br>  <i>Note - always create the first serializable field in classes in strings.</i>  <i>Because of this, in the lists, elements will not be referred to as element 1, element 2 .., but in the manner in which you assign a variable in the inspector.</i> <br><br><h3>  Code </h3><br>  For classes that I interact with ‚Äúfrom the outside,‚Äù I always write the interface.  Everyone has his own approach to this moment, but this approach will easily allow, in which case, to replace the class only in one place with another, and the rest will work with the interface.  Moreover, the unit supports working with interfaces in such methods as GetComponent (s) ..., GetComponent (s) InChildren, etc. <br><br>  <b>Interface and effect class</b> <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IResource</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ID { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Name { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } } [System.Serializable] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Effect</span></span> : <span class="hljs-title"><span class="hljs-title">IResource</span></span> { [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> name = ‚Äú‚Äù; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> id = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ID { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> id; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Name { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> name; } } }</code> </pre> <br>  <b>Interface and container class</b> <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IContainer</span></span> { IResource[] Resources { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ResourcesContainer</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span>, <span class="hljs-title"><span class="hljs-title">IContainer</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span> IResource[] Resources { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">EffectsContainer</span></span> : <span class="hljs-title"><span class="hljs-title">ResourcesContainer</span></span> { [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Effect[] effects = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> IResource[] Resources { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> effects; } } }</code> </pre><br>  Usually, I place objects with such data in resources, then take them from there.  You can locate and just in the project and where you need to define links.  But I am going along a simpler path that has already been tested on more than one platform. <br><br>  <b>Editor</b> <br>  It remains to add the editor: <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">CustomPropertyDrawer(typeof(IntAttribute ))</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">IntAttributeDrawer</span></span> : <span class="hljs-title"><span class="hljs-title">PropertyDrawer</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>[] values = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> List&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; idents = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Init</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">SerializedProperty property</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (attribute != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { IntAttribute intAttribute = (IntAttribute)attribute; <span class="hljs-comment"><span class="hljs-comment">//    null, ,  ,    IResource[] resources = Resources.Load&lt;IContainer&gt;(intAttribute.Path).Resources; values = new string[resources.Length + 1]; idents = new List&lt;int&gt;(resources.Length + 1); //     -1  values[0] = ‚Äú-1: None‚Äù; idents.Add(-1); for (int i = 0; i &lt; resources.Length; i++) { values[i+1] = resources[i].ID + ‚Äú: ‚Äù + resources[i].Path; idents.Add(resources[i].ID); } } } public override void OnGUI(Rect position, SerializedProperty property, GUIContent label) { if (property == null) { return; } Init(property); EditorGUI.BeginProperty(position, label, property); // Draw label position = EditorGUI.PrefixLabel(position, GUIUtility.GetControlID(FocusType.Passive), label); // Don't make child fields be indented int indent = EditorGUI.indentLevel; EditorGUI.indentLevel = 0; // Calculate rects Rect pathRect = new Rect(position.x, position.y, position.width - 6, position.height); int intValue = property.intValue; intValue = idents[EditorGUI.Popup(pathRect, Mathf.Max(0, idents.IndexOf(intValue)), Values)]; property.intValue = intValue; EditorGUI.indentLevel = indent; EditorGUI.EndProperty(); } }    ScriptableObject     (   Resources/Effects/Container).               . public class Bullet : MonoBehavior { [SerializeField] [IntAttribute(‚ÄúEffects/Container‚Äù)] private int effectId = -1; }</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Screenshot with attribute</b> <div class="spoiler_text"><img src="https://monosnap.com/file/NyG6XAxs32eSeH6OtkqKPO2ie6ItRl.png"><br></div></div><br><h3>  Conclusion </h3><br>  All the above lifehacks can simplify not only your work (especially when the project is developed for several months or years), but also the work of beginners, as well as artists and game designers.  Not every specialist will get into the code.  Of course, good organization and discipline can help and document each component in this way, but this is not always the case, especially with independent developers. <br><br>  <b>PS:</b> Later, I will write a couple more articles on other types of editor upgrades, including: <br><br>  CustomEditor; <br>  CustomPropertyDrawer; <br>  EditorWindow; <br>  Class debug and how to eat it; <br>  Class Gizmos. <br><br>  And also I will add examples with a window and the user editor.  Write in the comments if you need such articles or you can get by with what is already on Habr√©. </div><p>Source: <a href="https://habr.com/ru/post/331042/">https://habr.com/ru/post/331042/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../331028/index.html">Laws and projects that will change the face of Russian IT. Part I</a></li>
<li><a href="../331030/index.html">Performance of lambda expressions in Java 8</a></li>
<li><a href="../331032/index.html">Use SpreadsheetCloudAPI to write applications and make life easier</a></li>
<li><a href="../331034/index.html">We program in the world of Minecraft</a></li>
<li><a href="../331036/index.html">Why open data is not needed by anyone</a></li>
<li><a href="../331044/index.html">Fight for build-in iOS applications</a></li>
<li><a href="../331046/index.html">Android Excellence on Google Play</a></li>
<li><a href="../331048/index.html">Go without global variables</a></li>
<li><a href="../331050/index.html">The easiest guide to iconography</a></li>
<li><a href="../331052/index.html">From b2b applications to mass service around the world</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>