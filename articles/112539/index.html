<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Job management</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Probably every nix-oid knows that by running a command with an ampersand at the end - it goes into the background, continuing to work. 
 Thus, the run...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Job management</h1><div class="post__text post__text-html js-mediator-article"> Probably every nix-oid knows that by running a command with an ampersand at the end - it goes into the background, continuing to work. <br>  Thus, the running command turns into a <b>job</b> . <br>  More advanced ones know that you can display a list of running jobs with the jobs command, and switch between them with the fg commands (bring the background task to the shell) / bg (send a stopped task to the background).  The rest of the teams are used less often, and most beginners of Linux users read about them briefly, but forgot, or never knew.  And by the way except: <b>jobs</b> , <b>fg</b> and <b>bg</b> is <b>disown</b> , <b>wait</b> and even <b>kill</b> . <br>  Apart from those that can be used inside a job or to control the commands written above: enable, builtin. <br>  So if you're wondering how to do it: <br>  1. Suspending a job.  Stop (kill). <br>  2. Run a previously suspended job. <br>  3. Advanced task numbering. <br>  4. Waiting for completion of background tasks. <br>  5. Team disown. <br><a name="habracut"></a><br><br>  Run three tasks: <br> <code>$ nice gzip &lt; /dev/zero &gt; /dev/null &amp; <br> [1] 15727 <br> $ bzip2 &lt; /dev/zero &gt; /dev/null &amp; <br> [2] 15728 <br> $ xz &lt; /dev/zero &gt; /dev/null &amp; <br> [3] 15730</code> <br> <br>  Three tasks, with numbers 1, 2, 3. and their PIDs. <br><br><h4>  Stop tasks </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Suspense </h5><br>  Suspend the task, for example, the first: <br>  this is done by the kill command, passing a SIGSTOP signal. <br><pre>  kill -SIGSTOP% 1 </pre><br><img src="https://habrastorage.org/storage/habraeffect/f5/ee/f5ee31aabe814806a61e38cc3642e78c.png">  In this case, the internal bash command was used: kill, and not the external program / bin / kill. <br>  Yes, / bin / kill can also be used to send a SIGSTOP signal, but the external program cannot handle the job number, give it a PID. <br>  Linux is still quite convenient: 4-5 digit PID (2 bytes), but on AIX, pids are mostly 8-digit PIDs, but they can also have 9 digits, besides not consecutive, but scattered across their 4-byte range. <br><br><img src="https://habrastorage.org/storage/habraeffect/f5/ee/f5ee31aabe814806a61e38cc3642e78c.png">  A SIGSTOP signal is one of three signals that an application cannot ignore (SIGSTOP, SIGCONT, SIGKILL which is usually 9).  Yes, of course, each of them has a numeric code (for example, kill -9 means kill-SIGKILL), but they do not coincide on all platforms.  It is possible to find out their correspondence either from the documentation (man signal / man 7 signal / man kill), or directly by the (internal) command <b>kill -l</b> . <br><br><h5>  Completion of the task </h5><br>  Similarly: <br>  kill -SIGKILL% 1 or process PID. <br><br><h5>  Starting previously suspended </h5><br>  bg% 1 - sending a suspended job to be performed in the background. <br>  fg% 1 - switching to a stopped (or running task) <br><br>  Another option: switch to this task and stop it Ctrl + Z: <br><pre> $ fg% 1
 nice gzip &lt;/ dev / zero&gt; / dev / null
 ^ Z
 [1] + Stopped nice gzip &lt;/ dev / zero&gt; / dev / null
</pre><br><br><h4>  Advanced task numbering </h4><br>  Here I continue to compress the zeros of the three processes: <br><pre> [1] 15727 Running nice gzip &lt;/ dev / zero&gt; / dev / null &amp;
 [2] - 15728 Running bzip2 &lt;/ dev / zero&gt; / dev / null &amp;
 [3] + 15730 Running xz &lt;/ dev / zero&gt; / dev / null &amp;
</pre><br><br>  The first field in square brackets is the job number.  It can be accessed by commands such as fg, bg, kill (internal), disown, wait. <br><br>  The second field: has <b>-</b> (minus) for the 2nd task and <b>+</b> (plus) for the 3rd - these are the numbers of tasks in the notation: ‚ÄúLast‚Äù and ‚ÄúCurrent‚Äù. <br>  The current one is ‚Äúwe work with now‚Äù.  If we have one task running, then only it will have +.  If we switch to another task with the fg command, it will become ‚Äúcurrent‚Äù.  The fg and bg commands without job numbers will work with the Current.  It can also be accessed through% + or %% <br><br>  The last is the one that was before the ‚ÄúCurrent‚Äù.  If we complete the current one (kill -9 %%), then the Last will become Current.  Such a stack of tasks.  It can be accessed through% - <br><br>  Also for the commands fg, bg, kill, disown, wait, the tasks can be accessed via the name of the command being run: <br>  run another sleep <pre>  kill -9 #x </pre><br>  Kills only one task that starts at x (my backup will suffer with the xz command) <br><br><pre>  kill -9 #? gzip </pre><br>  will kill the command that contains gzip.  (I also have only one such process), and if the mask is such that it includes several tasks (for example, the previous command kill -9 #? Zip, then this will not work, because nice gzip and bzip2 fall under this mask, and it is impossible to determine exactly which task the command belongs in. Although we can see: for fg, you can still understand that one argument is needed, and kill can take several arguments, bg cannot but could, but in general all commands cannot understand ambiguous masks) <br><br>  See the <a href="http://rus-linux.net/MyLDP/BOOKS/abs-guide/flat/abs-book.html">ABS Guide for</a> details. <br><br><h5>  enable and builtin </h5><br>  This is where you should tell about the enable and builtin commands: <br>  From the link above: <br><br>  The <b>builtin BUILTIN_COMMAND construct</b> runs the internal "BUILTIN_COMMAND" command, temporarily banning the use of functions and external system commands with the same name. <br><blockquote>  <b>enable</b> either prohibits or allows the call of internal commands.  For example, enable -n kill disallows the use of the internal kill command, as a result, when the interpreter encounters the kill command, it will call the external kill command, i.e.  / bin / kill. </blockquote><br><br>  Internal commands are called faster than external, full-fledged programs, if only because there is no need to fork the child process, to switch between them.  The list of internal commands can be viewed <b>enable -a</b> . <br><br><h4>  Waiting for completion of background tasks </h4><br>  The wait command - suspends the script until all background tasks are completed or until the task / process with the specified task number / process PID is completed.  Returns the exit code of the specified job / process. <br>  Often used to synchronize processes: run one or more tasks in the background (in parallel), wait for them to complete, and continue the next phase. <br><br><pre> cat url.list |  while read url;  do wget -qc "$ url" &amp; done
 wait 
 mv ./* / media / flash /
</pre><br>  It will start downloading <u>at the same time the</u> list of all url, and <u>only when all</u> downloads are <u>completed will it be</u> transferred to a USB flash drive. <br><br><h4>  Command disown </h4><br>  disown - Removes a task from the table of active tasks of the shell.  Those.  the process continues to run in the background, but is no longer a task. <br>  It is useful for processes started by the nohup command - it intercepts the SIGHUP signal, and also takes the output streams to its nohup.out file. <br><br>  There are also commands: suspend, times and logout, and times. <br>  For example, times% N - displays the accumulated time in userspace and system for the job and the current shell.  Suspend suspends the current shell, as could be done by pressing ctrl + Z for another command, but provided that the current shell does not work in the login shell mode.  But I can not even imagine how they can be applied. </div><p>Source: <a href="https://habr.com/ru/post/112539/">https://habr.com/ru/post/112539/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../112532/index.html">15,000 day unix era</a></li>
<li><a href="../112535/index.html">What is 1G, 2G, 3G, 4G and everything in between?</a></li>
<li><a href="../112536/index.html">Screw GTD to Remember The Milk</a></li>
<li><a href="../112537/index.html">Russian game Doodle God is a worldwide partner of LG and # 6 rated WP7</a></li>
<li><a href="../112538/index.html">Uploading files using HTML5 and how many times we said bad words</a></li>
<li><a href="../112541/index.html">Well settled!</a></li>
<li><a href="../112542/index.html">New design apple.com</a></li>
<li><a href="../112544/index.html">Amazon announces service to send email (Amazon SES)</a></li>
<li><a href="../112548/index.html">SED outside offices</a></li>
<li><a href="../112549/index.html">Participation in the tender for the development of the site (part 1)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>