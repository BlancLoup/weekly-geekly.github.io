<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Internet Magnets 5 - Lighthouses and Messages (Personal, Public, and Updates)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I remembered that I did not tell an important part to ensure the possibility of communication and updating content in P2P networks. 


 Not all P2P ne...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Internet Magnets 5 - Lighthouses and Messages (Personal, Public, and Updates)</h1><div class="post__text post__text-html js-mediator-article"><p> <a href="https://habrahabr.ru/post/330666/"><img align="left" src="https://habrastorage.org/getpro/habr/post_images/67f/663/d40/67f663d40d524138f1e3dcc9fc606dd2.svg"></a>  I remembered that I did not tell an important part to ensure the possibility of communication and updating content in P2P networks. </p><br><p>  Not all P2P networks have the ability to send and receive private messages.  Also, not always the message can be left offline.  We will correct this shortcoming using three features of P2P networks: search for a file, view balls (a list of published files) or comments to a file. </p><br><h2 id="kak-eto-rabotaet">  How it works </h2><br><p>  The lighthouse template is created once and used to create lighthouses for communication with the author. </p><br><h3 id="obschiy-algoritm-polucheniya">  General receipt algorithm </h3><br><ol><li>  A lighthouse pattern is published. </li><li>  A lighthouse is being formed. </li><li>  Search for this beacon and the file with the beacon hash in the name. </li><li>  Download found files or view balls of lighthouse sources. </li></ol><br><h3 id="obschiy-algoritm-otpravki-takoy">  The general algorithm for sending such </h3><br><ol><li>  We write the message. </li><li>  We encrypt the recipient's public key. </li><li>  We form a beacon on the addressee pattern. </li><li>  We receive a hash from a beacon and we interpose into a file name with the message. </li><li>  We publish a beacon and a file with a message in p2p networks. </li></ol><br><p>  Our message and the beacon are free to copy other members of the network.  Since it is encrypted, they will not be able to read it, but will help keep it online until the addressee receives it. </p><a name="habracut"></a><br><h3 id="otkrytoe-soobschenie-ot-avtora">  Open message from the author </h3><br><ol><li>  Publish the pattern of the lighthouse. </li><li>  We write the message and we sign. </li><li>  We generate a beacon. </li><li>  Enter the beacon hash into the name of the message file. </li><li>  We publish the beacon and the file with the message. </li></ol><br><h2 id="shablon-mayaka">  Lighthouse pattern </h2><br><p>  This is the file from which the beacon is formed. </p><br><p>  The lighthouse template is created by the one who wants to receive messages (addressee) and publishes in his balloon or a comment with a magnet to another lighthouse.  The template should include </p><br><ol><li>  Public key to encrypt messages destined to the addressee </li><li>  Lighthouse Template - instructions for forming a lighthouse </li><li>  Signature - the file is signed. </li></ol><br><p>  Template instructions should allow generating files with identical hashes (beacons) every hour or another selected period of time. </p><br><h3 id="sozdanie-shablona-mayaka">  Creating a beacon pattern </h3><br><ol><li><p>  We get the fingerprint of the public key. </p><br><pre><code class="bash hljs">gpg --list-sigs --with-fingerprint</code> </pre> <br></li><li><p>  Exporting public key </p><br><pre> <code class="bash hljs">gpg --<span class="hljs-built_in"><span class="hljs-built_in">export</span></span> -a &gt; lighthouse_template_[  ].txt</code> </pre> <br></li><li><p>  Open the file ( <code>lighthouse_template_[  ].txt</code> ) and add the instruction. <br>  Example: </p><br><blockquote>  yyyy - full year UTC ¬± 0: 00 <br>  mm - month UTC ¬± 0: 00 (supplemented with zero if less than 10) <br>  dd - day on time UTC ¬± 0: 00 (supplemented with zero if less than 10) <br>  hh - hour in 24 hour time format UTC ¬± 0: 00 (complemented by zero if less than 10) <br><br>  Beacon file name template (important for BitTorrent network): <br> <code>lighthouse_yyyy-mm-ddThhZ_[  ].asc</code> <br> <br>  To form a beacon, add a date and time at the end of the file in the format: <br>  yyyy-mm-ddThhZ </blockquote><br></li><li><p>  Signing. </p><br><pre> <code class="bash hljs">gpg --clearsign lighthouse_template_[  ].txt</code> </pre> <br></li></ol><br><h3 id="primer-shablona-mayaka">  Sample beacon pattern </h3><br><p>  File: lighthouse_template_f43b4866b4f47e8e27bfafa56f4c4f2384a3135d.asc </p><br><pre> <code class="hljs 1c">-----BEGIN PGP SIGNED MESSAGE----- Hash: SHA256 - -----BEGIN PGP PUBLIC KEY BLOCK----- Version: GnuPG v2 mQENBFk6ZDMBCADE/yoNEOosw16n3P2ZSjH+quYlSbZePBudHnAlNZ/e4KSxEnXx B/<span class="hljs-number"><span class="hljs-number">44</span></span>vKJX98y0X6TjCk0TVrAfJQhOrwg9/X6IMkeii1Nzt+NhrygojuVmEJS0kHvi QoJLrotBXdYWbUtfVE8zGS/qVmtFi6ns/ouV1yqLnRSA+dVfLNa/<span class="hljs-number"><span class="hljs-number">7</span></span>k5glo+<span class="hljs-number"><span class="hljs-number">7</span></span>TEDt g/CkSQ5CKJowPnBYnCxF4aQQQi8ydDIMXIFVyuApPRHLNsqIeA4CFlpb2Xb3ksEN /tse4zjBRgNS3nc6SLYfv6KKb8O6oHxWzz+mXlrvL4G1dszUE7Yg4FND9t9P+bMQ d+<span class="hljs-number"><span class="hljs-number">7</span></span>OqDgO00/eEBooTcOptuHXTLxftu3z9S2VABEBAAG0Iml2YW4zODYgPG1hZ25l dEBpdmFuMzg2LmdpdGh1Yi5pbz6JAT8EEwEIACkFAlk6ZDMCGyMFCQEOQt0HCwkI BwMCAQYVCAIJCgsEFgIDAQIeAQIXgAAKCRBvTE8jhKMTXUA7B/<span class="hljs-number"><span class="hljs-number">93</span></span>TSAcSQW5Nvgw CpgsJHTRbUsWT2heovl1CeME39H3iKxlNVMl2N5l5kFNUryLMo63ZXp5tm9C7UKx o2X6+<span class="hljs-number"><span class="hljs-number">3</span></span>TJg/Td+WxC2vhXyLeSWc6KkV98a7Sg6kgdBBDXA1x4TfLNT8dijYBqNNgU OVJ3gOyOCXa7Is9gPYobtwFvTTzsKqfz3JkAZf54Y7EulLYo+esty2nDqIhyC+<span class="hljs-number"><span class="hljs-number">7</span></span>Q a5izjxhGME1gAWjPT4Yr/QytmL1D1WD8tmmVrvFtBwUo3iyZhf2TCVkkJ41mOAq+ Vr2tfZPnxUxSaLMU4cm0rUoZ79NK3FX70xJjy4IgQtj/NDuQwv1KgqSClxCKkpI/ BJSvjxzguQENBFk6ZDMBCAD6DTPWTkG7Zqqhz/<span class="hljs-number"><span class="hljs-number">5</span></span>oaM4zFG9ncTtnVXiR0rRPzuyn aXz1/Kn3odEEG4kyEQbHS/lLfnLsqAkSMjUHiBsC6R0h1bTqSDnHEhPqpuLm526N <span class="hljs-number"><span class="hljs-number">6</span></span>j+o5/oIC8ANlGH5fFGDMNXy5MrRuFGMv/tHDuSW56rb6Kh9jPoU+<span class="hljs-number"><span class="hljs-number">1</span></span>HCAGpv4zd9 iXB/nOYHlLl3NZ4+<span class="hljs-number"><span class="hljs-number">883</span></span>wd0BgIKslSpvOU8sTjqcEwcIFFHr8SBUM6x1nKSq1Ad+C bEQPBA7EKdIeV/N5CZ9s6fnvUvc1bNMOO8YdJ4wCWfDSGWu7ZdPyj+Yh+<span class="hljs-number"><span class="hljs-number">9</span></span>/R7EIW bEAHX5v/IcAu1u0U53goehGvEu9K4lNjibYRu8hDU02fABEBAAGJASUEGAEIAA8F Alk6ZDMCGwwFCQEOQt0ACgkQb0xPI4SjE11j5Af9EBukKcDSQfSFBgsRRxLzfk3l B4Qa7Kb2JKPdf8p+rlC8n7b7nS1WnDsh/ADnRO1+njP4oHo4eV3P09ao9PNagM5k YldAG2oAOj9RhVSMI4Jt+/Tf7NZixLPjMCakrGA47wQwC9bp+AmV/ST8I6/r2t3W <span class="hljs-number"><span class="hljs-number">4</span></span>uXDLUKzvZxpBUVqEG9x0olnQiBgMicyUlW1WmyMKiorVET6rSnCv3yv33lMRQRG <span class="hljs-number"><span class="hljs-number">5</span></span>txSw/z0jXhhK6ENn0mHMGeiBqGITTwjQM7uQTkw2GmNJfHpg+jThnJQran+cGDZ tvKsoBc4BFnM4eTxZfeyYPquG2QWZ59kcqm4JRyJfHYKT+CIPQXmEmD4uyp5/Q== =QxOi - -----END PGP PUBLIC KEY BLOCK----- yyyy - <span class="hljs-built_in"><span class="hljs-built_in"></span></span>  <span class="hljs-keyword"><span class="hljs-keyword"></span></span> UTC¬±<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span> mm - <span class="hljs-built_in"><span class="hljs-built_in"></span></span> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  UTC¬±<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span> (  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  <span class="hljs-number"><span class="hljs-number">10</span></span>) dd - <span class="hljs-built_in"><span class="hljs-built_in"></span></span> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  UTC¬±<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span> (  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  <span class="hljs-number"><span class="hljs-number">10</span></span>) hh - <span class="hljs-built_in"><span class="hljs-built_in"></span></span>  <span class="hljs-number"><span class="hljs-number">24</span></span>   <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  UTC¬±<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span> (  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  <span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-built_in"><span class="hljs-built_in"></span></span>    ( <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  BitTorrent): lighthouse_yyyy-mm-ddThhZ_f43b4866b4f47e8e27bfafa56f4c4f2384a3135d.asc <span class="hljs-keyword"><span class="hljs-keyword"></span></span>           : yyyy-mm-ddThhZ -----BEGIN PGP SIGNATURE----- Version: GnuPG v2 iQEcBAEBCAAGBQJZOr9iAAoJEG9MTyOEoxNd8RIIALQUa9BuMgh+uET4wse7sBDG <span class="hljs-number"><span class="hljs-number">19</span></span>RvKbUq+<span class="hljs-number"><span class="hljs-number">9</span></span>HCOaxL+Qfz+C5VO1XVIxC/Vi2iP1RVwBjkKtTANXdxcf9jR/S2ZHpL <span class="hljs-number"><span class="hljs-number">0</span></span>ohDsJ8O8EPf0sTEr5nvGE27KobEhvAb9TbxrOLuZlWtqWh09CvgyEZPVnnMa7v1 WL6xVln2BjZOkndn60ToqPcVUYQpwIEfHBz7S8WYdRFumN8sUCfJYaXGFElSLKiA <span class="hljs-number"><span class="hljs-number">2</span></span>Y+fTayhPIKcwBTzRuIU6fQWWCUA7egZ3JsWWiBP68parRcsDDOia3UiddFRr0jW lmGrsOJiZ2Vq2xfXNqY+BfcSdT8AXnt9yUYCdaH2w2oI3uEXlw8eF8JyxO60w8k= =FJOw -----END PGP SIGNATURE-----</code> </pre><br><h2 id="mayak">  Lighthouse </h2><br><p>  The lighthouse is formed from the lighthouse template according to the instructions given in it.  First, the template itself goes unchanged and then there is data that is formed according to the instructions from the template. </p><br><p>  The task of the lighthouse is that both the sender and receiver can form the same lighthouse (with the same hash) and find each other or the intermediary who stores the message using the hash. </p><br><h3 id="primer-mayaka">  Lighthouse example </h3><br><p>  The lighthouse on June 9, 2017 18:33 Moscow will look like this. </p><br><p>  File: lighthouse_2017-06-09T15Z_f43b4866b4f47e8e27bfafa56f4c4f2384a3135d.asc </p><br><pre> <code class="hljs 1c">-----BEGIN PGP SIGNED MESSAGE----- Hash: SHA256 - -----BEGIN PGP PUBLIC KEY BLOCK----- Version: GnuPG v2 mQENBFk6ZDMBCADE/yoNEOosw16n3P2ZSjH+quYlSbZePBudHnAlNZ/e4KSxEnXx B/<span class="hljs-number"><span class="hljs-number">44</span></span>vKJX98y0X6TjCk0TVrAfJQhOrwg9/X6IMkeii1Nzt+NhrygojuVmEJS0kHvi QoJLrotBXdYWbUtfVE8zGS/qVmtFi6ns/ouV1yqLnRSA+dVfLNa/<span class="hljs-number"><span class="hljs-number">7</span></span>k5glo+<span class="hljs-number"><span class="hljs-number">7</span></span>TEDt g/CkSQ5CKJowPnBYnCxF4aQQQi8ydDIMXIFVyuApPRHLNsqIeA4CFlpb2Xb3ksEN /tse4zjBRgNS3nc6SLYfv6KKb8O6oHxWzz+mXlrvL4G1dszUE7Yg4FND9t9P+bMQ d+<span class="hljs-number"><span class="hljs-number">7</span></span>OqDgO00/eEBooTcOptuHXTLxftu3z9S2VABEBAAG0Iml2YW4zODYgPG1hZ25l dEBpdmFuMzg2LmdpdGh1Yi5pbz6JAT8EEwEIACkFAlk6ZDMCGyMFCQEOQt0HCwkI BwMCAQYVCAIJCgsEFgIDAQIeAQIXgAAKCRBvTE8jhKMTXUA7B/<span class="hljs-number"><span class="hljs-number">93</span></span>TSAcSQW5Nvgw CpgsJHTRbUsWT2heovl1CeME39H3iKxlNVMl2N5l5kFNUryLMo63ZXp5tm9C7UKx o2X6+<span class="hljs-number"><span class="hljs-number">3</span></span>TJg/Td+WxC2vhXyLeSWc6KkV98a7Sg6kgdBBDXA1x4TfLNT8dijYBqNNgU OVJ3gOyOCXa7Is9gPYobtwFvTTzsKqfz3JkAZf54Y7EulLYo+esty2nDqIhyC+<span class="hljs-number"><span class="hljs-number">7</span></span>Q a5izjxhGME1gAWjPT4Yr/QytmL1D1WD8tmmVrvFtBwUo3iyZhf2TCVkkJ41mOAq+ Vr2tfZPnxUxSaLMU4cm0rUoZ79NK3FX70xJjy4IgQtj/NDuQwv1KgqSClxCKkpI/ BJSvjxzguQENBFk6ZDMBCAD6DTPWTkG7Zqqhz/<span class="hljs-number"><span class="hljs-number">5</span></span>oaM4zFG9ncTtnVXiR0rRPzuyn aXz1/Kn3odEEG4kyEQbHS/lLfnLsqAkSMjUHiBsC6R0h1bTqSDnHEhPqpuLm526N <span class="hljs-number"><span class="hljs-number">6</span></span>j+o5/oIC8ANlGH5fFGDMNXy5MrRuFGMv/tHDuSW56rb6Kh9jPoU+<span class="hljs-number"><span class="hljs-number">1</span></span>HCAGpv4zd9 iXB/nOYHlLl3NZ4+<span class="hljs-number"><span class="hljs-number">883</span></span>wd0BgIKslSpvOU8sTjqcEwcIFFHr8SBUM6x1nKSq1Ad+C bEQPBA7EKdIeV/N5CZ9s6fnvUvc1bNMOO8YdJ4wCWfDSGWu7ZdPyj+Yh+<span class="hljs-number"><span class="hljs-number">9</span></span>/R7EIW bEAHX5v/IcAu1u0U53goehGvEu9K4lNjibYRu8hDU02fABEBAAGJASUEGAEIAA8F Alk6ZDMCGwwFCQEOQt0ACgkQb0xPI4SjE11j5Af9EBukKcDSQfSFBgsRRxLzfk3l B4Qa7Kb2JKPdf8p+rlC8n7b7nS1WnDsh/ADnRO1+njP4oHo4eV3P09ao9PNagM5k YldAG2oAOj9RhVSMI4Jt+/Tf7NZixLPjMCakrGA47wQwC9bp+AmV/ST8I6/r2t3W <span class="hljs-number"><span class="hljs-number">4</span></span>uXDLUKzvZxpBUVqEG9x0olnQiBgMicyUlW1WmyMKiorVET6rSnCv3yv33lMRQRG <span class="hljs-number"><span class="hljs-number">5</span></span>txSw/z0jXhhK6ENn0mHMGeiBqGITTwjQM7uQTkw2GmNJfHpg+jThnJQran+cGDZ tvKsoBc4BFnM4eTxZfeyYPquG2QWZ59kcqm4JRyJfHYKT+CIPQXmEmD4uyp5/Q== =QxOi - -----END PGP PUBLIC KEY BLOCK----- yyyy - <span class="hljs-built_in"><span class="hljs-built_in"></span></span>  <span class="hljs-keyword"><span class="hljs-keyword"></span></span> UTC¬±<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span> mm - <span class="hljs-built_in"><span class="hljs-built_in"></span></span> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  UTC¬±<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span> (  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  <span class="hljs-number"><span class="hljs-number">10</span></span>) dd - <span class="hljs-built_in"><span class="hljs-built_in"></span></span> <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  UTC¬±<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span> (  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  <span class="hljs-number"><span class="hljs-number">10</span></span>) hh - <span class="hljs-built_in"><span class="hljs-built_in"></span></span>  <span class="hljs-number"><span class="hljs-number">24</span></span>   <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  UTC¬±<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span> (  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  <span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-built_in"><span class="hljs-built_in"></span></span>    ( <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  BitTorrent): lighthouse_yyyy-mm-ddThhZ_f43b4866b4f47e8e27bfafa56f4c4f2384a3135d.asc <span class="hljs-keyword"><span class="hljs-keyword"></span></span>           : yyyy-mm-ddThhZ -----BEGIN PGP SIGNATURE----- Version: GnuPG v2 iQEcBAEBCAAGBQJZOr9iAAoJEG9MTyOEoxNd8RIIALQUa9BuMgh+uET4wse7sBDG <span class="hljs-number"><span class="hljs-number">19</span></span>RvKbUq+<span class="hljs-number"><span class="hljs-number">9</span></span>HCOaxL+Qfz+C5VO1XVIxC/Vi2iP1RVwBjkKtTANXdxcf9jR/S2ZHpL <span class="hljs-number"><span class="hljs-number">0</span></span>ohDsJ8O8EPf0sTEr5nvGE27KobEhvAb9TbxrOLuZlWtqWh09CvgyEZPVnnMa7v1 WL6xVln2BjZOkndn60ToqPcVUYQpwIEfHBz7S8WYdRFumN8sUCfJYaXGFElSLKiA <span class="hljs-number"><span class="hljs-number">2</span></span>Y+fTayhPIKcwBTzRuIU6fQWWCUA7egZ3JsWWiBP68parRcsDDOia3UiddFRr0jW lmGrsOJiZ2Vq2xfXNqY+BfcSdT8AXnt9yUYCdaH2w2oI3uEXlw8eF8JyxO60w8k= =FJOw -----END PGP SIGNATURE----- <span class="hljs-number"><span class="hljs-number">2017</span></span>-<span class="hljs-number"><span class="hljs-number">06</span></span>-<span class="hljs-number"><span class="hljs-number">09</span></span>T15Z</code> </pre> <br><p>  Hashes of this beacon (urn: [name]: [hash or multi-hash or CIDv1]) </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">urn</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:sha1</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:mthkta2fsilqxpoox6vessac37674gl3</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">urn</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:tree</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:tiger</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:abrmyjcyckt7lccz5jjqebazmt3tkuordfetana</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">urn</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:btih</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:i7mif67cu6r2jkxw23qwyanlx7tqqtoy</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">urn</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:ed2k</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:7f9112c53d5ae16377d54c6bdc34d4f7</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">urn</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:sha256</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:ad300aeb8b4ab6db19b640883d19d0900841c25689ed97e0ec0490cd23a7bd71</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">urn</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:ipfs</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:zb2rhiJLDNbWfS1z6yKcTGzQcazmumkcttkXc4FFq3hfeGn8Y</span></span></code> </pre> <br><p>  Accordingly, every hour a new lighthouse is created. </p><br><p>  Each P2P network uses its corresponding hash. </p><br><p>  Search for files by the beacon hash allows you to send an open message in the name of the beacon file.  (Gnutella2, DirectConnect, Edonkey2000, IPFS) </p><br><p>  Searching using a hash as part of the file name will allow you to transfer the file.  This can be a private message encrypted with a public key from a beacon.  (Gnutella2, DirectConnect, Edonkey2000, IPFS) </p><br><p>  Comments to the beacon file can also be used.  They can have a message or a magnet on a file with a private message.  (Gnutella2) </p><br><h2 id="ipfs">  IPFS </h2><br><p>  For the IPFS network, it is necessary to find the sources of the beacon and obtain source-related files / directories using the sources' public keys.  Next on the list, find the beacon itself or the file / directory with the beacon hash in the name. </p><br><p>  <b>Get a list of peers with a beacon:</b> </p><br><pre> <code class="bash hljs">ipfs dht findprovs [ ]</code> </pre> <br><p>  The result will be multi-peaks of public keys of peers with a beacon </p><br><p>  <b>We get multihash balls:</b> </p><br><pre> <code class="bash hljs">ipfs name resolve [  ]</code> </pre> <br><p>  Result / ipfs / path with multihash related file or directory </p><br><p>  <b>We are looking for a beacon and a file with a beacon hash in the name:</b> </p><br><pre> <code class="bash hljs">ipfs refs -r --format=<span class="hljs-string"><span class="hljs-string">"&lt;dst&gt; &lt;linkname&gt;"</span></span> [ ]| grep <span class="hljs-string"><span class="hljs-string">"[ ]"</span></span></code> </pre> <br><p>  As a result, we get the messages: </p><br><pre> <code class="hljs json">[ ] [    ] [ ] [       ]</code> </pre> <br><p>  In the second case, the message is the contents of the file. </p><br><p>  <strong>Load the command:</strong> </p><br><pre> <code class="bash hljs">ipfs get [ ]</code> </pre> <br><h2 id="edonkey2000-directconnect-gnutella12">  Edonkey2000, DirectConnect, Gnutella (1,2) </h2><br><p>  These networks allow searching by hash and file name.  So it is enough to use the hash as a name or to search for the beacon itself according to the hash and look at the sources' ball. </p><br><h2 id="gnutella2">  Gnutella2 </h2><br><p>  In this network, it is possible to comment on file sources.  In this case, it is enough to search for a beacon by hash and look at the comments on the results.  Or you can also search using a hash as part of the file name. </p><br><h2 id="bittorrent">  Bittorrent </h2><br><p>  Not yet invented.  <a href="https://torrentfreak.com/utorrent-quietly-ditches-rating-comment-features-160731/">The ability to comment on the distribution was removed from uTorrent</a> . </p><br><p>  There is an idea to generate a large beacon and by mashing the parts to form a barcode from which you can get a hash of the new message. </p><br><p>  The second option is to create a set of lighthouses and then the presence on the distribution will be 1 and the absence of 0. Part of the lighthouses will encode the hash and the other part of the checksum. </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  Something like this. </p><br><h2 id="ssylki">  Links </h2><br><p>  <a href="https://github.com/ipld/cid">CID (Content IDentifier)</a> <br>  <a href="https://github.com/multiformats/multihash">multihash</a> <br>  <a href="https://ipfs.io/docs/commands/">Commands |</a>  <a href="https://ipfs.io/docs/commands/">IPFS Docs</a> </p><br><p>  <a href="https://www.opennet.ru/man.shtml%3Ftopic%3Dgpg%26category%3D1%26russian%3D0">gpg man</a> </p><br><p>  <a href="https://ru.wikipedia.org/wiki/ISO_8601">ISO 8601 is an international standard that describes the date and time format.</a> </p><br><p>  Other parts: <br>  <a href="https://habrahabr.ru/post/136764/">Magnet Internet 1 - Magnet</a> <br>  <a href="https://habrahabr.ru/post/141307/">Magnet Online 2 - Hypertext</a> <br>  <a href="https://habrahabr.ru/post/273713/">Internet Magnets 3 - P2P Website and Forum</a> <br>  <a href="https://habrahabr.ru/post/309352/">Internet on magnets 4 - Divide the magnet into pieces</a> <br>  <a href="https://habrahabr.ru/post/330666/">Internet Magnets 5 - Lighthouses and Messages (Personal, Public, and Updates)</a> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/330666/">https://habr.com/ru/post/330666/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../330656/index.html">Integration React and DataTables - not as hard as advertised</a></li>
<li><a href="../330658/index.html">How to make a beautiful avatar? New social media marketing</a></li>
<li><a href="../330660/index.html">Attention! Hackers have begun to use the SambaCry vulnerability to crack Linux systems</a></li>
<li><a href="../330662/index.html">Approaches to versioning database changes</a></li>
<li><a href="../330664/index.html">It was in the evening. An autoscale load-balanced web service using the example of Bitrix in the Google Cloud Platform</a></li>
<li><a href="../330668/index.html">Self-made drive emulator for Amiga</a></li>
<li><a href="../330670/index.html">Configuring Reverse Proxy Apache (Debian 8) with automatic issue of Let's Encrypt</a></li>
<li><a href="../330672/index.html">Making a dragon bot in Google Chrome</a></li>
<li><a href="../330674/index.html">Introducing 3CX Phone System V15.5</a></li>
<li><a href="../330676/index.html">Client-server step-by-step, from single-threaded to multi-threaded (Client-Server step by step)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>