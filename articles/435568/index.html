<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>VyOS OpenSource Router</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article, I wanted to raise a topic that is not standard for me about the VyOS network router. I first became acquainted with this project than...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>VyOS OpenSource Router</h1><div class="post__text post__text-html js-mediator-article">  In this article, I wanted to raise a topic that is not standard for me about the VyOS network router.  I first became acquainted with this project thanks to Neil Anderson (Neil Anderson) who made a <a href="https://www.flackbox.com/netapp-simulator">guide how to deploy a mini-lab with NetApp simulator and VyOS at home</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8s/ua/bd/8suabdo0r5e2pd5mnw82ihdshs8.png"></div><br><h2>  Key projects </h2><br>  <a href="https://vyos.io/">VyOS</a> is a opensource project based on Debian Linux, which was born as a <a href="https://en.wikipedia.org/wiki/VyOS">fork from the Vyatta Core Edition project</a> of the Vyatta Routing software.  Like any router, VyOS operates on OSI level three and routes North-South traffic.  VyOS includes the following key projects: <br><br><ul><li>  Debian 8, kernel 4.19 </li><li>  FRRouting (Quagga was used in version 1.1 and later) </li><li>  ISC-DHCP </li><li>  Keepalived </li><li>  StrongSwan </li><li>  Openvpn </li><li>  Powerdns </li><li>  Wireguard </li><li>  Openhrp </li><li>  Accel-ppp </li><li>  xL2tpd </li><li>  Squid </li><li>  mDNS repeater </li><li>  IGMP-proxy </li><li>  iPerf </li><li>  <a href="https://wiki.vyos.net/wiki/1.2.0/release_notes">more detailed list in Release notes</a> </li></ul><br><a name="habracut"></a><br><h2>  Supported Platforms </h2><br>  VyOS can be deployed on most popular platforms in the form of a virtual machine, on bare metal or in the cloud, the image takes about 300 MB. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Virtualization platforms </h3><br>  As a virtual machine, VyOS can be deployed in an environment: <br><br><ul><li>  KVM </li><li>  Rhev </li><li>  Virtualbox </li><li>  Nutanix ahv </li><li>  VMWare ESXi 5.1+ </li><li>  Citrix XenServer in HVM mode </li><li>  Microsoft Hyper-V for Windows Server </li><li>  OpenStack (in plans) </li></ul><br><br><h3>  Bare iron </h3><br>  The router can be installed on bare iron, custom images (in the plans): <br><br><ul><li>  Dell </li><li>  SuperMicro </li><li>  Edgecore </li></ul><br><h3>  Clouds </h3><br>  Like a virtual machine in the clouds: <br><br><ul><li>  Amazon EC2 (Amazon Machine image on Amazon Web Services) </li><li>  Ravello </li><li>  Packet cloud </li><li>  Microsoft Azure </li><li>  Google Cloud Platform (in plans) </li><li>  Alibaba Cloud (in plans) </li></ul><br><h3>  Command line </h3><br>  As with Cisco and Juniper routers, which traditionally do not use a graphical interface, so VyOS is controlled from the command line.  The VyOS command line is very similar to the JunOS syntax: <br><br><pre><code class="bash hljs">vyos@vyos<span class="hljs-comment"><span class="hljs-comment"># run show ip route forward default via 203.0.113.1 dev eth1 proto static metric 20 onlink 192.168.56.0/24 dev eth0 proto kernel scope link src 192.168.56.13 203.0.113.1 dev eth1 proto static metric 20</span></span></code> </pre> <br><h2>  Functionality and features </h2><br>  The functionality of VyOS is quite large and serious, despite the fact that this is an Opensource project: <br><br><ul><li>  VPN: Dynamic Multipoint VPN (DMVPN), GRE, IPSec, IPSec VTI, OpenVPN (server and client) and WireGuard </li><li>  Can act as a VPN Remote Access Server using L2TP or OpenVPN </li><li>  Tunnels: L2TP, L2TPv3, VXLAN, PPTP, GRE, IPIP, SIT, IPIP, IPIP6, IP6IP6 </li><li>  L2 / L3 Interfaces: Ethernet Bridge, 802.1Q VLAN, QinQ, Port Aggregation (LACP and Static) </li><li>  API for working from console, Python, and Perl scripts </li><li>  Addressing IPv4 &amp; IPv6 Routing: </li><li>  BGP, OSPF, OSPFv3, RIP, RIPng dynamic routing protocols </li><li>  Static Routing and Policy-Based Routing (PBR) </li><li>  QoS to prioritize traffic </li><li>  VyOS can work as a L2TPv3 router for Layer 2 connectivity between sites </li><li>  High availability: VRRP, WAN load-balancing, Conntrack-Sync, Clustering </li><li>  And of course the standard set: DHCP (Server, Client and Relay), DNS recursive server, Network Address Translation (source and destination, port-address, one-to-many, many-to-many), IGMP-Proxy, NTP server and client, LLDP server and client, mDNS repeater, PPPoE server, proxy server with cache and filtering, TFTP server </li><li>  Traffic filtering: Zone-based firewall, stateful firewall </li><li>  Policies: Shaping, Rate limiting, Priority-based queues </li><li>  Built-in archive of configuration files </li></ul><br><h2>  Example of supported connection and usage patterns </h2><br><h3>  Branch </h3><br>  One of the most commonly used schemes for using VyOS is to merge several company branches with each other, connect with cloud providers or merge several cloud providers into one network. <br><br><img src="https://habrastorage.org/webt/qg/up/ur/qgupurqyfpccdx-xnetssxhgsdg.png"><br><br><h3>  Smb edge </h3><br>  Can serve as an SMB router providing stable and increased availability to the global Internet thanks.  VyOS supports NAT, DHCP, and VRRP to increase the availability of your default gateway. <br><br><img src="https://habrastorage.org/webt/er/c1/dg/erc1dgs4znwlwtgbge2obh1rcxq.png"><br><br><h3>  Boarder router </h3><br>  VyOS can be used as an Enterprise Border Router (BGP), one of, if not the most advanced of the dynamic routing protocols.  For these purposes, VyOS can serve as both external and internal BGP nodes (BGP-peer), providing high stability and availability in your network. <br><br><img src="https://habrastorage.org/webt/5r/zj/5_/5rzj5_pjmawgpjsnq5egm8ek4qo.png"><br><br><h3>  VPN gateway </h3><br>  VyOS provides IPSec VPN access: IPSec / GRE, IPSec VTI, Dynamic Multipoint VPN (DMVPN) and OpenVPN.  Site-to-site configuration allows you to connect multiple sites directly to the cloud via a frequent secure network over the Internet, allowing your users and servers to interact with each other.  VyOS can work as a L2TPv3 router by creating a L2 network between sites. <br><br><img src="https://habrastorage.org/webt/fh/1o/3a/fh1o3abjv6yr_wws6h4s3xmw-hg.png"><br><br><h3>  VPN RA Server </h3><br>  VyOS can be used as a remote VPN server.  For this you can use L2TP over IPSec as it is present in almost all modern operating systems.  Another option is to use OpenVPN, which is also integrated into VyOS.  Using a firewall will increase the security and granularity of access to your network. <br><br><img src="https://habrastorage.org/webt/td/8k/-h/td8k-hf3oq1yscapqsmgeh37jfw.png"><br><br><h2>  System requirements </h2><br>  VyOS minimum resource requirements: <br><br><ul><li>  CPU: one or several 64-bit x86 cores (depending on the bandwidth and the functionality used).  Also supported ClearFog ARM platform </li><li>  Memory: 512 MB or more (depends on the bandwidth and the functionality used and mainly on the size of the routing tables) </li><li>  Network interfaces: at least one, maximum (as much as supported by the platform on which VyOS runs) </li><li>  For maximum performance, it is recommended to use network cards with hardware offloading and supporting multiple queues. </li></ul><br><h2>  Management and Monitoring </h2><br>  Management and monitoring: <br><br><ul><li>  Deployment and management: Secure Shell (SSH), Cloud Init, python library for remote management </li><li>  Management and troubleshooting: Simple Network Management Protocol (SNMP), Syslog, NetFlow, sFlow </li><li>  Automation Ansible, SaltStack </li><li>  Task scheduler, event handling, scripting </li><li>  Built-in archive of configuration versions </li></ul><br><h2>  Images </h2><br>  VyOS can be collected from the source code itself or downloaded as an assembled and tested image for your platform.  Starting from version 1.2, downloading an image has ceased to be free because the project needs to be developed for some money.  But <a href="https://blog.vyos.io/last-rc-early-production-access-and-announcement-of-educational-and-non-profit-access-subscriptions">for schools, colleges, universities, clinics and other similar non-profit organizations provided free access</a> .  For contributors, free access to ready-made images is also provided; it is not necessary to be a programmer, even if you help with the documentation, this is also a project assistance.  So to get free access to images is quite simple and easy, especially if you have a Meinteiner badge, Contributor or VyOS Evangelist. <br><br>  Badges <br>  VyOS has issued <a href="https://blog.vyos.io/contributors-contributions-and-badges%3Futm_content%3D84167604">digital certificates</a> for: <br><ul><li>  Maintainers of the project </li><li>  Of contributors </li><li>  Evangelists </li><li>  and network engineers </li></ul><br><br><h2>  findings </h2><br>  VyOS is a project that is built on the basis of modern programs and utilities for network routing, which can be easily supplemented and changed due to the fact that it is completely 100% OpenSource.  The rich functionality and modern routing protocols allow it to be used not only at home for advanced users, but also for large companies and huge service providers. <br><br><h3>  Useful resources </h3><br>  <a href="http://blog.vyos.io/">blog.vyos.io</a> <br>  <a href="https://wiki.vyos.net/">wiki.vyos.net</a> <br>  <a href="https://phabricator.vyos.net/">Issue tracker</a> <br>  <a href="https://slack.vyos.io/">slack.vyos.io</a> <br>  <a href="https://forum.vyos.io/">forum.vyos.io</a> <br>  <a href="https://github.com/vyos">github.com/vyos</a> <br>  <a href="https://twitter.com/vyos_dev">twitter.com/vyos_dev</a> <br>  <a href="https://www.linkedin.com/company/vyos">LinkedIn</a> <br>  <a href="https://www.facebook.com/vyosofficial/">Facebook</a> <br>  <a href="https://www.youtube.com/channel/UCEjJx6j87szaiqtKDrMVb2Q">YouTube</a> <br>  <a href="https://trello.com/b/KhGDOsmr/vyos-public-roadmap">VyOS Roadmap</a> <br>  <a href="http://downloads.vyos.io/%3Fdir%3Drolling/current/amd64">Releases</a> <br><br><h3>  Other articles on Habr√© </h3><br>  <a href="https://habr.com/ru/company/selectel/blog/248907/">Software routing with VyOS</a> <br>  <a href="https://habr.com/ru/post/262027/">UNetLab emulator - revolutionary leap</a> <br>  <a href="https://habr.com/ru/post/40648/">Vyatta: Linux-based firewall and router</a> <br>  <a href="https://habr.com/ru/company/beeline/blog/128701/">Internet on the ship: satellite dish + modems + balancer + Wi-Fi</a> <br>  <a href="https://habr.com/ru/company/comptek/blog/255391/">Ubiquiti EdgeRouter X</a> <br><br>  I ask to send messages on errors in the text to the <abbr title="Private message">LAN</abbr> .  Comments, additions and questions on the article on the contrary, please in the comments. </div><p>Source: <a href="https://habr.com/ru/post/435568/">https://habr.com/ru/post/435568/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../435556/index.html">Moving to the data center: how it was</a></li>
<li><a href="../435558/index.html">PostgreSQL testing with HugePages on Linux</a></li>
<li><a href="../435560/index.html">The first commercial quantum computer - IBM</a></li>
<li><a href="../435562/index.html">The path of a smoker: how to enter the profession of a programmer, if you are a humanist</a></li>
<li><a href="../435564/index.html">Using GtkApplication. Librsvg drawing features</a></li>
<li><a href="../435572/index.html">Anycubic i3 Mega: a quality remake of Prusa i3</a></li>
<li><a href="../435574/index.html">How does zig work?</a></li>
<li><a href="../435576/index.html">1C, do not hurt</a></li>
<li><a href="../435578/index.html">Spacewalk for Christmas</a></li>
<li><a href="../435580/index.html">Java, Spring, Kurento and Media Services</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>