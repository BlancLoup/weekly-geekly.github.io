<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Forecasting currency fluctuations by statistical methods</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="How it all began 
 Mastering a new direction in programming (programming for the MetaTrader platform), I got the idea to try my hand at something more...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Forecasting currency fluctuations by statistical methods</h1><div class="post__text post__text-html js-mediator-article"><h5>  How it all began </h5><br>  Mastering a new direction in programming (programming for the <i>MetaTrader</i> platform), I got the idea to try my hand at something more.  For example, to find some non-standard way of forecasting price movements for currency pairs. <br><br>  Initially, attempts were made to implement the library with all the statistical indicators, but halfway through, I found that those already exist: <ul><li>  <a href="http://codebase.mql4.com/ru/5933">codebase.mql4.com/en/5933</a> </li><li>  <a href="http://codebase.mql4.com/ru/732">codebase.mql4.com/en/732</a> </li></ul><br>  After analyzing their contents, I realized one simple thing ... <br><a name="habracut"></a><br>  All functions described and implemented in the above source are the <u>basis of standard trade indicators</u> . <br><br><h6>  For reference </h6>  <i><b>A trading indicator</b> is primarily an economic-mathematical model that appears in a convenient form, most often in the form of lines on or under the chart.</i>  <i>It is drawn in the wake of price changes or other market data.</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      All of them take statistics and mathematics as a basis, namely: approximation and interpolation, calculation of average values ‚Äã‚Äãof various orders, calculation of distribution histograms, etc. The data of such indicators are based on price readings depending on time. <br><br>  The number of formulas just inspired!  The idea seemed almost unreal, therefore I decided to put aside mate.  calculations and use a <b>template approach</b> . <br><br><h5>  How it was </h5><br><h6>  First step (failure) </h6><br>  Having tried to follow the example of indicators, I tried to analyze the price programmatically throughout the historical period of time.  Based on the size of the bar, its volume and direction: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d5d/9db/12c/d5d9db12cbb764d0d2bf9432890c6acd.png" alt="image"><br><br>  The result was zero!  Analyzing only the characteristics of the bar, it is almost impossible to predict the further behavior of the trend. <br><br><h6>  Second step (failure) </h6><br>  Next, attempts were made to find some "templates" consisting of several bars.  That is, now, the concept of a template was taken as a basis, or as I call it - a <b>mask</b> .  Also, a new concept was introduced - <i>mask length</i> . <br>  Having built a ‚Äúpyramid‚Äù of nested loops, I launched the first pass through the whole story in search of similar masks with a length of 6 bars.  The result shocked me!  The program has not found anything in the last 12 years!  Matches - 0!  What's wrong? <br><br>  After several hours of finishing the algorithm, it turned out that it was not the case.  It's all about the accuracy of the calculations.  Indeed, it is almost impossible to find identical masks of such length.  Without hesitation, I add an external parameter - the <b>maximum accuracy of calculations</b> .  We try to test again, only with a mask of 3 bars and a maximum accuracy of 90 percent.  The result is shocking again.  206 masks found, and they are located one on one: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2ca/ee8/6ee/2caee86ee738d2f5b92f380d6dd5ba8b.png" alt="image"><br><br>  Attempts to change the length of the mask or the accuracy always led to a zero result, then to a ‚Äúheap‚Äù of masks, in which practically nothing can be disassembled, what to say about prediction.  And failure again. <br><br><h6>  The third step is a welcome clarification. </h6><br>  After two absolutely failed attempts to realize the ‚Äúmy dream‚Äù indicator, which, based on statistics, will be able to answer the question ‚ÄúWhat will happen tomorrow?‚Äù, I have abstracted myself and decided to totally change the algorithm for working with the trend. <br><br>  I left behind the idea of ‚Äã‚Äãdirect price analysis, and hooked up the mat.  the device, or rather its implementation - <b>trading indicators</b> . <br><br>  In fact, if you think logically, indicators comprehensively describe the <i>state of the market</i> .  This statement can not even argue, it is clear.  Immersed in the question, it emerges from it that the more heterogeneous indicators we use, the more accurate our description of the current state of the trend. <br><br>  And then came the turning point!  We can get not only the values ‚Äã‚Äãof the price, according to historical data, but also so, without difficulty, we are able to calculate the state of the trend at any time in history. <br>  Only the technical part of the question remains. <br><br><h5>  What ended </h5><br>  As a result of the ‚Äúthird step‚Äù, an algorithm was developed to analyze the current state of the trend and search for pattern situations in history. <br><img src="https://habrastorage.org/getpro/habr/post_images/f55/abd/7f8/f55abd7f87fc4bc25a61c6c5bf07ee66.png" alt="image"><br>  On the screen, an example of the program, namely - one of the masks found.  It is characterized by two indicators: <br>  1. <b>accuracy</b> , which is calculated by the formulas for calculating the correlation coefficient but with small adjustments to the range of output data (leaving only values&gt; 0, because &lt;0 is already a completely opposite trend); <br>  2. the <b>ratio of volatilities</b> , I calculate this indicator based on the <i>height of the</i> current and found masks, so I get the values ‚Äã‚Äãin percent&gt; 0. <br><br>  In addition to these indicators, various types of dispersion, linear and standard deviations, rank correlation, concordance, etc. were taken into account, but they were not used in the calculation of the forecast, because  already indirectly embedded in it, in the form of trade indicators (with or without approximation).  To make it easier to understand the logic, take a look at the diagram: <br><img src="https://habrastorage.org/getpro/habr/post_images/ec7/b34/c46/ec7b34c462c45b8f7dc438fe0e00618d.png" alt="image"><br>  1. The price forms and provides the broker; <br>  2. Indicators, reading the price values, give out statistical values ‚Äã‚Äã(in the form of lines or histograms on the chart). All of them have open source code and are available by default in any trading terminal; <br>  3. The state of the trend is calculated based on the values ‚Äã‚Äãof many standard indicators (their list is clearly visible in the screenshots, on the right in the table).  The calculation of each indicator allows you to simplify the trend direction analysis scheme: up is a green (1) rectangle, down is a red (0).  Combinations of such units and zeros (78 signs) I call the <u>state of the trend</u> ; <br>  4. My calculations are based on a simple analysis of the above states.  After obtaining data on price and time, I just look at the future behavior of the market and calculate their total values, volatility and arithmetic average. <br><br>  As you can see - nothing complicated. <br><br>  This program successfully showed a good public forecast at the <a href="http://ideax-nescafe.com.ua/ideas/green/kompaniya-po-stvorennyu-bezk">competition of ideas from 03.15.2012</a> .  When following the guidance of this forecast, there was an opportunity to earn more than 1500 points for February 15-16, 2012.  At the moment, there are massive improvements and code optimization (because the calculations turned out to be very heavy), and soon, I will post it for everyone to see. <br><br><h5>  findings </h5><br>  Having stepped on a bunch of rakes, now with confidence, I can give a couple of tips to novice traders / researchers / programmers: <br>  1. Do not attempt to analyze specific price values. <br>  2. Price is a function of demand, supply and brokerage gimmicks. <br>  3. Try to approach the study of forecasting issues by the trader, broker and programmer. <br><br>  <b>Successful predictions to you!</b> <br><br><h5>  Basement </h5><br>  1. A brief definition of indicators taken from the site: <a href="http://infofx.ru/torgovye-metody/torgovye-indikatory/">http://infofx.ru/</a> <br>  2. Source code links lead to solutions of people unknown to me.  But I can assure you, these sorts are not capable of harming your computer, because  These are files in plain text format. <br>  3. Unfortunately, zero karma does not allow writing to Finance.  Adapted topic for this hub.  As soon as I can - I will transfer it. <br>  4. I am open to discuss this issue.  I will be glad to any comment or addition. </div><p>Source: <a href="https://habr.com/ru/post/140391/">https://habr.com/ru/post/140391/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../140383/index.html">Putting in order the outlet</a></li>
<li><a href="../140384/index.html">Teach HID device (read BT-keyboard) to work correctly</a></li>
<li><a href="../140387/index.html">What is the role of the first "random" layer in the Rosenblatt perceptron</a></li>
<li><a href="../140388/index.html">Description of how to work with Virtual Grid Control in Visual C ++</a></li>
<li><a href="../140390/index.html">Mysterious signs in the fields - solution</a></li>
<li><a href="../140394/index.html">Towards Skein: Blowfish is simple and straightforward.</a></li>
<li><a href="../140395/index.html">Meeting with the developers of the CUBRID DBMS at the RIT ++ 2012 conference in Moscow</a></li>
<li><a href="../140396/index.html">Atmel Studio 6 supports both AVR and ARM</a></li>
<li><a href="../140397/index.html">Integration of the program on C # with the calculated core ANSYS 11</a></li>
<li><a href="../140399/index.html">About the computational complexity of HTML and CSS algorithms</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>