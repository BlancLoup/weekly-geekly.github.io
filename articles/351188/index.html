<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What is the program between the lines</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Knowledge of the rules of a chess game still does not make a person a grandmaster, knowledge of a programming language does not make a person a progra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What is the program between the lines</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/webt/lf/jd/9v/lfjd9v3si55yrluchh6dabb7wpu.jpeg" alt="image"></div><br>  Knowledge of the rules of a chess game still does not make a person a grandmaster, knowledge of a programming language does not make a person a programmer.  And what is lacking in both cases?  We are looking for answers to both questions from recognized masters and trying to illustrate with our own examples. <a name="habracut"></a><br><blockquote>  <i>‚Äú- And what is this, comrades, does an idea mean?</i>  <i>The idea, comrades, is a human thought, clothed with logical chess form.</i>  <i>Even with insignificant forces, you can master the whole board.</i>  <i>It all depends on each individual.</i>  <i>For example, that blond in the third row.</i>  <i>Suppose he plays well ...</i> <i><br></i>  <i>The blond in the third row blushed.</i> <i><br></i>  <i>- And that brunet over there, let's say, worse.</i> <i><br></i>  <i>They all turned and looked at the brunet as well.</i> <i><br></i>  <i>- What do we see, comrades?</i>  <i>We see that the blonde plays well, and the brunette plays badly.</i>  <i>And no lectures will change this correlation of forces if each individual will not constantly train in a hat ... that is, I would like to say - in chess ... ‚Äú</i> <br>  I.Ilf, E.Petrov ‚Äú12 chairs‚Äù </blockquote>  Programming is like chess in the sense that knowledge of the ‚Äúrules of the game‚Äù (programming language, standard libraries) does not guarantee writing good code.  This, alas, is obvious to anyone who has spent at least a couple of dozen interviews on a programming position.  The Testament of the Great Combinator (education is nothing, the main experience) does not always work - a person may have 10 years of the same type of writing some kind of forms (a chess player is hardly strong, having played the same game for 10 years in a row). <br><br>  But the words of the maestro about the idea seem to me important.  For the program, comrades, is a human thought embodied in the form of a code.  Accordingly, a quality code arises as a result of the implementation of a quality thought (or, at least, at least some thought). <br><br>  I'm going to show with a simple example how to see this very idea behind the lines (or, rather, between the lines) of a program and why such a ‚Äúvision‚Äù helps to write quality programs.  I will say right away - the described technique (associated primarily with the names of Dijkstra and Hoare) for decades, and, unfortunately, it never became the ‚Äúmainstream‚Äù of programmer education.  But hope does not leave me, that a couple more convincing and accessible examples - and the ice will break ... 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      A rare book on introducing programming does without the task of the Hanoi towers.  Now we will encode a completely ‚Äúside‚Äù fragment of such a program.  We don‚Äôt even need to know what the ‚Äúfull version‚Äù of the game of towers of Hanoi consists of, and in our programming language there will be only two teams.  So. <br><br>  <b>Given.</b>  Three pins (1, 2, 3) are shown on the three-color screen; a ring is worn on the first pin. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lg/hk/ug/lghkugk7jzs28763cel1skf7xxs.png"></div><br>  The pins are black, the ring is gray, the background is white.  Two commands are available: <br>  <b>Pin</b> ( <i>number</i> , <i>color</i> ) <br>  <b>Ring</b> ( <i>number</i> , <i>color</i> ) <br>  Each team fills the corresponding rectangle with the corresponding color.  For example, if you give the command Ring (3, white) in the described initial situation, then the bottom part of the right pin will disappear. <br><br>  It is required to write a program, as a result of which the ring will move to the middle pin.  Commands work instantly, no ‚Äúanimation effects‚Äù are possible and are not required. <br><br>  Try to write the necessary fragment yourself.  Too obvious?  All the better. <br><br>  This task was offered to people with very different degrees of training.  All coped, giving one of three programs: <br><br><div class="spoiler">  <b class="spoiler_title">Solutions</b> <div class="spoiler_text"><table><tbody><tr><td align="center">  A </td><td align="center">  B </td><td align="center">  C </td></tr><tr><td>  Ring (1, white) <br>  Pin (1, black) <br>  Ring (2, gray) <br></td><td>  Ring (2, gray) <br>  Ring (1, white) <br>  Pin (1, black) <br></td><td>  Ring (1, white) <br>  Ring (2, gray) <br>  Pin (1, black) <br></td></tr></tbody></table></div></div><br>  In a random audience decisions A, B, C were issued with approximately equal probability.  But the strong programmers wrote only option A, were surprised when they were informed that there were other options, and could not explain what option A is better.  Let's try to figure it out.  To begin with, we will provide program A with comments: <br><br>  <font color="green">// ring on pin 1</font> <br>  <b>Ring</b> (1, white) <br>  <b>Pin</b> (1, black) <br>  <font color="green">// all pins are empty</font> <br>  <b>Ring</b> (2, gray) <br>  <font color="green">// ring on pin 2</font> <br><br>  In all comments, we describe only the image obtained at the appropriate stage of execution, that is, it is <font color="red">not the</font> program's <font color="red">actions</font> that are commented on, but the system <b>state</b> before / after the corresponding actions. <br><br>  What is good program A?  It has a simple, symmetrical (with respect to the pin number) and a natural (so it would be in reality) intermediate state.  The state between the first and second teams (spoiled first pin) does not have a simple description and does not correspond to reality.  Perhaps this is why an experienced programmer intuitively seeks to first leave this suspicious state and only then move on. <br><br>  Okekey, the patient reader will say, we respect the author‚Äôs beliefs, but what is the practical meaning of all this, apart from abstract morality?  Are programs B and C worse in practice? <br><br>  Let's take a closer look at program B using the same technique - we will comment on the intermediate states of the system. <br><br>  <font color="green">// ring on pin 1</font> <br>  <b>Ring</b> (2, gray) <br>  <font color="green">// rings on pins 1 and 2 ???</font> <br>  <b>Ring</b> (1, white) <br>  <b>Pin</b> (1, black) <br><br>  As you can see, and here you can describe the estimated intermediate state.  And this description should instantly ignite an alarming signal for the developer - by the condition of the problem we have only one ring, not two.  It would seem that for children's fears - this software, as we want, draw so much.  Why an experienced programmer does not choose this path?  Perhaps because it saves mental effort - program A is ‚Äúwritten off‚Äù from reality, this is how we would rearrange the real ring on real pins.  The consistency and feasibility of plan A is in some sense guaranteed by nature, which saves on formal guarantees.  Plan B assumes a certain ‚Äúvirtual reality‚Äù, the consistency of which requires careful analysis.  Two rings on adjacent pins - and they fit there?  After such a question, the failure test for program B becomes obvious: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/er/uh/xf/eruhxf8ftlg8prhaotaqovbfbum.png"></div><br>  Program C operates in approximately the same order as A, only it postpones the elimination of minor defects for later.  There is no understandable intermediate state in it, as a result of which the reader's attention constantly jumps from the first pin to the second and back - to understand what is happening, you should keep in mind all three commands and the entire modified part of the picture at the same time.  Perhaps an experienced programmer avoids this path again, because of mental savings - it‚Äôs better that we quickly solve all the problems with the start pin and forget about them. <br><br>  Practical problems with program C are less obvious than in case B. Imagine that the customer of the program later wished to transfer the ring from an arbitrary pin s (assuming it was there) to an arbitrary pin d.  We will need to modify the original program (refactoring, yes).  A natural idea seems to replace everywhere constant 1 with variable s and constant 2 with variable d.  It turns out that program A maintains such refactoring perfectly, but program C does not - it will not work correctly with s = d (check!). <br><br>  <b>Observation</b>  Please note that choosing the right coding option is significantly easier than understanding where the other options will break (if we, of course, can read the program between the lines, consciously or intuitively).  In our opinion, a programmer's qualification primarily consists not in the ability to understand where the error is in the program, but in the ability to write a program so that the probability of an error is minimal.  Recall the saying about the resourceful and wise: the resourceful is able to extricate himself from difficult situations, and the wise simply do not get into them. <br><br>  In conclusion, another version of the same program, demonstrating a watershed between science and industry. <br><br>  <b>Ring</b> (1, white) <br>  <b>Ring</b> (2, white) <br>  <b>Ring</b> (3, white) <br>  <b>Pin</b> (1, white) <br>  <b>Pin</b> (2, white) <br>  <b>Pin</b> (3, white) <br>  <font color="green">// solid white background</font> <br>  <b>Pin</b> (1, black) <br>  <b>Pin</b> (2, black) <br>  <b>Pin</b> (3, black) <br>  <font color="green">// three empty pins</font> <br>  <b>Ring</b> (2, gray) <br>  <font color="green">// ring on pin 2</font> <br><br>  Such a decision is hardly appropriate in a university course or an interview, but it may be suitable in production.  The author of the program honestly admitted that he could not calculate the correct ‚Äúincremental change‚Äù and drew everything from scratch.  Unlike the authors of programs B and C, he apparently was able to discern potential difficulties, but did not have the time or the ability to cope with them more effectively.  It is useless to expect that in the near future there will be enough programmers writing a brilliant code.  But maybe we can at least teach most coders to write ‚Äústupid‚Äù code like this? </div><p>Source: <a href="https://habr.com/ru/post/351188/">https://habr.com/ru/post/351188/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../351176/index.html">Personal recommendations in ivi: Hydra</a></li>
<li><a href="../351178/index.html">How we adopted the Khan Academy experience and made our course for testers</a></li>
<li><a href="../351180/index.html">JetBrains Open Day in Moscow</a></li>
<li><a href="../351182/index.html">Hosting PCI DSS: what you need to know</a></li>
<li><a href="../351184/index.html">How to adapt the game on Unity for iPhone X to April</a></li>
<li><a href="../351190/index.html">CSS ScaleFlux, or how to speed up databases by two or three times by simply replacing NVMe</a></li>
<li><a href="../351192/index.html">We invite on March 17 to the meeting of the Moscow Testers Club</a></li>
<li><a href="../351194/index.html">Pitfalls Service Workers</a></li>
<li><a href="../351196/index.html">Do I need to save data from employees</a></li>
<li><a href="../351198/index.html">Organization of information systems production processes. Part 4. Implementation of the information system</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>