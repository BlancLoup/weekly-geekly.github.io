<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating an FB2 version of the latest issue of a magazine / newspaper</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Prehistory 
 Recently, more and more magazines and newspapers are posting their latest numbers on the network (Vedomosti, Expert, Esquire, etc.). Ever...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating an FB2 version of the latest issue of a magazine / newspaper</h1><div class="post__text post__text-html js-mediator-article"> <a title="Electronic version of the newspaper" href=""><img src="https://habrastorage.org/storage/habraeffect/33/07/3307f7994ae5407af1fdb71ff31e5315.jpg"></a> <br><h2>  Prehistory </h2><br>  Recently, more and more magazines and newspapers are posting their latest numbers on the network (Vedomosti, Expert, Esquire, etc.).  Everything is good with these numbers with one exception - to read them you need internet. <br>  With the Internet, the problem is that it is not everywhere (metro) and not every device sees it (most e-ink readers). <br>  In this regard, the idea was born that it would not be bad to make copies of periodicals in the form of electronic books (for example, in FB2 format). <br><a name="habracut"></a><br><h2>  Task </h2><br>  Create a solution that allows you to generate an FB2 file format from a piece of the site containing the desired issue of the journal (for example, <a title="Expert number 32 for 2010" href="http://expert.ru/printissues/expert/2010/32">Expert No. 32 for 2010</a> ). <br>  The file should contain pictures and a table of contents with a list of articles is desirable. <br>  Creating a file with a new number should occur in (semi) automatic mode, take no more than 5-10 minutes and do not require serious manual processing. <br><br><h2>  Search for a solution </h2><br><h3>  What-To-&gt; FB2 Converter </h3><br>  As it turned out the HTML-&gt; FB2 converters cat wept.  And there are no such ones that can automatically process a pack of html pages and correctly compile a table of contents and register links.  <s>Although maybe I was looking bad or did not understand the possibilities of what I found.</s> <br>  For a start, I tried all the editors described in the <a href="http://www.computerra.ru/terralab/softerra/487676/">review of computers</a> . <ul><li>  "Any to FB2" - completely killed the Cyrillic (most likely because of the curved hands) and is designed to work with one page. </li><li>  ‚ÄúFictionBook Designer‚Äù is a powerful thing, but does not have (did not find) the autoconversion function. </li><li>  <a href="http://www.web2fb2.net/">Web2FB2</a> - closest to <a href="http://www.web2fb2.net/">what you</a> want, but has a 10 page limit and puts everything in one pile without a table of contents </li></ul><br>  Further search brought on the remarkable service <a title="RSS2FB2 FeedConverter" href="http://appfactory.ru/projects/feedconverter/">FeedConverter</a> (about this service on Habr√© <a href="http://habrahabr.ru/blogs/i_am_advertising/87562/">already wrote</a> ). <br>  Testing on the first Russian RSS feed showed that the service: <ul><li>  copes with the Cyrillic alphabet </li><li>  generates a table of contents in the form of a list of records </li><li>  takes pictures </li></ul>  Those.  now, in order to get the result, it‚Äôs enough to feed a feed to the input to this service, in which there will be full-text article numbers. <br><br><h3>  Full-text RSS feed </h3><br>  The site in question does not provide full-text RSS with the given numbers.  Only <a title="The latest issue of Expert magazine" href="http://expert.ru/printissues/expert/rss/">anotations of the last issue</a> . <br>  It‚Äôs convenient to use <a href="http://pipes.yahoo.com/">Yahoo Pipes</a> to create Full Text RSS.  We feed him our stream, and in the cycle we load the full text of the article - <a href="">http://pipes.yahoo.com/pipes/pipe.edit?_id=661b8231fa3df88317939d452e772c10</a> .  If the site does not provide an RSS feed at all, but only publishes articles (such as Esquire), the Yahoo Pipes engine allows you to parse the content of the page, get links from there and download the necessary articles.  For this, I created a pipe <a href="">http://pipes.yahoo.com/pipes/pipe.edit?_id=85427a7ff66aa7c06a1fa8da677fbd25</a> <br>  This mechanism has a plus in that it allows you to get any number, not just the last one. <br>  To do this, in the call line you just need to change the parameter that is responsible for the year and the number within the year <a href="">http://pipes.yahoo.com/pipes/pipe.run?_id=85427a7ff66aa7c06a1fa8da677fbd25&amp;_render=rss&amp;number= <strong>31</strong> &amp; year = <strong>2010</strong></a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Total </h2>  The final algorithm for creating FB2 periodicals is as follows: <ol><li>  Find a site with information </li><li>  We take RSS or index page </li><li>  Parsim a page in <a href="http://pipes.yahoo.com/">Yahoo Pipes</a> and pull up the full articles </li><li>  Feed the FeedConverter pipe and <a title="RSS2FB2 FeedConverter" href="http://appfactory.ru/projects/feedconverter/">pick up the</a> FB2 book </li><li>  ?????? </li><li>  PROFIT! </li></ol>  With the once configured pipe, getting a new number in FB2 will consist of entering the <a title="RSS2FB2 FeedConverter" href="http://appfactory.ru/projects/feedconverter/">FeedConverter</a> website and pressing the generation button. <br><br><h3>  A spoon of tar </h3><ul><li>  Due to the fact that <a href="http://pipes.yahoo.com/">Yahoo Pipes</a> does not work too fast, the generation may not be completed on the first attempt.  Hopefully the creators of <a title="RSS2FB2 FeedConverter" href="http://appfactory.ru/projects/feedconverter/">FeedConverter</a> will do something with this. </li><li>  <s><a href="http://pipes.yahoo.com/">Yahoo Pipes</a> has restrictions on how much CPU time can be eaten by one pipe.</s>  <s>In this connection, some volume issues of the journal do not fit into the Procrustean bed and fly out with an error (for example, <a href="">Expert No. 1 for 2010</a> ).</s>  <s>What to do with this is not clear.</s>  <s>Perhaps it is worth spreading the parsing and loading of texts into different pipes.</s> <s><br></s>  Uploading full articles can be <a href="http://readbox.info/full_rss_feeds">posted</a> on <a href="http://readbox.info/full_rss_feeds">ReadBox.info</a> (see below) </li></ul><br>  <strong>Update 1:</strong> Below in the comments suggested a great service for creating full-text versions - <a href="http://readbox.info/full_rss_feeds">ReadBox.info</a> .  In order to get FullText feed at the entrance you need to feed the RSS feed and XPath block with text.  Thus, the text loading function can be removed from Y! P, which will allow it to work more stably. <br>  Actually now the process can be done like this: <br><ol><li>  Find a site with information </li><li>  We take RSS or index page </li><li>  We leave only the necessary articles or parsim index page in <a href="http://pipes.yahoo.com/">Yahoo Pipes</a> </li><li>  We tighten the full text of articles using <a href="http://readbox.info/full_rss_feeds">ReadBox.info</a> </li><li>  Feed RSS <a title="RSS2FB2 FeedConverter" href="http://appfactory.ru/projects/feedconverter/">FeedConverter and pick up</a> FB2 book </li><li>  ?????? </li><li>  PROFIT! </li></ol><br>  <strong>Update 2:</strong> For those who are not afraid of picking in configs and smoking manuals there is an excellent program for our goal - <a href="http://sites.google.com/site/nmdparser/">nmdparser</a> .  Here is an example of how it can be configured to receive an <a href="http://sites.google.com/site/nmdparser/stati/polucenie-arihivnoj-kopii-zurnala-avtorevu">archive copy of the Auto Retrieval</a> in <a href="http://sites.google.com/site/nmdparser/stati/polucenie-arihivnoj-kopii-zurnala-avtorevu">FB2</a> . </div><p>Source: <a href="https://habr.com/ru/post/102106/">https://habr.com/ru/post/102106/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../102101/index.html">advertising</a></li>
<li><a href="../102102/index.html">Gmail: New Feature in Labs - Apps Search</a></li>
<li><a href="../102103/index.html">Happy Birthday Haiku!</a></li>
<li><a href="../102104/index.html">Fragment of the discussion of the translation of the "computer hockey" into Russian in an echo conference Ru.Hokku in October 2003</a></li>
<li><a href="../102105/index.html">User Renewal</a></li>
<li><a href="../102109/index.html">The crisis in the economy and ethics in business</a></li>
<li><a href="../102112/index.html">RIP "Well, Wait!" Or copyright story</a></li>
<li><a href="../102119/index.html">Geoip</a></li>
<li><a href="../102121/index.html">R. Feynman "The nature of physical laws" (second lecture)</a></li>
<li><a href="../102122/index.html">Features of using GD-lib on PHP hosting with limited resources</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>