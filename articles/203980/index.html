<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>XCP for those who want but are afraid</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At one time, many of us come to such a wonderful technology as virtualization. Someone just wants to try it out, others see it as an opportunity to ea...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>XCP for those who want but are afraid</h1><div class="post__text post__text-html js-mediator-article"> At one time, many of us come to such a wonderful technology as virtualization.  Someone just wants to try it out, others see it as an opportunity to ease the administration and development process.  It is only important what technology we will use to solve the tasks and, accordingly, how difficult it will be in the study and further support.  Shoveling mountains of information and conducting comparisons of the technologies presented, many, including myself, emphasize the availability of accessible and understandable information.  So the replenishment of knowledge sources is one of the important tasks of the IT community. <br><br>  For those who say about the inappropriateness of such information here, I want to note that if this cycle of posts is not relevant here, then why do you need Habr in general? <br><br>  This post wants to start a series of articles on the Xen Cloud Platform.  As a guinea pig, XCP 1.6 will be used; therefore, it was his name, he answered all the goals that were set for the future virtual machine, is not picky about resources, is free.  This is not just a virtualization technology; it is also a cloud platform (what the name itself says).  But first of all it is a very convenient, interesting and productive hypervisor.  Here's how to make friends with him, and I want to tell you today. <br><a name="habracut"></a><br>  Some background information.  There is a small network of 80 machines geographically located in one building, there are several servers that serve this network and connected remote clients.  The network is gradually being modernized, the server park is growing, but with iron, as usual, there is no problem, then there is no money, then just get out the way you want, but it should work.  It was from these prerequisites that my acquaintance with XCP began, to be honest, I practically did not come across any virtualization earlier.  Using Virtualbox to solve one-time tasks does not count.  Designating a circle of supposed tasks that will be solved by means of virtual servers and estimating which capacities will be required for this, it was decided to use the servers with 4 screws in RAID 0 + 1 and 16 Gb of RAM and 2 embedded gigabit network as the HP DL120 G7 host machines.  In the future, we had to add network cards - but this is a separate story. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, having familiarized myself with the current state of affairs in the hypervisor market and after reading the reviews, I stopped at the XCP.  Somewhere on the Internet there was an article about its installation (and the article was originally in English and not complete, when trial and error Xen already stood found its equivalent in Russian).  But again, in my opinion, the article was not complete, and I decided to describe my thorny path ... <br><br>  You can download the hypervisor on off.  project website <a href="http://www.xenproject.org/">http://www.xenproject.org</a> <a href="http://www.xenproject.org/downloads/xen-cloud-platform-archives/xen-cloud-platform-16.html">at</a> .  There you can download and useful add-ons, source and so on.  To install, you can burn the image on a DVD or using the UltraISO utility, deploy the image on a flash drive (4GB is more than enough).  As a preliminary preparation, using a disk from HP, I configured a RAID (1 TB total volume) and split it into 2 partitions: 1st per 100GB under the hypervisor and 2nd under Storage (storage) for virtual machines (VM). <br><br>  To revive the post, add a little bit of pictures to it, naturally with comments.  Pictures are planned for about 25 pieces. <br><br>  1. The installation screen greets us with the keyboard layout selection window, I left English as the default (more precisely American). <br><img src="https://habrastorage.org/getpro/habr/post_images/d71/d9e/96f/d71d9e96f3e253f4b82d9f30032dd098.jpg"><br><br>  2. The warning window, they say, take your important data, because this utility can delete everything during the installation.  We are brave guys do not get lost and agree with the possible consequences. <br><img src="https://habrastorage.org/getpro/habr/post_images/184/173/4a9/1841734a985761d547b6622c030741ca.jpg"><br><br>  3. We agree with the license offered to us. <br><img src="https://habrastorage.org/getpro/habr/post_images/407/3c7/b8e/4073c7b8eea0f27c1691b6304490c7d9.jpg"><br><br>  4. Select the disk on which we will have the hypervisor itself (I chose sda ‚Äã‚Äã- size per 100 GB). <br><img src="https://habrastorage.org/getpro/habr/post_images/dd8/210/36b/dd821036b28e7d4f60107539a4bd1ef8.jpg"><br><br>  5. Select the storage location for our future VM Storage virtual machines (here choose sdb). <br><img src="https://habrastorage.org/getpro/habr/post_images/cdd/8e4/125/cdd8e4125249a571cb70cf6241fc531c.jpg"><br><br>  6.We indicate the source from which the installation will be performed - here we leave Local media <br><img src="https://habrastorage.org/getpro/habr/post_images/50e/ca0/995/50eca0995378327c53dc8f2dae3660e5.jpg"><br><br>  7. Whether we want to install additional packages, I chose Yes, but since there are no additional packages by default, feel free to choose No. <br><img src="https://habrastorage.org/getpro/habr/post_images/6cc/42c/4d6/6cc42c4d66807d49a21376fb5871a648.jpg"><br><br>  8. Do we want to check your carrier for correctness, if you are in a hurry somewhere then choose Skip verivications, but it‚Äôs better not to hurry and check the carrier. <br><img src="https://habrastorage.org/getpro/habr/post_images/381/1b5/4d7/3811b54d7ee1cb058692f6b8a370b280.jpg"><br><br>  9. If everything went well, we will see a message like this, and we will be glad to click Ok. <br><img src="https://habrastorage.org/getpro/habr/post_images/44b/957/996/44b957996295a37d8946f50c7a975e20.jpg"><br><br>  10. It is time to establish a root password (I strongly recommend that you save it somewhere, otherwise there are all sorts of cases). <br><img src="https://habrastorage.org/getpro/habr/post_images/100/9b7/78d/1009b778d78fd53fc876701980421661.jpg"><br><br>  11. Select the network card that will be used to manage your hypervisor. <br><img src="https://habrastorage.org/getpro/habr/post_images/dd0/ffb/ba0/dd0ffbba0a8c43a81b1d95286ebc8168.jpg"><br><br>  12. Configure your network card. <br><img src="https://habrastorage.org/getpro/habr/post_images/2e9/409/c12/2e9409c12d4fae1920ba4c978951cd0c.jpg"><br><br>  13. Specify the name of our hypervisor, and data DNS servers. <br><img src="https://habrastorage.org/getpro/habr/post_images/917/c25/f40/917c25f40daee6de65ec91a997517009.jpg"><br><br>  14. Specify the time zone and the city with the correct time zone (by the way, it‚Äôs a serious moment, later I will describe what problems this might cause). <br><img src="https://habrastorage.org/getpro/habr/post_images/8da/60c/e16/8da60ce168ac16790ac588bade33e3d9.jpg"><br>  and <br><img src="https://habrastorage.org/getpro/habr/post_images/44c/a30/e4b/44ca30e4bb17cf8951e123e57fdc235d.jpg"><br><br>  15. We inform about the manual configuration of NTP. <br><img src="https://habrastorage.org/getpro/habr/post_images/bf5/448/6f8/bf54486f82bfb7b58134cad08d8400e4.jpg"><br><br>  16. Click on the cherished Install XCP button and wait until the installation process is completed (subjectively, no more than 5 minutes). <br><img src="https://habrastorage.org/getpro/habr/post_images/c58/f7e/75b/c58f7e75b7ef9abe5e43dd3e5f1e4dae.jpg"><br><br>  17. Perform customization of the current date and time. <br><img src="https://habrastorage.org/getpro/habr/post_images/440/d93/3ca/440d933cae565a5f9b9946ddb9b934b9.jpg"><br><br>  18. And we meditate with the panda on the launch of the established Xen. <br><img src="https://habrastorage.org/getpro/habr/post_images/b32/d80/891/b32d808915a53c445815bb68be28d18c.jpg"><br><br>  19. If everything went smoothly and cleanly, then we will be able to witness such a console (in the future it is easy to call it with the <code>xsconsole</code> command). <br><img src="https://habrastorage.org/getpro/habr/post_images/69b/739/72e/69b73972ec28e9bfbafa03269cc174ca.jpg"><br><br>  In general, the installation of XCP 1.6 on this and completed, you can safely go to the administration stage.  And then there is someone to like, who loves the console, who likes what thread the client is.  I use XenCenter, you can download it <a href="">here</a> , the latest version is 6.2. <br><br>  By itself, the client is intuitive, and allows you to perform almost all operations with virtual machines, the exclusion of ‚Äúlow-level‚Äù storage and fine-tuning of the hypervisor itself. <br><br>  20. So this is the process of connecting to our control center of a new hypervisor. <br><img src="https://habrastorage.org/getpro/habr/post_images/49d/9ef/b3b/49d9efb3b71f076530d10797a7a4fe12.jpg"><br><br>  21. He will curse the SSL certificate, and we will graciously accept it by clicking on Accept. <br><img src="https://habrastorage.org/getpro/habr/post_images/16d/c2a/9f8/16dc2a9f8cad4c5fb35e451529c71cfd.jpg"><br><br>  22. This is what my testing ground looks like, everything is quite civil and informative. <br><img src="https://habrastorage.org/getpro/habr/post_images/0a5/a1c/45a/0a5a1c45a3500b83256cfbc4da3d6b40.jpg"><br><br>  For this, let me leave.  In the following parts, I plan to highlight the topic of installing drivers for non-default hardware using the example of a network card, as it turned out to be a rather trivial task, creating and managing virtual machines, creating a pool, connecting and working with external storage.  Ready to answer possible questions, alas, even with such a seemingly ‚Äútoy‚Äù system, adult problems may arise. </div><p>Source: <a href="https://habr.com/ru/post/203980/">https://habr.com/ru/post/203980/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../203966/index.html">UEFI - Aah, I heard ... but still, what is it?</a></li>
<li><a href="../203968/index.html">Grid control</a></li>
<li><a href="../203970/index.html">LINQ for SQL emulation on Delphi</a></li>
<li><a href="../203972/index.html">Universal way to quickly take a screenshot in linux</a></li>
<li><a href="../203974/index.html">Why do many banks and payment systems worry little about the safety of their customers?</a></li>
<li><a href="../203984/index.html">It is a little about neutrino, cosmology and domestic projects</a></li>
<li><a href="../203986/index.html">How we accelerated the search on hh.ru</a></li>
<li><a href="../203988/index.html">Furious bulls: how Wall Street became dependent on "high-speed" trades. Part 4</a></li>
<li><a href="../203992/index.html">Running PhoneGap applications in a desktop browser</a></li>
<li><a href="../203994/index.html">What is the problem of "BEM problems"?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>