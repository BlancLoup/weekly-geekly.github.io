<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Writing our first Brackets plugin</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Brackets is a free open source editor from Adobe that web developers love because of their killer feature Extract from PSD files. Brackets supports a ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Writing our first Brackets plugin</h1><div class="post__text post__text-html js-mediator-article">  Brackets is a free open source editor from Adobe that web developers love because of their killer feature Extract from PSD files.  Brackets supports a JS-based plugin extension system.  I would like to tell you about the process of developing one of these plugins. <a name="habracut"></a><br><br>  Brackets comes with a small number of out-of-the-box plugins.  For this reason, the first thing new users usually do is to install additional extensions.  But after a while, you probably catch yourself thinking ‚Äúif only Brackets had a function ...‚Äù.  Fortunately, Brackets is an open source editor.  It is itself a web application: it is built on our favorite technologies (HTML, CSS, JS) and if you are a web developer, you can help its development by writing an extension.  And it is much easier than you could imagine. <br><br><h3>  Hello world </h3><br>  Strictly speaking, the extension is nothing more than a folder containing a JS file named main.js, which is executed when Brackets starts.  You can find the folder with extensions by selecting the menu item ‚ÄúHelp - Show extensions directory‚Äù. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Open the folder with extensions and inside / user create a new folder ‚ÄúmyFirstExtension‚Äù.  Inside this folder, create a file main.js.  For a quick start, try inserting a simple HelloWorld code: <br><br><pre><code class="javascript hljs">define(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">require, exports, module</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Hello myFirstExtension!'</span></span>); });</code> </pre> <br>  Restart Brackets through the Debug - Reload menu and invoke the developer tools (F12 or Debug - Show Developer Tools) to see the result of your extension. <br><br>  JavaScript modules in Brackets work like CommonJS modules.  Understanding this process is beyond the scope of this tutorial, but all we need to know is that all the code in the body of the anonymous function inside define () is executed when the application is started. <br><br><h3>  Hello alert </h3><br>  Most likely you would like to make an extension that would execute some code not during Brackets loading, but when the user selects a menu item.  This behavior is implemented using the command manager.  Like almost everything in Brackets, the command manager itself is a module.  To access the module, simply call brackets.getModule (). <br><br><pre> <code class="javascript hljs">define(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">require, exports, module</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> CommandManager = brackets.getModule(<span class="hljs-string"><span class="hljs-string">'command/CommandManager'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// ,       function handleHelloWorld() { window.alert('Hello, world!'); } // -,  ,   ID   handleHelloWorld var COMMAND_ID = 'helloworld.sayhello'; // package-style    var COMMAND_NAME = 'Hello World'; CommandManager.register(COMMAND_NAME, COMMAND_ID, handleHelloWorld); // -,         var Menus = brackets.getModule('command/Menus'); var fileMenu = Menus.getMenu(Menus.AppMenuBar.FILE_MENU); fileMenu.addMenuItem(COMMAND_ID); });</span></span></code> </pre><br><div style="text-align:center;"><img src="https://habrastorage.org/files/757/620/7d1/7576207d1a5c4028b468ad508cabb66f.png"></div><br><h3>  Hello document </h3><br>  Now let's try to do something conditionally useful.  Brackets has a great Extract function that allows you to cut images, get CSS properties and copy text directly from a PSD file.  However, the text is transmitted in the form of HTML entities, which is not always convenient. <br><br><pre> <code class="html hljs xml">&amp;# 1052;&amp;# 1086;&amp;# 1080; &amp;# 1082;&amp;# 1085;&amp;# 1080;&amp;# 1075;&amp;# 1080;</code> </pre><br>  Let's try to write an extension that will convert these characters into plain text.  We will decode using the <a href="https://gist.github.com/CatTail/4174511">JS-function</a> . <br><br>  In Brackets, open files are represented as instances of the Document class.  To get a link to the current document (the file opened by the user for editing), we must use the EditorManager module. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleDecodeHtml</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> editor = EditorManager.getFocusedEditor(); <span class="hljs-comment"><span class="hljs-comment">//   var selectedText = editor.getSelectedText(); //    var newText = decodeHtmlEntity(selectedText); //  var selection = editor.getSelection(); editor.document.replaceRange(newText, selection.start, selection.end); //  }</span></span></code> </pre><br>  <a href="http://brackets.io/docs/current/modules/document/Document.html">ReplaceRange</a> adds, replaces or deletes text.  If a range is specified, the text in this range will be replaced with a new one.  If the third argument is not specified, then the new text will be inserted without replacing the selection. <br><br>  That's all.  It remains to "register" in the "Edit" menu, in the context menu and add hotkeys. <br><br><pre> <code class="javascript hljs">define(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">require, exports, module</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> CommandManager = brackets.getModule(<span class="hljs-string"><span class="hljs-string">'command/CommandManager'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Menus = brackets.getModule(<span class="hljs-string"><span class="hljs-string">'command/Menus'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Menu = Menus.getMenu(Menus.AppMenuBar.EDIT_MENU); <span class="hljs-comment"><span class="hljs-comment">//  "" var ContextMenu = Menus.getContextMenu(Menus.ContextMenuIds.EDITOR_MENU); var KeyManager = brackets.getModule('command/KeyBindingManager'); // ... var COMMAND_ID = 'decodehtmlentity.convert'; CommandManager.register('Decode HTML Entity', COMMAND_ID, handleDecodeHtml); Menu.addMenuItem(COMMAND_ID); KeyManager.addBinding(COMMAND_ID, 'Ctrl-Alt-D'); // Ctrl    CMD  Mac ContextMenu.addMenuItem(COMMAND_ID); });</span></span></code> </pre><br><h3>  Hello publishing </h3><br>  To <a href="https://github.com/adobe/brackets/wiki/Extension-Registry-Help">publish an application</a> , you need to add package.json to the folder with main.js.  The package format is pretty simple and will be familiar to those who have experience with Node.js and npm. <br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"brackets.decode-html-entity"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Decode HTML Entity"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"This extension uses to decode any HTML-encoded string."</span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"0.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"engines"</span></span>: { <span class="hljs-string"><span class="hljs-string">"brackets"</span></span>: <span class="hljs-string"><span class="hljs-string">"&gt;=1.7.0"</span></span> }, <span class="hljs-string"><span class="hljs-string">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"MIT"</span></span>, <span class="hljs-string"><span class="hljs-string">"i18n"</span></span>: [<span class="hljs-string"><span class="hljs-string">"en"</span></span>, <span class="hljs-string"><span class="hljs-string">"ru"</span></span>], <span class="hljs-string"><span class="hljs-string">"package-i18n"</span></span>: { <span class="hljs-string"><span class="hljs-string">"ru"</span></span>: { <span class="hljs-string"><span class="hljs-string">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"     HTML-."</span></span> } } }</code> </pre><br>  Archive the folder with the extension (there is a ‚ÄúDownload ZIP‚Äù button on the githaba), log in to the <a href="https://brackets-registry.aboutweb.com/">brackets-registry</a> site and publish your extension by downloading the zip file to the registry. <br><br>  The source code of the plugin <a href="https://github.com/zapolnoch/brackets.decode-html-entity">is available on gitbach</a> . </div><p>Source: <a href="https://habr.com/ru/post/309256/">https://habr.com/ru/post/309256/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../309244/index.html">Data Science Week 2016</a></li>
<li><a href="../309246/index.html">Data Science Tools as an Alternative to Classic IT Systems Integration</a></li>
<li><a href="../309248/index.html">ACIT will assume the role of an ‚Äúarbitrator‚Äù in conflicts between online sellers and consumers</a></li>
<li><a href="../309252/index.html">Voronoi diagram and its applications</a></li>
<li><a href="../309254/index.html">Apple vs cryptocurrency Dash: privacy is at stake</a></li>
<li><a href="../309258/index.html">Online data analysis software on Stepik.org</a></li>
<li><a href="../309260/index.html">The hunt for Lurk: from the study of malicious code to a criminal case</a></li>
<li><a href="../309262/index.html">4 thieves of productivity</a></li>
<li><a href="../309264/index.html">Worker question: why are western IT companies interested in autistic employees?</a></li>
<li><a href="../309266/index.html">Peter Lowry: ‚ÄúThe greatest difficulty is in understanding the methodology‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>