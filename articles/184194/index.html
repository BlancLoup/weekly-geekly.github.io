<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Embedding advertising into a Windows Phone 8 app with NAX</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article, we will show an example of the practical use of the Nokia Ad Exchange (NAX) technology based on Inneractive. 

 . 



 NAX gives you ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Embedding advertising into a Windows Phone 8 app with NAX</h1><div class="post__text post__text-html js-mediator-article">  In this article, we will show an example of the practical use of the Nokia Ad Exchange (NAX) technology based on <a href="http://www.inner-active.com/">Inneractive.</a> <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/Z0W81hOQdK0%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700253&amp;usg=ALkJrhi_UoMoNP8YHzCxj29pt55IwE7Hrg" frameborder="0" allowfullscreen=""></iframe>  . <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      NAX gives you access to the largest ad exchange networks, you only need a PayPal account to receive your money. <br><br>  Main features of NAX: <br>  - Access to over 120 ad networks with a single SDK. <br>  - Payments are available in more than 200 countries. <br>  - Ability to independently adjust the advertising campaign to promote your application. <br>  - Functional advertising control panel. <br>  - NAX software developers free. <br><br>  To start using NAX, you need to <a href="https://nax.nokia.com/">register</a> and download the SDK on the page with the development tools for Windows Phone 8. <br><br><img src="https://habrastorage.org/storage2/8cc/5ba/022/8cc5ba02216ec1747448e624b79d31e4.png"><br><br>  We strongly recommend that you read the Ad Placement Strategy.html file in the Documentation folder, which discusses options for placing an ad unit.  The selected location significantly affects advertising revenue. <br><br><h5>  Placing an advertisement file in a Windows Phone project </h5><br><br>  From the InneractiveAdSDK folder of the unpacked SDK, you need to copy the files to the root folder of your Visual Studio project (placement in the root directory is necessary for simplicity, files can be placed and simply in a separate folder): <br>  - Inneractive.Ad.dll, <br>  - InneractiveAdLocation.cs (this file should be extracted only if you want to use location-based advertising in your WP application). <br><br><img src="https://habrastorage.org/storage2/fee/8bb/3a1/fee8bb3a11fbd9f3e9e556af05cdab68.png"><br><br>  Then open the Add / Existing Item item in Visual Studio and select both files. <br><br><h5>  Register Inneractive.Ad.dll </h5><br><br>  Now register the file Inneractive.Ad.dll.  To do this, use the References / Add Reference, then click the Browse button and locate the dll file in the Windows Phone folder.  After successfully adding the dll file you will need this link: <br><br><img src="https://habrastorage.org/storage2/dbb/a86/e21/dbba86e21486477757d0d4b4012adfc5.png"><br><br>  If there is an error adding the link ‚ÄúA reference to a project or incompatible assembly cannot be added to the project‚Äù, it means that you need to unlock the dll file.  To do this, go to the ‚ÄúSecurity‚Äù tab in the file properties and select the ‚ÄúUnblock‚Äù option, then ‚ÄúApply‚Äù. <br><br><h5>  Enable Capabilities </h5><br><br>  For NAX operation, the necessary capabilities must be enabled in the application.  To do this, in the Properties / WMAppManifest.xaml file, check the following check boxes in the Capabilities section: <br><br>  ÔÉº ID_CAP_LOCATION <br>  ÔÉº ID_CAP_NETWORKING <br>  ÔÉº ID_CAP_WEBBROWSERCOMPONENT <br>  ÔÉº ID_CAP_PHONEDIALER <br>  ÔÉº ID_CAP_IDENTITY_DEVICE <br><br><h5>  Display NAX banner ad on Xaml </h5><br><br>  First, add a control to the Xaml to determine the position of the banner.  We enable the StackPanel control using the Grid: <br><br><pre><code class="cs hljs">&lt;Grid x:Name=<span class="hljs-string"><span class="hljs-string">"ContentPanel"</span></span> Grid.Row=<span class="hljs-string"><span class="hljs-string">"1"</span></span> Margin=<span class="hljs-string"><span class="hljs-string">"12,0,12,0"</span></span>&gt; &lt;Grid.RowDefinitions&gt; &lt;RowDefinition Height=<span class="hljs-string"><span class="hljs-string">"*"</span></span>/&gt; &lt;RowDefinition Height=<span class="hljs-string"><span class="hljs-string">"53"</span></span>/&gt; &lt;/Grid.RowDefinitions&gt; &lt;ListBox Grid.Row=<span class="hljs-string"><span class="hljs-string">"0"</span></span>&gt; &lt;/ListBox&gt; &lt;StackPanel Height=<span class="hljs-string"><span class="hljs-string">"53"</span></span> Name=<span class="hljs-string"><span class="hljs-string">"nax_control"</span></span> Grid.Row=<span class="hljs-string"><span class="hljs-string">"1"</span></span>&gt; &lt;/StackPanel&gt; &lt;/Grid&gt;</code> </pre> <br><br>  List of available banner permissions: <br>  ‚Ä¢ 300 x 50 <br>  ‚Ä¢ 320 x 53 <br>  ‚Ä¢ 300 x 250 (Rectangle) <br>  ‚Ä¢ 320 x 480 (Full Screen) <br><br>  In this example, we add a banner of 320 * 53 pixels at the bottom of the page using the grid. <br>  Here is the result: <br><br><img src="https://habrastorage.org/storage2/ba8/9ce/b68/ba89ceb688cb0c7eaee539a08afa4588.png"><br>  <i>Nax banner embedded in a Windows Phone app</i> <br><br><h5>  C # code for NAX </h5><br><br>  After adding the control to Xaml, you need to write some C # code.  To do this, first add two namespaces to the page where the ad will be placed.  In this case, this is MainPage.xaml.cs. <br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Inneractive.Nokia.Ad; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> InneractiveAdLocation;</code> </pre><br>  It is also useful to add the third: <br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">using</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Microsoft</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Phone</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Net</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.NetworkInformation</span></span>;</code> </pre><br>  NetworkInformation is required to check the availability of an Internet connection using the method: DeviceNetworkInformation.IsNetworkAvailable. <br>  Then set the optionalParams before the main constructor in the class.  All logic in two methods: MainPage_Loaded () and iaLocation_Done (). <br><br><pre> <code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">public</span></span> partial <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> MainPage : PhoneApplicationPage { <span class="hljs-keyword"><span class="hljs-keyword">Dictionary</span></span>&lt;InneractiveAd.IaOptionalParams, string&gt; optionalParams; // Constructor <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> MainPage() { InitializeComponent(); // Sample code <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> localize the ApplicationBar //BuildLocalizedApplicationBar(); this.Loaded += <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> RoutedEventHandler(MainPage_Loaded); } private <span class="hljs-type"><span class="hljs-type">void</span></span> MainPage_Loaded(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, RoutedEventArgs e) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (DeviceNetworkInformation.IsNetworkAvailable) { // Watch <span class="hljs-keyword"><span class="hljs-keyword">location</span></span> IaLocationClass iaLocation = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> IaLocationClass(); iaLocation.Done += <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.EventHandler&lt;IaLocationEventArgs&gt;(iaLocation_Done); iaLocation.StartWatchLocation(); optionalParams = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Dictionary</span></span>&lt;InneractiveAd.IaOptionalParams, string&gt;(); optionalParams.<span class="hljs-keyword"><span class="hljs-keyword">Add</span></span>(InneractiveAd.IaOptionalParams.Key_OptionalAdWidth, "320"); //ad width optionalParams.<span class="hljs-keyword"><span class="hljs-keyword">Add</span></span>(InneractiveAd.IaOptionalParams.Key_OptionalAdHeight, "53"); //<span class="hljs-keyword"><span class="hljs-keyword">add</span></span> height } //<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Add</span></span> Banner. Remarks: pay attention <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> use Application Id <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> NAX <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (optionalParams != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { InneractiveAd iaBanner = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> InneractiveAd("ApplicationId", InneractiveAd.IaAdType.IaAdType_Banner, <span class="hljs-number"><span class="hljs-number">30</span></span>, optionalParams); nax_control.Children.<span class="hljs-keyword"><span class="hljs-keyword">Add</span></span>(iaBanner); } } <span class="hljs-type"><span class="hljs-type">void</span></span> iaLocation_Done(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, IaLocationEventArgs e) { try { // <span class="hljs-keyword"><span class="hljs-keyword">Add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">location</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> received <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; e.<span class="hljs-keyword"><span class="hljs-keyword">location</span></span> != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) optionalParams.<span class="hljs-keyword"><span class="hljs-keyword">Add</span></span>(InneractiveAd.IaOptionalParams.Key_Gps_Coordinates, e.<span class="hljs-keyword"><span class="hljs-keyword">location</span></span>); } catch (<span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span> ex) { <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">Diagnostics</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">Debug</span></span>.WriteLine("Error: " + ex.ToString()); } } }</code> </pre><br><br><h5>  Create AppId </h5><br><br>  ApplicationId_NAX is generated on the nax.nokia.com site in the Add App item. <br><br><img src="https://habrastorage.org/storage2/2db/6b6/bb4/2db6b6bb4ecb41571d516248f7170ab0.png"><br><br>  You will need to enter the following information: <br>  ‚Ä¢ Mobile platform. <br>  ‚Ä¢ Application Name. <br>  ‚Ä¢ Category. <br>  ‚Ä¢ Whether the application uses location information. <br><br>  After that, you will get the generated Application Id for your application.  This information will be needed to track your ad in the NAX control panel. <br><br>  Here is the generated AppID that will be used in the application: <br><br><img src="https://habrastorage.org/storage2/a1a/fe2/0ed/a1afe20edf1e45f00dd8550bb795f936.png"><br>  <i>Generated AppID that must be specified in the C # code.</i> <br><br>  That's all. <br>  We wish you successful earnings using Nokia NAX ads! </div><p>Source: <a href="https://habr.com/ru/post/184194/">https://habr.com/ru/post/184194/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../184174/index.html">Rings, Privilege Levels, and Protection in x86</a></li>
<li><a href="../184180/index.html">Do-it-yourself SEO audit</a></li>
<li><a href="../184184/index.html">WebMoney expert consultant spoke about the current situation with the accounts of Ukrainian users</a></li>
<li><a href="../184186/index.html">Linking the phone to the account and authorization by scanning the QR code</a></li>
<li><a href="../184190/index.html">The international final of the Imagine Cup will be held soon in St. Petersburg</a></li>
<li><a href="../184198/index.html">Practice: how I compared the ‚Äúidentical‚Äù registrars AdvoCam and teXet</a></li>
<li><a href="../184202/index.html">Welcome to the bright side of continuous integration</a></li>
<li><a href="../184204/index.html">The near future of Wi-Fi: Voice Enterprise certification</a></li>
<li><a href="../184206/index.html">Is the movie over?</a></li>
<li><a href="../184208/index.html">GameDev, Indie, Corona SDK, GameJam 48h, DevConf, Go, Laser Flow</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>