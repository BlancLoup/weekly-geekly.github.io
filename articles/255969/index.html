<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We start the site on the cloud VPS from Infobox in 10 minutes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On the cloud VPS from Infobox, you can deploy the site without the need to manually install Linux, Apache, MySQL and PHP and without using the site co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We start the site on the cloud VPS from Infobox in 10 minutes</h1><div class="post__text post__text-html js-mediator-article">  On the <a href="http://infobox.ru/vps/cloud/">cloud VPS</a> from <a href="http://infobox.ru/">Infobox,</a> you can deploy the site without the need to manually install Linux, Apache, MySQL and PHP and without using the site control panels using the Ubuntu LAMP template. <br><br>  You can use all the <a href="https://infoboxcloud.ru/community/blog/iaas/269.html">features of the cloud</a> without the need for long-term OS configuration and installation of site hosting software  If you use classic VPS, we have made the template available in <a href="http://infobox.ru/vps/linux">this service as well</a> . <br><br>  Inside the Ubuntu 14.04 lamp template, the following software is preinstalled and configured: <br><ul><li>  NGINX 1.4 (as reverse proxy) </li><li>  Apache 2.4 </li><li>  PHP 5.5 </li><li>  MySQL 5.5 </li><li>  ProFTPD 1.3 </li><li>  PHPMyAdmin 4.0 </li></ul><br>  You can immediately deploy the site, use FTP and PHPMyAdmin without additional settings. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/ba1/d35/b23/ba1d35b2355774b15ff06a1e28dbc047.jpg" title="600" alt="InfoboxCloud LAMP " width="600"><br><br>  In this article, we will look at this template in more detail and show how easy it is to transfer a site to the <a href="http://infobox.ru/vps/cloud">cloudy VPS</a> from Infobox. <br><a name="habracut"></a><br><h4>  <b>Cloud VPS Creation</b> </h4><br>  If you do not have a cloud-based VPS - <a href="http://infobox.ru/vps/cloud/">order it</a> .  After ordering, go to <a href="https://panel.infobox.ru/">the control panel</a> and <a href="https://helpdesk.infobox.ru/Knowledgebase/Article/View/1/37/cozdnie-oblchnogo-server">create a cloud server</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7eb/7a3/bbb/7eb7a3bbb967069c82f97c12f1b6d7bd.jpg" width="800"><br><br>  Set the necessary server parameters, do not check the box <a href="https://infoboxcloud.ru/community/blog/iaas/220.html">‚ÄúAllow OS kernel management‚Äù</a> .  Allocate one public IP address to the server so that the server is accessible from the Internet.  Do not forget to set the required network speed and click "Next". <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f49/3e0/19c/f493e019c5c3d052b5d15350aa597820.jpg" width="600"><br><br>  Select the ‚ÄúUbuntu 14.04 lamp‚Äù template, as shown in the screenshot below, and complete the creation of the server.  After creation you will receive the data for access to the server by email. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/794/71d/eab/79471deabcd1788ff497850ba254eccc.jpg" width="400"><br><br>  Connect to the server <a href="https://helpdesk.infobox.ru/Knowledgebase/Article/View/335/">via SSH</a> . <br><br><h4>  <b>Everything is ready to go.</b> </h4><br>  After connecting to the server, you will see the data for accessing the MySQL and FTP database.  Save them. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f32/132/01e/f3213201e4b50f58b07fcab7b59c0a63.jpg" width="800"><br><br>  First of all, install OS updates that will help fix all the problems found at the moment and make the server more reliable.  To do this, enter the command: <br><pre><code class="bash hljs">apt-key update &amp;&amp; apt-get update &amp;&amp; apt-get -y upgrade</code> </pre> <br><br><h4>  <b>Upload files to the cloud server via FTP</b> </h4><br>  Let's connect to the server via FTP and put the site files on the server.  To connect, you can use the Filezilla Client.  <a href="https://filezilla-project.org/download.php%3Fshow_all%3D1">Download</a> and install it. <br><br>  After startup, enter the external ip ‚Äì address of the server (the same as you used when connecting via SSH), login and password.  To connect, click QuickConnect. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8ea/b6d/470/8eab6d4703ad40abfeedf5215cd031d8.jpg" width="800"><br><br>  The connection will be successfully established.  Transfer the site files to the server. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/934/e18/2b5/934e182b56ae62d011b0a3dd96a3945d.jpg" width="800"><br><br>  For example, install <a href="http://moguta.ru/">MogutaCMS</a> - an online store management system that has a free version.  <a href="http://moguta.ru/download/">Download it</a> , unzip the archive and put the site files on the server via Filezilla. <br><br>  For ease of use Filezilla in the future, you can save data to access the server.  To do this, open the Site Manager in Filezilla, as shown in the screenshot below. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/193/a87/91b/193a8791be80877ac6f2e94ba2bf8a67.jpg" width="800"><br><br>  Click New Site and enter a name for the site. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/66e/1a6/d78/66e1a6d7804014002debfb695a434ee1.jpg" width="250"><br><br>  Enter the ip ‚Äì address, select the login type ‚ÄúNormal‚Äù.  Then enter the username and password from the site and click Connect. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/535/be6/d52/535be6d5240bfe0d0a25a4642ecc1191.jpg" width="600"><br><br>  In this case, you will not need to enter data for FTP access to the server each time. <br><br><h4>  <b>Allowing the default execution of index.php</b> </h4><br>  By default, the server is configured to open index.html, if it does not exist - index.php.  Our site is designed in php.  The easiest option is to simply delete index.html on the server via Filezilla and the site will open.  However, if there is also index.html in your CMS, apart from index.php, you need to enable the processing of index.php before index.html. <br><br>  This is done very simply.  In the SSH connection window, run the command to install the nano editor: <br><pre> <code class="bash hljs">apt-get -y install nano</code> </pre><br>  Then edit the configuration file by running the command: <br><pre> <code class="bash hljs">nano /etc/apache2/sites-enabled/000-default.conf</code> </pre><br>  Add a line: <br><pre> <code class="bash hljs">DirectoryIndex index.php index.html</code> </pre><br>  As shown in the screenshot below: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5fe/9aa/717/5fe9aa717e15f7380e30b5b7cfe41aa4.jpg" width="800"><br><br>  To save the changes, press "Ctrl + X", then "Y" and then Enter. <br><br>  Restart Apache with the command: <br><pre> <code class="bash hljs">service apache2 restart</code> </pre><br><br>  Open the public ip ‚Äì address of the server in the browser.  You will see the installation window for MogutaCMS. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9bc/ef8/ae5/9bcef8ae5834a291c95cfb63a5bcb39c.jpg" width="800"><br><br><h4>  <b>Install MogutaCMS</b> </h4><br>  Different CMS may have different requirements for hosting components, caching, etc.  However, on a virtual server, unlike classic hosting, you can install everything you need. <br><br>  MogutaCMS requires the libcurl library to be installed.  Let's install it: <br><pre> <code class="bash hljs">apt-get install -y php5-curl</code> </pre><br><pre> <code class="bash hljs">service apache2 restart</code> </pre><br>  After that, the installation of MogutaCMS will be successfully completed. <br>  At one stage, you must enter data to access the database.  As a server, specify ‚Äúlocalhost‚Äù, as the login and password, enter the data from the welcome message that is issued when you connect via SSH (and which we asked to save you earlier). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b41/ff1/313/b41ff131313607ac7ba613230b818b63.jpg" width="800"><br>  Some CMS can create a database if it does not already exist.  MogutaCMS is not able and it is necessary to help her a little.  Open PHPMyAdmin at: <br><pre> <code class="bash hljs">_ip_/phpmyadmin</code> </pre><br>  Enter the database password (from the SSH welcome message) and click Ok. <br><br>  Go to the ‚ÄúDatabases‚Äù section, enter the database name in English, select the encoding (utf8_general_ci, unless the CMS developer requests otherwise) and click Create. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d10/6d8/5df/d106d85dff92ba4c8eaee4ec3b341c06.jpg" width="800"><br><br>  Now the installation of MogutaCMS will continue successfully if you specify the database created. <br><br>  Enter the site name, your email and password.  Click "Install". <br><br><img src="https://habrastorage.org/getpro/habr/post_images/65e/2cd/17c/65e2cd17c4ea48ea0aed49ec7f168e8f.jpg" width="800"><br><br>  Now click "Go to site". <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cdd/110/75c/cdd11075c4c95e8ac273ff3133503b86.jpg" width="800"><br><br>  Your site has been successfully installed. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7b4/090/48e/7b409048e95489db3ea195d4a58d8037.jpg" width="800"><br><br><h4>  <b>FAQ</b> </h4><br>  <strong>In this section, we will answer questions that arise when you use the Ubuntu 14.04 lamp pattern on <a href="http://infobox.ru/community">cloud-based VPS</a> .</strong>  <strong>If during the site installation process you have any questions, <a href="">write to us</a> and we will add the answer to this section.</strong>  <strong>You can easily install CMS on a cloud server, we will try to describe all the unclear points in the article.</strong> <br><br><h5>  <b>How to transfer a database of an existing site?</b> </h5><br>  Export the database from an existing hosting or server.  If there, where the site is located now, there is access to PHPMyAdmin, export can be done as follows: <br><br>  1. Log in to PHPMyAdmin on the old hosting or server. <br>  2. Select your database.  Go to the ‚ÄúExport‚Äù section and click ‚ÄúGo‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/606/442/ba4/606442ba4c2cb22350862ff946f7633f.jpg" width="800"><br><br>  The browser downloads a database dump. <br><br>  Now log in to PHPMyAdmin on the cloud server in the Infobox.  Go to the ‚ÄúDatabases‚Äù section and create an empty database. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5df/92f/70e/5df92f70e77cc861ecbd12a13b01c6bb.jpg" width="800"><br><br>  After creation, select it, go to the "Import" section.  Click ‚ÄúChoose file‚Äù and select the dump database from your computer.  Ensure that the encoding corresponding to the export encoding is specified.  Click Go to complete the import. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d8e/419/f18/d8e419f18d2a0cdb6d89efa57b2a8483.jpg" width="800"><br><br>  The database will be successfully imported. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/857/f2e/796/857f2e796528d34772027c00fbc2357e.jpg" width="800"><br><br><h5>  <b>What if the size of the base is too large and the base is not loaded into phpmyadmin?</b> </h5><br><h6>  <b>Setting NGINX reverse proxy to load databases more than 20 MB and less than 200 MB</b> </h6><br>  <strong>Make sure that the dump of the .sql database is packaged in a zip, gzip or bzip2 archive.</strong>  <strong>This will help to significantly reduce the size of the loaded database.</strong> <br>  If the packed database is still more than 20 megabytes - increase the maximum allowed size of the downloaded file in nginx, as shown below. <br><br>  To do this, edit the <strong>/etc/nginx/nginx.conf</strong> file, adding the <strong>parameter</strong> inside the http {} block (for example, under: # server_tokens off;) parameter: <br><pre> <code class="bash hljs">client_max_body_size 200m;</code> </pre><br>  In this case, nginx will allow file downloads of less than 200 megabytes. <br><br>  You can edit the file using the nano editor.  If it is not already installed, install with the command: <br><pre> <code class="bash hljs">apt-key update &amp;&amp; apt-get update &amp;&amp; apt-get install -y nano</code> </pre><br>  Now edit the file with the command: <br><pre> <code class="bash hljs">nano /etc/nginx/nginx.conf</code> </pre><br>  and add the client_max_body_size value. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b21/854/f07/b21854f07e7c2588bc6c0433880f3479.jpg" width="300"><br><br>  To save, press ctrl + x, Y, Enter. <br><br>  To apply the changes, restart nginx with the command: <br><pre> <code class="bash hljs">service nginx restart</code> </pre><br><br><h6>  <b>Loading heavy databases into mysql</b> </h6><br>  If the mysql database takes more than 200 megabytes in the archive or the process of restoring a database dump to mysql after loading takes more than a minute, using the phpmyadmin import dump is not a good idea.  You can get errors like "Script timeout passed, if you want to finish, please."  You can configure phpmyadmin and nginx timeouts to support lengthy operations and increase the nginx, apache, and php download limits, but it's better to use the native mysql tools to load such databases. <br><br>  1. Copy the database dump to a remote server (for example, to the / root directory).  This can be done using Filezilla. <br>  Create a new SFTP connection.  Enter the ip ‚Äì address, login and password of the SSH ‚Äì access to the server and click ‚ÄúConnect‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d48/1d3/a10/d481d3a1056e72128a7a1c8233f40cdf.jpg" width="800"><br><br>  Check the box, agreeing that you trust this server and click "OK". <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f33/1ae/542/f331ae5426947391b025bc6d30adf8bb.jpg" width="600"><br><br>  The connection will be established. <br><br>  Select the base dump on your computer in the left pane of the filezilla and move it to the right.  The file will be copied to the / root directory of the server. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9a5/a79/434/9a5a794341c892a2a322f9916cd59f12.jpg" width="800"><br><br>  2. Connect to the server via ssh. <br><br>  Create a new database.  In the example below, <strong>my_db</strong> is the name of the database to be created. <br><pre> <code class="bash hljs">mysql -u root -p -e <span class="hljs-string"><span class="hljs-string">'CREATE DATABASE `my_db`;'</span></span></code> </pre><br>  You will need to enter a password from the database specified in the SSH welcome message. <br><br>  When creating a database, you can specify the encoding: <br><pre> <code class="bash hljs">mysql -u root -p -e <span class="hljs-string"><span class="hljs-string">'CREATE DATABASE `my_db` CHARACTER SET utf8 COLLATE utf8_general_ci;'</span></span></code> </pre><br>  Now import the database dump: <br><pre> <code class="bash hljs">mysql -u root -p my_db &lt; database.sql</code> </pre><br>  where database.sql is the name of the database dump for recovery. <br><br>  The database will be successfully restored. <br><br><h4>  <b>Conclusion</b> </h4><br>  Using the template Ubuntu 14.04 lamp on <a href="http://infobox.ru/vps/cloud">cloud VPS from Infobox</a> will allow you to quickly deploy your sites in the cloud and gradually learn how to administer the server for complete control over your site.  We are always <a href="">happy to help</a> you, if it is not clear how to install or customize something on this image, please ask. <br><br>  Successes! </div><p>Source: <a href="https://habr.com/ru/post/255969/">https://habr.com/ru/post/255969/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../255955/index.html">Tablet and domain: unity and struggle of opposites</a></li>
<li><a href="../255957/index.html">PHP and files. News without MySQL with flipping</a></li>
<li><a href="../255961/index.html">How to distinguish day from night if you are Android</a></li>
<li><a href="../255963/index.html">Krovi: Big Data - as dream. 6th series. BD (Bolt Data) - Fast Big Data Data</a></li>
<li><a href="../255967/index.html">How it all works: the node of financial trading from the inside</a></li>
<li><a href="../255971/index.html">IBM Lotus Domino / Notes Outsourcing</a></li>
<li><a href="../255975/index.html">Our new project on the Russian StartUp Tour 2015</a></li>
<li><a href="../255979/index.html">Watch the live broadcast of Imagine Day on April 18</a></li>
<li><a href="../255981/index.html">How to write cleaner CSS and rational SASS</a></li>
<li><a href="../255983/index.html">Introduction to ASP.NET 5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>