<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Go through the eyes of a java programmer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article is not for those who already write on go. 
 It is for programmers in other languages ‚Äã‚Äãthat are not interested in whether it is worth spe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Go through the eyes of a java programmer</h1><div class="post__text post__text-html js-mediator-article">  This article is not for those who already write on go. <br>  It is for programmers in other languages ‚Äã‚Äãthat are not interested in whether it is worth spending time on go. <br>  What distinguishes go, for example, from java and how it can be useful. <br><a name="habracut"></a><br><h3>  Principles go </h3><br>  Once you could just take and create a new programming language. <br>  Now the language has a chance to take some place only if it has clear principles, which its creators follow.  In other words - own face. <br>  The go principles are simplicity and productivity. <br><br>  The principle of simplicity is: <br>  If you can do without something, you need to do without it. <br><br>  The principle of productivity: <br>  The most valuable is the time spent by the developer.  It should be minimized by all available means. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I will illustrate the principle of simplicity: <br>  There are very few language constructs in go.  For example, only one cycle.  Go can be learned in two evenings. <br>  The go refused from dynamic loading of libraries - the result of compiling one large executable file <br>  There is no warning in go when compiled.  Any incorrectness or verbosity is a compilation error. <br>  The autoformat of a code at the level of the language is built in go.  There is only one canonical view of go code. <br><br>  Now a few examples of productivity: <br>  The go code is 20-30 percent shorter than the similar one in Java (there are simply not superfluous words, for example, there is no semicolon at the end of each sentence, there are no parentheses in the condition or loop operators etc). <br>  Go has a very fast compiler (a few seconds to compile a large project). <br><br>  Productivity is not only the language itself, but also the standard tools supplied with it. <br><br><h3>  Productivity tools </h3><br><h4>  Profilers </h4><br>  I'll start with a little digression about how I, a java programmer, came to use go. <br>  I was doing a game project - a multiplayer space shooter. <br>  Initially, I wrote the server part in java.  She worked. <br>  But very quickly everything came up against performance. <br>  No more than 300 clients could be started on one server. <br>  This is too small for the game to be profitable. <br><br>  What could I do with this as a java programmer? <br>  In fact, a little: <br><br>  1) Using the gaze method, look for inefficient places in the code, try to correct them and, after each change, re-run load tests.  This method is obviously ineffective. <br><br>  2) Immerse yourself in the study of alternative server libraries, try different options.  It also does not give any guarantees - perhaps problems in my own code, or even in the java language itself. <br><br>  3) Finally, I could buy one or more paid profilers and try to get some information from them.  But there are problems here.  If we use a local server that is in our office, I could not create the necessary load, because we do not have the necessary number of free machines in our office to run several thousand clients.  If you use an external server, then a rather complicated configuration was required to run the profiler there.  Finally, the choice of a profiler is in itself a non-trivial task. <br><br>  In go, this problem is solved very conveniently. <br>  The profiler there is part of the language. <br>  You can enable it on any server, and the result of its work is a file that can be downloaded to your machine and leisurely examined using very handy tools. <br>  These tools will show exactly which lines of code spend the most memory and CPU cycles. <br>  Their use makes it possible to quickly and efficiently find and fix all problem areas.  (Which, by the way, almost always turn out to be not where you expect to find them.) <br><br>  In my project, the server rewritten to go initially "pulled" only 20 clients (much worse than in Java).  After working with profilers, this number increased to 2500. <br><br><h4>  Race detector </h4><br>  Another headache for all multi-threaded application writers is race conditions. <br>  These are such elusive bugs that arise only if the stars converge in a certain way.  That is, if the streams are launched in one order, there is a bug, if in the other it is not.  And the order is unpredictable. <br>  In go, there is a standard tool for solving this problem - race detector.  If enabled, the go program will write to the log about all unsafe calls to shared memory from different threads. <br>  Using the race detector, you can quickly and purposefully find and eliminate all problem areas. <br><br><h3>  Interesting designs </h3><br>  I do not intend to teach go programming and will not begin to disassemble all of its constructions.  I want to dwell only on the three most interesting ones.  All of them describe paradigms that are not in pure form in Java.  And these paradigms are very useful. <br><br>  These are interfaces, gorutiny and channels. <br><br><h4>  Interfaces </h4><br>  The go interface is similar to the interface in Java or c #.  This is a set of method signatures, but without implementations. <br>  The main difference is that go does not require declaring that some entity implements some kind of interface. <br>  It is enough that the entity simply has all the necessary methods. <br>  What does this give?  Decoupling <br>  You can take someone else's library.  Find there an entity with some set of methods, create an interface with the same set and use this entity as this interface.  You do not need to change someone else's code, do not tie your code to other entities, and do not need to write adapters, which are the classic boilerplate code.  Another illustration of the principle of productivity. <br><br><h4>  Gorutiny </h4><br>  First, for multitasking applications in programming languages, processes were invented.  They were heavy, had their own address space, and quickly "devoured" the resources of the system.  Then came the threads (or threads).  They were much easier and worked in the same address space.  If the processes were usually run by units or tens, then threads could already have hundreds.  However, with careless use and they could take away all the resources of the system.  Each thread still occupied some resources, even if it was blocked. <br>  To limit the number of threads, we started using thread pools. <br><br>  Gorutinas can be thought of as tasks performed by one common large thread pool.  In Go, the gorutines are extremely cheap.  You can run millions of gorutin without problems for performance.  The only requirement is that the gorutines must be ‚Äúsmall‚Äù.  That is, a gorutin should quickly do its job and either exit or block (which is the same thing from the point of view of the gorutin planner). <br><br><h4>  Channels </h4><br>  Channels are the racially correct means of communication between the gorutines. <br>  In go there is an important rule: <br><br>  Communicate by shared state.  Share state by communication. <br><br>  Its meaning - do not use variables to which more than one gorutina has access. <br>  Instead, make the gorutines send data to each other. <br>  This data transfer is just done through the channels. <br><br>  A channel in go is a queue (buffer) at one end of which you can write and read from the other. <br>  At the same time, the gorutin is blocked when trying to write to a crowded channel or read from an empty channel. <br><br>  But the most interesting - go has a design for simultaneous reading from several channels. <br>  Gorutina can list several channels on which she will sit and wait for a message to appear in one of them.  Upon receiving this message, the gorutina is unlocked, processes it, and (usually) waits for the next message again. <br>  So, for example, in the chat server of a gorutina can wait for both a message from the user and a signal about leaving the chat.  At the same time. <br><br><h3>  Dependency management </h3><br>  Dependency management tools such as maven or gradle exist today for all serious languages. <br>  Go went further and did support dependency management at the level of the language itself. <br>  When importing a package (with a construction similar to import in Java), you can specify both the local name and the address of the package in any modern version control system (for example, in git). <br><br>  For example, "github.com/gorilla/websocket" <br><br>  Go will download the package itself and include it in your project.  If a package has already been downloaded, it will simply be used.  You can also ask go to upgrade all packages to their latest versions. <br><br>  Here, however, there is one unpleasant moment - go always downloads the latest version of the package.  If several people work on a project, this can lead to different versions of packages from different developers. <br><br>  To solve this problem, use external tools - package managers. <br>  One of the best to date - glide. <br>  At the heart of glide are two actions: <br>  1) Find all the dependencies of the project, and write them to a file <br>  2) Download these dependencies <br><br>  In this case, the file can be edited manually, indicating, if necessary, other versions of the packages (other than the last). <br><br>  The GIT uses the commit identifier as a version identifier (in other version control systems, their specific identifiers are used). <br><br><h3>  Weaknesses go </h3><br>  Any principle has not only strengths, but also weak ones. <br>  In go, in my opinion, there is one bad and one terrible thing, which flow from the principle of simplicity. <br>  The bad is the lack of generics.  Awful - error handling by checking the code returned by the function. <br><br>  Without generics, you have to abandon strict typing. <br>  And error handling leads to a large number of the same type of code.  Which, besides, it is possible to forget to write at all and to leave an error raw. <br><br>  In addition, following the principle of productivity, it was decided to enter into the go garbage collector.  This is not bad in itself.  But it is important to understand that this same collector will start every few seconds and noticeably slow down the system.  With this, however, you can successfully fight. <br><br><h3>  findings </h3><br>  Should Java programmer go completely to go?  Not.  Anyway, bye.  Java is on average faster.  It has more useful libraries and established ways to create applications. <br><br>  Should go be used to solve certain problems?  Definitely worth it. <br><br>  What tasks are best solved by go?  Creation of multi-threaded high-loaded server solutions, in which the threads communicate with each other a lot. <br><br>  Which language is better to learn a beginner - go or Yav?  There is no definite answer, but over time there will be more and more arguments in favor of go. <br><br>  The age of the language plays a role.  Older language is overgrown with "historical" things.  Something was added a long time ago, now nobody needs it, but it is impossible to throw it away, since backward compatibility will be broken. <br>  Some constructions of the language or standard libraries, previously relevant, now look out of place, it seems more logical to do these unclaimed things outside the standard language. <br>  For some standard problems accumulated a lot of alternative solutions of different quality.  For a newbie, all this is a large amount of useless but necessary knowledge in the style: ‚ÄúHere you have to be especially careful.  Here we have a puddle. <br><br>  Go was created much later and today it contains everything that is in demand now and nothing superfluous. </div><p>Source: <a href="https://habr.com/ru/post/306768/">https://habr.com/ru/post/306768/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../306748/index.html">Space error: $ 370 000 000 for Integer overflow</a></li>
<li><a href="../306754/index.html">Security Week 30: PHP-porn vulnerability, eavesdropping on keyboards, UAC bypass in Windows 10</a></li>
<li><a href="../306756/index.html">Review of physics in Sonic games. Parts 7 and 8: springs and gizmos, super speeds</a></li>
<li><a href="../306760/index.html">Linux UEFI / BIOS Update</a></li>
<li><a href="../306766/index.html">FreePBX: the simplest set of customer responsibility</a></li>
<li><a href="../306772/index.html">Thin clients, thick servers</a></li>
<li><a href="../306774/index.html">Oracle announced the largest transaction in the last 12 years</a></li>
<li><a href="../306776/index.html">Habrahabr visiting Alexander Lyamina, QRATOR</a></li>
<li><a href="../306778/index.html">How we certified our kits "Experiment in a box"</a></li>
<li><a href="../306782/index.html">Churn</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>