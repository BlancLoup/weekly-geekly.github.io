<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Brainfuck - output in decimal format</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As the first task for implementation on the brainfuck, I decided to take a seemingly simple exercise - to output a 4-byte number written on a tape in ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Brainfuck - output in decimal format</h1><div class="post__text post__text-html js-mediator-article">  As the first task for implementation on the brainfuck, I decided to take a seemingly simple exercise - to output a 4-byte number written on a tape in decimal format.  The problem turned out to be interesting, especially if we consider that duplicating the code (and using that the number is 4-byte) I wanted as little as possible, and using cycles more. <br><br>  It was immediately obvious that there are two different approaches - either try to divide the original number with the remainder by 10, and compose the figures from the resulting residues, or form a decimal number, multiplying it by 2 and adding one if necessary.  Having played with the second option, and having found out that bits arrive not in that order in which it is necessary, I returned to the first option. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      There were two problems - the first: to avoid the occurrence of leading zeros, the second: to write division with the remainder of the ‚Äúlong‚Äù number by 10. The second task obviously comes down to dividing a two-byte number less than 2560 ... But let's go straight to the program. <br><br>  First enter.  In principle, it is not needed (by condition, the number is already written on the tape), but it‚Äôs necessary to somehow debug <br><br>  ,&gt;,&gt;,&gt;, &lt;&lt;&lt; <br><br>  To be able to use the loop on the source data, we introduce additional markup. <br><br>  &lt;+&gt; <br>  &gt;&gt;&gt; [- &gt;&gt;&gt; + &lt;&lt;&lt;] &lt; <br>  [- &gt;&gt; + &lt;&lt;] &lt; <br>  [-&gt; + &lt;] <br>  + &gt;&gt; + &gt;&gt; + <br><br>  Between the bytes of the original number and to the left of the left byte are one.  The carriage is on the rightmost unit (between two low bytes).  We start the main loop.  From this point on, the length of the source data is not used anywhere. <br><br>  First we find the beginning of the number. <br><br>  [[&lt;&lt;] &gt;&gt; <br><br>  Now we will shift each digit 4 cells to the left, and in the vacated space divide the number made up of the previous balance and the new digit by 10: <br><br>  [-&gt; [- &lt;&lt;&lt;&lt; + &gt;&gt;&gt;&gt;] &lt;&lt;&lt;&lt;&lt; <br>  [- &gt;&gt; +&gt; + &lt;&lt;&lt;] &gt;&gt; + <br>  [- &lt;[- &gt;&gt; +&gt; ++++++++++ &lt;[-&gt; -&gt; + &lt;&lt;] +&gt; [- &lt;[-]&gt;] &lt;[- &gt;&gt; [-] &lt;&lt;&lt; &lt;&lt; + &gt;&gt;&gt;] &gt;&gt; [- &lt;&lt; + &gt;&gt;] &lt;&lt;&lt;&lt;] -&gt;] <br><br>  Here we use the fact that (a * 256 + b) / 10 = ((a * 255 + b) + a) / 10, and that a &lt;10. <br><br>  After the quotient and the remainder are found, it is necessary to check whether the leading zero has turned out.  If it turned out, then we do not put the label ‚Äú1‚Äù between the found and the next bytes. <br><br>  &lt;+ &lt;[-&gt; +&gt; + &lt;&lt;] <br>  &gt;&gt; [- &lt;&lt; [-] + &gt;&gt;] &lt;&lt;&lt;&lt; [- &gt;&gt; [-] + &gt;&gt; + &lt;&lt;&lt;&lt;] &gt;&gt;&gt;&gt; <br>  [- &lt;&lt;&lt;&lt; + &gt;&gt;&gt;&gt;]&gt; [- &lt;+&gt;] &gt;&gt;&gt;] <br><br>  When the number is over, the last residue found is a new figure.  We attribute it to the output line. <br><br>  &lt;++++++ [-&gt; ++++++++ &lt;] &lt;&lt;&lt; [- &gt;&gt;&gt;&gt; + &lt;&lt;&lt;&lt;] <br><br>  and shift the digits of the quotient found at this step by 3 bytes to the right (so that they are at the correct distance from the output line) <br><br>  &lt;&lt; [-&gt; [- &gt;&gt;&gt; + &lt;&lt;&lt;] &gt;&gt; + &lt;&lt;&lt;&lt;&lt;] &gt;&gt;&gt;&gt;&gt;] <br><br>  If it turns out that there is no private thing, the cycle is finished - and you can output the string <br><br>  &gt; [.&gt;] +++++++++++++ .---. <br><br>  That's all. <br><br>  It turned out somehow cumbersome - probably, I still do not see many opportunities. <br><br>  Maybe the doubling option would be better - but for him the original numbers would not have to be divided, and multiplied by 2, and to work with the carry bit.  I'll have to try.  But this option will work only when the number of ‚Äúbyte‚Äù states is a power of two (in the above code this fact is not used, the program will work with any number of states greater than 10). </div><p>Source: <a href="https://habr.com/ru/post/113252/">https://habr.com/ru/post/113252/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../113244/index.html">The film, shot on Canon 7D, bought for $ 4 million</a></li>
<li><a href="../113245/index.html">Neural networks and character recognition</a></li>
<li><a href="../113246/index.html">The story of one "violation" of copyright. Part 2</a></li>
<li><a href="../113247/index.html">How following the rules get banned Vkontakte</a></li>
<li><a href="../113250/index.html">Lua vs. Javascript</a></li>
<li><a href="../113253/index.html">PHP Cheat Sheet: FALSE, NULL and values ‚Äã‚Äãassociated with them</a></li>
<li><a href="../113255/index.html">NDIS. NET_BUFFER architecture</a></li>
<li><a href="../113256/index.html">Ten years from the beginning of mass communication in LiveJournal in Russian. And also: a possible start to the pro-Kremlin monitoring of the blogosphere.</a></li>
<li><a href="../113257/index.html">sjFilemanager is a free AJAX file manager. Wheel or know-how?</a></li>
<li><a href="../113258/index.html">Creating a simple bot for the online game world of warcraft</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>