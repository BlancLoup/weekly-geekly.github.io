<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The complete guide to Splash Screen on Android</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Translation of the Elvis Chidera article "The (Complete) Android Splash Screen Guide" . But first, a little story about the Splash Screen problem on A...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The complete guide to Splash Screen on Android</h1><div class="post__text post__text-html js-mediator-article"><p>  <em>Translation of the <a href="https://android.jlelse.eu/%40elvischidera%3Fsource%3Dpost_header_lockup">Elvis Chidera article</a> <a href="https://android.jlelse.eu/the-complete-android-splash-screen-guide-c7db82bce565">"The (Complete) Android Splash Screen Guide"</a> .</em>  <em>But first, a little story about the Splash Screen problem on Android.</em> </p><a name="habracut"></a><br><h3 id="dva-vida-splash-screen">  Two kinds of Splash Screen </h3><br><p>  Google‚Äôs Material Design Guidelines introduces <a href="https://material.io/guidelines/patterns/launch-screens.html">two concepts of</a> Splash Screen (or Launch Screen): </p><br><ol><li>  Placeholder UI </li><li>  Branded launch screen </li></ol><br><p>  Placeholder UI is a concept for applications that load rather quickly and do not require display before launching logos, beautiful animations and other decorations.  The bottom line is that during a cold start, the main background of the application, the status bar, the background for the toolbar are already painted in the colors of the application, but until full download without content.  This approach, according to the designers of Google, allows more smoothly from the point of view of the user to move from the moment the application is launched to work with it. </p><br><div class="spoiler">  <b class="spoiler_title">Placeholder UI Example</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/gw/lh/jo/gwlhjojn5x0jd4qqmuqdy6cpg28.png" alt="image"></p></div></div><br><p>  Branded launch screen - in fact, this is what most developers (at least Android developers) call Splash Screen.  This is some kind of logo, image, less often animation, which the user briefly sees during the start of the application. </p><br><div class="spoiler">  <b class="spoiler_title">Sample Branded launch screen</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/0d/h5/v-/0dh5v-2x5upvoq0cyh2uklnxy1e.png" alt="image"></p></div></div><br><p>  Now, before we move on to the translation of the article by Elvis, which talks about the Branded launch screen, a little about the sad things in the camp of Placeholder UI fans. </p><br><h3 id="placeholder-ne-rabotaet-dazhe-u-prilozheniy-ot-google">  Placeholder does not work even with applications from Google </h3><br><p>  Despite its own guidelines, Google was unable to implement the Placeholder UI approach in its own applications.  I offhand chose three popular applications from Google where, according to the logic, there should be a Placeholder UI, but it does not work.  The transition from cold start to application state is shown: </p><br><div class="spoiler">  <b class="spoiler_title">Gmail</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/z5/2k/w5/z52kw5i300pwob6olsll03ulxse.png" alt="image"></p></div></div><br><div class="spoiler">  <b class="spoiler_title">Google keep</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/x5/ar/ko/x5arko4sswylom8upktbva-losa.png" alt="image"></p></div></div><br><div class="spoiler">  <b class="spoiler_title">Play market</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/w-/dv/lm/w-dvlmtjxcd0-7tayjpkjltctro.png" alt="image"></p></div></div><br><p>  As you can see, during a cold start, only the background of the application, the toolbar and the status bar are loaded either under the background color or in a random color (as in the Play Market example). </p><br><p>  The reasons for this are as follows: </p><br><ol><li> Today it is considered good practice to use the <code>Toolbar</code> as part of the toolbar layout.  This gives a lot of goodies: reaction to scrolling, animation, etc.  But at the same time, you need to use the theme <code>NoActionBar</code> .  This affects the fact that the colors of the main theme of the application are not loaded during a cold start. </li><li>  Problem in AppCompat library.  Even if we use the usual ActionBar for the toolbar, we will see a similar effect.  The transition from <code>@style/Theme.AppCompat.Light.DarkActionBar</code> to <code>@android:style/Theme.Material.Light.DarkActionBar</code> cures this problem, but probably applications are still designed to support versions prior to Lollipop. </li></ol><br><p>  However, <a href="https://medium.com/%40lucasurbas/placeholder-ui-launch-screen-d85c35552119">there is a solution</a> . </p><br><p>  <em>About Placeholder UI approach everything.</em>  <em>Go to the translation of the article by Elvis.</em> </p><br><h3 id="kak-rabotat-s-branded-launch-screen">  How to work with the Branded launch screen </h3><br><p>  In the past, Android was <a href="https://www.cyrilmottier.com/2012/05/03/splash-screens-are-evil-dont-use-them/">not recommended</a> to do Splash Screen in applications.  There was no point in forcing the user to wait n seconds to show the screensaver.  And undoubtedly, no one launches the application for the saver (more on that below). </p><br><blockquote>  Providing content to the user should be your # 1 priority. </blockquote><p>  When a section called <a href="https://material.io/guidelines/patterns/launch-screens.html">Launch Screen</a> (Splash Screen) appeared in <a href="https://material.io/guidelines/">Material Design</a> , someone from the Android team posted a <a href="https://plus.google.com/%2BAndroidDevelopers/posts/Z1Wwainpjhd">post</a> on how to make Splash Screen right. </p><br><p>  In this post I will look at four basic ways to implement Splash Screen on Android: </p><br><ol><li>  Using the Launcher Theme ( <strong>Good</strong> ) </li><li>  Using the Launcher Theme with predefined for Splash Screen Activity ( <strong>Come Off</strong> ) </li><li>  Using Timers ( <strong>Bad</strong> ) </li><li>  Using smart timers (Smart Timers) ( <strong>Awful</strong> ) </li></ol><br><h3 id="ispolzuya-launcher-theme">  Using the Launcher Theme </h3><br><p>  When your application starts and is not yet in memory, there may be a delay between when the user has clicked on the launch and when the Activity called <code>onCreate()</code> .  This so-called ‚Äúcold start‚Äù is the best time to show your Splash Screen. </p><br><p>  During the cold start, the window manager tries to draw the placeholder UI using elements from the application theme (app theme), such as <code>windowBackground</code> .  And what the <code>windowBackground</code> shows by default (usually white or black background), you can change to any drawable, thereby creating your own Splash Screen.  This method shows the Splash Screen only where needed and does not slow down the user. </p><br><p>  So, you need to create a custom theme by redefining <code>android:windowBackground</code> , replacing the use of the standard theme with yours before calling <code>super.onCreate</code> in your Activity. </p><br><p>  In this example, I assume that the main theme of your application is called <strong>AppTheme</strong> , but if this is not the case, simply replace <strong>AppTheme</strong> with the name of the main theme of your application in all places. </p><br><p>  You must create a new <code>AppTheme.Launcher</code> theme.  The only element that needs to be overridden is <code>windowBackground</code> .  In the <em>styles.xml file,</em> add: </p><br><div class="spoiler">  <b class="spoiler_title">code</b> <div class="spoiler_text"><pre> <code class="hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  AppTheme       --&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  AppTheme.Launcher.      drawable --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"AppTheme.Launcher"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"android:windowBackground"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@drawable/launch_screen</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--  Android 5+     colorPrimaryDark,    windowBackground --&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- &lt;item name="colorPrimaryDark"&gt;@android:color/white&lt;/item&gt; --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><br><p>  At the same time, we inherit all the other attributes of the main <strong>AppTheme</strong> theme, using its name as a prefix for the name of our <strong>Launcher</strong> theme. </p><br><p>  We define drawable <code>launch_screen</code> .  Although you could use a simple picture, it will be stretched to full screen.  Instead, use the XML file: </p><br><div class="spoiler">  <b class="spoiler_title">code</b> <div class="spoiler_text"><pre> <code class="hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  android:opacity=‚Äùopaque‚Äù            --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layer-list</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:opacity</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"opaque"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  ,      --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:drawable</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@android:color/white"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--   - 144dp    --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitmap</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@drawable/product_logo_144dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:gravity</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"center"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layer-list</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><br><p>  Register the topic for Splash Screen in the manifest file in your starting Activity: </p><br><p> <code>&lt;activity android:theme="@style/AppTheme.Launcher"&gt;</code> </p> <br><p>  Now we need to return the main theme to the starting Activity (unless, of course, we want the Splash Screen to please us even while the application is running) <br>  The easiest way to do this is to call <code>setTheme(R.style.AppTheme)</code> before <code>super.onCreate()</code> and <code>setContentView()</code> : </p><br><div class="spoiler">  <b class="spoiler_title">code</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.Bundle <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.support.v7.app.AppCompatActivity <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AppCompatActivity</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(savedInstanceState: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-comment"><span class="hljs-comment">// ,    super.onCreate() setTheme(R.style.AppTheme) super.onCreate(savedInstanceState) // ‚Ä¶ } }</span></span></code> </pre> </div></div><br><p>  Everything.  You can learn more about this approach <a href="https://plus.google.com/%2BAndroidDevelopers/posts/Z1Wwainpjhd">here</a> . </p><br><p>  <strong>Pros:</strong> </p><br><ol><li>  There is no special Activity for Splash Screen.  There is no time delay, as if you were invoking a worker Activity from the Activity for Splash Screen. </li><li>  No artificial delays - Splash Screen is shown only when the application is loading. </li></ol><br><p>  <strong>Minuses:</strong> </p><br><p>  I have met three fairly common complaints about this approach: </p><br><ol><li>  Splash Screen is shown again if the Activity has been killed by the system and restored again.  In most cases, this is not a problem at all, but if desired, if you use the <strong>second method</strong> , this can be avoided. </li><li>  Some developers need that after running Splash Screen, the user gets on different Activities, depending on any parameters.  Again, for such tasks, you can use the <strong>second method</strong> , but sometimes the implementation of such an intermediate Activity is rather messy. </li><li>  Unable to load heavy data / components when Splash Screen is shown.  Although it is a bad idea: to load heavy data or components while the application starts (there are some exceptions, such as the initialization of some libraries).  You can try one of the following approaches. <br><ul><li>  Try to use the lazy loading method for your components / modules / libraries.  With the exception of components that are vital for the operation of the application, try not to load anything during the application launch, but download when you need a component, or load it in the background thread immediately after the application starts.  Keep your application's <code>onCreate()</code> as easy as possible. </li><li>  Use caching.  With the exception of information that is rapidly changing, the rest is better to cache.  When the user accesses your application again, you can show the cached content while the more recent content is loading. </li></ul></li></ol><br><p>  I think you should avoid things like a long Splash Screen, like ProgressDialog, that make the user just look at the screen and prevent him from performing any action. </p><br><blockquote>  If your application connects to the network, assume that everything that should go wrong will go wrong.  This way you can build apps for the millions of people who still use unstable 2G and 3G connections. </blockquote><br><h3 id="splash-screen-v-otdelnoy-activity-c-ispolzovaniem-launcher-theme">  Splash Screen in a separate Activity using Launcher Theme </h3><br><p>  This method is based on the <strong>first method</strong> .  It requires a separate Activity for Splash Screen.  The first two steps are skipped, they are similar to the <strong>first method</strong> . </p><br><p>  It remains to create an Activity for Splash Screen and specify <code>AppTheme.Launcher</code> for it in the manifest.  Now edit the Activity so that it redirects to other pages.  See the example below: </p><br><div class="spoiler">  <b class="spoiler_title">code</b> <div class="spoiler_text"><pre> <code class="hljs haskell"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.Bundle <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.support.v7.app.AppCompatActivity class SplashActivity: AppCompatActivity() { override fun onCreate(<span class="hljs-title"><span class="hljs-title">savedInstanceState</span></span>: <span class="hljs-type"><span class="hljs-type">Bundle</span></span>?) { // ,    super.onCreate() setTheme(<span class="hljs-type"><span class="hljs-type">R</span></span>.<span class="hljs-title"><span class="hljs-title">style</span></span>.<span class="hljs-type"><span class="hljs-type">AppTheme</span></span>) super.onCreate(<span class="hljs-title"><span class="hljs-title">savedInstanceState</span></span>) val user = UserDb.getCurrentUser() routeToAppropriatePage(<span class="hljs-title"><span class="hljs-title">user</span></span>) finish() } private fun routeToAppropriatePage(<span class="hljs-title"><span class="hljs-title">user</span></span>: <span class="hljs-type"><span class="hljs-type">User</span></span>?) { //   when { user == null -&gt; OnboardingActivity.start(<span class="hljs-title"><span class="hljs-title">this</span></span>) user.hasPhoneNumber() -&gt; EditProfileActivity.start(<span class="hljs-title"><span class="hljs-title">this</span></span>) user.hasSubscriptionExpired() -&gt; PaymentPlansActivity.start(<span class="hljs-title"><span class="hljs-title">this</span></span>) else -&gt; HomeActivity.start(<span class="hljs-title"><span class="hljs-title">this</span></span>) } } }</code> </pre> </div></div><br><p>  <strong>Pros:</strong> </p><br><ol><li>  Solves the first two problems of the <strong>first method</strong> . </li></ol><br><p>  <strong>Minuses:</strong> </p><br><ol><li>  I have seen how similar routing easily becomes ugly. </li><li>  Slight delay between two Activities. </li><li>  Danger of forgetting and starting to do lengthy operations here. </li></ol><br><br><h3 id="ispolzuya-taymery">  Using timers </h3><br><p>  This is a good old approach.  You just need to create a separate one for Splash Screen Activity, which will be shown in <em>x</em> seconds.  Then open the appropriate Activity.  Using this approach, you get more flexibility, because you can add animation, custom view or any other elements that you can put in the Activity layout.  Here is the minimal implementation of this approach: </p><br><div class="spoiler">  <b class="spoiler_title">code</b> <div class="spoiler_text"><pre> <code class="hljs haskell"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.Bundle <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.Handler <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.support.v7.app.AppCompatActivity class SplashActivity: AppCompatActivity() { override fun onCreate(<span class="hljs-title"><span class="hljs-title">savedInstanceState</span></span>: <span class="hljs-type"><span class="hljs-type">Bundle</span></span>?) { super.onCreate(<span class="hljs-title"><span class="hljs-title">savedInstanceState</span></span>) setContentView(<span class="hljs-type"><span class="hljs-type">R</span></span>.<span class="hljs-title"><span class="hljs-title">layout</span></span>.<span class="hljs-title"><span class="hljs-title">activity_splash</span></span>) scheduleSplashScreen() } private fun scheduleSplashScreen() { val splashScreenDuration = getSplashScreenDuration() Handler().postDelayed( { //  <span class="hljs-type"><span class="hljs-type">Splash</span></span> <span class="hljs-type"><span class="hljs-type">Screen</span></span>    <span class="hljs-type"><span class="hljs-type">Activity</span></span> <span class="hljs-title"><span class="hljs-title">val</span></span> <span class="hljs-title"><span class="hljs-title">user</span></span> = <span class="hljs-type"><span class="hljs-type">UserDb</span></span>.<span class="hljs-title"><span class="hljs-title">getCurrentUser</span></span>() routeToAppropriatePage(<span class="hljs-title"><span class="hljs-title">user</span></span>) finish() }, splashScreenDuration ) } private fun getSplashScreenDuration() = 2000L private fun routeToAppropriatePage(<span class="hljs-title"><span class="hljs-title">user</span></span>: <span class="hljs-type"><span class="hljs-type">User</span></span>?) { //   when { user == null -&gt; OnboardingActivity.start(<span class="hljs-title"><span class="hljs-title">this</span></span>) user.hasPhoneNumber() -&gt; EditProfileActivity.start(<span class="hljs-title"><span class="hljs-title">this</span></span>) user.hasSubscriptionExpired() -&gt; PaymentPlansActivity.start(<span class="hljs-title"><span class="hljs-title">this</span></span>) else -&gt; HomeActivity.start(<span class="hljs-title"><span class="hljs-title">this</span></span>) } } }</code> </pre> </div></div><br><p>  <strong>Pros:</strong> </p><br><ol><li>  It is possible to show your super-animation, or any other custom design that you want.  It makes sense for gaming apps or apps for kids. </li><li>  Greater flexibility in what you can show on Splash Screen. </li></ol><br><p>  <strong>Minuses:</strong> </p><br><ol><li>  Double strike - your Activity not starting Activity does not appear immediately after the application is launched, especially during a cold start.  The user waits during a cold start, watching only the <code>windowBackground</code> and, then, looking at the Splash Screen before the working Activity starts. </li><li>  Your super animation or design usually delights the user only the first couple of times.  Then, most users find it boring, and they only want content.  I think the <strong>fourth way</strong> is able to fix this. </li><li>  In most cases, the additional delay is unjustified. </li></ol><br><br><h3 id="ispolzuya-umnye-taymery">  Using smart timers. </h3><br><p>  This approach is based on the <strong>third method</strong> .  But instead of a constant delay, you run Splash Screen or not, based on whether it is the first to launch or not.  Here is an example that uses <code>SharedPreferences</code> : </p><br><div class="spoiler">  <b class="spoiler_title">code</b> <div class="spoiler_text"><pre> <code class="hljs haskell"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.content.Context <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.Bundle <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.Handler <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.support.v7.app.AppCompatActivity class SplashActivity: AppCompatActivity() { override fun onCreate(<span class="hljs-title"><span class="hljs-title">savedInstanceState</span></span>: <span class="hljs-type"><span class="hljs-type">Bundle</span></span>?) { super.onCreate(<span class="hljs-title"><span class="hljs-title">savedInstanceState</span></span>) setContentView(<span class="hljs-type"><span class="hljs-type">R</span></span>.<span class="hljs-title"><span class="hljs-title">layout</span></span>.<span class="hljs-title"><span class="hljs-title">activity_splash</span></span>) scheduleSplashScreen() } private fun scheduleSplashScreen() { val splashScreenDuration = getSplashScreenDuration() Handler().postDelayed( { //  <span class="hljs-type"><span class="hljs-type">Splash</span></span> <span class="hljs-type"><span class="hljs-type">Screen</span></span>    <span class="hljs-type"><span class="hljs-type">Activity</span></span> <span class="hljs-title"><span class="hljs-title">val</span></span> <span class="hljs-title"><span class="hljs-title">user</span></span> = <span class="hljs-type"><span class="hljs-type">UserDb</span></span>.<span class="hljs-title"><span class="hljs-title">getCurrentUser</span></span>() routeToAppropriatePage(<span class="hljs-title"><span class="hljs-title">user</span></span>) finish() }, splashScreenDuration ) } private fun getSplashScreenDuration(): Long { val sp = getPreferences(<span class="hljs-type"><span class="hljs-type">Context</span></span>.<span class="hljs-type"><span class="hljs-type">MODE_PRIVATE</span></span>) val prefKeyFirstLaunch = "pref_first_launch" return when(<span class="hljs-title"><span class="hljs-title">sp</span></span>.<span class="hljs-title"><span class="hljs-title">getBoolean</span></span>(<span class="hljs-title"><span class="hljs-title">prefKeyFirstLaunch</span></span>, <span class="hljs-title"><span class="hljs-title">true</span></span>)) { true -&gt; { //       (&gt; 3 )     false sp.edit().putBoolean(<span class="hljs-title"><span class="hljs-title">prefKeyFirstLaunch</span></span>, <span class="hljs-title"><span class="hljs-title">false</span></span>).apply() 5000 } false -&gt; { //    ,  Splash Screen  (&lt;= 1 ) 1000 } } } private fun routeToAppropriatePage(<span class="hljs-title"><span class="hljs-title">user</span></span>: <span class="hljs-type"><span class="hljs-type">User</span></span>?) { //   when { user == null -&gt; OnboardingActivity.start(<span class="hljs-title"><span class="hljs-title">this</span></span>) user.hasPhoneNumber() -&gt; EditProfileActivity.start(<span class="hljs-title"><span class="hljs-title">this</span></span>) user.hasSubscriptionExpired() -&gt; PaymentPlansActivity.start(<span class="hljs-title"><span class="hljs-title">this</span></span>) else -&gt; HomeActivity.start(<span class="hljs-title"><span class="hljs-title">this</span></span>) } } }</code> </pre> </div></div><br><p>  <strong>Pros:</strong> </p><br><ol><li>  This is a possible solution to a problem when a user gets tired of watching your Splash Screen for a long time. </li></ol><br><p>  <strong>Minuses:</strong> </p><br><ol><li>  Double hit - problems of the <strong>third way</strong> are still not here </li><li>  In most cases, the additional delay is unjustified. </li><li>  I have not used this method, but I think there may be some delay in reading from <code>SharedPreferences</code> . </li></ol><br><p>  It is all about Splash Screen.  If I missed something, write in the comments. </p><br><p>  <em>It should be noted that on Habr√© was already <a href="https://habrahabr.ru/post/312516/">an article</a> (translation), where it was a question of Splash Screen.</em>  <em>However, the approach touched there (corresponds to the second method in this article), as we could see, is not the most optimal for most cases.</em>  <em>And finally <a href="https://www.xda-developers.com/android-oreo-splash-screen-api/">, the</a> Splash Screen API is supposedly <a href="https://www.xda-developers.com/android-oreo-splash-screen-api/">added</a> to Android Oreo, which will allow developers to easily add Splash Screen to their applications, but at the moment there is no information in the official documentation about this.</em> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/345380/">https://habr.com/ru/post/345380/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../345368/index.html">A selection of tutorials on AR / VR</a></li>
<li><a href="../345370/index.html">POWA-like PostgreSQL Monitoring with Prometheus</a></li>
<li><a href="../345372/index.html">Dagger 2 for novice Android developers. Dagger 2. Advanced. Part 1</a></li>
<li><a href="../345374/index.html">Mikrotik RoS 6.41: Big Changes in Bridging and VLAN</a></li>
<li><a href="../345376/index.html">Study Tuples in C # 7</a></li>
<li><a href="../345382/index.html">Symfony Flex Private Recipes: Creating, Customizing, and Using</a></li>
<li><a href="../345384/index.html">The market for cryptocurrency caught up in terms of trading volume with the New York Stock Exchange</a></li>
<li><a href="../345386/index.html">How in TMemo to make vertical alignment, indents and TextHint</a></li>
<li><a href="../345388/index.html">HTML 5.2 in brief</a></li>
<li><a href="../345390/index.html">Synchronizing AssemblyVersion and Publish Version in a ClickOnce application</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>