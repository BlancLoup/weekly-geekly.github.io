<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Mikrotik: reset settings, backups and DualBoot</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Analysis of many small, relatively related, topics: software and hardware reset settings, the Protected RouterBoot function, backups and configuration...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Mikrotik: reset settings, backups and DualBoot</h1><div class="post__text post__text-html js-mediator-article"><p>  Analysis of many small, relatively related, topics: software and hardware reset settings, the Protected RouterBoot function, backups and configuration export, breakdown of flash memory into sections. </p><a name="habracut"></a><br><h3 id="programmnyy-sbros-nastroek">  Software reset </h3><br><p>  If you have access to the router from a user with full rights, you can reset all settings via [System] ‚Üí [Reset Configuration] </p><br><p><img src="https://habrastorage.org/webt/or/9a/id/or9aidpvbp7frp717hloovr0una.png"><br>  What is there: </p><br><ul><li>  Keep user setting - do not delete user accounts. </li><li>  CAPS mode - after reset, search for the CAPsMAN controller. </li><li>  No Default Configuration - do not create a default configuration after a reset. </li><li>  Do Not backup - do not create backup before dumping.  If not noted, the created backup will not be password-protected. </li><li>  Run After Reset - a script that will be executed after resetting and restarting the router. </li><li>  During the reset, the contents of flash memory is not overwritten. </li></ul><br><p>  Console option: </p><br><pre><code class="hljs sql">/system <span class="hljs-keyword"><span class="hljs-keyword">reset</span></span>-configuration <span class="hljs-keyword"><span class="hljs-keyword">no</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">defaults</span></span>=yes <span class="hljs-keyword"><span class="hljs-keyword">skip</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">backup</span></span>=yes</code> </pre> <br><h3 id="apparatnyy-sbros-nastroek">  Hardware reset </h3><br><p>  It all depends on the model of the router, maybe three options: </p><br><p>  <strong>There is a reset button</strong> </p><br><p>  To begin, turn off the power, hold down the reset and turn on the power.  We release through: </p><br><ul><li>  3 seconds (before ACT blink) - boot from the spare bootloader.  It helps if a failure occurs when updating the system or firmware. </li><li>  <strong>5 seconds (ACT blinking) - reset.</strong> </li><li>  10 seconds (ACT stops flashing) - search for the CAPsMAN controller. </li><li>  15 seconds (ACT off) - search for the netinstall server. </li></ul><br><p>  <strong>Contact area</strong> </p><br><p>  The wiki claims that all devices are equipped with a similar platform.  For the sake of interest, I opened RB491-2nD and did not find one. </p><br><p>  Reset technology: turn off the power, close the platform (the beeper makes a wheezing squeak) and do not release until full load. </p><br><p>  <strong>Jumper</strong> </p><br><p>  Present on older models. </p><br><p>  Reset technology: turn off the power, close the jumper, wait for the full load, remove the jumper. </p><br><h3 id="protected-routerboot">  Protected RouterBoot </h3><br><p>  It may happen that after resetting someone else‚Äôs (otherwise you would have known) the router will not load further than the first peak - this is a new feature from Mikrotik that wipes all flash memory (including RouterOS), you will need to restore netinstall. </p><br><p>  <strong>About RouterBoot</strong> </p><br><p>  RouterBoot is the bootloader on Mikrotik devices, you can <a href="https://wiki.mikrotik.com/wiki/Manual:RouterBOOT">interact</a> with it through the Serial interface and prevent the interference of the boot process with one of the intended purposes of the Protected RouterBoot. </p><br><p>  The loader is divided into two parts: </p><br><ul><li>  Recovery - comes with the device and coincides with the Factory Firmware. </li><li>  Current - comes with the system package, but is updated separately. </li></ul><br><p><img src="https://habrastorage.org/webt/3p/qx/xl/3pqxxl1t563pxmzjosgqqxcjjyq.png"><br>  View current versions in [System] ‚Üí [RouterBoard].  The [Upgrade] button updates the Current loader.  If the system works poorly and boots only from the backup (as written in the section above), then in [Settings] you can explicitly set the recovery bootloader as permanent, the Auto Upgrade option for updating the current bootloader along with RouterOS.  <i>And once we are here - the Silent Boot option turns off sounds during the download.</i> </p><br><div class="spoiler">  <b class="spoiler_title">Console option</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">#   /<span class="hljs-keyword"><span class="hljs-keyword">system</span></span> routerboard print /<span class="hljs-keyword"><span class="hljs-keyword">system</span></span> routerboard setting print #   /<span class="hljs-keyword"><span class="hljs-keyword">system</span></span> routerboard upgrade #    Recovery /<span class="hljs-keyword"><span class="hljs-keyword">system</span></span> routerboard setting <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> force-backup-booter=yes #  beeper /<span class="hljs-keyword"><span class="hljs-keyword">system</span></span> routerboard setting <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> silent-boot=yes</code> </pre> </div></div><br><p>  <strong>On which versions of the firmware does Protected RouterBoot work?</strong> </p><br><p>  They promise guaranteed work for devices with Factory Firmware 3.24 and higher; if your device is older, you can activate the function by updating the firmware. </p><br><div class="spoiler">  <b class="spoiler_title">Recovery firmware update for RB951G</b> <div class="spoiler_text"><p>  The forum and the wiki warn that everything is experimentally done at your own peril and risk.  Read the <a href="https://forum.mikrotik.com/viewtopic.php%3Ff%3D2%26t%3D94303">topic</a> , there is a list of models and update files, I will write on the example of RB951G. </p><br><p>  The error looks like this: <br><img src="https://habrastorage.org/webt/n5/q7/oj/n5q7ojwxro3glijxy8c97sifr90.png"></p><br><p>  First, download: </p><br><ul><li>  <a href="https://wiki.mikrotik.com/wiki/Manual:RouterBOARD_settings">Package dpk</a> for its architecture. <br><img src="https://habrastorage.org/webt/fe/wx/m3/fewxm3tfbtbfpkxafrujegghf-w.png"></li><li>  <a href="https://mikrotik.com/product/RB951G-2HnD">firmware</a> (point RouterBoot firmware), for other models look in similar places. </li></ul><br><p>  They will be required later. </p><br><p>  Update the bootloader will only work on the BugFix firmware version, so you need to roll back to version 6.40.x. <br>  <strong>Option 1</strong> <br>  [System] ‚Üí [Packages] ‚Üí [Check for updates] <br>  Channel: Bugfix Only <br>  click [Download and Install] <br>  Console option: </p><br><pre> <code class="hljs sql">/system package <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> channel=bugfix /<span class="hljs-keyword"><span class="hljs-keyword">system</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> <span class="hljs-keyword"><span class="hljs-keyword">check</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>-updates /<span class="hljs-keyword"><span class="hljs-keyword">system</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> <span class="hljs-keyword"><span class="hljs-keyword">install</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/oq/w3/4s/oqw34sbz9yvbtv3sfvajrpwi95g.png"></p><br><p>  <strong>Option 2</strong> <br>  Download the necessary version (6.40.8 at the moment) of RouterOS from the <a href="https://mikrotik.com/download/archive">archive</a> , unpack and copy the necessary packages to MikroTik. <br>  Next: [System] ‚Üí [Packages] ‚Üí [Downgrade] <br><br>  Console option: </p><br><pre> <code class="hljs perl">/<span class="hljs-keyword"><span class="hljs-keyword">system</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> downgrade</code> </pre> <br><p>  Result: <br><img src="https://habrastorage.org/webt/bg/fs/kg/bgfskgu057hl_t2jnht5y8gyd9k.png"></p><br><p>  We return to the files downloaded earlier. <br>  Load the device .wf * file and launch the firmware update via: <br>  [System] -&gt; [RouterBoard] -&gt; [Upgrade] <br>  [System] -&gt; [Reboot] <br>  Console option: </p><br><pre> <code class="hljs pgsql">/<span class="hljs-keyword"><span class="hljs-keyword">system</span></span> routerboard upgrade /<span class="hljs-keyword"><span class="hljs-keyword">system</span></span> reboot</code> </pre> <br><p>  After reboot, the current firmware will become 3.41.  Delete the .fwf file. </p><br><p>  Download the device.dpk * file and send it to reboot. <br>  We receive the updated version of Factory Firmware. <br><img src="https://habrastorage.org/webt/jo/1f/eq/jo1feqbrt32dsbxbpcknjffl-em.png"><br>  Now you can update RouterOS to the latest version, then update the bootloader and use all the functionality. </p></div></div><br><p>  [System] ‚Üí [RouterBoard] ‚Üí [Settings] </p><br><p><img src="https://habrastorage.org/webt/wh/p-/em/whp-emrf5eegbfwvrv0sq1cyn9o.png"><br>  <strong>Turn on Protected RouterBoot = yes, now</strong> </p><br><ul><li>  Interaction with RouterBoot during the download phase will be impossible. </li><li>  Reset button will work in a single mode - wipe flash memory.  The reformat-hold-button and reformat-hold-button-max options define the minimum and maximum value of the hold time of the Reset button.  It is necessary to get into the established interval.  Formatting memory can take up to 5 minutes. </li><li>  Etherboot will not work. </li><li>  Reset via contact closures on the board will not work. </li></ul><br><p>  <em>I do not urge you to include this option in a mandatory manner, think for yourself when you need it, and when you can do without such measures.</em> </p><br><h3 id="vosstanovlenie-proshivki-sredstvami-netinstall">  Restoring firmware using netinstall </h3><br><p>  Netinstall is a universal tool for flashing and pre-configuring MikroTik routers.  When used, the internal memory and configuration is formatted, only the settings in [System] ‚Üí [RouterBOARD] will remain unchanged </p><br><p>  Available only for Windows by <a href="https://mikrotik.com/download">reference</a> .  Conflicts with some firewalls and antiviruses (add to exceptions), there may be problems starting from users with limited rights - run "As Administrator". </p><br><p>  <strong>Procedure:</strong> </p><br><ul><li>  You will need firmware files <a href="https://mikrotik.com/download">from here</a> .  You can take the whole main, or unpack the necessary packages from extra, only the system package is required. </li><li>  Wired connection with the router.  Moreover, the PC and the router should be located within the same network segment, it is better to connect the cable directly. </li><li>  It is recommended to disable all unnecessary network interfaces on the PC.  In practice, there is usually no problem with this. </li><li>  Install a static ip on the wired interface to which the router is connected, for example: 192.168.100.1/24. </li><li>  If on Mikrotik there is a port labeled Boot, then connect to it, if not - to the first port. </li><li>  Run Netinstall, in [Net Booting] you need to enable Boot Server Enabled and specify ip from the previously selected subnet, for example: 192.168.100.10. </li></ul><br><p><img src="https://habrastorage.org/webt/fo/b7/rn/fob7rnhuascwhs0huicpqo0b-de.png"></p><br><ul><li>  Turn off the power of MikroTik, hold down the Reset and wait 15 seconds (until the router appears in Netinstall).  If the Reset button is absent, then we close the contact pad or jumper. </li><li>  In [Browse], select the directory with the necessary RouterOS files, mark the necessary ones. </li><li>  Click [install]. <br><img src="https://habrastorage.org/webt/th/lg/j4/thlgj4jj0f-twgcbfpwcske90si.png"></li></ul><br><p>  <strong>What else is netinstall capable of</strong> </p><br><ul><li>  Key - you can upgrade the license.  SoftID is required to order a key. </li><li>  Keep old configuration - save the configuration and restore it after the firmware. </li><li>  IP address / Netmask &amp; gateway - configure ip. </li><li>  Baud rate - set the speed of the Serial interface. </li><li>  Configure script - the script that will be launched after sewing. </li><li>  Apply default config - load the default configuration.  Works if the previous three points are not installed. </li><li>  Flashfig is a utility for mass customization of new devices, <a href="https://wiki.mikrotik.com/wiki/Manual:Flashfig">more</a> . </li></ul><br><h3 id="bekap-i-eksport-konfiguracii-v-mikrotik">  Backup and export configuration in Mikrotik </h3><br><p>  <strong>Binary backup</strong> </p><br><ul><li>  It includes almost complete (files, certificates and ipsec keys are not migrated) copy of RouterOS settings. </li><li>  Encryption in backups are only system accounts. </li><li>  Not editable. </li><li>  Recovery overwrites the current configuration. </li><li>  It is desirable to restore to a similar model Mikrotik. </li><li>  It is possible to restore on other than the original models.  But in the binary backup, the interface settings are tied to the internal id and when restoring the real and system ethernet port numbers will be confused.  If the new device does not have enough physical interfaces, the settings will be restored, but they will refer to unknown. </li></ul><br><p>  Create backup: <br>  [Files] ‚Üí [Backup] </p><br><p><img src="https://habrastorage.org/webt/ln/rk/30/lnrk30t0h5ar2xqsosvo7qjzx7o.png"></p><br><ul><li>  Name - the name of the file.  default will be -. <br>  Password - password.  The default password is the current user. <br>  Don't encrypt - do not encrypt backup. <br><br><p>  Console option: </p><br><pre> <code class="hljs objectivec">/system backup save <span class="hljs-meta"><span class="hljs-meta">#    # name=</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;string&gt;</span></span></span><span class="hljs-meta"> -  # password=</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;string&gt;</span></span></span><span class="hljs-meta"> -  # dont-encrypt=</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;yes|no&gt;</span></span></span><span class="hljs-meta"> -  </span></span></code> </pre> <br><p>  Recovery: <br>  [Files] ‚Üí [Highlight required file] ‚Üí [Restore] </p><br><p><img src="https://habrastorage.org/webt/25/z6/pz/25z6pzb0e7bbfmu5dk0pqpzgj14.png"></p><br><p>  Console option: </p><br><pre> <code class="hljs pgsql">/<span class="hljs-keyword"><span class="hljs-keyword">system</span></span> backup <span class="hljs-keyword"><span class="hljs-keyword">load</span></span> <span class="hljs-type"><span class="hljs-type">name</span></span>=&lt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">password</span></span>=&lt;&gt;</code> </pre> <br><p>  Additionally: </p><br><ul><li>  <a href="https://www.mikrotikpasswordrecovery.net/">https://www.mikrotikpasswordrecovery.net/</a> - service to retrieve system accounts from unencrypted backup. </li><li>  <a href="https://github.com/BigNerd95/RouterOS-Backup-Tools">https://github.com/BigNerd95/RouterOS-Backup-Tools</a> - an unofficial script for partial unpacking of backup. </li></ul><br><p>  <strong>Export and import configuration</strong> </p><br><ul><li>  Does not include system user settings.  <a href="http://href=">Cry</a> </li><li>  You can save (export) and download (import) only from the console. </li><li>  It is possible to copy both the whole config and part. </li><li>  Not encrypted. </li><li>  You can edit. </li><li>  During the import of the configuration, the current one will not be overwritten. </li><li>  You can restore to any model, there will be no confusion in the interfaces, but if the interfaces are not enough, the corresponding settings will not be restored. </li><li>  In the latest updates, RouterOS repaired the restoration of Scripts and Schedulers.  Now they are restored without errors with the specified users, users themselves will not be created. </li></ul><br><p>  Export options: </p><br><ul><li>  compact - only differences from the default configuration.  By default in RouterOS 6. Conflict with verbose. </li><li>  verbose is the most complete configuration.  By default in RouterOS 5. Conflicts with compact. </li><li>  hide-sensitive - do not export passwords, keys, etc. </li><li>  terse - do not break lines. <br>  export does not save the configuration to a file, unless you explicitly specify the file key = &lt;file name&gt; rsc extension will be added automatically. </li></ul><br><pre> <code class="hljs delphi">#    /<span class="hljs-keyword"><span class="hljs-keyword">export</span></span> #      /<span class="hljs-keyword"><span class="hljs-keyword">export</span></span> verbose <span class="hljs-keyword"><span class="hljs-keyword">file</span></span>=config #   ip address   /ip address <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">file</span></span>=config-ip-add #     /import <span class="hljs-keyword"><span class="hljs-keyword">file</span></span>=config.rsc</code> </pre> <br><h3 id="routeros-dualboot-v-mikrotikpartition">  RouterOS DualBoot in Mikrotik (Partition) </h3><br><p>  Flash drive can be divided into several sections and install multiple copies of RouterOS (including various).  In case of unsuccessful boot, the next one will be loaded from the main partition.  The feature is available on devices with MIPS, PowerPC and CCR series. </p><br><p>  Breakdown into sections: <br>  [Partition] ‚Üí [Repartition] </p><br><p><img src="https://habrastorage.org/webt/nr/l4/u_/nrl4u_umddpkhf5w2xxbif4ygj4.png"></p><br><pre> <code class="hljs">/partitions repartition partitions=2</code> </pre> <br><p>  You must specify the total number of sections.  There are two limitations: the maximum number of partitions is 8 and the minimum partition size: 32MB for MIPS;  40MB for PowerPC;  48MB for CCR. </p><br><p>  The new section will be empty; you need to copy the current firmware to it via [Copy to]. <br><img src="https://habrastorage.org/webt/tz/dn/4s/tzdn4s7juytv8vbp5q38klvbdfc.png"></p><br><pre> <code class="hljs pgsql">/partitions <span class="hljs-keyword"><span class="hljs-keyword">copy</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">to</span></span> part1</code> </pre> <br><p>  In the console, the properties of partitions are better visible: Active (A) - from which the next boot will be made and the partition from which the system¬Æ was booted. </p><br><p><img src="https://habrastorage.org/webt/3u/8r/6z/3u8r6z-2hgyhnhtkvsioiqsclkc.png"><br>  The active partition is changed in its properties by the [Activate] button.  The Fallback to option is responsible for selecting the partition if the download failed. </p><br><pre> <code class="hljs pgsql">#    /partitions activate part1 #    /partitions <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> part1 fallback-<span class="hljs-keyword"><span class="hljs-keyword">to</span></span>=part0 #     bootp(netinstall) /partitions <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> part1 fallback-<span class="hljs-keyword"><span class="hljs-keyword">to</span></span>=etherboot</code> </pre> <br><p>  [Save Config To] - Save the configuration from the current¬Æ partition to the selected one. <br>  [Restore Config From] - Save configuration from selected partition to current¬Æ. </p><br><pre> <code class="hljs pgsql">/partitions save-config-<span class="hljs-keyword"><span class="hljs-keyword">to</span></span> part1 /partitions restore-config-<span class="hljs-keyword"><span class="hljs-keyword">from</span></span> part1</code> </pre> <br><p>  The functionality is interesting, but it has two drawbacks: Not all routers are equipped with enough flash memory.  Crashes in RouterOS, even when upgrading, are not so common. </p></li></ul></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/419693/">https://habr.com/ru/post/419693/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../419679/index.html">Implementing the Spring Framework API from scratch. Step-by-step guide for beginners. Part 1</a></li>
<li><a href="../419683/index.html">What do the metrics mean for Agile teams?</a></li>
<li><a href="../419685/index.html">Key data structures you should know about your programming interview.</a></li>
<li><a href="../419687/index.html">Mystery Keyboard Level 3 or how to type a long dash</a></li>
<li><a href="../419689/index.html">I. Disadaptation. Ii. ADHD or lazy moron?</a></li>
<li><a href="../419695/index.html">What to do immediately after a trip to a business conference? ISPsystem Buzzing Tips</a></li>
<li><a href="../419697/index.html">Telecommunications of the Yekaterinburg Arena Stadium: 20 kilometers of thick cable</a></li>
<li><a href="../419699/index.html">The history of testing the project "K": Kotlin & Spek</a></li>
<li><a href="../419701/index.html">Why in the presence of power you need a good old coal boiler in the car</a></li>
<li><a href="../419703/index.html">Registration of medical devices: how many mice will suffer in the process</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>