<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>AndroidAudit. Your Android application as a crime scene</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="From the translator: evaluation of the process and the result of the development is a rather subjective thing if no measure of weights is used. One ca...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>AndroidAudit. Your Android application as a crime scene</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/a7a/965/c2e/a7a965c2e9ec4ae8955f99291e2bb35a.jpg"><br><br>  <i>From the translator: evaluation of the process and the result of the development is a rather subjective thing if no measure of weights is used.</i>  <i>One can argue for a long time: tabs or spaces, git or mercurial, maven or gradle, but such disputes still slip into taste and some special cases.</i>  <i>Another thing - the observance of the homogeneity of the project, this is quite a measurable value.</i> <blockquote>  Bad methodology is better than no one. </blockquote>  In addition to common things, there are specific, inherent only in mobile development, only for Android.  <b>Pedro Vicente G√≥mez S√°nchez</b> from <b>Karumi,</b> in his work, sorted out the main technical areas and asked well-posed questions for a correct, objective assessment of the development for the Android platform.  If a task appears: to evaluate someone else's project, then I recommend using his methodology.  I used this methodology as a check list.  At the exit, the document turned out to be quite understandable to a non-professional, where in front of each category is a specific <em>amount of correctness matching</em> from 0 to 1. <br><a name="habracut"></a><br><br>  Technical audit of iOS and Android applications has become an integral part of our daily work in Karumi.  Although it looks simple, there are quite a few details of the implementation of such a check that are worth considering.  In this document, we will look at what we consider to be the most important in conducting the audit and divide it by technical area. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <strong>Version Control System</strong> <br><br>  Whether a version control system is used, which system and how workflows are organized will tell a lot about the development process. <br><ul><li>  Do you have a properly configured * ignore file so that IDE metadata files and other extraneous elements do not fall into the repository? <br></li><li>  Are third-party libraries configured as external dependencies or are they in storage? <br></li><li>  Are the short and expressive comments on commits you use? <br></li><li>  Is the size of your commits reasonable? <br></li><li>  Are all the files in a commit related to the same problem or functionality? <br></li><li>  Do you use any branching schemes like "feature branch" or "git-flow"? <br></li><li>  Are the branches names informative enough? <br></li><li>  Do you use the pull request / code review system before merging the code into master? <br><ul><li>  Do you have any rules regarding what to look for when considering a PR (pull request)? <br></li><li>  How many comments on average per PR? <br></li><li>  How many people does each PR consider? <br></li><li>  How many +1 PR to merge? <br></li><li>  Who is responsible for closing the branch? </li></ul><br></li><li>  Do you use release branches for each release? <br></li><li>  How long is the staging process open? <br></li><li>  How many corrections do you make in the release candidate before you release it? <br></li><li>  Is it possible to switch to the exact code of any of the published versions of your application? <br></li><li>  How many hotfix fixes did you release last year? <br></li><li>  Do you combine (squash) commits before merging it into a master / develop branch? <br></li><li>  Are master / develop branches ready for release at any time? </li></ul><br><br>  <strong>Build Tools</strong> <br><br>  The determining factor is the ability to run the build process on the developer's machine and on any other external system, for example, on a continuous integration system. <br><ul><li>  How many libraries are used in the project? <br></li><li>  Is the project divided into modules? <br></li><li>  Are Maven or Gradle modules used to resolve dependencies, or are local .jar files used? <br></li><li>  Is the project at a dangerous distance close to the limit on the number of methods in .dex files?  Or is it over the edge? <br></li><li>  Do you use libraries that are not needed in the project? <br></li><li>  Is multidex used? <br></li><li>  Are all external dependencies updated to modern versions? <br></li><li>  Are all licenses of third-party libraries complied with? <br></li><li>  Are outdated or unsupported third-party libraries used? <br></li><li>  Is the minimum SDK conditioned by the requirements of the technical description (product description)? <br></li><li>  Is the target SDK relevant? <br></li><li>  Is ProGuard or any other obfuscation tool used (obfuscation)?  Is it on and properly configured? <br></li><li>  Are the keystore credentials credentials and google play credentials kept in a safe place? <br></li><li>  Is the application keystore and credentials stored in a safe place? <br></li><li>  Are build types properly configured? <br></li><li>  Are flavors used correctly? <br></li><li>  Is the release assembly type properly configured? <br></li><li>  Is the backup option enabled? <br></li><li>  Is Lint turned on?  Does he successfully pass the test? <br></li><li>  Is there a static analysis tool?  Is it configured and successfully tested? <br></li><li>  Is there a checkstyle?  Is it configured and successfully tested? <br></li><li>  Is the application id and version name / code correct? <br></li><li>  Do you use any structure or strategy for id versioning? <br></li><li>  Is the continous integration tool used, is it properly configured? <br></li><li>  Is the process of releasing new versions automated? </li></ul><br><br>  <strong>Using Android resources</strong> <br><br>  There is a wide range of devices in the Android world, each with its own screen size, capabilities, etc.  You need to be very careful and carefully use some of the Android tools so that users have the best impression of your application, regardless of their device. <br><ul><li>  Are there any missing resources for densities, flavors and build types? <br></li><li>  Does the application require support for screens with different pixel density (density) according to the specification? <br></li><li>  Does the application use drawable / mipmap, fonts, or vector resources? <br></li><li>  Are there any missing translations? <br></li><li>  Is the translation process automated? <br></li><li>  What is the default language for translation? <br></li><li>  Does the application use third-party fonts? <br></li><li>  Does the application use configuration values ‚Äã‚Äãinside a string resource file? <br></li><li>  Is the agreement honored for assigning uniform names to resources? <br></li><li>  Are there any configuration parameters associated with the hardware of the device, are they configured correctly? <br></li><li>  Are the tablets supported? </li></ul><br><br>  <strong>Using Android Layout</strong> <br><br>  As we said earlier, there is a wide range of Android devices in the world, each of them with its own size and density of the screen.  The determining factor is the proper use of Android Layouts. <br><ul><li>  Are there any performance problems due to the number of layers in the layouts of the application? <br></li><li>  Do you use themes and styles? <br></li><li>  Are layouts reused with the "include" tag? <br></li><li>  Are you using the right type of grouping in layouts? <br></li><li>  Are different screen sizes taken into account in the layouts? <br></li><li>  Is any naming convention used to keep the names assigned to layouts and widgets homogeneous? <br></li><li>  Lists implemented using ListView or RecyclerView? <br></li><li>  Is the Android Support Library used correctly? </li></ul><br><br>  <strong>Access rights</strong> <br><br>  Requesting possible actions of the application (permissions) increases the trust of users to it, as well as expands its capabilities through "transparent" integration with other services. <br><ul><li>  Are all required permissions really necessary? <br></li><li>  Is permission used intentionally? <br></li><li>  Are there any missing permissions? <br></li><li>  If the target SDK is greater than 23, are ‚Äúdangerous permissions‚Äù being requested using the compatibility permissions system? <br></li><li>  Permission requested when they will be used? <br></li><li>  Is there user feedback explaining why any permission is needed? </li></ul><br><br>  <strong>Safety problems</strong> <br><br>  As developers, we must be conscious of the security of our applications.  We don‚Äôt want our users ‚Äôdata to be leaked or stolen. <br><ul><li>  Is the HTTP client configured to use HTTPS? <br></li><li>  Is the HTTP client configured to use an embedded certificate (certificate pinning) and authentication messages with HMAC? <br></li><li>  Does the application keep confidential user information?  Where? <br></li><li>  Does the application store information outside the internal storage system? <br></li><li>  Is the application logged (logging traces) when the release is built? <br></li><li>  Is the application code obfuscated? <br></li><li>  Does your application provide a content provider (Android content provider), receiver (receiver), or service to other applications? <br></li><li>  Is the "debuggable" option disabled in the release build? </li></ul><br><br>  <strong>Push Notifications (Push Notifications)</strong> <br><br>  Push is an excellent mechanism for informing our users at any time, but this is a more complicated problem than it seems at first glance. <br><ul><li>  Is a third-party library used to implement the system of push-notifications? <br></li><li>  Is the GCM system used to transmit information to the application, or just to show messages to the user? <br></li><li>  How does the application behave when receiving push notifications? <br></li><li>  How does the application behave when the information related to the Push notification is not what was expected? <br></li><li>  Are notifications using compatibility APIs shown? </li></ul><br><br>  <strong>Performance</strong> <br><br>  Performance is important.  No one wants to use a slow application on their expensive devices.  Productivity is money. <br><ul><li>  Does the application have any memory leaks? <br></li><li>  Is a memory analyzer set up in the develop assembly, like, for example, "LeakCanary"? <br></li><li>  Is Android Strict Mode connected and configured in the develop assembly? <br></li><li>  How are threads used in the application?  Do you use async tasks, intent services or any other third-party libraries? <br></li><li>  Does the number of background threads cause performance problems? <br></li><li>  Do you use any scheduler policies or just create threads on demand? <br></li><li>  Do you support Android Doze Mode? <br></li><li>  Are there any events related to the state of the network or any other recurring event from the operating system? <br></li><li>  Is the main thread used only to perform tasks related to user interface code? <br></li><li>  Does the application have any caching policies? <br></li><li>  Is the HTTP client configured to use a timeout? <br></li><li>  Is the HTTP client configured to use gzip? <br></li><li>  Does the user interface of the application run at 60 frames per second? <br></li><li> Are there any custom views for which too much memory is allocated, or which perform ‚Äúexpensive‚Äù tasks in the UI thread (UI thread)? <br></li><li>  Are you testing your application on lower-end (low cost, non-productive) devices? <br></li><li>  Doesn't scrolling slow down the recycler view? <br></li><li>  Is a third-party library used for uploading images or do you have your own solution? <br></li><li>  Are the images scaled to fit the screen or immediately loaded under a specific device screen? <br></li><li>  Is memory usage reasonable? <br></li><li>  Is the "Static" modifier used correctly in Java? <br></li><li>  Do all image processing tasks handle multiple images at once? <br></li><li>  Does the statistics system work in a background thread and is it configured with the correct priority? <br></li><li>  Is the code optimized in the release build? </li></ul><br><br>  <strong>Java Packages Structure</strong> <br><br>  A good package structure will make our code more scalable. <br><ul><li>  Are packages used to separate code by functionality (features) or concepts (for example, Login vs User)? <br></li><li>  Are Java visibility modifiers used to hide implementation details inside packages? <br></li><li>  Do all packages come out of the root package? <br></li><li>  Does the test directory repeat the source folder structure? <br></li><li>  Are the various features (features) organized using the same package structure? <br></li><li>  Are the classes in the correct packages? <br></li><li>  Are uniform naming conventions followed? <br></li><li>  Is the name of the root package associated with the company name? </li></ul><br><br>  <strong>Code Style</strong> <br><br>  The code base coordinated in terms of style helps our engineers to read the code more easily.  The engineer reads MUCH more code than he writes, so this is an important concept. <br><ul><li>  Is the codestyle homogeneous? <br></li><li>  Do you use Hungarian notation? <br></li><li>  Is there any checkstyle tool?  Is it up and running? <br></li><li>  Does the code match java codestyle? <br></li><li>  Do you use tabs or spaces? <br></li><li>  Are the classes correct? <br></li><li>  Do you use "I" as an interface prefix or "Impl" as implementation suffixes? <br></li><li>  Do you use the correct variable names? <br></li><li>  Do you use the correct names for the fields? <br></li><li>  Do you use the correct names for the methods? <br></li><li>  Are the attributes and modifiers of the visibility of methods properly used? <br></li><li>  Is the code written in English? <br></li><li>  Do you use javadoc? <br></li><li>  Are you writing code comments? <br></li><li>  Do you use constants or enums to avoid duplication of literals? </li></ul><br><br>  <strong>Offline implementation</strong> <br><br>  Ensuring good offline operation is the hallmark of our applications. <br><ul><li>  Can the application be used when there is no Internet connection? <br></li><li>  What is the behavior of the application with a slow network connection? <br></li><li>  What is the behavior of the application when the request is lost due to a network failure? <br></li><li>  Are changes to application data synchronized with the backend after the connection has been reestablished? <br></li><li>  Is the timeout configured for network connection? <br></li><li>  Is HTTP caching policy configured? <br></li><li>  Is the user session restored automatically? </li></ul><br><br>  <strong>Architecture</strong> <br><br>  The application architecture, in terms of code, is one part of the audit, which gives us a deeper understanding of the application.  During the review of the application architecture, we will focus on concepts related to SOLID and Clean Code principles. <br><br>  <strong>Presentation Layer Implementation</strong> <br><ul><li>  Is there any pattern associated with the implementation of a GUI (graphical user interface)?  Model View Presenter or Model View ViewModel are two of the most commonly used templates for application development.  Are they implemented correctly? <br></li><li>  Is the presentation layer associated with the view implementation? <br></li><li>  Is the view implementation associated with the model implementation? <br></li><li>  Does the presentation layer include business logic? <br></li><li>  Does the view implementation correctly use Android SDK tools? <br></li><li>  Do you use third-party libraries to simplify view implementation? <br></li><li>  Is the implementation of different functions divided by individual activities or fragments? <br></li><li>  Is the user interface behavior uniform? <br></li><li>  Do you use custom views to reuse UI code? </li></ul><br><br>  <strong>Domain Implementation (Domain Implementation)</strong> <br><ul><li>  Is there a separate domain layer or is the whole business logic implemented in the presentation layer? <br></li><li>  Are the domain rules and different application requirements expressed in the core business logic objects? <br></li><li>  Is the domain layer implemented using OOP principles? <br></li><li>  Is the domain layer associated with the Android SDK or any third-party library? <br></li><li>  Is the domain layer associated with the presentation layer? <br></li><li>  Is the domain model "anemic"? <br></li><li>  Do you use ‚Äúfat‚Äù domain models? <br></li><li>  Is the code based on loosely coupled and, at the same time, well interacting components? <br></li><li>  Is error handling implemented using exceptions or some other error handling mechanism? <br></li><li>  Is the data mapped between different layers? <br></li><li>  Does the architecture of external components (for example, database schemas or JSON parsing) affect the domain model architecture? <br></li><li>  Are developers abusing inheritance? <br></li><li>  Is code duplicated? <br></li><li>  Is there a dependency injection library or a configured service locator? <br></li><li>  Is the complexity of the classes and methods too high? </li></ul><br><br>  <strong>API implementation</strong> <br><ul><li>  Is the implementation of the API attached to the Android SDK? <br></li><li>  Does the API leak any implementation details from the HTTP client or the library used to implement the network layer? <br></li><li>  Is the API client sending the correct headers? <br></li><li>  What is the client API behavior for different HTTP responses? <br></li><li>  Does the client API implement an authentication mechanism? <br></li><li>  Has the session resumption process been implemented correctly? <br></li><li>  Is there any support for obfuscation of JSON? <br></li><li>  Is the implementation of the API split for different clients? </li></ul><br><br>  <strong>Implementing Storage</strong> <br><ul><li>  Where is the information stored? <br></li><li>  Are transactions used when reading and writing information to the repository? <br></li><li>  Is the storage of confidential user information secure? <br></li><li>  Does the storage layer use any third-party libraries? <br></li><li>  Do implementation details flow through the storage layer? <br></li><li>  Are the tables / schemas correctly designed? <br></li><li>  Are the queries sent to the repository optimized? <br></li><li>  Are the Android SDK APIs used to store data in the right place?  Is the data stored in the database, and the settings (preferences) and small data in the Shared Preferences and files on the disk? </li></ul><br><br>  <strong>Testability</strong> <br><ul><li>  Does the application have tests? <br></li><li>  Is the application testable? <br></li><li>  Does the application use different types (unit / integration / end-to-end) tests? <br></li><li>  Are the tests correct? <br></li><li>  Do the tests cover the project enough? <br></li><li>  Are there excessive documenting (overspecification) in tests? <br></li><li>  Is the lead time reasonable? <br></li><li>  Is the code coverage too low? <br></li><li>  Are there any ignored tests? <br></li><li>  Are there flaky tests? <br></li><li>  Do you use modern frameworks for testing? <br></li><li>  Are there any tests without statements (tests without asserts)? <br></li><li>  Tests and production code written by the same developers? <br></li><li>  Do you have a QA team? <br></li><li>  Do you have a QA team that automates some of the tests? <br></li><li>  Do you have any continuous integration system? <br></li><li>  Do you use builders, factories or mothers to reduce the cost of creating some objects that are necessary for tests? <br></li><li>  Assertion tests (assertions) correctly spelled? <br></li><li>  Do you conduct more than one logical statement per test? <br></li><li>  Do you have different test suites related to the same project? <br></li><li>  Do you use different testing approaches for different parts of the application? <br></li><li>  Do you use any monkeyrunner? <br></li><li>  Do you follow any TDD or BDD methodology? <br></li><li>  Do you use Java to write test cases? </li></ul><br><br>  Based on this list associated with various technical areas, we can assess the quality of the application.  There are other points that we also consider, but this list contains the most important ones.  Can you give correct answers to all these questions about your application? <br><br>  <strong><em>Author: Pedro Vicente G√≥mez S√°nchez.</em></strong> <br><div class="spoiler">  <b class="spoiler_title">Thanks in helping prepare the translation</b> <div class="spoiler_text">  I can not fail to mention those without whom this translation would be a terrible promt, which is a shame to share with the public. <br>  Thank you for the help in translation and thoughtful reading of Kochkina Yana, Zaostrovsky Roman (@firsto), Polezhaev Maxim (@ itsme_42). <br>  Special thanks for both KDPV, which was not in the original article, Kochkina Yana. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Alternative KDPV</b> <div class="spoiler_text">  In memory of the once very popular library from <strong>JakeWharton</strong> . <br><img src="https://habrastorage.org/files/1d8/9ad/f1b/1d89adf1b0f54ebfb48c7b8a30723b58.jpg"><br><br>  By the way, if <em>ActionBarSherlock</em> lives in your project and now, I recommend thinking about <em>refreshing the</em> project. <br></div></div></div><p>Source: <a href="https://habr.com/ru/post/304208/">https://habr.com/ru/post/304208/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../304196/index.html">Confrontation: new format and new reality</a></li>
<li><a href="../304200/index.html">How to increase conversion to ecommerce using exit polls</a></li>
<li><a href="../304202/index.html">Update MS16-072 breaks Group Policy. What to do with it?</a></li>
<li><a href="../304204/index.html">Yandex "Mail for Domain" as a mail gateway for your servers</a></li>
<li><a href="../304206/index.html">Checking the source code of WPF Samples from Microsoft</a></li>
<li><a href="../304210/index.html">On the relative brightness, or how tenacious is Legacy</a></li>
<li><a href="../304212/index.html">The book "Head First. Learning Ruby</a></li>
<li><a href="../304214/index.html">How the principal component method (PCA) works with a simple example</a></li>
<li><a href="../304218/index.html">Harvard CS50 course in Russian: second lecture appeared</a></li>
<li><a href="../304220/index.html">Building a chain of trust in PKI, is it all so simple</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>