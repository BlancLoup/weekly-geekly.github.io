<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to adopt a law or data processing in distributed systems in an understandable language</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If your work is not related to computer technology, you probably did not think long about how data is stored on computers or in the cloud. I'm not tal...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to adopt a law or data processing in distributed systems in an understandable language</h1><div class="post__text post__text-html js-mediator-article">  If your work is not related to computer technology, you probably did not think long about how data is stored on computers or in the cloud.  I'm not talking about the physical mechanisms of hard drives or memory chips, but about something at the same time more complex and more understandable than you think. <br><br>  If you have a piece of data that many people want to read and edit at once, for example, a common text file, a bank account or a world in a multiplayer game, how to reach general agreement with what is in the document and make sure that no one overwrites someone else‚Äôs work?  This is a <b>problem of consensus in distributed systems</b> , and in order to deal with this, I will have to tell you about the sheep, dictators and fictional islands of ancient Greece. <br><br> <a href="https://habrahabr.ru/company/cloud4y/blog/330462/"><img src="https://habrastorage.org/web/435/646/9ce/4356469cec974186a348fa256bc316e0.jpg"></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ‚ÄúWhat other islands?‚Äù, You ask? <a name="habracut"></a><br><br>  It turns out that the original scientific article about one of the most important methods used to solve this problem was written in the form of a lengthy discussion of how the incomplete composition of the fictional parliament of the ancient Greek island Paxos managed to pass laws, despite the fact that from parliamentarians it was impossible to reliably say when it will appear in parliament.  This is an excellent metaphor about how a group of people can agree on what to write to a file, provided that part of the group can be unavailable for some indefinite time.  The original article is one of the funniest serious scientific articles ever published and one of the best explanations of the complex algorithm I have ever seen.  Since this metaphor worked perfectly in explaining part of the problem of consensus in distributed systems, and since it is much more interesting than talking about file systems, I'm going to use it in this article. <br><br>  The reason why this metaphor works so well is that in both cases we have some data with files and laws that many people want to change, many people want to read, but no one wants to spend everything on this process. your time  Simultaneous reading of a book with a code of laws is limited by the number of people who can see a book at a time, just as reading a file can be limited by the speed at which data can be obtained from the disk.  Simultaneous recording requires everyone to agree not to rewrite each other‚Äôs decision, but without a lengthy debate to make it.  Besides the fact that each person in the world will use the book in turn, how can we solve this problem? <br><br>  Instead of talking about file systems and database operations, let's move to the islands of the unreal Aegean Sea, where coincidences with reality are random, and residents are obsessed with issuing decrees and laws.  We just need to make sure that everyone can read the law whenever they need it.  There is a way through several winding stories, and by the time we finish, you will be aware of the problem of distributed consensus, in the form in which IT professionals are confronted.  Except for the sheep. <br><br>  By the way, there will be many islands, and their names are completely invented, besides that, which was the cause of this story, but more on that later. <br><br><h3>  Hermits and Mexican Food </h3><br><img src="https://habrastorage.org/web/a66/c8a/f7f/a66c8af7f5ed4192b0478d1a7b3732af.jpg"><br><img src="https://habrastorage.org/getpro/habr/post_images/330/ed7/08a/330ed708a1aa493498f25de98a59cf09.gif"><br>  We begin our story with the simplest case on Pseudemoxos.  Here lives one hermit who writes laws and decrees for his own use.  At first he used a very simple and understandable method: a notebook and a pencil.  He could add laws, change laws and reorganize laws at will, simply erasing and writing down new ones, no matter where he wished (in fact, this is how the disks on our computers worked until the end of the 90s). <br><br>  This method seemed to work quite well, except for wearing out too much paper.  However, the hermit was aware of the terrible lack of such a solution, when once a box of dubious burritos was thrown onto the shore.  Making changes in the law - erasing the text and starting to write something, the hermit experienced what we would politely call an ‚Äúemergency at work‚Äù.  When the somewhat battered hermit returned to his code, he found that he not only forgot what he was going to write, but now the empty space in the middle of the book is not filled with either old or new law, and scribbles written in haste cannot be read! <br><br>  A metaphor describes what happens to a computer or program in the event of a failure ‚Äî the data on the disk can be hopelessly distorted.  More serious failures of the hermit can be compared with such events as damage to the block of magnetic heads, which can damage not only the written words, but also leave a rather unpleasant and constant mark on the whole page. <br><br>  These problems are resolved with journaling.  The scheme is not to erase anything, just as people keep logs or laboratory diaries of observations.  Now our hermit is holding a pile of papers, and when he wants to make changes to the laws, he adds a new entry to his journal: <br><br>  <i>June 4, 10:32 - Add to food safety laws: the consumption of burritos that have been at sea for an indefinite period of time is prohibited.</i> <br><br>  Each edit, be it inserted, modified or deleted, is recorded at the end of the journal with a pen.  The hermit is protected from an emergency, because it never erases the record.  In the worst case, there is an incomplete, corrupted log entry or traces of a failed write attempt that can be simply ignored.  The log has the added advantage of recording all changes.  To see how the law looked a year ago, our hermit can simply read the magazine and stop at this date. <br><br>  One obvious drawback of the magazine is that it is more difficult to read than a notebook.  To find out about the current version of the law on food safety, you need to start from the very beginning of the magazine and read to the end, tracking all the changes.  As the journal volume increases over time, the process becomes more and more burdensome. <br><br>  In order to simplify everything, our hermit keeps a pile of empty reference books.  Whenever a journal becomes too voluminous, it allocates time to make a lawbook: it reads the journal from beginning to end, formulating the entire law in an up-to-date state, and then writes this state into a collection of laws.  On the cover of a code of laws, he writes: ‚ÄúThis is a state of law on [such a date].‚Äù  Further use of the law only requires that he read the law book and the change journal made after the date of the collection of the law.  Journals older than this date can be saved if a change history is sometimes required up to a set, or simply thrown away. <br><br>  If our hermit is too busy developing new legislation and cannot regularly make a set of laws, you can call the clerk (that is, the second computer program working in parallel with the first) to help him.  The scribe will read the journal until a certain agreed time, write a set of laws and inform the hermit that he has finished so that he can start using the new collection.  There is no need to tell the scribe to do his work, so the hermit can continue his labors in silence. <br><br>  This method has even more advantages.  Our hermit has become widely known for his wisdom (for example, his lessons about the rejection of Mexican cooking, delivered by sea), many people may want to read his laws.  As long as these readers are satisfied with a set of laws from a specific date, they can make their own copies and read them freely without having to disturb the sage.  Only a person who needs the most recent version of laws should contact him directly. <br><br>  (The use of journals in personal computers began in the late 1990s and became widespread in the mid-2000s. Your computer probably uses journaling now.) <br><br><h3>  Chaos on Fotas </h3><br><img src="https://habrastorage.org/web/8b1/3bd/c27/8b13bdc27a5a4fbb92438fdec4cb8fe9.png"><br><br>  Near the island of Psevdomoksos is a larger island Fotas (Fotas).  This island is sparsely populated, but people are enough for all residents to agree that they need a consolidated system of laws to control their lives.  Nonetheless, the residents of the city are known for their irreconcilable independence: they do not allow any other resident or group to rule over them, and therefore they decided that any resident of Fotas will have the power to enact the law.  To do this, you just need to write down the law on a sheet of paper with the date, time and your name and send the messenger with him to the Library of Fotas, where the clerk will add it to legal journals. <br><br>  (This means that many people try to save changes to a single file at the same time without first trying to reach consensus on what will be in the file.) <br><br>  To see some cases where something might go wrong, let's start a story with Agnes, who lives on one of the coasts of the island and is very concerned about the purity of ritual sacrifices.  She introduces the law: <br><br>  <i>June 1, noon - Law 32.1.2 on the sale of sheep changes as follows: Under the fear of death, it is forbidden to sell or acquire sheep whose wool is not completely white.</i>  <i>Signed, Agnia.</i> <br><br>  On the other side of the island, Bazil, who has several black sheep with whom he has difficulty selling, writes his law: <br><br>  <i>June 1, noon - Act 32.1.2 of the sale of sheep changes as follows: No one can refuse to buy or sell sheep because of the color of the wool.</i>  <i>Signed, Bazil.</i> <i><br></i> <br>  A little later, the clerk discovers two new laws with the same time mark.  What should he do?  When Bazil comes to town to sell the black sheep of Galatea, and she refuses to buy non-white sheep, they will go to read a set of laws.  Which version of the law should they use?  And what will happen when the clerk tries to collect the next set of laws?  (If two people tried to simultaneously write different data to the same part of the same file, the result can be absolutely anything.) <br><br>  To illustrate a more delicate problem, imagine that Agniya wants to perform the ‚Äúread-modify-write‚Äù operations of the law - she looks at the current law, decides to make changes, and then writes it down.  But while she does this, Bazil contributes to the law.  For example, at 10:00 am Agniya reads the law <br><br>  Section 32.1.3.  Anyone selling a goat must pay a tax equal to one coin to the general library fund. <br><br>  She reflects and at 10:02 she writes the following message: <br><br>  June 1, 10:02 - In Law 32.1.3, it is necessary to change "equal to one coin" to "equal to two coins".  Signed, Agnia. <br><br>  Unfortunately, at 10:01, Bazil, who cannot tolerate goat taxes, writes: <br><br>  June 1, 10:01 - Law 32.1.3 is replaced by "Mid February - the national olive day."  That's it.  Signed, Bazil. <br><br>  Our scribe, trying to reconcile the laws and put them in order, will be very confused: when he comes to the message from Agnes, the law 32.1.3 already establishes the National Olive Day and is never mentioned ‚Äúequal to one coin‚Äù.  What should he do?  Imagine that Bazil will replace ‚Äúpay into the general library fund‚Äù with ‚Äúpay for Basil!‚Äù. <br><br>  Similar situations occur when several authors compete in editing the same set of laws.  There are many solutions, each of which has its pros and cons.  These solutions can be divided into two main types of models.  One type is ‚Äúconsistency in the final analysis‚Äù or ‚Äúweak consistency‚Äù (eventual consistency), where several rules governing the recording allow everyone to record simultaneously without talking to each other.  This model ensures that in the absence of new updates for some time, all copies of the data (replicas) will become consistent.  The cost of this approach is that no one can know the exact state of the law at the moment, everyone can only know what it was just recently.  The other model is ‚Äústrict consistency‚Äù, in which all types of records are possible, and everyone can know the current state of the law, but with the cost of reaching a consensus for each record. <br><br>  Both types of models are helpful.  Sometimes you have information for which the rate is a bit outdated.  For example, when residents of Fotas make their annual photo album.  They exchange photos with each other and there is no need to have the most recent photos, so the simpler ‚Äúconsistency in the end‚Äù will be good.  On the other hand, for these laws, ‚Äústrict consistency‚Äù will be more useful, despite its costs.  (This is also true for computers. For example, images that you upload to Google are stored in the system with ‚Äúconsistency in the final analysis‚Äù, while access control lists that define viewing rights are stored using strict agreement) <br><br>  Return to the island Fotas. <br><br><h3>  In the end, everything makes sense </h3><br><img src="https://habrastorage.org/web/4f4/2b0/2a4/4f42b02a4c51428db1f8a60b9656143d.jpg"><br><br>  We could easily solve the first of our problems ‚Äî conflicting laws with the same timestamp, simply by adding a rule for a tiebreak so that no labels could be the same.  For example, we could add the author's name to the label in alphabetical order, so in the case of a race, changes from Agnia will always be made to Basil.  (Or, if the names match, we can assign a unique number to each resident).  After the timestamps no longer match, there is no confusion.  Galatea comes to the city, and the law of Basil is unique. <br><br>  If such mutual rewriting is a problem, it can be avoided by first agreeing on who can write something.  For example, during one week Agniya can only edit even laws, and Basil is odd, and vice versa next week.  (In computers, the file space is often divided in such a way that two authors never try to write the same file at all, and even more so at the same time. For example, each newly uploaded photo can be automatically assigned a unique name.) <br><br>  To solve the second problem, we eliminate the possibility of its existence: we change the journaling rules in order to prohibit amendments, allowing only a complete replacement, addition or deletion.  This means that no wording in the journal can depend on the current state of the law for its interpretation.  Agnia would have to write her law in the form <br><br>  <i>June 1, 10:02 - Law 32.1.3 is replaced by "Any person selling a goat must pay a tax equal to two coins to the Senate."</i>  <i>Agnia.</i> <br><br>  Since her record had a later timestamp, her version of the law easily defeats the version of Basil. <br><br>  This system of writing laws has the advantages of speed and simplicity: everyone can write the law at any time, without consulting anyone else.  However, the use of laws becomes surprisingly difficult.  If you want to know the current tax rate for the sale of goats, you go to the library and ask to read Law 32.1.3.  Arriving at 10:05, you will read the lawbook and change log.  The law says: "Anyone selling a goat must pay a tax equal to one coin to the Senate." <br><br>  You see, Agniya changed the law at 10:02, but her messenger has not arrived yet!  To make the situation a little easier, messengers can register in the library: whenever a messenger arrives from each resident, after delivering the message, they write a note on the blackboard indicating that all the photos of the photo were delivered at such and such a time.  Then the visitor can, looking at the board, see that the last message from Agnia was at 9 am, and from Basil at 7 o'clock the night before.  Now you, at least, know that the laws you are reading are accurate from 7 o'clock the previous evening - the earliest time shown on the board, and all changes written before that time should have already arrived.  (This time is called the ‚Äúlow-water mark‚Äù) <br><br>  Of course, if a particular citizen is not very conflicted, updates from him may be rare, and everyone will wonder: ‚ÄúHas the change just not reached the library yet or is it not?‚Äù To avoid this problem, every photo member must send a messenger to the library regularly and regardless of whether they have any updates or not, so that the board remains up to date. <br><br>  The residents of Fotos are creative people, so they quickly realized that this constant flow of messengers could simplify their lives otherwise.  Instead of doing tedious trips to the library, they can simply keep their own copy of the law and the change log.  Now their messenger returns every time with all the latest changes in the journal, as well as with a copy of the dates that were on the board.  They update their copies and can refer to them. <br><br>   ,       ,  ,   ,  .  ,    ,            .  ,  ,      : <b>    ,       !</b> <br><br>      -.         ,         -,     .     ¬´ ¬ª: ,           .     ,   ,            ,     ,   ,      .          ,     <b>   </b> ! <br><br>     . ,        ,           ,       .         ,       ,      . <br> (    ,    -        .        ,        ,    ,            ) <br><br>    ,     . <br><br> <b>-,</b>          .           ,      ,     -,     ,   .  ,       ,   . (     ¬´   ¬ª) <br><br> <b>-,</b>   --.   ,       ,   .    ,    -  ,     ,    ,          . <br><br> <b>-,</b>      : ,  ,       ,   .          ,     ,        ,  ,    .     ,        .  ,             ,  ,    .  ,   ,     ¬´low-water mark¬ª,       ,     ! <br><br>        .  ,    ( , ,   ) ,       ,      ‚Äã‚Äã  .    ,      ,      ,     .           .      ,     ,   ,     ,    ‚Äî      . ,    .   ,     ,     :      ,   ,  ,             .  ,   ,       ,             . <br><br><h3>      </h3><br> , ,    ,       ,   Fotans,                -.     ,    ?        ‚Äî      10:00,    ,        9:00  11:00.        . <br><br>    ,      .  ,      ,        , ,     .   ,             .                .             :           ,  ,      ,        .    ,         .       ,     . <br><br> ,  ,         (LaaS). -           ,      ,       . <br><br>     :       ,    .    ,        . (,       ,     ,    ).     .         ,            .       ,          . <br><br>   ,     ,   . ,    (   )          .      100            .           ,         ,      - .     ,        ! <br><br>       .     --,        ,           ,    .   ‚Äî ,   . ,             ,    .  ,       11:58          .        . <br><br>       . ,        .       ,    ,      .       ,  .      ,       . <br><br><h3>   </h3><br><img src="https://habrastorage.org/web/e77/f63/bbe/e77f63bbee904381b5ca4697c187d5b0.jpg"><br><br> ,       (Paxos).          ,   .       ,  ,   ,    ¬´ Paxos¬ª. (          ) <br><br>        ,    ,  ,    ,         .    <a href="https://research.microsoft.com/en-us/um/people/lamport/pubs/lamport-paxos.pdf">¬´The Part-Time Parliament¬ª</a> .     ,         ,   .         . <b>,        !</b> <br><br>            ,        .       --,          .       ,       ,   ,     . <br><br>     :      ,     ,        ,      -    . ,   <b>  </b> :          ,   ,      ,  -   .       ,        ,   . ,    ,      ‚Äã‚Äã     ,      . <br><br><img src="https://habrastorage.org/web/aae/588/6fe/aae5886fea1c451d8f24e2563df76b6d.png"><br><br>   Paxos :  ,     ,     ,      .  -       ,     ,        ,      ,     , : ¬´!     - !¬ª  ,     ,        .  ,  -   ,      ,     .  ,      ,       ,       ,         . <br><br>      :        ,         ,           ;    --,   ,           ,         .    ¬´ ¬ª,   ¬´     ,             ,  ,    ,   ,   ,        ¬ª. <br><br> ,    .  ,     ,      .        ,      .        ,       .     ,         . <br><br>     Paxos    : ¬´Read-latest¬ª,   ,  ¬´read-recent¬ª,       .  ¬´read-recent¬ª     Paxos,   .             . (,   , ,      ,       ,    ,       ,      ). <br><br>  ,   Paxos     -  ,         . <br><br><h3>     :    </h3><br><img src="https://habrastorage.org/web/92d/8a0/871/92d8a08713dc433bac6e96b6d98d2c3f.jpg"><br><br>        ,    . ,    ,    ,           .    ,          . <br><br>    ,    ,     ,     . (   ,      ,      ,      ).       Paxos      ,         .      .   ,        ,           ,         . ,   ,          ,     ,   ,    ,     ,  ,       . <br><br>     ,       . ,       ,   ,          ,    .   ,      ,    .  -       , ,        ,      .   ,       ,   ,        . <br><br>      ,       - ,      ,    .        -  ,      ,       . ,               .  -      ,        ,     . <br><br>   . ,       .      : ¬´   ?¬ª ,   ‚Äî  ,    .    ,    ,        : ¬´   ¬ª.     ,           .     ,      ,     . <br><br>  , , ,    ‚Äî    ,      .          ,      ,     Paxos     .    Paxos    ,           ,      (  ). <br><br>      .         (  ,    ),             .      ,       ,     ,       ,       - . <br><br> ,   .  ‚Äî  .          ,       .     ,   ,   ,      . ,   ,      . ,  .   ,    ,   .     ,   .  ¬´   ¬ª  ¬´       ¬ª.         ,           ,    . <br><br>   ‚Äî  .          ,       ,        7:1.       ! <br><br>  ,     ,     .    -    ,        ,   .          .          .       ,      ,  Paxos (   )     .   ,   ,      ,     . <br><br>      .   ,     .       , ,  -  ,         Paxos.   ,        ,  , ,        .    ,        ,      .   ,     ,  -,   ,       ,       . <br><br>        Chubby,         <a href="http://static.googleusercontent.com/media/research.google.com/en/us/archive/chubby-osdi06.pdf"></a> . <br><br><h3>  Eventually </h3><br><img src="https://habrastorage.org/web/dab/147/8cb/dab1478cbd2c4d0db50e3ac7c5085ed2.jpg"><br> <i> , Yonatan Zunger, Distinguished Engineer on Privacy at Google</i> <br><br>      , <b>           .</b>              :  ,   ,    ,    ,    ,      ? <br><br>     ,   : <br><br> *    ( ),        ,       .     ,  ,  ,        . <br><br> *      ( ),       ( ) ,     ,         .       ,       ,      ,        ,     .       ,     , ,    (   ),             . <br><br> *   ( ,     ,      ¬´Paxos¬ª).         .      ,     ,       . <br><br> *   ( ) ‚Äî ,       ,   -    - .       ,  ,   ,        . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The best thing about these systems is that, from the client‚Äôs point of view, they differ not in the methods, but in the guarantees they provide. </font><font style="vertical-align: inherit;">Now I will leave you. </font><font style="vertical-align: inherit;">We wandered through a chain of funny stories about fictional islands, but what you learned is not a childish version of computer science. </font><font style="vertical-align: inherit;">This is the reality that IT professionals face every day. </font><font style="vertical-align: inherit;">Therefore, I hope that even if you yourself are not an IT specialist and do not plan to become one, you now have a better understanding of how computer computing is organized in our time.</font></font></div><p>Source: <a href="https://habr.com/ru/post/330462/">https://habr.com/ru/post/330462/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../330452/index.html">When docker-compose is missing</a></li>
<li><a href="../330454/index.html">10 rules for the organization of effective customer support</a></li>
<li><a href="../330456/index.html">Ecosystem: more participants - more profit! Why does Skyeng open API</a></li>
<li><a href="../330458/index.html">Roskomnadzor white list: conclusions and losses</a></li>
<li><a href="../330460/index.html">10 tools for startups and startups</a></li>
<li><a href="../330464/index.html">Free In-Memory Computing Summit 2017 - Europe Tickets</a></li>
<li><a href="../330466/index.html">Object Reactive Programming</a></li>
<li><a href="../330468/index.html">PHDays 2017: how it was</a></li>
<li><a href="../330470/index.html">We write solitaire "Klondike"</a></li>
<li><a href="../330472/index.html">Form submission tracking with GTM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>