<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Russian Code Cup 2013 - analysis of qualifying round tasks</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Last Sunday, the qualifying round of the Russian Code Cup took place. This is the last online round of the competition: the final game of the finalist...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Russian Code Cup 2013 - analysis of qualifying round tasks</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/dcc/098/0bb/dcc0980bb8db600333e9b41ad48f93ad.jpg"><br>  Last Sunday, the qualifying round of the Russian Code Cup took place.  This is the last online round of the competition: the final game of the finalists will be held in Moscow.  In order to participate in the final, it was necessary to put more effort than in the previous stages.  Participants were offered six tasks (in the qualifying rounds there was one less), three hours were allocated for their solution (two in the qualifying rounds). <br><br>  The struggle for the finals was not easy, but fair: during the round, not a single copywriter was revealed. <br>  Under the cut - statistics on the winners and a detailed analysis of the tasks of the qualifying round: <br><br><ul><li>  Task A: Two Towers </li><li>  Task B: Deposit </li><li>  Task C: Kepler </li><li>  Problem D: Test </li><li>  Task E: Lasers </li><li>  Task F: Wheel </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>  During the round, 439 people logged in, of which at least one solution was sent by 371 participants.  A total of 3334 solutions were sent. <br><br>  Participants who first sent solutions to the relevant tasks, and the time after the start of the round (min: s): <br><br><ul><li>  <b>Problem A:</b> RAVEman (9:12) </li><li>  <b>Problem B:</b> ant.ermilov (16:58) </li><li>  <b>Task C:</b> Zhukov_Dmitry (5:52) </li><li>  <b>Problem D:</b> e-maxx (33:05) </li><li>  <b>Task E:</b> winger (37:50) </li><li>  <b>Task F:</b> tourist (82:51) </li></ul><br><br>  The territorial distribution of participants in this round was as follows: <br><br>  Russia =&gt; 183 <br>  Ukraine =&gt; 53 <br>  Belarus =&gt; 23 <br>  United States =&gt; 18 <br>  Kazakhstan =&gt; 5 <br>  Germany =&gt; 4 <br>  Switzerland =&gt; 3 <br>  Latvia =&gt; 2 <br>  Armenia =&gt; 2 <br>  Bulgaria =&gt; 1 <br>  Iceland =&gt; 1 <br>  Hungary =&gt; 1 <br>  Uzbekistan =&gt; 1 <br>  Georgia =&gt; 1 <br>  Spain =&gt; 1 <br>  Lithuania =&gt; 1 <br>  UK =&gt; 1 <br>  Austria =&gt; 1 <br>  Cyprus =&gt; 1 <br>  Poland =&gt; 1 <br><br>  Only by the end of the third hour the picture of the list of winners began to take shape.  50 people reached the final.  The first 10 of them: <br><br><ol><li>  Vladislav Isenbaev </li><li>  Gennady Korotkevich </li><li>  Dmitry Dzhulgakov </li><li>  Peter Mitrichev </li><li>  Vladislav Epifanov </li><li>  Artem Rakhov </li><li>  Mikhail Kever </li><li>  Dmitry Gozman </li><li>  Dmitry Zhukov </li><li>  Evgeny Kapun </li></ol><br><br>  And, finally, we proceed directly to the analysis of tasks. <br><br>  <b>Task A. Two towers</b> <br>  <b>Idea:</b> Fedor Tsarev <br>  <b>Realization:</b> Pavel Krotkov, Andrei Stankevich <br>  <b>Analysis:</b> Pavel Krotkov <br><br>  <b>The task</b> <br><br>  Time limit: 2 seconds <br>  Memory limit: 256 megabytes <br><br>  Mail.World recently moved to a new office that looks like two towers, skyscrapers of 10 <sup>9</sup> floors each.  On some floors of the tower are connected by transitions, which can go from one to another.  There are n transitions in total, they connect towers on floors a <sub>1</sub> , a <sub>2</sub> , ..., a <sub>n</sub> <br><br>  Artem works in the tower b <sub>1</sub> on the L <sub>1st</sub> floor.  Today, he needs to talk with his colleague Dmitry, who works in tower b <sub>2</sub> on the L <sub>2</sub> nd floor.  Oddly enough, it turned out that choosing the fastest way to get from the workplace of Artem to the workplace of Dmitry is not so easy. <br><br>  In each of the towers installed one elevator.  The elevator in tower 1 travels one floor in time u <sub>1</sub> seconds, and the elevator in tower 2 in u <sub>2</sub> seconds.  Artem spends t seconds on the way between the towers on the transition. <br><br>  Based on this information, help Artem find out in what minimum time he can get from his workplace to Dmitry's workplace.  The time of movement inside the floor of one tower and the waiting time of the elevator should be neglected. <br><br>  In the first example, Artem needs to just take the elevator of the first tower. <br><br>  In the second example, the elevator in the second tower runs significantly faster, and it is more beneficial for Artem to cross the transition to the second tower, take the elevator to the 10th floor, return to the first tower and drive another floor on the elevator in the first tower. <br><br>  <i>Input Format</i> <br><br>  The first line contains a positive integer t - the number of test cases in the input data.  The following are descriptions of test examples. <br><br>  The first line contains n - the number of transitions between towers (1 ‚â§ n ‚â§ 10 <sup>5</sup> ).  The second line contains n distinct integers a <sub>1</sub> , a <sub>2</sub> , ..., a <sub>n</sub> (1 ‚â§ a <sub>1</sub> &lt;a <sub>2</sub> &lt;... &lt;a <sub>n</sub> ‚â§ 10 <sup>9</sup> ).  The next line contains three positive integers: u <sub>1</sub> , u <sub>2</sub> and t (each of them lies in the range from 1 to 10 <sup>9</sup> ).  Finally, the next two lines contain two numbers: b <sub>1</sub> , L <sub>1</sub> and b <sub>2</sub> , L <sub>2</sub> , respectively (each of b <sub>1</sub> and b <sub>2</sub> is 1 or 2, 1 ‚â§ L <sub>1</sub> , L <sub>2</sub> ‚â§ 10 <sup>9</sup> ). <br>  The total number of transitions in all test examples in the input data does not exceed 10 <sup>6</sup> . <br><br>  <i>Output format</i> <br><br>  For each test case, output one number - the minimum time in seconds in which Artyom can get from his workplace to the workplace of Dmitry. <br><br>  <i>Examples</i> <br><br><table width="300"><tbody><tr><td>  Input data </td><td>  Output </td></tr><tr><td>  2 <br>  one <br>  five <br>  3 3 2 <br>  eleven <br>  1 10 <br>  2 <br>  1 10 <br>  5 3 2 <br>  eleven <br>  1 11 <br></td><td>  27 <br>  36 <br></td></tr></tbody></table><br><br>  <b>Task analysis</b> <br><br>  This task is a simple special case of the problem of finding the shortest path in a graph.  One way to solve it is to simply implement the Dijkstra algorithm on the graph described in the condition.  However, due to the large possible number of vertices, not any implementation of this algorithm will be within the time limit of the program.  Therefore, consider a solution that works faster. <br><br>  Let's build a graph of the floors we are interested in.  The following floors will be considered interesting: <br><br><ul><li>  The floor on which Artem works, in the tower in which Artem works </li><li>  The floor on which Dmitry works, in the tower in which Dmitry works </li><li>  Floors that are the ends of the nearest transitions to Artem (in total we get 2 vertices from the transition, which is higher, and 2 vertices from the transition, which is lower) </li><li>  Add 4 vertices similar to the previous paragraph, but only for Dmitry </li></ul><br><br>  There are two types of edges in our graph: <br><br><ul><li>  The edges connecting the vertices, between which there is a transition.  The weights of such edges are t </li><li>  The edges connecting tops from one tower.  The weights of such edges are equal to the distance between the respective floors, multiplied by the elevator speed in the corresponding tower. </li></ul><br><br>  Note that in our graph there are 10 vertices.  You can search for the shortest paths in this graph by any method; the easiest way was to implement the Floyd algorithm. <br><br>  <b>Task B. Deposit</b> <br>  <b>Idea:</b> Boris Minaev <br>  <b>Realization:</b> Vitaliy Demyanyuk <br>  <b>Analysis:</b> Vitaly Demyanyuk <br><br>  <b>The task</b> <br><br>  Time limit: 2 seconds <br>  Memory limit: 256 megabytes <br><br>  For many years of work experience, Vasily Ivanovich earned k rubles.  Now Vasily Ivanovich has retired and wants to put this money on deposit for the next m years.  There are n banks in his hometown.  If Vasily Ivanovich has money in the bank with number i for the jth year, at the end of the year their number in this account will increase by p <sub>i, j</sub> percent. <br><br>  At the beginning of each year, Vasily Ivanovich can, if he wants, redistribute the money lying on the accounts in banks.  The process of redistribution of money occurs in four stages.  First, he chooses a number of banks involved in the redistribution.  Then Vasily Ivanovich removes all the money in these banks.  After that, he pays a commission to each of the selected banks.  In the end, in each of the selected banks, he puts into the account as much money as he wants, and in total, Vasily Ivanovich puts all the money he has withdrawn into his accounts, less the commission paid.  At the same time, in the set of selected banks there may be banks, where Vasily Ivanovich did not have money, or in which he does not plan to put money.  At the bank with the number i, the commission is equal to a <sub>i</sub> rubles.  If Vasily Ivanovich has not enough money to pay the commission, then he gives all the withdrawn money to the banks that participated in the redistribution of money. <br><br>  At the beginning of the first year, Vasily Ivanovich can put any number of rubles on deposits in any banks for free, and in total he will put all his money on deposits. <br><br>  Find the maximum total number of rubles on all accounts of Vasily Ivanovich at the end of the m-th year. <br><br>  In the example, Vasily Ivanovich first puts the money in the second bank.  After the first year he has 115 rubles, he chooses both banks for the redistribution.  After paying a commission of 2 rubles, he puts all the money in the first bank.  At the end of the year, he has 113 √ó 1.15 = 129.95 rubles in a bank account. <br><br>  <i>Input Format</i> <br><br>  The first line contains a positive integer t - the number of tests.  (1 ‚â§ t ‚â§ 50) <br><br>  The description of each test begins with a line containing three integers n, m, and k ‚Äî the number of banks, years, and rubles earned, respectively.  (1 ‚â§ n ‚â§ 10000, 1 ‚â§ m ‚â§ 20, 1 ‚â§ k ‚â§ 10 <sup>9</sup> ) The next line contains n integers, where the i-th number is a <sub>i</sub> - the commission of the i-th bank (1 ‚â§ a <sub>i</sub> ‚â§ 10 <sup>9</sup> ).  Each of the next n lines contains m integers each.  In the i-th line, the j-th number is p <sub>i, j</sub> is the percentage of additional money received by Vasily Ivanovich in the j-th year on an account in the i-th bank (0 ‚â§ p <sub>i, j</sub> ‚â§ 100). <br><br>  The total number of banks in all tests does not exceed 50,000. <br><br>  <i>Output format</i> <br><br>  For each test in a separate line, print the maximum total amount of money on all accounts of Vasily Ivanovich at the end of the m-th year.  Your answer will be counted if its relative error does not exceed 10 <sup>‚àí6</sup> . <br><br>  <i>Examples</i> <br><br><table width="300"><tbody><tr><td>  Input data </td><td>  Output </td></tr><tr><td>  one <br>  2 2 100 <br>  eleven <br>  10 15 <br>  15 10 <br></td><td>  129.95 </td></tr></tbody></table><br><br>  <b>Task analysis</b> <br><br>  Let us show that it is always beneficial for Vasily Ivanovich to store all the money in one bank.  Consider the optimal answer.  Assume that there is a year in which Vasily Ivanovich's money was in several banks.  Among all these years, choose a year with a minimum number.  For each bank, let us consider what percentage in m years we received from the money lying during the year under consideration in this bank without considering all commissions.  Choose a bank with a maximum percentage.  Note that if you put all the money in it, the answer will not worsen, because in each year the set of banks that participated in the redistribution of funds will be a subset of the set of banks in the optimal answer. <br><br>  Taking into account the fact that has just been proved, the problem is solved by the dynamic programming method.  Let dp <sub>i, j</sub> be equal to the maximum amount of rubles in Vasily Ivanovich‚Äôs accounts in i years, if, during the i-year, all his money was in the j-th bank.  We look through all the banks where the money could be stored in the previous year, then dp <sub>i, j</sub> = (max (dp <sub>i-1, k</sub> ‚Äìa <sub>k</sub> ) - a <sub>j</sub> ) ‚Ä¢ p <sub>j, i</sub> for all k from 1 to n. <br><br>  Consider separately the case when j = k, then dp <sub>i, j</sub> = max (dp <sub>i, j</sub> , dp <sub>i, j-1</sub> ‚Ä¢ p <sub>j, i</sub> ).  The answer is equal to the maximum dp <sub>m, k</sub> over all k.  As a result, at first glance, the solution works for O (n2m).  However, note that dp <sub>i-1, k</sub> - a <sub>k</sub> does not depend on j.  Therefore, if for all i to support max (dp <sub>i-1, k</sub> - a <sub>k</sub> ), then we get the solution in O (nm). <br><br>  <b>Problem C. Kepler</b> <br>  <b>Idea:</b> Vitaly Aksyonov <br>  <b>Realization:</b> Andrey Komarov <br>  <b>Analysis:</b> Andrey Komarov <br><br>  <b>The task</b> <br><br>  Time limit: 2 seconds <br>  Memory limit: 256 megabytes <br><br>  After the failure of the second gyroscope, the Kepler astronomical telescope became unsuitable for further operation.  NASA decided to compensate for this loss and launch another telescope into space.  In order to provide the telescope with electricity, it was decided to use solar panels.  The blank for the solar battery is a rectangular panel of size n √ó m, consisting of cells 1 √ó 1. <br><br>  Unfortunately, it is impossible to deliver a battery into orbit in an unfolded state.  To facilitate transport, the panel is made of thin material and can be bent along any border of cells.  Scientists have decided that the battery will fly into space folded to a size of 1 √ó 1. <br><br>  To do this, they come with a blank for the battery as follows: if one of the sides of the current blank has an even length, then the blank can be folded along it;  the panel is obtained twice as small (the thickness of the panel can be neglected).  If one of the sides has an odd length (the panel is (2n + 1) √ó m), then they can cut a piece of 1 √ó m in size with an ultra-precise laser in time m, and then fold it in half along the side 2n long.  The cut piece of the panel is thrown away.  As a result, scientists get a 1 √ó 1 panel, which will fly into orbit and unfold there. <br><br>  The laser works much longer than all foldings occur.  Help them determine the shortest laser time that they can achieve in order to roll up the original billet in this way into a 1 √ó 1 square. <br><br>  Please note that the size of the battery, which will result from the deployment of the panel, does not matter, it is necessary to minimize the time of the laser. <br><br>  <i>Input Format</i> <br><br>  The first line contains an integer t (1 ‚â§ t ‚â§ 1000) - the number of test queries.  The following t lines contain the queries themselves.  Each query consists of two integers n and m (1 ‚â§ n, m ‚â§ 10 <sup>9</sup> ) - the initial size of the blank for the solar panel. <br><br>  <i>Output format</i> <br><br>  For each request, print out one number ‚Äî the shortest laser time that scientists can achieve. <br><br>  <i>Examples</i> <br><br><table width="300"><tbody><tr><td>  Input data </td><td>  Output </td></tr><tr><td>  3 <br>  eleven <br>  4 4 <br>  3 2 <br></td><td>  0 <br>  0 <br>  one <br></td></tr></tbody></table><br><br>  <b>Task analysis</b> <br><br>  Let us examine the size of the panel with all possible foldings.  Fix one of the sides and see how its length will change over time.  Consider the example of the side corresponding to the first dimension.  Let the panel initially have a size of n √ó m.  The side of interest is of length n.  Further two cases are possible: <br><br><ul><li>  We fold along the side of length n.  In this case, the new length is ‚åän / 2‚åã </li><li>  We fold along the side of length m.  In this case, the length will not change and will remain equal to n </li></ul><br><br>  Therefore, a side can only have length n, n / 2‚åã, ‚åä‚åän / 2‚åã / 2‚åã, ..., 1. There are only N = ‚åälog <sub>2</sub> n‚åã + 1.  Having carried out similar reasoning for the second side, we obtain that its length can take M = ‚åälog <sub>2</sub> m‚åã + 1 values. <br><br>  To solve the problem, we use the idea of ‚Äã‚Äãdynamic programming.  Denote by a <sub>i</sub> , i‚àà [1..N] the lengths that the first side can have, ordered in descending order.  Similarly for b <sub>i</sub> . <br><br>  We calculate the following value: dp [i, j] = "the shortest time for which you can get from the panel n √ó m panel a <sub>i</sub> √ó b <sub>j</sub> ".  Then, since a and b are ordered descending, a <sub>N</sub> = 1, b <sub>M</sub> = 1, and therefore, the answer to the problem is dp [N, M].  dp [i, j] can be calculated by the rules: <br><br><ol><li>  dp [i, j] = ‚àû </li><li>  dp [i, j] = min (dp [i, j], dp [i-1, j] + ((ai-1 mod 2) ‚Ä¢ bj) if i&gt; 1 </li><li>  dp [i, j] = min (dp [i, j], dp [i, j-1] + ((bj-1 mod 2) ‚Ä¢ ai) if j&gt; 1 </li><li>  dp [1, 1] = 0 </li></ol><br><br>  <b>Problem D. Test</b> <b><br></b>  <b>Idea:</b> Artem Vasilyev <br>  <b>Realization:</b> Artem Vasilyev <br>  <b>Analysis:</b> Artem Vasilyev <br><br>  <b>The task</b> <br><br>  Time limit: 2 seconds <br>  Memory limit: 256 megabytes <br><br>  Artem passes an educational test in the electronic system.  The test question contains n statements, some of which are true and must be checked.  By checking some of the checkboxes, you can check the answer for correctness.  The answer to the question is considered correct if all true statements are flagged, and all false statements are not. <br><br>  Artem is too lazy to think, so he decided to simply go through all the options for placing flags.  For this, he compiles a list of all 2 <sup>n</sup> variants of their arrangement.  In the list, each option flag placement must be present exactly once. <br><br>  Intuitively, it seems to him that there are a lot of true statements, so he wants to sort out the options of arrangement in order of decreasing the number of checkboxes.  In addition, Artem is very lazy and wants that for two consecutive options the number of positions in which they differ does not exceed two.  Help Artem. <br><br>  <i>Input Format</i> <br><br>  The first line contains an integer n (1 ‚â§ n ‚â§ 16). <br><br>  <i>Output format</i> <br><br>  Output 2 <sup>n</sup> lines.  In the i-th line print n characters 0 or 1 - the state of each of the flags for the i-th answer, 1 for the checkbox and 0 for the unspecified one.  The number of units in the variants should not increase.  The number of positions in which two adjacent lines are distinguished should not exceed two. <br><br>  <i>Examples</i> <br><br><table width="300"><tbody><tr><td>  Input data </td><td>  Output </td></tr><tr><td>  2 <br></td><td>  eleven <br>  ten <br>  01 <br>  00 <br></td></tr></tbody></table><br><br>  <b>Task analysis</b> <br><br>  In this task, it was necessary to list all the rows from 0 and 1 with length n so that two properties were fulfilled: first, the number of ones does not decrease, and second, the two adjacent lines differ in no more than two positions. <br><br>  We write the solve (n, k) procedure, which returns a list of all bit strings of length n satisfying our property.  Each line contains exactly k units.  We describe the recursive algorithm to solve (n, k): <br><br><ol><li>  If k is 0 or n, then we return a list from a single line 0 <sup>n</sup> or 1 <sup>n</sup> </li><li>  Otherwise, we call recursively solve (n - 1, k) and solve (n - 1, k - 1) </li><li>  To all bit lines from the first list we assign to the end 0, to all elements from the second list we assign to the end 1 </li><li>  We return the concatenation of the first list and the expanded second </li></ol><br><br>  Now the solution is to output all bit strings from the solve (n, k) list for all k from n to 0.  We prove the correctness of this solution.  Consider the properties of the list, which returns the solve procedure. <br><br><ol><li>  The first element of the solve (n, k) list is 1 <sup>k</sup> 0 <sup>n - k</sup> </li><li>  If k&gt; 0, then the last element of the solve (n, k) list is 1 <sup>k - 1</sup> 0 <sup>n - k</sup> 1 </li><li>  If k = 0, then the last element of the solve (n, k) list is 0 <sup>n</sup> </li></ol><br><br>  It is easy to prove all these properties by induction.  As a result, we find that the solve (n, k) procedure really works correctly.  It remains to verify that the last element of solve (n, k + 1) and the first element of solve (n, k) differ in no more than two positions.  The last element of solve (n, k + 1): 1 <sup>k</sup> 0 <sup>n - k - 1</sup> 1, the first element of solve (n, k): 1 <sup>k</sup> 0 <sup>n - k</sup> .  It is easy to see that for these two lines the property also holds.  Thus, we obtained an algorithm that lists all bit strings of length n and satisfies the necessary properties. <br><br>  <b>Task E. Lasers</b> <b><br></b>  <b>Idea:</b> Anna Malova <br>  <b>Realization:</b> Artem Vasilyev <br>  <b>Analysis:</b> Artem Vasilyev <br><br>  <b>The task</b> <br><br>  Time limit: 2 seconds <br>  Memory limit: 256 megabytes <br><br>  Scientists from the Laboratory of Lasers are testing a new kind of laser.  To do this, they use a special laboratory table, on which there are n attachment points. <br><br>  A laser is fixed at one of these points, and special programmable refractive devices are fixed at the remaining n - 1 points.  Each device can be configured as follows: you can select certain directions and program the refractor so that it turns the beam hitting it from the selected direction at a certain angle.  This angle can be different for different directions even on one refractor.  At the same time, for each refractor and each direction selected on it, the angle in degrees cannot in absolute value exceed the value of the voltage applied to this refractor a.  By virtue of the design of the laboratory installation, the same voltage is applied to all the refractors. <br><br>  To test a laser, scientists want to choose a certain direction and shoot a beam in it so that it travels a non-zero distance and returns to the starting point.  To do this, you need to configure the refractors.  Before you do this, you need to select the voltage applied to the refractors.  After that, you can choose for each direction refractor and for each direction the angle to which the turn will be performed. <br><br>  Scientists want to know for what minimum voltage a can carry out a planned experiment. <br><br>  <i>Input Format</i> <br><br>  The first line contains an integer n (2 ‚â§ n ‚â§ 150) - the number of attachment points on the laboratory table.  The next n lines contain two integers xi, yi - the coordinates of the i-th point.  (‚àí20000 ‚â§ x <sub>i</sub> , y <sub>i</sub> ‚â§ 20000 for all i from 1 to n, all points are different).  The first point corresponds to the laser, all the rest - to the refractors. <br><br>  <i>Output format</i> <br><br>  Print one real number - the minimum voltage that you need to apply to the refractors.  The absolute or relative error of the answer should not exceed 10 <sup>-8</sup> . <br><br>  <i>Examples</i> <br><br><table width="300"><tbody><tr><td>  Input data </td><td>  Output </td></tr><tr><td>  four <br>  0 0 <br>  0 1 <br>  eleven <br>  ten <br></td><td>  90.0 <br></td></tr></tbody></table><br><br>  <b>Task analysis</b> <br><br>  The main idea of ‚Äã‚Äãthe solution is a binary search by answer.  Fix the maximum angle of deviation Œ± and check the existence of a solution with such an answer.  To do this, we reduce the problem to finding a path in the graph. <br><br>  Denote the points given in the condition as P <sub>1</sub> , P <sub>2</sub> , ..., P <sub>n</sub> .  Construct a graph of n (n - 1) vertices, where each vertex is an ordered pair of different points.  Draw edges from a pair (i, j) into a pair (j, k) if the angle between the vectors P <sub>i</sub> P <sub>j</sub> and P <sub>j</sub> P <sub>k</sub> does not exceed Œ±.  In the constructed graph no more than n <sup>3</sup> edges.  Now, if in such a graph there is a path from a vertex of the form (1, i) to a vertex of the form (j, 1), then with such Œ±, the experiment can be carried out.  You can check for the existence of a path using any path finding algorithm in the graph. <br><br>  Thus, one iteration of the binary search works in O (n <sup>3</sup> ), which means that the whole algorithm can be implemented in O (n <sup>3</sup> log (1 / Œµ)) or, if we note that the search space is actually discrete (we are only interested no more than n <sup>3</sup> angles), then this algorithm can be implemented in O (n <sup>3</sup> log (n <sup>3</sup> )). <br><br>  <b>Problem F. Wheel</b> <b><br></b>  <b>Idea:</b> Boris Minaev <br>  <b>Realization:</b> Boris Minaev <br>  <b>Analysis:</b> Boris Minayev. <br><br>  <b>The task</b> <br><br>  Time limit: 2 seconds <br>  Memory limit: 256 megabytes <br><br>  The country in question is a rather interesting system of roads.  In total, in this country n + 1 city is the capital and n ordinary cities.  All ordinary cities are located on a circle whose center is in the capital.  The distance between all neighboring ordinary cities is the same.  Each city is connected by roads with its two neighbors, as well as with the capital.  If we looked at this country from above, we would see the correct n-gon whose vertices are connected to the center. <br><br>  In this country there are two equally strong opposition parties that want to seize power in the country.  And no one wants to do it peacefully!  In each city, just in case there is a tank platoon.  Exactly at the beginning of the next day the following will occur.  In each city (including the capital) with equal probability one of the opposition parties will seize power.  At the disposal of this party will be a tank platoon located in this city.  Further, each party plans to gather in one place the army as large as possible.  A tank platoon can drive along the road only if both cities that are connected by the road are captured by the same party. <br><br>  You are the organizer of the underground movement, which also wants to seize power.  You need to know the mathematical expectation of the greatest number of tank platoons that can be in the same city.  Don't let your organization down! <br><br>  For example, let there be three ordinary cities.  Then all four cities (three ordinary and the capital) are pairwise connected by roads.  Then with probability 1/8 all cities will be captured by the same party.  In this case, the maximum size of the army is 4. With a probability of 3/8, two cities will be captured by one party and two by the other.  In this case, the maximum size of the army is 2. Finally, with a probability of 1/2 in one city, one party will seize power, and the other in three others.  In this case, the maximum size of the army will be 3. The mathematical expectation of the answer in this case is 4 √ó 1/8 + 2 √ó 3/8 + 3 √ó 1/2 = 2.75. <br><br>  <i>Input Format</i> <br><br>  The first line contains a positive integer t - the number of test cases.  The next t lines contain one integer n (3 ‚â§ n ‚â§ 500) - the number of ordinary cities in the country.  It is guaranteed that the total number of ordinary cities in all test examples does not exceed 1000. <br><br>  Output format <br><br>  For each test case, print one number - the expected value of the largest number of platoons that may be in the same city.  The answer is considered correct if it differs from the correct one by no more than <sup>10-9</sup> . <br><br>  <i>Examples</i> <br><br><table width="300"><tbody><tr><td>  Input data </td><td>  Output </td></tr><tr><td>  2 <br>  3 <br>  four <br></td><td>  2.75 <br>  3.4375 <br></td></tr></tbody></table><br><br>  <b>Task analysis</b> <br><br>  We formalize the condition of the problem.  Without loss of generality, we will assume that the first opposition party seized the capital.  To all other cities we will compare one number.  It will be 0 if one lot has captured the capital and the city, and 1 otherwise.  Then all the information about the captured cities can be represented as a bit mask of length n.  All possible bitmasks are equally likely.  For a specific bit mask, the answer is obviously the maximum of (the number of zeros + 1) and (the maximum number of units that go in a row in the mask).  It should be borne in mind that the mask is looped: the next bit after the last is the first. <br><br>  In order to obtain a polynomial solution, we will use dynamic programming.  Its parameters will be: <br><br><ol><li>  the number of digits in the mask </li><li>  number of zeros in the mask </li><li>  maximum number of units in a row </li><li>  current number of units in a row </li></ol><br><br>  However, to take into account the obsession of the mask, you must also store the number of units that are at the very beginning of the mask.  This solution works for O (n <sup>5</sup> ). <br><br>  In order to get rid of the last parameter, we use the following consideration.  The mask, which consists of one units, will be processed separately.  Consider all the remaining masks.  In each of them there is at least one zero.  Shift the mask bits along the cycle so that the first zero comes first.  Now cut the first bit.  Now some masks are repeated several times.  It is easy to see that the mask is repeated (the number of units in which it ends + 1) times.  So, we can iterate over all masks of length n - 1, add zero to the left of the mask, and the probability of its appearance multiply by (the number of units to which it ends + 1).  Note that the number by which we must multiply the probability, we already store in dynamic programming.  Having got rid of one parameter, we get the solution for O (n <sup>4</sup> ). <br><br>  Consider what happens to the answer with an increase in the number of cities.  With a very high probability, the maximum connected component is the component to which the capital belongs.  And, therefore, the asymptotic answer tends to (n + 2) / 2. It is easy to show that already at n = 150, the deviation from the asymptotic answer is about 10 <sup>-12</sup> .  You can also prove that as n increases, the deviation from the asymptotic response will only decrease. <br><br>  Thus, we get the following solution.  Using dynamic programming for O (n <sup>4</sup> ), we find the answers for the first 150 values ‚Äã‚Äãof n.  For large n, we use the formula (n + 2) / 2. <br><br>  Analysis of all tasks of the Olympiad is also available on the site of the <a href="http://russiancodecup.ru/round/12/">Russian Code Cup</a> .  The next stage is the final;  we will surely tell about it on Habr√© too. </div><p>Source: <a href="https://habr.com/ru/post/183924/">https://habr.com/ru/post/183924/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../183908/index.html">Tricky quaternions</a></li>
<li><a href="../183910/index.html">Survival Instructions for a full-time system administrator</a></li>
<li><a href="../183912/index.html">Python guide. We write a great code</a></li>
<li><a href="../183920/index.html">Android again "ran away" from smartphones and tablets</a></li>
<li><a href="../183922/index.html">Big Brother, as 95% saw him in central television coverage</a></li>
<li><a href="../183926/index.html">Free repair of equipment</a></li>
<li><a href="../183928/index.html">Microsoft will pay for the search for vulnerabilities in Windows 8.1 and IE 11</a></li>
<li><a href="../183930/index.html">A look into the past: Amstrad (Schneider) CPC 464</a></li>
<li><a href="../183932/index.html">Windows Azure news: mobile development, multi-factor authentication, MPEG-DASH, JWT, tests and video</a></li>
<li><a href="../183934/index.html">Self-propagating instances in the clouds, as a replacement for "viruses in executable files"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>