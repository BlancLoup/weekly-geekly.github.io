<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Recover iPod Classic Hard Drive</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I got an iPod Classic 80 Gb with the problem: ‚ÄúOn the screen there is an inscription‚Äú Connect to iTunes to restore ‚Äú, an attempt to restore via iTunes...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Recover iPod Classic Hard Drive</h1><div class="post__text post__text-html js-mediator-article">  I got an iPod Classic 80 Gb with the problem: ‚ÄúOn the screen there is an inscription‚Äú Connect to iTunes to restore ‚Äú, an attempt to restore via iTunes ends with error 1439.‚Äù  Before that, it was banally dropped.  On the face of a dead (or, as it turned out later, partially dead) hard disk. <br><br>  How to find out how things are at the hard drive and how to return the iPod to life (at least partially) read under the cut. <br><a name="habracut"></a><br>  <b>Attention!</b>  <b>All actions with the player you do at your own peril and risk.</b>  <b>If something goes wrong, neither the author of the article nor the authors of the tools used bear any responsibility.</b> <br><br><h4>  Diagnostics </h4><br>  First of all, we need to find out how bad things are with the hard drive.  To get started, put iPod into diagnostic mode.  To do this, simultaneously hold down the "Menu" and "Select" buttons.  After a few seconds, the player will start to reboot and an apple will appear on the screen.  At this point, hold down the "Select" button and the rewind button.  The iPod's diagnostic menu opens.  Here you can check most of the functions of the player, but we are most interested in the SMART data of its hard disk.  The growing number of ‚ÄúReallocated sector count‚Äù (I checked this parameter after each of several recovery attempts via iTunes) shows us that the problem really lies in the hard disk. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For more detailed HDD diagnostics, we will transfer the player to drive mode.  To do this, we again hold down the ‚ÄúMenu‚Äù and ‚ÄúSelect‚Äù buttons, and so at the moment of the appearance of the little apple on the screen, we hold down the ‚ÄúMenu‚Äù and ‚ÄúPlay \ Pause‚Äù.  After the ‚ÄúOK to disconnect‚Äù message appears on the screen, release the button and connect the player to the computer. <br><br>  Next, we need any program to test the surface of the hard disk (I used Victoria) and check the surface of the hard disk for bad sectors.  Here it is necessary to note one subtlety (maybe it will not be for someone new, but I stepped on such a rake, so I‚Äôll note just in case): after a certain number of bad-blocks the hard disk is turned off and errors fell in the log of Victoria "ABRT".  In such cases, you have to stop scanning and unplug and re-connect the player and run the test further from the place where errors began to fall (or from the place a little further to cut off the dead piece of the disk).  At this stage, we need to finally confirm that the problem is really in the hard disk and find the largest live piece, which would later be cut out for use. <br><br><h4>  Recovery.  Attempt # 1. </h4><br>  The only way I know how to use a hard disk with bad blocks is to cut a dead piece of disk and use a smaller disk.  The method is not the most reliable - the disk can refuse at any time - but in my case it did, because I didn‚Äôt want to fork out for a new one (hdd for iPod classic costs about 3,300 rubles). <br><br>  Searching for information on the breakdown of the iPod disk, I found only this entry on the forum: <a href="http://www.mobile-files.ru/forum/showthread.php%3Ft%3D306330">www.mobile-files.ru/forum/showthread.php?t=306330</a> .  I tried.  And it did not work out.  This is due to the fact that my instance has died, including almost the very beginning of the disk, along with the file table.  Accordingly, I did not have that disk content, which iTunes creates when the player is restored (this is not indicated in the forum message, but after cutting the disk, you need to recreate the disk contents as if iTunes itself did it).  And I could not repeat it. <br><br><h4>  Recovery.  Attempt # 2. </h4><br>  I continued to search for ways to recover and came across the Rockbox project ( <a href="http://www.rockbox.org/">http://www.rockbox.org/</a> ).  Rockbox is an alternative firmware for a variety of players, including Apple players.  True iPod Classic they listed as unprepared for use.  Namely, if you open the table of the list of platforms in the development on their website ( <a href="http://www.rockbox.org/wiki/TargetStatus">http://www.rockbox.org/wiki/TargetStatus#New_Platforms_Currently_Under_Development</a> ) and find in the iPod Classic list, you will see that only Dual Boot is not ready (you can choose between the original firmware and Rockbox) and installation through their own installation utility.  If this does not bother you, then we continue. <br><br>  Installing Rockbox on the player is possible thanks to the freemyipod project ( <a href="http://www.freemyipod.org/">http://www.freemyipod.org</a> ) and their emCore product ( <a href="http://www.freemyipod.org/wiki/EmCORE">http://www.freemyipod.org/wiki/EmCORE</a> ).  In short - freemyipod project reverse engineering iPods with a wheel Click Wheel.  And emCore, as said on the project wiki, is a simple operating system for them.  And in fact is a bootloader for Rockbox. <br><br>  Let's start the installation.  Instructions for Linux users: <a href="http://www.freemyipod.org/wiki/EmCORE_Installation/iPodClassic/PrepareDFULinux">http://www.freemyipod.org/wiki/EmCORE_Installation/iPodClassic/PrepareDFULinux</a> .  MacOs unfortunately not supported.  Instructions for Windows (supported by XP / Vista / 7/8) users: <br><ol><li>  Install iTunes if it is not already installed </li><li>  We connect iPod to the computer </li><li>  Close iTunes if it is running.  We also stop the processes "AppleMobileDeviceService.exe" and "iTunesHelper.exe". </li><li>  Download the file <a href="">http://files.freemyipod.org/misc/bootstrap_ipodclassic_itunes.exe</a> </li><li>  Remove iPod from blocking </li><li>  We transfer the player to DFU mode.  To do this, simultaneously hold down the "Menu" and "Select" buttons.  After the apple appears on the screen, we continue to hold the buttons.  We release only when the screen of the player goes out </li><li>  We are waiting for all the new equipment to be installed. </li><li>  Run the downloaded file until the program says that everything was installed well, and a small picture with the text does not appear on the iPod screen. </li><li>  If at this moment you didn‚Äôt have the ‚ÄúUMSboot‚Äù disk of 64 megabytes, then after installing all the additional drivers on the player, re-launch bootstrap_ipodclassic_itunes.exe </li></ol><br>  At this stage we should have a separate ‚ÄúUMSboot‚Äù disk.  Download the file <a href="">http://files.freemyipod.org/releases/20120102/installer-ipodclassic-r859-20120102.ubi</a> - this is the latest release of r859 at the time of this writing.  The latest version can be viewed at <a href="http://www.freemyipod.org/wiki/EmCORE_Releases">http://www.freemyipod.org/wiki/EmCORE_Releases</a> .  The downloaded file is simply copied to the UMSboot disk.  Now you need to safely remove the disc.  In Linux, just unmount the folder.  In Windows, right-click on the disk in the explorer and click "Eject" ( <b>you need to do it this way - the safe disconnection of the device does not work!</b> ).  Now disconnect the player from the computer. <br><br>  Now follow the instructions on the player screen.  You must first read the disclaimer of warranties and agree with it by simultaneously pressing the ‚ÄúMenu‚Äù and ‚ÄúPlay \ Pause‚Äù.  Then the player will start flashing.  Then I came across a problem that was not written anywhere - during this process, the hard disk is formatted.  And since it is badly damaged, this process has been delayed.  The first two times I even thought that the player hung up and rebooted it (holding "Menu" and "Select").  However, I did it for nothing.  Just have to wait - it took me about 3-4 hours. <br><br>  After flashing and rebooting the player, the bootloader menu will appear.  In it, select the "Rock box".  The loader will say that the file ‚Äúrockbox.ipod‚Äù was not found - we do not pay attention.  After the Rockbox has started, we connect the player to the computer again.  The hard drive will be detected, which we now have to repartition to cut the dead piece. <br><br>  Then I ran into a new problem - none of the utilities for Windows wanted to work with this disk.  Someone just did not see him.  Someone hung up while trying to appeal.  You can try it yourself - maybe it will work out.  If not, then the next paragraph is for you. <br><br>  I was saved by the good old fdisk from Linux.  He easily remade the partition table into the look I need.  For example, here is a list of commands (more details in the fdisk help): <br><pre><code class="hljs 1c"><span class="hljs-meta"><span class="hljs-meta"># sudo fdisk /dev/sdb o n p 1 [     (   HDD  ‚Äì 4096 ] [     </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta"> +[]{K,M,G}] t c w # sudo mkfs.cfat /dev/sdb1</span></span></code> </pre> <br>  Here it is worth paying attention that it is necessary to specify the type of the partition as Windows (0x0C) otherwise, neither emCore nor Rockbox will see this section. <br><br>  After splitting the disk and formatting, we will complete the installation of the firmware.  Download the archive <a href="">http://files.freemyipod.org/releases/20120102/rockbox-ipodclassic-r31516-20120102.zip</a> (again, the latest version on the page <a href="http://www.freemyipod.org/wiki/EmCORE_Releases">http://www.freemyipod.org/wiki/EmCORE_Releases</a> ).  The downloaded archive is simply unpacked on the disc player.  And everything is ready! <br><br><h4>  Small conclusion </h4><br>  About a week of testing showed some instability of the firmware - I could not pinpoint the cause, but several times the player hung completely tight.  The backlight went off (the image remained on the screen) and the current contents of the audio buffer looped in the headphones.  The simultaneous clamping of the "Menu" and "Select" did not help (a combination of buttons for restarting).  The only way to return the player to a working state is to either wait until the battery is dead, or open and disconnect the battery cable.  So far, the assumption about the reasons - play FLAC.  It is when it is played at random times that such freezes occur.  But while the information is not accurate. <br><br>  That's all.  I hope that the article helped someone bring his iPod back to life. </div><p>Source: <a href="https://habr.com/ru/post/170151/">https://habr.com/ru/post/170151/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../170139/index.html">Quake 3 Source Code Overview: Architecture (Part 1)</a></li>
<li><a href="../170141/index.html">Using Google Map in a JavaFX application</a></li>
<li><a href="../170143/index.html">How Google changed Android with your brain</a></li>
<li><a href="../170147/index.html">PlayStation Meeting 2013 Russian version</a></li>
<li><a href="../170149/index.html">The second life of trash, or a mini-lamp from the scanner</a></li>
<li><a href="../170155/index.html">Humble Bundle Mojam 2, making games live</a></li>
<li><a href="../170159/index.html">In the United States will introduce a new way to combat piracy</a></li>
<li><a href="../170161/index.html">Cross-platform mobile game and stick in the wheel from Android</a></li>
<li><a href="../170163/index.html">Console VIM in Windows</a></li>
<li><a href="../170165/index.html">NASA announced a competition for the best iPad-application for astronauts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>