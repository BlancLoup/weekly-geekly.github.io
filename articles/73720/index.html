<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>New home network</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="One of our favorite users decided to install our Internet gateway at home. In the home network, the traffic is handing-off. Since the home version is ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>New home network</h1><div class="post__text post__text-html js-mediator-article">  <i>One of our favorite users decided to install our Internet gateway at home.</i>  <i>In the home network, the traffic is handing-off.</i>  <i>Since the home version is licensed for free - it did not cause financial difficulties.</i>  <i>He described his useful experience, described it, and ordered it to be given to the community :)</i> <br><br>  For Saturday (a record time - one evening!) I completed the reorganization of the home network, preliminary results are encouraging, now all three computers at the same time allow you to enjoy quite decent speed of access to the Internet.  Since I used almost all the technologies (except Wi-Fi, but it would only remove the wires from the circuit) that you might need in your home network (even if you use it professionally, for the purpose of web hosting, for example, which is planned in the future), I decided to describe it on your blog, maybe someone borrows some ideas. <br><a name="habracut"></a><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/1c2/9ae/b9a/1c29aeb9ae199d7e779f0339db7f0c8e.jpg" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The scheme is compiled in a courtesy for free of charge to us in the <b>OpenOffice</b> package, a program similar to MS Visio OpenOfffice.Draw.  As in the case of the software used in the future, no rights were violated, and not a single ruble left my wallet. <br><br>  <b>Internet connection channels:</b> <br>  Historically, the situation is that in my apartment there are two providers, ‚ÄúProvider1‚Äù - with a megabyte tariff plan, but without subscription fees, it has not been used for a long time.  "Provider 2" - unlimited, at a speed of 1 mb / s (the maximum, of course, given our reality, the minimum is not specified). <br>  The purpose of the reorganization of the network was just the possibility of effective use of "Provider 1", simultaneously with the second, in a transparent mode for all users.  The fact is that in addition to paid external traffic, the tariff provides for the possibility of free use of internal network resources (and there is a ftp server for a couple of terabytes, a decent p2p network of users) and several large urban Internet portals, which are constantly visited by all users of our small ‚ÄúNetworks‚Äù, and in conditions when a single megabit ‚Äúfor sniffing‚Äù does not use this channel at all unreasonably. <br><br>  <b>Decision choice:</b> <br>  There were no problems with the ‚Äúiron‚Äù part - an old-faithful system unit with a 433 Celeron in my heart was gathering dust for a long time (it seems he is able to transfer even the upcoming power supply unit). <br>  The program also did not have to choose for a long time, because  in office clients I often use Ideco ICS, and spending even one or two home evenings to tune Linux manually is banal laziness, then its <a href="http://www.ideco-software.ru/products/free_home_edition.aspx%3Fl%3D126">free version</a> was chosen. <br><br>  <b>Routing Setup:</b> <br><br>  Installing the software on the server, even considering its antiquity, took a little more than 20 minutes, setting up providers for a couple of minutes in a Linux-unfamiliar ‚Äúmaster-like‚Äù interface ‚Äúfor dummies‚Äù (many of them won‚Äôt be afraid to use a professional Linux solution? So there‚Äôs nothing complicated about it but psychologically ...). <br><br>  The first point: after the initial setup of the server, it is easier and more efficient to configure it no longer directly ‚Äúat the body‚Äù, but remotely - I did it from a laptop, because  the web interface is still more enjoyable to use than in the DOS-like shell of the Ideco console menu.  The second point: while we are setting up the server, it is better to turn off all disk and database checks, otherwise the reboot will take almost half the installation time (more than 10 minutes), these checks are disabled in ‚ÄúServer Configuration‚Äù - ‚ÄúAdvanced Settings‚Äù - put 4 checkboxes in right places and the server is loaded faster than Windows XP.  And the third point: in spite of the fact that I personally don‚Äôt need financial computer-aided traffic accounting (we share the subscription fee with a neighbor (deceit of a provider ...), but communism within the family), but we still have to get tariffs.  Otherwise it will not work, this is the ideology of the product that grew out of the billing system.  Even two tariffs are for each of the providers, so that you can specify the second one as a backup, for automatic channel switching, while ensuring uninterrupted communication (which in turn is a very good plus of the upgrade made). <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/616/625/34a/61662534adfeed410874377e6d4829dd.jpg" alt="image"><br><br>  The actual routing settings (see screenshot) are simple, in accordance with the examples indicated there, we add rules to the corresponding all free ‚ÄúProvider 1‚Äù subnets (they can usually be found on the offsite website): <br>  XXXX / XXXX ‚ÄúProvider 1‚Äù IP-gateway <br><br>  In principle, if we had two unlimited tariffs, it would be possible to balance them, using both at the same time, squeezing ‚Äúfull gas‚Äù as it were. <br>  <b>Setting up additional services:</b> <br><br>  To maximize the speed, turn on the caching DNS proxy server (put the necessary checkboxes and get the power of the tuned SQUID): <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/82a/b8d/8aa/82ab8d8aae1fb8b57bdecc283c224503.jpg" alt="image"><br><br>  You can also turn on the ‚Äúcontent filter‚Äù (I turned on the ‚ÄúBlock ads on sites‚Äù and ‚ÄúBlock infected sites‚Äù option), the url list of the ‚Äúbad‚Äù sites is automatically updated, if there were children, you could block pornography in the same place , online games and similar bjaki.  Disabling banners together with a proxy server allowed us to significantly increase the comfort of working on the Internet, even if there were no second channel. <br>  <b>FTP server: you</b> don‚Äôt even need to bring a screenshot, everything is clear even to a blonde, you can adjust the disk space occupied (actual, since the upload will be opened in order to create a gateway between the local networks of two providers), speed, create and manage users. <br><br>  <b>Firewall: an</b> arch-useful thing, but not only for security (it is easy to set up security there - you allow all the ‚Äúfrequently used Internet services‚Äù (the list is there), the rest is forbidden), but also for some resource management.  Using the fact that you can create rules that are valid at a certain time, we cut off the speed on the FTP port in the evening (when we are all at home), and allow the maximum speed in the rest of the time (you need to help people). <br><br>  <b>Total:</b> <br>  Both Internet channels are fully used, the first one is practically free of charge, and the second one is paid ‚Äúin combination‚Äù, without any visible deterioration in speed.  Regardless of the main computers, the FTP server works, pinching speed at the right time, and welcome to the rest.  There is also a ready-made platform for the Web server, just click the check mark to use the capabilities of Apache + php + mysql.  Temporary costs: about two hours, with drinking tea and distractions. <br><br>  I will give a reference to the source: <a href="http://partizan-l.livejournal.com/9206.html">Record in the LiveJournal by Dmitry H.</a> and I will thank you so much for a new look at the software :) </div><p>Source: <a href="https://habr.com/ru/post/73720/">https://habr.com/ru/post/73720/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../73711/index.html">The first Belarusian SEO-conference opened the registration of participants</a></li>
<li><a href="../73714/index.html">Python for series 60, what is it capable of ...</a></li>
<li><a href="../73716/index.html">Fast reading and screen width</a></li>
<li><a href="../73717/index.html">Stream</a></li>
<li><a href="../73718/index.html">Free web messenger for sites</a></li>
<li><a href="../73721/index.html">Neat: very tricky scam</a></li>
<li><a href="../73722/index.html">president.ru</a></li>
<li><a href="../73724/index.html">Metro 2033 will be released in February</a></li>
<li><a href="../73726/index.html">Bubbles, caches, and transition predictors</a></li>
<li><a href="../73727/index.html">Thunderbird 3 Beta 4. Faster, easier, smarter</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>