<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How important it is to write code that people can read</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Did you have to complete the project in one fell swoop when there was no need to look at the code again? Hardly. While working on old projects, you pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How important it is to write code that people can read</h1><div class="post__text post__text-html js-mediator-article">  Did you have to complete the project in one fell swoop when there was no need to look at the code again?  Hardly.  While working on old projects, you probably don‚Äôt want to spend time figuring out how this code works.  If the code is readable, the product is easy to maintain, and you, your colleagues or employees are happy. <br><br>  Vivid examples of unreadable code are found at <a href="http://js1k.com/">JS1k</a> competitions, the purpose of which is to write the best JS applications consisting of 1024 characters or less.  The same can be said about <a href="http://www.jsfuck.com/">JSF * ck</a> , an extremely peculiar programming style that uses only six different characters for writing JS-code.  Looking at the code laid out on these sites, you will be puzzled trying to understand what is happening here.  And imagine what it is: write a similar code and a month later try to fix the bug. <br><br>  If you regularly surf the net or create interfaces, you probably know that filling out a large form takes a lot of time and patience, which is not enough for all users.  The same can be said about the code.  The easier it is to read it, the more pleasant it is to work with it for a long time.  Or at least there will be no desire to throw the computer out of the window. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This article will discuss various tricks and tricks to avoid pitfalls and make the code more readable. <br><br>  <i>Original article: <a href="https://www.sitepoint.com/importance-of-code-that-humans-can-read/">https://www.sitepoint.com/importance-of-code-that-humans-can-read/</a></i> <br><a name="habracut"></a><br><h3>  Code separation </h3><br>  Returning to the analogy with the forms: sometimes they are divided into parts, to make it easier to display on the screen.  The same can be done with the code.  If you divide it into parts, then it will be easier to find the desired fragment, without being pushed through the jungle. <br><br><h4>  File optimization </h4><br>  We have been doing web optimization for years, and JS files are no exception.  By performing the minification while waiting for HTTP / 2, we saved the requests by combining several scripts into one.  Today you can work as you like, putting the task of processing files on tools like <a href="http://gulpjs.com/">Gulp</a> or <a href="http://gruntjs.com/">Grunt</a> .  That is, you can program it the way you want, and let specially trained applications deal with optimization (for example, performing concatenation). <br><br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     API var getUsersRequest = new XMLHttpRequest(); getUsersRequest.open('GET', '/api/users', true); getUsersRequest.addEventListener('load', function() { //  -   }); getUsersRequest.send(); //--------------------------------------------------- //    . // ,       . //--------------------------------------------------- //      API var getPostsRequest = new XMLHttpRequest(); getPostsRequest.open('GET', '/api/posts', true); getPostsRequest.addEventListener('load', function() { //  -   }); getPostsRequest.send();</span></span></code> </pre> <br><h4>  Functions </h4><br>  They allow you to create blocks of reusable code.  Usually the contents of a function make it easy to understand where it starts and where it ends.  It is a good habit to write small functions - no more than 10 lines.  If the function has the correct name, it is easy to understand what it does when called.  Below we will return to the naming conventions. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     API function getUsers(callback) { var getUsersRequest = new XMLHttpRequest(); getUsersRequest.open('GET', '/api/users', true); getUsersRequest.addEventListener('load', function() { callback(JSON.parse(getUsersRequest.responseText)); }); getUsersRequest.send(); } //      API function getPosts(callback) { var getPostsRequest = new XMLHttpRequest(); getPostsRequest.open('GET', '/api/posts', true); getPostsRequest.addEventListener('load', function() { callback(JSON.parse(getPostsRequest.responseText)); }); getPostsRequest.send(); } //        //     getUsers(function(users) { //  -   }); getPosts(function(posts) { //  -   });</span></span></code> </pre><br>  The code is easy to read.  Please note that both functions are almost identical.  You can follow the principle of " <a href="https://ru.wikipedia.org/wiki/Don%25E2%2580%2599t_repeat_yourself">do not repeat</a> ", it allows you to maintain order in the code. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fetchJson</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">url, callback</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> request = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> XMLHttpRequest(); request.open(<span class="hljs-string"><span class="hljs-string">'GET'</span></span>, url, <span class="hljs-literal"><span class="hljs-literal">true</span></span>); request.addEventListener(<span class="hljs-string"><span class="hljs-string">'load'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ callback(<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(request.responseText)); }); request.send(); } <span class="hljs-comment"><span class="hljs-comment">//       //     fetchJson('/api/users', function(users) { //  -   }); fetchJson('/api/posts', function(posts) { //  -   });</span></span></code> </pre><br>  But what if we want to create a new user with a POST request?  There are two options: <br><br><ul><li>  Add optional arguments to the function, adding new logic and making the function too complex. </li><li>  Create a new function specifically for POST requests, which may entail duplication of code. </li></ul><br>  But thanks to object-oriented programming, you can take all the best of both options by creating a configurable one-time object, while the code will remain fairly simple to maintain. <br>  <b>Note</b> : If you need the basics of exactly object-oriented JavaScript, you can watch this video: The <a href="https://www.youtube.com/watch%3Fv%3DPMfcsYzj-9M">complete guide to object-oriented JavaScript</a> . <br><br><h4>  Object oriented programming </h4><br>  Consider objects, often called classes, that are context-sensitive function clusters.  Such an object is perfectly placed in a separate file.  In our case, you can create a basic wrapper for the XMLHttpRequest.  Note that until 2015, JavaScript was a prototype-oriented language and had no classes.  This fact, along with prototype inheritance, dictate certain code formatting rules. <br><br>  <b>HttpRequest.js</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HttpRequest</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">url</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.request = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> XMLHttpRequest(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.body = <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.method = HttpRequest.METHOD_GET; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.url = url; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.responseParser = <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>; } HttpRequest.METHOD_GET = <span class="hljs-string"><span class="hljs-string">'GET'</span></span>; HttpRequest.METHOD_POST = <span class="hljs-string"><span class="hljs-string">'POST'</span></span>; HttpRequest.prototype.setMethod = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">method</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.method = method; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; }; HttpRequest.prototype.setBody = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">body</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> body === <span class="hljs-string"><span class="hljs-string">'object'</span></span>) { body = <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(body); } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.body = body; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; }; HttpRequest.prototype.setResponseParser = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">responseParser</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> responseParser !== <span class="hljs-string"><span class="hljs-string">'function'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.responseParser = responseParser; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; }; HttpRequest.prototype.send = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">callback</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.request.addEventListener(<span class="hljs-string"><span class="hljs-string">'load'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.responseParser) { callback(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.responseParser(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.request.responseText)); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { callback(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.request.responseText); } }, <span class="hljs-literal"><span class="hljs-literal">false</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.request.open(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.method, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.url, <span class="hljs-literal"><span class="hljs-literal">true</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.request.send(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.body); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; };</code> </pre><br>  <b>app.js</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HttpRequest(<span class="hljs-string"><span class="hljs-string">'/users'</span></span>) .setResponseParser(<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse) .send(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">users</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  -   }); new HttpRequest('/posts') .setResponseParser(JSON.parse) .send(function(posts) { //  -   }); //    new HttpRequest('/user') .setMethod(HttpRequest.METHOD_POST) .setBody({ name: 'Tim', email: 'info@example.com' }) .setResponseParser(JSON.parse) .send(function(user) { //  -    });</span></span></code> </pre><br>  Note that constants must be declared immediately in the constructor.  The HttpRequest class created above can now be configured over a wide range, using API for many calls.  Although its implementation ‚Äî the chain of method calls ‚Äî was more complicated, the class itself is easier to maintain.  The process of finding a balance between the implementation and the ability to reuse the code can be difficult and depends on the project. <br><br>  An excellent addition to object-oriented programming are design patterns.  By themselves, they do not improve readability, but consistency does it for them! <br><br><h3>  Human syntax </h3><br>  Files, functions, objects - these are only rough landmarks.  They make it easier to <i>scan</i> our code.  But to make the code <i>easy to read</i> is a much more subtle art.  The smallest details can completely change the picture.  For example, often in editors using a vertical line, the length of lines is limited to 80 characters.  But there are many other nuances! <br><br><h4>  Naming </h4><br>  Thanks to proper naming, you can instantly recognize certain elements without figuring out what kind of variable it is or what this function does. <br><br>  Functions are usually referred to in the <a href="https://ru.wikipedia.org/wiki/CamelCase">Camel Style</a> : first comes the verb, and then the subject. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getApiUrl</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setRequestMethod</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findItemsById</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">n</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hideSearchForm</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> }</code> </pre><br>  For variable names, try using the <a href="https://en.wikipedia.org/wiki/Inverted_pyramid">inverted pyramid</a> technique: first the subject goes, and then the properties. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> element = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'body'</span></span>), elementChildren = element.children, elementChildrenCount = elementChildren.length; <span class="hljs-comment"><span class="hljs-comment">//   ,      ‚Äúcolor‚Äù var colorBackground = 0xFAFAFA, colorPrimary = 0x663399; //   ,     ‚Äúbackground‚Äù var backgroundColor = 0xFAFAFA, backgroundImages = ['foo.png', 'bar.png']; //     var headerBackgroundColor = 0xFAFAFA, headerTextColor = 0x663399;</span></span></code> </pre><br>  In such cases, it is better to use associative arrays (objects in JS), then you can get rid of the color prefix, and readability improves. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> colors = { <span class="hljs-string"><span class="hljs-string">'backgroundRed'</span></span> : red, <span class="hljs-string"><span class="hljs-string">'primary'</span></span>: greeen };</code> </pre><br>  It is also important to emphasize the distinction between ordinary and special variables.  For example, constant names are often capitalized with underscores. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> URI_ROOT = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.location.href;     ,   . function FooObject { <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre><br>  With abbreviations also have a nuance.  Someone writes them only in capital letters, someone - in the style of the Camel.  In the first case, there may be difficulties in recognizing abbreviations. <br><br>  But in general, it all depends on the style of writing code adopted by the developer or team.  You should always stick to one chosen style, make checks for compliance with it, use a linter. <br><br><h4>  Compactness and optimization </h4><br>  In many code bases, you can find a ‚Äúspecial‚Äù code designed to reduce the number of characters or improve the performance of algorithms. <br><br>  An example of compact code are single-line scripts.  Unfortunately, they often use hacks or obscure syntax.  As a rule, nested ternary operators are used.  Despite their compactness, you have to spend a couple of seconds trying to figure out what they do, as opposed to regular <code>if</code> expressions.  So be careful with syntactic abbreviations. <br><br>  A good approach is to minify the code in production.  Files weigh less, are loaded faster by the browser, loading time of the whole page decreases.  But minified files, convenient on production, are quite inconvenient in development.  Therefore, it is possible to separate the JS used on the prode and on the maiden, store two versions of each file (minified and full), and switch their use according to the environment specified in the configuration. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// , -    ! var state = isHidden ? 'hidden' : isAnimating ? 'animating' : ''; // , -   ! var state = ''; if (isAnimating) state = 'animating'; if (isHidden) state = 'hidden';</span></span></code> </pre><br>  Micro-optimizations designed to improve performance are often ineffective.  And most often they are less readable than not so productive counterparts. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     $el[0].checked; //    ,    // : http://jsperf.com/prop-vs-ischecked/5 $el.prop('checked'); $el.is(':checked'); $el.attr('checked');</span></span></code> </pre><br>  In case of multiple point checks, it is better to use switch, then it is semantically clearer that now there will be a check for point values. <br><br>  JavaScript compilers perform code optimization for us well, and over the years they make it better and better.  If the difference between optimized and non-optimized code is <a href="http://www.smashingmagazine.com/2015/09/why-performance-matters-the-perception-of-time/">imperceptible</a> , that part is observed when using thousands or millions of operations, it is better to prefer readability. <br><br><h3>  Non-code </h3><br>  Think of it as irony, but the best way to make the code readable is to add a non-executable syntax.  Let's call it non-code.  But do not forget that in JS there are generally accepted standards for formatting code that should not be neglected.  They will be discussed below. <br><br><h4>  Indentation </h4><br>  Surely every developer at least once in his life helped to write code to another developer or inspect minified code in which all spaces and indents are removed.  For the first time, this was a surprise for you.  In various visual fields, such as design and typography, free space is just as important as filling.  Most likely you will want to find a delicate balance between them.  The range of opinions regarding this balance depends on the company, the team and the specific developer.  Fortunately, there are some generally accepted rules: <br><br><ul><li>  Use one expression per line. </li><li>  Indent to select a block. </li><li>  Additional gaps can be used to separate the code. </li></ul><br>  Any other rules need to be discussed with those with whom you work.  But no matter what style of code you take, the key is consistency. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sendPostRequest</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">url, data, cb</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//        var requestMethod = 'POST', requestHeaders = { 'Content-Type': 'text/plain' }; // ,    XMLHttpRequest var request = new XMLHttpRequest(); request.addEventListener('load', cb, false); request.open(requestMethod, url, false); request.send(data); }</span></span></code> </pre><br><h4>  Comments </h4><br>  Like indents, comments can fine cut your code.  And at the same time, they contain a description of your code.  Be sure to add comments for: <br><br><ul><li>  Explanations and arguments of <b>non-obvious code</b> . </li><li>  What bug is repaired with the help of this <b>fix</b> , indicating the source. </li></ul><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     var sum = values.reduce(function(previousValue, currentValue) { return previousValue + currentValue; });</span></span></code> </pre><br>  Not all fixes are obvious.  Additional information clarifies a lot: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-string"><span class="hljs-string">'addEventListener'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> element) { element.addEventListener(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, myFunc); } <span class="hljs-comment"><span class="hljs-comment">// IE8     .addEventListener, //      .attachEvent // http://caniuse.com/#search=addEventListener // https://msdn.microsoft.com/en-us/library/ms536343%28VS.85%29.aspx else { element.attachEvent('click', myFunc); }</span></span></code> </pre><br>  When using documentation for functions, it is better not to use comments in the code and try to write multi-line functions that do not need comments.  At work, you can use <a href="https://habrahabr.ru/users/todo/" class="user_link">todo</a> comments, many IDE support searching by them.  <a href="https://habrahabr.ru/users/todo/" class="user_link">Todo is used to</a> mark pieces of code that need to be improved or completed.  Therefore, it will be easier for other developers to understand your approach, the logic behind planning and designing.  Putting the right <a href="https://habrahabr.ru/users/todo/" class="user_link">todo</a> can be very helpful. <br><br><h4>  Embedded Documentation </h4><br>  When writing object-oriented software, the built-in documentation can make your code more free, like regular comments.  She also explains the purpose and details of the properties and methods.  Many IDEs use built-in documentation as hints, which even documentation generation tools use!  Regardless of the reason, writing docks in code is a great solution. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** *  HTTP- * @constructor * @param {string} url */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HttpRequest</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">url</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... } /** *    * @param {Object} headers * @return {HttpRequest} */ HttpRequest.prototype.setHeaders = function(headers) { for (var header in headers) { this.headers[header] = headers[header]; } //    return this; };</span></span></code> </pre><br>  Although <a href="https://habrahabr.ru/users/param/" class="user_link">param</a> {Object} headers is indicated here, it is better to specify a description of what is stored and transmitted in this parameter.  It is recommended to specify this information immediately after the parameter itself.  Let's say it is Holds success request headers (200).  Then the comment will look like this: <br><br> <code>@param {Object} headers Holds success request headers( 200 )</code> <br> <br>  There are different formats of documentation for the functions; it is very important that the whole team use the same format.  And if the developer is one, then you need to use the same format in different places.  In the description of the formal parameters it is necessary to indicate the TI of the formal parameter.  Some IDEs on the fly suggest if a variable of the wrong type is passed.  JS is a language with dynamic typing, and it‚Äôs not a fact that the IDE will generate an error, but when parsing such documentation you can avoid a lot of errors. <br><br><h3>  Riddles of callbacks </h3><br>  Events and asynchronous calls are excellent JavaScript properties, but they often degrade the readability of the code. <br>  Usually asynchronous calls are accompanied by callbacks.  Sometimes they need to be run sequentially, and sometimes it is better to wait first for the readiness of all of them.  In the documentation for the function, you must make a reference to the callback function so that you can easily go to it or view the description. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doRequest</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">url, success, error</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> } doRequest(<span class="hljs-string"><span class="hljs-string">'https://example.com/api/users'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">users</span></span></span><span class="hljs-function">) </span></span>{ doRequest(<span class="hljs-string"><span class="hljs-string">'https://example.com/api/posts'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">posts</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  -     }, function(error) { //   /api/posts }); }, function(error) { //   /api/users });</span></span></code> </pre><br>  To solve both problems, a Promise object was implemented in ES2015 (also known as ES6). <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doRequest</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">url</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">resolve, reject</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   //     resolve(response) //     reject(error) }); } //    doRequest('https://example.com/api/users') //     ,  .then() .then(function(users) { /* ... */ }) //    Promise   reject(),  .catch() .catch(function(error) { /* ... */ }); //    Promise Promise.all([ doRequest('https://example.com/api/users'), doRequest('https://example.com/api/posts') ]) .then(function(responses) { /* ... */ }) .catch(function(error) { /* ... */ });</span></span></code> </pre><br>  Although I had to add part of the code, in general it became easier to interpret correctly.  If you want to know more about Promise, you can read <a href="http://www.sitepoint.com/javascript-goes-asynchronous-awesome/">JavaScript Goes Asynchronous (and It's Awesome)</a> . <br><br><h3>  ES6 / ES2015 </h3><br>  If you read the ES2015 specification, you might have noticed that all the code examples in this article are for older versions (with the exception of the Promise object).  Despite the fact that ES6 gives us very wide opportunities, there are a number of complaints about its terrible readability. <br><br>  Fat arrow syntax (fat arrow syntax) defines a function that inherits the value of <code>this</code> from its parent scope.  At least for this, it was created.  It is also tempting to use it to define normal functions. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> add = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a, b</span></span></span><span class="hljs-function">) =&gt;</span></span> a + b; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(add(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// 3</span></span></code> </pre><br>  Another example is the rest and spread syntax. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** *    * @param {Array} numbers * @return {Number} */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">...numbers</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n.reduce(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">previousValue, currentValue</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> previousValue + currentValue; }, <span class="hljs-number"><span class="hljs-number">0</span></span>); } add(...[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]); <span class="hljs-comment"><span class="hljs-comment">/** *  a, b  c * @param {Number} a * @param {Number} b * @param {Number} c * @return {Number} */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a, b, c</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a + b + c; } add(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>);</code> </pre><br>  The ES2015 specifications describe a very useful, but unintelligible, and sometimes confusing syntax that has become a target for critics.  But it‚Äôs not about giving up these opportunities, but just using them with caution. <br><br><h3>  Conclusion </h3><br>  To maintain readability and maintainability of the code, you must remember every aspect of your project.  Everything matters - from the file system to small variations of syntax.  This is especially noticeable when working in a team, because it is difficult to make each participant constantly follow all the rules.  Part of the problem is solved through code revisions, but the probability of error still remains.  Fortunately, there are several useful tools: <br><br><ul><li>  <a href="http://jshint.com/">JSHint</a> is a JavaScript linter that allows you to avoid errors in your code. </li><li>  <a href="https://github.com/rwaldron/idiomatic.js/">Idiomatic</a> is a popular standard for stylistic code design, but it is not necessary to follow it literally. </li><li>  <a href="http://editorconfig.org/">EditorConfig</a> - definition of cross-editor style code design. </li></ul><br>  It is very important to analyze the complexity of the code, and there are different approaches to the analysis.  Read more about this here: <a href="http://jscomplexity.org/complexity">http://jscomplexity.org/complexity</a> <br><br>  In addition to tools for maintaining quality and style, there are a number of tools to improve readability.  Try different syntax highlighting schemes, or use a minimap for hierarchical evaluation of your script ( <a href="https://atom.io/packages/minimap">Atom</a> , <a href="https://github.com/zorgzerg/brackets-minimap">Brackets</a> ).  For example, <a href="https://github.com/airbnb/javascript">https://github.com/airbnb/javascript</a> is a fairly popular standard for formatting code in JS.  It should be noted that code formatting and standard depend on the tools used.  For example, in the case of React and JSX there will be other stylistic requirements. </div><p>Source: <a href="https://habr.com/ru/post/307380/">https://habr.com/ru/post/307380/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../307366/index.html">Modified Geometry Buffer Anti-Aliasing Algorithm</a></li>
<li><a href="../307368/index.html">AI monsters and finding the way with heatmaps</a></li>
<li><a href="../307372/index.html">Cremes is a new advanced cyber spyware malware.</a></li>
<li><a href="../307374/index.html">Alternative to .clearfix</a></li>
<li><a href="../307378/index.html">A little about unconventional mapping</a></li>
<li><a href="../307382/index.html">Azure-IaaS-Digest number 9 (July-August)</a></li>
<li><a href="../307384/index.html">What is software engineering. Lecture in Yandex</a></li>
<li><a href="../307388/index.html">Semantic line break</a></li>
<li><a href="../307392/index.html">Spring / Jackson + @JsonView: filtering JSON</a></li>
<li><a href="../307394/index.html">The most expensive and momentous mistakes in the IT industry</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>