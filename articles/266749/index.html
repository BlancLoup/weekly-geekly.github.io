<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Group the same applications from different stores by icon</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Once I had the misfortune to turn my gaze to one tempting job. All anything, but, as usual, threw a test task. In short, it was necessary to group lin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Group the same applications from different stores by icon</h1><div class="post__text post__text-html js-mediator-article">  Once I had the misfortune to turn my gaze to one tempting job.  All anything, but, as usual, threw a test task.  In short, it was necessary to group links to the same application in different markets.  The links were applications such as Skype, Skype WiFi, Skype Qik, Viber, and two games with the same name Skyward.  The stores included Google Play, the App Store and the Windows Phone market.  In the task there was also a description of the rake, they say, it is not necessary to become particularly attached to the names of applications, the name of the developer‚Äôs company, etc.  ‚ÄúBut after all, identical applications are easily recognizable on different platforms stupidly by the icon,‚Äù I thought, and it‚Äôs helpful to find out the details.  But not everything is so simple. <br><a name="habracut"></a><br>  This is how icons in different stores for Viber and Skype look like: <br><br><img src="https://habrastorage.org/files/3d7/4eb/fff/3d74ebfff71f4809aa91e543f507f6a6.gif" width="100" height="100"><img src="https://habrastorage.org/files/083/22c/877/08322c8775ec41138465c1542efeb33e.gif" width="100" height="100"><br><br>  Icons, alas, differ in color set and size.  The initial idea to hash the icons and compare the hashes, of course, still serves, but not in this case.  Initially, I made a mistake by pulling out for analysis the icons that are shown in my browser, and they are rather small in size.  A little later, after digging, I found sizes from 300 to 350 pixels, which added accuracy in measurements.  In general, the code with which pictures are dragged is quite simple. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For my task, I googled the OpenCV library.  This is a very advanced tool for various image analysis.  Initially, I was so carried away that it was useful to study feature matching, but this is somewhat not what was needed.  But I needed to highlight the outlines on the images and somehow compare them. <br><br>  To construct the contours, it is necessary to properly prepare the image - select the borders on it.  To do this, we use the detector Kenny (Canny).  Maybe Kanni will be right, I don't know.  It works like this: <br><br><img src="https://habrastorage.org/files/083/ae9/84b/083ae984bdc44b0e99737046783686a7.jpg" width="100" height="150"><img src="https://habrastorage.org/files/5fd/9c5/c08/5fd9c5c08229492d87dc39a87906e7b7.jpg" width="100" height="150"><br><br>  In the case of the Skype icon, the following results were obtained: <br><br><img src="https://habrastorage.org/files/08a/700/184/08a70018410b4d6797419696593f486a.jpg" width="100" height="100"><img src="https://habrastorage.org/files/1bd/159/e5d/1bd159e5d2b3486d9f7bb2790b60860b.jpg" width="100" height="100"><img src="https://habrastorage.org/files/06b/ae9/f48/06bae9f482774ad0ad8e66ed512443a5.jpg" width="100" height="100"><br><br>  It may seem that only the size remains of the differences, but it is not.  The highlighted borders are slightly different, and bringing the icons to the same size only adds errors. <br>  The only problem is to choose the minimum and maximum thresholds for the algorithm correctly.  Values ‚Äã‚Äãof 100 and 200 absolutely suited me. <br><br>  Next, we find the contours.  They can be compared by calculating the coefficient of coincidence of the two contours - a very useful property in my task.  There is a nuance - this angle is not affected by the angle of rotation of the contour, but in my case it almost does not make the weather.  For Skype from Google, the result of contouring is as follows: <br><br><img src="https://habrastorage.org/files/558/d82/fd2/558d82fd2dde423da183dc90f4a70a63.gif"><br><br>  There are not two circuits, four of them.  The contour is constructed from the outside and inside of the previously defined boundaries.  I searched the contours with the RETR_LIST flag, that is, without a hierarchy, and then sorted from the upper left edge of the image. <br><br>  For my algorithm, you also need to calculate the total length of the contours - in OpenCV there is for this a separate function <i>arcLength</i> .  The algorithm itself is reduced to the fact that if the two images coincided more than 80% percent of the length of the contours, then we consider these images as the icon of one application.  The contours themselves are compared by the <i>matchShapes</i> function, the smaller its result is, the better, in my case, the upper limit of the contour matching was 0.15. <br><br>  However, there is still a second type of icons that could not be compared using this algorithm ‚Äî these are Skyward game icons: <br><br><img src="https://habrastorage.org/files/ccd/159/014/ccd159014440409d90d0dc49fc4a66fb.jpg" width="100" height="100"><img src="https://habrastorage.org/files/209/a26/17a/209a2617aa594ecabba338531bddab24.jpg" width="100" height="100"><br><br>  At the time of writing, these icons differ in color, but some time ago in two stores was the first color option.  The icons differed only in size, but because of this, the outlines did not coincide at all, and nothing could be determined by them.  However, the <i>imagehash</i> library helped me here.  For the game Skyward, hashes turned out to be compared in the forehead.  However, from the moment the color scheme of icons has changed, this feature does not work. <br><br>  ‚ÄúEmployer‚Äù did not react to my idea.  It happens. <br><br><div class="spoiler">  <b class="spoiler_title">Source code</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cv2 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> collections <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> namedtuple <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> bs4 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> BeautifulSoup <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> imagehash <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> PIL <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Image <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">itunes_find</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(content)</span></span></span><span class="hljs-function">:</span></span> icon, name = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> soup = BeautifulSoup(content) found = soup.find(id=<span class="hljs-string"><span class="hljs-string">"title"</span></span>) name = found.div.h1.get_text() found = soup.find(<span class="hljs-string"><span class="hljs-string">'img'</span></span>,{<span class="hljs-string"><span class="hljs-string">'class'</span></span>:<span class="hljs-string"><span class="hljs-string">'artwork'</span></span>, <span class="hljs-string"><span class="hljs-string">'alt'</span></span>: name}) imageurl = found[<span class="hljs-string"><span class="hljs-string">'src-swap-high-dpi'</span></span>] icon_r = requests.get(imageurl) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> icon_r.status_code == <span class="hljs-number"><span class="hljs-number">200</span></span>: img_array = np.asarray(bytearray(icon_r.content), dtype=np.uint8) icon = cv2.imdecode(img_array, cv2.IMREAD_COLOR) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> name, icon <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">google_find</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(content)</span></span></span><span class="hljs-function">:</span></span> icon, name = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> soup = BeautifulSoup(content) found = soup.find(<span class="hljs-string"><span class="hljs-string">'div'</span></span>,{<span class="hljs-string"><span class="hljs-string">'class'</span></span>:<span class="hljs-string"><span class="hljs-string">'cover-container'</span></span>}) imageurl = found(<span class="hljs-string"><span class="hljs-string">'img'</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-string"><span class="hljs-string">'src'</span></span>] icon_r = requests.get(imageurl) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> icon_r.status_code == <span class="hljs-number"><span class="hljs-number">200</span></span>: img_array = np.asarray(bytearray(icon_r.content), dtype=np.uint8) icon = cv2.imdecode(img_array, cv2.IMREAD_COLOR) found = soup.find(<span class="hljs-string"><span class="hljs-string">'div'</span></span>,{<span class="hljs-string"><span class="hljs-string">'class'</span></span>:<span class="hljs-string"><span class="hljs-string">'document-title'</span></span>}) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> found: found = soup.find(<span class="hljs-string"><span class="hljs-string">'h1'</span></span>,{<span class="hljs-string"><span class="hljs-string">'class'</span></span>:<span class="hljs-string"><span class="hljs-string">'document-title'</span></span>}) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> found: <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> open(<span class="hljs-string"><span class="hljs-string">'olala1.html'</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> f: f.write(content) name = found.get_text() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> name, icon <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">windows_find</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(content)</span></span></span><span class="hljs-function">:</span></span> icon, name = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> soup = BeautifulSoup(content) found = soup.find(<span class="hljs-string"><span class="hljs-string">'img'</span></span>, {<span class="hljs-string"><span class="hljs-string">'class'</span></span>:<span class="hljs-string"><span class="hljs-string">'appImage xlarge'</span></span>}) imageurl = found[<span class="hljs-string"><span class="hljs-string">'src'</span></span>] icon_r = requests.get(imageurl) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> icon_r.status_code == <span class="hljs-number"><span class="hljs-number">200</span></span>: img_array = np.asarray(bytearray(icon_r.content), dtype=np.uint8) icon = cv2.imdecode(img_array, cv2.IMREAD_COLOR) found = soup.find(id=<span class="hljs-string"><span class="hljs-string">"application"</span></span>) name = found(<span class="hljs-string"><span class="hljs-string">'h1'</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>].get_text() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> name, icon <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Entry</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, url, name, icon)</span></span></span><span class="hljs-function">:</span></span> self.url = url self.name = name self.icon = icon self.icon_hash = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> self.contours = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> items = {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_go</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(url)</span></span></span><span class="hljs-function">:</span></span> r = requests.get(url, headers = {<span class="hljs-string"><span class="hljs-string">'User-agent'</span></span>: <span class="hljs-string"><span class="hljs-string">'Mozilla/5.0'</span></span>}, verify=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> r.status_code == <span class="hljs-number"><span class="hljs-number">200</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> url.startswith(<span class="hljs-string"><span class="hljs-string">'https://itunes.apple.com'</span></span>): name, icon = itunes_find(r.content) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> url.startswith(<span class="hljs-string"><span class="hljs-string">'https://play.google.com'</span></span>): name, icon = google_find(r.content) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> url.startswith(<span class="hljs-string"><span class="hljs-string">'http://www.windowsphone.com'</span></span>): name, icon = windows_find(r.content) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> name <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> icon <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>: items[url] = Entry(url, name, icon) url_list = [ <span class="hljs-string"><span class="hljs-string">'https://itunes.apple.com/en/app/skype-for-iphone/id304878510?mt=8'</span></span>, <span class="hljs-string"><span class="hljs-string">'https://itunes.apple.com/en/app/skype-for-ipad/id442012681?mt=8'</span></span>, <span class="hljs-string"><span class="hljs-string">'https://play.google.com/store/apps/details?id=com.skype.raider&amp;hl=en'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://www.windowsphone.com/ru-ru/store/app/skype/c3f8e570-68b3-4d6a-bdbb-c0a3f4360a51'</span></span>, <span class="hljs-string"><span class="hljs-string">'https://play.google.com/store/apps/details?id=com.skype.android.access&amp;hl=en'</span></span>, <span class="hljs-string"><span class="hljs-string">'https://itunes.apple.com/en/app/skype-wifi/id444529922?mt=8'</span></span>, <span class="hljs-string"><span class="hljs-string">'https://play.google.com/store/apps/details?id=com.skype.android.qik&amp;hl=en'</span></span>, <span class="hljs-string"><span class="hljs-string">'https://itunes.apple.com/us/app/skype-qik-group-video-messaging/id893994044?mt=8'</span></span>, <span class="hljs-string"><span class="hljs-string">'https://play.google.com/store/apps/details?id=com.viber.voip&amp;hl=en'</span></span>, <span class="hljs-string"><span class="hljs-string">'https://itunes.apple.com/en/app/viber/id382617920?mt=8'</span></span>, <span class="hljs-string"><span class="hljs-string">'https://play.google.com/store/apps/details?id=com.viber.voip&amp;hl=en'</span></span>, <span class="hljs-string"><span class="hljs-string">'https://play.google.com/store/apps/details?id=com.ketchapp.skyward&amp;hl=en'</span></span>, <span class="hljs-string"><span class="hljs-string">'https://itunes.apple.com/us/app/skyward/id943273841?mt=8'</span></span>, <span class="hljs-string"><span class="hljs-string">'https://play.google.com/store/apps/details?id=cz.george.mecheche&amp;hl=en'</span></span>, ] tr = <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_do</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> u <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> url_list: _go(u) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> items.itervalues(): width = item.icon.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>] height = item.icon.shape[<span class="hljs-number"><span class="hljs-number">1</span></span>] icon_c = cv2.cvtColor(item.icon, cv2.COLOR_BGR2RGB) pil_im = Image.fromarray(icon_c) item.icon_hash = imagehash.dhash(pil_im) edges = cv2.Canny(item.icon, tr, tr*<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_s</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x)</span></span></span><span class="hljs-function">:</span></span> x,y,w,h = cv2.boundingRect(x) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (x, y) contours, hierarchy = cv2.findContours(edges, cv2.RETR_LIST, <span class="hljs-number"><span class="hljs-number">1</span></span>) contours = sorted(contours, key = _s) item.contours = contours item.weight = sum([cv2.arcLength(cnt,<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> cnt <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> contours]) matches = [] ungrouped = [] items_copy = items.values() <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> items_copy: group = [] item = items_copy[<span class="hljs-number"><span class="hljs-number">0</span></span>] current = items_copy[<span class="hljs-number"><span class="hljs-number">1</span></span>:] items_copy = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> other <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> current: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> item.icon_hash == other.icon_hash: group.append(other.url) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: rating = <span class="hljs-number"><span class="hljs-number">0</span></span> count = min(len(item.contours), len(other.contours)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> v <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(count): result = cv2.matchShapes(item.contours[v], other.contours[v], <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0.0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> result &lt; <span class="hljs-number"><span class="hljs-number">0.15</span></span>: l = cv2.arcLength(item.contours[v],<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) lo = cv2.arcLength(other.contours[v],<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) rating += min(l/item.weight, lo/other.weight) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> rating &gt; <span class="hljs-number"><span class="hljs-number">0.8</span></span>: group.append(other.url) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: items_copy.append(other) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> group: group.append(item.url) matches.append(group) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: ungrouped.append(item.url) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> v <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> matches: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">'Found group: %s'</span></span>%<span class="hljs-string"><span class="hljs-string">', '</span></span>.join(set([items[u].name.strip() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> u <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> v])) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">'Urls:\n%s\n'</span></span>%<span class="hljs-string"><span class="hljs-string">'\n'</span></span>.join(v) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"Ungrouped:"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> v <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ungrouped: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">'Name %s'</span></span>%items[v].name <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">'Url %s'</span></span>%v _do()</code> </pre> <br></div></div></div><p>Source: <a href="https://habr.com/ru/post/266749/">https://habr.com/ru/post/266749/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../266733/index.html">Why SMS is limited to 160 characters, and Twitter messages - 140 characters?</a></li>
<li><a href="../266735/index.html">Snaql. Raw SQL in Python projects</a></li>
<li><a href="../266743/index.html">Python 3.5; async / await</a></li>
<li><a href="../266745/index.html">Vim-like control with xmodmap</a></li>
<li><a href="../266747/index.html">Once again about type casting in C ++ or the arrangement of all points above the cast</a></li>
<li><a href="../266753/index.html">Walking across tiles</a></li>
<li><a href="../266757/index.html">With 100,000,000 days a year</a></li>
<li><a href="../266759/index.html">PostgreSQL 9.5: what's new? Part 2. TABLESAMPLE</a></li>
<li><a href="../266761/index.html">Managing complexity in ruby ‚Äã‚Äãon rails projects. Part 1</a></li>
<li><a href="../266767/index.html">The digest of interesting materials for the mobile # 120 developer (September 7-13)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>