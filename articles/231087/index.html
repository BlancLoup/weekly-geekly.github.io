<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Architecture simple 2D games on unity3d. Plan, fact and work on the bugs</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, the Whistling Kite Framework team released another game, this time the Snake, written in Unity3D. As with most game projects, when deciding ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Architecture simple 2D games on unity3d. Plan, fact and work on the bugs</h1><div class="post__text post__text-html js-mediator-article">  Recently, the Whistling Kite Framework team released another game, this time the Snake, written in Unity3D.  As with most game projects, when deciding how much detail you need to design an application, time was a critical factor.  In our case, the reason is simple:  development was carried out in his spare time from the main work, then the ideal approach to design would postpone the release for another year.  Therefore, having made the initial division into modules, we completed the design and began to develop.  Under the cut description of what came out of it, as well as a couple of lessons that I learned for myself. <br><br><img src="https://habrastorage.org/files/3d6/930/7d0/3d69307d0da246899d098d2cb99d3eb5.png"><br>  Careful, pictures! <br><a name="habracut"></a><br>  I just want to insert a reservation: everything described below is only a retrospective of events and an attempt to analyze what went well and what went wrong.  The article does not pretend that it contains an indisputable truth, rather even the opposite - ‚Äúbad advice‚Äù, which, perhaps, will save someone from the same mistakes. <br><br><h4>  Functionality </h4><br>  First, a couple of words, in fact, about the application, so that it is clear what we designed and developed.  Creating a snake, we tried to recreate exactly the good old classic snake, in which there was nothing but a snake, apples, walls and an infinite desire to move on.  That is why we focused on the classic gameplay, knowingly excluding from it at this stage all the additional features. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      One of the main advantages of our snake is a variety of management options that you can find in the settings.  We tried to provide them all: <br><br><ul><li>  4 buttons - set a new direction of movement; </li><li>  2 buttons - turn left / right from the current direction; </li><li>  Swipe - hold your finger in the right direction. </li></ul><br><br>  We plan to add two more: <br><br><ul><li>  gyroscope - the tilt of the device sets a new direction; </li><li>  ‚Äúbubble‚Äù joystick - shifting a finger from the first touch point sets a new direction. </li></ul><br><br>  Dialed in the party rating is recorded in the table of records.  Record can be shared with friends via SMS, mail or any social network connected to the smartphone - Twitter, VKontakte, Facebook, etc. <br><br>  We made the decision to start developing the snake, pursuing two goals: <br><br><ul><li>  Having tried most of the "snakes" existing under Android, we did not find one that several team members wanted to play in, we decided to correct this situation; </li><li>  We first decided to enter the mobile market and use the Unity3D engine, so we chose a deliberately simple game to get used to it. </li></ul><br><br><h4>  Architecture </h4><br><h5>  Stage 1. Concept </h5><br>  The first, conceptual version of the architecture was created by us before the choice of unity.  It is shown in the picture below.  In this embodiment, we have identified the layers of the future application: <br><br><ul><li>  Initialization layer; </li><li>  Interface layer; </li><li>  Logic layer; </li><li>  A layer of controllers; </li><li>  Control layer </li></ul><br><img src="https://habrastorage.org/files/e6b/e0d/6e5/e6be0d6e57f34473890bf389f1171624.png"><br><br>  Historically, the most recent initialization layer was selected, although in the application it should have been launched first.  The fact is that we first laid the initialization of objects into the objects themselves, but then decided to allocate it centrally. <br>  The layers of the interface, logic, and controllers are almost the classic MVC pattern.  At the same time, there was a desire to divide the processing of these layers even into different streams in order to ensure maximum smoothness of the interface. <br>  The management layer was rendered separately, because  we decided that various management options would be one of our main features, so it was necessary to make sure that the rest of the application did not depend on the option chosen. <br>  All layers had to communicate with each other through dedicated interfaces, each layer contained its objects and performed its functions, often contained its own processing flow. <br><br>  Good ideas: <br><ul><li>  Selection of the initialization layer: this was lost in later versions, which sometimes led to rather confusing sequences of actions. </li><li>  The correct general structure of the division of the application into modules: the boundaries later differed and the concept of encapsulation was almost forgotten (you can bring the picture "there is a bug" with cats, only replace it with "so it is impossible! How does encapsulation" </li></ul><br><br>  Slips: <br><ul><li>  Separate layers of controllers and control: subsequently, controllers in terms of MVC were abandoned due to redundancy. </li><li>  Too high level description: it is not clear what <a href="http://xn-----clcksaplxf6byd3cyb.xn--p1ai/">code to write</a> .  Although this can not be called a pure slip, because  at the time of this architecture was not selected yet engine. </li></ul><br><br>  The next step was the choice of the platform, although, strictly speaking, the choice was made between unity and development on pure java.  A cursory review of other existing engines did not arouse enthusiasm in studying them.  We came to a rather expected conclusion: it is easier to write a snake at all without a platform, besides, it looked more interesting - who does not like to make their bikes?  However, we chose unity, in order to familiarize ourselves with the platform, which is close to the status of the standard de facto in the field of game-deva.  Yes, we received a solid overhead projector due to the fact that unity is a three-dimensional engine (at the time of its development, unity still did not have native 2D support), but we did a two-dimensional game, but the experience gained was worth it. <br><br><h5>  Stage 2. Project </h5><br>  While choosing a platform, we jointly wrote a design document, and already on its basis a second architecture project was born, sharpened for the chosen platform. <br><br>  This architecture consisted of several related diagrams, which I call the terms uml below, although, of course, they follow the standard, to put it mildly, not completely. <br><br>  Entity-connection (it is clear that this is more related to the category of requirements for the system than to its architecture, but in the context of the article I cannot but mention it: <br><br><img src="https://habrastorage.org/files/0d8/4f5/257/0d84f525739a4517861f29b1019e2550.png"><br><br>  ERD notation, I think everyone is familiar.  It presents all the objects of game logic and logical connections between them.  Each such object generates one class that ensures the operation of this object. <br><br>  Component and collaboration diagrams.  For their perception, I will first describe a number of agreements: <br><br>  General architecture - is of a general conceptual nature, being, in essence, a continuation of the diagram of stage 1. It displays: <br><ul><li>  System components (rectangles); </li><li> Storage subsystem (symbol DB, magnetic disk); </li><li>  Notes (yellow ‚Äúleaflets‚Äù); </li><li>  Control flows (filled arrows); </li><li>  Data streams (dotted arrows). </li></ul><br>  Detailing diagrams contain: <br><ul><li>  Components, objects (rectangles); </li><li>  Events processed by objects (hexagons); </li><li>  Actions performed on events (ellipses). </li></ul><br><br><img src="https://habrastorage.org/files/f08/4a5/5ee/f084a55eeb0a4af29287513614f99b19.png"><br><br>  In general, the concept has not changed much: there is also a separate component for initialization, then two main subsystems are highlighted. <br>  After starting the application, the initialization component starts working first: it requests all necessary data from the storage and initiates the GUI subsystem. <br><br>  The GUI subsystem should provide the user with the main menu, settings and records.  At the start of the game, the control is transferred to the control subsystem. <br><br>  The control subsystem should provide user interaction with the game world, first of all it is the management of the snake itself. <br><br>  Separately highlighted components for logging and sharing records. <br><br>  The game world consists of objects taken from the ERD.  The key role is played by the party and the snake. <br><br>  The party stores links to the snake and the current copy of the fruit, provides initialization of game objects and their interaction. <br>  Snake handles the main game events: own movement, eating fruit and collisions with walls or tail. <br>  The fruit is responsible for controlling its own lifetime. <br><br>  Good ideas: <br><ul><li>  Allocation of two main independent subsystems: this was not taken into account during development, which initially led to a large number of unnecessary scenes. </li></ul><br><br>  Slips: <br><ul><li>  Does not take into account the separation by scenes and work with the storage subsystem from the game scene </li><li>  It does not answer the question of how to implement the GUI subsystem and how the subsystems interact with each other. </li><li>  The Batch object took over the functions of the controller in terms of MVC. </li></ul><br><br><h5>  Stage 3. Actual result </h5><br>  After the start of development, no one has corrected the architecture.  I just left separate notes in the appropriate section of the design document on how certain bottlenecks are implemented, but the main goal was to release the release.  Well, we have achieved this goal, and I sat down to refactor in order to prepare for the development of the second release.  Already at that moment I understood that first of all I had to transfer the game to an honest 2d, whose support had just appeared in the unity.  And there was also an understanding that the result was far from ideal, primarily in terms of the division of functions into objects and their interaction, therefore, I set myself two tasks: <br><br><ol><li>  Create a general class diagram </li><li>  Create sequence diagrams for the main application scenarios. </li></ol><br><br>  Based on this information, I planned to get a list of what needs to be changed.  The results of such reverse engineering are presented below; in each section, I first briefly describe what this section is about, then provide one or more diagrams illustrating the solution built, and then describe in detail what was done and how. <br><br><h6>  Overview of the created classes </h6><br>  The diagram below shows all the classes created during the development of the game.  The diagram hides some of the methods that do not carry a semantic load or are so trivial that they are not worth mentioning.  Also, often under the variable name (for example, textures) hides a whole block of variables (in this case, various textures). <br><br><img src="https://habrastorage.org/files/ba2/b7e/0ef/ba2b7e0ef96d4d6288ac5d4c1e1607cb.png"><br><br>  All available classes are divided into four packages: <br><ul><li>  <b>Gamelogic</b> - classes for game objects that exist on the irg field are presented here.  In essence, this is the core of the game. </li><li>  <b>Gui</b> - here are classes that are responsible for building a static user interface: the main menu, settings, records and buttons on top of the playing field, in addition to the buttons for direct control of the snake. </li><li>  <b>Controllers</b> - this is the highlight of our application: a package with a variety of ways to control the snake.  Each class fully contains everything you need for the chosen management style: from the interface buttons to the logic of calculating the rotation. </li><li>  <b>Providers</b> - this package contains auxiliary classes that provide functions such as reading and saving data, the ability to share a record, logging, analytics, etc. </li></ul><br>  In the game logic package, the central place is occupied by the party class, which is a single game party.  This class is responsible for the start and end of the game, for the calculation of the rating, for coordinating the events of eating an apple and the expiration of the apple's lifetime, and many other auxiliary functions.  While this article was being written, I practically rewrote this class, leaving in it only calls to methods from other classes (actually, a snake and an apple).  This is more in line with encapsulation requirements, but made this class even more like a controller in terms of MVC. <br><br>  The second most important class Snake contains the logic of the movement of the snake, including the management of dependent objects of the class Snakechain.  It is this class that control controllers transmit commands. <br><br>  A factory is used to create fruit instances (FruitInstance), since  In the future it is planned to increase the number of different types of fruits. <br><br>  The package with interfaces contains separate classes that are responsible for the display and processing of the user interface, depending on the situation.  In the same place pressing of iron buttons on the device is processed. <br><br>  The controller package contains control classes.  They are added to the snake and interact directly with the Snake object using the command pattern, and the snake executes the incoming commands in the same sequence, but separately along its steps.  This was done to correctly process fast sequential commands, for example, to rotate 180 degrees along its tail. <br><br>  The package with providers contains only one class that is interesting for this article - this is dataProvider.  This class contains a set of static functions that are a wrapper over calls to standard methods for working with stored properties.  At both previous design stages, work with the stored data was assumed only once: load them into memory and no longer access slower media.  This approach did not take into account the issue of independence of scenes in Unity: as a result, when moving between the scenes of the main menu and the playing field, all the necessary data had to be re-read. <br><br><h6>  Initial states </h6><br>  Below is a description of the initial state of the two scenes of which the game consists: the scene of the main menu (in the figure below left) and the scene of the playing field (in the figure below to the right).  The initial state is determined by what was entered in the editor, before running any executable code.  It is from these states that most of the sequence diagrams start below. <br><br><img src="https://habrastorage.org/files/8f4/423/183/8f44231838544b7caa02985abfd37ac3.png"><img src="https://habrastorage.org/files/187/9b6/05d/1879b605db0f4be28b72e7ef9bc864e9.png"><br><br>  The main menu is created by two classes, Player and GUInavigator, attached to a single object on the stage, to the camera.  Player is responsible for loading all the basic information about the player, and GUInavigator initiates the desired behavior from the interface pack and provides further transitions between interfaces. <br><br>  The game scene contains much more objects.  Most of them are static, representing the world of the snake: background, playing field, walls.  Additional behaviors are attached to only two objects: the camera (GUInavigator, Player, party, fruitfabric) and the snake head (Snake, Controllerselector).  The controllerselector is responsible for selecting the controlling controller according to the player‚Äôs settings. <br><br><h6>  Application launch </h6><br>  The diagram below represents the procedure for starting the application (in that part of it that is controlled by the developer).  Particular attention can be paid unless the alternative exit from the script and the transition to loading the game, if there is a saved unfinished game. <br><br><img src="https://habrastorage.org/files/9b4/589/959/9b45899598db464e909016b42f37c88a.png"><br><br>  An application load consists of handling two events: awake and start.  The awake event processes the player object: at this point, it accesses the DataProvider to load player information, and then calls its own method that is responsible for applying the current settings, such as muting. <br><br>  The Start event is handled a little more complicated: <br><ol><li>  The GUInavigator in the initMain method initiates all the interfaces required in a given scene, each with a sign of inactivity. </li><li>  Next, he checks to see if the unfinished game has been saved.  This is possible, for example, when the game is interrupted by an incoming call. </li><li><ol><li>  If there is a game, the game scene is loaded, and this script is interrupted. </li></ol></li><li>  Conditionally at the same time, Start events for all initiated classes of interfaces are processed ‚Äî they are additionally initialized inherent to each specific interface separately (including the interface of records loads data on the table of records using dataProvider). </li><li>  The main menu interface is assigned a sign of active, and it is displayed to the user. </li></ol><br><br><h6>  Running game </h6><br>  Next, we consider a sequence diagram illustrating the actions when starting a game.  The starting point is loading the scene with the game. <br>  In this diagram, it is worth noting an alternative scenario of loading a saved game ‚Äî this is necessary for the case of interrupting a game, for example, with an incoming call. <br><br><img src="https://habrastorage.org/files/cb3/6dd/998/cb36dd998fe54638a8e04018227efcce.png"><br><br>  The first trigger events are Awake for Player objects (loading all settings, similar to starting an application) and Snake (Init () method - initializing the tail by default from two segments).  Then the Start event is triggered to select a controller (for example, FourButtonController is used), load the GUI and initialize the game.  A little more about handling this event: <br><ol><li>  Controller selector in the Start event, checks the player settings and loads the desired control controller. </li><li>  The GUInavigator in the initGame method initiates all the interfaces required in a given scene, each with a sign of inactivity.  The definition of which method to call is based on the parameter set through the editor.  Initialization and activation of the active interface is similar to the launch of the application. </li><li>  The Start event then processes the party object.  First of all, it checks if there is a saved game. <br><ol><li>  If there is a game, then party calls dataProvider for recovery, which, after reading the data, calls the party's Restorebackup method. </li><li>  He, in turn, calls the analogous method of the Snake object, and that one along the chain for all links. </li><li>  After data recovery, control is returned to the party object, it includes a pause and waits for the player to take action. </li></ol><br></li><li>  If there was no game, then the party calls the fruit factory to create an instance and the game begins.  By the way, the diagram shows that party is also responsible for setting a number of parameters for a fruit - now this is no longer the case: all necessary actions are encapsulated either in a factory or in a fruit instance. </li></ol><br><br><h6>  Game Cycle: Snake Move </h6><br>  The game logic is centered around the processing of two events: update is processed in the snake by the movehead method, here the snake moves and controls the movement of its segments;  and ontriggerenter, where the handling of collisions of the head of a snake with fruit, walls and its own tail. <br><br><img src="https://habrastorage.org/files/e74/0d7/fc2/e740d7fc206f42a1aa7a0803219ff989.png"><br><br>  Let us examine the collision event in more detail: <br><ol><li>  When an event occurs, it is first checked who we are faced with: if it is an apple, then the Eatfruit method is called, and if the tail or wall, then Killme.  In both cases, the collision information is reset to the logs. </li><li>  Apple case: <br><ol><li>  Snake sets a flag to add a link and calls the party's Eatfruit method. </li><li>  Party increases the party's rating and calls its own createfruit method, also used when starting the game. </li><li>  In this method, the current fruit instance is first deleted, and then a new one is created through a call to the factory. </li></ol><br></li><li>  Wall or tail case: <br><ol><li>  The snake passes the event handling to the party object in the Endgame method. </li><li>  Party sets the pause mode and, through the interface navigator, takes the player to the screen with the results of the party. </li></ol><br></li></ol><br>  The movement of the snake is implemented as follows: <br><ol><li>  In the update event, the movehead method is called. </li><li>  Here the snake speed is checked: the moment of transition has come or not </li><li>  If yes, then check the flag of the need to add a link <br><ol><li>  If necessary, a link is created that is analogous to the one following the head. </li><li>  Only the head and one newly created link are shifted. </li></ol><br></li><li>  If there is no flag, then the head is displaced, and after it, along the chain, all links, by the method of adjust. </li></ol><br><br><h5>  Conclusion </h5><br>  A lot of logic remains outside the scope of this article: it is logging, both internally and using external analytics;  this is the work of the interface navigator, which encapsulates all the features associated with the two scenes;  This work with data, with the device, display of advertising and many other features.  If anyone is interested, I can write about it separately. <br><br>  The main problems identified are: <br><br><ul><li>  Replacing 3d to 2d.  This does not follow from the diagrams, but it is obvious from the point of view of the preference of using tools for their intended purpose. </li><li>  The party object is too overloaded with functions: it controls both apples, and snake, and the handling of the completion of the game. </li><li>  The game interface is overloaded - it should be divided into two states: in the game and after the collision. </li><li>  There is no facade for working with device functions not provided for by the engine: in our case, for android, this is the overridden vibration method, the implementation of the share button (calling the system window to select an application) and the implementation of Google analytics calls. </li></ul><br><br>  What conclusions for future projects, I did, based on the foregoing? <br><ol><li>  You need to know the platform before you take on something serious.  This is obvious in general, but just in case I decided to repeat it, maybe someone will save the top MMO from experience without launching another killer. </li><li>  It is necessary to design the separation of an application (even a simple one) into components.  At this stage, the main thing is to minimize the number of interactions and data flows. </li><li>  Thinking through the structure of classes, you need to immediately think about how objects will relate to the components and what functions (groups of functions) they will perform. </li><li>  On the one hand, you need to keep in touch with the planned architecture, but on the other hand, you need to be ready to change it when new conditions arise. </li></ol><br>  If you see some other not optimal solutions, then please speak in the comments, we will be happy to discuss. <br><br>  Just in case, at the end I cite all the links relevant to the article: <br><ul><li>  <a href="http://unity3d.com/">Unity3d</a> </li><li>  The architecture diagram for stage 1 is drawn in <a href="http://www.yworks.com/en/products_yed_about.html">yEd</a> . </li><li>  Phase 2 architecture diagrams are drawn on the andoroid-tablet in <a href="https://play.google.com/store/apps/details%3Fid%3Dcom.drawexpress.lite">DrawExpress Lite</a> ; </li><li>  Phase 3 architecture diagrams are drawn in <a href="http://www.visual-paradigm.com/">Visual Paradigm</a> ; </li><li>  Discuss the application can be viewed in <a href="https://play.google.com/store/apps/details%3Fid%3Dnet.sf.wkf.snake%26referrer%3Dutm_source%253Dhabrahabr.ru%2526utm_content%253Dsnake_article_2">play.google</a> . </li><li>  You can learn more about our team on our <a href="http://wkfteam.ru/">website</a> . </li></ul><br><br>  PS During the preparation of this article, some of the errors found have already been corrected, and probably new ones were introduced, because  development does not stand still. </div><p>Source: <a href="https://habr.com/ru/post/231087/">https://habr.com/ru/post/231087/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../231069/index.html">Automate it</a></li>
<li><a href="../231071/index.html">Interview for a JavaScript developer post</a></li>
<li><a href="../231073/index.html">MIT students added 3D scanner to 3D printer</a></li>
<li><a href="../231083/index.html">Happy day to the system administrator!</a></li>
<li><a href="../231085/index.html">"Travel" photos of the Rosetta interplanetary station: from 2005 to the present</a></li>
<li><a href="../231091/index.html">Effective communication in IT projects (Part 1)</a></li>
<li><a href="../231097/index.html">Boxed CMS for an online store: a review of popular engines</a></li>
<li><a href="../231099/index.html">How to create and earn SaaS (Accidentally forgotten Part 9 / Legal Fog SaaS)</a></li>
<li><a href="../231101/index.html">Asterisk-Butler or epic Intercom connection with Pascal-1510 board, SPA112 gateway and PBX Elastix</a></li>
<li><a href="../231103/index.html">We remind everyone in the office to congratulate the Sysadmin</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>