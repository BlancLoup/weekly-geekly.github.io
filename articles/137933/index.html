<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Organize your audio library. Practical advice</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 In general, I am a perfectionist in many matters. If you have, you need to be perfect (sometimes it has a negative effect, but now it‚Äôs...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Organize your audio library. Practical advice</h1><div class="post__text post__text-html js-mediator-article"><h4>  Introduction </h4><br>  In general, I am a perfectionist in many matters.  If you have, you need to be perfect (sometimes it has a negative effect, but now it‚Äôs not about that).  I also used to keep my audio collection clean.  But over time, with the replenishment, many small troubles began to accumulate.  Here are some of them: <br><ul><li>  Different patterns for file names: <i>4 - Star |</i>  <i>04 - Star |</i>  <i>04. Star</i> </li><li>  Different artists names in tags: <i>Chizh &amp; Co |</i>  <i>Chizh and co.</i>  <i>|</i>  <i>Mylene Farmer |</i>  <i>Myl√®ne farmer</i> </li><li>  No artists are listed for the album (which leads to a complete mess in compiled albums) </li><li>  Not quite correct information about albums consisting of several discs. </li><li>  Confusion in the years of publications and reprints (remastered, etc.) </li></ul>  Well, and other stuff. <br>  Often users have a collection of several thousand, and sometimes several tens of thousands of entries.  So, to shovel everything manually is long and inefficient. <br><br>  This manual is intended to bring the audio collection to the most orderly form with minimal expenses.  In contrast to publicly available information that can be found on the Internet, my personal experience (both positive and negative) is also present here.  As a result, we get a <i>completely</i> re-sorted collection.  All of the following can be applied to any collections, but the best option is if the collection mostly consists of full official albums, with a minimum of fragmented tracks. <br><br><a name="habracut"></a><h4>  Stage 1. Pre-cleaning </h4><br>  At once I will make a reservation that the descriptions of all stages are mostly of a recommendatory nature, and you need to use them step by step only if you want to remake everything from scratch and organize it to the maximum. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      First we need to go through all the files and folders and quickly clean them.  Throw away all the excess that you do not listen and are unlikely to be.  For example, I had a lot of reprints (i.e. actually duplicates), bootlegs, all sorts of Live-rarities, which I have never even listened to, but just kept for the collection ... In general, delete at your discretion, if possible, leave only full and official albums.  This is not a critical, but rather an important stage.  Subsequently, thanks to this, you can save great time. <br><br><h4>  Stage 2. Recognition of albums and tracks </h4><br>  This stage is the most important.  Here is the recognition and sorting of songs.  For this we need the program <a href="http://musicbrainz.org/doc/MusicBrainz_Picard">MusicBrainz Picard</a> . <br>  In order not to do the same work twice, at this and all subsequent stages, be sure to carefully review the settings of all programs. <br> <a href="http://www.flickr.com/photos/76395961%40N03/6862535167/" title="Settings window MusicBrainz Picard"><img align="right" src="https://habrastorage.org/getpro/habr/post_images/c57/6b1/64d/c576b164d3b9f75efee7bd8f2608437d.jpg" width="240" height="187" alt="Settings window MusicBrainz Picard"></a>  I recommend to start everything from scratch.  To do this, in the settings of MusicBrainz we enable file transfer and specify the destination folder.  I would also recommend clearing all old information in tags. <br>  A slight digression about ID3 tags.  Version 2.4 is more advanced, but not all programs can work with it correctly.  In particular, Windows Explorer and Windows Media Player (up to version 12 inclusive) do not understand the encoding.  So if you want compatibility - include 2.3.  If you want a more progressive format with UTF-8 type buns and an extended set of tags, use 2.4.  I used version 2.4 in all programs (running ahead of time - foobar2000 and Google Music understand without problems; Winamp should, too). <br><br>  The program recognizes two types of albums: regular and compilations.  Compilations are when the album has more than one artist.  Various collections and the collection ‚ÄúThe Best of Classics‚Äù were found in my collections.  Collections are thrown into one folder (usually called <i>Various Artists</i> ), which can be sorted afterwards. <br>  Pay attention to the ‚ÄúFile transfer‚Äù settings item, it configures renaming and sorting by folders.  It uses a small scripting language (the same as in foobar2000), with its help you can customize templates as you like.  The default settings are quite universal, but for myself I corrected them a bit: <br><br><pre><code class="php hljs">$if2(%albumartist%,%artist%)/$if2($left(%originaldate%,<span class="hljs-number"><span class="hljs-number">4</span></span>),$left(%date%,<span class="hljs-number"><span class="hljs-number">4</span></span>)) - %album%/$if($gt(%totaldiscs%,<span class="hljs-number"><span class="hljs-number">1</span></span>),%discnumber%-,)$num(%tracknumber%,<span class="hljs-number"><span class="hljs-number">2</span></span>) - %title% $if2(%albumartist%,%artist%)/$if2($left(%originaldate%,<span class="hljs-number"><span class="hljs-number">4</span></span>),$left(%date%,<span class="hljs-number"><span class="hljs-number">4</span></span>)) - %album%/$if($gt(%totaldiscs%,<span class="hljs-number"><span class="hljs-number">1</span></span>),%discnumber%-,)$num(%tracknumber%,<span class="hljs-number"><span class="hljs-number">2</span></span>) - %artist% - %title%</code> </pre> <br>  The first line is for albums, the second is for compilations.  Note that here the variable <i>% date%</i> indicates the date of publication (or reissue), not the release date of the album. <br>  These templates generate names like these: <br><br><pre>  Music \ Splin \ 2002 - Acoustics \ 2-05 - My heart.mp3
 Music \ Various Artists \ 2001 - Fellini Tour \ 14 - Splin - My Heart.mp3 </pre><br>  After we made sure that all the settings are set correctly, you can feed your entire collection and go and drink coffee.  Well or sleep, depending on the size of the collection.  The program works rather slowly, about 20 files are processed per minute.  The more information you can extract from tags and names - the faster the processing will take place. <br>  For the article, I conducted testing in the "extreme" -mode: I took several dozen tracks, removed all the tags from them, and renamed them randomly.  The result is visible in the screenshot. <br><br><div style="text-align:center;"> <a href="http://www.flickr.com/photos/76395961%40N03/6862516543/" title="The main window of MusicBrainz Picard"><img src="https://habrastorage.org/getpro/habr/post_images/771/08e/ff4/77108eff43ed346c1dce6f902350e086.jpg" width="640" height="439" alt="Settings window MusicBrainz Picard"></a> </div><br>  On the right, the identified tracks are grouped into albums.  But sometimes you need to help the program to recognize the tracks.  The file may not be recognized, or several files may be included in the ‚Äúcandidates‚Äù on the album track.  In this case, you will have to choose manually.  The level of coincidence is indicated by color - from green to red.  The check compares some tags and track fingerprints. <br>  The album is marked as gold (in the sense, yellow :)), if it contains all the tracks, and there are no multiple interpretations.  Our goal is to achieve the maximum number of gold albums.  Also note that the content of the album may vary depending on the issuing studio, sometimes manual editing will help achieve a more accurate match.  Processed albums periodically save to the destination folder. <br><br><h4>  Stage 3a.  Manual revision of names </h4><br>  If the world were perfect, then apart from the second stage, we would no longer need anything.  But alas, MusicBrainz can do quite a lot of the work, but not all.  Some of your albums may be missing from its database.  In this case, you will have a part of the unsorted music in the source folder. <br>  The stages of manual revision are fairly standard, so take it written as nothing more than a recommendation.  But I will still describe them in more detail, for the integrity of the whole complex of actions.  The purpose of this stage is to bring the structure of files and directories into a form that 1) would be correct, and 2) would satisfy your requirements. <br><br>  Start your favorite file manager, go to the folder with the remaining unsorted music, and start.  First, we must bring the structure and names to a single form.  If you have identified part of the albums of the group <i>Black Coffee</i> , check if you have the same group name everywhere.  If you have in the sorted music the template name <i>NN - Trackname.mp3</i> - rename all the remaining files accordingly.  To facilitate group renaming, you can use <a href="http://www.mp3tag.de/en/download.html">Mp3tag</a> .  How to use it, I will not explain.  We must achieve a perfect correspondence of the structure of both folders, so that after their merging it would be impossible to say what it was from. <br>  After that, you can merge two folders into one.  In principle, this can be finished.  But many will want to further refine the file structure.  For example, by default collections are thrown into the <i>Various Artists</i> folder, but often they are more related to a single artist.  So all the contents of the various Artists can be easily scattered in other directories.  It also happens that the albums are too detailed by the performers: <i>Siskin, Siskin &amp; Co, Siskin and Various People, Siskin and Pasha, Chernetsky and Siskin,</i> ... Often there is only one album there.  It did not quite suit me, so I merged all similar groups of folders into one. <br><br><h4>  Stage 3b.  Manual revision of tags </h4><br>  After all the necessary music was in the right place and became properly named, we can do the polishing of tags.  Now we need <a href="http://www.mp3tag.de/en/download.html">Mp3tag</a> necessarily.  Actually, all operations are similar to those that were at the previous stage, only relative to the tags.  First you need to bring the tags to a single mind, and then - to finalize, as you like. <br>  Unfortunately - the only way to do this is to walk manually through all the albums and tracks.  Fortunately - most of the tracks are ready, and we work only with the unsorted part. <br>  As for the refinement of details.  It all depends on your requirements.  You can even skip this part altogether.  Personally, I did the following manipulations: <br><ul><li>  Poured composite albums into one by writing the disc number in tags </li><li>  Concretized all album artists (where Various Artists were) </li><li>  Corrected file names, where service characters were replaced by underscores </li></ul>  In general, it is worth running through the entire collection, and check two things: 1) there are no disagreements within the same group of tracks (artist name, numbering, etc.), and 2) whether you like what it looks like. <br>  A couple of words tag <i>Album Artist</i> .  Take, for example, the album "Picnic - Tribute".  The album has 18 tracks, they are performed by 18 different groups.  But you can safely register ‚ÄúPicnic‚Äù in the artist tag of the albums, and it will appear in its entirety among the Picnic albums.  This concept is used very often, and the <i>Album Artist</i> tag has a higher priority than the <i>Artist</i> tag when sorting. <br>  I also want to say that Mp3tag has basic scripting capabilities, which allows you to manipulate tags and names within fairly wide limits.  Additionally, see the Actions window and its help.  It took me to fix some nezabberichu with dates made by stupidity. <br><br><h4>  Step 4. Genre definition </h4><br>  After processing, the <i>Genre</i> tag will be blank.  And although in MusicBrainz there was an option to automatically fill in genres, but for some reason it did not work for me.  So, it is necessary to look for other means.  However, this item can be skipped if you are not interested in information about genres. <br>  As it turned out, with the automatic definition of the genre everything is tight.  And with genres for Russian songs - even worse.  But I tried to choose the best of the worst, and stopped at the <a href="http://www.mediamonkey.com/download/">MediaMonkey</a> combine.  By the way, there is a portable installation option.  To search for genres to it there is a script called <a href="http://www.mediamonkey.com/forum/viewtopic.php%3Ff%3D2%26t%3D15774">Genre Finder</a> .  As far as I understand, this script uses the Last.fm API, so you need to be very careful about the settings: there are not many of them, but the final result depends on them very much.  It is likely that you will want to make several test passes with different options for customization. <br>  The first thing I want to advise is, yes, you can make a multiple definition of genres, but always limit their number from above.  Believe me, it's better to skip some kind of genre, than to clean out the hardcore type ‚ÄúTHE BEST EVER SONG IN MY LIFE !!!! 11‚Äù or ‚ÄúKill me I cant hear it!‚Äù.  Also note the possibility of installing whitelists / blacklists.  I neglected this, and then lost time during manual cleaning.  Ready whitelists can be found on the forum at the link above. <br> <a href="http://www.flickr.com/photos/76395961%40N03/6866338819/" title="Mediamonkey"><img align="left" src="https://habrastorage.org/getpro/habr/post_images/d24/00e/d3a/d2400ed3ae99afa7397260cc382ed069.jpg" width="240" height="166" alt="Mediamonkey"></a>  I recommend first defining 2-3 genres in the album search mode.  You can then add a couple more genres, but already in the search mode for individual tracks.  Here, in MediaMonkey, you can simultaneously watch and grind the resulting list of genres. <br>  It is worth making a small clarification regarding foobar2000: it turned out that it does not recognize multiple values ‚Äã‚Äãin a single tag, separated by a semicolon (as MediaMonkey writes them).  With other players, there are no such problems.  But the problem is solved with the help of the same foobar.  Highlight your entire list of songs, press Alt + Enter (Properties command), click on the Genre tag, and then select <i>Tools - Selection - Split values ‚Äã‚Äã....</i>  This command splits the values ‚Äã‚Äãfrom one tag into ‚Äúcorrect‚Äù multiple tags. <br><br><h4>  Stage 5. Album covers </h4><br>  Well, the last stage - cover arts.  Here everything is much better than with the previous paragraph.  There are many programs that can search for covers.  Some of them allow you to embed thumbnails of covers directly into the tags of the file (although I am pretty cool about this feature).  But, in my humble opinion, <a href="http://sourceforge.net/projects/album-art/">Album Art Downloader has</a> the widest possibilities. <br> <a href="http://www.flickr.com/photos/76395961%40N03/6866567855/" title="Album Art Downloader"><img align="right" src="https://habrastorage.org/getpro/habr/post_images/016/ef0/073/016ef0073cd4f130ce83489a15d8ca54.jpg" width="240" height="177" alt="Album Art Downloader"></a>  In the settings, I would recommend raising the minimum cover size (at least up to 50 px), and enable the ‚ÄúAutomatically close after saving‚Äù option. <br>  We will need to do two passes (set experimentally; no other sources, including iTunes, give the best result).  First, turn off all sources (area on the right), except <i>Last.fm</i> , and scan all our music.  After the search and analysis process, we will see the <i>Queue Manager</i> window, where there will be a list of all found albums.  At this stage, you can safely run the automatic mode (link at the bottom of the Queue Manager window) and wait for completion. <br> <a href="http://www.flickr.com/photos/76395961%40N03/6866568169/" title="Queue manager"><img align="left" src="https://habrastorage.org/getpro/habr/post_images/df0/0a0/d17/df00a0d17a1e8b1871c7044fd6bb6a23.jpg" width="240" height="158" alt="Queue manager"></a>  If you have left unrecognized albums after the first pass, change the source from Last.fm to <i>Google Images</i> , and start processing the remaining albums.  Here I would recommend to be more careful and check each album manually.  Personally, I had these two passes;  the other sources were completely inadequate for me, but you can try - each of them has its own specifics. <br>  Well, it seems to be all.  But there is still a little nuance.  The fact is that some of the albums have a PNG cover.  As it turned out, Google Music understands only JPEG, and indeed, this format is more common.  So if you want, you can convert everything to JPEG. <br>  Only I was unable to quickly find a free utility that would simply recursively find all PNG files and rename them to JPEG.  If you know one, use it.  You can do batch processing in Photoshop.  You can call for help advanced file manager.  I‚Äôll just leave the <i>PowerShell</i> script here, which does just that - select all PNGs recursively and convert them.  The original files remain, you can then delete them manually. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ConvertTo</span></span></span><span class="hljs-function">-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Jpg</span></span></span><span class="hljs-function"> </span></span>{ [cmdletbinding()] param([Parameter(Mandatory=$<span class="hljs-literal"><span class="hljs-literal">true</span></span>, ValueFromPipeline = $<span class="hljs-literal"><span class="hljs-literal">true</span></span>)] $Path) process{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($Path -is [string]) { $Path = get-childitem $Path } $Path | foreach { $image = [System.Drawing.Image]::FromFile($($_.FullName)) $FilePath = <span class="hljs-string"><span class="hljs-string">"{0}\{1}.jpg"</span></span> -f $($_.DirectoryName), $($_.BaseName) $image.Save($FilePath, [System.Drawing.Imaging.ImageFormat]::Jpeg) } } } cd <span class="hljs-string"><span class="hljs-string">"D:\Music\" Get-ChildItem -Filter *.png -Recurse | ConvertTo-Jpg</span></span></code> </pre> <br><h4>  Total </h4><br>  That's all.  Such a short manual turned out :) <br>  In general, yes, the process is non-trivial, and with a large collection can be lengthy;  There is no ‚ÄúMake It Right‚Äù button.  But, firstly, in any case, the rules, tastes and preferences of each are different, respectively, and the settings will also be different for everyone.  Secondly, throughout the process we were helped by powerful programs that largely automated the work.  Well, and thirdly, it is not necessary to repeat with accuracy all stages;  I think everyone can find the best way for themselves. <br><br>  But in the end we get: <br><ul><li>  Unified ordered file system structure </li><li>  ID3 tags completely filled (up to the composer) according to the same rules </li><li>  Ability to sort by genres and other labels </li><li>  Covers for all albums </li><li>  Aesthetic pleasure from the realization of the fact that you have almost perfect order :) </li></ul><div style="text-align:center;"> <a href="http://www.flickr.com/photos/76395961%40N03/6862085905/" title="Sorted collection"><img src="https://habrastorage.org/getpro/habr/post_images/548/18a/a20/54818aa2021815ca048c7ae634d52e8a.jpg" width="640" height="442" alt="Sorted collection"></a> </div><br>  Now in this form, the collection happily eats any media combine or Google Music. <br><br>  All the above applications are free, all coincidences are random, and of course, use this information only for good purposes :) </div><p>Source: <a href="https://habr.com/ru/post/137933/">https://habr.com/ru/post/137933/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../137928/index.html">HomeLisp two years later</a></li>
<li><a href="../137929/index.html">The contents of The Pirate Bay fit in 90 megabytes</a></li>
<li><a href="../137930/index.html">Economic evaluation of the project (situational example to part number 1)</a></li>
<li><a href="../137931/index.html">Freezing Eclipse 3.7 for Mac</a></li>
<li><a href="../137932/index.html">Failure of the master in the PostgreSQL-cluster: how to be?</a></li>
<li><a href="../137935/index.html">Cellular operators will notify subscribers about changes to the tariff plan via SMS</a></li>
<li><a href="../137936/index.html">For Nginx appeared commercial technical support</a></li>
<li><a href="../137937/index.html">Implementing Code Action with Roslyn</a></li>
<li><a href="../137938/index.html">Creating a reliable storage distributed to multiple servers on nfs</a></li>
<li><a href="../137940/index.html">RIPE NCC Password Policy Update</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>