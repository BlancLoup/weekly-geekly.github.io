<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Julia. Work with tables</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Julia is one of the youngest mathematical programming languages, claiming to be the main programming language in this field. Unfortunately, at the mom...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">ğŸ”</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">ğŸ“œ</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">â¬†ï¸</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">â¬‡ï¸</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Julia. Work with tables</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/pi/ts/0a/pits0aw00iivzdctpqqr82w5hww.png"></p><br><p>  Julia is one of the youngest mathematical programming languages, claiming to be the main programming language in this field.  Unfortunately, at the moment there is not enough literature in Russian, and the materials available in English contain information that, due to the dynamic development of Julia, does not always correspond to the current version, but this is not obvious to beginning Julia programmers.  We will try to fill in the gaps and convey Juliaâ€™s ideas to readers in the form of simple examples. </p><br><p>  The purpose of this article is to give readers an idea of â€‹â€‹the main ways of working with tables in the Julia programming language in order to encourage them to start using this programming language to process real data.  We assume that the reader is already familiar with other programming languages, so we will give only minimal information about how this is done, but we will not go into the details of data processing methods. </p><br><p>  Of course, one of the most important stages of the program that performs data analysis is their import and export.  Moreover, the most common format for presenting data is a table.  There are libraries for Julia, which provide access to relational databases, use exchange formats such as HDF5, MATLAB, JLD.  But in this case we will be interested only in the text format of the presentation of tables, such as CSV. </p><a name="habracut"></a><br><p>  Before considering the tables, it is necessary to make a small introduction to the features of the presentation of this data structure.  For Julia, the table can be represented as a two-dimensional array or as a DataFrame. </p><br><h3 id="massivy">  Arrays </h3><br><p>  Let's start with the arrays in Julia.  The numbering of elements begins with one.  This is quite natural for mathematicians, and, in addition, the same scheme is used in Fortran, Pascal, Matlab.  For programmers who have never used these languages, such numbering may seem inconvenient and cause errors when writing boundary conditions, but, in reality, this is just a matter of habit.  After a couple of weeks of using Julia, the question of switching between language models no longer arises. </p><br><p>  The second essential point of this language is the internal representation of arrays.  For Julia, a linear array is a column.  At the same time, for languages â€‹â€‹like C, Java, a one-dimensional array is a string. </p><br><p>  Illustrate with an array created on the command line (REPL) </p><br><pre><code class="hljs pgsql">julia&gt; a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] <span class="hljs-number"><span class="hljs-number">3</span></span>-element <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{Int64,<span class="hljs-number"><span class="hljs-number">1</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre> <br><p>  Pay attention to the array type - Array {Int64,1}.  The array is one-dimensional, such as Int64.  However, if we want to combine this array with another array, since we are dealing with a column, we must use the vcat function (that is, vertical concatenate).  The result is a new column. </p><br><pre> <code class="hljs pgsql">julia&gt; b = vcat(a, [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>]) <span class="hljs-number"><span class="hljs-number">7</span></span>-element <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{Int64,<span class="hljs-number"><span class="hljs-number">1</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span></code> </pre> <br><p>  If we create an array as a string, then when writing a literal, we use spaces instead of commas and get a two-dimensional array with type Array {Int64,2}.  The second argument in the type declaration indicates the number of coordinates of the multidimensional array. </p><br><pre> <code class="hljs swift">julia&gt; <span class="hljs-built_in"><span class="hljs-built_in">c</span></span> = [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>] <span class="hljs-number"><span class="hljs-number">1</span></span>Ã—<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-type"><span class="hljs-type">Array</span></span>{<span class="hljs-type"><span class="hljs-type">Int64</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre> <br><p>  That is, we got a matrix with one row and three columns. </p><br><p>  This scheme for the representation of rows and columns is also characteristic of Fortran and Matlab, but it should only be recalled that Julia is a language that is focused on their field of application. </p><br><p>  The matrix for Julia is a two-dimensional array, where all cells are of the same type.  Note that the type can be abstract Any or quite specific, such as Int64, Float64, or even String. </p><br><p>  We can create a matrix in the form of a literal: </p><br><pre> <code class="hljs pgsql">julia&gt; a = [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] <span class="hljs-number"><span class="hljs-number">2</span></span>Ã—<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{Int64,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span></code> </pre> <br><p>  Create using a constructor and allocate memory without initialization (undef): </p><br><pre> <code class="hljs pgsql">julia&gt; a = <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{Int64,<span class="hljs-number"><span class="hljs-number">2</span></span>}(undef, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-number"><span class="hljs-number">2</span></span>Ã—<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{Int64,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">4783881648</span></span> <span class="hljs-number"><span class="hljs-number">4783881712</span></span> <span class="hljs-number"><span class="hljs-number">4782818640</span></span> <span class="hljs-number"><span class="hljs-number">4783881680</span></span> <span class="hljs-number"><span class="hljs-number">4783881744</span></span> <span class="hljs-number"><span class="hljs-number">4782818576</span></span></code> </pre> <br><p>  Or with initialization, if any specific value is specified instead of undef. </p><br><p>  Glue from individual speakers: </p><br><pre> <code class="hljs pgsql">julia&gt; a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] <span class="hljs-number"><span class="hljs-number">3</span></span>-element <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{Int64,<span class="hljs-number"><span class="hljs-number">1</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> julia&gt; b = hcat(a, a, a, a) <span class="hljs-number"><span class="hljs-number">3</span></span>Ã—<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{Int64,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre> <br><p>  Initialize randomly: </p><br><pre> <code class="hljs pgsql">julia&gt; x = rand(<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-number"><span class="hljs-number">2</span></span>Ã—<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{Int64,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span></code> </pre> <br><p>  The rand arguments are a range from 1 to 10 and a dimension of 2 x 3. </p><br><p>  Or use inclusion (Comprehensions) </p><br><pre> <code class="hljs matlab">julia&gt; x = [<span class="hljs-built_in"><span class="hljs-built_in">min</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">i</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">j</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-built_in"><span class="hljs-built_in">i</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">j</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span> ] <span class="hljs-number"><span class="hljs-number">3</span></span>Ã—<span class="hljs-number"><span class="hljs-number">3</span></span> Array{Int64,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre> <br><p>  Note that the fact that for Julia the columns represent a linear block of memory leads to the fact that the enumeration of elements along the column will be significantly faster than the enumeration of rows.  In particular, the following example uses a matrix of 1_000_000 rows and 100 columns. </p><br><pre> <code class="hljs pgsql">#!/usr/bin/env julia <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> BenchmarkTools x = rand(<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">1000</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>_000_000, <span class="hljs-number"><span class="hljs-number">100</span></span>) #x = rand(<span class="hljs-number"><span class="hljs-number">1</span></span>_000_000, <span class="hljs-number"><span class="hljs-number">100</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> sumbycolumns(x) sum = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span>, cols = size(x) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> j = <span class="hljs-number"><span class="hljs-number">1</span></span>:cols, i = <span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> sum += x[i, j] <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">show</span></span> @btime sumbycolumns(x) <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> sumbyrows(x) sum = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span>, cols = size(x) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">rows</span></span>, j = <span class="hljs-number"><span class="hljs-number">1</span></span>:cols sum += x[i, j] <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">show</span></span> @btime sumbyrows(x)</code> </pre> <br><p>  Results: </p><br><pre> <code class="hljs kotlin"> <span class="hljs-number"><span class="hljs-number">74.378</span></span> ms (<span class="hljs-number"><span class="hljs-number">1</span></span> allocation: <span class="hljs-number"><span class="hljs-number">16</span></span> bytes) =# <span class="hljs-meta"><span class="hljs-meta">@btime(sumbycolumns(x)</span></span>) = <span class="hljs-number"><span class="hljs-number">50053093495</span></span> <span class="hljs-number"><span class="hljs-number">206.346</span></span> ms (<span class="hljs-number"><span class="hljs-number">1</span></span> allocation: <span class="hljs-number"><span class="hljs-number">16</span></span> bytes) =# <span class="hljs-meta"><span class="hljs-meta">@btime(sumbyrows(x)</span></span>) = <span class="hljs-number"><span class="hljs-number">50053093495</span></span></code> </pre> <br><p>  The @btime in the example is the multiple launch of a function to calculate the average time it is executed.  This macro is provided by the BenchmarkTools.jl library.  The basic set of Julia has a macro <a href="https://habr.com/users/time/" class="user_link">time</a> , but it measures a one-time interval, which, in this case, will be inaccurate.  The <a href="https://habr.com/users/show/" class="user_link">show</a> macro simply displays the expression and its calculated value in the console. </p><br><p>  Optimization of storage by column is convenient for performing statistical operations with a table.  Since traditionally, the table is limited by the number of columns, and the number of rows can be any, most operations, such as calculating the average, minimum, maximum values, are performed specifically for the matrix columns, and not for their rows. </p><br><p>  A synonym for a two-dimensional array is the Matrix type.  However, this is, rather, a stylistic convenience, and not a necessity. </p><br><p>  The appeal to the elements of the matrix is â€‹â€‹performed by index.  For example, for the previously created matrix </p><br><pre> <code class="hljs pgsql">julia&gt; x = rand(<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-number"><span class="hljs-number">2</span></span>Ã—<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{Int64,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span></code> </pre> <br><p>  We can get a specific element as x [1, 2] =&gt; 10. So get the whole column, for example the second column: </p><br><pre> <code class="hljs pgsql">julia&gt; x[:, <span class="hljs-number"><span class="hljs-number">2</span></span>] <span class="hljs-number"><span class="hljs-number">2</span></span>-element <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{Int64,<span class="hljs-number"><span class="hljs-number">1</span></span>}: <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span></code> </pre> <br><p>  Or the second line: </p><br><pre> <code class="hljs pgsql">julia&gt; x[<span class="hljs-number"><span class="hljs-number">2</span></span>, :] <span class="hljs-number"><span class="hljs-number">3</span></span>-element <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{Int64,<span class="hljs-number"><span class="hljs-number">1</span></span>}: <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span></code> </pre> <br><p>  There is also a useful function selectdim, where you can set the ordinal number of the dimension for which you want to make a sample, as well as the indices of the elements of this dimension.  For example, make a selection by the 2nd dimension (columns), selecting the 1st and 3rd indices.  This approach is convenient when, depending on the conditions, it is necessary to switch between rows and columns.  However, this is also true for the multidimensional case, when the number of dimensions is more than 2. </p><br><pre> <code class="hljs pgsql">julia&gt; selectdim(x, <span class="hljs-number"><span class="hljs-number">2</span></span>, [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]) <span class="hljs-number"><span class="hljs-number">2</span></span>Ã—<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">view</span></span>(::<span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{Int64,<span class="hljs-number"><span class="hljs-number">2</span></span>}, :, [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> eltype Int64: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span></code> </pre> <br><p>  <a href="https://docs.julialang.org/en/v1.0/stdlib/Statistics">Functions for statistical processing of arrays</a> <br>  <a href="https://docs.julialang.org/en/v1.0/base/arrays/">More on one-dimensional arrays</a> <br>  <a href="https://docs.julialang.org/en/v1.0/manual/arrays/">Multidimensional arrays</a> <br>  <a href="https://docs.julialang.org/en/v1/stdlib/LinearAlgebra/index.html">Functions of linear algebra and special matrix</a> </p><br><p>  Reading a table from a file can be performed using the readdlm function implemented in the DelimitedFiles library.  Record - using writedlm.  These functions provide work with delimited files, a special case of which is the CSV format. </p><br><p>  We illustrate with an example from the documentation: </p><br><pre> <code class="hljs pgsql">julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> DelimitedFiles julia&gt; x = [<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-number"><span class="hljs-number">4</span></span>]; julia&gt; y = ["a"; "b"; "c"; "d"]; julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">open</span></span>("delim_file.txt", "w") <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> io writedlm(io, [xy]) #      <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; julia&gt; readdlm("delim_file.txt") #   <span class="hljs-number"><span class="hljs-number">4</span></span>Ã—<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{<span class="hljs-keyword"><span class="hljs-keyword">Any</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> "a" <span class="hljs-number"><span class="hljs-number">2</span></span> "b" <span class="hljs-number"><span class="hljs-number">3</span></span> "c" <span class="hljs-number"><span class="hljs-number">4</span></span> "d"</code> </pre> <br><p>  In this case, you should pay attention to the fact that the table contains data of different types.  Therefore, when reading a file, a matrix is â€‹â€‹created with the type Array {Any, 2}. <br>  Another example is reading tables containing homogeneous data. </p><br><pre> <code class="hljs pgsql">julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> DelimitedFiles julia&gt; x = [<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-number"><span class="hljs-number">4</span></span>]; julia&gt; y = [<span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-number"><span class="hljs-number">6</span></span>; <span class="hljs-number"><span class="hljs-number">7</span></span>; <span class="hljs-number"><span class="hljs-number">8</span></span>]; julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">open</span></span>("delim_file.txt", "w") <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> io writedlm(io, [xy]) #   <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; julia&gt; readdlm("delim_file.txt", Int64) #    Int64 <span class="hljs-number"><span class="hljs-number">4</span></span>Ã—<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{Int64,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> julia&gt; readdlm("delim_file.txt", Float64) #    Float64 <span class="hljs-number"><span class="hljs-number">4</span></span>Ã—<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{Float64,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">1.0</span></span> <span class="hljs-number"><span class="hljs-number">5.0</span></span> <span class="hljs-number"><span class="hljs-number">2.0</span></span> <span class="hljs-number"><span class="hljs-number">6.0</span></span> <span class="hljs-number"><span class="hljs-number">3.0</span></span> <span class="hljs-number"><span class="hljs-number">7.0</span></span> <span class="hljs-number"><span class="hljs-number">4.0</span></span> <span class="hljs-number"><span class="hljs-number">8.0</span></span></code> </pre> <br><p>  From the point of view of processing efficiency, this option is preferable, since the data will be presented compactly.  At the same time, the explicit limitation of the tables represented by the matrix is â€‹â€‹the requirement of data homogeneity. </p><br><p>  Full features of the readdlm function are recommended to look in the documentation.  Among the additional options <a href="https://docs.julialang.org/en/v1/stdlib/DelimitedFiles/index.html">, it is possible to specify the</a> mode of processing headers, line skipping, the function of processing cells, etc. </p><br><p>  An alternative way to read tables is the CSV.jl library. Compared to readdlm and writedlm, this library provides significantly more opportunities in managing the options for writing and reading, as well as checking data in delimited files.  However, the fundamental difference is that the result of performing the CSV.File function can be materialized into the DataFrame type. </p><br><h3 id="dataframes">  DataFrames </h3><br><p>  <a href="https://juliadata.github.io/DataFrames.jl/stable/man/getting_started.html">The DataFrames library</a> provides support for the DataFrame data structure, which is focused on the presentation of tables.  The principal difference from the matrix here is that each column is stored individually, and each column has its own name.  Recall that for Julia in a column-based storage mode, in general, is natural.  And, although here we have a special case of one-dimensional arrays, the optimal solution is obtained both in terms of speed and flexibility of data presentation, since the type of each column can be individual. </p><br><p>  Let's see how to create a DataFrame. </p><br><p>  Any matrix can be converted to a DataFrame. </p><br><pre> <code class="hljs pgsql">julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> DataFrames julia&gt; a = [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>; <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>] <span class="hljs-number"><span class="hljs-number">3</span></span>Ã—<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{Int64,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> julia&gt; b = convert(DataFrame, a) <span class="hljs-number"><span class="hljs-number">3</span></span>Ã—<span class="hljs-number"><span class="hljs-number">2</span></span> DataFrame â”‚ <span class="hljs-keyword"><span class="hljs-keyword">Row</span></span> â”‚ x1 â”‚ x2 â”‚ â”‚ â”‚ Int64 â”‚ Int64 â”‚ â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ <span class="hljs-number"><span class="hljs-number">1</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">1</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">2</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">2</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">3</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">4</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">3</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">5</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">6</span></span> â”‚</code> </pre> <br><p>  The convert function provides data conversion to the specified type.  Accordingly, for the DataFrame type, the methods of the convert function are defined in the DataFrames library (in Julia terminology, there are functions, and the variety of their implementations with different arguments is called methods).  It should be noted that the columns of the matrix are automatically assigned the names x1, x2.  That is, if we now request the names of the columns, we get them in the form of an array: </p><br><pre> <code class="hljs javascript">julia&gt; names(b) <span class="hljs-number"><span class="hljs-number">2</span></span>-element <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>}: :x1 :x2</code> </pre> <br><p>  And the names are presented in the Symbol type format (well known in the Ruby world). </p><br><p>  A DataFrame can be created directly - empty or containing some data at the time of construction.  For example: </p><br><pre> <code class="hljs ruby">julia&gt; df = DataFrame([collect(<span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">3</span></span>), collect(<span class="hljs-number"><span class="hljs-number">4</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">6</span></span>)], [<span class="hljs-symbol"><span class="hljs-symbol">:A</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:B</span></span>]) <span class="hljs-number"><span class="hljs-number">3</span></span>Ã—<span class="hljs-number"><span class="hljs-number">2</span></span> DataFrame â”‚ Row â”‚ A â”‚ B â”‚ â”‚ â”‚ Int64 â”‚ Int64 â”‚ â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ <span class="hljs-number"><span class="hljs-number">1</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">1</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">4</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">2</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">2</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">5</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">3</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">3</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">6</span></span> â”‚</code> </pre> <br><p>  Here we specify an array with values â€‹â€‹of columns and an array with names of these columns.  Constructions of the form of collect (1: 3) are the conversion of an iterator range from 1 to 3 into an array of values. </p><br><p>  Access to the columns is possible both by their name and by index. </p><br><p>  It is very easy to add a new column by writing some value in all existing rows.  For example, df above, we want to add a Score column.  For this we need to write: </p><br><pre> <code class="hljs pgsql">julia&gt; df[:Score] = <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span> julia&gt; df <span class="hljs-number"><span class="hljs-number">3</span></span>Ã—<span class="hljs-number"><span class="hljs-number">3</span></span> DataFrame â”‚ <span class="hljs-keyword"><span class="hljs-keyword">Row</span></span> â”‚ A â”‚ B â”‚ Score â”‚ â”‚ â”‚ Int64 â”‚ Int64 â”‚ Float64 â”‚ â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ <span class="hljs-number"><span class="hljs-number">1</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">1</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">4</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">0.0</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">2</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">2</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">5</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">0.0</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">3</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">3</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">6</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">0.0</span></span> â”‚</code> </pre> <br><p>  As in the case of simple matrices, we can glue instances of a DataFrame using vcat, hcat functions.  However, vcat can only be used with the same columns in both tables.  You can align the DataFrame, for example, using the following function: </p><br><pre> <code class="hljs matlab"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">merge_df</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(first::DataFrame, second::DataFrame)</span></span></span><span class="hljs-function">::</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DataFrame</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">if</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(first == nothing)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">return</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">second</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">else</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">names_first</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">names</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(first)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">names_second</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">names</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(second)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sub_names</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setdiff</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(names_first, names_second)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">second</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[sub_names]</span></span></span><span class="hljs-function"> = 0 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sub_names</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setdiff</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(names_second, names_first)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">first</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[sub_names]</span></span></span><span class="hljs-function"> = 0 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vcat</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(second, first)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end</span></span></span></span></code> </pre> <br><p>  The names function here gets an array of column names.  The setdiff (s1, s2) function in the example detects all s1 elements that are not included in s2.  Further, we extend DataFrame to these elements.  vcat merges two DataFrame and returns the result.  Using return in this case is not necessary, since the result of the last operation is obvious. </p><br><p>  We can check the result: </p><br><pre> <code class="hljs javascript">julia&gt; df1 = DataFrame(:<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">A</span></span></span><span class="hljs-function"> =&gt;</span></span> collect(<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>)) <span class="hljs-number"><span class="hljs-number">2</span></span>Ã—<span class="hljs-number"><span class="hljs-number">1</span></span> DataFrame â”‚ Row â”‚ A â”‚ â”‚ â”‚ Int64 â”‚ â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ <span class="hljs-number"><span class="hljs-number">1</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">1</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">2</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">2</span></span> â”‚ julia&gt; df2 = DataFrame(:<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">B</span></span></span><span class="hljs-function"> =&gt;</span></span> collect(<span class="hljs-number"><span class="hljs-number">3</span></span>:<span class="hljs-number"><span class="hljs-number">4</span></span>)) <span class="hljs-number"><span class="hljs-number">2</span></span>Ã—<span class="hljs-number"><span class="hljs-number">1</span></span> DataFrame â”‚ Row â”‚ B â”‚ â”‚ â”‚ Int64 â”‚ â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ <span class="hljs-number"><span class="hljs-number">1</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">3</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">2</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">4</span></span> â”‚ julia&gt; df3 = merge_df(df1, df2) <span class="hljs-number"><span class="hljs-number">4</span></span>Ã—<span class="hljs-number"><span class="hljs-number">2</span></span> DataFrame â”‚ Row â”‚ B â”‚ A â”‚ â”‚ â”‚ Int64 â”‚ Int64 â”‚ â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ <span class="hljs-number"><span class="hljs-number">1</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">3</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">0</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">2</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">4</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">0</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">3</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">0</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">1</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">4</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">0</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">2</span></span> â”‚</code> </pre> <br><p>  Note that in terms of the naming convention in Julia, it is not customary to use underscores, but then readability suffers.  It is also not quite good in this implementation that the original DataFrame is modified.  But, nevertheless, this example is good just to illustrate the alignment process of a plurality of columns. </p><br><p>  Gluing several DataFrames along common values â€‹â€‹in columns is possible using the join function (for example, sticking two tables with different columns by common user identifiers). </p><br><p>  DataFrame is convenient for viewing in the console.  Any output method: using the <a href="https://habr.com/users/show/" class="user_link">show</a> macro, using the println function, etc., will result in the table being printed in a readable form to the console.  If the DataFrame is too large, the starting and ending lines will be displayed.  However, you can explicitly request the head and tail with the functions head and tail, respectively. </p><br><p>  For DataFrame, data grouping and aggregation functions are available for the specified function.  There are differences in what they return.  This can be a collection with a DataFrame that matches the grouping criteria, or a single DataFrame, where the column names will be derived from the original name and the name of the aggregation function.  In essence, the split-compute-combine scheme (split-apply-combine) is implemented.  <a href="https://juliadata.github.io/DataFrames.jl/stable/man/split_apply_combine.html">See More Details</a> </p><br><p>  Let's use an example from the documentation with the examples table, available as part of the DataFrames package. </p><br><pre> <code class="hljs pgsql">julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> DataFrames, CSV, <span class="hljs-keyword"><span class="hljs-keyword">Statistics</span></span> julia&gt; iris = CSV.<span class="hljs-keyword"><span class="hljs-keyword">read</span></span>(joinpath(dirname(pathof(DataFrames)), "../test/data/iris.csv"));</code> </pre> <br><p>  Perform grouping using the groupby function.  Specify the name of the grouping column and get the result of the GroupedDataFrame type, which contains a collection of individual DataFrame collected by the values â€‹â€‹of the grouping column. </p><br><pre> <code class="hljs pgsql">julia&gt; species = groupby(iris, :Species) GroupedDataFrame <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">groups</span></span> based <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> key: :Species First <span class="hljs-keyword"><span class="hljs-keyword">Group</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> â”‚ <span class="hljs-keyword"><span class="hljs-keyword">Row</span></span> â”‚ SepalLength â”‚ SepalWidth â”‚ PetalLength â”‚ PetalWidth â”‚ Species â”‚ â”‚ â”‚ Float64 â”‚ Float64 â”‚ Float64 â”‚ Float64 â”‚ String â”‚ â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ <span class="hljs-number"><span class="hljs-number">1</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">5.1</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">3.5</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">1.4</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">0.2</span></span> â”‚ setosa â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">2</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">4.9</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">3.0</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">1.4</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">0.2</span></span> â”‚ setosa â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">3</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">4.7</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">3.2</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">1.3</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">0.2</span></span> â”‚ setosa â”‚</code> </pre> <br><p>  The result can be converted into an array using the previously mentioned collect function: </p><br><pre> <code class="hljs pgsql">julia&gt; collect(species) <span class="hljs-number"><span class="hljs-number">3</span></span>-element <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{<span class="hljs-keyword"><span class="hljs-keyword">Any</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>}: <span class="hljs-number"><span class="hljs-number">50</span></span>Ã—<span class="hljs-number"><span class="hljs-number">5</span></span> SubDataFrame{<span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{Int64,<span class="hljs-number"><span class="hljs-number">1</span></span>}} â”‚ <span class="hljs-keyword"><span class="hljs-keyword">Row</span></span> â”‚ SepalLength â”‚ SepalWidth â”‚ PetalLength â”‚ PetalWidth â”‚ Species â”‚ â”‚ â”‚ Float64 â”‚ Float64 â”‚ Float64 â”‚ Float64 â”‚ String â”‚ â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ <span class="hljs-number"><span class="hljs-number">1</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">5.1</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">3.5</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">1.4</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">0.2</span></span> â”‚ setosa â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">2</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">4.9</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">3.0</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">1.4</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">0.2</span></span> â”‚ setosa â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">3</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">4.7</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">3.2</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">1.3</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">0.2</span></span> â”‚ setosa â”‚ â€¦</code> </pre> <br><p>  Perform grouping using the by function.  Specify the column name and the processing function of the received DataFrame.  The first stage of the work by is similar to the function groupby - get a collection of DataFrame.  For each such DataFrame, we calculate the number of rows and put them in column N. The result will be glued into a single DataFrame and returned as the result of the by function. </p><br><pre> <code class="hljs pgsql">julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">by</span></span>(iris, :Species, df -&gt; DataFrame(N = size(df, <span class="hljs-number"><span class="hljs-number">1</span></span>))) <span class="hljs-number"><span class="hljs-number">3</span></span>Ã—<span class="hljs-number"><span class="hljs-number">2</span></span> DataFrame â”‚ <span class="hljs-keyword"><span class="hljs-keyword">Row</span></span> â”‚ Species â”‚ N â”‚ â”‚ â”‚ Stringâ° â”‚ Int64 â”‚ â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ <span class="hljs-number"><span class="hljs-number">1</span></span> â”‚ setosa â”‚ <span class="hljs-number"><span class="hljs-number">50</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">2</span></span> â”‚ versicolor â”‚ <span class="hljs-number"><span class="hljs-number">50</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">3</span></span> â”‚ virginica â”‚ <span class="hljs-number"><span class="hljs-number">50</span></span> â”‚</code> </pre> <br><p>  Well, the last option is the aggregate function.  Specify the column for grouping and the aggregation function for the remaining columns.  The result is a DataFrame, where the column names will be derived from the name of the source columns and the name of the aggregation function. </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">julia</span></span>&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">aggregate</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">iris</span></span>, <span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:Species</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">sum</span></span>) 3Ã—5 <span class="hljs-selector-tag"><span class="hljs-selector-tag">DataFrame</span></span> â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">Row</span></span>â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">Species</span></span> â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">SepalLength_sum</span></span>â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">SepalWidth_sum</span></span>â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">PetalLength_sum</span></span>â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">PetalWidth_sum</span></span>â”‚ â”‚ â”‚ <span class="hljs-selector-tag"><span class="hljs-selector-tag">String</span></span> â”‚ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Float64</span></span> â”‚ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Float64</span></span> â”‚ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Float64</span></span> â”‚ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Float64</span></span> â”‚ â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ 1 â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">setosa</span></span> â”‚250<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> â”‚ 171<span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span> â”‚ 73<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> â”‚ 12<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> â”‚ â”‚ 2 â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">versicolor</span></span>â”‚296<span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span> â”‚ 138<span class="hljs-selector-class"><span class="hljs-selector-class">.5</span></span> â”‚ 213<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> â”‚ 66<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> â”‚ â”‚ 3 â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">virginica</span></span> â”‚329<span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span> â”‚ 148<span class="hljs-selector-class"><span class="hljs-selector-class">.7</span></span> â”‚ 277<span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span> â”‚ 101<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> â”‚</code> </pre> <br><p>  The colwise function applies the specified function to all or only to the specified DataFrame columns. </p><br><pre> <code class="hljs pgsql">julia&gt; colwise(mean, iris[<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">4</span></span>]) <span class="hljs-number"><span class="hljs-number">4</span></span>-element <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{Float64,<span class="hljs-number"><span class="hljs-number">1</span></span>}: <span class="hljs-number"><span class="hljs-number">5.843333333333335</span></span> <span class="hljs-number"><span class="hljs-number">3.057333333333334</span></span> <span class="hljs-number"><span class="hljs-number">3.7580000000000027</span></span> <span class="hljs-number"><span class="hljs-number">1.199333333333334</span></span></code> </pre> <br><p>  A very convenient function to get a summary of the table is describe.  Usage example: </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">julia</span></span>&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">describe</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">iris</span></span>) 5Ã—8 <span class="hljs-selector-tag"><span class="hljs-selector-tag">DataFrame</span></span> â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">Row</span></span>â”‚ <span class="hljs-selector-tag"><span class="hljs-selector-tag">variable</span></span> â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">mean</span></span> â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">min</span></span> â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">median</span></span>â”‚ <span class="hljs-selector-tag"><span class="hljs-selector-tag">max</span></span> â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">nunique</span></span>â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">nmissing</span></span>â”‚ <span class="hljs-selector-tag"><span class="hljs-selector-tag">eltype</span></span> â”‚ â”‚ â”‚ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Symbol</span></span> â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">Union</span></span>â€¦ â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">Any</span></span> â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">Union</span></span>â€¦â”‚ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Any</span></span> â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">Union</span></span>â€¦ â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">Int64</span></span> â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">DataType</span></span>â”‚ â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ 1 â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">SepalLength</span></span>â”‚5<span class="hljs-selector-class"><span class="hljs-selector-class">.84333</span></span>â”‚ 4<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> â”‚ 5<span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span> â”‚ 7<span class="hljs-selector-class"><span class="hljs-selector-class">.9</span></span> â”‚ â”‚ 0 â”‚ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Float64</span></span>â”‚ â”‚ 2 â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">SepalWidth</span></span> â”‚3<span class="hljs-selector-class"><span class="hljs-selector-class">.05733</span></span>â”‚ 2<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> â”‚ 3<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> â”‚ 4<span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span> â”‚ â”‚ 0 â”‚ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Float64</span></span>â”‚ â”‚ 3 â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">PetalLength</span></span>â”‚3<span class="hljs-selector-class"><span class="hljs-selector-class">.758</span></span> â”‚ 1<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> â”‚ 4<span class="hljs-selector-class"><span class="hljs-selector-class">.35</span></span> â”‚ 6<span class="hljs-selector-class"><span class="hljs-selector-class">.9</span></span> â”‚ â”‚ 0 â”‚ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Float64</span></span>â”‚ â”‚ 4 â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">PetalWidth</span></span> â”‚1<span class="hljs-selector-class"><span class="hljs-selector-class">.19933</span></span>â”‚ 0<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> â”‚ 1<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> â”‚ 2<span class="hljs-selector-class"><span class="hljs-selector-class">.5</span></span> â”‚ â”‚ 0 â”‚ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Float64</span></span>â”‚ â”‚ 5 â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">Species</span></span> â”‚ â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">setosa</span></span>â”‚ â”‚<span class="hljs-selector-tag"><span class="hljs-selector-tag">virginica</span></span>â”‚ 3 â”‚ 0 â”‚ <span class="hljs-selector-tag"><span class="hljs-selector-tag">String</span></span> â”‚</code> </pre> <br><p>  <a href="https://juliadata.github.io/DataFrames.jl/stable/lib/functions.html">A complete list of DataFrames package features</a> . </p><br><p>  As with the Matrix case, all statistical functions available in the Statistics module can be used in the DataFrame.  See <a href="https://docs.julialang.org/en/v1/stdlib/Statistics/index.html">https://docs.julialang.org/en/v1/stdlib/Statistics/index.html</a> </p><br><p>  For the graphic mapping of the DataFrame, the library StatPlots.jl is used.  See Read more <a href="">https://github.com/JuliaPlots/StatPlots.jl</a> <br>  This library implements a set of macros that simplify visualization. </p><br><pre> <code class="hljs ruby">julia&gt; df = DataFrame(a = <span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">10</span></span>, b = <span class="hljs-number"><span class="hljs-number">10</span></span> .* rand(<span class="hljs-number"><span class="hljs-number">10</span></span>), c = <span class="hljs-number"><span class="hljs-number">10</span></span> .* rand(<span class="hljs-number"><span class="hljs-number">10</span></span>)) <span class="hljs-number"><span class="hljs-number">10</span></span>Ã—<span class="hljs-number"><span class="hljs-number">3</span></span> DataFrame â”‚ Row â”‚ a â”‚ b â”‚ c â”‚ â”‚ â”‚ Int64 â”‚ Float64 â”‚ Float64 â”‚ â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ <span class="hljs-number"><span class="hljs-number">1</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">1</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">73614</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">7.11238</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">2</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">2</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">5.5223</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">1.42414</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">3</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">3</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">3.5004</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">2.11633</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">4</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">4</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">1.34176</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">7.54208</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">5</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">5</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">8.52392</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">2.98558</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">6</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">6</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">4.47477</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">6.36836</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">7</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">7</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">8.48093</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">6.59236</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">8</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">8</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">5.3761</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">2.5127</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">9</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">9</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">3.55393</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">9.2782</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">10</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">10</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">3.50925</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">7.07576</span></span> â”‚ julia&gt; @df df plot(<span class="hljs-symbol"><span class="hljs-symbol">:a</span></span>, [<span class="hljs-symbol"><span class="hljs-symbol">:b</span></span> <span class="hljs-symbol"><span class="hljs-symbol">:c</span></span>], colour = [<span class="hljs-symbol"><span class="hljs-symbol">:red</span></span> <span class="hljs-symbol"><span class="hljs-symbol">:blue</span></span>])</code> </pre> <br><p><img src="https://habrastorage.org/webt/jx/fh/ci/jxfhci5udl54bbrdfwaadsqpc_m.png"></p><br><p>  The last line of @df is the macro, df is the name of the variable with the DataFrame. </p><br><p>  Query.jl can be a very useful library.  Using the mechanisms of macros and processing channel, Query.jl provides a specialized query language.  An example is to get a list of people over 50 and the number of children they have: </p><br><pre> <code class="hljs pgsql">julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Query, DataFrames julia&gt; df = DataFrame(<span class="hljs-type"><span class="hljs-type">name</span></span>=["John", "Sally", "Kirk"], age=[<span class="hljs-number"><span class="hljs-number">23.</span></span>, <span class="hljs-number"><span class="hljs-number">42.</span></span>, <span class="hljs-number"><span class="hljs-number">59.</span></span>], children=[<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>]) <span class="hljs-number"><span class="hljs-number">3</span></span>Ã—<span class="hljs-number"><span class="hljs-number">3</span></span> DataFrame â”‚ <span class="hljs-keyword"><span class="hljs-keyword">Row</span></span> â”‚ <span class="hljs-type"><span class="hljs-type">name</span></span> â”‚ age â”‚ children â”‚ â”‚ â”‚ String â”‚ Float64 â”‚ Int64 â”‚ â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ <span class="hljs-number"><span class="hljs-number">1</span></span> â”‚ John â”‚ <span class="hljs-number"><span class="hljs-number">23.0</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">3</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">2</span></span> â”‚ Sally â”‚ <span class="hljs-number"><span class="hljs-number">42.0</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">5</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">3</span></span> â”‚ Kirk â”‚ <span class="hljs-number"><span class="hljs-number">59.0</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">2</span></span> â”‚ julia&gt; x = @<span class="hljs-keyword"><span class="hljs-keyword">from</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> df <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">where</span></span> i.age&gt;<span class="hljs-number"><span class="hljs-number">50</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> {i.name, i.children} @collect DataFrame <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>Ã—<span class="hljs-number"><span class="hljs-number">2</span></span> DataFrame â”‚ <span class="hljs-keyword"><span class="hljs-keyword">Row</span></span> â”‚ <span class="hljs-type"><span class="hljs-type">name</span></span> â”‚ children â”‚ â”‚ â”‚ String â”‚ Int64 â”‚ â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ <span class="hljs-number"><span class="hljs-number">1</span></span> â”‚ Kirk â”‚ <span class="hljs-number"><span class="hljs-number">2</span></span> â”‚</code> </pre> <br><p>  Or a form with a channel: </p><br><pre> <code class="hljs pgsql">julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Query, DataFrames julia&gt; df = DataFrame(<span class="hljs-type"><span class="hljs-type">name</span></span>=["John", "Sally", "Kirk"], age=[<span class="hljs-number"><span class="hljs-number">23.</span></span>, <span class="hljs-number"><span class="hljs-number">42.</span></span>, <span class="hljs-number"><span class="hljs-number">59.</span></span>], children=[<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>]); julia&gt; x = df |&gt; @query(i, <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">where</span></span> i.age&gt;<span class="hljs-number"><span class="hljs-number">50</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> {i.name, i.children} <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>) |&gt; DataFrame <span class="hljs-number"><span class="hljs-number">1</span></span>Ã—<span class="hljs-number"><span class="hljs-number">2</span></span> DataFrame â”‚ <span class="hljs-keyword"><span class="hljs-keyword">Row</span></span> â”‚ <span class="hljs-type"><span class="hljs-type">name</span></span> â”‚ children â”‚ â”‚ â”‚ String â”‚ Int64 â”‚ â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ <span class="hljs-number"><span class="hljs-number">1</span></span> â”‚ Kirk â”‚ <span class="hljs-number"><span class="hljs-number">2</span></span> â”‚</code> </pre> <br><p>  <a href="http://www.queryverse.org/Query.jl/stable/gettingstarted.html">See more</a> </p><br><p>  Both examples above demonstrate the use of query languages â€‹â€‹functionally similar to dplyr or LINQ.  And these languages â€‹â€‹are not limited to Query.jl.  <a href="https://juliadata.github.io/DataFrames.jl/stable/man/querying_frameworks.html">Learn more about using these languages â€‹â€‹with DataFrames here</a> . </p><br><p>  The last example uses the "|&gt;" operator.  <a href="https://docs.julialang.org/en/v1/base/base/">See more details</a> . </p><br><p>  This operator substitutes the argument in the function that is specified to the right of it.  In other words: </p><br><pre> <code class="hljs erlang-repl">julia&gt; [<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">5</span></span>;] |&gt; x-&gt;x.^<span class="hljs-number"><span class="hljs-number">2</span></span> |&gt; sum |&gt; inv <span class="hljs-number"><span class="hljs-number">0.01818181818181818</span></span></code> </pre> <br><p>  Equivalent to: </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">julia</span></span>&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">inv</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">sum</span></span>( <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1:5;]</span></span> .^ 2 )) 0<span class="hljs-selector-class"><span class="hljs-selector-class">.01818181818181818</span></span></code> </pre> <br><p>  And the last thing I would like to note is the ability to write the DataFrame to the output format with a separator using the previously mentioned CSV.jl library </p><br><pre> <code class="hljs pgsql">julia&gt; df = DataFrame(<span class="hljs-type"><span class="hljs-type">name</span></span>=["John", "Sally", "Kirk"], age=[<span class="hljs-number"><span class="hljs-number">23.</span></span>, <span class="hljs-number"><span class="hljs-number">42.</span></span>, <span class="hljs-number"><span class="hljs-number">59.</span></span>], children=[<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>]) <span class="hljs-number"><span class="hljs-number">3</span></span>Ã—<span class="hljs-number"><span class="hljs-number">3</span></span> DataFrame â”‚ <span class="hljs-keyword"><span class="hljs-keyword">Row</span></span> â”‚ <span class="hljs-type"><span class="hljs-type">name</span></span> â”‚ age â”‚ children â”‚ â”‚ â”‚ String â”‚ Float64 â”‚ Int64 â”‚ â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ <span class="hljs-number"><span class="hljs-number">1</span></span> â”‚ John â”‚ <span class="hljs-number"><span class="hljs-number">23.0</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">3</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">2</span></span> â”‚ Sally â”‚ <span class="hljs-number"><span class="hljs-number">42.0</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">5</span></span> â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">3</span></span> â”‚ Kirk â”‚ <span class="hljs-number"><span class="hljs-number">59.0</span></span> â”‚ <span class="hljs-number"><span class="hljs-number">2</span></span> â”‚ julia&gt; CSV.<span class="hljs-keyword"><span class="hljs-keyword">write</span></span>("out.csv", df) "out.csv"</code> </pre> <br><p>  We can check the recorded result: </p><br><pre> <code class="hljs css">&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">cat</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">out</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.csv</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">name</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">age</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">children</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">John</span></span>,23<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>,3 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Sally</span></span>,42<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>,5 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Kirk</span></span>,59<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>,2</code> </pre> <br><h3 id="zaklyuchenie">  Conclusion </h3><br><p>  It is difficult to predict whether Julia will become a common programming language like R, for example, but this year it has already become the fastest growing programming language.  If only a few people knew about it last year, this year, after the release of version 1.0 and the stabilization of library functions, they started writing about it, almost surely next year it will become a language without knowing which is simply indecent in the field of Data Science.  And companies that have not begun to use Julia for data analysis will be outright dinosaurs to be replaced by more agile descendants. </p><br><p>  The Julia language is a young programming language.  Actually, after the appearance of pilot projects, it will be clear how ready Juliaâ€™s infrastructure is for real industrial use.  Julia developers are very ambitious and declare readiness right now.  In any case, the simple but strict Julia syntax makes it a very attractive programming language for learning right now.  High performance allows you to implement algorithms that are suitable not only for educational purposes, but also for real use in data analysis.  We will begin to consistently try Julia in various projects now. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/429994/">https://habr.com/ru/post/429994/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../429982/index.html">O'Reilly's London Velocity Conference: Overview and Slides</a></li>
<li><a href="../429984/index.html">Comparing scripts to collect information about subdomains</a></li>
<li><a href="../429986/index.html">Reddit promotion. How to get traffic?</a></li>
<li><a href="../429988/index.html">HighLoad ++: presentations from Avito speakers, notes, photos and impressions</a></li>
<li><a href="../429990/index.html">Improving the quality of gluing panoramas by coordinating the graph of projective transformations</a></li>
<li><a href="../429996/index.html">Network administrator in the era of clouds</a></li>
<li><a href="../429998/index.html">Scientific ways to improve attention: nootropics, neural interfaces and electrostimulation</a></li>
<li><a href="../430000/index.html">The last of the Mohicans. The oldest CEO in the Fortune 500 puts everything on the fall of smartphones</a></li>
<li><a href="../430002/index.html">Red Hat Enterprise Linux 8 Beta - at the same time with the world</a></li>
<li><a href="../430004/index.html">Uncertified GPS tracker from China. Is it legal in Russia?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>