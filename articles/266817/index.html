<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Kotlin and its almost language constructs</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Most likely, from Java developers, and especially Android developers, many already know about Kotlin . If not, it's never too late to find out. Especi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Kotlin and its almost language constructs</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/849/8e7/677/8498e76773a841a1b14e97b3b206887c.png" align="left">  Most likely, from Java developers, and especially Android developers, many already know about <a href="http://kotlinlang.org/">Kotlin</a> .  If not, it's never too late to find out.  Especially if Java does not suit you with something like a language - which is probably true - or if you own Scala, but this language does not suit you, which is also not excluded. <br><br>  In short, Kotlin is a statically typed language that focuses on JVM, Android (compiles into Java bytecode) and web (compiles into JavaScript).  JetBrains, the developer of the language, set as its goal a concise and clear syntax, fast code compilation and type safety.  The language is still in a pre-release state, but everything is rapidly moving towards release. <br><br>  By the way, after Java, ‚Äúretraining‚Äù to Kotlin is easy, this will help both understandable (subjectively) syntax and full compatibility with Java code in both directions, which allows the Java programmer to use the entire familiar set of libraries. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Another goal of language developers was the possibility of its flexible use, including for creating libraries that are similar in appearance to <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25B5%25D0%25B4%25D0%25BC%25D0%25B5%25D1%2582%25D0%25BD%25D0%25BE-%25D0%25BE%25D1%2580%25D0%25B8%25D0%25B5%25D0%25BD%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25BD%25D1%258B%25D0%25B9_%25D1%258F%25D0%25B7%25D1%258B%25D0%25BA">DSL</a> , and their own constructions (a good <a href="http://kotlinlang.org/docs/reference/type-safe-builders.html">example of a</a> type-safe builder for HTML; <a href="http://habrahabr.ru/post/168571/">an article</a> about the implementation of yield).  Kotlin has several features that allow you to solve these problems efficiently and beautifully.  Let's get to know them. <br><a name="habracut"></a><br><h3>  Extensions </h3><br>  In Kotlin, it is possible to complement the functionality of an arbitrary class, without inheriting from it, with functions (and properties) of the extension.  The same possibility is, for example, in C #.  It is worth noting that the behavior of extension functions differs from member functions: calls to extension functions are resolved statically, according to the declared type, and not virtually. <br><br>  Example: <br><br><pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> String.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">words</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: List&lt;String&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.split(<span class="hljs-string"><span class="hljs-string">"\\W"</span></span>.toRegex()) } <span class="hljs-comment"><span class="hljs-comment">//  ,    return statement fun &lt;T&gt; List&lt;T&gt;.rotate(n: Int): List&lt;T&gt; = drop(n) + take(n) val str = "a quick brown fox jumps over the lazy dog" val words = s.words() val yoda = words.rotate(5) println(yoda.joinToString(" ") // over the lazy dog a quick brown fox jumps</span></span></code> </pre> <br>  toRegex (), drop (n), take (n) and joinToString ("") in the example are also extension functions. <br><br><h3>  Alternative syntax for function calls </h3><br>  1. An instance function or extension function that has only one argument can be called in infix form: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">val</span></span> squares = (<span class="hljs-number"><span class="hljs-number">1</span></span>..<span class="hljs-number"><span class="hljs-number">100</span></span>) map { <span class="hljs-attribute"><span class="hljs-attribute">i</span></span> -&gt; i * i } // (<span class="hljs-number"><span class="hljs-number">1</span></span>..<span class="hljs-number"><span class="hljs-number">100</span></span>).map({<span class="hljs-attribute"><span class="hljs-attribute">i</span></span> -&gt; i * i }) val multOfThree = squares filter { <span class="hljs-attribute"><span class="hljs-attribute">it</span></span> % <span class="hljs-number"><span class="hljs-number">3</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span> } //it    -      </code> </pre><br>  2. If the last argument of the function has a functional type, then when calling a function, you can write the corresponding lambda expression in parentheses, simply in curly ones: <br><br><pre> <code class="hljs sql">val list = arrayListOf(1, 2, 3) <span class="hljs-keyword"><span class="hljs-keyword">with</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(<span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(<span class="hljs-number"><span class="hljs-number">6</span></span>) removeIf { it % <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span> } } // <span class="hljs-keyword"><span class="hljs-keyword">with</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>, { ... })</code> </pre><br><h3>  Inline functions </h3><br>  Kotlin has an <code>@inline</code> annotation that can be used to tag a function.  After that, at compilation, the code of this function and its functional arguments will be substituted into the call sites.  On the one hand, this gives some new opportunities (non-local return, reified generics), on the other hand, there is a restriction that the functional arguments of the inline-function in its body can only be called or passed to other inline-functions.  The main effect of <code>@inline</code> is on performance: fewer function calls occur and, importantly, no anonymous classes and their objects are created for each lambda expression. <br><br>  Most of the extension functions from the standard library like the same <code>map</code> and <code>filter</code> . <br><br>  A small example: <br><br><pre> <code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@inline</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">&lt;T&gt;</span></span></span><span class="hljs-function"> Iterable</span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">&lt;T&gt;</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">withEach</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(action: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span><span class="hljs-function"><span class="hljs-params">.()</span></span></span></span> -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span>) = forEach { it.action() } <span class="hljs-comment"><span class="hljs-comment">//  : var i = 0 val lists = (0..5) map { ArrayList&lt;Int&gt;() } lists.withEach { add(++i) }</span></span></code> </pre><br>  Despite the fact that this code is replete with lambda expressions, no anonymous class will be created for them, and <code>i</code> will not even get into closure.  Just a holiday! <br><br><h2>  Let's try? </h2><br>  Let's see what we can do with all this arsenal - suppose that we want to make such a <s>rather useless</s> construction: <br><br><pre> <code class="hljs scala"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> a = someInt() <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> b = someList() <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> c = (a % b.size()) butIf (it &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { it + b.size() } <span class="hljs-comment"><span class="hljs-comment">// (a % b.size()) let { if (it &lt; 0) it + b.size() else it }</span></span></code> </pre><br>  Unfortunately, this is not possible, but we will try to do something similar. <br><br><h4>  First attempt: function with two functional arguments </h4><br><pre> <code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">&lt;T&gt;</span></span></span><span class="hljs-function"> T.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">butIf</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(condition: (</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span>, thenFunction: (T) -&gt; T): T { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (condition(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> thenFunction(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> }</code> </pre><br>  This is how it can be used: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">val</span></span> c = (a % b.size()).butIf({<span class="hljs-attribute"><span class="hljs-attribute">it</span></span> &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>}) {<span class="hljs-attribute"><span class="hljs-attribute">it</span></span> + b.size()}</code> </pre><br>  If you add inline here, it should turn out quite effectively.  Later we'll see how much, for now let's try to achieve a more beautiful syntax for this construct. <br><br><h4>  Second attempt: beautiful syntax </h4><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_ButIfPrefix</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">T</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">constructor</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> originalValue: T) { <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">then</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(thenFunction: (</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> -&gt; T): T <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> trueBranch : _ButIfPrefix&lt;Any?&gt;(<span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">then</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(thenFunction: (</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Any</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> -&gt; Any?) = thenFunction(originalValue) } <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> falseBranch : _ButIfPrefix&lt;Any?&gt;(<span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">then</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(thenFunction: (</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Any</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> -&gt; Any?) = originalValue } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">&lt;T&gt;</span></span></span><span class="hljs-function"> T.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">butIf</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(condition: (</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span>): _ButIfPrefix&lt;T&gt; { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> result = (<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (condition(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)) _ButIfPrefix.trueBranch <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> _ButIfPrefix.falseBranch) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> _ButIfPrefix&lt;T&gt; result.originalValue = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result }</code> </pre><br>  This option is not designed for multithreading!  To use it in multiple threads, you will need to wrap the instances in ThreadLocal, which will further degrade performance. <br><br>  There will be a chain of two infix calls, the first is the extension function on the object itself, the second is the function of the <code>_ButIfPrefix</code> instance.  Usage example: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">val</span></span> c = (a % b.size()) butIf { <span class="hljs-attribute"><span class="hljs-attribute">it</span></span> &lt; <span class="hljs-number"><span class="hljs-number">0</span></span> } then { <span class="hljs-attribute"><span class="hljs-attribute">it</span></span> + b.size() }</code> </pre><br><h4>  Third attempt: currying </h4><br>  Let's try this: <br><br><pre> <code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">&lt;T&gt;</span></span></span><span class="hljs-function"> T.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">butIf0</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(condition: (</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span>): ((T) -&gt; T) -&gt; T { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-symbol"><span class="hljs-symbol">inner@</span></span> { thenFunction -&gt; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span><span class="hljs-symbol"><span class="hljs-symbol">@inner</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (condition(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)) thenFunction(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> } }</code> </pre><br>  Using: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">val</span></span> c = (a % b.size()).butIf { <span class="hljs-attribute"><span class="hljs-attribute">it</span></span> &lt; <span class="hljs-number"><span class="hljs-number">0</span></span> } ({ <span class="hljs-attribute"><span class="hljs-attribute">it</span></span> + b.size() })</code> </pre><br>  Compared with the first attempt, the arrangement of brackets in the call has changed.  :) <br>  Given the inline, we can expect that this option will work just like the first. <br>  You can check this by looking at the bytecode: IntelliJ IDEA has a utility that shows the bytecode, which compiles the code on Kotlin, on the fly, and you can even see how the bytecode will be different with and without <code>@inline</code> . <br><br><h2>  Performance </h2><br>  Let's now see what will happen to the performance of our design in different versions. <br><br>  We will test with this example: <br><br><pre> <code class="hljs pgsql">val range = <span class="hljs-number"><span class="hljs-number">-20000000.</span></span><span class="hljs-number"><span class="hljs-number">.20000000</span></span> val list = ArrayList&lt;<span class="hljs-type"><span class="hljs-type">Int</span></span>&gt;() //warm-up <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range) { list <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> i % <span class="hljs-number"><span class="hljs-number">2</span></span> } list.clear() val timeBefore = <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.currentTimeMillis() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range) { val z = (i % <span class="hljs-number"><span class="hljs-number">2</span></span>) butIf { it &lt; <span class="hljs-number"><span class="hljs-number">0</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> { it + <span class="hljs-number"><span class="hljs-number">2</span></span> } //  list <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> z } println("${System.currentTimeMillis() - timeBefore} ms")</code> </pre><br>  Back we add to the comparison such code, which will be the benchmark of performance: <br><br><pre> <code class="hljs scala">... <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> d = it % <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> z = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (d &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) d + <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> d ...</code> </pre><br>  According to the results of a fifty-four launch followed by averaging time, the following table was obtained: <br><br><table><tbody><tr><th>  Implementation </th><th>  Without inline </th><th>  C inline </th></tr><tr><td>  Reference </td><td colspan="2">  319 ms </td></tr><tr><td>  I try </td><td>  406 ms </td><td>  348 ms </td></tr><tr><td>  II attempt </td><td>  610 ms </td><td>  520 ms </td></tr><tr><td>  II attempt with ThreadLocal </td><td>  920 ms </td><td>  876 ms </td></tr><tr><td>  III attempt </td><td>  413 ms </td><td>  399 ms </td></tr></tbody></table><br>  As you can see, the performance of the simpler first and third options is quite close to the standard, in some cases, the readability of the code can be ‚Äúbought‚Äù for such an increase in operating time.  The version with a more beautiful syntax is more complex and works accordingly longer, but if you want constructions quite similar to DSL, then it is quite applicable. <br><br><h3>  Total </h3><br>  Kotlin provides really flexible ways to ‚Äúcustomize‚Äù a language, but sometimes you will have to pay for it with performance.  The <code>@inline</code> can help improve the situation if there are first-order functions in your code.  In any case, I think you will have good use cases for all this. <br><br>  Good luck! </div><p>Source: <a href="https://habr.com/ru/post/266817/">https://habr.com/ru/post/266817/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../266805/index.html">King's Bounty III: Advanced remake of the original game under DOS in Javascript / HTML5</a></li>
<li><a href="../266807/index.html">Asterisk and Truecaller. Determining the name of an unknown caller for incoming calls</a></li>
<li><a href="../266809/index.html">Easy to use wrapper over LoadLibrary () and GetProcAddress ()</a></li>
<li><a href="../266811/index.html">How a relational database works</a></li>
<li><a href="../266813/index.html">Why we are engaged in translation of the book from English on the GitHub platform</a></li>
<li><a href="../266821/index.html">Java Programmer Cheat Sheet 2: Three hundred and fifty of the most popular non-mobile Java opensource projects on github</a></li>
<li><a href="../266823/index.html">At the junction of ERP and ECM: how we automated the logistics process</a></li>
<li><a href="../266827/index.html">New Russian K-Meleon 75 for Real Pro</a></li>
<li><a href="../266829/index.html">Paradigm of situationally oriented programming</a></li>
<li><a href="../266831/index.html">PE (Portable Executable): On Stranger Tides</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>