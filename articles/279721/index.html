<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Setting up email notification templates in 3CX Phone System</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 Surely you know that 3CX notifies users and administrators about various events in the system using a wide range of e-mail messages. In...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Setting up email notification templates in 3CX Phone System</h1><div class="post__text post__text-html js-mediator-article"><h2>  Introduction </h2><br>  Surely you know that 3CX notifies users and administrators about various events in the system using a wide range of e-mail messages.  In the 14th version of the system a separate section appeared to configure these notifications.  Now the system administrator can customize each message in accordance with the requirements of the organization in the Options section - E-mail. <br><br>  The <strong>E-mail and Notifications</strong> tab lists all events that may be of interest to the 3CX administrator.  Here you can also specify one or several e-mail addresses (separated by commas) to which notifications will be sent. <br><br> <a href=""><img title="image" src="https://habrastorage.org/getpro/habr/post_images/ebc/d9d/03a/ebcd9d03a46096ec5c34125438d0860d.png" alt="image" width="646" height="531"></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The messages themselves are pre-installed in the system in English.  It makes sense for Russian-speaking users of 3CX Phone System to translate at least basic messages into Russian.  However, the question arises with the definition of the variables used in these notifications.  In this article we will explain the values ‚Äã‚Äãof all system variables used in e-mail notifications. <br><br> <a href=""><img title="image" src="https://habrastorage.org/getpro/habr/post_images/fda/747/a99/fda747a99a14ad7ad5bcf0c7bd7c6fc9.png" alt="image" width="616" height="267"></a> <a name="habracut"></a><br><br><h2>  Variables in email notification templates </h2><br><br><h3>  Anti Hacking IP blacklisted - the IP address is blocked by the proactive protection module (anti-hacking) </h3><br>  %% IPADDRESS %% IP address that was blocked <br><br>  %% TIME %% Time in seconds for which it was locked <br><br><h3>  Call to blocked country - Call to a prohibited country </h3><br>  %% CALLTO %% Call to number <br><br>  %% CALLFROM %% Call from number <br><br>  %% CALLPREFIX %% Number Prefix <br><br><h3>  Conference email - Invitation letter to the conference </h3><br>  %% CONFERENCENAME %% Conference Name <br><br>  %% EXTERNALNUMBER %% External Conference Number <br><br>  %% CONFERENCEID %% PIN for conference ID <br><br>  %% CONFERENCEDESC %% Conference Description <br><br>  %% INTERNALNUMBER %% Internal Conference Number <br><br>  %% STARTTIME %% Conference start time <br><br><h3>  DNS Failure - DNS Server Error / Network Failure </h3><br>  %% PRODUCTION %% Registration Server Name <br><br>  %% DESTINATION %% Call Direction <br><br><h3>  Emergency call - The emergency number is dialed. </h3><br>  %% EMERGENCYNUMBER %% Emergency Number <br><br>  %% CALLFROM %% Call from number <br><br><h3>  Ext.  Agent Welcome - Invitation letter to an external operator </h3><br>  %% MOBILENUMBER %% Mobile number of external operator <br><br><h3>  Extension Login / Logout - Login / Logout to the 3CX Management Console </h3><br>  %% EXTNUMBER %% User Extension <br><br>  %% EXTFIRSTNAME %% Username <br><br>  %% EXTLASTNAME %% User Name <br><br>  %% USERIP %% IP address of the user <br><br>  %% LICENSECONTACT %% The system is registered in the name <br><br>  %% LICENSEEMAIL %% The system is registered by e-mail <br><br><h3>  Extension Welcome - Invitation letter to a new user. </h3><br>  %% EXTNUMBER %% User Extension <br><br>  %% EXTFIRSTNAME %% Username <br><br>  %% EXTLASTNAME %% User Name <br><br>  %% EXTPIN %% PIN of the extension <br><br>  %% VMNUMBER %% Voicemail number <br><br>  %% WEBRTCLINK %% WebRTC user link <br><br>  %% IFWEBRTCENABLED_START %% The beginning of the text block that is inserted if the WebRTC link is enabled for the user <br><br>  %% IFWEBRTCENABLED_END %% End of the text block that is inserted if the WebRTC link is enabled for the user <br><br><h3>  Fax - New fax message </h3><br>  %% STARTTIME %% Date and time to start receiving a fax <br><br>  %% STOPTIME %% Date and time of the fax reception <br><br>  %% IMGFILE %% Fax image file name (.tif) <br><br>  %% PDFFILE %% File name of the converted fax (full path to the pdf file) <br><br>  %% PAGES %% Number of pages in fax <br><br>  %% FAX_ID %% ID fax <br><br>  %% CALLER_ID %% Caller ID <br><br>  %% CALLEE_ID %% Recipient number <br><br><h3>  IP blacklisted - IP address blocked </h3><br>  %% IPADDRESS %% IP address that was blocked <br><br>  %% TIME %% Time in seconds for which it was locked <br><br>  %% EXPIREDATE %% Blocked until date <br><br>  %% REASONBLACKLISTED %% Reason for blocking IP addresses <br><br><h3>  License limit reached - The maximum number of calls for this license has been reached. </h3><br>  %% ACTIVECALLS %% Number of simultaneous calls <br><br><h3>  New missed call - New missed call </h3><br>  %% EXTNUMBER %% The extension of the user who missed the call <br><br>  %% EXTFIRSTNAME %% Username <br><br>  %% EXTLASTNAME %% User Name <br><br>  %% PARTYCALLERID %% Caller Caller ID <br><br>  %% PARTYNAME %% Caller Name <br><br>  %% START_TIME %% Call Start Time <br><br>  %% END_TIME %% Call Completion Time <br><br>  %% RING_TIME %% Dial Time <br><br> <a href=""><img title="image" src="https://habrastorage.org/getpro/habr/post_images/e0a/ed8/48c/e0aed848cb745ed9d39d590b64491b78.png" alt="image" width="489" height="556"></a> <br><br><h3>  Queue: call is lost - Queue: Lost Call </h3><br>  %% QUEUENUMBER %% Queue number <br><br>  %% QUEUENAME %% Queue Name <br><br>  %% CALLER %% Caller ID Caller <br><br><h3>  Queue: callback is made - Queue: callback made </h3><br>  %% TOCALLER %% Number to which the callback is requested <br><br>  %% QUEUENUMBER %% Queue number <br><br>  %% QUEUENAME %% Queue Name <br><br>  %% CALLER %% Caller ID Caller <br><br><h3>  Queue: Failed callback - Queue: unsuccessful callback </h3><br>  %% TOCALLER %% Number to which the callback is requested <br><br>  %% QUEUENUMBER %% Queue number <br><br>  %% QUEUENAME %% Queue Name <br><br>  %% CALLER %% Caller ID Caller <br><br><h3>  Queue: SLA is reached - Queue: Service delivery time exceeded (SLA violation) </h3><br>  %% CALLER %% Caller ID for which the wait time has been exceeded <br><br>  %% QUEUENUMBER %% Queue number <br><br>  %% QUEUENAME %% Queue Name <br><br>  %% TOTALNUMBERCALLERS %% Total number of subscribers in the queue at the time of violation <br><br>  %% CALLSINSERVICE %% Number of calls that were served by operators at the time of the violation <br><br>  %% CALLSWAITING %% Number of calls that were expected at the time of the violation <br><br>  %% WAITINGTIME %% Actual subscriber waiting time (which turned out to be more than SLA) <br><br>  %% INTERNALCALLID %% Internal call ID <br><br><h3>  Recordings folder quota reached - The quota for the folder with call recordings has been reached. </h3><br>  %% CURRENTSIZE %% Current folder size (in bytes / kb / Mb / Gb) <br><br>  %% QUOTASIZE %% Quota size (in bytes / kb / Mb / Gb) <br><br>  %% CURRENTSIZE_PERCENT %% Current use of quota in percent <br><br>  %% QUOTA_PERCENT %% Use of quota as a percentage, after which an e-mail notification is sent <br><br>  %% FOLDER %% Path to the Conversation Records folder <br><br><h3>  Registration status - The registration status of the extension has changed. </h3><br>  %% EXTENSIONNUMBER %% Extension <br><br>  %% STATUS %% New extension status <br><br>  %% SIPREGISTRATION %% SIP Registration Options <br><br><h3>  Reports template - Call Report Template </h3><br>  %% REPORT_NAME %% Report name (for example, Call Log, Extension Statistics, etc.) <br><br>  %% FREQUENCY %% Report generation frequency (daily, weekly) <br><br>  %% REPORT_URL %% Link to report file <br><br>  %% REPORT_LIMIT_REACHED_START %% The beginning of a text block that is inserted when the report size limit is reached. <br><br>  %% REPORT_LIMIT_REACHED_END %% The end of the text block that is inserted when the report size limit is reached. <br><br><h3>  Restore Complete - System Restore Complete </h3><br>  %% RESTORE_STATUS %% Recovery Status (successful, unsuccessful) <br><br>  %% IF_ERROR_SHOW %% Beginning of the text block that is inserted if an error occurs <br><br>  %% IF_ERROR_END %% End of the text block that is inserted if an error occurs <br><br>  %% SHORT_ERROR_DESCRIPTION %% Brief description of the problem <br><br>  %% DATETIME_START %% Date and time of the start of recovery <br><br>  %% DATETIME_FINISH %% Date and time of the completion of the recovery <br><br>  %% BACKUP_FILE %% Backup file that was restored <br><br>  %% MANAGEMENTCONSOLE_LINK %% Link to the input to the 3CX control interface <br><br><h3>  STUN Resolution fails - Server STUN Error </h3><br>  %% STUNSERVER %% STUN server <br><br>  %% PORT %% Server port number <br><br>  %% REASON %% Cause of failure <br><br><h3>  Trunk Error - Trunk / Operator has responded to the request with an error code </h3><br>  %% CALLTO %% Call to number <br><br>  %% CALLFROM %% Call from number <br><br>  %% REPLY %% Error in response <br><br><h3>  Trunk failover - Emergency trunk switching </h3><br>  %% DEVICE %% The device through which the call was to pass <br><br>  %% CALL %% Number to which the call was made <br><br><h3>  Trunk status - Changed the status of a VoIP trunk </h3><br>  %% TRUNKNUMBER %% Trunk Number <br><br>  %% STATUS %% New trunk status <br><br> <a href=""><img title="image" src="https://habrastorage.org/getpro/habr/post_images/483/a98/e2d/483a98e2d14d8f4996a5585abb045433.png" alt="image" width="686" height="404"></a> <br><br><h3>  VoiceMail - Voice Mail Notification </h3><br>  %% CALLER %% Caller ID Caller <br><br>  %% CALLERNAME %% Caller Name <br><br>  %% EXTNUMBER %% The extension number of the user who received voicemail <br><br>  %% EXTFIRSTNAME %% Username <br><br>  %% EXTLASTNAME %% User Name <br><br>  %% DURATION %% Duration of the message in the format hh: mm: ss <br><br>  %% FILENAME %% Name of the audio file in the user's voicebox folder <br><br>  %% DATETIME %% Received at (date and time in short system format) <br><br>  %% DATE %% Received on (date in short system format) <br><br>  %% DATETIME: [...] %% Received at (date and time in custom format).  A detailed description of the possible formats is contained in the documentation for .NET. <br><br> <a href=""><img title="image" src="https://habrastorage.org/getpro/habr/post_images/5fb/46b/124/5fb46b12452a607bcbb7d935552102ac.png" alt="image" width="507" height="299"></a> <br><br><h3>  Voicemail folder quota reached - The quota for the size of the folder with voicemail entries has been reached. </h3><br>  %% CURRENTSIZE %% Current folder size (in bytes / kb / Mb / Gb) <br><br>  %% QUOTASIZE %% Quota size (in bytes / kb / Mb / Gb) <br><br>  %% CURRENTSIZE_PERCENT %% Current use of quota in percent <br><br>  %% QUOTA_PERCENT %% Use of quota in percent, after which an e-mail notification is sent <br><br>  %% FOLDER %% Voicemail File Folder Path <br><br><h2>  Conclusion </h2><br>  We have tried to collect all known system variables found in the 3CX e-mail templates.  We hope that the information provided will help you not only to create notifications that are understandable to users, but also to use them in various automated processes.  For example, information from an e-mail about a missed call can create a reminder task for a user in a CRM system, etc. <br><br><h2>  Additional Information </h2><br><ul><li>  <a href="http://www.3cx.com/support/phone-provisioning-variables/">Variables in phone autotuning patterns</a> </li><li>  <a href="http://www.3cx.ru/docs/extension-management/">Internal number management</a> </li><li>  <a href="http://www.3cx.ru/docs/trunk-management/">Trunk Management</a> </li><li>  <a href="http://www.3cx.ru/docs/fax-server/">Fax server</a> </li><li>  <a href="http://www.3cx.ru/docs/call-reporting/">Reports</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/279721/">https://habr.com/ru/post/279721/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../279709/index.html">The digest of interesting materials from the world of web development and IT for the last week ‚Ññ203 (March 14 - 20, 2016)</a></li>
<li><a href="../279711/index.html">Access problem and interesting Windows registry key</a></li>
<li><a href="../279713/index.html">Professionalism and TDD</a></li>
<li><a href="../279715/index.html">Joining Reactive Programming that you missed</a></li>
<li><a href="../279717/index.html">Express analysis of malicious files for educational purposes</a></li>
<li><a href="../279723/index.html">"Favorite smartphone chemist technologist" or the unification of the desktop of your gadget</a></li>
<li><a href="../279725/index.html">The evolution of SDN: the way to a great programmable future</a></li>
<li><a href="../279727/index.html">ActiveResource, prefix and nested resources</a></li>
<li><a href="../279729/index.html">Deep Reinforcement Learning (or what you bought DeepMind for)</a></li>
<li><a href="../279731/index.html">Qt 5.6 framework release</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>