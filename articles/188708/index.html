<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>JavaScript tracing, debugging, profiling - filling gaps</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For years, I used Chrome DevTools, Firebug, and even Opera Dragonfly to debug, trace, and profile my JavaScript code. I note that I used these great t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>JavaScript tracing, debugging, profiling - filling gaps</h1><div class="post__text post__text-html js-mediator-article">  For years, I used Chrome DevTools, Firebug, and even Opera Dragonfly to debug, trace, and profile my JavaScript code.  I note that I used these great tools not only to work with JavaScript, but also to track network events, debug CSS, work with the DOM. <br><br>  However, sometimes I ended up in certain zones of alienation, in which the above tools could not help me for certain reasons, but I would like to. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/806/cf0/0a9/806cf00a97c3722272e2d8412b7c78e3.png" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br>  So it turns out that I often look through JavaScript code with which I am not very familiar, if I am at all familiar.  For example, I simply study third-party code for general development, trying to understand how some jQuery extension works that does not want to work as I expected, correct bugs, familiarize myself with the MVC code of the framework that I want to understand better, review the code of my project colleagues, sometimes even my own code, which forgot how it works (I hope not the only one).  It so happens that even finding a place from which its fascinating journey into this code (broken into many files, minified in some places, often tangled) turns out to be a puzzle. <br><br>  After a cursory examination and the realization that the humble contemplation of the kilobyte source is not particularly productive, I run the code.  Inspired by putting a breakpoint in some familiar place, I lose my temper a bit when I once again get into the debugger in the minified jQuery (and who doesn‚Äôt lose heart?), I get annoyed when I once again step in the debugger through the necessary piece of code, I frantically jump over cycles to I‚Äôm not stuck there for a thousand iterations, holding my breath, putting conditional breakpoints, apathetically pressing F11 again and again in fear of missing something important.  Sounds familiar? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/285/e79/059/285e79059f9794c8c65647733f831e42.png" alt="image"><br><br>  In certain cases, the console also comes to the rescue, but everyone probably remembers that ‚Äúmagical‚Äù feeling when you forget to delete console.log (or, God forgive me, alert) before the commit.  Fortunately, jshint comes to the rescue of some people here, which unobtrusively reminds.  It can be worse, you think that the console comes to the rescue, but you get the soulless ‚Äúconsole is undefined‚Äù.  If you have not had this, then you are either lucky or new. <br><br>  What about <a href="http://ru.wikipedia.org/wiki/%25D0%2593%25D0%25B5%25D0%25B9%25D0%25B7%25D0%25B5%25D0%25BD%25D0%25B1%25D0%25B0%25D0%25B3">crazy Heisenbag</a> ?  The bug is running, F12 is pressed, the breakpoints are set with unmistakable accuracy and cold calculation by a professional hunter, the steps described are completed, and the bug, like it never was? <br><br>  I do not even want to start a sad song about errors reproduced only in certain browsers / devices / platforms where there is no saving DevTools.  No, sometimes (though not always) alternatives are available, often no longer supported, heavyweight, difficult to install and use, and not having exactly the functionality you need.  Yes old versions of IE, I am looking <a href="http://stackoverflow.com/questions/782689/debug-javascript-within-ie6">at</a> <a href="http://stackoverflow.com/questions/361635/debugging-javascript-in-ie7">you</a> .  In fairness, despite the fact that the witch hunt is always fun, not only the old versions of IE are sinful.  Creating an environment for debugging on mobile devices is no less sad (specific platform requirements, simulators, additional software, SDK, device configuration, etc.) - <a href="https://developers.google.com/chrome-developer-tools/docs/remote-debugging">Androind</a> , <a href="http://stackoverflow.com/questions/7242997/is-there-a-way-to-debug-the-iphone-browser">iPnone</a> . <br><br>  Finally, performance profiling.  With the help of the excellent <a href="http://jsperf.com/">JsPerf</a> service, <a href="http://jsperf.com/">it is</a> possible to view other people‚Äôs browsers for different browsers or to drive your optimization ideas, this is when there are ideas.  <a href="https://developers.google.com/chrome-developer-tools/docs/cpu-profiling">Chrome DevTools</a> and <a href="http://getfirebug.com/wiki/index.php/Profiler">Firebug</a> have built-in profilers that take exact numbers from the V8 and SpiderMonkey engines, respectively, but I have never been comfortable using the interface, where these numbers are presented, did not like the fact that you need to turn on profiling all the time and you can‚Äôt just turn it on once and to always have it turned on by default, the insertion of console.profile / console.time into the code (and especially forgetting to remove them) also was never fun. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/efe/1b5/f06/efe1b5f06e159efd4e4ef05eed2ee119.png" alt="image"><br><br>  Considering the above, once I got the idea - it would be nice to have a tool that solves at least some of the aforementioned problems and: <br><ul><li>  allows you to see what events are happening in the code right now, open the call tree and the highlighted code execution path </li><li>  allows you to filter scripts and events and monitor only what I am interested in at the moment </li><li>  allows you to execute certain scripts in the application and then analyze what happened, including access to the data at the time of execution </li><li>  allows you to trace, debug, profile code in any browser / device / platform </li><li>  allows you to quickly, conveniently and constantly see the performance of functions, immediately see what can be lost from the recently added one, speeding up to support decision-making on what exactly you can try to optimize </li><li>  allows you to see highlighted let the execution of a specific script </li><li>  allows you to study unfamiliar code, analyzing the process of its implementation </li></ul><br><br>  If the above problems and suggestions for solving them are not close to you, then you probably don‚Äôt need to read further, as there will be what can be called advertising (albeit free at the moment) product. <br><br>  I am glad if I have not lost you after the advertising disclaimer.  As with most of my colleagues, I‚Äôve imposed an old programmer spell <b>‚Äúwriting a tool in a short list,‚Äù</b> therefore, please welcome spy-js, a new JavaScript tool designed to fill in the gaps of existing tools, look at debugging, profiling, tracing with another corner.  The project is in beta stage, but the beta version already knows how most of the wish list sounded above.  The general direction of development is not to replace the capabilities of existing DevTools / Firebug, but to provide an alternative solution to the problems and fill in the possible gaps of these tools. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/63e/708/95a/63e70895a626b20602b36e7cfe0fd1f4.png" alt="image"><br><br>  Spontaneously obeying following the <a href="http://www.codinghorror.com/blog/2009/08/all-programming-is-web-programming.html">Atwood</a> law, that everything that can be written in JavaScript will be written on it, spy-js is mainly written in the language for which it is written (ek, wrapped). <br><br>  Architecturally, spy-js is a <a href="http://nodejs.org/">nodejs</a> web application and browser client.  How it works: the browser in which the page with the scripts to be traced will be loaded is configured to use a proxy server (nodejs web application).  The web application proxies the requests and, if the requested resource is a JavaScript file, modifies it before sending it back to the browser.  Modifying a file is an insertion of <a href="http://en.wikipedia.org/wiki/Instrumentation_(computer_programming)">instructional instructions</a> .  When the modified code is executed in the browser, information about its execution is sent back to the server, which after processing becomes available in the spy-js user interface, where you can watch the events occurring in almost real time. <br><br>  The project would never have been completed without the use of wonderful open source projects, such as: nodejs, esprima, express, grunt, socket.io, jQuery, knockout.js, underscore, ace, bootstrap.  Not all projects used are listed. <br><br>  The free beta version of spy-js is currently available for download at <a href="http://spy-js.com/">http://spy-js.com</a> .  The source code of the project itself is not open.  Documentation, configuration examples, the ability to start bugs, ask questions, and so on, are currently done using the open github repository.  Questions can also be asked on stack overflow with the spy-js tag. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/126/0bd/72d/1260bd72d5181065c88e465198a8f9bf.png" alt="image"><br><br>  At this stage, my financial investments in the project are not so great, I work on it most of my free time.  My plan is to continue developing to the stage when / if I can offer paid licenses and invest more time / support / finance into the product with the help of feedback from those who find the tool useful. <br><br>  I am sincerely grateful for any support, suggestions, feedback, dissemination of information about the project.  It really inspires and helps me do what I do.  I hope with your help I can contribute to the development of JavaScript toolkit. </div><p>Source: <a href="https://habr.com/ru/post/188708/">https://habr.com/ru/post/188708/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../188696/index.html">Server platform SuperMicro SYS-5017A-EF or atomic virtualization (Part 1)</a></li>
<li><a href="../188698/index.html">Beautiful background textures in iOS</a></li>
<li><a href="../188700/index.html">"Kranik", or an algorithm for finding digits of Pi</a></li>
<li><a href="../188702/index.html">Convenient web server on Virtualbox</a></li>
<li><a href="../188704/index.html">Tale of a clustered index</a></li>
<li><a href="../188710/index.html">We write applications for Google Glass</a></li>
<li><a href="../188712/index.html">ARM assembler (continued)</a></li>
<li><a href="../188714/index.html">Vipnet failover crypto gateway or how not to implement fault tolerance</a></li>
<li><a href="../188716/index.html">Yesterday in the Business Incubator passed Pitch me Day</a></li>
<li><a href="../188718/index.html">MikroTik QoS - dispelling myths</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>