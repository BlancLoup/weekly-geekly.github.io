<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Crypt fonts</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I don‚Äôt need much from monospaced fonts. Adequate Cyrillic support. For programming - no zamylivaniya. The ability to distinguish between 0 (which is ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Crypt fonts</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/2b6/9e5/957/2b69e59573ab6d77231d8d6113259a72.png" alt="image" align="right">  I don‚Äôt need much from monospaced fonts.  Adequate Cyrillic support.  For programming - no zamylivaniya.  The ability to distinguish between 0 (which is zero) and O. The ability to distinguish between I (which i), l (which is L) and |  (which or).  To work in the console two-paneled - support for pseudographics.  However, in the modern world there are not many such fonts.  Where do you get them from? <br><br>  Caution!  Under the cut - continuous anachronisms. <br><br><a name="habracut"></a><br>  This thought gave me no peace for quite some time.  A lot of options were tried, and none of them did not suit.  Yes, there is Terminus, but it is impossible to look at its implementation of the Cyrillic alphabet without tears, there is IBM Nouveau - it is almost what is needed, but something is wrong for my eyes.  Various options for converting decent proportional fonts to monospace acceptable results did not.  The idea of ‚Äã‚Äãcomfortable fonts was postponed for a while.  But not forever. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Today it dawned on me - after all, how well-quality small fonts were drawn in the localization under DOS!  And the pseudo-graphics there is beautiful as nowhere else.  It remains only to extract them from there, and to adapt to modern realities. <br><br>  After downloading keyrus.com and another five localizers, I began to experiment.  Disassembling the locators to find font shifts seemed like a thankless task.  I also refused the thought of writing a quick ripper, since the only thing I remembered was that the zero-character glyph bitmap in 99% VGA fonts is 16 zero bytes, and I was not sure about the results of this tearing out because of a guaranteed pile of garbage on the output. <br><br>  I had to arm myself with dosbox and acquaintances from the mid-90s utilities.  With their help, the desired fonts <br>  were mined without difficulty.  Unfortunately, some of those russifiers that could be found were passed through the then-packaged executable files.  Spend no time on them. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/363/7fe/cf6/3637fecf6814f8c524a1566d7aa09056.png" alt="image"></div><br><br>  Pulling out the fonts, I reached into Linux to write a converter.  As a target format - no longer remember why, BDF was chosen.  The converter itself turned out to be completely trivial - even the glyph bitmaps did not have to be modified in any way, so I don‚Äôt post its code.  The only question that took some time was the search for the conversion table from CP866 to Unicode, which could be quickly inserted into the C code. <br><br>  The result in BDF - with a few modifications - turned out to be quite acceptable. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bda/069/ba8/bda069ba8039844157bc140133d06d33.png" alt="image"></div><br><br>  Both in the terminal and in the GUI editors (for example, Sublime Text 2).  Under Linux, moreover, it turned out to be the best option, since I did not find the ability to disable anti-aliasing only for gnome-terminal.  Yes, and the absence of setting the line spacing can play a joke with pseudo-graphics - vertical lines will be broken when using ttf. <br><br>  But ... Damn, I wanted to get these fonts not only under Linux, but also on a poppy, since I have to work simultaneously in two OSs.  But poppy - alas and ah - does not support BDF.  We start to dig deeper. <br><br>  Attempts to generate valid ttf with raster glyphs failed.  Why - I still do not know, it requires a thoughtful study of the materiel. <br><br>  In order not to mark time - I started experimenting with vectorization.  It was obvious that trying to trace 8x16 size glyphs would result in no acceptable result.  It is necessary to scale up.  To write the resayzilka - laziness.  In the open spaces of the network, what was needed was found - a console utility bdfresize.  Collected, checked performance, scaled to 32x64. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/86a/331/ba7/86a331ba78126261ffa2aaeab89433b6.png" alt="image"></div><br><br>  Got into the fontforge to trace.  For tracing used potrace with the parameters "-z white -a -1".  I did not select the parameters myself - as was said in the network, ‚Äúthis will split the diagonal pixels and curves‚Äù.  To say it in Russian so that it sounds adequate, I, unfortunately, find it difficult. <br><br>  The result of the trace without additional edits turned out to be square-nested, but without artifacts.  Exactly what I wanted to get. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c88/241/4a5/c882414a525074b17c7eb6a9327a0070.png" alt="image"></div><br><br>  At this stage, all that remained to be done was to generate a ttf and check on the Mac.  In the standard terminal, the terminal with the Midnight Commander, and in the text editor, everything looked no worse than under Linux (with anti-aliasing turned off, of course). <br><br>  I decided to stop at this - my typewriters were calmed down, and I received satisfaction both from the result and from the quest passed. <br><br>  I do not post the results of the conversion, since for me the legal aspects in this situation are not clear.  I am sure that everyone who has read this far is able to get the same fonts, if there is a desire. <br><br>  PS: Under the OS, which currently occupies a dominant position on the desktop market, the results were not checked due to the lack of such a possibility. <br><br>  UPD: Converter, sample bdf and ttf posted on <a href="http://ifolder.ru/28488918">ifolder.ru/28488918</a> <br><br>  The author is not responsible for the quality of the converter code.  Attempts to comb any way was not undertaken. </div><p>Source: <a href="https://habr.com/ru/post/137544/">https://habr.com/ru/post/137544/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../137532/index.html">Augmented Reality Contact Lenses</a></li>
<li><a href="../137534/index.html">"One Last Thing" - a documentary about Steve Jobs (2011), professional Russian translation</a></li>
<li><a href="../137536/index.html">Writing an error handler for phpredis</a></li>
<li><a href="../137542/index.html">Minecraft Physics World</a></li>
<li><a href="../137543/index.html">Java SOAP Server with Apache CXF and Spring</a></li>
<li><a href="../137545/index.html">Come to Kharkov and burn with us at Ciklum Mobile Subbotnik and iPhoneDevCamp 2012</a></li>
<li><a href="../137548/index.html">Fair voting on the Internet using sms</a></li>
<li><a href="../137549/index.html">iPhoneDevCamp 2012 - Kharkiv, February 11</a></li>
<li><a href="../137550/index.html">Canobuvosti, 129th edition</a></li>
<li><a href="../137551/index.html">What else is important to know the inhabitant about patents. We continue the educational program</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>