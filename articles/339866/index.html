<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Use Apache Ignite at home</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Continuing the theme ‚Äúaccessible language about Ignite / GridGain ‚Äù, started in the previous post ( Why Apache Ignite is needed ), let's look at examp...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Use Apache Ignite at home</h1><div class="post__text post__text-html js-mediator-article"><p>  Continuing the theme ‚Äúaccessible language about <a href="https://ignite.apache.org/">Ignite</a> / <a href="https://www.gridgain.com/">GridGain</a> ‚Äù, started in the previous post ( <a href="https://habrahabr.ru/post/325830/">Why Apache Ignite is needed</a> ), let's look at examples of using the product ‚Äúfor mere mortals‚Äù. </p><br><p>  Terabytes of data, clusters of hundreds of machines, <a href="https://habrahabr.ru/company/gridgain/blog/338606/">big data</a> , high load, <a href="https://habrahabr.ru/company/gridgain/blog/329318/">machine learning</a> , <a href="https://habrahabr.ru/company/gridgain/blog/327380/">microservices</a> and other scary words - all this is available Ignite.  But this does not mean that it is not suitable for smaller goals. </p><br><p>  Today we will look at how Ignite can easily store any of your objects, share them over the network, and provide .NET and Java interaction. </p><br><p><img src="https://habrastorage.org/webt/59/e8/78/59e878216a4b9111619869.jpeg" alt="Apache Ignite.NET"></p><br><a name="habracut"></a><br><p>  We will talk more about the .NET API, but some things are applicable in Java. </p><br><h2 id="vstraivaemaya-baza-dannyhhttpsruwikipediaorgwikid092d181d182d180d0b0d0b8d0b2d0b0d0b5d0bcd0b0d18f_d0a1d0a3d091d094">  <a href="https://ru.wikipedia.org/wiki/%25D0%2592%25D1%2581%25D1%2582%25D1%2580%25D0%25B0%25D0%25B8%25D0%25B2%25D0%25B0%25D0%25B5%25D0%25BC%25D0%25B0%25D1%258F_%25D0%25A1%25D0%25A3%25D0%2591%25D0%2594">Embeddable database</a> </h2><br><p>  Ignite does not require installation and configuration, it can run directly in your process, and from version 2.1 it can <a href="https://habrahabr.ru/company/gridgain/blog/338606/">store data on disk</a> .  Add to this a <a href="https://ptupitsyn.github.io/Ignite-Serialization-Performance/">fast and compact</a> built-in <a href="https://apacheignite-net.readme.io/docs/serialization">serialization</a> and get the easiest way to save any of your objects to disk. </p><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cfg = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> IgniteConfiguration { <span class="hljs-comment"><span class="hljs-comment">//      PersistentStoreConfiguration = new PersistentStoreConfiguration() }; var ignite = Ignition.Start(cfg); ignite.SetActive(true); //      persistence var cache = ignite.GetOrCreateCache&lt;int, MyClass&gt;("foo"); cache[cache.GetSize() + 1] = new MyClass();</span></span></code> </pre> <br><p>  That's all the code!  We run several times and make sure that the data is not lost. </p><br><p>  At the same time to <code>MyClass</code> no requirements!  This can be anything, any nesting, including delegates, anonymous <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/anonymous-types">types</a> and <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/anonymous-methods">methods</a> , <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/expression-trees/">expression trees</a> , <a href="https://msdn.microsoft.com/en-us/library/system.dynamic.expandoobject.aspx">dynamic objects,</a> and so on.  Can your serializer do this?  I do not think.  The only exception is that you cannot do <code>IntPtr</code> , but this is for your own good.  Serializing pointers is a bad idea. </p><br><p>  Moreover, serialized objects are not a ‚Äúblack box‚Äù, <a href="https://apacheignite-net.readme.io/docs/binary-mode"><code>IBinaryObject</code></a> allows <a href="https://apacheignite-net.readme.io/docs/binary-mode"><code>IBinaryObject</code></a> to selectively receive and modify individual fields of objects. </p><br><div class="spoiler">  <b class="spoiler_title">Wild serialization tricks</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ignite = Ignition.Start()) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cache = ignite.CreateCache&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>&gt;(<span class="hljs-string"><span class="hljs-string">"c"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  Type,     ! cache[1] = typeof(int); Console.WriteLine(ReferenceEquals(typeof(int), cache[1])); // true //  . var greeting = "Hi!"; cache[2] = (Action) (() =&gt; { Console.WriteLine(greeting); }); ((Action) cache[2])(); // , : Hi! //    ! //    Binary -    . ICache&lt;int, IBinaryObject&gt; binCache = cache.WithKeepBinary&lt;int, IBinaryObject&gt;(); //     BinaryObject. IBinaryObject binDelegate = binCache[2]; //   target0 -  ,   . IBinaryObject target = binDelegate.GetField&lt;IBinaryObject&gt;("target0"); //     greeting. target = target.ToBuilder().SetField("greeting", "Woot!").Build(); //       . binCache[2] = binDelegate.ToBuilder().SetField("target0", target).Build(); //     ,  ,  . ((Action)cache[2])(); // Woot! //  . cache[3] = new { Foo = "foo", Bar = 42 }; //   . Console.WriteLine(binCache[3]); // ...[&lt;Bar&gt;i__Field=42, &lt;Foo&gt;i__Field=foo] //  . dynamic dynObj = new ExpandoObject(); dynObj.Baz = "baz"; dynObj.Qux = 1.28; cache[4] = dynObj; Console.WriteLine(binCache[4]); // _keys=[Baz, Qux], _dataArray=[baz, 1.28, ] }</span></span></code> </pre> </div></div><br><p>  Of course, you can work with all this data both in key-value mode ( <code>ICache.Put</code> , <code>ICache.Get</code> ), and through <a href="https://apacheignite-net.readme.io/docs/sql-database">SQL</a> , <a href="https://apacheignite-net.readme.io/docs/linq">LINQ</a> , <a href="https://apacheignite-net.readme.io/docs/cache-queries">full-text search</a> . </p><br><p>  I note that, in addition to the embedded mode, you can work with Ignite via <a href="https://apacheignite.readme.io/docs/odbc-driver">ODBC</a> and <a href="https://apacheignite.readme.io/docs/jdbc-driver">JDBC</a> . </p><br><h2 id="mezhprocessnoe-vzaimodeystvie">  Interprocess communication </h2><br><p>  Google Chrome browser uses a separate process for each tab.  Implementing this approach with Ignite is very simple: data can be easily and transparently exchanged through a cache, synchronized code execution through <a href="https://habrahabr.ru/company/gridgain/blog/328086/">distributed data structures,</a> and exchanged messages via <a href="https://apacheignite-net.readme.io/docs/topic-based">messaging</a> . </p><br><p>  Processes can be equal.  For example, the navigation history can be stored in the <a href="https://apacheignite.readme.io/docs/cache-modes"><code>Replicated</code></a> cache, so that each tab, when clicking on a link, updates the history, can read it, and the fall of one of the processes does not affect the integrity of the data.  In the code, it all looks just like working with a collection. </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> history = ignite.GetCache&lt;Guid, HistoryItem&gt;(<span class="hljs-string"><span class="hljs-string">"history"</span></span>); history.Put(Guid.NewGuid(), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HistoryItem(url, DateTime.UtcNow)); <span class="hljs-comment"><span class="hljs-comment">//   10   history.AsCacheQueryable() .Select(x =&gt; x.Value) .OrderByDescending(x =&gt; x.Date) .Take(10);</span></span></code> </pre> <br><p>  Ignite provides thread-safe data access across the entire cluster. </p><br><h2 id="kross-platformennoe-vzaimodeystvie">  Cross-platform interaction </h2><br><p>  Ignite has full-fledged APIs in Java, .NET, C ++.  You can run on Windows, Linux, Mac.  For example, part of your application can be written in Java and run on Linux, the other part - on .NET and under Windows. </p><br><p>  The serialization protocol is universal, objects written on one platform can be read on another.  <a href="https://apacheignite-net.readme.io/docs/atomic-types">The data structures</a> mentioned above are also cross-platform. </p><br><p>  Moreover, it is possible to transparently call from the .NET <a href="https://apacheignite-net.readme.io/docs/calling-java-services">services</a> written in Java,: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyJavaService</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Service</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sayHello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String x)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Hello, "</span></span> + x; } } ignite.services().deployClusterSingleton(<span class="hljs-string"><span class="hljs-string">"myJavaSvc"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyJavaService());</code> </pre> <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IJavaService</span></span> <span class="hljs-comment"><span class="hljs-comment">//     { string sayHello(string str); //  ,     } var prx = ignite.GetServices().GetServiceProxy&lt;IJavaService&gt;("myJavaSvc"); string result = prx.sayHello("Vasya");</span></span></code> </pre> <br><p>  As elsewhere, instead of strings, you can transfer any objects. </p><br><p>  A detailed guide to building a cross-platform Ignite cluster, using the example of a simple chat, is <a href="https://ptupitsyn.github.io/Ignite-Multi-Platform-Cluster/">here</a> (in English). </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  Ignite makes work with any data fast and enjoyable: serialize, save to memory or to disk, transfer over the network, ensure consistency and thread safety.  Even the smallest projects can benefit from the product without worrying about a possible increase in load in the future. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/339866/">https://habr.com/ru/post/339866/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../339854/index.html">W3C or WHATWG</a></li>
<li><a href="../339856/index.html">DevOps in Sberbank-Technologies. Instrumental standard</a></li>
<li><a href="../339858/index.html">Fairloris - comment everything, always and everywhere</a></li>
<li><a href="../339862/index.html">Who are you - a talented strategist or effective tactician? Check on Budget Sprint 2.0 hackathon</a></li>
<li><a href="../339864/index.html">MvvmCross for a simple iOS application in C #</a></li>
<li><a href="../339868/index.html">Arduino to poll the counters "Mercury-230"</a></li>
<li><a href="../339870/index.html">Search for solutions to quickly create interfaces DBMS</a></li>
<li><a href="../339872/index.html">In search of reason: is it possible to make a ‚Äúuniversal‚Äù chat bot using neural networks?</a></li>
<li><a href="../339874/index.html">About the Strata AI conference: the future of artificial intelligence</a></li>
<li><a href="../339878/index.html">Uneducated youth. What's left overs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>