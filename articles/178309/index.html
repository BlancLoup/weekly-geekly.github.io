<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Population algorithm based on fish school behavior</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Within this community, genetic algorithms and their application in practice have been repeatedly discussed. In this article, I would like to share a r...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Population algorithm based on fish school behavior</h1><div class="post__text post__text-html js-mediator-article">  Within this community, genetic algorithms and their application in practice have been repeatedly discussed.  In this article, I would like to share a relatively new method of optimizing functions based on the behavior of the school of fish in terms of food search. <a name="habracut"></a><br><br><h4>  Introduction </h4><br>  Since the middle of the last century, studies have been conducted on the simulation of the biological mechanisms of nature, in particular, related to the evolution process.  Only by the 1980s did practical tests of these methods begin due to the need for effective ways to optimize n-ary functions that have high computational complexity, multi-extremes, etc.  Speaking about terminology, it is worth mentioning that these algorithms belong to the class of stochastic search engines.  In many sources one can also find such definitions as behavioral, intellectual, metaheuristic, or <b>population</b> .  We will use the last term for the classification of our algorithm.  Generally speaking, this algorithm can be determined more precisely using the following scheme. <br><br>  Population algorithms are divided into the following categories: <br><ul><li>  Evolutionary algorithms, including those genetic ones. </li><li>  <b>Algorithms inspired by wildlife</b> (for example, an algorithm for optimizing a swarm of fireflies, kukushkin search, etc.). </li><li>  Algorithms inspired by inanimate nature (for example, the gravitational search algorithm). </li><li>  Algorithms based on the behavior of human society (for example, the algorithm of evolution of the mind). </li><li>  Other algorithms. </li></ul><br>  Having dealt with the terminology, we proceed directly to the study of a population optimization algorithm based on the behavior of a school of fish. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Parsing algorithm </h4><br>  This algorithm was proposed in 2008 by Philo (B. Filho) and Neto (L. Neto). <br>  As in all population algorithms, the following parameters are specified as input parameters: the fitness function (a function for which it is necessary to find extremes), the field of study of this function, and the parameters of the algorithm (about them later).  In the current FSS algorithm ( <b>F</b> ish <b>S</b> chool <b>S</b> earch), the search area is an aquarium in which agents (fish) swim.  As you know, in the conditions of the search for food, fish swim in a joint, therefore, in our case, the ultimate goal is the displacement of all agents to the area of ‚Äã‚Äãextremum of function.  In general, the algorithm of the algorithm is as follows: <br><br><ol><li>  Initialization of the population (uniform distribution of fish in the aquarium) </li><li>  Migration of agents to the food source (analogy: the greater the step agents performed in the direction of the extremum of the function, the more food they received) </li><li>  Finishing the search </li></ol><br><h5>  Need more details </h5><br>  The ‚ÄúMigration of agents‚Äù stage is performed iteratively, and in each of the iterations, the operators of two groups are executed: <br><br><ol><li>  Swimming operators that enable the migration of agents within the aquarium. </li><li>  Feeding operators, fixing the success of the study of various areas of the aquarium. </li></ol><br>  It is time to talk about the parameters that the aquarium has, and its inhabitants. <br>  So, we introduce the following variables, characteristic for the whole aquarium: <br>  <code>populationSize</code> size - <code>populationSize</code> size (the number of fish in the school). <br>  <code>iterationCount</code> - the number of iterations in the "Migration Agents" stage <br>  <code>lowerBoundPoint, higherBoundPoint</code> - upper and lower search boundaries <br>  <code>individStepStart, individStepFinal</code> - sets the initial and final radius of the search for food around agents <br>  <code>weightScale</code> - the maximum weight of the agent. <br>  These are the very parameters that the user enters.  With their help, the ratio of the <i>accuracy / time of the</i> algorithm is adjusted. <br>  The agents themselves are characterized by only two quantities: <br>  <code>swimStatePos</code> - the position of the agent in different stages of swimming <br>  <code>weight</code> - the current weight of the agent <br><br>  <i>Of course, with the software implementation of the algorithm in such a number of variables, it is obviously not enough, but for the time being we will not complicate our life</i> . <br><br>  Realizing that code is more important to programmers than empty chatter, we will delve into the algorithm using the following pseudo-code: <br><br><pre> <code class="java hljs">initialize_randomly_all_fish; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (stop_criterion is not met) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (each_fish) { individual_movement; evaluate_fitness_function; } feeding_operator; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (each_fish) instinctive_movement; calculate_barycentre; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (each_fish) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { volitive_movement; evaluate_fitness_function; } update_individidual_step; }</code> </pre><br><br>  <i>Note: all the following explanations of the algorithm are designed for solving the problem of conditional function maximization, however, this should not raise doubts about the inoperability of this method when searching for minimum values ‚Äã‚Äãof a function.</i> <br><ol><li>  So, as already mentioned, the first step is to initialize the entire population: randomly selecting the position of the agent within the aquarium ( <code>swimStatePos[0]</code> ) and setting a weight equal to half the maximum ( <code>weight=weightScale/2</code> ) for all fish. </li><li>  Then the main cycle of the algorithm begins, which characterizes the stage ‚ÄúMigration of agents to the food source‚Äù.  In our case, the ‚ÄúNumber of iterations‚Äù value ( <code>iterationCount</code> ) is used as a stopping criterion. </li><li>  Then comes the individual stage of swimming agents.  It is characterized by the fact that all fish in some area around themselves ( <code>individStep</code> ) are trying to find the best value of the function. <img src="https://habrastorage.org/storage2/488/9ae/3c2/4889ae3c2ec5a0f4b54540869d18afe4.png"><br>  If they succeed, then this step is fixed.  Otherwise <br><img src="https://habrastorage.org/storage2/1d7/351/889/1d735188932692ded00c9f94ec5300c3.png"><br>  We believe that this movement was not. </li><li>  Now you need to consolidate success in the individual stages of swimming.  To do this, use the characteristic "Weight".  It is equal to the change in the function of fitness for a given agent before and after the individual stage, normalized by the maximum change in function among the population: <img src="https://habrastorage.org/storage2/38a/3d1/3dc/38a3d13dcf40c0041f6e8ed99e9a1113.png">  .  Generally speaking, this is a distinctive feature of this algorithm, since we do not need to memorize the best agents in previous iterations. </li><li>  After this, the fish perform the next stage of swimming - instinctive-collective.  For the whole school of fish, the ‚ÄúTotal migration step‚Äù value is calculated: <img src="https://habrastorage.org/storage2/988/7f4/101/9887f410101fa636bb28dcd401a4a560.png">  . <br>  Its meaning is as follows: the entire population as a whole influences each agent, and the influence of an individual agent is proportional to its success in the individual swimming stage.  Then the entire population is shifted by the calculated value of m: <br><img src="https://habrastorage.org/storage2/d7e/fdf/c46/d7efdfc46564ff9ac07d3d49f67f42c4.png"><br></li><li>  Before the next swimming operation it is necessary to perform intermediate actions, namely: calculate the center of gravity of the whole jamb: <img src="https://habrastorage.org/storage2/6fc/03e/782/6fc03e7822a343993c5295646726dce4.png">  . </li><li>  We, or rather, fish, moved to the last stage of swimming: collective-willed.  Here it is necessary to find out how the weight of the population has changed compared to the previous iteration.  If it has increased, then the population has approached the area of ‚Äã‚Äãmaximum function, therefore it is necessary to narrow the range of its search, thereby showing <i>intensification</i> properties.  And vice versa: if the weight of the shoal has decreased, then the agents are looking for the maximum in the wrong place, therefore it is necessary to change the direction of the trajectory and show <i>diversification</i> properties. <br><img src="https://habrastorage.org/storage2/1b3/385/1f5/1b33851f5fb7cd81bb3b0584848ad479.png"><br>  The value of <code>collStep</code> in the following formula is responsible for the step of volitional displacement.  It is recommended to use a value that is 2 times larger than an individual search step.  The <code>dist</code> operator calculates the distance between two points in a Euclidean space. <br><img src="https://habrastorage.org/storage2/741/c9e/249/741c9e2491739df536494173cc16f30f.png"><br>  ( <i>The values ‚Äã‚Äãresponsible for the position of agents are structural types of an n-dimensional point, for which the following operations are defined: add / subtract two points, add / subtract a point and a number, multiply / divide a point and a number, and compare points. To avoid of this geometric nonsense, it is considered to be considered as given for vector data types, having added some operations</i> ) </li><li>  The last operator in the iteration is a linear decrease in the step of the individual search for the next iteration.  In fact, this is already a modification of the standard FSS algorithm to increase search efficiency, which is performed according to the following formula: <img src="https://habrastorage.org/storage2/e04/d53/4c4/e04d534c47a8b697f543562d10811aa7.png"></li></ol><br><br><h4>  Implementation and testing </h4><br><h5>  Implementation </h5><br>  This algorithm formed the basis of my coursework (‚ÄúOptimization program inspired by the fish school behavior‚Äù), which was presented at the defense on April 26th.  Perhaps someone will be interested in why they passed their course papers so early.  Without further ado, I can only say that this is all part of the plan for expelling students from the 1st year at the Faculty of Biotechnology (UI department) of the National Research University Higher School of Economics, who found themselves in the paws of the academic section, threatening the whole year with 30% deduction (on the reverse side of the coin The campaign slogan adorns: ‚ÄúWe will accept everyone, and if necessary we will pay for the places at our own expense‚Äù).  As part of the coursework project, the implementation was conducted in C # 4.0, the OpenTK library was selected as the graphic component (it represents the OpenGL wrapper for .NET), the user-defined functions were parsed using the library <a href="http://habrahabr.ru/post/50158/">implemented in the Habr√© earlier</a> .  Unfortunately, I can‚Äôt upload the source code (the code is far from perfect, I realized this many times myself), but I‚Äôll give the program itself to everyone‚Äôs discretion (links at the end of the article).  For now, just a screenshot of the main window: <br><br><img src="https://habrastorage.org/storage2/5b0/9e6/198/5b09e6198c83d8b172c536a21fda087a.png"><br><br><h5>  Testing </h5><br>  For population-based algorithms, testing is a fascinating thing, because the result of its work largely depends on the input parameters.  In this article, we consider the following 2 graphs. <br><ol><li><img src="https://habrastorage.org/storage2/018/297/ce3/018297ce390a80a5f8828d318d1b686d.png"><br><ul><li>  Search area: from (-100; -100) to (100; 100) </li><li>  Number of iterations: 100 </li><li>  Population size: 50 </li><li>  Initial individual step: 10 </li><li>  Final individual step: 0.1 </li><li>  Maximum fish weight: 50 </li></ul><br>  So, by the end of the algorithm, the maximum value of the function was 9.999978 ..., and the average value of 9.999148 ... The graph of the change in the average value is as follows: <br><img src="https://habrastorage.org/storage2/177/086/8dd/1770868ddce659da5a84b1ccb780cc70.png"><br>  That is, at the 15th iteration, the school of fish was in the positive half-plane along the axis OY.  And since the 48th iteration, the average value of the function did not fall below 9.  And here is the full picture of what is happening (view from the tip of the iceberg): <br><img src="https://habrastorage.org/storage2/ac4/69b/8cf/ac469b8cfef996d2f09fee591e41718a.gif"><br><br></li><li><img src="https://habrastorage.org/storage2/207/64a/e99/20764ae99a06f8d529cbe1f0883fe65d.png"><br><ul><li>  Search area: from (-100; -100) to (100; 100) </li><li>  Number of iterations: 100 </li><li>  Population size: 50 </li><li>  Initial individual step: 10 </li><li>  Final individual step: 0.1 </li><li>  Maximum fish weight: 50 </li></ul><br><br>  By the end of the algorithm, the maximum value of the function was 19.999996 ..., and the average was 19.9994 ... The dynamics of the average value is as follows: <br><img src="https://habrastorage.org/storage2/28c/eab/b79/28ceabb797752fa2d641a0b24844ce9d.png"><br><br>  Already with 42 iterations, the average value of the function was kept at a level not lower than 19.  Animation of how the algorithm copes with multi-extremal functions (for Habrastorage, the file is too large, so there may be problems with displaying the image): <br><img src="https://habrastorage.org/getpro/habr/post_images/531/392/b1a/531392b1abec16a1154ce43a3615cd18.gif"></li></ol><br><h4>  Sources </h4><br><ul><li>  You can download the program <a href="https://docs.google.com/file/d/0B7dfKdiXkh9yeThNZFA4a19NYkk/edit%3Fusp%3Dsharing">here</a> (the kit includes: a program for studying functions from two variables with function reports from this article, a console version of the program with built-in functions from N variables, a description of the language for setting fitness functions (according to GOST, by the way)) </li><li>  Perhaps the only Russian-language article that describes this algorithm: A. P. Karpenko. ‚ÄúPopulation Algorithms for Global Search Engine Optimization.  Overview of new and little-known algorithms.  <a href="http://is.ifmo.ru/works/2012/karpenko-population-algorithms.pdf">Download</a> . </li><li>  <a href="http://www.fbln.pro.br/FSS/">A website</a> entirely dedicated to Fish School Search </li><li>  And <a href="http://cs.fit.edu/~rmenezes/Teaching/Entries/2011/8/22_OLD__CSE5801__Swarm_Intelligence_files/01930261.pdf">another</a> useful article in English </li><li>  <a href="https://bitbucket.org/ankulikov/fishschoolsearch/src/master">Sources of the</a> console version of the program (you can fork) </li></ul><br><br><h5>  PS </h5><br>  Thanks for reading the article!  We are happy to answer your questions in the comments. <br><br>  UPD: Added source codes. </div><p>Source: <a href="https://habr.com/ru/post/178309/">https://habr.com/ru/post/178309/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../178299/index.html">Customization of scrollbars in the browser: a compromise between html, css, js technologies and usability</a></li>
<li><a href="../178301/index.html">This capricious eigrp on DMVPN tunnels</a></li>
<li><a href="../178303/index.html">Context-sensitive form in yii</a></li>
<li><a href="../178305/index.html">JQuery Popup Fixed Navigation</a></li>
<li><a href="../178307/index.html">Options in css 3 and a little about the possibilities for rubber sites</a></li>
<li><a href="../178311/index.html">The implementation of the stack due to ... call stack</a></li>
<li><a href="../178313/index.html">Autostart PPPoE connection without logging in to your account</a></li>
<li><a href="../178321/index.html">Automated testing of a web application (MS Unit Testing Framework + Selenium WebDriver C #). Part 1: Introduction</a></li>
<li><a href="../178323/index.html">Arduino Artificial Intelligence</a></li>
<li><a href="../178325/index.html">How we made the connection at the Grib diamond deposit</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>