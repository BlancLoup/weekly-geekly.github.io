<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Text analyzer: recognition of authorship (start)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon, dear habrazhiteli. I have long wanted to publish my ‚ÄúText Analyzer‚Äù ( [1] ) under the GPL-license. Finally, got his hands. The ‚Äútext a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Text analyzer: recognition of authorship (start)</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage/46de40e1/07f3f32b/194d1c17/0da1f123.png" align="left"><br>  Good afternoon, dear habrazhiteli.  I have long wanted to publish my ‚ÄúText Analyzer‚Äù ( <a href="http://sourceforge.net/projects/textanalyzerv04/">[1]</a> ) under the GPL-license.  Finally, got his hands.  The ‚Äútext analyzer‚Äù is a research project that I developed for three years in the 3rd, 4th and 5th year of university courses.  The main goal was to create a text recognition algorithm using Hamming or Hopfield neural networks.  The idea was this: these neural systems recognize patterns, and the task of pattern recognition can be reduced to the task of identifying authorship.  For this it is necessary to collect statistics for each text, and the more different criteria, the better: frequency analysis of letters, analysis of word / sentence / paragraph lengths, frequency analysis of two-letter combinations, and so on.  The neural system could reveal the characteristics of which texts are most similar.  Work was - shaft.  A lot of code, cunning algorithms, OOP, design patterns.  In addition to the main task, I also implemented another know-how: ‚ÄúEuphony map‚Äù.  As planned, this map should show all the bad and well-sounding places, highlighting them in color.  The criteria for evaluating euphony should be set in some universal way, for example, by rules.  For this purpose, I even developed a special graphical language, RRL (Resounding Rules Language).  Work was - shaft.  A lot of code, cunning algorithms, OOP, design patterns.  The result was a large and complex program, albeit with an ugly interface.  With this project, I even won the thesis contest, got 1 and 3 places at university conferences, as well as 2nd place at the international scientific and practical. <br><br>  More than two years have passed, and I hardly remember how it works.  Let's try together to find out what is under the <s>cut of the</s> algorithm that recognizes authorship.  Well, let's leave the harmonious map for the next article. <br><br>  (The article has a <a href="http://habrahabr.ru/blogs/development/114187/">sequel</a> and <a href="http://habrahabr.ru/blogs/development/114188/">ending</a> .) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Article structure: <br><ol><li>  <a href="https://habr.com/ru/post/114186/">Authorship analysis</a> </li><li>  <a href="https://habr.com/ru/post/114186/">Introducing the code</a> </li><li>  <a href="https://habr.com/ru/post/114186/">TAuthoringAnalyser internals and text storage</a> </li><li>  <a href="https://habr.com/ru/post/114186/">Leveling by state machine on strategies</a> </li><li>  <a href="https://habr.com/ru/post/114186/">Collection of frequency characteristics</a> </li><li>  <a href="https://habr.com/ru/post/114186/">Hamming neural network and authorship analysis</a> </li></ol><br>  Additional materials: <br><ul><li>  <a href="http://sourceforge.net/projects/textanalyzerv04/files/TextAnalyser%25200.4%2520alpha/">Sources</a> of the Text Analyzer Project (Borland C ++ Builder 6.0) </li><li>  Testing the Hamming Neural System in Excel ( <a href="http://sourceforge.net/projects/textanalyzerv04/files/Materials/Hamming%2520neurosystem%2520test.xls/download">[xls]</a> ) </li><li>  Conversion table for the spacecraft splitting the text into levels ( <a href="http://sourceforge.net/projects/textanalyzerv04/files/Materials/Finite%2520State%2520Machine.xls/download">[xls]</a> ) </li><li>  Calculation of the sound of individual letters ( <a href="http://sourceforge.net/projects/textanalyzerv04/files/Materials/Letters%2520euphony.xls/download">[xls]</a> ) </li><li>  Presentation of the graduation project "Text Analyzer" ( <a href="http://sourceforge.net/projects/textanalyzerv04/files/Materials/Presentation%2520of%2520Granin%2520Alexander_s%2520diplomas.ppt/download">[ppt]</a> ) </li><li>  Presentation of the ‚ÄúEuphony Card‚Äù project ( <a href="http://sourceforge.net/projects/textanalyzerv04/files/Materials/Presentation%2520of%2520Granin%2520Alexander_s%2520Euphony%2520map.ppt/download">[ppt]</a> ) </li><li>  All these materials are compressed ( <a href="http://sourceforge.net/projects/textanalyzerv04/files/Materials/Materials.zip/download">[zip]</a> , <a href="http://sourceforge.net/projects/textanalyzerv04/files/Materials/Materials.7z/download">[7z]</a> , <a href="http://sourceforge.net/projects/textanalyzerv04/files/Materials/Materials.rar/download">[rar]</a> ) </li></ul><br><a name="habracut"></a><br><br><h4>  1. Analysis of authorship </h4><br><br>  Need to: <br><ol><li>  Download sample texts and ‚Äúkey‚Äù text (unknown authorship); </li><li>  identify comparable sample texts: <ul><li>  break texts into words, sentences, paragraphs, </li><li>  make blocks of the same length from words, sentences, paragraphs for each text, </li><li>  select only comparable blocks of the same size for the levels ‚Äúwords‚Äù, ‚Äúsentences‚Äù, ‚Äúparagraphs‚Äù; </li></ul></li><li>  collect statistics on these three levels; </li><li>  upload data to the Hamming neurosystem; </li><li>  conduct image recognition with its help; </li><li>  identify sample texts on all three levels that are closest to the key text in terms of characteristics.  Probably, the authors of these texts belong to the key text. </li></ol><br><br>  Here are some conclusions to draw from the plan: <br><ul><li>  There will be work with large amounts of data, up to megabytes - depending on the texts. </li><li>  Texts can be quite different sizes: from stories to multivolume novels.  Therefore, it is necessary to somehow ensure the basic comparability of different works. </li><li>  Paragraph 2 is needed to improve recognition accuracy, to differentiate the process by levels and to ensure basic comparability of texts. </li><li>  Parsing words, sentences, and paragraphs is a task for a finite state machine. </li><li>  There may be a lot of statistics, I would like them to be assembled in a universal way, so that you can always add some more collection algorithms. </li><li>  The Hamming neurosystem works only with certain information, which means that it is necessary to convert the collected data into a form that it understands. </li></ul><br><br><h5>  2. Familiarity with the code </h5><br><br>  To ‚Äúwarm up‚Äù, we first consider the main form class - TAuthoringAnalyserTable ( <a href="">[cpp]</a> , <a href="">[h]</a> ).  (If the ‚Äúwarm-up‚Äù is not needed, you can go directly to the next section.) The form itself is terrible, usability, one might say, at zero.  But we are interested in the code, not the button-shaped. <br><br>  At the beginning of the cpp-file we see instantiated classes: <br><br><blockquote><code><a href="http://s-c.me/12107/s"></a> <a href="http://s-c.me/12107/h"></a> <font color="black">Copy Source | Copy HTML TVCLControllersFasade VCLFasade; <font color="#008000">// 1 -     VCL</font> TAnalyserControllersFasade AnalyserFasade; <font color="#008000">// 2 -   </font> TVCLViewsContainer ViewsContainer; <font color="#008000">// 3 -   </font></font></code> <ol> <li> <code><font color="black"><a href="http://s-c.me/12107/s"></a> <a href="http://s-c.me/12107/h"></a> Copy Source | Copy HTML TVCLControllersFasade VCLFasade; <font color="#008000">// 1 -     VCL</font> TAnalyserControllersFasade AnalyserFasade; <font color="#008000">// 2 -   </font> TVCLViewsContainer ViewsContainer; <font color="#008000">// 3 -   </font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/12107/s"></a> <a href="http://s-c.me/12107/h"></a> Copy Source | Copy HTML TVCLControllersFasade VCLFasade; <font color="#008000">// 1 -     VCL</font> TAnalyserControllersFasade AnalyserFasade; <font color="#008000">// 2 -   </font> TVCLViewsContainer ViewsContainer; <font color="#008000">// 3 -   </font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/12107/s"></a> <a href="http://s-c.me/12107/h"></a> Copy Source | Copy HTML TVCLControllersFasade VCLFasade; <font color="#008000">// 1 -     VCL</font> TAnalyserControllersFasade AnalyserFasade; <font color="#008000">// 2 -   </font> TVCLViewsContainer ViewsContainer; <font color="#008000">// 3 -   </font></font></code> </li> </ol></blockquote><br><br><img src="https://habrastorage.org/storage/810dec29/b0f2578d/d45834f5/4dfab6f4.png" align="right"><br>  Here, the pattern ‚ÄúFacade‚Äù is applied to (1) and (2) (Facade, <a href="http://habrahabr.ru/blogs/complete_code/87110/">[1]</a> , <a href="http://en.wikipedia.org/wiki/Facade_pattern">[2]</a> , <a href="http://design-pattern.ru/patterns/remote-facade.html">[3]</a> , <a href="http://sourcemaking.com/design_patterns/facade">[4]</a> ).  Inside the facade class (1) there is a large interface for working with visual components of the VCL.  It is there that the reactions to pressing the buttons ‚ÄúLoad text‚Äù are written, to update the list of texts, and in general to any event from the form.  The form accesses these functions, not knowing what will happen.  The facade hides all unnecessary from the form.  But, in fact, VCLFasade ( <a href="">[cpp]</a> , <a href="">[h]</a> ) only links the events from the forms and algorithms;  it does not have these algorithms, but they lie somewhere further in another facade - (2), AnalyzerFasade ( <a href="">[cpp]</a> , <a href="">[h]</a> ).  Class (1) just redirects calls to object (2) and does additional work, such as filling in the ‚ÄúList‚Äù visual component.  Yes, such a monstrous construction: the object (1) knows about the object (2) and its functions.  How does he know?  In the constructor of the main form, just below, there is a parametrization of the first facade by the second: <br><br><blockquote> <code><a href="http://s-c.me/12108/s"></a> <a href="http://s-c.me/12108/h"></a> <font color="black">Copy Source | Copy HTML</font></code> <ol> <li>  <font color="#008000">// .......</font> </li><li>  VCLFasade. SetAnalyserControllersFasade (&amp; AnalyzerFasade);  <font color="#008000">// Parameterization of one object by another.</font> </li><li>  <font color="#008000">// .......</font> </li></ol></blockquote><br><br><img src="https://habrastorage.org/storage/08742f65/ea1b1d00/b2ca5e41/b3311688.png" align="right"><br>  Now I am no longer sure that class (1) is ‚ÄúFacade‚Äù, perhaps it is something else, or just like that.  It would be nice to place the facades in the ‚ÄúSingleton‚Äù pattern (Singleton, <a href="http://habrahabr.ru/blogs/personal/31375/">[1]</a> , <a href="http://habrahabr.ru/blogs/complete_code/27108/">[2]</a> , <a href="http://ru.wikipedia.org/wiki/%25D0%259E%25D0%25B4%25D0%25B8%25D0%25BD%25D0%25BE%25D1%2587%25D0%25BA%25D0%25B0_%2528%25D1%2588%25D0%25B0%25D0%25B1%25D0%25BB%25D0%25BE%25D0%25BD_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B5%25D0%25BA%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F%2529">[3]</a> , <a href="http://sourcemaking.com/design_patterns/singleton">[4]</a> ).  Unfortunately, two years ago I did not think of it.  Not that the program has suffered, no, everything works as it should work.  But we lose some of the opportunities associated with the Loner Pattern.  After all, we can not create multiple entry points into one subsystem?  Can not.  It would be worth banning it. <br><br>  What else is interesting in the designer of the main form? <br><br><blockquote> <code><a href="http://s-c.me/12109/s"></a> <a href="http://s-c.me/12109/h"></a> <font color="black">Copy Source | Copy HTML</font></code> <ol> <li>  <font color="#008000">// .......</font> </li><li>  VCLFasade. SetViewsContainer (&amp; ViewsContainer);  <font color="#008000">// The view container is passed to the facade (1).</font> </li><li>  VCLFasade.SetAuthoringAnalyserTable ( <font color="#0000ff">this</font> );  <font color="#008000">// and pointer to the main form.</font> </li><li></li><li>  <font color="#008000">/ * Note: It can be concluded that somewhere there are cyclic inclusions of h-files and,</font> &lt;br/&gt; <font color="#008000">perhaps, predestination.</font>  <font color="#008000">Of course, this is bad, but so it happened then.</font>  <font color="#008000">* /</font> </li><li></li><li>  <font color="#008000">// Parameterization of the facade (2) reporting system:</font> </li><li>  AnalyzerFasade.SetAuthoringAnalysisReporter (&amp; AnalysisReporter); </li><li>  AnalyzerFasade.SetResoundingAnalysisReporter (&amp; AnalysisReporter); </li><li>  <font color="#008000">// .......</font> </li><li></li></ol></blockquote><br><br>  And then - a large sheet for filling the container of visual components (controls).  An element (for example, a button) is taken from a form and entered into a container, and in its own group: <br><br><blockquote> <code><a href="http://s-c.me/12111/s"></a> <a href="http://s-c.me/12111/h"></a> <font color="black">Copy Source | Copy HTML</font></code> <ol> <li>  <font color="#008000">// .......</font> </li><li>  TVCLViewsContainer * vc = &amp; ViewsContainer;  <font color="#008000">// To abbreviate the name.</font> </li><li></li><li>  vc-&gt; AddViewsGroup (cCurrentTextInfo);  <font color="#008000">// Create a group of components, cCurrentTextInfo - the text name of the group.</font> </li><li>  vc-&gt; AddView (cCurrentTextInfo, LCurrentTextNumber);  <font color="#008000">// LCurrentTextNumber, LCurrentTextAuthor,</font> </li><li>  vc-&gt; AddView (cCurrentTextInfo, LCurrentTextAuthor);  <font color="#008000">// LCurrentTextTitle, etc. are pointers to visual components.</font> </li><li>  vc-&gt; AddView (cCurrentTextInfo, LCurrentTextTitle);  <font color="#008000">// For example: TLabel * LCurrentTextNumber;</font> </li><li>  vc-&gt; AddView (cCurrentTextInfo, CLBTextsListBox); </li><li>  vc-&gt; AddView (cCurrentTextInfo, MSelectedTextPreview); </li><li>  vc-&gt; AddViewsGroup (cKeyTextInfo);  <font color="#008000">// Create another group.</font> </li><li>  vc-&gt; AddView (cKeyTextInfo, LKeyTextNumber); </li><li>  vc-&gt; AddView (cKeyTextInfo, LKeyTextAuthor); </li><li>  vc-&gt; AddView (cKeyTextInfo, LKeyTextTitle); </li><li>  vc-&gt; AddView (cKeyTextInfo, CLBTextsListBox); </li><li>  <font color="#008000">// ...and so on...</font> </li><li></li></ol></blockquote><br><br>  A rather curious approach, although not very clear.  Controls are transferred to the container (3), which in turn is transferred to the facade (1).  There, obviously, controls are somehow used.  After reviewing the TVCLViewsContainer ( <a href="">[cpp]</a> , <a href="">[h]</a> ) and TVCLView ( <a href="">[h]</a> ) classes, it becomes clear that everything that is done with controls is Update, Show / Hide, Enable / Disable, and in groups.  You can completely update one group, hide another, knowing only the name ... For what it was needed, now I can only guess.  This approach breaks encapsulation, since you can do anything with controls, even deletion.  They are put out of the brackets of their form than risk being modified. <br><br>  There is nothing interesting in the class of the main form, so let's take a closer look at the class (2) ( <a href="">[cpp]</a> , <a href="">[h]</a> ).  This second facade is already real, no joke, except that the name is written in S, not C (Facade is the correct spelling of the word, as it is given everywhere, including in GOF ( <a href="http://ru.wikipedia.org/wiki/%25D0%25A8%25D0%25B0%25D0%25B1%25D0%25BB%25D0%25BE%25D0%25BD_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B5%25D0%25BA%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F">[1]</a> , <a href="http://en.wikipedia.org/wiki/Design_Patterns_%2528book%2529">[2]</a> , <a href="http://www.ozon.ru/context/detail/id/2457392/">[3 ]</a> )).  The class simplifies working with analysis subsystems by hiding the real classes behind the interfaces.  And there are three real classes: <br><br><blockquote> <code><a href="http://s-c.me/12113/s"></a> <a href="http://s-c.me/12113/h"></a> <font color="black">Copy Source | Copy HTML</font></code> <ol> <li>  <font color="#0000ff">class</font> <font color="#2b91af">TAnalyserControllersFasade</font> </li><li>  { </li><li>  TTextsController _TextsController; </li><li>  TAuthoringAnalyser _AuthoringAnalyser; </li><li>  TResoundingMapAnalyser _ResoundingAnalyser; </li><li>  <font color="#008000">// .......</font> </li></ol></blockquote><br><br><img src="https://habrastorage.org/storage/16eec53b/393a739a/8d6138fb/0b0121ae.png" align="left"><br>  The simple functions of the TAnalyserControllersFasade class address the more complex functions of the three real classes, but the client does not know anything about this complexity.  It simplifies development and use.  Load texts (LoadAsPrototype (), LoadAsKeyText () functions), load analyzer settings (LoadResoundingAnalysisRules ()), run the analysis (DoAnalysis () function), and it works in some magic way somewhere there.  If we take a closer look at the DoAnalysis () function, we will see that the necessary analysis is invoked by textual name.  It's good.  The bad thing is that paired with the facade is not a very extensible solution.  If I wanted to carry out some other analysis, such as a grammar check, I would need to add a fourth real class ‚Äî GrammarAnalyser ‚Äî and register some additional functions in the facade.  And if I write a super-universal text analysis tool, and I have such analyzers - darkness?  Then we would have to invent uniform interfaces, raise an abstraction over analyzers, make algorithms that are changeable at run-time ... It would turn out very ... very much.  Fortunately, I suffer a little less mania of gigantism, and it was not required at that time. <br><br><h5>  <a href="https://habr.com/ru/post/114186/">3. Insides TAuthoringAnalyser and storing texts</a> </h5><br><br>  Let's look at the class TAuthoringAnalyser ( <a href="">[cpp]</a> , <a href="">[h]</a> ) - a real class that makes a real analysis of authorship.  Already at the very beginning of the h-file monstrous typedef's are evident: <br><br><blockquote> <code><a href="http://s-c.me/12114/s"></a> <a href="http://s-c.me/12114/h"></a> <font color="black">Copy Source | Copy HTML</font></code> <ol> <li>  <font color="#0000ff">class</font> <font color="#2b91af">TAuthoringAnalyser</font> : <font color="#0000ff">public</font> TAnalyser </li><li>  { </li><li>  <font color="#0000ff">public</font> : </li><li></li><li>  typedef map &lt; <font color="#2b91af">TTextString</font> , ParSentWordFSM :: TCFCustomUnitDivisionTreeItem, <font color="#2b91af">less</font> &lt; <font color="#2b91af">TTextString</font> &gt;&gt; TTextsParSentWordTrees; </li><li>  typedef map &lt; <font color="#2b91af">TUInt</font> , TRangeMapsEqualifer :: TEqualifiedMapsContainer, <font color="#2b91af">less</font> &lt; <font color="#2b91af">TUInt</font> &gt;&gt; TLeveledEqualifiedMaps; </li><li>  typedef map &lt; <font color="#2b91af">TUInt</font> , <font color="#2b91af">TFrequencyTablesContainer</font> , <font color="#2b91af">less</font> &lt; <font color="#2b91af">TUInt</font> &gt;&gt; TLeveledFrequencyContainers; </li><li>  typedef map &lt; <font color="#2b91af">TUInt</font> , <font color="#2b91af">TTextString</font> , <font color="#2b91af">less</font> &lt; <font color="#2b91af">TUInt</font> &gt;&gt; <font color="#2b91af">TIndexToAliasAssociator</font> ; </li><li>  typedef map &lt; <font color="#2b91af">TUInt</font> , <font color="#2b91af">TIndexToAliasAssociator</font> , <font color="#2b91af">less</font> &lt; <font color="#2b91af">TUInt</font> &gt;&gt; TLeveledIndexToAliasAssociators; </li><li></li><li>  <font color="#008000">// &lt;Unsafe code&gt; // Note: why this code is not safe, it‚Äôs unlikely to be remembered ...</font> </li><li>  typedef map &lt; <font color="#2b91af">TUInt</font> , <font color="#2b91af">TResultVector</font> , <font color="#2b91af">less</font> &lt; <font color="#2b91af">TUInt</font> &gt;&gt; TLeveledResultVectors; </li><li>  <font color="#008000">// &lt;/ Unsafe code&gt;</font> </li><li>  <font color="#008000">// .......</font> </li><li></li></ol></blockquote><br><br><img src="https://habrastorage.org/storage/cbeae94b/04493f0b/43c4aaf0/ecd248cf.png" align="right"><br>  These types are needed to store all intermediate data, calculations, results.  Thus, TTextsParSentWordTrees contains, obviously, structural text trees: ‚ÄúAll text -&gt; paragraphs -&gt; sentences -&gt; words‚Äù;  TLeveledFrequencyContainers contains the frequency characteristics of texts distributed over levels, and so on.  You may also notice that all built-in types ( <a href="">[h]</a> ) are overridden.  TUInt == unsigned int, TTextString == AnsiString.  It is hard to imagine when it could be useful.  Redefined types, of course, can be changed in a flash without making changes to the project files, but how often do such situations occur?  When it suddenly turns out that the 32-bit integer is missing?  When suddenly AnsiString stopped satisfying us, and we wanted std :: string?  Too hypothetical situation, and happens primarily with a poorly designed program.  Anyway, the types are redefined, they don‚Äôt really hinder, they don‚Äôt help much, and you have to get used to it. <br><br>  Slightly lower in the protected section of our facade analyzer, objects of these and other types are declared: <br><br><blockquote> <code><a href="http://s-c.me/12115/s"></a> <a href="http://s-c.me/12115/h"></a> <font color="black">Copy Source | Copy HTML</font></code> <ol> <li>  <font color="#008000">// .......</font> </li><li>  <font color="#0000ff">private</font> : </li><li>  TTextsConfigurator * _AllTextsConfigurator; </li><li>  TTextsConfigurator _AnalysedTextsConfigurator; </li><li>  TTextsParSentWordTrees _Trees; </li><li>  TLeveledEqualifiedMaps _LeveledEqualifiedMaps; </li><li>  TLeveledFrequencyContainers _FrequencyContainers; </li><li>  TLeveledIndexToAliasAssociators _IndexToAliasAssociators; </li><li>  <font color="#008000">// .......</font> </li></ol></blockquote><br><br>  The TTextsConfigurator class has a complex structure.  Its task is to download, store and provide texts - without deep copying.  A program would be good if texts, being transmitted in parameters, were completely copied.  Then there would be no memory, no processor time.  Therefore, TTextsConfigurator provides access via pointers.  It is believed that once downloaded, the text is always available.  The ‚ÄúText Configurator‚Äù also stores additional information: is the text a sample or is it key;  whether the text is activated or not (in the program you can exclude texts from analyzes), who is the author, what is the name, etc.  How this is implemented can be viewed in the classes TTextsConfigurator ( <a href="">[cpp]</a> , <a href="">[h]</a> ), TTextConfiguration ( <a href="">[cpp]</a> , <a href="">[h]</a> ) and TTextDataProvider ( <a href="">[cpp]</a> , <a href="">[h]</a> ).  It is in this order that the objects of these classes are invested in each other, and we get a kind of matryoshka.  The idea was to separate the logical and physical representation of the text, as well as to provide the ability to download raw data from different sources, without knowing anything about the sources or the format in which the text is stored.  Therefore, the loader "raw data" can be changed.  Among other things, it uses the ‚ÄúSmart Pointer‚Äù pattern (TMPRawDataItem and TMPLogicalTextItem classes) in its ‚ÄúMaster Pointer‚Äù feature ( <a href="http://www.firststeps.ru/theory/c/r.php%3F5">[1]</a> , <a href="">[2]</a> ).  There is also a hierarchy of classes that allows you to abstract from the physical representation of texts.  All this hardly suited me;  Perhaps I did extra work, but I gained a lot of experience and positive emotions. <br><br><img src="https://habrastorage.org/storage/0a7751ef/e7202c29/7fdef787/64054c27.png"><br></div><p>Source: <a href="https://habr.com/ru/post/114186/">https://habr.com/ru/post/114186/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../114177/index.html">Monitoring the balance of cell phones, providers - or never again forget to pay for the phone and the Internet on time</a></li>
<li><a href="../114180/index.html">4X Games: in search of the fifth</a></li>
<li><a href="../114181/index.html">Cultural differences: Japanese (another look)</a></li>
<li><a href="../114182/index.html">Auto-change textarea when entering text</a></li>
<li><a href="../114183/index.html">Cultural differences 2. Colleagues from India</a></li>
<li><a href="../114187/index.html">Text analyzer: recognition of authorship (continued)</a></li>
<li><a href="../114188/index.html">Text analyzer: recognition of authorship (end)</a></li>
<li><a href="../114190/index.html">Steps engineer. When the question "What's next?"</a></li>
<li><a href="../114192/index.html">Logitech M570 Wireless Trackball Review</a></li>
<li><a href="../114193/index.html">One thing I don‚Äôt understand about Google and copywriting</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>