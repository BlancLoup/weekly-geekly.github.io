<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>vCloud Director for the smallest (part 2): creating virtual machines</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="UPDATE: We have automated the creation of network and NAT rules. Now, when making a subscription, all this is created by itself :). All you have to do...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>vCloud Director for the smallest (part 2): creating virtual machines</h1><div class="post__text post__text-html js-mediator-article">  <b>UPDATE:</b> We have automated the creation of network and NAT rules.  Now, when making a subscription, all this is created by itself :).  All you have to do is <a href="http://habrahabr.ru/company/dataline/blog/257225/">deploy a virtual machine</a> from a template or from scratch.  At the same time, you still have the opportunity to change the network settings if necessary. <br>  Just do not forget about the Firewall, which by default does not allow any traffic and requires <a href="https://cloudlite.ru/faq/177">setting up rules</a> . <br><br>  <a href="http://habrahabr.ru/company/dataline/blog/256733/">Part 1. Network Setup</a> <br><br>  In vCloud Director, virtual machines ‚Äúlive‚Äù in vApp containers, so creating a VM begins with the creation of vApp.  You can select the following options: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  vApp from template (from VM with pre-installed OS); </li><li>  vApp c is an ‚Äúempty‚Äù VM, i.e.  without OS. </li><li>  ‚ÄúEmpty‚Äù vApp and add VM there later. </li></ul><br><br>  In this material we consider in detail the first two cases. <br><img src="https://habrastorage.org/files/b38/890/d0a/b38890d0a4784021999cd0b6b3baf8b6.PNG" alt="image"><a name="habracut"></a><br><br><h4>  Creating a virtual machine from a ready-made template </h4><br>  Let's start with the simplest option - deploying vApp from a template.  In <a href="https://cloudlite.ru/%3Futm_source%3Dhabr%26utm_medium%3Dreferral%26utm_campaign%3Dtutorial_2">CloudLite.ru</a> you can not bother with downloading templates, as in the public catalog (Public Catalog) is a fairly wide choice of ready-made templates. <br><br>  1. Go to the <b>My Cloud</b> section and select the <b>vApps</b> tab and click on the green <b>+</b> . <br><br><img src="https://habrastorage.org/files/b1a/92e/882/b1a92e8825f44f50a0447e246508f57a.png" alt="image"><br><br>  2. In the new window in the <b>Look in</b> field, select the <b>Public Catalog.</b> <br>  The table below will display a list of available OS virtual machine templates.  Select the desired. <br>  At the bottom of the window will contain information about this template, including login to login, the necessary disk space, etc. Click <b>Next</b> . <br><br><img src="https://habrastorage.org/files/ee7/356/0ef/ee73560efbc44a24b88f0e1e68229c7c.png" alt="image"><br><br>  3. Enter the name or leave the existing (Name), fill in the description as necessary (Description).  Click <b>Next</b> . <br><br><img src="https://habrastorage.org/files/e3a/842/777/e3a842777b30475c9f5a23410c948510.png" alt="image"><br><br>  4. In the <b>Configure Resources</b> tab, if necessary, make changes to the Computer Name field (the name that will be displayed inside the guest OS during customization).  <b>Next</b> button. <br><br><img src="https://habrastorage.org/files/644/1b8/7bf/6441b87bfcf249a387abf4aa69936ec5.png" alt="image"><br><br>  5. In the <b>Network Mapping</b> tab, set the network parameters. <br><br><img src="https://habrastorage.org/files/0a9/6fe/bf2/0a96febf255a426da8334d8dbf206279.png" alt="image"><br><br>  6. We skip the step <b>Custom Properties</b> and get to the tab <b>Customize Hardware</b> .  Here are the parameters CPU, Memory, Hard Disk.  We recommend not to change them while the VM is deployed, but rather to do it after its creation.  <b>Next</b> button. <br><br><img src="https://habrastorage.org/files/087/3ea/f80/0873eaf80be847ae9e36494760689748.png" alt="image"><br><br>  7. On the last tab <b>Ready to Complete,</b> carefully check all the parameters of your virtual machine selected in the previous steps.  Here you can automatically launch the created virtual machine by ticking the checkbox <b>Power on vApp after this wizard is finished</b> .  Click <b>Finish</b> . <br><br><img src="https://habrastorage.org/files/a33/ed0/f02/a33ed0f02fde409aa9c16bc9ee8e06f2.png" alt="image"><br><br>  If there is a desire to deploy VMs from its own template, then this can also be done in vCloud Director.  To do this, <a href="https://cloudlite.ru/faq/147/%3Futm_source%3Dhabr%26utm_medium%3Dreferral%26utm_campaign%3Dtutorial_2">create a directory</a> (the folder into which you will download this template), well, and <a href="https://cloudlite.ru/faq/145/%3Futm_source%3Dhabr%26utm_medium%3Dreferral%26utm_campaign%3Dtutorial_2">import the template itself</a> .  In the Look in field, respectively, instead of Public Catalog, select your catalog. <br><br><h4>  Creating a virtual machine from scratch (without pre-installed OS) </h4><br>  If you need to load your OS on the created virtual machine, then for this we create a vApp with an ‚Äúempty‚Äù VM. <br><br>  1. Go back to the <b>My Cloud</b> section, in the <b>vApps</b> tab, click on the icon marked with a yellow marker ( <b>Build new vApp</b> ). <br><br><img src="https://habrastorage.org/files/c6d/187/272/c6d1872721a04a1da4ff531a468767c7.png" alt="image"><br><br>  2. In the window that appears, set the name of the VM. <br>  In the Leases section, if necessary, you can set the time after which VMs contained in this container will be automatically turned off ( <b>Runtime Lease</b> ) and the period after which virtual machines of this vApp will be ‚Äúfrozen‚Äù ( <b>Storage Lease</b> ) and displayed in the <b>Expired</b> tab <b>Items</b> .  The time specified in <b>Storage Lease</b> begins to run after the time specified in Runtime Lease. <br>  Click <b>Next</b> . <br><br><img src="https://habrastorage.org/files/08f/199/be7/08f199be7dec4f94aa1e94b31723649e.png" alt="image"><br><br>  3. On the <b>Add Virtual Machines</b> tab, select the <b>New Virtual Machine</b> option.  Click <b>Next</b> . <br><br><img src="https://habrastorage.org/files/e6a/b7e/f1d/e6ab7ef1d11940038a2162bcb398751e.png" alt="image"><br><br>  4. In the <b>New Virtual Machine</b> window that appears, you need to select the parameters of the virtual machine being created: <br><br>  - name (Virtual Machine Name); <br>  - the name that will be displayed inside the guest OS during customization (Computer Name); <br>  - its description if necessary (Description); <br>  - a family and a specific operating system, which we will later install.  For example, choose Centos; <br>  - the amount of RAM and disk; <br>  - total number of virtual cores that will be allocated to the VM (Number of virtual CPUs); <br>  - number of cores per virtual socket. <br><br>  The last two parameters are important for licensing some operating systems.  For example, for Windows Server Standard, the number of sockets should be no more than 4. In other cases, it is better to leave 1 core per socket. <br><br>  Parameters that are set automatically and which we do not recommend changing: <br>  - version of the virtual machine container (Virtual hardware version); <br>  - bus type of virtual disks (Bus type).  This is not related to the type of drives (SAS, SATA, VSAN) :). <br>  - the number of virtual network adapters (Number of NICs).  If there are no specialized needs, we recommend leaving 1. <br><br>  Click <b>OK</b> . <br><br><img src="https://habrastorage.org/files/2f1/565/74b/2f156574b4614ae984ebfa635ada5dcc.png" alt="image"><br><br>  5. A new virtual machine appears in the list of created vApp.  Click <b>Next</b> . <br><br><img src="https://habrastorage.org/files/6f6/0e9/d76/6f60e9d768794e3eb9a73a86576255d5.png" alt="image"><br><br>  6. On the <b>Configure Resources</b> tab, simply click <b>Next</b> . <br><br><img src="https://habrastorage.org/files/0c6/6cd/29c/0c66cd29c0464dc68553b7428ad7e658.png" alt="image"><br><br>  7. If necessary, make changes in the Computer Name field, select the network to which we want to connect the newly created virtual machine.  In this case, select the Test_Network network that we created in the previous <a href="http://habrahabr.ru/company/dataline/blog/256733/">article</a> .  Click <b>Next</b> . <br><br><img src="https://habrastorage.org/files/3a0/136/c80/3a0136c80be94200b1f89b0f68d0ac50.png" alt="image"><br><br>  8. In the <b>Configure Networking</b> tab, you can view the network settings.  You can also select the option <b>Fence vApp</b> .  It allows you to assign identical IPs to virtual machines in different vApps, while avoiding IP address conflicts.  This is useful if there are several test or development environments with identical VMs. <br><br><img src="https://habrastorage.org/files/6a6/dd3/66d/6a6dd366db0746b6b17e1e90dbd50b64.png" alt="image"><br><br>  9. On the last tab, <b>Ready to Complete,</b> once again carefully check all the parameters of the virtual machine.  If everything works out, then click <b>Finish</b> . <br><br><img src="https://habrastorage.org/files/e5a/763/c61/e5a763c6102c4bc390aa5d142e52fdae.png" alt="image"><br><br>  10. We are waiting for some time until the VM under Centos unfolds. <br><br><img src="https://habrastorage.org/files/4a9/0c1/1e5/4a90c11e5e0947a1bb675f8401ce3c5d.png" alt="image"><br><br>  Next, you need to install the appropriate OS by mounting the installation disk image (ISO image) or the disk itself.  Here are the detailed <a href="https://cloudlite.ru/faq/134">instructions</a> for this case. <br><br><h4>  Creating an ‚Äúempty vApp </h4><br><br>  It's all very simple.  The beginning is the same.  as in the previous case.  The only thing - this time we do not click on <b>Add New Virtual Machine</b> .  Instead, click <b>Next</b> to win.  In this ‚Äúempty‚Äù vApp, then similarly, deploy a VM from a template or from scratch (without OS) in the same way as we have already done today. <br><br><h4>  Of important </h4><br>  <b>Customization</b> <br>  When the VM is first turned on, so-called customization occurs when all the specified settings are applied to the virtual machine: <br>  ‚Ä¢ name of the virtual machine; <br>  ‚Ä¢ network settings; <br>  ‚Ä¢ SID; <br>  ‚Ä¢ administrator password. <br><br>  If customization is not available, then VM parameters can be configured manually via the console. <br><br>  <b>Guest OS password</b> <br>  Read about the password for the guest OS <a href="https://cloudlite.ru/faq/185/%3Futm_source%3Dhabr%26utm_medium%3Dreferral%26utm_campaign%3Dtutorial_2">here.</a> <br><br>  Actually, that's all for today. <br>  You can go to train on cats in <a href="https://cloudlite.ru/%3Futm_source%3Dhabr%26utm_medium%3Dreferral%26utm_campaign%3Dtutorial_2">Cloudlite.ru</a> :) <br><br>  Questions on this material and suggestions on future tutorial topics leave in the comments. <br>  Good luck in learning vCloud Director!  :) <br><br>  <a href="http://habrahabr.ru/company/dataline/blog/256733/">vCloud Director for the smallest (part 1): network setup</a> </div><p>Source: <a href="https://habr.com/ru/post/257225/">https://habr.com/ru/post/257225/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../257215/index.html">EPAM, get me a genome</a></li>
<li><a href="../257217/index.html">Conceptual modeling: How Many? How Much?</a></li>
<li><a href="../257219/index.html">Event video surveillance over the Internet for apartment and private homes. Virtual concierge</a></li>
<li><a href="../257221/index.html">Async / await in C #: pitfalls</a></li>
<li><a href="../257223/index.html">Spring Boot: from start to production</a></li>
<li><a href="../257227/index.html">Remote work or freelancing in the outback. Aspects of communication. Part 1</a></li>
<li><a href="../257229/index.html">The digest of interesting materials for the mobile developer # 101 (April 27-May 4)</a></li>
<li><a href="../257231/index.html">Can we talk about the applicability of the law of Moore in the field of IaaS</a></li>
<li><a href="../257233/index.html">Hadoop: to be or not to be?</a></li>
<li><a href="../257237/index.html">What to expect when you expect a child: PHP 7, part 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>