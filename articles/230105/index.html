<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The history of "Titans"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello everyone, my name is Ivan Grigoriev, I work for What Games. On July 9, in Odnoklassniki, in the soft start mode, our new game, Titans, was relea...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The history of "Titans"</h1><div class="post__text post__text-html js-mediator-article"> <a href="http://habrahabr.ru/company/mailru/blog/230105/"><img src="https://habrastorage.org/getpro/habr/post_images/6b9/86f/ffb/6b986fffbabb7850abcbc08c381b3700.jpg"></a> <br><br>  Hello everyone, my name is Ivan Grigoriev, I work for What Games.  On July 9, in Odnoklassniki, in the soft start mode, our new game, Titans, was released.  During the development of such a large and complex project, fresh information ‚Äúfrom the fields‚Äù is usually very useful.  Unfortunately, due to the general closeness of our industry, the exchange of positive experiences between developers is now extremely difficult.  With a series of our posts, we intend to break the established tradition and tell the most honest and honest about the development of a modern social game in real time. <br><a name="habracut"></a><br><h1>  Characters </h1>  Pasha - AS3 programmer (core, battle, map). <br>  Zhenya - AS3 programmer (base, interface). <br>  Nikita is a backend developer. <br>  Leonid - game designer, project manager. <br>  Daniel is an art director. <br>  Vadim - 2D-artist (interface, effects). <br>  Vitaly - 2D-artist (design and layout of windows, effects). <br>  Igor is a 2D artist (sketches, icons). <br>  Glory - 3D-modeler. <br>  Dima - creative director, staff specialist on the slope. <br>  Vanya - producer. <br><br><h1>  Introduction.  January 2014 </h1>  The mountain of concepts on the table was already beginning to frighten.  Elves, cars, beetles, impregnable military bases, girls in tempting poses, but what just was not there.  The guys thoughtfully bent over the table.  After two consecutive failed launches (‚ÄúBrotherhood of Fire‚Äù and ‚ÄúJungle Generals‚Äù in 2013), we could no longer be mistaken.  And yet it was completely incomprehensible how to choose a style from the mountain of images for the next game.  All again plunged in thought.  After some time, Dima, evidently catching a tempting thought in the depths of his mind, suddenly said: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      - Do you know what's really cool?  Huge humanoid fighting robots! <br><br>  This idea was so simple that the six guys gathered around the table did not immediately react to it.  In the cinema, a beautiful and realistic picture, real-time battles, a ‚Äúheated‚Äù setting are all that is needed to launch a successful product.  In the courtyard was January 2014.  For four months we decided to make the coolest social midcore strategy with stunning graphics and realistic battles of Combat Robots.  Being a month and a half late, we still achieved our goal. <br><habracut><br><img src="https://habrastorage.org/getpro/habr/post_images/8d3/544/296/8d3544296956d7c4429e1ad2eeb4e000.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/fe1/402/a55/fe1402a55e100c04fd6d315173c2d0f4.jpg"><br><br>  <i>Search for style.</i>  <i>The first sketches.</i> <br><br><h1>  Definition of basic rules.  February 2014 </h1>  Having passed by this time the fire, water and copper pipes of social game development, we knew that we could not fight simultaneously on all fronts.  In the coming months, it was necessary to develop interesting rules for the main game cycle.  The main problem was that we really wanted the battles of the Great Combat Robots to take place in real time (and not in step-by-step mode, which would be much easier technically).  None of us has ever had to solve this problem.  It was clear that the available forces (one and a half game designer) were not enough to come up with the rules from scratch.  On the other hand, there was nowhere to go.  Still, it was impossible to launch a social game without a strong balance in 2014.  Therefore, we decided to go to the market in search of an example of successful implementation of real-time combat. <br><br>  Having searched first in the appstore's cash top (Clash of Clans, card battles and poker), looking past the top of VKontakte (‚ÄúRules of War‚Äù in five variations, boring), we finally reached Facebook.  There was plenty to choose from, but in the end our attention was attracted by the games of Kixeye.  In them, the fights were beautiful and not very difficult to master, however, they left room for the skill to be used. <br><br>  We defined the main game cycle as follows: <br><ul><li>  Collecting resources on the base. </li><li>  Gathering detachment, access to the map. </li><li>  Attack on a squad controlled by a computer or on the base of another player or execution of a campaign task </li><li>  Real-time combat with direct troop control. </li><li>  The return of the detachment to the base and repair. </li><li>  Run research on earned money. </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/a53/ffa/942/a53ffa942f24b9c427860dc2e70a543b.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/e42/cf6/c59/e42cf6c59a1cd6c4c73deb9d639efd61.jpg"><br><br>  <i>Vega Conflict and sketches for our battle.</i> <br><br><h1>  The choice of visual style.  March 2014 </h1>  So, our game designer Leonid started creating a detailed dizdok.  Meanwhile, the artists, having received a more rigid framework (which, as we know, greatly enhance creativity), began to work out possible options for the appearance of the game.  For the buildings on the base, the style of the latest games of the C &amp; C series was the most suitable, realistic and bright at the same time.  With robots, oddly enough, it was harder.  It turned out that a good modern robot is not so easy to draw.  Here the skills of Igor, our 2D artist, were very useful to us.  Before getting into game development, he worked on drawings of ships at some secret factory, and in his spare time was engaged in painting.  Great combination!  Taking the style of the latest technology and the latest games of the MechWarrior series, he helped us determine the appearance of the Fighting Robot in the game. <br><br>  By this time, artists and game designers gained a decent speed, moving in slightly different directions.  And after a while the inevitable happened - their interests collided.  ‚ÄúLook, what a cool pictures!  I really want to manage such a base! ‚Äù, Said art director Daniel.  "With such a camera, we just can not make normal attacks of players on each other!", - answered Leonid.  After heated debates, physicists this time still overpowered the lyricists, and the player‚Äôs base was very atmospheric, but terribly inconvenient, turned into a more standard, but flexible one.  The issue of style has been resolved. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f36/e30/738/f36e30738195e83c5faffd787a7f6f9d.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/74f/576/62a/74f57662aaab7628e82c3ec8120db858.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/881/690/f29/881690f292e81e4dee866ed168c32abc.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/20e/2bf/220/20e2bf22080497906de6b984460aa7a8.jpg"><br><br>  <i>Early sketches for robots and player base.</i> <br><br><h1>  ‚ÄúAnd what does this button do, remind?‚Äù April 2014 </h1>  Our game was pretty hardcore (by the standards of social games), largely due to the large number of different entities.  Research, production of robots, selection and improvement of various components, squads, base defense - all this had to be explained to the players through a visual interface.  According to our calculations, for a month and a half, we had to design, draw and insert into the game an interface for the three main game screens, 14 windows, as well as pop-up menus and tooltips of all stripes. <br><br>  The interface of "Vega", although formally and performed all the basic tasks, was at the same time really bad.  Confused, incomprehensible, ugly, inconvenient - all design rules that can be found on the Internet are successfully ignored in it.  However, having paused a few days on different buttons, we decided not to wake famously while it was quiet.  Those who owe their duty to improve the interface know that this process most often resembles a ‚Äúfairy tale with details‚Äù - one change always pulls five others along.  Worse, sometimes a vile problem cannot be solved without fixing the jamb in game design.  Therefore, we have developed a plan: <br><ol><li>  Select the overall style of the interface. </li><li>  Design all the necessary windows in an acceptable form. </li><li>  Collect from them a working prototype, start the game. </li><li>  In the course of development, gradually bring the window into a human form. </li></ol><br><img src="https://habrastorage.org/getpro/habr/post_images/d7b/3f2/a31/d7b3f2a312e340086b84704d46eaab37.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/ea3/cf1/0dc/ea3cf10dc780f58eadf251fe2b974009.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/40f/bff/182/40fbff182c96dc71123cbeb0aceb238f.png"><br><br>  <i>An example of changing one of the windows.</i>  <i>The first working version, the current version, the thumbnail of the next iteration.</i> <br><br><h1>  Clouds, technology and platform selection.  May 2014 </h1>  The release date was rapidly approaching, and it was necessary to determine the infrastructure.  We had the following usage scenario: there is a game client that periodically (not very often) sends requests to the server to change its state.  In addition, it is necessary to collect a lot of data about the behavior (the more, the better) and then somehow analyze them.  And we also knew that the load would be intermittent.  It will change a lot during the day, and we also expect sharp jumps during marketing activities (buying advertising or aboard fichering on the platform).  By that time, our colleagues already had a positive experience with the Amazon AWS cloud, so we decided to move our technology stack there.  What seemed to be some incredible technology from the future, in fact turned out to be an incredible technology from the present.  Here's what we got in the end: <br><ul><li>  Customer.  Flash application; </li><li>  Protocol.  HTTP, GET requests; </li><li>  Balancer.  Amazon ELB + script to change the number of instances when the load changes; </li><li>  Server  C3.2xlarge + nginx + PHP instances; </li><li>  Profile Database.  Amazon DynamoDB + script to change bandwidth when load changes; </li><li>  Caching server  R3.large + MongoDB + Redis instance; </li><li>  Statistics.  MySQL (as an Amazon RDS service), followed by a move to Amazon Redshift; </li><li>  Statics.  Webzilla, followed by moving to CDN Highwinds. </li></ul><br>  In the end, you need to pay a little more for this design than for the same static servers in Selectle, but for this money we get much higher reliability and flexibility. <br><br>  In addition, it was time to decide on the launch platform.  Traditionally, we all started the games on VKontakte first, but during a trip to DevGamm in May, we talked to the Odnoklassniki game department.  Arthur and Valya looked at our prototype and said: ‚ÄúGuys, great game!  We have an adult audience, the average check is more, and even the game opens to the full width of the page.  Come to us!  In addition, they promised to help with the production after launch.  To prove her words, Valya after some time sent an internal anonymous benchmark with indicators of successful games of our segment.  The proposal was rather ambiguous.  On the one hand, the usual design and convenience of contact.  On the other hand, there are real people in Odnoklassniki on the other end of the line (who, it seems, really wanted the game to be successful) and potentially higher earnings, but a completely hellish design of the entire site.  After weighing all the pros and cons, we decided that we are men and can endure a trash design for a good check.  Therefore, they blew dust from their accounts and decided to start there first. <br><br>  In the meantime, the development has reached the final stretch - Pasha and Zhenya, our client programmers, collected the build in a bunch.  Leonid adjusted the balance by adjusting the complexity of the accumulation of resources and the speed at which users moved through the game.  It seemed that we were ready to launch. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f88/fda/497/f88fda4973b5a7803f0a798cd7f84989.jpg"><br><br>  <i>Our Battle Robot instead of backend diagrams.</i> <br><br><h1>  Release  June 2014 </h1>  On June 1, the day of the proposed release, we tried to look at the game with an unbiased look.  After four months of hard work, it was not easy.  However, during the discussion we established that none of us really played in it, and that we cannot launch the game in its current form.  All systems were in place, but a large number of small inconsistencies and roughness prevented how to immerse in the gameplay.  The budget and the timing of the project already cracked at the seams, but still the release had to be postponed. <br><br>  It's time to cut unfinished functions.  Having thought it over, they decided first of all to donate a card inhabited by real players.  She had a lot of problems at all levels - from game design to load backend.  On the other hand, the direct benefit of the gameplay from this feature was doubtful.  We needed something simple, functional, and as quickly as possible.  We decided that we will make a system that will pick up interesting rivals on its own, depending on the player‚Äôs leveling level and arrange them around the player on the map. <br><br>  Having barricaded myself in the office for another month, we began to aggressively finish the game. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e47/5e8/ec9/e475e8ec9fb9d22ce3a4515298049b99.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/53c/169/f63/53c169f634da1e465e0f52f93d011a28.jpg"><br><br>  <i>Sector map - before and after changes.</i> <br><br><h1>  The second release, preliminary results.  July 2014 </h1>  Today is July 17, and our game has been in the soft start mode for two weeks already.  Fortunately, when publishing the application, we managed to quickly wade through the thickets of ‚Äúapplication questionnaires‚Äù, ‚Äúapplications for placing an application‚Äù, ‚Äúcontract downloads‚Äù and get to the glade, where a real lively and quite responsive moderator Oleg was waiting.  Seeing that our intentions were the most serious, he rather quickly pressed his lever, so the administrative part took only one day. <br><br>  Here is a chronology of further events: <br><ul><li>  July 2  Internal testing.  Found a bunch of bugs on the client, fix it. </li><li>  July 11th.  We bought 1000 installs of 1.8 rubles each (men 25+, banner in ‚ÄúRecommended‚Äù).  After 200 installations, the game stops working, we fix. </li><li>  July, 12.  We bought another 1500. We received the first payments.  Found a bunch of bugs in the server log, fix it. </li><li>  July 13.  We bought another 1000. We test different banners, the Great Combat Robots work best. </li><li>  July 15.  Summed up the first results.  1000 people playing.  Return on the second day - 35%.  Beat off advertising costs. </li><li>  July 16.  Test run recognized as successful. </li></ul><br>  In the near future we have to recycle a huge collection of accumulated ideas and find out which ones fall into the category of ‚Äúpants for the birds‚Äù and which ones can really make the game better.  In addition, before launching, we definitely need to integrate the basic virality mechanisms into the game (with the setting of which, I hope, the Odnoklassniki game department will help us).  Without them, we will not have organic traffic (we now have 20 installations per day). <br><br>  The performance of the game was quite decent, so we planned to launch a full-scale launch (with organic traffic from the list of new games and ‚Äúadult‚Äù marketing budgets) in mid-August. <br><br>  This ends the first series.  In a couple of weeks I will tell you what happened next. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e9c/c60/5d5/e9cc605d51b23f9a6ad624e8657c3a81.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/4c8/1a1/841/4c81a184165d95eff282b6a1fa7664ce.jpg"><br><br>  <i>A couple of screenshots from the final game.</i> </habracut></div><p>Source: <a href="https://habr.com/ru/post/230105/">https://habr.com/ru/post/230105/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../230093/index.html">Return of nicknames: Google+ canceled the requirement to specify only real names</a></li>
<li><a href="../230097/index.html">Various Visual Studio profiles and installation of extensions to them</a></li>
<li><a href="../230099/index.html">Mozilla Releases Improved JPEG Encoder</a></li>
<li><a href="../230101/index.html">I twist, I twist, I twist, I twist pedals</a></li>
<li><a href="../230103/index.html">Probabilistic models: LDA, part 2</a></li>
<li><a href="../230109/index.html">The interactive map of the solar system was translated into Russian</a></li>
<li><a href="../230111/index.html">Templates in XtraLayoutControl 14.1.5</a></li>
<li><a href="../230115/index.html">Data security on Android, deep links from Facebook and the new MOBA to mobile phones - the main mobile news of the week</a></li>
<li><a href="../230117/index.html">Theory of Relativity in the Real World: GPS</a></li>
<li><a href="../230121/index.html">About Digital Fortress and Journalists</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>