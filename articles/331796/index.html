<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Leaflet 1.xx vs Openlayers 4.xx Part 1. Source Code</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I want to share my experience with the data of JS-mapping frameworks, I hope the materials will help to make a choice in the question: which library t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Leaflet 1.xx vs Openlayers 4.xx Part 1. Source Code</h1><div class="post__text post__text-html js-mediator-article">  I want to share my experience with the data of JS-mapping frameworks, I hope the materials will help to make a choice in the question: which library to use exactly in your project.  In order not to tire, I will break it into several logical parts.  Let's start with the main and source code. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/75b/895/29e/75b89529eeb7416b829a613b25491cd3.png"></div><a name="habracut"></a><br>  I always liked the <a href="https://github.com/openlayers/ol2">Openlayers 2</a> code, it was as academic as possible and written, it was easy enough to understand its code and become a co-author or write a plugin. <br><br>  The code for <a href="https://github.com/openlayers/openlayers">version 3 and later is</a> also well written and documented, but there is one ‚Äúbut‚Äù - written using the <a href="https://developers.google.com/closure/compiler/">Google Closure Compiler</a> and without using ES6.  This is a very interesting thing, for example, the size of the libraries themselves: <br><table><tbody><tr><th>  Framework </th><th>  Assembly </th><th>  Source files </th></tr><tr><td>  Leaflet 1.0.3 </td><td>  144 kb </td><td>  410 kb (90 files) </td></tr><tr><td>  Openlayers 4.1.1 </td><td>  511 kb </td><td>  3.1 MB (300 files) </td></tr></tbody></table><br>  It can be seen that Side ompiler compresses the source files by 2+ times more efficiently than the Leaflet mechanism.  It also provides a convenient mechanism for using namespaces during development, and not ‚Äúthese are yours‚Äù import '../../../../src' in ES6. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      At this all the advantages of Google Closure end (my subjective opinion).  Further some sufferings begin, they are mainly connected with the fact that in assemblies the names of all members of the class except public ones are ‚Äúoptimized‚Äù up to 1-2 letters.  For example, you need to write a descendant of the class ol.source.Image under your data source, and you can work only with public properties and methods.  Reaching out to private members of a class, as well as to abstract classes of parents, will be problematic.  There is only one intelligible option - to create your own Openlayers assemblies (OL authors propose to use this particular option), and making plugins ‚Äúside by side‚Äù without getting into the main library will not be very convenient.  However, inside the Openlayers assembly there is almost everything you need to create gis, even third-party vector and raster data providers (Esri for example), and the probability of writing something for yourself or searching for a plug-in for most systems is quite small. <br><br>  <a href="https://github.com/Leaflet/Leaflet">Leaflet</a> was originally conceived of a different principle.  The library itself has the necessary minimum, for everything else - plugins.  The code follows this principle.  In the beginning, he was really not very documented, there were no comments at all, then titles appeared in each class, now for all public methods and properties of the class there are exemplary descriptions and examples of use.  The code is written using ES6 (while only a modular system is used).  Accordingly, it is as convenient as possible to create your own Leaflet assemblies, and write extensions for it, the authors recommend the latter. <br><br>  In the article I wanted to show a simple example of finishing one and the second framework using the example of creating a tile layer with a non-standard tile grid, the starting point of the tiles is not in the upper left corner, but in the middle of the grid (yes, this happens).  For Leaflet, the plugin would look something like this: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> CenterOriginTileLayer = TileLayer.extend({ <span class="hljs-attr"><span class="hljs-attr">getTileUrl</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">coords</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//             //   URL    } });</span></span></code> </pre> <br>  But then I suddenly realized that for a tile source (ol.source.XYZ) in Openlayers there is a property of type ol.tilegrid.TileGrid, in which, in turn, there is an origin property ‚Äî the very coordinates of the center of the grid.  In short, Openlayers has it all, and wouldn't even have to code. <br><br>  So, if to evaluate from the point of view of the code, other things being equal, what to choose?  If you understand that both in Openlayers and in Leaflet (+ plugins) there is no ready-made functionality you need and you have to roll up your sleeves to write add-ons or even make a custom build, choose Leaflet.  It is easier and easier to integrate into your project.  If there is enough functionality both there and there, then in the question of choice it is necessary to be guided by other conditions. <br><br>  In the next article I will discuss the developer community and extensions for these frameworks. </div><p>Source: <a href="https://habr.com/ru/post/331796/">https://habr.com/ru/post/331796/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../331786/index.html">The problem of continuous protection of web applications. View from the side of researchers and operators</a></li>
<li><a href="../331788/index.html">Petya.A, Petya.C, PetrWrap or PetyaCry? New virus threat for companies in Russia and Ukraine</a></li>
<li><a href="../331790/index.html">Early bury java</a></li>
<li><a href="../331792/index.html">IT & City Android hackathon in Nizhny Novgorod</a></li>
<li><a href="../331794/index.html">"Now he counted you" or Data Science from Scratch</a></li>
<li><a href="../331800/index.html">Interesting Factorio Study: Plant Simulator</a></li>
<li><a href="../331802/index.html">About Gaudi, a nineteenth-century developer who achieved all that a developer can accomplish</a></li>
<li><a href="../331806/index.html">"Project Ironman." How to prepare for the "Iron Man" for 500 hours, using the skills of PM</a></li>
<li><a href="../331812/index.html">How to turn the passion of programming in the work</a></li>
<li><a href="../331814/index.html">Single or double precision?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>