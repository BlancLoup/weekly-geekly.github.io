<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Process code review in hh.ru</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I came across a document with the rules and recommendations for the process of reviewing the code within the company. I decided that such useful infor...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Process code review in hh.ru</h1><div class="post__text post__text-html js-mediator-article">  I came across a document with the rules and recommendations for the process of reviewing the code within the company.  I decided that such useful information should be shared with the outside world.  With the blessing of the <a href="https://habr.com/users/Splurov/">author,</a> I publish the work. <br><br><img src="https://habrastorage.org/webt/bq/ay/ce/bqayce-tt-jepecyyxg4fd08yh4.jpeg"><br><a name="habracut"></a><br>  Most of these rules are advisory in nature and must be guided first of all by common sense, not blind observance. <br><br><ul><li>  <a href="https://habr.com/ru/company/hh/blog/422399/">General provisions</a> </li><li>  <a href="https://habr.com/ru/company/hh/blog/422399/">Goals Review</a> </li><li>  <a href="https://habr.com/ru/company/hh/blog/422399/">Preparing for the review</a> </li><li>  <a href="https://habr.com/ru/company/hh/blog/422399/">Choosing a reviewer</a> </li><li>  <a href="https://habr.com/ru/company/hh/blog/422399/">Review process, general provisions</a> </li><li>  <a href="https://habr.com/ru/company/hh/blog/422399/">Process review by the author of the code</a> </li><li>  <a href="https://habr.com/ru/company/hh/blog/422399/">Review process by the reviewer</a> </li><li>  <a href="https://habr.com/ru/company/hh/blog/422399/">Used materials and related links</a> </li></ul><br><h3><a name="a1"></a>  General provisions </h3><br><ul><li>  In hh.ru review takes place in the <a href="https://help.github.com/articles/about-pull-requests/">pull request format</a> on Gitkhab. </li><li>  Review and pull-requests are required, even if the task changes one line or one character in the code. </li><li>  Each task must have at least one responsible reviewer, it is indicated in the task as a reviewer and is responsible for the code, as well as the author.  Participation in the review of other people is not prohibited. </li><li>  The responsibility to conduct the task through the review lies with the author of the task. </li><li>  Any changes after the review, for example, edits during testing, should also be verified. </li></ul><br><h3><a name="a2"></a>  Goals Review </h3><br><ul><li>  Dissemination of experience and knowledge among developers. </li><li>  Support of the principle - the changes should not degrade the already existing code, they should improve it. </li><li>  Correction of errors in logic and errors related to security, correct exception handling. </li><li>  Improving code quality, maintainability and project architecture. </li><li>  Improved code readability. </li><li>  Improved test coverage and testing at the right level. </li><li>  Improved documentation. </li><li>  Compliance with the requirements of the changes in the task. </li><li>  Prevent the emergence of <a href="https://ru.wikipedia.org/wiki/%25D0%25A2%25D0%25B5%25D1%2585%25D0%25BD%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B9_%25D0%25B4%25D0%25BE%25D0%25BB%25D0%25B3">technical debt</a> or technical tax. </li><li>  A thoughtful API design, where the API is any module with an external interface.  For example, that a resource in a service has a well thought-out URL, a convenient JSON format, correct response codes in different cases, and so on. </li><li>  The correct history of commits in Gita, with messages reflecting the essence, without temporary commits. </li></ul><br><h3><a name="a3"></a>  Preparing for the review </h3><br><ul><li>  Before publishing a pull request, read your code 2-3 times: most likely you will find errors there, which will save time for the reviewer.  Check that there are no errors that can be detected automatically - errors in the style of the code, dropped tests.  Make sure that there are no temporary comments and a debugging code in the code, and also check if your code corresponds to the accepted style guides. </li><li>  If you create a pull-request in the process of working on a task, write a note in the title ‚Äú[WIP]‚Äù and tick ‚Äúwork in progress‚Äù.  When the work is finished, remove the tags and inform about it with a separate comment so that interested people know that the code can be viewed. </li><li>  Get ready to show the mini task demo to the reviewer. </li><li>  Give a small portion of the code for review.  200-300 lines of change - the limit for effective review. </li><li>  Make independent changes by separate commits. </li><li>  Describe commits with short and informative messages. </li><li>  Refactoring make a separate commit, it is easier to see the changes in logic, the essence of the problem. </li><li>  Code formatting, make a separate commit before major changes, or even a separate pull request. </li><li>  Do not commit insignificant changes.  For example, adding line breaks in a file in which you didn‚Äôt change anything else. </li><li>  In the title of the pull request, briefly and informatively describe the essence of the changes. </li><li>  Describe the problem and solution in the pull request.  Describe alternative solutions and why the current solution is chosen.  If the changes concern the interface, attach screenshots of ‚Äúbefore‚Äù and ‚Äúafter‚Äù. </li><li>  In the pull request, give a link to the task, and in the task link to the pull request. </li><li>  Sometimes it is useful to discuss the chosen solution with the reviewer before writing the code.  This will help find the best solution to the problem and simplify the review process. </li></ul><br><h3><a name="a4"></a>  Choosing a reviewer </h3><br><ul><li>  Give the review task to a specialist from the relevant field. </li><li>  If several commands work with a certain code, then it is useful to select reviewers from another team to spread knowledge. </li><li>  An employee on probation cannot be a responsible reviewer, but can participate in the review process. </li><li>  Do not give all your review tasks to the same people - ask for reviews from different people. </li><li>  If the task affects a non-trivial code segment, which a certain person understands, show the changes to him, regardless of who is the responsible reviewer.  Also remember that every repository has meintainers, they know more about this code and supervise development. </li><li>  The rest of the reviewer is chosen arbitrarily, by mutual agreement of the parties.  To help you choose, use the <a href="https://help.github.com/articles/requesting-a-pull-request-review/">recommendations on Github</a> based on the ‚Äúblame‚Äù of the affected code. </li><li>  After selecting a reviewer, enter it as an <a href="https://help.github.com/articles/assigning-issues-and-pull-requests-to-other-github-users/">Assignee</a> in a pull request.  <a href="https://github.com/pulls/assigned">A list of</a> all pull requests you have been assigned to. </li></ul><br><h3><a name="a5"></a>  Review process, general provisions </h3><br>  It refers both to the author of the code and to the reviewer. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  All code is common, there are no such concepts as ‚Äúmy code‚Äù or ‚Äúyour code‚Äù.  This means that for every line of code every developer is responsible, and not just the one who wrote this line. </li><li>  Create an atmosphere of mutual understanding, be polite and friendly, appreciate and respect each other, do not impose your opinion.  Listen to the opinion of your opponent and do not stand on your own principle.  Do not turn reviews into a negative experience for colleagues. </li><li>  Ask questions if something is not clear.  Argue and clarify questions and answers.  The author of the code may not be obvious what is meant by the question ‚Äúwhy so?‚Äù, And the reviewer does not understand the reasoning of the answer ‚ÄúI do not agree‚Äù. </li><li>  Do not stretch the review process, save time, quickly respond to comments, discuss verbally, do not provoke long discussions and don‚Äôt make holivars.  If you can not quickly come to a consensus, contact your colleagues, meintainer or head of the functional direction for help. </li><li>  If the task is not on a couple of lines, spend 10-15 minutes with the reviewer on joint viewing of the code, it is useful to do this even before creating a pull request.  Discuss the essence of the tasks and solutions, look how it was and it became in the working environment.  This will help the reviewer to better immerse himself in the context of the task.  Most comments will remain unwritten, which will save everyone time. </li><li>  After an oral discussion, always describe the decision made and the reasons for it in a pull request.  The responsibility for the description lies with the author of the code. </li><li>  If the code contains the same type of errors, the reviewer should focus on the attention of the author of the code in the first or second comment, without commenting on each entry, and the author should analyze the code for similar errors before publishing the fix. </li><li>  Praise for the author's successful decisions and suggestions of the reviewer. </li><li>  Leave comments on changes in the pull request itself, not on individual commits.  Thus, all correspondence will be in one place, including after the rebuy. </li><li>  Reply to comments in the same thread where they started.  If the comment applies to the entire pull-request or in a single thread a few comments, quote the commented message.  To move from the letter to the outdated discussion thread, use the ‚Äúin path / to / file‚Äù link instead of the ‚Äúview it on GitHub‚Äù link. </li><li>  If in the review process any cardinal decisions are made from the point of view of coding standards or other arranged agreements, the author of the code is obliged to record these decisions in the relevant documents. </li><li>  The review is not only about the code, but about the whole problem.  Do not treat the requirements in the task or the layouts as the ultimate truth - everyone makes mistakes and no one can take into account all the nuances.  A fresh look and practical suggestions will only benefit the product. </li></ul><br><h3><a name="a6"></a>  Process review by the author of the code </h3><br><ul><li>  The task is not completed until it has been reviewed, tested and released for "Prod". </li><li>  Reply to all comments of the reviewer, do not leave comments unanswered, regardless of whether you accepted them or not. </li><li>  Think about questions that arise or may arise during the review.  Perhaps a section of the code lacks a comment or it is better to write the code more clearly. </li><li>  Do not fix existing commit (‚Äúgit commit - namend‚Äù), instead make changes with separate commits, one for each fix.  Correcting existing commits makes the review process very difficult, as you have to watch the whole code again. </li><li>  After adding a new commit to the pull request, write a comment about the changes in a separate comment so that interested parties are informed.  This applies to both revisions during the revision and revisions during testing. </li><li>  After the review, before submitting the task to testing, rewrite the history of commits (git rebase --interactive), making the appropriate corrections to individual commits and deleting temporary commits.  Note the --autosquash option to simplify the process. </li></ul><br><h3><a name="a7"></a>  Review process by the reviewer </h3><br><ul><li>  If at the time of the request you are busy, let us know exactly when you will begin the review. </li><li>  Do not ask, but suggest changes. </li><li>  Comment on the code, not the person who wrote it. </li><li>  You take responsibility for the written code, approach the review appropriately, but this does not mean that the author of the code should strictly fulfill all your requirements.  Remember, many things can be done in different ways. </li><li>  Follow the <a href="https://habr.com/ru/company/hh/blog/422399/">objectives of the review</a> and suggest changes to the merits.  Do not insist on non-critical changes.  Indicate the importance of corrections in the comments. </li><li>  If you find a serious problem, suspend the review and wait until the author fixes it.  Most likely, after the fix, you will still need to revise again. </li><li>  Pay attention not only to what has been changed, but also to what has not been changed.  Look for and show the author a code that should have been changed, but was not (forgotten imports or unused classes, using the refactored code elsewhere, and so on). </li><li>  After making changes by the author of the code, review the corrections and re-view the entire pull-request.  Perhaps taking into account corrections you will have new comments or questions. </li><li>  Do not waste time reviewing code that has not changed as part of the task.  The selection of a part of the code in a function is considered to be a change.  The transfer of the code "as is" for the change is not considered.  Reformat code in the affected file at the discretion of the author. </li><li>  The reviewer does not independently rule the code in the branch, because he so wants or is easier.  Changes are made by the author of the code. </li><li>  If you are going to review, try not to delay and not switch to other tasks to the detriment of the current </li></ul><br><h3><a name="a8"></a>  Used materials and related links </h3><br><ul><li>  <a href="http://kevinlondon.com/2015/05/05/code-review-best-practices.html">Code Review Best Practices</a> by Kevin London </li><li>  <a href="https://medium.com/%40isnifer/why-code-review-matters-3e4ad5a9d978">Why code review matters?</a>  by Anton Kuznetsov </li><li>  <a href="https://medium.com/swlh/code-reviews-can-make-or-break-your-team-a3cfdcc15de1">Code Reviews Can Make Or Break Your Team</a> by Amir Yasin </li><li>  <a href="http://www.marcotroisi.com/the-ethics-of-code-reviews/">The Ethics of Code Reviews</a> by Marco Troisi </li><li>  <a href="http://www.developer.com/tech/article.php/3579756/Effective-Code-Reviews-Without-the-Pain.htm">Effective Code Reviews Without The Pain</a> by Robert Boag </li><li>  <a href="https://developer.mozilla.org/en-US/docs/Code_Review_FAQ">MDN - Code Review FAQ</a> by Marcia Nus and others </li><li>  <a href="https://blog.alphasmanifesto.com/2016/07/11/how-to-create-a-good-pull-request/">How to create a good pull request</a> </li><li>  <a href="https://blog.alphasmanifesto.com/2016/11/17/how-to-perform-a-good-code-review/">How to perform a good code review</a> </li><li>  <a href="https://blog.scottnonnenberg.com/top-ten-pull-request-review-mistakes/">Top ten pull request review mistakes</a> from Skot Noneberg </li><li>  <a href="https://web.hypothes.is/blog/code-review-in-remote-teams/">Code review in remote teams</a> by Sean Hammond </li><li>  <a href="https://habrahabr.ru/company/avito/blog/330846/">May the Code Review with</a> Yegor Tolstoy </li><li>  <a href="https://habrahabr.ru/company/hh/blog/258933/">How I learned to make the world better in HeadHunter</a> by Ivan Baranov </li></ul><br>  PS Share in the comments your own rules, recommendations and useful cases on the review process </div><p>Source: <a href="https://habr.com/ru/post/422399/">https://habr.com/ru/post/422399/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../422383/index.html">Robot is not hard: how postal logistics gets smarter</a></li>
<li><a href="../422385/index.html">Virtual memory in ARMv7</a></li>
<li><a href="../422389/index.html">The forgotten art of bending: as in other cultures cherish the spine</a></li>
<li><a href="../422395/index.html">Well forgotten new: years later, the successor to MikroTik RB2011 comes out</a></li>
<li><a href="../422397/index.html">"The main thing - passed": what and how to teach the future IT people in Berlin</a></li>
<li><a href="../422401/index.html">Another C ++ plugin framework</a></li>
<li><a href="../422403/index.html">September 20, Moscow - a meeting for analysts</a></li>
<li><a href="../422407/index.html">How to find similar texts and sort</a></li>
<li><a href="../422409/index.html">Python: metaprogramming in production. Part one</a></li>
<li><a href="../422411/index.html">New roles in companies in the era of servitization</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>