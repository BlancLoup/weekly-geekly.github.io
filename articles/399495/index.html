<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Scratch for "advanced"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Scratch is a visually oriented programming language for children. There is an opinion that this is a children's language in order to simply play ‚Äúinto...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Scratch for "advanced"</h1><div class="post__text post__text-html js-mediator-article">  <b>Scratch</b> is a visually oriented programming language for children.  There is an opinion that this is a children's language in order to simply play ‚Äúinto programming‚Äù and nothing good (serious) can be done from it.  When I first started teaching classes for children on Scratch, it seemed to me as a person with two higher technical education.  However, after a while I had to change my opinion.  It turned out that even in this children's programming language there are hidden chips that can be seriously used even when teaching professional programming.  I want to share with you my discoveries. <br><a name="habracut"></a><br><h4>  Cloning and Variables in Scratch </h4><br>  My student liked the game <b>‚ÄúZombies vs. Plants</b> . <b>‚Äù</b>  And he was interested to program it himself.  Let's remember how this game works?  On the right side we have a line of plants that shoots approaching zombies. <br><br>  There are many solutions to this problem, but in my opinion a more elegant solution is to use the minimum possible number of sprites, i.e.  use cloning. <br><br>  How to make each individual clone have its own standard of living?  What to choose variables or lists?  We made an attempt to use lists, but after more detailed study we realized that this data structure does not help to solve the problem.  Variables and lists in Scratch have 2 types of visibility for each data type - this is <b>‚Äúfor all sprites‚Äù</b> or <b>‚Äújust for this sprite‚Äù</b> .  I had to check the scope.  We started with variables. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Reaching the working variant of the variable with the scope of the <b>‚Äúonly for this sprite‚Äù</b> .  In classical programming languages, this type of visibility is called local or private, depending on the context. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/5ea/ded/739/5eaded7396184e8c9e9d5f373db1a8bf" alt="Sozadnie variable Life in Scratch"></div><br><br>  It turns out that if this variable with a given scope is used in a clone, then an instance of the variable belonging to the specific clone and which is used for the internal calculations / operation of the clone is created in the clone.  In our case, each clone has its own ‚Äúlife‚Äù.  If it became interesting, then I advise you to refer to the <a href="https://wiki.scratch.mit.edu/wiki/Variable">directory</a> .  And here is a picture that shows how sprites or clones work with variables of different types of visibility. <br><br><img src="https://habrastorage.org/files/1c7/dd1/dcd/1c7dd1dcd6ef4290b09d4c7c3b769dd1.png" alt="The scope of variables and lists in Scratch. And their boundaries"><br>  The variable with the <b>‚Äúfor all sprites‚Äù</b> scope (left image) is one for all.  By the way, here you can see with your children work with critical sections and what is a race for a resource.  And if the variable's scope is <b>‚Äúonly for this sprite‚Äù</b> , then the sprite and its clones have their own variable with the same name with which they work (figure from the right).  And clones do not have access to the original variable and the variable of another clone. <br>  This was an unexpected and pleasant discovery of Scratch properties for creating similar algorithms. <br><br>  <b>IMPORTANT:</b> A variable is a very powerful tool for a real programmer, so I immediately teach children the proper naming of variables, as this skill will help them in projects of varying complexity. <br><br><h4>  Object names as their identifiers </h4><br>  <b>IMPORTANT:</b> all variables with zone visibility ‚Äúonly for this sprite‚Äù. <br><br>  This tool for me was completely unexpected.  Let's start with the story of how a student and I came across this feature of the language.  My student decided to create a game with "artificial intelligence".  The game represents star wars on spaceships and the player has the ability to control one ship, while opponents chase you and each other.  So that they can pursue you or each other, they need to somehow decide who to pursue.  This task can be solved in the forehead and set the order of pursuit of ships, but the game will lose its intelligence and quickly get bored.  Therefore, the student decided to adjust the intellect in such a way that the ships with the intellect chased the nearest enemy.  Let's see how he started to solve this problem. <br><br><img src="https://habrastorage.org/files/385/10b/823/38510b82315348b191e84c0cd8eb2a6d" alt="Vlob solution for switching between sprites by minimum distance"><br><br>  In my opinion a good solution for creating a fast prototype.  But what limitations are there?  First, the complexity of the code as you add new ships.  Consequently, the complexity of the code increases and code mutations are not excluded due to complexity.  Time to search for errors and debug the algorithm will increase.  And of course, no one has canceled such a cool metric as the advance level of SW Development.  What to do?  And you need to do the following, you need to make a generalized algorithm that will dynamically adapt to increasing or decreasing the number of ships. <br><br>  For this algorithm, we need the language property - the name as an object identifier.  The time has come for big changes, and here you, as a teacher, can tell you about such a phenomenon as refactoring.  This is a sequential change of the code, improvement of its structure and its optimization.  And the main thing is that every change does not break the work of the program, and the scope of changes should also be carefully selected.  Too many changes are bad, too few changes are long.  Formed skill refactoring will give an advantage and efficiency of the programmer.  But to form a skill you need to work with your head, and not just poke.  I managed to make 4 changes in the original program and the result did not change. <br><br><img src="https://habrastorage.org/files/694/4a4/a27/6944a4a27cf443769c9483eb7275fee3" alt="We try to change the decision and use the rotation in the direction of the object by name"><br><br>  Note that I have not yet deleted the blocks, but left them.  What for?  Because if something goes wrong, we can return the previous version, starting all over again.  But as soon as I check the correct execution of the updated script, I will immediately remove them, so as not to be distracted by them later. <br><br>  Did you notice?  Now in the <b>‚Äúturn to ...‚Äù</b> block there is a variable and this thing works.  Those.  we have verified with minimal effort that this approach works.  This is just awesome.  Now we can start writing algorithms that will allow us to determine the object of pursuit of the nearest ship. <br><br>  What is useful to us?  This data structure is variable and list.  From the algorithms - this is finding the minimum number (distance) in the list.  We also need an algorithm that determines the name of the object to be pursued by the minimum distance. <br><br>  Now a lot of code will be written.  But in order not to choke and get confused in a heap of scripts, we need to use another cool function, namely the creation of our own blocks.  This function is very powerful, but it is rarely used by schoolchildren, and even some programmers, and in fact it allows you to create a program that is understandable from the first reading.  By the way, you can read about the techniques for creating a clear code in <a href="https://www.ozon.ru/context/detail/id/1308678/">Martin Fowler‚Äôs book Refactoring.</a>  <a href="https://www.ozon.ru/context/detail/id/1308678/">Improving existing code</a> <br><br>  As before any large-scale construction, we need to plan everything.  Let's plan in which order we will develop the blocks: <br><br><ol><li>  List of names of all ships </li><li>  Calculating the distance to all ships, </li><li>  Finding the minimum distance, </li><li>  Search for the name of the ship for pursuit by the minimum distance found. </li></ol><br>  The main rule is that each created ‚Äúpiece‚Äù and change must be checked. <br><br>  In order to create a generalized algorithm, we need to sacrifice something, for example, the original names of sprites, we will have to standardize them and get the following alignment. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/697/4ad/487/6974ad4875bc4e34b13b29f8377c1cb1" alt="Changed sprite names"></div><br>  And now we are ready to describe the first part of the program.  <b>All we write for the 1st ship.</b>  Run this script separately and see the result.  Go! <br><br><img src="https://habrastorage.org/files/8db/867/f9b/8db867f9b2054cbba7176dbdd3b33d1c" alt="New block: fill in the list of ship names"><br><br>  If we add a new ship, we need to change only one number in this algorithm.  Cool?  Cool <br><br>  Drive on.  And let's teach him 2 algorithm.  We look what happened.  This is an immediate result with auxiliary functions. <br><br><img src="https://habrastorage.org/files/f27/829/dcd/f27829dcdd874add844c6bb00ddeedfb" alt="New block: Fill in the list of distances"><br><br>  Hooray!  Works.  This can be checked as follows, it must be necessarily 0 one of the values ‚Äã‚Äãin the list of distances.  If you have it wrong, look for an error. <br><br>  Let's go further!  Search for the minimum distance.  Noticed that the distance is always positive.  And there will always be a minimum number - 0. I-I-yay!  Conclusion - look for a minimum, but not zero.  You can try your hand and optimize the code yourself, so as not to do the calculation of the distance from the ship 1 to the ship 1 (this is not a typo). <br><br><img src="https://habrastorage.org/files/6cd/8e1/1aa/6cd8e11aa6694a10b49b874a1bd51ea8" alt="Find the minimum value, but not zero"><br><br>  We teach the sprite of the new function and get. <br><br><img src="https://habrastorage.org/files/9dc/9dc/e13/9dc9dce13cb9469cbf394440b85ca312" alt="New block: Find the name of the ship by distance"><br><br>  Do not forget to check!  To do this, you can even stop the game and run a separate script. <br><br>  We wrote everything that is necessary, now the main thing is to use these functions correctly. <br><br><img src="https://habrastorage.org/files/ea0/ced/988/ea0ced98845a450585530b8a07347d3e" alt="Collected algorithm to determine the nearest ship"><br><br>  If everything works correctly for you, you should see the following: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/TS1szmTj4Qc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Noticed that a ship with "artificial intelligence" is torn between different opponents.  You can improve the program and complicate the decision.  For example, if the pursued ship has little life left, then he finishes it, and if he finds it closer and with even less health, then finish off the weakest one first. <br><br>  By the way, in this program you can reduce the number of actions and improve the algorithms.  Try your hand.  You can get this program <a href="https://scratch.mit.edu/projects/132902992/">here</a> . <br><br><h4>  Summing up </h4><br><br>  It was on such cases that I learned how Scratch enables students to master a lot of real programming techniques faster.  On it you can talk about the work of critical sections, about generalized algorithms, about variables and their scopes, about creating your own blocks and structuring code.  And also in this language, you can talk about professional skills, such as refactoring. <br><br>  This is only a small part of the programmer's toolkit, but it is very important.  And in Scratch this is a little easier to explain. </div><p>Source: <a href="https://habr.com/ru/post/399495/">https://habr.com/ru/post/399495/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../399485/index.html">How automatic interplanetary stations are killed</a></li>
<li><a href="../399487/index.html">Quadcopter in the work of the installer-signaller</a></li>
<li><a href="../399489/index.html">Interaction of software systems</a></li>
<li><a href="../399491/index.html">Creating light hours</a></li>
<li><a href="../399493/index.html">Less is more</a></li>
<li><a href="../399497/index.html">To the right of red: hot girls, cats and spy passions</a></li>
<li><a href="../399501/index.html">Ants in Fiji learned how to grow fruit about 3 million years ago.</a></li>
<li><a href="../399503/index.html">Answers to questions about surveyors "Lakhta Center"</a></li>
<li><a href="../399505/index.html">Five Greatest Predictions of Cosmic Inflation</a></li>
<li><a href="../399507/index.html">Hello Games after several months of calm released a major update for No Man's Sky</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>