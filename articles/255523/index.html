<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>SQL Language Tutorial (DDL, DML) on the example of MS SQL Server dialect. Part two</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction and DDL - Data Definition Language 
 Part One - habrahabr.ru/post/255361 

 DML - Data Manipulation Language 
 In the first part, we have...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>SQL Language Tutorial (DDL, DML) on the example of MS SQL Server dialect. Part two</h1><div class="post__text post__text-html js-mediator-article"><h2>  Introduction and DDL - Data Definition Language </h2><br>  Part One - <a href="http://habrahabr.ru/post/255361/">habrahabr.ru/post/255361</a> <br><br><h2>  DML - Data Manipulation Language </h2><br>  In the first part, we have already slightly touched on the DML language, using almost the entire set of its commands, with the exception of the MERGE command. <br><br>  I will tell about DML by my own personal experience.  Along the way, I will also try to tell you about the ‚Äúslippery‚Äù places that are worth paying attention to, these ‚Äúslippery‚Äù places are similar in many dialects of the SQL language. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Since  the textbook is dedicated to a wide circle of readers (not only programmers), then the explanation will sometimes be appropriate, i.e.  long and tedious.  This is my vision of the material, which is mainly obtained in practice as a result of professional activity. <br><br>  The main goal of this textbook, step by step, is to develop a complete understanding of the essence of the SQL language and teach how to properly apply its constructions.  Professionals in this field may also be interested to browse through this material, maybe they will be able to bring out something new for themselves, or maybe it will just be useful to read in order to refresh their memory.  I hope that everyone will be interested. <br><br>  Since  DML in the MS SQL DB dialect is very closely related to the syntax of the SELECT clause, then I‚Äôll start talking about DML from there.  In my opinion, the SELECT construct is the most important construct of the DML language, since  at the expense of her or her parts, the necessary data is retrieved from the database. <br><a name="habracut"></a><br><br>  DML language contains the following constructs: <br><ul><li>  SELECT - data selection </li><li>  INSERT - insert new data </li><li>  UPDATE - update data </li><li>  DELETE - delete data </li><li>  MERGE - data fusion </li></ul><br><br>  In this part, we consider only the basic syntax of the SELECT command, which looks like this: <br><br><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> [<span class="hljs-keyword"><span class="hljs-keyword">DISTINCT</span></span>] _  * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span>  <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span>  <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> _</code> </pre> <br>  The topic of the SELECT statement is very extensive, so in this part I will focus only on its basic structures.  I believe that, without knowing the base well, it is impossible to proceed to the study of more complex structures, since  then everything will revolve around this basic structure (subqueries, joins, etc.). <br><br>  Also within this part, I will also talk about the TOP proposal.  I intentionally did not indicate this sentence in the basic syntax, since  it is implemented differently in different dialects of the SQL language. <br><br>  If the DDL language is more static, i.e.  using it creates rigid structures (tables, relations, etc.), then the DML language is dynamic, here you can get the right results in different ways. <br><br>  Training will also continue in the Step by Step mode, i.e.  when reading, you should immediately try to do an example with your own hands.  After doing the analysis of the result and try to understand it intuitively.  If something remains unclear, for example, the value of any function, then contact the Internet for help. <br><br>  Examples will be shown on the Test database, which was created using DDL + DML in the first part. <br><br>  For those who did not create the database in the first part (because not everyone may be interested in the DDL language), you can use the following script: <br><br><div class="spoiler">  <b class="spoiler_title">Test Database Creation Script</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-comment"><span class="hljs-comment">--   CREATE DATABASE Test GO --   Test  USE Test GO --    CREATE TABLE Positions( ID int IDENTITY(1,1) NOT NULL CONSTRAINT PK_Positions PRIMARY KEY, Name nvarchar(30) NOT NULL ) CREATE TABLE Departments( ID int IDENTITY(1,1) NOT NULL CONSTRAINT PK_Departments PRIMARY KEY, Name nvarchar(30) NOT NULL ) GO --     SET IDENTITY_INSERT Positions ON INSERT Positions(ID,Name)VALUES (1,N''), (2,N''), (3,N''), (4,N' ') SET IDENTITY_INSERT Positions OFF GO SET IDENTITY_INSERT Departments ON INSERT Departments(ID,Name)VALUES (1,N''), (2,N''), (3,N'') SET IDENTITY_INSERT Departments OFF GO --     CREATE TABLE Employees( ID int NOT NULL, Name nvarchar(30), Birthday date, Email nvarchar(30), PositionID int, DepartmentID int, HireDate date NOT NULL CONSTRAINT DF_Employees_HireDate DEFAULT SYSDATETIME(), ManagerID int, CONSTRAINT PK_Employees PRIMARY KEY (ID), CONSTRAINT FK_Employees_DepartmentID FOREIGN KEY(DepartmentID) REFERENCES Departments(ID), CONSTRAINT FK_Employees_PositionID FOREIGN KEY(PositionID) REFERENCES Positions(ID), CONSTRAINT FK_Employees_ManagerID FOREIGN KEY (ManagerID) REFERENCES Employees(ID), CONSTRAINT UQ_Employees_Email UNIQUE(Email), CONSTRAINT CK_Employees_ID CHECK(ID BETWEEN 1000 AND 1999), INDEX IDX_Employees_Name(Name) ) GO --    INSERT Employees (ID,Name,Birthday,Email,PositionID,DepartmentID,ManagerID)VALUES (1000,N' ..','19550219','i.ivanov@test.tt',2,1,NULL), (1001,N' ..','19831203','p.petrov@test.tt',3,3,1003), (1002,N' ..','19760607','s.sidorov@test.tt',1,2,1000), (1003,N' ..','19820417','a.andreev@test.tt',4,3,1000)</span></span></code> </pre><br></div></div><br><br>  That's it, now we are ready to start learning the DML language. <br><br><h2>  SELECT - data selection operator </h2><br>  First of all, for the active query editor, we will make the current Test database, selecting it in the drop-down list or using the ‚ÄúUSE Test‚Äù command. <br><br>  Let's start with the most elementary form of SELECT: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees</code> </pre><br>  In this query, we ask you to return all the columns (indicated by ‚Äú*‚Äù) from the Employees table - you can read this as ‚ÄúSELECT ALL_Fields FROM Employee_Tables‚Äù.  In the case of a clustered index, the returned data is likely to be sorted by it, in this case by the ID column (but this is not important, since in most cases we will explicitly specify the sorting using ORDER BY ...) : <br><table><tbody><tr><th>  ID </th><th>  Name </th><th>  Birthday </th><th>  Email </th><th>  PositionID </th><th>  DepartmentID </th><th>  Hiredate </th><th>  ManagerID </th></tr><tr><td>  1000 </td><td>  Ivanov I.I. </td><td>  1955-02-19 </td><td>  i.ivanov@test.tt </td><td>  2 </td><td>  one </td><td>  2015-04-08 </td><td>  Null </td></tr><tr><td>  1001 </td><td>  Petrov P.P. </td><td>  1983-12-03 </td><td>  p.petrov@test.tt </td><td>  3 </td><td>  3 </td><td>  2015-04-08 </td><td>  1003 </td></tr><tr><td>  1002 </td><td>  Sidorov S.S. </td><td>  1976-06-07 </td><td>  s.sidorov@test.tt </td><td>  one </td><td>  2 </td><td>  2015-04-08 </td><td>  1000 </td></tr><tr><td>  1003 </td><td>  Andreev A.A. </td><td>  1982-04-17 </td><td>  a.andreev@test.tt </td><td>  four </td><td>  3 </td><td>  2015-04-08 </td><td>  1000 </td></tr></tbody></table><br>  In general, it should be said that in the MS SQL dialect the simplest form of the SELECT query may not contain a FROM block, in this case you can use it to get some values: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-number"><span class="hljs-number">5550</span></span>/<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-number"><span class="hljs-number">15</span></span>, SYSDATETIME(), <span class="hljs-comment"><span class="hljs-comment">--     SIN(0)+COS(0)</span></span></code> </pre><br><table><tbody><tr><th>  (No column name) </th><th>  (No column name) </th><th>  (No column name) </th></tr><tr><td>  825 </td><td>  2015-04-11 12: 12: 36.0406743 </td><td>  one </td></tr></tbody></table><br>  Note that the expression (5550/100 * 15) gave the result of 825, although if we count on the calculator, we get the value (832.5).  The result 825 turned out for the reason that in our expression all the numbers are integers, therefore the result is an integer, i.e.  (5550/100) gives us 55, not (55.5). <br><br>  Remember the following, that the following logic works in MS SQL: <br><ul><li>  Integer / Integer = Integer (i.e. integer division occurs in this case) </li><li>  Real / Whole = Real </li><li>  Integer / Real = Real </li></ul><br>  Those.  the result is converted to a larger type, so in the last 2 cases we get a real number (think like in mathematics - the range of real numbers is greater than the range of integers, so the result is converted to it): <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-number"><span class="hljs-number">123</span></span>/<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-comment"><span class="hljs-comment">-- 12 123./10, -- 12.3 123/10. -- 12.3</span></span></code> </pre><br>  Here (123.) = (123.0), just in this case, 0 can be discarded and leave only a point. <br><br>  With other arithmetic operations, the same logic operates, just in the case of division, this nuance is more relevant. <br><br>  Therefore, pay attention to the data type of the numeric columns.  In the event that it is integer, and you need to get a real result, then use a transformation, or simply put a period after the number specified in the form of a constant (123.). <br><br>  You can use the CAST or CONVERT function to convert fields.  For example, we use the ID field, it is our int type: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>/<span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-comment"><span class="hljs-comment">--     CAST(ID AS float)/100, --   CAST     float CONVERT(float,ID)/100, --   CONVERT     float ID/100. --          FROM Employees</span></span></code> </pre><br><table><tbody><tr><th>  ID </th><th>  (No column name) </th><th>  (No column name) </th><th>  (No column name) </th><th>  (No column name) </th></tr><tr><td>  1000 </td><td>  ten </td><td>  ten </td><td>  ten </td><td>  10.000000 </td></tr><tr><td>  1001 </td><td>  ten </td><td>  10.01 </td><td>  10.01 </td><td>  10.010000 </td></tr><tr><td>  1002 </td><td>  ten </td><td>  10.02 </td><td>  10.02 </td><td>  10.020000 </td></tr><tr><td>  1003 </td><td>  ten </td><td>  10.03 </td><td>  10.03 </td><td>  10.030000 </td></tr></tbody></table><br><blockquote>  <b>On a note.</b>  In the ORACLE DB, the syntax without the FROM block is invalid, there the DUAL system table is used for this purpose, which contains one line: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-number"><span class="hljs-number">5550</span></span>/<span class="hljs-number"><span class="hljs-number">100</span></span>*<span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-comment"><span class="hljs-comment">--   ORACLE    832.5 sysdate, sin(0)+cos(0) FROM DUAL</span></span></code> </pre><br></blockquote><br><blockquote>  <b>Note.</b>  The table name in many DBMs can be preceded by the schema name: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> dbo.Employees <span class="hljs-comment"><span class="hljs-comment">-- dbo ‚Äì  </span></span></code> </pre><br><br>  A schema is a logical database unit that has its own name and allows grouping database objects such as tables, views, etc. <br><br>  The schema definition in different databases may differ, somewhere the schema is directly connected with the database user, i.e.  in this case, we can say that the schema and the user are synonyms and all the objects created in the schema are in fact the objects of this user.  In MS SQL, a schema is an independent logical unit that can be created by itself (see CREATE SCHEMA). <br><br>  By default, a single schema with the name dbo (Database Owner) is created in the MS SQL database and all created objects by default are created in this schema.  Accordingly, if we specify just the name of the table in the query, then it will be searched in the dbo schema of the current database.  If we want to create an object in a specific schema, we will also need to prepend the object name with the schema name, for example, ‚ÄúCREATE TABLE schema_name.table_name (...)‚Äù. <br><br>  In the case of MS SQL, the schema name can also be preceded by the name of the database in which the schema is located: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Test.dbo.Employees <span class="hljs-comment"><span class="hljs-comment">-- _._.</span></span></code> </pre><br>  Such clarification is useful, for example, if: <br><ul><li>  in one request we refer to objects located in different schemes or databases </li><li>  required to transfer data from one schema or database to another </li><li>  being in one DB, it is required to request data from another DB </li><li>  etc. </li></ul><br>  The scheme is a very convenient tool that is useful for developing a database architecture, and especially large databases. <br></blockquote><br><br>  Just do not forget that in the query text, we can use both single-line "- ..." and multi-line "/ * ... * /" comments.  If the request is large and complex, comments can help you or someone else, after a while, to recall or understand its structure. <br><br>  If there are a lot of columns in the table, and especially if there are still a lot of rows in the table, plus if we make queries to the database over the network, then a sample with a direct listing of the fields you need is preferred, separated by commas: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees</code> </pre><br><br>  Those.  here we say that we only need to return the ID and Name fields from the table.  The result will be as follows (by the way, the optimizer here decided to use the index created by the Name field): <br><table><tbody><tr><th>  ID </th><th>  Name </th></tr><tr><td>  1003 </td><td>  Andreev A.A. </td></tr><tr><td>  1000 </td><td>  Ivanov I.I. </td></tr><tr><td>  1001 </td><td>  Petrov P.P. </td></tr><tr><td>  1002 </td><td>  Sidorov S.S. </td></tr></tbody></table><br><blockquote>  <b>On a note.</b>  Sometimes it is useful to look at how data is sampled, for example, to find out which indexes are being used.  This can be done if you click the button "Display Estimated Execution Plan - Show Calculation Plan" or set "Include Actual Execution Plan - Include the actual execution plan of the query in the result" (in this case we will be able to see the actual plan, respectively, only after the query is executed) : <br><br><img src="https://habrastorage.org/files/3ab/12f/3d8/3ab12f3d84134600a98d0136f8e18ca6.png"><br><br>  Analysis of the execution plan is very useful when optimizing a query, it allows you to find out which indexes are missing or which indexes are not used at all and can be deleted. <br><br>  If you are just starting to learn DML, then now it is not so important for you, just take a note and you can safely forget about it (maybe it will never be useful to you) - our initial goal is to learn the basics of the DML language and learn how to properly apply them, and optimization is a separate art.  Sometimes it is more important that you simply have a correctly written query that returns the correct result from the substantive point of view, and some people are already engaged in its optimization.  To begin, you need to learn how to just correctly write requests, using any means to achieve the goal.  The main goal that you must now achieve is for your query to return the correct results. <br></blockquote><br><br><h2>  Setting aliases for tables </h2><br>  When enumerating columns, they can be preceded by the name of a table located in the FROM block: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> Employees.ID,Employees.Name <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees</code> </pre><br><br>  But such syntax is usually inconvenient to use, since  The name of the table may be long.  For these purposes, shorter names are usually set and applied - aliases: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> emp.ID,emp.Name <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> emp</code> </pre><br>  or <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> emp.ID,emp.Name <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees emp <span class="hljs-comment"><span class="hljs-comment">--   AS   (   )</span></span></code> </pre><br><br>  Here emp is the alias for the Employees table, which can be used in the context of this SELECT statement.  Those.  it can be said that in the context of this SELECT statement we give the table a new name. <br><br>  Of course, in this case the results of the queries will be exactly the same as for ‚ÄúSELECT ID, Name FROM Employees‚Äù.  For what it will need to be understood further (not even in this part), for the time being we simply remember that the column name can be preceded (specified) either directly by the table name, or with the help of an alias.  Here you can use one of the two, i.e.  if you set a pseudonym, then you will need to use it, and you cannot use the table name anymore. <br><br><blockquote>  <b>On a note.</b>  In ORACLE, only the option to specify a table alias without the keyword AS is allowed. <br></blockquote><br><br><h2>  DISTINCT - garbage duplicate rows </h2><br>  The DISTINCT keyword is used to discard duplicate strings from a query result.  Roughly speaking, imagine that a query is first executed without the DISTINCT option, and then all duplicates are dropped from the result.  Let us demonstrate this for greater clarity by example: <br><br><pre> <code class="sql hljs"><span class="hljs-comment"><span class="hljs-comment">--      CREATE TABLE #Trash( ID int NOT NULL PRIMARY KEY, Col1 varchar(10), Col2 varchar(10), Col3 varchar(10) ) --      INSERT #Trash(ID,Col1,Col2,Col3)VALUES (1,'A','A','A'), (2,'A','B','C'), (3,'C','A','B'), (4,'A','A','B'), (5,'B','B','B'), (6,'A','A','B'), (7,'A','A','A'), (8,'C','A','B'), (9,'C','A','B'), (10,'A','A','B'), (11,'A',NULL,'B'), (12,'A',NULL,'B') --       DISTINCT SELECT Col1,Col2,Col3 FROM #Trash --       DISTINCT SELECT DISTINCT Col1,Col2,Col3 FROM #Trash --    DROP TABLE #Trash</span></span></code> </pre><br><br>  Clearly, it will look like this (all duplicates are marked with the same color): <br><br><img src="https://habrastorage.org/files/bc5/6b8/cda/bc56b8cda4da42609759c53e855c6916.png"><br><br>  Now let's look at where this can be applied, on a more practical example - we‚Äôll return from the Employees table only unique department identifiers (that is, we‚Äôll find out the IDs of the departments that have employees): <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DISTINCT</span></span> DepartmentID <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees</code> </pre><br><table><tbody><tr><th>  DepartmentID </th></tr><tr><td>  one </td></tr><tr><td>  2 </td></tr><tr><td>  3 </td></tr></tbody></table><br>  Here we got three lines, because  2 employees are listed in one department (IT). <br><br>  Now we will find out in which departments, which positions appear: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DISTINCT</span></span> DepartmentID,PositionID <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees</code> </pre><br><table><tbody><tr><th>  DepartmentID </th><th>  PositionID </th></tr><tr><td>  one </td><td>  2 </td></tr><tr><td>  2 </td><td>  one </td></tr><tr><td>  3 </td><td>  3 </td></tr><tr><td>  3 </td><td>  four </td></tr></tbody></table><br>  Here we got 4 lines, because  There are no duplicate combinations (DepartmentID, PositionID) in our table. <br><br><h2>  Let's go back to DDL for a while </h2><br>  Since the data for the demo begins to be missed, and I want to tell more extensively and clearly, then let's expand our Employess table a little.  In addition, let us remember a little DDL, as they say, ‚Äúrepetition is the mother of the doctrine,‚Äù and again let's run forward a little and apply the UPDATE statement: <br><br><pre> <code class="sql hljs"><span class="hljs-comment"><span class="hljs-comment">--    ALTER TABLE Employees ADD LastName nvarchar(30), --  FirstName nvarchar(30), --  MiddleName nvarchar(30), --  Salary float, --      -  BonusPercent float --       GO --    (   ) UPDATE Employees SET LastName=N'',FirstName=N'',MiddleName=N'', Salary=5000,BonusPercent= 50 WHERE ID=1000 --  .. UPDATE Employees SET LastName=N'',FirstName=N'',MiddleName=N'', Salary=1500,BonusPercent= 15 WHERE ID=1001 --  .. UPDATE Employees SET LastName=N'',FirstName=N'',MiddleName=NULL, Salary=2500,BonusPercent=NULL WHERE ID=1002 --  .. UPDATE Employees SET LastName=N'',FirstName=N'',MiddleName=NULL, Salary=2000,BonusPercent= 30 WHERE ID=1003 --  ..</span></span></code> </pre><br><br>  Make sure that the data is updated successfully: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees</code> </pre><br><table><tbody><tr><th>  ID </th><th>  Name </th><th>  ... </th><th>  LastName </th><th>  Firstname </th><th>  MiddleName </th><th>  Salary </th><th>  BonusPercent </th></tr><tr><td>  1000 </td><td>  Ivanov I.I. </td><td></td><td>  Ivanov </td><td>  Ivan </td><td>  Ivanovich </td><td>  5000 </td><td>  50 </td></tr><tr><td>  1001 </td><td>  Petrov P.P. </td><td></td><td>  Petrov </td><td>  Peter </td><td>  Petrovich </td><td>  1500 </td><td>  15 </td></tr><tr><td>  1002 </td><td>  Sidorov S.S. </td><td></td><td>  Sidorov </td><td>  Sidor </td><td>  Null </td><td>  2500 </td><td>  Null </td></tr><tr><td>  1003 </td><td>  Andreev A.A. </td><td></td><td>  Andreev </td><td>  Andrew </td><td>  Null </td><td>  2000 </td><td>  thirty </td></tr></tbody></table><br><br><h2>  Specifying aliases for query columns </h2><br>  I think it will be easier to show here than to write: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-comment"><span class="hljs-comment">--     LastName+' '+FirstName+' '+MiddleName AS , --   , ..   HireDate AS " ", --   , ..   Birthday AS [ ], --  AS   Salary ZP FROM Employees</span></span></code> </pre><br><table><tbody><tr><th>  Full name </th><th>  date of receipt </th><th>  Date of Birth </th><th>  ZP </th></tr><tr><td>  Ivanov Ivan Ivanovich </td><td>  2015-04-08 </td><td>  1955-02-19 </td><td>  5000 </td></tr><tr><td>  Petrov Petr Petrovich </td><td>  2015-04-08 </td><td>  1983-12-03 </td><td>  1500 </td></tr><tr><td>  Null </td><td>  2015-04-08 </td><td>  1976-06-07 </td><td>  2500 </td></tr><tr><td>  Null </td><td>  2015-04-08 </td><td>  1982-04-17 </td><td>  2000 </td></tr></tbody></table><br>  As you can see, the aliases of the columns that we specified are reflected in the header of the resulting table.  Actually, this is the main purpose of column aliases. <br><br>  Pay attention because  the last 2 employees have no patronymic (NULL value), the result of the expression ‚ÄúLastName + '' + FirstName + '' + MiddleName‚Äù also returned NULL to us. <br><br>  To connect (add, concatenate) strings in MS SQL, use the ‚Äú+‚Äù symbol. <br><br>  Remember that all expressions in which NULL is involved (for example, division by NULL, addition with NULL) will return NULL. <br><br><blockquote>  <b>On a note.</b> <br>  In the case of ORACLE, the string "||" is used to concatenate strings and the concatenation will look like "LastName || '  '|| FirstName ||'  '|| MiddleName ".  For ORACLE, it is worth noting that it has an exception for string types, for them NULL and the empty string '' is the same, therefore in ORACLE this expression will return ‚ÄúSidor Sidor‚Äù and ‚ÄúAndreev Andrey‚Äù for the last 2 employees.  At the time of the version of ORACLE 12c, as far as I know, there is no option that changes this behavior (if wrong, please correct me).  Here it is difficult for me to judge whether this is good or bad.  in some cases, the NULL string behavior is more convenient as in MS SQL, and in others as in ORACLE. <br><br>  In ORACLE, all the column aliases listed above are also valid, except for [...]. <br></blockquote><br>  In order not to fence the structure using the ISNULL function, we can use the CONCAT function in MS SQL.  Consider and compare 3 options: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> LastName+<span class="hljs-string"><span class="hljs-string">' '</span></span>+FirstName+<span class="hljs-string"><span class="hljs-string">' '</span></span>+MiddleName FullName1, <span class="hljs-comment"><span class="hljs-comment">-- 2    NULL   '' (     ORACLE) ISNULL(LastName,'')+' '+ISNULL(FirstName,'')+' '+ISNULL(MiddleName,'') FullName2, CONCAT(LastName,' ',FirstName,' ',MiddleName) FullName3 FROM Employees</span></span></code> </pre><br><table><tbody><tr><th>  FullName1 </th><th>  FullName2 </th><th>  FullName3 </th></tr><tr><td>  Ivanov Ivan Ivanovich </td><td>  Ivanov Ivan Ivanovich </td><td>  Ivanov Ivan Ivanovich </td></tr><tr><td>  Petrov Petr Petrovich </td><td>  Petrov Petr Petrovich </td><td>  Petrov Petr Petrovich </td></tr><tr><td>  Null </td><td>  Sidorov Sidor </td><td>  Sidorov Sidor </td></tr><tr><td>  Null </td><td>  Andreyev Andrey </td><td>  Andreyev Andrey </td></tr></tbody></table><br>  In MS SQL, pseudonyms can still be specified using an equal sign: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-string"><span class="hljs-string">' '</span></span>=HireDate, <span class="hljs-comment"><span class="hljs-comment">--  "‚Ä¶"  [‚Ä¶]   '‚Ä¶' [ ]=Birthday, ZP=Salary FROM Employees</span></span></code> </pre><br><br>  Using the AS keyword or the equal sign to specify an alias is probably a matter of taste.  But when analyzing other people's requests, this knowledge can be useful. <br><br>  Finally, I‚Äôll say that it‚Äôs better to set names for pseudonyms using only Latin characters and numbers, avoiding the use of '...', "..." and [...], that is, using the same rules that we used when naming tables.  Further, in the examples I will use only such names and no '...', "..." and [...]. <br><br><h1>  Basic SQL Arithmetic Operators </h1><br><table><tbody><tr><th width="150">  Operator </th><th>  Act </th></tr><tr><td>  + </td><td>  Addition (x + y) or unary plus (+ x) </td></tr><tr><td>  - </td><td>  Subtraction (xy) or unary minus (-x) </td></tr><tr><td>  * </td><td>  Multiplication (x * y) </td></tr><tr><td>  / </td><td>  Division (x / y) </td></tr><tr><td>  % </td><td>  The remainder of the division (x% y).  For example, 15% 10 will give 5 </td></tr></tbody></table><br>  The priority of performing arithmetic operators is the same as in mathematics.  If necessary, the order of application of operators can be changed using parentheses - (a + b) * (x / (yz)). <br><br>  And once again I repeat that any operation with NULL gives NULL, for example: 10 + NULL, NULL * 15/3, 100 / NULL - all this will result in a NULL.  Those.  saying just an undefined value can not give a certain result.  Take this into account when making a request and, if necessary, process NULL values ‚Äã‚Äãwith the functions ISNULL, COALESCE: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>, Salary/<span class="hljs-number"><span class="hljs-number">100</span></span>*BonusPercent <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> Result1, <span class="hljs-comment"><span class="hljs-comment">--   NULL  Salary/100*ISNULL(BonusPercent,0) AS Result2, --   ISNULL Salary/100*COALESCE(BonusPercent,0) AS Result3 --   COALESCE FROM Employees</span></span></code> </pre><br><table><tbody><tr><th>  ID </th><th>  Name </th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Result1 </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Result2 </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Result3 </font></font></th></tr><tr><td>  1000 </td><td>  Ivanov I.I. </td><td>  2500 </td><td>  2500 </td><td>  2500 </td></tr><tr><td>  1001 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Petrov P.P. </font></font></td><td>  225 </td><td>  225 </td><td>  225 </td></tr><tr><td>  1002 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sidorov S.S. </font></font></td><td>  Null </td><td>  0 </td><td>  0 </td></tr><tr><td>  1003 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Andreev A.A. </font></font></td><td>  600 </td><td>  600 </td><td>  600 </td></tr><tr><td>  1004 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nikolaev N.N. </font></font></td><td>  Null </td><td>  0 </td><td>  0 </td></tr><tr><td>  1005 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Aleksandrov A.A. </font></font></td><td>  Null </td><td>  0 </td><td>  0 </td></tr></tbody></table><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> I will tell a little about the COALESCE function: </font></font><br><br><pre> <code class="sql hljs">COALESCE (expr1, expr2, ..., exprn) -    NULL    .</code> </pre><br><br>  Example: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COALESCE</span></span>(f1, f1*f2, f2*f3) val <span class="hljs-comment"><span class="hljs-comment">--       FROM (SELECT null f1, 2 f2, 3 f3) q</span></span></code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Basically, I will focus on the narrative constructs of the language DML and for the most part I will not talk about the functions that will be found in the examples. </font><font style="vertical-align: inherit;">If you don‚Äôt understand what a function does, look for its description on the Internet, you can even search for information directly by a group of functions, for example, by specifying ‚ÄúMS SQL string functions‚Äù, ‚ÄúMS SQL math functions‚Äù in Google search, or ‚ÄúMS SQL functions processing null. </font><font style="vertical-align: inherit;">Information on the functions very much, and you can easily find it. </font><font style="vertical-align: inherit;">For example, in the MSDN library, you can learn more about the COALESCE function:</font></font><br><br><blockquote> <b>  MSDN</b>  COALESCE  CASE <br><br>  COALESCE ‚Äî     CASE.  ,   COALESCE(expression1,...n)       CASE: <br><br><pre> <code class="sql hljs">CASE WHEN (expression1 IS NOT NULL) THEN expression1 WHEN (expression2 IS NOT NULL) THEN expression2 ... ELSE expressionN <span class="hljs-keyword"><span class="hljs-keyword">END</span></span></code> </pre></blockquote><br><br>   ,       (%).    ,      . ,   ,      (ID), ..  ID,    2: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>%<span class="hljs-number"><span class="hljs-number">2</span></span>=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-comment"><span class="hljs-comment">--     2  0</span></span></code> </pre><br><table><tbody><tr><th>  ID </th><th>  Name </th></tr><tr><td>  1000 </td><td>  Ivanov I.I. </td></tr><tr><td>  1004 </td><td>  .. </td></tr><tr><td>  1002 </td><td>  .. </td></tr></tbody></table><br><br><h2> ORDER BY ‚Äì    </h2><br>  ORDER BY     . <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> LastName, FirstName, Salary <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> LastName,FirstName <span class="hljs-comment"><span class="hljs-comment">--    2-  ‚Äì  ,    </span></span></code> </pre><br><table><tbody><tr><th> LastName </th><th> FirstName </th><th> Salary </th></tr><tr><td>  </td><td>  Andrew </td><td>  2000 </td></tr><tr><td>  </td><td>  Ivan </td><td>  5000 </td></tr><tr><td>  Petrov </td><td>  Peter </td><td>  1500 </td></tr><tr><td>  </td><td>  </td><td>  2500 </td></tr></tbody></table><br>      ORDER BY    DESC,         : <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> LastName,FirstName,Salary <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> <span class="hljs-comment"><span class="hljs-comment">--    Salary DESC, -- 1.    LastName, -- 2.   FirstName -- 3.  </span></span></code> </pre><br><table><tbody><tr><th> LastName </th><th> FirstName </th><th> Salary </th></tr><tr><td>  </td><td>  Ivan </td><td>  5000 </td></tr><tr><td>  </td><td>  </td><td>  2500 </td></tr><tr><td>  </td><td>  Andrew </td><td>  2000 </td></tr><tr><td>  Petrov </td><td>  Peter </td><td>  1500 </td></tr></tbody></table><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For notes. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There is an ASC keyword for ascending sorting, but since ascending sorting is applied by default, you can forget about this option (I don‚Äôt remember the time when I used this option once).</font></font></blockquote><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It should be noted that in the ORDER BY clause you can also use fields that are not listed in the SELECT clause (except for the case when DISTINCT is used, I will discuss this case below). </font><font style="vertical-align: inherit;">For example, run a little ahead using the TOP option and show how, for example, you can select 3 employees who have the highest RFP, given that I don‚Äôt have to show the RFP for confidentiality purposes:</font></font><br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> TOP <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-comment"><span class="hljs-comment">--   3      ID,LastName,FirstName FROM Employees ORDER BY Salary DESC --      </span></span></code> </pre><br><table><tbody><tr><th>  ID </th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> LastName </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Firstname </font></font></th></tr><tr><td>  1000 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ivanov </font></font></td><td>  Ivan </td></tr><tr><td>  1002 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sidorov </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sidor </font></font></td></tr></tbody></table><br>    ,                   ,       . ,      ,        ‚Äì        (..    ),           (    ),         ID (      ,   ID   ‚Äì ,     ,       ): <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> TOP <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-comment"><span class="hljs-comment">--   3      ID,LastName,FirstName FROM Employees ORDER BY Salary DESC, -- 1.       Birthday, -- 2.     ID DESC -- 3.         ID</span></span></code> </pre><br><br>  Those.        ,           ¬´ ¬ª    , ..    ,   . <br><br>          ORDER BY: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> LastName,FirstName <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CONCAT</span></span>(LastName,<span class="hljs-string"><span class="hljs-string">' '</span></span>,FirstName) <span class="hljs-comment"><span class="hljs-comment">--  </span></span></code> </pre><br><br>    ORDER BY      : <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CONCAT</span></span>(LastName,<span class="hljs-string"><span class="hljs-string">' '</span></span>,FirstName) fi <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> fi <span class="hljs-comment"><span class="hljs-comment">--  </span></span></code> </pre><br><br>        DISTINCT,   ORDER BY    ,    SELECT.  Those.    DISTINCT     ,    .   ,    : <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DISTINCT</span></span> LastName,FirstName,Salary <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span> <span class="hljs-comment"><span class="hljs-comment">-- ID    ,      DISTINCT</span></span></code> </pre><br><br>  Those.  ORDER BY     ,    . <br><br><blockquote> <b> 1.</b>     ORDER BY    ,   SELECT: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> LastName,FirstName,Salary <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> <span class="hljs-comment"><span class="hljs-comment">--    3 DESC, -- 1.    1, -- 2.   2 -- 3.  </span></span></code> </pre><br><br>      ,          . <br><br>     (   ),    ,      ¬´*¬ª      .  ‚Äì  ,  -, ,     ,    (   ),      ,   , ..       ,           . <br><br>  ,      ,    ,     ,    (..   ),      ,     . <br><br>     ,     . <br></blockquote><br><br><blockquote> <b> 2.</b> <br>  MS SQL     NULL    . <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> BonusPercent <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> BonusPercent</code> </pre><br><br>    DESC     <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> BonusPercent <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> BonusPercent <span class="hljs-keyword"><span class="hljs-keyword">DESC</span></span></code> </pre><br><br>      NULL ,   , : <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> BonusPercent <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ISNULL</span></span>(BonusPercent,<span class="hljs-number"><span class="hljs-number">100</span></span>)</code> </pre><br><br>  ORACLE     2  NULLS FIRST  NULLS LAST (  ).  For example: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> BonusPercent <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> BonusPercent <span class="hljs-keyword"><span class="hljs-keyword">DESC</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NULLS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LAST</span></span></code> </pre><br><br>           . <br></blockquote><br><br><h2> TOP ‚Äì     </h2><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cut from MSDN. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TOP - limits the number of rows returned in the result set of the query to a specified number or percentage. </font><font style="vertical-align: inherit;">If the TOP clause is used in conjunction with the ORDER BY clause, then the result set is limited to the first N lines of the sorted result. </font><font style="vertical-align: inherit;">Otherwise, the first N rows are returned in an undefined order.</font></font><br></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usually, this expression is used with the ORDER BY clause and we already looked at examples when it was necessary to return the N-first rows from the result set. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Without ORDER BY, this sentence is usually applied when you just need to look at an unknown table in which there can be a lot of records, in this case we can, for example, ask us to return only the first 10 lines, but for clarity, we will say only 2:</font></font><br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> TOP <span class="hljs-number"><span class="hljs-number">2</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees</code> </pre><br><br>      PERCENT,          : <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> TOP <span class="hljs-number"><span class="hljs-number">25</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PERCENT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees</code> </pre><br><br>          . <br><br>    TOP    WITH TIES,         , ..     ,     ,     TOP N,         N.       ¬´¬ª   1500: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> Employees(<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,Email,PositionID,DepartmentID,ManagerID,Salary) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span>(<span class="hljs-number"><span class="hljs-number">1004</span></span>,N<span class="hljs-string"><span class="hljs-string">' ..'</span></span>,<span class="hljs-string"><span class="hljs-string">'n.nikolayev@test.tt'</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">1003</span></span>,<span class="hljs-number"><span class="hljs-number">1500</span></span>)</code> </pre><br><br>             2000: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> Employees(<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,Email,PositionID,DepartmentID,ManagerID,Salary) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span>(<span class="hljs-number"><span class="hljs-number">1005</span></span>,N<span class="hljs-string"><span class="hljs-string">' ..'</span></span>,<span class="hljs-string"><span class="hljs-string">'a.alexandrov@test.tt'</span></span>,<span class="hljs-literal"><span class="hljs-literal">NULL</span></span>,<span class="hljs-literal"><span class="hljs-literal">NULL</span></span>,<span class="hljs-number"><span class="hljs-number">1000</span></span>,<span class="hljs-number"><span class="hljs-number">2000</span></span>)</code> </pre><br><br>       WITH TIES  ,       3- ,     (   ,    ): <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> TOP <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TIES</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,Salary <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> Salary</code> </pre><br><br>     TOP 3,    4 , ..  Salary   TOP 3 (1500  2000)   4- .      : <br><br><img src="https://habrastorage.org/files/2ec/af9/cb3/2ecaf9cb3b07405f82fe8ed43a2a5a71.png"><br><br><blockquote> <b> .</b> <br>    TOP   ,  MySQL     LIMIT,       . <br><br>  ORACLE 12c,       TOP  LIMIT ‚Äì    ¬´ORACLE OFFSET FETCH¬ª.   12c       ROWNUM. <br></blockquote><br>         DISTINCT  TOP?     ,  .  ,      , ..      .     SELECT ,   DISTINCT,     TOP, ..      -,     ,         TOP. -   ,    : <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DISTINCT</span></span> TOP <span class="hljs-number"><span class="hljs-number">2</span></span> Salary <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> Salary</code> </pre><br><table><tbody><tr><th> Salary </th></tr><tr><td>  1500 </td></tr><tr><td>  2000 </td></tr></tbody></table><br>  Those.     2     .        -      (NULL), ..    .          NULL    ORDER BY,     ,   Salary  NULL,        WHERE. <br><br><h2> WHERE ‚Äì    </h2><br>         . ,      ¬´¬ª  ( ID=3): <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,LastName,FirstName,Salary <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> DepartmentID=<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-comment"><span class="hljs-comment">--  ORDER BY LastName,FirstName</span></span></code> </pre><br><table><tbody><tr><th>  ID </th><th> LastName </th><th> FirstName </th><th> Salary </th></tr><tr><td>  1004 </td><td>  Null </td><td>  Null </td><td>  1500 </td></tr><tr><td>  1003 </td><td>  </td><td>  Andrew </td><td>  2000 </td></tr><tr><td>  1001 </td><td>  Petrov </td><td>  Peter </td><td>  1500 </td></tr></tbody></table><br>  WHERE    ORDER BY. <br><br>       Employees : <br><ol><li> WHERE ‚Äì  ,       Employees       </li><li> DISTINCT ‚Äì  ,     </li><li> ORDER BY ‚Äì  ,     </li><li> TOP ‚Äì  ,          </li></ol><br><br>    : <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DISTINCT</span></span> TOP <span class="hljs-number"><span class="hljs-number">1</span></span> Salary <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> DepartmentID=<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> Salary</code> </pre><br><br>      : <br><br><img src="https://habrastorage.org/files/192/361/836/19236183602b41cb83e50f06e884e95e.png"><br><br>  ,    NULL    ,     IS NULL  IS NOT NULL.  ,   NULL    ¬´=¬ª ( )  , ..       NULL. <br><br> ,   ,      (.. DepartmentID IS NULL): <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> DepartmentID <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span></code> </pre><br><table><tbody><tr><th>  ID </th><th>  Name </th></tr><tr><td>  1005 </td><td>  .. </td></tr></tbody></table><br>             BonusPercent (.. BonusPercent IS NOT NULL): <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,Salary/<span class="hljs-number"><span class="hljs-number">100</span></span>*BonusPercent <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> Bonus <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> BonusPercent <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span></code> </pre><br><br> , ,  ,   BonusPercent    (0),          ,         . <br><br> ,   ,    ,   (BonusPercent&lt;=0  BonusPercent IS NULL),          .  ,   ,   ,       OR  NOT: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,Salary/<span class="hljs-number"><span class="hljs-number">100</span></span>*BonusPercent <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> Bonus <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span>(BonusPercent&lt;=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> BonusPercent <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>)</code> </pre><br><br>  Those.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here we started exploring boolean operators. </font><font style="vertical-align: inherit;">The expression in brackets "(BonusPercent &lt;= 0 OR BonusPercent IS NULL)" checks that the employee does not have a bonus, and NOT inverts this value, i.e. </font><font style="vertical-align: inherit;">says "return all employees who are not employees who do not have a bonus." </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Also, this expression can be rewritten and immediately say immediately ‚Äúreturn all employees who have a bonus‚Äù by expressing it with an expression (BonusPercent&gt; 0 and BonusPercent IS NOT NULL):</font></font><br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,Salary/<span class="hljs-number"><span class="hljs-number">100</span></span>*BonusPercent <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> Bonus <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> BonusPercent&gt;<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> BonusPercent <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span></code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Also in the WHERE block, you can do various kinds of expressions using arithmetic operators and functions. </font><font style="vertical-align: inherit;">For example, a similar test can be made using an expression with the function ISNULL:</font></font><br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,Salary/<span class="hljs-number"><span class="hljs-number">100</span></span>*BonusPercent <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> Bonus <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ISNULL</span></span>(BonusPercent,<span class="hljs-number"><span class="hljs-number">0</span></span>)&gt;<span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Boolean operators and simple comparison operators </font></font></h2><br> ,     ,          . <br><br>     SQL  3 ‚Äì AND, OR  NOT: <br><table><tbody><tr><th width="100"> AND </th><td>  .     (1 AND 2).    True, ,      </td></tr><tr><th>  OR </th><td>  .     (1 OR 2).    True, ,       </td></tr><tr><th> NOT </th><td>  /_.     (NOT _)   True,  _ = False   False,  _ = True </td></tr></tbody></table><br>              ,      NULL: <br><br><img src="https://habrastorage.org/files/545/269/899/545269899e414b5e8a223fb94cd3241c.png"><br><br>     ,     : <br><table><tbody><tr><th width="100">  Condition </th><th>  Value </th></tr><tr><td>  = </td><td>  </td></tr><tr><td>  &lt; </td><td>  </td></tr><tr><td>  &gt; </td><td>  More </td></tr><tr><td> &lt;= </td><td>    </td></tr><tr><td> &gt;= </td><td>    </td></tr><tr><td> &lt;&gt; <br> != </td><td>   </td></tr></tbody></table><br>   2    /  NULL: <br><table><tbody><tr><th width="150"> IS NULL </th><td>    NULL </td></tr><tr><th> IS NOT NULL </th><td>    NULL </td></tr></tbody></table><br> : 1)   ; 2) NOT; 3) AND; 4) OR. <br><br>        : <br><br><pre> <code class="sql hljs">((1 AND 2) OR NOT(3 AND 4 AND 5)) OR (‚Ä¶)</code> </pre><br><br>       ,     . <br><br>             .  ,         ,     (AND, OR  NOT)    ,     . <br><br><h2>      </h2><br>        SELECT    , ,     ,       ‚Äì BETWEEN, IN  LIKE. <br><br><h2> BETWEEN ‚Äì      </h2><br>     : <br><br><pre> <code class="sql hljs">_ [NOT] BETWEEN _  AND _ </code> </pre><br><br>      . <br><br>  Let us consider an example: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,Salary <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> Salary <span class="hljs-keyword"><span class="hljs-keyword">BETWEEN</span></span> <span class="hljs-number"><span class="hljs-number">2000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-number"><span class="hljs-number">3000</span></span> <span class="hljs-comment"><span class="hljs-comment">--      2000-3000</span></span></code> </pre><br><table><tbody><tr><th>  ID </th><th>  Name </th><th> Salary </th></tr><tr><td>  1002 </td><td>  .. </td><td>  2500 </td></tr><tr><td>  1003 </td><td>  .. </td><td>  2000 </td></tr><tr><td>  1005 </td><td>  .. </td><td>  2000 </td></tr></tbody></table><br> , BETWEEN    : <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,Salary <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> Salary&gt;=<span class="hljs-number"><span class="hljs-number">2000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> Salary&lt;=<span class="hljs-number"><span class="hljs-number">3000</span></span> <span class="hljs-comment"><span class="hljs-comment">--       2000-3000</span></span></code> </pre><br><br>   BETWEEN    NOT,           : <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,Salary <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> Salary <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BETWEEN</span></span> <span class="hljs-number"><span class="hljs-number">2000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-number"><span class="hljs-number">3000</span></span> <span class="hljs-comment"><span class="hljs-comment">--   NOT(Salary&gt;=2000 AND Salary&lt;=3000)</span></span></code> </pre><br><br> ,    BETWEEN, IN, LIKE            AND  OR: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,Salary <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> Salary <span class="hljs-keyword"><span class="hljs-keyword">BETWEEN</span></span> <span class="hljs-number"><span class="hljs-number">2000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-number"><span class="hljs-number">3000</span></span> <span class="hljs-comment"><span class="hljs-comment">--      2000-3000 AND DepartmentID=3 --     3</span></span></code> </pre><br><br><h2> IN ‚Äì       </h2><br>     : <br><br><pre> <code class="sql hljs">_ [NOT] IN (1, 2, ‚Ä¶)</code> </pre><br><br> ,    : <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,Salary <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> PositionID <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-comment"><span class="hljs-comment">--     3  4</span></span></code> </pre><br><table><tbody><tr><th>  ID </th><th>  Name </th><th> Salary </th></tr><tr><td>  1001 </td><td>  .. </td><td>  1500 </td></tr><tr><td>  1003 </td><td>  .. </td><td>  2000 </td></tr><tr><td>  1004 </td><td>  .. </td><td>  1500 </td></tr></tbody></table><br>  Those.      : <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,Salary <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> PositionID=<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> PositionID=<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-comment"><span class="hljs-comment">--     3  4</span></span></code> </pre><br><br>   NOT    (   ,    3  4): <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,Salary <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> PositionID <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-comment"><span class="hljs-comment">--   NOT(PositionID=3 OR PositionID=4)</span></span></code> </pre><br><br>     NOT IN     AND: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,Salary <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> PositionID&lt;&gt;<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> PositionID&lt;&gt;<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-comment"><span class="hljs-comment">--  PositionID NOT IN(3,4)</span></span></code> </pre><br><br> ,   NULL     IN  , ..  NULL=NULL    NULL,   True: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,DepartmentID <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> DepartmentID <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-literal"><span class="hljs-literal">NULL</span></span>) <span class="hljs-comment"><span class="hljs-comment">-- NULL     </span></span></code> </pre><br><br>        : <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,DepartmentID <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> DepartmentID <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-comment"><span class="hljs-comment">-- 1  2 OR DepartmentID IS NULL --  NULL</span></span></code> </pre><br><br>     - : <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,DepartmentID <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ISNULL</span></span>(DepartmentID,<span class="hljs-number"><span class="hljs-number">-1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">-1</span></span>) <span class="hljs-comment"><span class="hljs-comment">--   ,         ID=-1</span></span></code> </pre><br><br> ,  ,        .  ,    ,        . <br><br>        ,   NULL,       NOT IN.  ,     ,  ,     1       , ..  NULL.     : <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,DepartmentID <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> DepartmentID <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-literal"><span class="hljs-literal">NULL</span></span>)</code> </pre><br><br>   ,      ,     : <br><table><tbody><tr><th>  ID </th><th>  Name </th><th> DepartmentID </th></tr><tr><td>  1001 </td><td>  .. </td><td>  3 </td></tr><tr><td>  1002 </td><td>  .. </td><td>  2 </td></tr><tr><td>  1003 </td><td>  .. </td><td>  3 </td></tr><tr><td>  1004 </td><td>  .. </td><td>  3 </td></tr></tbody></table><br>      NULL    . <br><br>        .     AND: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,DepartmentID <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> DepartmentID&lt;&gt;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> DepartmentID&lt;&gt;<span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-comment"><span class="hljs-comment">--  -    NULL -     NULL</span></span></code> </pre><br><br>   (DepartmentID&lt;&gt;NULL)     , .. NULL.       AND,  (TRUE AND NULL)  NULL.  Those.     (DepartmentID&lt;&gt;1) -            (DepartmentID&lt;&gt;1 AND DepartmentID&lt;&gt;NULL),      . <br><br>      : <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,DepartmentID <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> DepartmentID <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-comment"><span class="hljs-comment">--      DepartmentID&lt;&gt;1 AND DepartmentID IS NOT NULL --     NOT NULL</span></span></code> </pre><br><br> IN     ,      ,      . <br><br><h2> LIKE ‚Äì     </h2><br>          ,         SQL.           ,       . <br><br>     : <br><br><pre> <code class="sql hljs">_ [NOT] LIKE _ [ESCAPE _]</code> </pre><br><br>  ¬´_¬ª     : <br><ol><li>   ¬´_¬ª ‚Äî ,          </li><li>   ¬´%¬ª ‚Äî ,         ,       </li></ol><br>     ¬´%¬ª ( ,    ): <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LIKE</span></span> <span class="hljs-string"><span class="hljs-string">'%'</span></span> <span class="hljs-comment"><span class="hljs-comment">--       "" SELECT ID,LastName FROM Employees WHERE LastName LIKE '%' --      "" SELECT ID,LastName FROM Employees WHERE LastName LIKE '%%' --      ""</span></span></code> </pre><br><br>     ¬´_¬ª: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,LastName <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> LastName <span class="hljs-keyword"><span class="hljs-keyword">LIKE</span></span> <span class="hljs-string"><span class="hljs-string">'_'</span></span> <span class="hljs-comment"><span class="hljs-comment">--            "" SELECT ID,LastName FROM Employees WHERE LastName LIKE '____' --            ""</span></span></code> </pre><br><br>   ESCAPE    ,       ¬´_¬ª  ¬´%¬ª.   ,            . <br><br>   ESCAPE      : <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> FirstName=<span class="hljs-string"><span class="hljs-string">'_,  %'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>=<span class="hljs-number"><span class="hljs-number">1005</span></span></code> </pre><br><br>  ,    : <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> FirstName <span class="hljs-keyword"><span class="hljs-keyword">LIKE</span></span> <span class="hljs-string"><span class="hljs-string">'%!%%'</span></span> ESCAPE <span class="hljs-string"><span class="hljs-string">'!'</span></span> <span class="hljs-comment"><span class="hljs-comment">--    "%" SELECT * FROM Employees WHERE FirstName LIKE '%!_%' ESCAPE '!' --    "_"</span></span></code> </pre><br><br>  ,       ,   LIKE     ¬´=¬ª: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> FirstName=<span class="hljs-string"><span class="hljs-string">''</span></span></code> </pre><br><br><blockquote> <b> .</b> <br>  MS SQL    LIKE        ,     ,   ,        . <br><br>  ORACLE        REGEXP_LIKE. <br></blockquote><br><br><h2>    </h2><br>       Unicode ,       N, .. N'‚Ä¶'.             Unicode ( nvarchar),         .  Example: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LIKE</span></span> N<span class="hljs-string"><span class="hljs-string">'%'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,LastName <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> LastName=N<span class="hljs-string"><span class="hljs-string">''</span></span></code> </pre><br><br>   ,      varchar (ASCII)       '‚Ä¶',       nvarchar (Unicode)       N'‚Ä¶'.    ,         .        (INSERT)       (UPDATE). <br><br>      ,       (collation),    ,  - ( ''=''),   - ( ''&lt;&gt;''). <br>   - ,       ,  , ,           ‚Äì   : <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UPPER</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">LIKE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UPPER</span></span>(N<span class="hljs-string"><span class="hljs-string">'%'</span></span>) <span class="hljs-comment"><span class="hljs-comment">--  LOWER(Name) LIKE LOWER(N'%') SELECT ID,LastName FROM Employees WHERE UPPER(LastName)=UPPER(N'') --  LOWER(LastName)=LOWER(N'')</span></span></code> </pre><br><br><h2>    </h2><br>    ,   ,       '‚Ä¶'. <br><br>       MS SQL      'YYYYMMDD' (, ,    ).    MS SQL  : <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,Birthday <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> Birthday <span class="hljs-keyword"><span class="hljs-keyword">BETWEEN</span></span> <span class="hljs-string"><span class="hljs-string">'19800101'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-string"><span class="hljs-string">'19891231'</span></span> <span class="hljs-comment"><span class="hljs-comment">--  80-  ORDER BY Birthday</span></span></code> </pre><br><br>   ,       DATEFROMPARTS: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,Birthday <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> Birthday <span class="hljs-keyword"><span class="hljs-keyword">BETWEEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DATEFROMPARTS</span></span>(<span class="hljs-number"><span class="hljs-number">1980</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DATEFROMPARTS</span></span>(<span class="hljs-number"><span class="hljs-number">1989</span></span>,<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">31</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> Birthday</code> </pre><br><br>      DATETIMEFROMPARTS,        (  datetime). <br><br>      CONVERT,        date  datetime: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CONVERT</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">date</span></span>,<span class="hljs-string"><span class="hljs-string">'12.03.2015'</span></span>,<span class="hljs-number"><span class="hljs-number">104</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">CONVERT</span></span>(datetime,<span class="hljs-string"><span class="hljs-string">'2014-11-30 17:20:15'</span></span>,<span class="hljs-number"><span class="hljs-number">120</span></span>)</code> </pre><br><br>  104  120,       .          MSDN    ¬´MS SQL CONVERT¬ª. <br><br>       MS SQL  ,  ¬´ms sql     ¬ª. <br><br><blockquote>  <b>Note.</b>     SQL               . </blockquote><br><br><h2>       </h2><br>        -.     ,              ,        ,            -  , ..      SQL,      . <br><br>      CAST,   CONVERT    ,      ().         ,      .           CONVERT   date  datetime. <br><br>    CAST, CONVERT      MSDN ‚Äì ¬´ CAST  CONVERT (Transact-SQL)¬ª: <a href="https://msdn.microsoft.com/ru-ru/library/ms187928.aspx">msdn.microsoft.com/ru-ru/library/ms187928.aspx</a> <br><br>         Transact-SQL ‚Äì DECLARE  SET. <br><br> ,        (     ,         ),      , ..         (     ): <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> @min_int <span class="hljs-built_in"><span class="hljs-built_in">int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> @min_int=<span class="hljs-number"><span class="hljs-number">-2147483648</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> @max_int <span class="hljs-built_in"><span class="hljs-built_in">int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> @max_int=<span class="hljs-number"><span class="hljs-number">2147483647</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-comment"><span class="hljs-comment">-- (-2147483648) @min_int,CAST(@min_int AS float),CONVERT(float,@min_int), -- 2147483647 @max_int,CAST(@max_int AS float),CONVERT(float,@max_int), -- numeric(16,6) @min_int/1., -- (-2147483648.000000) @max_int/1. -- 2147483647.000000</span></span></code> </pre><br><br>       ,    (1.), ..     ,      . ,  ,       numeric,      ,     MS SQL        (1., 1.0, 1.00  .): <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> @<span class="hljs-built_in"><span class="hljs-built_in">int</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> @<span class="hljs-built_in"><span class="hljs-built_in">int</span></span>=<span class="hljs-number"><span class="hljs-number">123</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> @<span class="hljs-built_in"><span class="hljs-built_in">int</span></span>*<span class="hljs-number"><span class="hljs-number">1.</span></span>, <span class="hljs-comment"><span class="hljs-comment">-- numeric(12, 0) - 0    @int*1.0, -- numeric(13, 1) - 1  @int*1.00, -- numeric(14, 2) - 2  --       CAST(@int AS numeric(20, 0)), -- 123 CAST(@int AS numeric(20, 1)), -- 123.0 CAST(@int AS numeric(20, 2)) -- 123.00</span></span></code> </pre><br><br>         , ..      , ,  ,        (varchar).       money  float  varchar: <br><br><pre> <code class="sql hljs"><span class="hljs-comment"><span class="hljs-comment">--    money  varchar DECLARE @money money SET @money = 1025.123456789 --     1025.1235, ..  money   4    SELECT @money, -- 1025.1235 --   CAST  CONVERT    (..     0) CAST(@money as varchar(20)), -- 1025.12 CONVERT(varchar(20), @money), -- 1025.12 CONVERT(varchar(20), @money, 0), -- 1025.12 ( 0 -     2    (  )) CONVERT(varchar(20), @money, 1), -- 1,025.12 ( 1 -     2   ) CONVERT(varchar(20), @money, 2) -- 1025.1235 ( 2 -    4   )</span></span></code> </pre><br><br><pre> <code class="sql hljs"><span class="hljs-comment"><span class="hljs-comment">--    float  varchar DECLARE @float1 float SET @float1 = 1025.123456789 DECLARE @float2 float SET @float2 = 1231025.123456789 SELECT @float1, -- 1025.123456789 @float2, -- 1231025.12345679 --   CAST  CONVERT    (..     0) --  0 -   6 .       --    varchar      CAST(@float1 as varchar(20)), -- 1025.12 CONVERT(varchar(20), @float1), -- 1025.12 CONVERT(varchar(20), @float1, 0), -- 1025.12 CAST(@float2 as varchar(20)), -- 1.23103e+006 CONVERT(varchar(20), @float2), -- 1.23103e+006 CONVERT(varchar(20), @float2, 0), -- 1.23103e+006 --  1 -  8 .     . --    float     CONVERT(varchar(20), @float1, 1), -- 1.0251235e+003 CONVERT(varchar(20), @float2, 1), -- 1.2310251e+006 --  2 -  16 .     . --      CONVERT(varchar(30), @float1, 2), -- 1.025123456789000e+003 - OK CONVERT(varchar(30), @float2, 2) -- 1.231025123456789e+006 - OK</span></span></code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As you can see from the example, floating types float, real in some cases can really create a big error, especially when distilling into a string and back (this can happen with all sorts of integrations, when data, for example, is transferred in text files from one system to another) . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you need to explicitly control the accuracy of a certain character, more than 4, then for storing data, it is sometimes better to use the decimal / numeric type. </font><font style="vertical-align: inherit;">If 4 characters are enough, then money can be used - it roughly corresponds to numeric (20.4).</font></font><br><br><pre> <code class="sql hljs"><span class="hljs-comment"><span class="hljs-comment">-- decimal  numeric DECLARE @money money SET @money = 1025.123456789 -- 1025.1235 DECLARE @float1 float SET @float1 = 1025.123456789 DECLARE @float2 float SET @float2 = 1231025.123456789 DECLARE @numeric numeric(28,9) SET @numeric = 1025.123456789 SELECT CAST(@numeric as varchar(20)), -- 1025.12345679 CONVERT(varchar(20), @numeric), -- 1025.12345679 CAST(@money as numeric(28,9)), -- 1025.123500000 CAST(@float1 as numeric(28,9)), -- 1025.123456789 CAST(@float2 as numeric(28,9)) -- 1231025.123456789</span></span></code> </pre><br><br><blockquote>  <b>Note.</b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> With MS SQL 2008, you can use instead of the construction: </font></font><br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> @money money <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> @money = <span class="hljs-number"><span class="hljs-number">1025.123456789</span></span></code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Shorter variable initialization syntax: </font></font><br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> @money money = <span class="hljs-number"><span class="hljs-number">1025.123456789</span></span></code> </pre><br></blockquote><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The conclusion of the second part </font></font></h2><br>   ,        ,   .   ‚Äì  ,           SQL. <br><br> ,    ,       SQL. <br><br>         . <br><br>  Part Three - <a href="http://habrahabr.ru/post/255825/">habrahabr.ru/post/255825</a> </div><p>Source: <a href="https://habr.com/ru/post/255523/">https://habr.com/ru/post/255523/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../255507/index.html">Project Maelstrom went public beta</a></li>
<li><a href="../255509/index.html">The French TV channel was hacked after an interview with an employee on the background of stickers with passwords.</a></li>
<li><a href="../255511/index.html">Pure CSS3 Calculator</a></li>
<li><a href="../255513/index.html">We are switching from STM32 to the Russian K1986BE92QI microcontroller. Practical application: Generate and reproduce sound. Part one: we generate a square and sinusoidal signal. Mastering the DAC (DAC)</a></li>
<li><a href="../255519/index.html">Return oriented programming. We collect exploit in pieces</a></li>
<li><a href="../255525/index.html">Encryption and decryption - accessing the OpenSSL API using JNI calls</a></li>
<li><a href="../255527/index.html">Ordinary Primes: The Secrets of the Weavers' Secret Society</a></li>
<li><a href="../255529/index.html">Use Java smart cards to protect software. Chapter 1. General Information</a></li>
<li><a href="../255531/index.html">Use Java smart cards to protect software. Chapter 2. Java smart card from the applet developer's point of view</a></li>
<li><a href="../255533/index.html">Use Java smart cards to protect software. Chapter 3. Installing and Configuring IDE</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>