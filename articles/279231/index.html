<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The story of the development of Cosmos on Unity</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In my article, I will try to describe my experience of creating a game in two weeks, starting with the choice of genre and setting, ending with the fi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The story of the development of Cosmos on Unity</h1><div class="post__text post__text-html js-mediator-article">  In my article, I will try to describe my experience of creating a game in two weeks, starting with the choice of genre and setting, ending with the final captions, as well as all the rakes that I stepped on during the development process, and I don‚Äôt want to step on anymore.  Those who have quite a lot of experience in the development of games, the article is likely to be uninteresting, but novice developers, I think they will be able to find something interesting for themselves. <br><br><img src="https://habrastorage.org/files/cc8/b26/24b/cc8b2624beec48ebbfd039880153347a.PNG"><br>  <i>The name is that part of the game, the work on which was postponed to the very last moment.</i>  <i>In the end, nothing worthwhile to come up with, unfortunately, failed.</i> <br><a name="habracut"></a><br><h1>  Genre, setting and plot </h1><br>  It all started pretty standard, the competition, the topic - ‚ÄúChoice‚Äù (treat as you like, called), the term is two weeks.  I suffer a slight rejection of 2D games, so the question of 2D / 3D was not at all.  With the genre and the setting it was already more difficult, it was decided to build on two favorite games, after which more than one hundred hours were spent - ‚ÄúSpace Rangers‚Äù and ‚ÄúMechanoids‚Äù.  So I decided on the genre - a game built on the mechanics of Elite, of course, heavily curtailed.  The logical setting for this genre was Sci-fi, the place of action is space, because in two weeks to create minimally decent ‚Äúground levels‚Äù is very problematic. <br><br>  To minimize the required amount of content, it was decided to abandon the generated planetary systems, and from any scale in general.  The whole game takes place within one asteroid belt, divided into several sectors, the number of points of interest is minimal.  But such a decision left time for other aspects of the game, if you delve into the elaboration of the world, there will be no time left for everything else. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/582/210/2b5/5822102b5339481e883e427b1d0e7600.jpg"><br>  <i>On the first day, a sketch of the interface was born and a set of features that were implemented in the next 14 days.</i> <br><br>  I acted even more barbarically with the plot (in vain, as it turned out later) - the first idea about mysterious invaders who encroached on the asteroid belt, in which the base of the GG was located, was taken as a basis.  Thinking through the details was left for later, as well as inventing plot tasks. <br><br>  Ahead was the most important thing - features. <br><br><h1>  Opportunities </h1><br>  I really wanted to give my all to the maximum, and to realize as many different chips as possible, many of which had only one goal - to please that they were implemented in the game.  One of these chips was self-guided missiles.  It seems, despite their ability to blow up small enemies with one hit, none of them who played the game so plainly used it.  At the same time, the time for their creation was well spent. <br><br>  In general, the approximate list of basic features looked like this: <br><br><ul><li>  Player controlled spacecraft, with the possibility of customization of weapons </li><li>  Several types of weapons that can be hung at different points of the suspension </li><li>  The ability to pick up the wreckage of enemies and take them to the bases, getting paid for it </li><li>  Several sectors, moving between which is made by the hyper-jump </li><li>  Guided and unguided weapons </li><li>  Several types of opponents, different characteristics </li><li>  Ten or two story quests, at least two endings </li><li>  Boss, and an important element of the game - the fight with the boss </li></ul><br>  The list turned out to be quite large, but somehow, all these possibilities were realized in the game with varying degrees of development. <br><br><h1>  Start: First Models and Movement in the Void </h1><br>  After it was decided with a genre and a set of features, two models were quickly sketched in the 3d editor - the main character's spaceship and one of the opponents. <br><br><img src="https://habrastorage.org/files/d37/aff/ce5/d37affce5c424052ba461e5daf131dd3.png"><br>  <i>The primitiveness and cubicity of the ships of the enemies has a plot substantiation.</i> <br><br>  And now, finally, it was possible to start programming. <br><br>  The first thing it was decided to implement the movement of the spacecraft and camera. <br><br>  The movement is implemented quite simply, no inertia and other realistic things.  The player's ship is a model with a rigidbody, to which each tick is given angular and translational speeds.  To obtain the angular velocity, the displacement vector is taken from the mouse from the center, with each tick the current delta of the mouse movement is added to the displacement, and the vector itself is multiplied by a factor less than 1. A fairly smooth control is obtained, with the illusion of a small inertia of the ship. <br><br>  For translational motion, it is still easier - the ship moves in the direction of the local ‚Äúforward‚Äù, the speed gradually increases or decreases when you press the W / S keys. <br><br>  With the camera, everything turned out pretty simple too.  Tying a camera to the ship in the forehead is a bad idea, so the camera and the ship are not connected, but for the camera there is a target point behind-the top of the ship to which it is aiming, and target angles of rotation.  The current and target points are interpolated, thereby creating a ‚Äúsmooth tracking camera‚Äù effect. <br><br>  To give a sense of speed, with the acceleration of the ship, the camera's field of view slightly increases, and when it slows down, it slows down. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/T2VxY6AMB-4%3Ffeature%3Doembed&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjQroBHc9WgSFs0QP77GCX2ThVCSg" frameborder="0" allowfullscreen=""></iframe><br>  <i>It can be seen how the ship twitches unpleasantly.</i>  <i>This was cured by the inclusion of interpolation in the settings of the Rigidbody ship.</i> <br><br><h1>  Fill the void </h1><br>  Moving in an empty black space is somehow uninteresting.  Therefore, the next step was to fill the space with objects. <br>  Since the asteroid belt was the setting for the setting of the game, the problem was solved very simply - in a space of several tens of cubic kilometers a couple of hundreds of asteroids were scattered at random.  Seed for random generation was saved in advance, so you could not worry about the fact that the base or quest object will be inside the asteroid. <br><br><img src="https://habrastorage.org/files/b63/a6a/051/b63a6a0512d44330b6f27f415d7438fe.PNG"><br>  <i>It looks like this from a distance.</i> <br><br>  For more "liveliness" and dynamism, in addition to large asteroids, small, and "star dust" were added.  These little things were no longer generated throughout the location, but were created directly around the moving ship. <br><br><div class="spoiler">  <b class="spoiler_title">Asteroid Trivial Code</b> <div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MiniAsteroids</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Transform tx; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GameObject[] asteroids = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GameObject[<span class="hljs-number"><span class="hljs-number">155</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject[] prefabs = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GameObject[<span class="hljs-number"><span class="hljs-number">2</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> asteroidsMax = <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> asteroidSize = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> asteroidDistance = <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> asteroidClipDistance = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> asteroidDistanceSqr; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> asteroidClipDistanceSqr; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ParticleSystem pSystem; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> updateEvery = <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> counter = <span class="hljs-number"><span class="hljs-number">0</span></span>; GameObject root; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { root = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GameObject(); root.transform.position = Vector3.zero; root.name = <span class="hljs-string"><span class="hljs-string">"Small Asteroid Field"</span></span>; tx = transform; asteroidDistanceSqr = asteroidDistance * asteroidDistance; asteroidClipDistanceSqr = asteroidClipDistance * asteroidClipDistance; pSystem = GetComponent&lt;ParticleSystem&gt;(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CreateStars</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; asteroidsMax; i++) { asteroids[i] = Instantiate(prefabs[Random.Range(<span class="hljs-number"><span class="hljs-number">0</span></span>, prefabs.Length - <span class="hljs-number"><span class="hljs-number">1</span></span>)]) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> GameObject; asteroids[i].transform.position = Random.insideUnitSphere * asteroidDistance + tx.position; asteroids[i].transform.parent = root.transform; asteroids[i].GetComponent&lt;Rigidbody&gt;().angularVelocity = Random.insideUnitSphere * <span class="hljs-number"><span class="hljs-number">2f</span></span>; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { counter++; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (asteroids[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) CreateStars(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (counter == updateEvery) { counter = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; asteroidsMax; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((asteroids[i].transform.position - tx.position).sqrMagnitude &gt; asteroidDistanceSqr) { asteroids[i].transform.position = Random.insideUnitSphere.normalized * asteroidDistance + tx.position; asteroids[i].GetComponent&lt;Rigidbody&gt;().velocity = Vector3.zero; } } } } }</code> </pre> <br></div></div><br><h1>  We arm the ship </h1><br>  The ship of the main character, it was decided to give the opportunity to carry weapons on six points of suspension (two or four points is too undignified for a heavily armed fighter).  Arms attachment points were set using dummy GameObjects, the number of points for the suspension was hard-coded (yes, I confess).  In this case, the suspension points were divided into two types - the main weapon and auxiliary.  The difference was essentially one thing - the weapon on the main slots was activated on the paintwork material, and on additional slots - on the gap.  With the ship, the weapon interacted fairly limitedly - through an interface that provides access to the main functions, which made it quite easy to add new types of weapons.  In addition, as it was developed, several more functions were added to it, which are responsible for its appearance in the store and hangar interface. <br><br><div class="spoiler">  <b class="spoiler_title">Interface</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IWeapon</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Shoot</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Transform target</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Refill</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetAmmoNum</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SetAmmoNum</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-function">Vector3 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetJointOffset</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetWeaponName</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetWeaponTitle</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetWeaponDesc</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetWeaponPrice</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; <span class="hljs-function"><span class="hljs-function">Vector3 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetGUIRotation</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; <span class="hljs-function"><span class="hljs-function">Vector3 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetGUIScale</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; }</code> </pre><br></div></div><br><img src="https://habrastorage.org/files/425/f4a/9de/425f4a9de34a43cdae87bbd56d2a7aa6.PNG"><br>  <i>One of the first screenshots of a ship with a suspended weapon</i> <br><br>  In total, five types of weapons were made: Double-barreled gun, Laser, unguided missiles, heavy homing torpedo, homing missile. <br><br>  The self-guided missile, for greater accuracy, calculated the lead point, with the assumption that the target would move in the same direction at the same speed.  As a rule, this was enough for a rocket to hit a moving target with a rather high probability. <br><br><div class="spoiler">  <b class="spoiler_title">Guided missile script code</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">GuidedRocket</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> selfDestructTime = <span class="hljs-number"><span class="hljs-number">5f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> safetyDelay = <span class="hljs-number"><span class="hljs-number">0.5f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> damageRadius = <span class="hljs-number"><span class="hljs-number">6f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> damage = <span class="hljs-number"><span class="hljs-number">120</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> acceleration; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> steerCoef = <span class="hljs-number"><span class="hljs-number">0.09f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> maxSpeed = <span class="hljs-number"><span class="hljs-number">10f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Collider col; <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> armed = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Transform smoke; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject explosion; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject target; Vector3 estimatedPosition; Vector3 targetVelocity; Rigidbody targetBody; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector3 fwd = -Vector3.up; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector3 fixAngle = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(<span class="hljs-number"><span class="hljs-number">-90</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> startSpeed; <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> first = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; Rigidbody body; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> LayerMask hitMask; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Invoke(<span class="hljs-string"><span class="hljs-string">"SelfDestruct"</span></span>, selfDestructTime); Invoke(<span class="hljs-string"><span class="hljs-string">"Arm"</span></span>, safetyDelay); body = GetComponent&lt;Rigidbody&gt;(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FixedUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (first) { first = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; startSpeed = transform.InverseTransformDirection(GetComponent&lt;Rigidbody&gt;().velocity).magnitude; maxSpeed = startSpeed * <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (target != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { targetBody = target.GetComponent&lt;Rigidbody&gt;(); } } Vector3 fwdDir = transform.TransformDirection(fwd); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (armed) { startSpeed += Time.deltaTime * acceleration; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (target != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { Vector3 enemyPos = target.transform.position; Vector3 dir = enemyPos - transform.position; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (targetBody != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> distance = dir.magnitude; Vector3 tgVel = targetBody.velocity; estimatedPosition = target.transform.position + (distance / startSpeed) * tgVel; <span class="hljs-comment"><span class="hljs-comment">//   dir = estimatedPosition - transform.position; } else { } Quaternion targetRotation = Quaternion.LookRotation(dir) * Quaternion.Euler(fixAngle); body.MoveRotation(Quaternion.Lerp(transform.rotation, targetRotation, steerCoef)); } } body.velocity = Vector3.Lerp(body.velocity,fwdDir * startSpeed , 0.5f); } void SelfDestruct() { smoke.parent = null; smoke.gameObject.AddComponent&lt;Autodestruction&gt;().Set(5f); smoke.gameObject.GetComponent&lt;ParticleSystem&gt;().enableEmission = false; explosion.transform.parent = null; explosion.SetActive(true); Destroy(this.gameObject); } void Arm() { armed = true; col.enabled = true; } void OnTriggerEnter(Collider col) { if (armed) { Debug.Log(col.gameObject.name); foreach (Collider c in Physics.OverlapSphere(transform.position, damageRadius)) { if (c.GetComponent&lt;Rigidbody&gt;()) { c.GetComponent&lt;Rigidbody&gt;().AddExplosionForce(20, this.transform.position, damageRadius); c.GetComponent&lt;Rigidbody&gt;().AddTorque(new Vector3(Random.Range(-30f, 30f), Random.Range(-30f, 30f), Random.Range(-30f, 30f))); } if (c.gameObject.GetComponent&lt;IDamageReciever&gt;() != null) { c.gameObject.GetComponent&lt;IDamageReciever&gt;().DoDamage(damage); } } CancelInvoke("SelfDestruct"); SelfDestruct(); } } }</span></span></code> </pre><br></div></div><br>  Below is a video of the work of two types of weapons.  Also on the video you can see the effect of the destruction of the enemy, but since it is quite simple, I will not dwell on it separately. <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/aZAt08YWVBU%3Ffeature%3Doembed&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjL8wmbClU60ddTpvR0MW3Tdo6LdQ" frameborder="0" allowfullscreen=""></iframe><br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/g8vTUiCbIy4%3Ffeature%3Doembed&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiu0i3C6EMRtAqpRibdYFY07vJDWA" frameborder="0" allowfullscreen=""></iframe><br><br><h1>  Interface </h1><br>  The time spent on the interface unexpectedly turned out to be very significant, it took at least three days of work to develop the interface.  The UI system, which appeared in Unity 4.6, was used, in my opinion, very convenient and quite simple to learn. <br><br>  The most difficult part of the work on the interface was the base interface, it was necessary to implement a fairly large functionality.  Dialogues, buying / selling weapons, selling items from the hold, repairs.  As cargo / weapon icons, their models were used in an orthogonal projection, because the time for drawing icons was simply not enough.  A small description was made for each item, telling the player what it is before him. <br><br><img src="https://habrastorage.org/files/ec3/ceb/dbf/ec3cebdbfc0c49a183ae49c33227dec3.JPG"><br>  <i>The first version of the interface, the curve, without the tasks tab</i> <br><br>  Later, the interface was finalized graphically (thanks to the person who helped me with sprites for him, I myself could never do that), and began to look noticeably prettier and neater. <br><br><img src="https://habrastorage.org/files/812/ac3/262/812ac32627704c9ebd8da8a39054350a.PNG"><br>  <i>The final version, the essence is the same, but more pleasant to the eye.</i> <br><br>  Flight interface was easier.  The player with him in fact does not interact, and in itself he is dovalno minimalist.  For progress bars, a regular sprite was used, cut by Unity into 9 parts and stretched horizontally, very simply and quite nicely.  With curved bars to the side of the sight all the more difficult.  Just stretching the sprite on one of the axes will not work out anymore, you need to use a more complex solution.  A simple shader with one parameter was written - clipping height.  It was set from a script, and in accordance with it the sprite was drawn with the necessary filling. <br><br><div class="spoiler">  <b class="spoiler_title">Shader code</b> <div class="spoiler_text"> <code>Shader "Custom/CrosshairShader" { <br> Properties { <br> _MainTex ("Base (RGB)", 2D) = "white" {} <br> _Angle ("Angle (Float)", Float) = 0 <br> _Color ("Tint", Color) = (1.0, 0.6, 0.6, 1.0) <br> } <br> <br> SubShader { <br> Tags{"Queue" = "Transparent" } <br> Pass { <br> Blend SrcAlpha OneMinusSrcAlpha <br> CGPROGRAM <br> #pragma vertex vert_img <br> #pragma fragment frag <br> <br> #include "UnityCG.cginc" <br> <br> uniform sampler2D _MainTex; <br> uniform float _Angle; <br> uniform fixed4 _Color; <br> <br> float4 frag(v2f_img i) : COLOR <br> { <br> float4 result = tex2D(_MainTex, i.uv); <br> float angle = i.uv.y; <br> <br> if(angle &gt; _Angle) <br> { <br> result.a = 0; <br> } <br> <br> return result*_Color; <br> } <br> ENDCG <br> } <br> } <br> } <br></code> <br></div></div><br>  Flight Interface Screenshot: <br><br><img src="https://habrastorage.org/files/d55/a63/d32/d55a63d32c4b459f813e58f929479f7f.PNG"><br>  <i>The screenshot shows a half-filled health indicator in the center of the screen.</i> <br><br><h1>  Opponents </h1><br>  In my opinion, one of the weak points of the game.  They have only one tactic - to fly after the player, if he is in their sight, and having approached at a distance of opening fire, start shooting.  Despite this, in large numbers even such enemies pose a serious danger. <br><br>  Of course, in addition to the above behavior, they also had auxiliary functions.  For example, having lost sight of the player, they flew to the last point where they saw him, and not finding him there, they began to randomly wander or return to the starting point.  And also, they sometimes avoided collisions with asteroids, but only if they flew not too fast.  The full state machine for AI opponents was not implemented this way, the AI ‚Äã‚Äãscript ran a pass every 0.1 seconds, in which it decided what the enemy would do in the next 0.1s.  Because of this, in order to achieve more or less tolerable behavior, we had to get a lot of additional variables describing the state of AI. <br><br><img src="https://habrastorage.org/files/5a9/a81/6b3/5a9a816b3a3143e184534d7803234c38.png"><br>  The main boss was completely defenseless and relied only on a huge number of his minions. <br><br><h1>  Quests </h1><br>  Before that I had never done a quest system, so I didn‚Äôt even have any idea where to start.  But there was no time to talk or look for lessons - it was necessary to act, because there was a second week!  As a result, a very ugly system was born with a hard-nosed list of quests (to add a new quest, it was necessary to prescribe its name in the variables of the Main Quest Script, increase the number of quests by one, and prescribe the quest to which database it belongs to). pieces), and with other signs of jumping on a rake. <br><br>  Dialogues were saved in xml, for their editing a simple editor was even made in the same place, in Unity. <br><br><img src="https://habrastorage.org/files/5a2/211/b95/5a2211b95e284cc7b870f7962fca1c46.JPG"><br>  <i>The editor is probably the best part of the quest system.</i> <br><br>  The quests themselves were made by the prefabs, who instanced when the quest was activated and were deleted after receiving the reward.  It's crooked, but it worked.  On the system of quests, writing dialogues and quests themselves took another three days.  The term was coming to an end. <br><br><h1>  Other stuff </h1><br>  I would like here to list the various chips that are unworthy of a separate section, but which nevertheless want to tell. <br><br>  Perhaps I'll start with the effect of hyper-jump.  How it looks, you can see below. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/O-HC22-uRlA%3Ffeature%3Doembed&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiqCqFLokrq1zBI8KrOLMmxYEmn1A" frameborder="0" allowfullscreen=""></iframe><br><br>  It is implemented very simply.  First we start the sound, start shaking the camera, show a slightly enlarged model of the same ship over the main model, but with the texture of the ‚Äúenergy field‚Äù, then animate it using the Animation Curves, and just before the jump, launch the flash particle system and hide the main model .  It seems to me that for the ‚Äúlow-budget‚Äù effect it turned out quite well. <br><br>  I also want to say a few words about the save system.  Oddly enough, she is present in the game.  The .xml file with the player's name is saved in the game folder, the player's name itself is saved in PlayerPrefs (in the registry).  Theoretically, you can even use several saves, changing the player's name in the main menu.  Saving is automatic, after each completed quest. <br><br>  It is implemented extremely simply: the SaveInfo class was created, where all the necessary parameters of the game state are saved, the class implements two methods: Load () and Save (), which serialize / deserialize the data into the xml file using standard C # tools. <br><br><div class="spoiler">  <b class="spoiler_title">Load and Save</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Save</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> path</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> serializer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> XmlSerializer(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(SaveInfo)); <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> stream = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FileStream(path, FileMode.Create)) { serializer.Serialize(stream, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); stream.Close(); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> SaveInfo </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Load</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> path</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> serializer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> XmlSerializer(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(SaveInfo)); <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> stream = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FileStream(path, FileMode.Open)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> serializer.Deserialize(stream) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> SaveInfo; } }</code> </pre><br></div></div><br>  Everything, nothing else needs to be done, it remains only to disassemble the fields of this class. <br><br><div class="spoiler">  <b class="spoiler_title">Save file</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="windows-1251"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SaveInfo</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsd</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>Mingebag<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">money</span></span></span><span class="hljs-tag">&gt;</span></span>150<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">money</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">health</span></span></span><span class="hljs-tag">&gt;</span></span>460<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">health</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">maxHealth</span></span></span><span class="hljs-tag">&gt;</span></span>500<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">maxHealth</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">maxcargo</span></span></span><span class="hljs-tag">&gt;</span></span>2500<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">maxcargo</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">maxSpeed</span></span></span><span class="hljs-tag">&gt;</span></span>25<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">maxSpeed</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">acceleration</span></span></span><span class="hljs-tag">&gt;</span></span>3<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">acceleration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">yawPitchFactor</span></span></span><span class="hljs-tag">&gt;</span></span>1.99<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">yawPitchFactor</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rollFactor</span></span></span><span class="hljs-tag">&gt;</span></span>1.98<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rollFactor</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">wS1Name</span></span></span><span class="hljs-tag">&gt;</span></span>Machinegun<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">wS1Name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">wS1Num</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">wS1Num</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">wS2Name</span></span></span><span class="hljs-tag">&gt;</span></span>Machinegun<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">wS2Name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">wS2Num</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">wS2Num</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">auxName</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>GuidedLauncher<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>NursLauncher<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>NursLauncher<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>GuidedLauncher<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">auxName</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">auxNum</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">int</span></span></span><span class="hljs-tag">&gt;</span></span>6<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">int</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">int</span></span></span><span class="hljs-tag">&gt;</span></span>18<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">int</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">int</span></span></span><span class="hljs-tag">&gt;</span></span>18<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">int</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">int</span></span></span><span class="hljs-tag">&gt;</span></span>9<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">int</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">auxNum</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">spawnInNextScene</span></span></span><span class="hljs-tag">&gt;</span></span>false<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">spawnInNextScene</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">spawnPositionIndex</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">spawnPositionIndex</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">spawned</span></span></span><span class="hljs-tag">&gt;</span></span>true<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">spawned</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hasActiveQuest</span></span></span><span class="hljs-tag">&gt;</span></span>false<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hasActiveQuest</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">base1QuestNum</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">base1QuestNum</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">base2QuestNum</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">base2QuestNum</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">InventoryItems</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>Equipment3<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">desc</span></span></span><span class="hljs-tag">&gt;</span></span>  ,   .<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">desc</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">weight</span></span></span><span class="hljs-tag">&gt;</span></span>300<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">weight</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">quantity</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">quantity</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">price</span></span></span><span class="hljs-tag">&gt;</span></span>100<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">price</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>Equipment2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">desc</span></span></span><span class="hljs-tag">&gt;</span></span>  .    <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">desc</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">weight</span></span></span><span class="hljs-tag">&gt;</span></span>150<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">weight</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">quantity</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">quantity</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">price</span></span></span><span class="hljs-tag">&gt;</span></span>100<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">price</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>Debris<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">desc</span></span></span><span class="hljs-tag">&gt;</span></span>  .    <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">desc</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">weight</span></span></span><span class="hljs-tag">&gt;</span></span>50<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">weight</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">quantity</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">quantity</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">price</span></span></span><span class="hljs-tag">&gt;</span></span>10<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">price</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">InventoryItems</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SaveInfo</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br>  So, if you are too lazy to go through the game, you can conjure up with saving and speed up progress, or put a weapon more powerful. <br><br>  Separately, I would like to thank the kind people who, during the development process, volunteered to help me with graphic content for the game.  Considering its quantity (several dozens of models alone), I doubt that I could manage to make it in time, I don‚Äôt have to say about quality.  As a result, almost all the graphics in the game (except for two backgrounds and skybox) was created specifically for this game. <br><br><h1>  Results </h1><br>  Since the end of work on the game has already passed more than six months, and it's time to take stock. <br><br>  I did not take a prize place with this game, apparently I did not get into the trend of pixel art adventure.  But while working on the game, a huge amount of invaluable experience and skills was obtained, and the bumps from the overtaken rake will remind me for a long time that some things should not be done. <br><br>  Findings: <br><br><ul><li>  It is certainly possible to embrace the immensity, but if you have a tight deadline, then it is better not to, nothing good will come of it. </li><li>  The plot in the game is not the last thing, and it is worth working on in advance </li><li>  Better fewer implemented features than many buggy ones that a player doesn't necessarily get </li><li>  Stupid opponents are good for slashers, for a game with fewer of them it‚Äôs better to make them smarter. </li><li>  Balance is also important, and time should also be spent on it. </li><li>  Optimization is important, and you should think about it in advance. </li></ul><br>  Of course, many of my conclusions may seem obvious, but sometimes without trying, you will not understand.  For example, the desire to make the project as complex as possible is one of the most common mistakes of novice developers.  I could not avoid this problem. <br><br>  Finally, I want to show you the gameplay video from the game.  On it you can roughly estimate what happened in the end. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/G_ror3d-dHA%3Ffeature%3Doembed&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjtQiPg-Y7WsADPuMfthKbbM2iM-A" frameborder="0" allowfullscreen=""></iframe><br><br>  I hope the article was useful to you in some way, or at least it would be interesting for you to learn the history of the development of the next small game. <br><br>  Link to build: <br>  <a href="https://yadi.sk/d/j-v8WoyCiaNuQ">yadi.sk/d/j-v8WoyCiaNuQ</a> <br><br>  Link to the GitHub repository (Raw code, after the contest almost did not rule, and since everything was written in a great hurry, there are plenty of pearls) <br>  <a href="https://github.com/TxN/TWG6-Spacesim">github.com/TxN/TWG6-Spacesim</a> </div><p>Source: <a href="https://habr.com/ru/post/279231/">https://habr.com/ru/post/279231/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../279221/index.html">One interesting bug in Lucene.Net</a></li>
<li><a href="../279223/index.html">Disaster-resistant IaaS, as well as replication and backups</a></li>
<li><a href="../279225/index.html">VCloud Tools: IT GRAD Experience</a></li>
<li><a href="../279227/index.html">PCI DSS Certification: What it is and what it is eaten with</a></li>
<li><a href="../279229/index.html">Few of the containers</a></li>
<li><a href="../279233/index.html">Unlimited nesting and URL section tree</a></li>
<li><a href="../279237/index.html">Stack of mean. Usage example</a></li>
<li><a href="../279239/index.html">VM VmWare Workstation performance on a separate hard disk</a></li>
<li><a href="../279241/index.html">Vanivar Bush: ‚ÄúAs We May Think‚Äù (As We May Think)</a></li>
<li><a href="../279243/index.html">Adobe Experience Design CC released (formerly Project Comet)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>