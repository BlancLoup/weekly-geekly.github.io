<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Deferred functions in 1C-Bitrix</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Again, a note on the topic of 1C-Bitrix, so please: Habrelochek people who have already pulled their mouse to put a minus, just close the page and do ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Deferred functions in 1C-Bitrix</h1><div class="post__text post__text-html js-mediator-article">  Again, a note on the topic of 1C-Bitrix, so please: Habrelochek people who have already pulled their mouse to put a minus, just close the page and do not prevent the rest to get useful (I hope) information. <br><a name="habracut"></a><br>  I have been engaged in the development of sites based on Bitrix for a long time, and during this time several useful tips have accumulated, one of which I will now share. <br><br>  <b>Deferred Functions</b> <br>  Many times I came across a mention in the documentation of deferred functions, it was clear that this is something interesting, but as you know it is better to try once than to read about it seven times .  What is it?  Here is the definition that can be found on the official documentation page on this technology: <br><blockquote>  <b>Deferred functions</b> is a technology that allows you to set the page title, navigation chain items, CSS styles, additional buttons in the control panel, meta tags, etc.  using the functions used directly in the page body, and output the corresponding results of the work of these functions in the prolog, i.e.  output them higher in code than they were given. </blockquote>  I found these functions useful when creating an online store, namely to work with a basket.  In the store header, in the most visible place hung a basket, it displayed the purchase amount and the quantity of goods.  But when you add the product you like to the cart, this inscription has not changed, because the header is formed and displayed earlier than the component is processing the addition of the product to the cart, and then updating its contents.  Then I began to look towards LocalRedirect to reload the page after successfully completing the add operation.  But those deferred functions helped out.  And you can do this here. <br>  In the header, where our cart is displayed we write the following code: <br><blockquote><code>&lt;? $APPLICATION-&gt;ShowProperty("basket", "  "); ?&gt;</code> </blockquote> <br>  Add the following lines to footer: <br><blockquote> <code>if (CModule::IncludeModule("sale")){ <br> $arItems = GetBasketList(); <br> $price = 0; <br> for ($i = 0; $i&lt;count($arItems); $i++){ <br> $num_prodcts += $arItems[$i]["QUANTITY"]; <br> $price += $arItems[$i]["PRICE"]*$arItems[$i]["QUANTITY"]; <br> } <br> $res = $num_prodcts.' (.): '.number_format($price, 0, ".", " ").' . <br> } <br> else{ <br> $res = "  "; <br> } <br> $APPLICATION-&gt;SetPageProperty("basket", $res); <br> }</code> </blockquote> <br>  Now, after processing the addition of goods in the body of the page, we check the status of the current basket and output it via the deferred function <b>ShowProperty</b> to the <b>header</b> . <br></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/40214/">https://habr.com/ru/post/40214/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../402131/index.html">Short life and spectacular death of a budget LED lamp</a></li>
<li><a href="../402133/index.html">Who will be deprived of work by the blockchain and what will it lead</a></li>
<li><a href="../402135/index.html">Barcelona results: the brightest trends with the MWC 2017</a></li>
<li><a href="../402137/index.html">Ask Ethan: Can our Universe be a hologram?</a></li>
<li><a href="../402139/index.html">Researchers confirm the link between using social networks and feeling lonely</a></li>
<li><a href="../402141/index.html">Anabiosis for long space travel will soon become reality</a></li>
<li><a href="../402143/index.html">Airbus and Italdesign presented a new concept of the flying car of the future Pop.Up</a></li>
<li><a href="../402145/index.html">Continuing the theme of ‚ÄúCancer. What to do with him..."</a></li>
<li><a href="../402147/index.html">IBM has written a bit of information in one atom</a></li>
<li><a href="../402149/index.html">Intel XMM 7560 - gigabit over the air</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>