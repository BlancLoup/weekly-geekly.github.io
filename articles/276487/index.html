<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Broadcasting conferences and webinars using the SIP protocol</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The article is devoted to possible ways of organizing interaction between software for integration between content delivery networks and content sourc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Broadcasting conferences and webinars using the SIP protocol</h1><div class="post__text post__text-html js-mediator-article">  <i>The article is devoted to possible ways of organizing interaction between software for integration between content delivery networks and content sources using the SIP protocol.</i> <br><br>  When conducting corporate training webinars, conferences or public meetings, rallies use existing services and solutions that support the SIP protocol.  However, such services, as a rule, have no solutions aimed at broadcasting on the Internet.  Existing services, such as Zoom.us, InterCall, Twilio, Vidyo, iMeet and so on, as well as other software and hardware solutions and products from other manufacturers do not provide the functionality of converting a conference organized using SIP to mass broadcast on the Internet . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a9c/486/f37/a9c486f373f43b18ef19569b2b65b784.png" alt="The general scheme of services on the Internet"></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We set a goal to determine which of our chosen solutions (by which we understand the combination of software products and services) will allow expanding the audience of the event with minimal effort, as shown in the diagram above. <br><br>  The following are possible integration options between the two Adobe Media Server and Wowza Streaming Engine video streaming servers, Twilio, Zoom.us, Vidyo, Lifesize, Blue Jeans, iMeet, CounterPath Bria 4 softphone and Flashphoner Web Call Server 4 in various combinations. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Navigation</b> <div class="spoiler_text">  <a href="https://habr.com/ru/post/276487/">Basic requirements for an integration platform</a> <br>  <a href="https://habr.com/ru/post/276487/">Scheme verification experiment.</a> <br>  <a href="https://habr.com/ru/post/276487/">Conditions for the experiment.</a> <br>  <a href="https://habr.com/ru/post/276487/">Integration with zoom.us service.</a> <br>  <a href="https://habr.com/ru/post/276487/">Starting and configuring Web Call Server 4.</a> <br>  <a href="https://habr.com/ru/post/276487/">Connection initiation through Web Call Server 4.</a> <br>  <a href="https://habr.com/ru/post/276487/">Manage an established connection through Web Call Server 4.</a> <br>  <a href="https://habr.com/ru/post/276487/">Broadcast multiple connections from Zoom.us.</a> <br>  <a href="https://habr.com/ru/post/276487/">Analysis of possible problems with integration.</a> <br>  <a href="https://habr.com/ru/post/276487/">Integration with Twilio service.</a> <br><ul><li> <a href="https://habr.com/ru/post/276487/">Set up a Twilio account and SIP domain.</a> </li><li><ol><li>  <a href="https://habr.com/ru/post/276487/">Domain creation - in our case flashphoner2.</a> </li><li>  <a href="https://habr.com/ru/post/276487/">Creating an access list and determining access rights for a domain.</a> </li></ol></li><li>  <a href="https://habr.com/ru/post/276487/">Set up Bria and connect to your Twilio domain.</a> </li><li>  <a href="https://habr.com/ru/post/276487/">Changing Web Call Server configuration for use with Twilio.</a> </li></ul><br>  <a href="https://habr.com/ru/post/276487/">Manage Web Call Server.</a> <br>  <a href="https://habr.com/ru/post/276487/">Integration with OpenSIPS.</a> <br>  <a href="https://habr.com/ru/post/276487/">Integration with Vidyo.</a> <br>  <a href="https://habr.com/ru/post/276487/">Integration with the Blue Jeans service.</a> <br>  <a href="https://habr.com/ru/post/276487/">Integration with Lifesize.</a> <br>  <a href="https://habr.com/ru/post/276487/">Integration with iMeet.</a> <br>  <a href="https://habr.com/ru/post/276487/">Final conclusions.</a> <br>  <a href="https://habr.com/ru/post/276487/">Resources used</a> <br></div></div><br><h1><a name="A1"></a>  How were candidates selected for testing? </h1><br>  Having decided to test various services and software products for mutual compatibility and the ability to perform mass broadcasting on the Internet, we selected services and products by several criteria. <br><br>  The main requirements for a server that integrates between other services and software: <br><br><ul><li>  flexible configuration mechanism for various integrated services and software products; </li><li>  availability of detailed documentation; </li><li>  availability of technical support from the manufacturer; </li><li>  ease of administration. </li></ul><br>  When selecting services, the main criterion was that: a) the service could provide a test period for using the software;  b) the service must declare or imply that there is support for connecting participants via the SIP protocol.  From this rule, we made a number of exceptions with the zoom.us service and with Bria, since we know this softphone and its capabilities and usage features, and the zoom.us service is a fairly new start-up with many great features, so we we decided to test it (even though the SIP connection for this service is paid). <br><br>  Based on the formulated selection criteria, our experience with various integration software and the convenience of using this or that software, we decided to use Web Call Server 4 to conduct our experiments, although it is possible to use other software. <br><br><h1><a name="A2"></a>  Checkout Experiment Scheme </h1><br>  One of the most common options for interaction between the source (right) and content recipient (left) is displayed in the diagram below: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/acd/1b1/077/acd1b1077cdcf13cf28878724280c90b.png" alt="Common interaction between source and destination content"><br><br>  It should be noted that when checking various options for organizing interaction through an integration platform, we restructured the specified scheme depending on the needs of the experiment. <br><br>  The streaming video servers used in the experiment: <br><br><ul><li>  Wowza streaming engine </li><li>  Adobe Media Server </li></ul><br>  Integration platform: <br><br><ul><li>  Flashphoner Web Call Server 4 </li><li>  REST console (Google Chrome) </li></ul><br>  Sources of translation: <br><br><ul><li>  CounterPath Bria 4 </li><li>  Twilio.com service </li><li>  Zoom.us service </li><li>  iMeet service </li><li>  Vidyo service </li><li>  Blue Jeans service </li><li>  Lifesize service </li></ul><br>  Programs for viewing the broadcast (or content): <br><br><ul><li>  Flash player </li></ul><br>  Programs for sending RTMP stream to server: <br><br><ul><li>  Adobe Flash Media Live Encoder 3.2 </li></ul><br><h1><a name="A3"></a>  Conditions for the experiment </h1><br>  A necessary condition for the experiment is the presence of correctly installed and configured software products described above. <br><br>  The screenshot below shows the setting of Adobe Flash Media Live Encoder, which was installed on the local client (outside the local network where the CDN platform was running). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/598/712/f1d/598712f1dd0fbdd979d4a930d1994077.png" alt="Adobe Flash Media Live Encoder window"></div><br><br>  We used the broadcast from Adobe Flash Media Live Encoder as a test source for an audio / video stream through a streaming video server.  The resulting stream (after the streaming video server) was checked using Flash Player (shown in the screenshot below). <br><br>  It is necessary to carefully check the stream settings (IP address, port, stream name) both at the source and at the recipient (player). <br><br>  The scheme of verification of translation (health of streaming video servers) is presented below: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b03/626/a66/b03626a668a353152dbcf9ab520cf70e.png" alt="Broadcast Check Scheme via Adobe Flash Live Encoder"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/812/64c/aee/81264caeef27deed537a1d981c4b55ea.png" alt="Flash Player window"></div><br><br>  After checking the fact that the audio / video stream reaches the RTMP server, which we can see through the player, we can proceed directly to testing. <br><br>  Also, at the time of testing Web Call Server with Twilio service, it is necessary to determine which public IP address is allocated by the service provider for Web Call Server access to the Internet and enter this address in the SIP domain settings.  The same operation must be performed for the public IP address, which is used to test the Twilio service from Bria (installed on the local computer). <br><br><h1><a name="A4"></a>  Integration with zoom.us service </h1><br>  With the growing interest in distance learning and the territorially distributed exchange of audio / video information in real time, various services providing the necessary functionality are gaining popularity.  One of these services is zoom.us. <br><br>  The scheme of testing with the use of this service is described below: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2fc/c64/e71/2fcc64e71eede36e13aebf3174639a50.png" alt="Testing scheme using the zoom.us service"></div><br><br>  First, you need to set up an account and perform the steps to ‚Äúinitiate‚Äù a virtual classroom (see screenshot). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/861/fd1/2e6/861fd12e6f20e2d9da40b0073a28e9db.png" alt="Initiation of a viral educational audience in the service zoom.us"></div><br><br>  After initiation, the local computer will launch the software provided by the service, which will capture voice from the microphone and video from the computer‚Äôs camera. <br><br>  Each meeting is assigned a unique nine-digit ID, by informing which, together with the IP address of the service that is being broadcast, you can invite ‚Äúparticipants‚Äù to the meeting.  The sequence of actions is shown in the following screenshots. <br><br>  Finally, having the IP address and meeting ID provided by zoom.us, we can configure Web Call Server 4 and the viewer in order to participate in the ‚Äúmeeting‚Äù. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/622/1bd/6ac/6221bd6acaa87dafa17b028d8c16496a.png" alt="Broadcast from zoom.us service"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7f1/2b6/091/7f12b609169655412a9a69fac0f3915b.png" alt="Data for dialing when zoom.us"></div><br><br><h1><a name="A5"></a>  Starting and configuring Web Call Server 4 </h1><br>  Although Web Call Server 4 is a tool for integration between different content sources and streaming servers, each conference (or other source) may have individual settings, features and undocumented requirements for the implementation of standard SIP, RTMP protocols. <br><br>  In our particular case, both streaming servers are installed on the same device, so the first step is to make sure that only one of the servers (AMS or WSE) is working at the same time - otherwise (when there is no following operation for each software on a separate device). <br><br>  We needed to forcibly stop one of these streaming servers, as shown below: <br><br><div class="spoiler">  <b class="spoiler_title">Console</b> <div class="spoiler_text"><blockquote>  [root @ wowza ams] # ./amsmgr server ams stop <br>  Server: ams command: stop <br>  NPTL 2.12 <br>  Stopping Adobe Media Server (please check / var / log / messages) <br>  Server has shutdown ... <br><br>  [root @ wowza ams] # service WowzaStreamingEngine start <br>  WowzaStreamingEngine: starting ... </blockquote><br></div></div><br>  In this particular example, AMS is stopped (we know in advance that it worked on port 1936), and on port 1935, the Wowza Streaming Engine is running at 45.101.139.105. <br><br>  Next, you need to make sure that the configuration of Web Call Server 4 server matches the parameters of the content source being used (in our example, zoom.us), for this, for example via ssh, you can contact the server on which Web Call Server 4 is deployed and find the file in the ./conf directory configuration, as shown in the screenshot below: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c1a/d8a/213/c1ad8a213b4cccd3a7cb0a46c6b16ba5.png" alt="Folder with Web Call Server 4 configuration file"></div><br><br>  In the file itself, it is necessary to change the codecs parameters and a number of others, as indicated in the screenshot (with parameters that are applicable for other services, you can simply ‚Äúcomment out‚Äù): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/56d/d93/6a1/56dd936a1559ea48db000413119d6106.png" alt="Listing of the Web Call Server 4 configuration file"></div><br><br>  After saving the new parameters in the configuration file, you must restart Web Call Server 4 (as shown below): <br><br><div class="spoiler">  <b class="spoiler_title">Console</b> <div class="spoiler_text"><blockquote>  [root @ SF1 conf] # service webcallserver stop <br><br>  FlashphonerWebCallServer: stopping [OK] <br><br>  [root @ SF1 conf] # service webcallserver start <br><br>  FlashphonerWebCallServer: starting [OK] </blockquote><br></div></div><br>  As a result of all the above actions, we are guaranteed to have correctly functioning streaming video server and Web Call Server 4 and we can proceed to the direct management of Web Call Server 4 and the source of the broadcast. <br><br><h1><a name="A6"></a>  Connections via Web Call Server 4 </h1><br>  Having installed and configured correctly functioning Web Call Server 4, we should keep in mind that, in general, this software product acts as an intermediary between the content source and the streaming server.  In the general case, mediation consists in initiating a call using the SIP protocol to a content source, receiving a response from a content source, receiving the content itself and broadcasting this received content to a streaming server. <br><br>  Web Call Server itself requires management tools, the implementation of which is organized through the REST / JSON API command.  Such a control mechanism can be integrated into any existing software product and provide automatic control of the Web Call Server. <br><br>  For our particular case, we use the REST console, through which requests are sent to Web Call Server with parameters, which in turn depend on the specific source of content to be integrated with the CDN. <br><br>  For example, to join a meeting organized on the zoom.us service, you need to send the following request (which we will do via Google Chrome's REST console): <br><br><div class="spoiler">  <b class="spoiler_title">REST console</b> <div class="spoiler_text"><blockquote>  { <br>  "CallId": "Xq2tlLcX89tTjaji", # arbitrary unique identifier of the call <br>  "Callee": "10,000", # caller name (randomly selected) <br>  "RtmpUrl": "rtmp: //45.101.139.105: 1935 / live", # broadcast address (platform CDN) <br>  "RtmpStream": "lifestream1", # name of the stream being translated <br>  "HasAudio": "true", # audio content attribute (is / is not) <br>  "HasVideo": "true", # video content attribute (is / is not) <br>  "Connection": # connection parameters <br>  { <br>  "SipLogin": "10000", # login <br>  "SipPassword": "10,000,000", # password <br>  "SipAuthenticationName": "10000", # name for authentication <br>  ‚ÄúSipDomain‚Äù: ‚Äú162.255.36.11‚Äù, # IP address of the meeting (provided by zoom.us) <br>  ‚ÄúSipPort‚Äù: ‚Äú5060‚Äù, # Port on which SIP broadcasting is performed <br>  "SipRegisterRequired": "false", # domain registration attribute <br>  AppKey: callApp <br>  } <br>  } <br></blockquote><br></div></div><br>  The request with the above parameters is sent to the special Web Call Server URI, as indicated below in the screenshot: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f6f/c33/334/f6fc333348e9e65e6de0fbca2eaa1d3f.png" alt="Screenshot REST console with address for request"></div><br><br>  After completing the request from Web Call Server 4, WebCallServer will connect to an organized zoom.us meeting (while Web Call Server 4 will act as one of the ‚Äúlisteners‚Äù), at the same time a response (content of zoom.us) received by Web Call Server 4 - Web Call Server 4 will be redirected further to the streaming video servers (which we see in the screenshots below): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/699/836/52c/69983652cb57b03ca54bc7a52a03516c.png" alt="After sending a request to zoom.us"></div><br><br><h1><a name="A7"></a>  Manage an established connection through Web Call Server </h1><br>  In this particular case with the zoom.us service, it is necessary to additionally connect to a specific ‚Äúmeeting‚Äù by transmitting to the zoom.us server a specific identifier (provided by the service) of the ‚Äúmeeting‚Äù (in our case, it is 311 705 123).  One way is to use DTMF tone dialing (for example, on a softphone keyboard).  The same operation can be performed by Web Call Server 4, as shown in the screenshot: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/47f/92a/bd1/47f92abd1ff0c08fa5cb9b1164e2febc.png" alt="Screenshot REST console for DTMF request"></div><br><br>  You can also send such a request via the REST console via the following command: <br><br><div class="spoiler">  <b class="spoiler_title">REST console</b> <div class="spoiler_text"><blockquote>  { <br>  "CallId": "Xq2tlLcX89tTjaji", # the same ID as in the previous request <br>  "Type": "RFC2833", <br>  ‚ÄúDtmf‚Äù: ‚Äú1 ********** 311705123 #‚Äù # unique ID provided by zoom.us service <br>  } <br></blockquote><br>  / Note: the syntax 1 ********** is a practical know-how when working with the zoom.us/ service <br></div></div><br>  As a result, a specific ‚Äúsubscriber‚Äù will be connected to the broadcast of a specific ‚Äúmeeting‚Äù, as shown in the screenshot below.  As can be seen in the screenshot, in the zoom.us interface window you can see the logo of Web Call Server, which in this case is one of the ‚Äúlisteners‚Äù of the ‚Äúrally‚Äù launched. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/314/cce/7c1/314cce7c1927e075da9497d506e1416e.png" alt="Result of connecting to Web Call Server 4."></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a7b/210/cd6/a7b210cd627360035409dcd2a781c252.png" alt="Moving from zoom.us to Adobe Media Server or Wowza Streaming Engine"></div><br><br>  At the same time, in the Wowza Flash Player window we see the broadcast, which was redirected via Web Call Server 4 from zoom.us to the Wowza Streaming Engine server (see screenshot). <br><br>  Thus, by means of two commands transmitted via the REST console on Web Call Server 4, we were able to initiate participation in the meeting (‚Äúrally‚Äù) on the zoom.us service and redirect the content (‚Äúimage‚Äù and audio stream) to the Wowza Streaming Engine server for further broadcasting via CDN network. <br><br><h1><a name="A8"></a>  Broadcast multiple connections from Zoom.us </h1><br>  Web Call Server 4 can provide broadcast of any number of connections from the zoom.us service, which we tested in practice. <br>  To do this, you need to configure your Bria account as shown in the following screenshots: <br><br><div style="text-align:center;"><img src="http://andyastahov2006.1apps.com/habrahabr/16-zoomus_testing_bria.png" alt="List of accounts in the softphone Bria"></div><br><br><div style="text-align:center;"><img src="http://andyastahov2006.1apps.com/habrahabr/17-account_bria_zoomus.png" alt="Account setup for Zoom.us"></div><br><br>  And you need to install sufficient codecs for audio and video: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/437/dc1/218/437dc1218d5e03b9ad7efa724ff45be2.png" alt="Used audio codecs for Zoom.us service in Bria"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/04f/ea0/084/04fea0084536a36895dcf87364d5d8fe.png" alt="Used video codecs for Zoom.us service in Bria"></div><br><br>  Further, when dialing a unique ID of the room in which the ‚Äúrally‚Äù takes place, a connection will be made to the general conference with the broadcast of the general content through the CDN server. <br><br><div style="text-align:center;"><img src="http://andyastahov2006.1apps.com/habrahabr/20-bria_dial_zoomus.png" alt="Dialing a meeting number provided by zoom.us service"></div><br><br><h1><a name="A9"></a>  Analysis of possible problems with integration </h1><br>  As a source of knowledge about the possible causes of failures in the interaction between Web Call Server 4 and other software products and services - it is recommended to refer to the log files on the server where Web Call Server 4 is installed, as shown in the screenshots: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9bd/d51/422/9bdd51422d0efcb67bea665f24c71c14.png" alt="Web Call Server Log File"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/186/c2b/949/186c2b949ba0bd4c8140ffe82b2dc5c3.png" alt="Manager log file"></div><br><br>  The results of executing requests through the REST console can also be viewed through the tools provided by the Google Developer Tools, as shown in the screenshot: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/274/81b/f2f/27481bf2f88ca82db6a3be0f4ca773a0.png" alt="List of errors when running the REST console in Google Chrome"></div><br><br><h1><a name="A10"></a>  Integration with Twilio service </h1><br>  To test the flexibility of the Web Call Server 4 integration platform, we also tested interaction with the Twilio service. <br>  The scheme of the organization of the experiment is shown in the diagram: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/08c/d0f/bbd/08cd0fbbd050adda1c7d8f42fc92a6b2.png" alt="Scheme of the organization of the experiment with Twilio"></div><br><br><h2><a name="A10_1"></a>  Setting Twilio account and SIP domain </h2><br>  To start using the Twilio service, you need to set up an account on the service and create a domain to which the softphones will connect.  The sequence of these actions is displayed on the following screenshots: <br><br><h4><a name="A10_1_1"></a>  Stage 1. Domain creation - in our case flashphoner2 </h4><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eb9/adb/098/eb9adb098b41a9142031ba838ae1429a.png" alt="Screenshot of Twilio service with flashphoner2 domain"></div><br><br><h4><a name="A10_1_2"></a>  Stage 2 - Creating an access list and determining access rights for a domain </h4><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1ee/0c6/1ec/1ee0c61ec65bc85e614db8b06cb0be21.png" alt="Twilio service page with domain settings"></div><br><br><h5>  Step 2.1 - Creating a list of IP addresses for which access to the domain is allowed. </h5><br>  It is important to include in this list both the IP addresses of the subscriber devices (softphones) and the IP address of Web Call Server 4. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6a5/8a8/a20/6a58a8a20b3168248d2534adae7f73ef.png" alt="Page with a list of IP addresses and users"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aa6/f0b/00f/aa6f0b00fe141d5b593bf01c25264a21.png" alt="List of IP Addresses"></div><br><br><h5>  Step 2.2.  - Formation of access rights </h5><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8c7/bb3/12b/8c7bb312b0cbc6db06cf06b4b4ac717e.png" alt="Access rights"></div><br><br>  After the domain is created in the Twilio service, the access rights and the list of IP addresses for which access is allowed are generated - you can begin to configure the softphone, in our case - Bria 4. <br><br><h2><a name="A10_2"></a>  Set up Bria and connect to Twilio domain </h2><br>  In the settings of Bria, you need to create an account (account) to access Twilio, as shown in the screenshots below: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3f4/024/2f5/3f40242f565e00e4b3ff5b03b4c2c56d.png" alt="Bria account settings for access to Twilio"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2f4/681/33a/2f468133afefed1f050d1d8b5a47b054.png" alt="Twilio account in Bria"></div><br><br>  In the same place in the Bria settings, you must configure the use of audio codecs: G711 aLaw, uLaw and also the H.264 video codec. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/437/dc1/218/437dc1218d5e03b9ad7efa724ff45be2.png" alt="Audio codecs for Twilio"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/04f/ea0/084/04fea0084536a36895dcf87364d5d8fe.png" alt="Twilio Video Codecs"></div><br><br>  After that, you can make a test call through Bria and listen to the voicemail recording provided by Twilio via a softphone. <br>  If the domain on the service is configured correctly (and the voicemail recording is heard in Bria), you can start creating a control command for the Web Call Server. <br><br><h2><a name="A10_3"></a>  Changing Web Call Server configuration for use with Twilio </h2><br>  When testing Twilio service with Web Call Server 4, you need to change the server settings.  Such changes are made to the flashphoner.properties configuration file. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b7f/90a/5e5/b7f90a5e5830bd3b53fc8f6e7478c72d.png" alt="Console with folder where Web Call Server configuration file is located"></div><br><br>  In particular, the set of used codecs and a number of other parameters are changing. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/476/5e7/d11/4765e7d1143058855a76c62d226c5921.png" alt="Variable parameters in the Web Call Server configuration"></div><br><br>  What and how to change in the configuration file is specified in the documentation for Web Call Server 4 provided by the manufacturer of the integration server. <br><br>  After changing the configuration of Web Call Server, you need to restart the server for the changes to take effect: <br><br><div class="spoiler">  <b class="spoiler_title">Console</b> <div class="spoiler_text"><blockquote>  [root @ SF1 conf] # service webcallserver stop <br><br>  FlashphonerWebCallServer: stopping [OK] <br><br>  [root @ SF1 conf] # service webcallserver start <br><br>  FlashphonerWebCallServer: starting [OK] <br></blockquote><br></div></div><br><h1><a name="A11"></a>  Web Call Server Management </h1><br>  As in the previous experiment, Web Call Server is managed by sending a REST command through the REST console of Google Chrome, as shown below: <br><br><div class="spoiler">  <b class="spoiler_title">REST console</b> <div class="spoiler_text">  { <br>  "CallId": "Xq2tlLcX89tTjaji", <br>  "Callee": "flashphoner2.sip.twilio.com", <br>  "RtmpUrl": "rtmp: //45.100.109.105: 1936 / live", <br>  "RtmpStream": "lifestream1", <br>  "HasAudio": "true", <br>  "HasVideo": "true", <br>  "Connection": { <br>  "SipLogin": "flashphoner2", <br>  "SipPassword": "RadK2151312", <br>  "SipAuthenticationName": "flashphoner2", <br>  "SipDomain": "flashphoner2.sip.twilio.com", <br>  "SipPort": "5060", <br>  "SipRegisterRequired": "false", <br>  AppKey: callApp <br>  } <br>  } <br></div></div><br><br>  The request is sent to the Web Call Server address: http: //107.179.239.129:9091/RESTCall/call. <br><br>  As a result of the request, a call to the Twilio SIP domain is generated and in Flash Player you can listen to the response received from the Twilio service - or rather, you can hear the message playing from the Twilio answering machine. <br><br>  Thus, as a result of testing Web Call Server 4 as an integration solution between Twilio and Bria, we were convinced that the integration server can interact with the Twilio service and softphones connected to this service. <br><br><h1><a name="A12"></a>  OpenSIPS Integration </h1><br>  To test the interaction with IP-PBX solutions, a test was conducted with the IP-PBX OpenSIPS server. <br><br>  The organization of the test site is shown below: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/505/1cf/42d/5051cf42d53da84d3e6c7eab5828aaee.png" alt="Test organization for OpenSIPS"></div><br><br>  In this case, Bria acts as a ‚Äúservice‚Äù that receives calls from third parties and responds to calls with content.  In connection with this other role, in which Bria acts in this particular case, it is necessary to change the settings as shown below in the screenshots.  In particular, you need to create an account for making calls to IP-PBX OpenSIPS: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/196/0a8/25c/1960a825c6ed8d3c3045bbe199d1d668.png" alt="Bria configuration for calls through OpenSIPS"></div><br><br>  As in previous cases, to demonstrate the ability to manage Web Call Server, we send a request: <br><br><div class="spoiler">  <b class="spoiler_title">REST console</b> <div class="spoiler_text"><blockquote>  { <br>  "CallId": "Xq2tlLcX89tTjaji", <br>  "Callee": "10050", <br>  "RtmpUrl": "rtmp: //45.101.139.105: 1935 / live", <br>  "RtmpStream": "lifestream1", <br>  "HasAudio": "true", <br>  "HasVideo": "true", <br>  "Connection": { <br>  "SipLogin": "10051", <br>  "SipPassword": "15001", <br>  "SipAuthenticationName": "10051", <br>  "SipDomain": "87.222.225.52", <br>  "SipPort": "5080", <br>  "SipRegisterRequired": "false", <br>  AppKey: callApp <br>  } <br>  } </blockquote></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You should pay attention to the fact that the call is made through the account 10051, created on the OpenSIPS server, and the ‚Äúnumber‚Äù of the called subscriber is indicated in the ‚Äúcallee‚Äù field. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As a result, the call to the ‚Äúsubscriber‚Äù 10050 made via Web Call Server 4 was redirected to the streaming server and later heard through Flash Player.</font></font><br><br><h1><a name="A13"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vidyo integration </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Another service we tested was Vidyo.com. </font><font style="vertical-align: inherit;">The need for mass broadcasting is connected with the fact that this service has a limited number of participants at each broadcast (rally) and, accordingly, it may be necessary to use the usual service (Vidyo) to hold an event for 50, 100 or more participants. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As is the case with other services - first you need to register for the service.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ed2/ece/774/ed2ece77487514903d5ec1ac9d08391c.png" alt="    Vidyo"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/97d/016/479/97d016479ed79bc5a88eb0e8c9e3bbdc.png" alt="    Vidyo"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Further, after registration, you will need to install the software on your local computer and enter the data received during activation to connect to the service.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4f5/3f3/0a5/4f53f30a58283ad82ae6db394e76d522.png" alt="    Vidyo"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a7d/eac/93a/a7deac93a57ee6a9913a060727da1ddc.png" alt="    Vidyo   "></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/171/51b/af6/17151baf6b48219fa6b4e8ceabab675e.png" alt="     "></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After entering the data, a connection to the service will occur and it will be possible to create a rally (a room for a virtual meeting). The screenshot shows that each registered and connected to the service is provided with a unique extension number (Extension). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To connect other participants to the meeting (to the room), you will need to send an invitation to other participants, for example by e-mail. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After clicking on the corresponding icon in the program window - a draft message will be created in the program for processing e-mail, where you will see the data for connection, which must be communicated to other potential meeting participants. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The text of such a letter is shown below:</font></font><br><br><blockquote> Let's meet via Vidyo! <br><br> ‚Äî To join from your desktop or mobile device: Click <a href="https://join.vidyo.com/flex.html%3Froomdirect.html%26key%3D1sQAgMIbOVihE3SFKKjl47oryI">join.vidyo.com/flex.html?roomdirect.html&amp;key=1sQAgMIbOVihE3SFKKjl47oryI</a> <br><br> ‚Äî To join from your H.323/SIP video conferencing system inside the US: 75.98.89.60 and 1501005148 and PIN (If required) <br><br> ‚Äî To join from your H.323/SIP video conferencing system outside the US: 31.186.235.56 and 1501005148 and PIN (If required) <br><br> ‚Äî To join from telephone: (800) 916-5971, Conference ID 1501005148, and PIN (If required) <br><br> NOTE: Any video, audio and/or materials viewed during this conference may be recorded. <br><br> Need help getting started? Check out the Vidyo Knowledge Center at <a href="http://www.vidyo.com/knowledge-center/">www.vidyo.com/knowledge-center</a> <br></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To test the data received from the Vidyo service, we created an account in the Bria softphone based on the data provided by the service:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f85/3c4/bb2/f853c4bb24f782649069609100153902.png" alt=" Bria     Vidyo"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When creating an account in Bria, we proceeded from the fact that the username and password can be chosen arbitrarily and only the IP address where the connection will be made and (later) the number that will be dialed to connect to the meeting in the room is critical. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Please note that only the account created for the Vidyo service must be included in Bria so that dialing is made to this service. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After dialing the number 1501005148 on the Bria keyboard, dialing will be made and connected to the virtual ‚Äúroom‚Äù where the meeting will be held. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the program window you can see that a new participant has appeared in the meeting, as shown in the screenshot below:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/548/7a5/896/5487a58966c36696ba7c4cb764124017.png" alt="      Vidyo"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Since our verification through Bria was a success, let's proceed to the verification of the integration of Web Call Server 4 with the Vidyo service. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To do this, create a command in the REST console, as shown in the screenshots below, and send a request to Web Call Server 4.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f6f/c33/334/f6fc333348e9e65e6de0fbca2eaa1d3f.png" alt=" REST      Web Call Server"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/45e/534/2ad/45e5342ad2573e7d431016168434569b.png" alt="   Web Call Server  REST "></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> After sending the request, a new meeting participant will appear on the Vidyo web site (with the ID that we specified in the Web Call Server team). </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c24/dfd/a3d/c24dfda3d2cf2c68804fc737dec9669b.png" alt="       Vidyo"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> And at the same time, in the player, through which we check the presence of the broadcast from the connected service, we can see a window with a picture that was transmitted by the rally initiator to the service as a replacement for the broadcast from the webcam. </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8e9/02c/021/8e902c0216592d07e757f796450fcf24.png" alt="   Flash Player         Web Call Server  Vidyo"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Previously, we described the mechanism for launching streaming video servers and during this test we used both AMS and WSE, while the Web Call Server settings were used by those that we previously specified for the zoom.us service </font></font><br><br><h1><a name="A14"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Integration with Blue Jeans service </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One of the relatively well-known services for organizing conferences on the Internet is the Blue Jeans service, the integration with which we also decided to check. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This service also offers a fairly simple mechanism for organizing a meeting (rally), first you need to register and create your account, as shown below:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c19/8e0/a9d/c198e0a9df18ae7a7d8ce280a7ea15ec.png" alt="   Blue Jeans"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> After this step, as in the previous cases with similar services, it is necessary to install the software provided by the Blue Jeans service. </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/805/68c/d35/80568cd358e673376a2ea702402b35d8.png" alt="    Blue Jeans"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/efc/794/e24/efc794e24e0f54fecef7b7057461c20b.png" alt="     Blue Jeans"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After installing Blue Jeans software on your computer, further actions are performed through this software. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Naturally, in order to connect someone to the meeting, you need to organize this meeting, and to do this, you need to create such a meeting in Blue Jeans software and, after creation, send these meetings to potential participants, in this case:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> IP address (dial IP) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Meeting ID </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Verification code (passcode) </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If the second participant that you want to invite, uses the same Blue Jeans software, Blue Jeans service suggests entering the code in a special window (‚Äúpairing code‚Äù) and you can ‚Äúparallelize‚Äù your and its software. </font><font style="vertical-align: inherit;">However, this function was not used for the purposes of our testing, we used those provided by the ‚Äúmeeting ID‚Äù and ‚Äúpasscode‚Äù services.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/60b/2bf/a72/60b2bfa7202968efe5dfb1adcbfed744.png" alt="     Blue Jeans  "></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After receiving the data to connect to the virtual ‚Äúroom‚Äù where the meeting is being held, we, as before, decided to check the functioning of the service with the Bria softphone. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To do this, create an account in Bria as shown below:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f5b/f3e/786/f5bf3e7863e3d7d6e3364fdec00c407f.png" alt=" Bria   Blue Jeans"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It should be noted that we obtained the data for Domain from the Blue Jeans user community, since it‚Äôs proposed to use the IP address (as shown above) for dialing or the domain name bjn.vc. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The fact that you need to use the sip.bjc.vc notation to connect using SIP is scheduled in the community messages, as shown below:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d6f/da4/943/d6fda4943c9dbbe8e472971fbb0fd93e.png" alt="         SIP    Blue Jeans"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> After creating an account in Bria, we typed in the rally ID keypad and got the connection with the broadcast of the image (in our case, the video clip recorded earlier in ManyCam) in the rally and the broadcast of the rally data in Bria, as shown below: </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6fe/1ce/2b8/6fe1ce2b8063f650de7e264c362ae577.png" alt="     Blue Jeans"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Next, checking the integration capabilities between Blue Jeans and Web Call Server 4 using the REST console, we sent the following request to Web Call Server 4: http: //107.179.239.120:9091/RESTCall/call: </font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">REST console</font></font></b> <div class="spoiler_text"><blockquote>  { <br> ¬´callId¬ª:¬´100501Cxbsf¬ª, <br> ¬´callee¬ª:¬´5322844144¬ª, <br> ¬´rtmpUrl¬ª:¬´rtmp://45.101.139.105:1935/live¬ª, <br> ¬´rtmpStream¬ª:¬´livestream1¬ª, <br> ¬´hasAudio¬ª:¬´true¬ª, <br> ¬´hasVideo¬ª:¬´true¬ª, <br> ¬´connection¬ª:{ <br> ¬´sipLogin¬ª:¬´100501¬ª, <br> ¬´sipPassword¬ª:¬´9354¬ª, <br> ¬´sipAuthenticationName¬ª:¬´100501¬ª, <br> ¬´sipDomain¬ª:¬´sip.bjn.vc¬ª, <br> ¬´sipPort¬ª:¬´5060¬ª, <br> ¬´sipRegisterRequired¬ª:¬´false¬ª, <br> ¬´appKey¬ª:¬´callApp¬ª <br>  } <br>  } </blockquote></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It should be noted that the request uses the rally ID as the callee field, and the data taken from the community as the sipDomain, that is, sip.bjc.vc. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After connecting, you can see several participants in the rally window (one of them is Bria Second Web Call Server 4), as shown below:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f02/67a/5cf/f0267a5cf22de80b07893e42f6d5e3c7.png" alt="      Blue Jeans"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the player, we can respectively observe the ‚Äúpicture‚Äù from the local computer (as shown below), that is, we see what ‚Äúsees‚Äù the Blue Jeans software on the local computer. </font><font style="vertical-align: inherit;">Next, Blue Jeans software sends this video to the service, and Web Call Server 4 already initiates and receives a response from the Blue Jeans service and redirects the service response to the streaming video server (AMS or WSE, in our experiment), which we see in the Flash Player window 'but.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0c1/71b/887/0c171b887f99379e75f951566faac1d1.png" alt="         Web Call Server"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> According to the general impression, with the exception of the ‚Äúdefault‚Äù that a specific domain should be used for a SIP connection, the general interaction with the Blue Jeans service turned out to be simple and relatively trouble-free. </font></font><br><br><h1><a name="A15"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lifesize Integration </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Another of the available services, integration with which was tested is the service Lifesize. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Just like everything with the previous services, you can use the service after registering on the site, downloading and installing the software provided by the service and this is exactly what we did. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After installing the software on the local computer, you can say ‚Äúas usual‚Äù, you need to create an appointment (see the screenshot below):</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/373/f35/d67/373f35d67d2dbc02ac6047ca16a23158.png" alt="    Lifesize"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/724/5d5/115/7245d5115a8fd0c8d425f1028ecfa426.png" alt="   Lifesize   "></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> For each meeting, contacts (data) are provided, through which a third party can dial (call) and participate in the meeting, as indicated below: </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/09b/238/616/09b2386169b7363db82529d8de9e170e.png" alt="       IP      Bria"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dce/8c3/b99/dce8c3b99da8a81079a3ba8b59998688.png" alt="      Lifesize"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1cb/467/fa0/1cb467fa0fa0ae63e1cfe8eff56d76e0.png" alt="    Lifesize"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> We used the data provided by the Lifesize service for dialing and were pleasantly surprised that each stage of connecting to the service was accompanied by visual information (and voice assistant, which, incidentally, is a common function for all similar services): </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dbf/efb/331/dbfefb3314a09a06d6000856bfc5e7ef.png" alt="    Lifesize"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Web Call Server 4, as usual, using the REST console command, connected to the Lifesize service using the provided data (see above). </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/229/0c6/4ec/2290c64ec8c06cdd5657fa0f4f3f88f8.png" alt="    Lifesize  Web Call Server"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The service itself shows in its program a window of a connected participant: </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c23/69b/61f/c2369b61f9179c613075629aa2c79df2.png" alt="     Lifesize"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> And shows the number of participants: </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b7d/0c8/e93/b7d0c8e93906127ec1319fd437e0c2e5.png" alt="  "></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> And the response results were broadcast by Web Call Server to the streaming server (AMS or WSE). </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/32e/25e/f26/32e25ef26bb3c0be89ff6bc18a7f0924.png" alt="   Lifesize     "></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d9e/f37/98e/d9ef3798eaecd744f0373df375a00668.png" alt="   Lifesize     "></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> According to the subjective sensations, this service is more demanding of the quality of the communication channel, however, this observation is not a confirmed fact, and is completely subjective. </font></font><br><br><h1><a name="A16"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> IMeet integration </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The iMeet service provides a range of different solutions for organizing joint events on the Internet, including with the ability to connect participants using the phone. </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c69/358/0c4/c693580c4279d150766347714d5053a8.png" alt="    iMeet"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The interface of the program, which must be downloaded and installed in order to use the service, is striking with the possibilities of colorful design and accompanying information (time, weather, etc.). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As before, the service provides data, but unlike the previous ones, the service provides a dialing address of the type URI: </font></font><a href="http://www.imeet.com/georgeb"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.imeet.com/georgeb</font></font></a> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b31/a41/bb4/b31a41bb42ecb2232dc095f621afc47f.png" alt="    iMeet"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/60c/c66/030/60cc66030d65fb7df2e680dc423e1d9f.png" alt="    iMeet"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Just like with previous services, there is the possibility of inviting third-party participants to a meeting (including by e-mail), and also, which is quite convenient, to call the service from the service to the phone number of the potential participant (that is, you do not need to dial the party, but you calls). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Using the link from the email invitation, we were able to participate in the meeting using a web browser (without the need to install software):</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9c2/cd8/a79/9c2cd8a79c4e7acd4cff43f167b4b36f.png" alt="      iMeet"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d53/77a/913/d5377a9134d790886f0a28de48899cd8.png" alt="    iMeet"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> However, it was not possible to reach the rally from the Bria softphone, which, from our point of view, is explained by the service in the following comment: </font></font><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´While iMeet does not have a direct integration with SIP / SIMPLE or XMPP, iMeet provides each host with a personal online meeting room, so you can also simply put in your URL (eg </font></font><a href="http://www.imeet.com/georgeb"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.imeet.com/georgeb</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) into an IM conversation to invite guests into your meeting. </font><font style="vertical-align: inherit;">You can also download your iMeet URL directly from there! ‚Äù( </font></font><a href="https://community.imeet.com/thread/1700"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Community.imeet.com/thread/1700</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Using the received recommendations and the following Bria settings, the connection with the rally did not occur anyway (the Domain parameter also changed to </font></font><a href="http://www.imeet.com/Vlad439323"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.imeet.com/Vlad439323</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and to </font></font><a href="http://www.imeet.com/Vlad439323"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.imeet.com/Vlad439323</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ):</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d27/e4d/445/d27e4d445808d26192746c633aae6035.png" alt="  Bria    iMeet"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> We venture to assume that to connect using the SIP protocol, you need to test other software and a slightly different type of service provided by this service, for example, iMeetVRC: </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8bd/96b/6d4/8bd96b6d4b05e9bf546e05b59b7e99a7.png" alt=" iMeetVRC     SIP "></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> What will be verified by us in subsequent tests. </font></font><br><br><h1><a name="A17"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Final conclusions </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In accordance with our selection criteria and experimental conditions, with varying degrees of success, which will be explained below, we were able to test the mutual compatibility of various services and software products. </font><font style="vertical-align: inherit;">To my surprise, many services were seamlessly integrated to the Wowza Streaming Engine and Adobe Media Server streaming servers using the Web Call Server 4 middleware. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In particular, we managed to make sure that there is:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> the possibility of initiating a call to the service Zoom.us and call control; </font></font></li><li> the ability to broadcast streaming content including multiple connections from the Zoom.us service; </li><li>  Web Call Server‚Äôs ability to dial Twilio service and subscribers connected to this service; </li><li>  the ability to manage calls from subscribers connected via IP-PBX OpenSIPS integration with the Vidyo service turned out to be simpler than with the zoom.us service, since the initiation and control of the connection to the Web Call Server was limited to one command; </li><li>  Lifesize subjectively demanded more bandwidth for high-quality video display in the service window, while Blue Jeans service was easy to use and made it possible to connect to the Bria rally and Web Call Server 4 at the same time in a few elementary steps; </li></ul><br>  All tests were conducted with two streaming servers - Wowza Streaming Engine and Adobe Media Server. <br><br>  The test results are summarized in the table below: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3da/50f/11c/3da50f11cf38b3f496f179f01e766762.png" alt="Comparison table based on the results of all tests of streaming servers on the Adobe Media Server Wowza Streamin Engine softphone Bria of ZoomUS services Twilio Vidyo Blue Jeans iMeet Lifesize OpenSIPS using Web Call Server 4"></div><br><br>  When examining candidates for testing, we were convinced that some of the services for which there are links do not exist or do not provide on-line versions of services (and require installing software on the server), some of the services turned out to be highly functional ‚Äúmessengers‚Äù or did not support the SIP protocol. <br><br>  We would like to assume that the result of mutual testing of services and software shown by us will encourage other interested parties using this list: <a href="https://vsee.com/videoconference">vsee.com/videoconference</a> to conduct independent testing of other services with the same or a different set of software and it would be interesting to know what conclusions and the results will come from the results of such a new experiment. <br><br><h1><a name="A18"></a>  Resources used </h1><br><ol><li>  Traffic Analyzer - <a href="https://www.wireshark.org/">www.wireshark.org</a> </li><li>  Wowza Streaming Engine - <a href="https://www.wowza.com/">www.wowza.com</a> </li><li>  Adobe Media Server - <a href="http://www.adobe.com/products/adobe-media-server-family.html">www.adobe.com/products/adobe-media-server-family.html</a> </li><li>  Web Call Server 4 - <a href="http://flashphoner.com/">flashphoner.com</a> </li><li>  <a href="http://www.zoom.us/">www.zoom.us</a> </li><li>  <a href="http://www.twilio.com/">www.twilio.com</a> </li><li>  <a href="http://www.lifesize.com/">www.lifesize.com</a> </li><li>  <a href="http://www.bluejeans.com/">www.bluejeans.com</a> </li><li>  <a href="http://www.vidyo.com/">www.vidyo.com</a> </li><li>  <a href="http://www.pgi.com/">www.pgi.com</a> </li><li>  CounterPath Software - <a href="http://www.counterpath.com/bria/">www.counterpath.com/bria</a> </li><li>  Software for processing <a href="https://manycam.com/">video</a> / audio content - <a href="https://manycam.com/">manycam.com</a> </li></ol></div><p>Source: <a href="https://habr.com/ru/post/276487/">https://habr.com/ru/post/276487/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../276475/index.html">Hack the future: PHDays again holds a cyberpunk contest</a></li>
<li><a href="../276477/index.html">The best distributions for penetration testing</a></li>
<li><a href="../276479/index.html">Selection: More than 70 sources for machine learning for beginners</a></li>
<li><a href="../276481/index.html">OOP constructor admin for Bitrix</a></li>
<li><a href="../276485/index.html">Some life stories</a></li>
<li><a href="../276489/index.html">Tools for A / B testing iOS applications</a></li>
<li><a href="../276491/index.html">SSI website: HTML, XML, XSLT</a></li>
<li><a href="../276493/index.html"># Little good news</a></li>
<li><a href="../276495/index.html">Import dictionary in Lingualeo.com</a></li>
<li><a href="../276497/index.html">Winter School "Internet of Things on the Intel Edison Platform." Nizhny Novgorod, February 8-13</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>