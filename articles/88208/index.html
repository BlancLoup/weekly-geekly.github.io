<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ExtJS Application Architecture: Zend Framework Approach</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In addition to oddy articles about ExtJS-based RIA application architecture, I want to offer my own, alternative approach to this problem. It consists...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ExtJS Application Architecture: Zend Framework Approach</h1><div class="post__text post__text-html js-mediator-article">  In addition to <a href="https://habrahabr.ru/users/oddy/" class="user_link">oddy</a> <a href="http://habrahabr.ru/tag/%25D0%25B0%25D1%2580%25D1%2585%25D0%25B8%25D1%2582%25D0%25B5%25D0%25BA%25D1%2582%25D1%2583%25D1%2580%25D0%25B0%2520%25D0%25BF%25D1%2580%25D0%25B8%25D0%25BB%25D0%25BE%25D0%25B6%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B9/">articles</a> about ExtJS-based RIA application architecture, I want to offer my own, alternative approach to this problem.  It consists of using a ZendFramework-like xFrame framework written in JavaScript.  Under the cut - a description of the key elements of the system, links to the demo application and the source code. <br><a name="habracut"></a><br>  The xFrame story began with a single order.  The client wanted to implement on its website a system for viewing fin.  reporting.  He was already familiar with ExtJS (the site admin panel was implemented on it), he liked the library and he wanted to display reports in the form of ExtJS Grid'ov.  Additional system requirements were the differentiation of access rights to view reports to different groups of users.  Thus, I was faced with the task of implementing an RIA application with authentication and distribution of access to resources. <br><br>  The admin panel of the site supported such features, but it was made in the form of a WebDesktop, which was not suitable for the client.  Therefore, I began to develop the system from scratch.  At that time I was just reading the book by K. Zervas "Web 2.0: Creating Applications for PHP" and imbued with the spirit of the Zend Framework described in it.  And I wanted to create exactly something similar to ZF.  And I did it.  The basic features were implemented within two days, a couple of days took debugging.  Later, after the implementation of the reporting system itself, I, in my free time, brought my framework to the state in which it can be presented and decided to present it to the public. <br><br>  I have not yet invented the final name for the framework, while calling it the ‚Äúcode‚Äù name <b>xFrame</b> (eXtjs FRAMEwork).  xFrame implements: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  ZF organization of the file system and class naming (the class name follows the path to it in the file system, slashes are replaced with dots) </li><li>  standard namespaces for custom system components.  For controllers - Application.controllers, for components - Application.components, for models - Application.models. </li><li>  ZF‚Äôs concept of separating library and application code.  The xFrame code is placed in one folder (for example js / lib / xframe), and the application code is placed in another (for example js / xframe-app) </li><li>  model-view-controller pattern </li><li>  ZF's standard link system (http: // &lt;app_url&gt; / controller / action / param1 / value1 / param2 / value2 / ....) </li><li>  URI-fragment addressing (http: // &lt;app_url&gt; / # token), which allows you to save application states in links, while maintaining the convenience of an AJAX application that works without reloading the page </li><li>  Model-view-controller architecture </li></ul><br><br>  <b>Models</b> in xFrame are implemented based on Ext.data.Record.  The class (constructor) of the model is created using the Ext.data.Record.create ([]) method.  If you need to encapsulate additional methods in the model, use <i>Ext.override ()</i> : <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">Application.models.News = Ext.data.Record.create([ {name: <font color="#A31515">'Id'</font> ,       type: <font color="#A31515">'int'</font> }, {name: <font color="#A31515">'Permalink'</font> ,    type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Title'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Brief'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Text'</font> ,       type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'DateCreated'</font> ,   type: <font color="#A31515">'date'</font> , dateFormat: <font color="#A31515">'Ym-d'</font> }, ]); Ext. <font color="#0000ff">override</font> (Application.models.News, { getLink : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> App.route({ permalink : <font color="#0000ff">this</font> .get( <font color="#A31515">"Permalink"</font> ) }, <font color="#A31515">"news"</font> ); }, getDateCreated : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> <font color="#0000ff">this</font> .get( <font color="#A31515">"DateCreated"</font> ).format( <font color="#A31515">'m/d/Y'</font> ); } });</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <ol><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Application.models.News = Ext.data.Record.create([ {name: <font color="#A31515">'Id'</font> ,       type: <font color="#A31515">'int'</font> }, {name: <font color="#A31515">'Permalink'</font> ,    type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Title'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Brief'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Text'</font> ,       type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'DateCreated'</font> ,   type: <font color="#A31515">'date'</font> , dateFormat: <font color="#A31515">'Ym-d'</font> }, ]); Ext. <font color="#0000ff">override</font> (Application.models.News, { getLink : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> App.route({ permalink : <font color="#0000ff">this</font> .get( <font color="#A31515">"Permalink"</font> ) }, <font color="#A31515">"news"</font> ); }, getDateCreated : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> <font color="#0000ff">this</font> .get( <font color="#A31515">"DateCreated"</font> ).format( <font color="#A31515">'m/d/Y'</font> ); } }); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Application.models.News = Ext.data.Record.create([ {name: <font color="#A31515">'Id'</font> ,       type: <font color="#A31515">'int'</font> }, {name: <font color="#A31515">'Permalink'</font> ,    type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Title'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Brief'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Text'</font> ,       type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'DateCreated'</font> ,   type: <font color="#A31515">'date'</font> , dateFormat: <font color="#A31515">'Ym-d'</font> }, ]); Ext. <font color="#0000ff">override</font> (Application.models.News, { getLink : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> App.route({ permalink : <font color="#0000ff">this</font> .get( <font color="#A31515">"Permalink"</font> ) }, <font color="#A31515">"news"</font> ); }, getDateCreated : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> <font color="#0000ff">this</font> .get( <font color="#A31515">"DateCreated"</font> ).format( <font color="#A31515">'m/d/Y'</font> ); } }); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Application.models.News = Ext.data.Record.create([ {name: <font color="#A31515">'Id'</font> ,       type: <font color="#A31515">'int'</font> }, {name: <font color="#A31515">'Permalink'</font> ,    type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Title'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Brief'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Text'</font> ,       type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'DateCreated'</font> ,   type: <font color="#A31515">'date'</font> , dateFormat: <font color="#A31515">'Ym-d'</font> }, ]); Ext. <font color="#0000ff">override</font> (Application.models.News, { getLink : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> App.route({ permalink : <font color="#0000ff">this</font> .get( <font color="#A31515">"Permalink"</font> ) }, <font color="#A31515">"news"</font> ); }, getDateCreated : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> <font color="#0000ff">this</font> .get( <font color="#A31515">"DateCreated"</font> ).format( <font color="#A31515">'m/d/Y'</font> ); } }); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Application.models.News = Ext.data.Record.create([ {name: <font color="#A31515">'Id'</font> ,       type: <font color="#A31515">'int'</font> }, {name: <font color="#A31515">'Permalink'</font> ,    type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Title'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Brief'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Text'</font> ,       type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'DateCreated'</font> ,   type: <font color="#A31515">'date'</font> , dateFormat: <font color="#A31515">'Ym-d'</font> }, ]); Ext. <font color="#0000ff">override</font> (Application.models.News, { getLink : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> App.route({ permalink : <font color="#0000ff">this</font> .get( <font color="#A31515">"Permalink"</font> ) }, <font color="#A31515">"news"</font> ); }, getDateCreated : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> <font color="#0000ff">this</font> .get( <font color="#A31515">"DateCreated"</font> ).format( <font color="#A31515">'m/d/Y'</font> ); } }); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Application.models.News = Ext.data.Record.create([ {name: <font color="#A31515">'Id'</font> ,       type: <font color="#A31515">'int'</font> }, {name: <font color="#A31515">'Permalink'</font> ,    type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Title'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Brief'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Text'</font> ,       type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'DateCreated'</font> ,   type: <font color="#A31515">'date'</font> , dateFormat: <font color="#A31515">'Ym-d'</font> }, ]); Ext. <font color="#0000ff">override</font> (Application.models.News, { getLink : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> App.route({ permalink : <font color="#0000ff">this</font> .get( <font color="#A31515">"Permalink"</font> ) }, <font color="#A31515">"news"</font> ); }, getDateCreated : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> <font color="#0000ff">this</font> .get( <font color="#A31515">"DateCreated"</font> ).format( <font color="#A31515">'m/d/Y'</font> ); } }); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Application.models.News = Ext.data.Record.create([ {name: <font color="#A31515">'Id'</font> ,       type: <font color="#A31515">'int'</font> }, {name: <font color="#A31515">'Permalink'</font> ,    type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Title'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Brief'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Text'</font> ,       type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'DateCreated'</font> ,   type: <font color="#A31515">'date'</font> , dateFormat: <font color="#A31515">'Ym-d'</font> }, ]); Ext. <font color="#0000ff">override</font> (Application.models.News, { getLink : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> App.route({ permalink : <font color="#0000ff">this</font> .get( <font color="#A31515">"Permalink"</font> ) }, <font color="#A31515">"news"</font> ); }, getDateCreated : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> <font color="#0000ff">this</font> .get( <font color="#A31515">"DateCreated"</font> ).format( <font color="#A31515">'m/d/Y'</font> ); } }); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Application.models.News = Ext.data.Record.create([ {name: <font color="#A31515">'Id'</font> ,       type: <font color="#A31515">'int'</font> }, {name: <font color="#A31515">'Permalink'</font> ,    type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Title'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Brief'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Text'</font> ,       type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'DateCreated'</font> ,   type: <font color="#A31515">'date'</font> , dateFormat: <font color="#A31515">'Ym-d'</font> }, ]); Ext. <font color="#0000ff">override</font> (Application.models.News, { getLink : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> App.route({ permalink : <font color="#0000ff">this</font> .get( <font color="#A31515">"Permalink"</font> ) }, <font color="#A31515">"news"</font> ); }, getDateCreated : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> <font color="#0000ff">this</font> .get( <font color="#A31515">"DateCreated"</font> ).format( <font color="#A31515">'m/d/Y'</font> ); } }); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Application.models.News = Ext.data.Record.create([ {name: <font color="#A31515">'Id'</font> ,       type: <font color="#A31515">'int'</font> }, {name: <font color="#A31515">'Permalink'</font> ,    type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Title'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Brief'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Text'</font> ,       type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'DateCreated'</font> ,   type: <font color="#A31515">'date'</font> , dateFormat: <font color="#A31515">'Ym-d'</font> }, ]); Ext. <font color="#0000ff">override</font> (Application.models.News, { getLink : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> App.route({ permalink : <font color="#0000ff">this</font> .get( <font color="#A31515">"Permalink"</font> ) }, <font color="#A31515">"news"</font> ); }, getDateCreated : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> <font color="#0000ff">this</font> .get( <font color="#A31515">"DateCreated"</font> ).format( <font color="#A31515">'m/d/Y'</font> ); } }); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Application.models.News = Ext.data.Record.create([ {name: <font color="#A31515">'Id'</font> ,       type: <font color="#A31515">'int'</font> }, {name: <font color="#A31515">'Permalink'</font> ,    type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Title'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Brief'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Text'</font> ,       type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'DateCreated'</font> ,   type: <font color="#A31515">'date'</font> , dateFormat: <font color="#A31515">'Ym-d'</font> }, ]); Ext. <font color="#0000ff">override</font> (Application.models.News, { getLink : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> App.route({ permalink : <font color="#0000ff">this</font> .get( <font color="#A31515">"Permalink"</font> ) }, <font color="#A31515">"news"</font> ); }, getDateCreated : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> <font color="#0000ff">this</font> .get( <font color="#A31515">"DateCreated"</font> ).format( <font color="#A31515">'m/d/Y'</font> ); } }); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Application.models.News = Ext.data.Record.create([ {name: <font color="#A31515">'Id'</font> ,       type: <font color="#A31515">'int'</font> }, {name: <font color="#A31515">'Permalink'</font> ,    type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Title'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Brief'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Text'</font> ,       type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'DateCreated'</font> ,   type: <font color="#A31515">'date'</font> , dateFormat: <font color="#A31515">'Ym-d'</font> }, ]); Ext. <font color="#0000ff">override</font> (Application.models.News, { getLink : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> App.route({ permalink : <font color="#0000ff">this</font> .get( <font color="#A31515">"Permalink"</font> ) }, <font color="#A31515">"news"</font> ); }, getDateCreated : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> <font color="#0000ff">this</font> .get( <font color="#A31515">"DateCreated"</font> ).format( <font color="#A31515">'m/d/Y'</font> ); } }); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Application.models.News = Ext.data.Record.create([ {name: <font color="#A31515">'Id'</font> ,       type: <font color="#A31515">'int'</font> }, {name: <font color="#A31515">'Permalink'</font> ,    type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Title'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Brief'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Text'</font> ,       type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'DateCreated'</font> ,   type: <font color="#A31515">'date'</font> , dateFormat: <font color="#A31515">'Ym-d'</font> }, ]); Ext. <font color="#0000ff">override</font> (Application.models.News, { getLink : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> App.route({ permalink : <font color="#0000ff">this</font> .get( <font color="#A31515">"Permalink"</font> ) }, <font color="#A31515">"news"</font> ); }, getDateCreated : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> <font color="#0000ff">this</font> .get( <font color="#A31515">"DateCreated"</font> ).format( <font color="#A31515">'m/d/Y'</font> ); } }); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Application.models.News = Ext.data.Record.create([ {name: <font color="#A31515">'Id'</font> ,       type: <font color="#A31515">'int'</font> }, {name: <font color="#A31515">'Permalink'</font> ,    type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Title'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Brief'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Text'</font> ,       type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'DateCreated'</font> ,   type: <font color="#A31515">'date'</font> , dateFormat: <font color="#A31515">'Ym-d'</font> }, ]); Ext. <font color="#0000ff">override</font> (Application.models.News, { getLink : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> App.route({ permalink : <font color="#0000ff">this</font> .get( <font color="#A31515">"Permalink"</font> ) }, <font color="#A31515">"news"</font> ); }, getDateCreated : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> <font color="#0000ff">this</font> .get( <font color="#A31515">"DateCreated"</font> ).format( <font color="#A31515">'m/d/Y'</font> ); } }); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Application.models.News = Ext.data.Record.create([ {name: <font color="#A31515">'Id'</font> ,       type: <font color="#A31515">'int'</font> }, {name: <font color="#A31515">'Permalink'</font> ,    type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Title'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Brief'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Text'</font> ,       type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'DateCreated'</font> ,   type: <font color="#A31515">'date'</font> , dateFormat: <font color="#A31515">'Ym-d'</font> }, ]); Ext. <font color="#0000ff">override</font> (Application.models.News, { getLink : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> App.route({ permalink : <font color="#0000ff">this</font> .get( <font color="#A31515">"Permalink"</font> ) }, <font color="#A31515">"news"</font> ); }, getDateCreated : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> <font color="#0000ff">this</font> .get( <font color="#A31515">"DateCreated"</font> ).format( <font color="#A31515">'m/d/Y'</font> ); } }); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Application.models.News = Ext.data.Record.create([ {name: <font color="#A31515">'Id'</font> ,       type: <font color="#A31515">'int'</font> }, {name: <font color="#A31515">'Permalink'</font> ,    type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Title'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Brief'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Text'</font> ,       type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'DateCreated'</font> ,   type: <font color="#A31515">'date'</font> , dateFormat: <font color="#A31515">'Ym-d'</font> }, ]); Ext. <font color="#0000ff">override</font> (Application.models.News, { getLink : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> App.route({ permalink : <font color="#0000ff">this</font> .get( <font color="#A31515">"Permalink"</font> ) }, <font color="#A31515">"news"</font> ); }, getDateCreated : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> <font color="#0000ff">this</font> .get( <font color="#A31515">"DateCreated"</font> ).format( <font color="#A31515">'m/d/Y'</font> ); } }); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Application.models.News = Ext.data.Record.create([ {name: <font color="#A31515">'Id'</font> ,       type: <font color="#A31515">'int'</font> }, {name: <font color="#A31515">'Permalink'</font> ,    type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Title'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Brief'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Text'</font> ,       type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'DateCreated'</font> ,   type: <font color="#A31515">'date'</font> , dateFormat: <font color="#A31515">'Ym-d'</font> }, ]); Ext. <font color="#0000ff">override</font> (Application.models.News, { getLink : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> App.route({ permalink : <font color="#0000ff">this</font> .get( <font color="#A31515">"Permalink"</font> ) }, <font color="#A31515">"news"</font> ); }, getDateCreated : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> <font color="#0000ff">this</font> .get( <font color="#A31515">"DateCreated"</font> ).format( <font color="#A31515">'m/d/Y'</font> ); } }); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> Application.models.News = Ext.data.Record.create([ {name: <font color="#A31515">'Id'</font> ,       type: <font color="#A31515">'int'</font> }, {name: <font color="#A31515">'Permalink'</font> ,    type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Title'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Brief'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Text'</font> ,       type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'DateCreated'</font> ,   type: <font color="#A31515">'date'</font> , dateFormat: <font color="#A31515">'Ym-d'</font> }, ]); Ext. <font color="#0000ff">override</font> (Application.models.News, { getLink : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> App.route({ permalink : <font color="#0000ff">this</font> .get( <font color="#A31515">"Permalink"</font> ) }, <font color="#A31515">"news"</font> ); }, getDateCreated : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> <font color="#0000ff">this</font> .get( <font color="#A31515">"DateCreated"</font> ).format( <font color="#A31515">'m/d/Y'</font> ); } }); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> </ol> <code><font color="gray"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">Application.models.News = Ext.data.Record.create([ {name: <font color="#A31515">'Id'</font> ,       type: <font color="#A31515">'int'</font> }, {name: <font color="#A31515">'Permalink'</font> ,    type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Title'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Brief'</font> ,     type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'Text'</font> ,       type: <font color="#A31515">'string'</font> }, {name: <font color="#A31515">'DateCreated'</font> ,   type: <font color="#A31515">'date'</font> , dateFormat: <font color="#A31515">'Ym-d'</font> }, ]); Ext. <font color="#0000ff">override</font> (Application.models.News, { getLink : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> App.route({ permalink : <font color="#0000ff">this</font> .get( <font color="#A31515">"Permalink"</font> ) }, <font color="#A31515">"news"</font> ); }, getDateCreated : <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> <font color="#0000ff">this</font> .get( <font color="#A31515">"DateCreated"</font> ).format( <font color="#A31515">'m/d/Y'</font> ); } });</font> * This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Also, for each model, the application automatically creates two ‚Äústatic‚Äù (called from the constructor, not from an instance) the <i>createStore (add_cfg)</i> method (creates a config object for the data store with model fields) and <i>createOne (hash)</i> (creates a model instance and loads into fields from a hash object). <br><br>  <b>The controllers are</b> implemented by analogy with ZF.  To create a controller with, you need to create a class <i>&lt;Controller name&gt; Controller</i> , to create an action, use the <i>&lt;Action_name&gt; Action</i> method.  Three parameters are passed to the action handler: a hash with the parameters passed to the action, a link to the application object, a link to the ViewPort object. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  Application.controllers.FrontController = Ext.extend (Application.controllers.Abstract, { </li><li>  .................................................. .................................................. ................... </li><li>  newsAction: <font color="#0000ff">function</font> ( <font color="#0000ff">params</font> , app, panel) { </li><li>  panel.add ({ </li><li>  xtype: <font color="#A31515">'Application.components.NewsViewer'</font> , </li><li>  newsPermalink: <font color="#0000ff">params</font> .permalink </li><li>  }); </li><li>  }, </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><br>  The presentation functionality is implemented entirely on ExtJS components.  When an application is initialized, a viewport is created which is rendered at a specified location on the page.  The output area changes when you change controllers / actions.  All other content remains unchanged.  Before calling the action method, the component output area is cleared, the action itself can add the necessary components to it, after which the application will redraw the viewport. <br><br>  At the structural level in the system, the following key components are distinguished: <br><br>  <b>The Application class</b> is the basis of the application.  In this class all other system components are encapsulated. <br><ul><li>  App.acl - link to Application.Acl (authority system) </li><li>  App.router - link to Application.Router (custom routing) </li><li>  App.auth - link to Application.Identity (user data) </li><li>  App.sessionManager - link to the session manager </li><li>  App.viewport - link to output area </li></ul><br><br>  Commonly used methods: <br><br><ul><li>  request - executes an AJAX request </li><li>  log - displays the variable to the console </li><li>  redirect - redirection to a given token (with a URI change) </li><li>  forward - redirection to a given token (without changing the URI) </li></ul><br><br>  When you create an application, you must inherit this class and predefine the necessary initialization methods: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">var</font> App = <font color="#0000ff">new</font> (Ext.extend (Application, { </li><li>  renderTo: <font color="#A31515">'app'</font> , </li><li>  autoRun: <font color="#0000ff">true</font> </li><li>  initAcl: <font color="#0000ff">function</font> () { </li><li>  <font color="#0000ff">this</font> .constructor.superclass.initAcl.call ( <font color="#0000ff">this</font> ); </li><li>  <font color="#0000ff">this</font> .acl.addRole ( <font color="#0000ff">new</font> Application.Acl.Role (....................)); </li><li>  .................................................. .................... </li><li>  }, </li><li>  initRouter: <font color="#0000ff">function</font> () { </li><li>  <font color="#0000ff">this</font> .constructor.superclass.initRouter.call ( <font color="#0000ff">this</font> ); </li><li>  <font color="#0000ff">this</font> .router.addRoute ( <font color="#0000ff">new</font> Application.Router.Route (....................................} )) </li><li>  } </li><li>  })); </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><br>  <b>The Application.Acl class</b> is an authorization system.  The principle of operation is similar to Zend_Acl: allows you to define a set of resources, roles, and permissions to access each role to each resource. <br><br>  Commonly used methods: <br><ul><li>  addRole (new Application.Acl.Role (rolename [, baseRole])) - adds the role.  If the base role is specified when creating a role, the role will overlay all its powers. </li><li>  addResource (new Application.Acl.Resource (resourcename)) - adds a resource.  Sets of controllers and actions are also resources, but they are added automatically. </li><li>  allow / deny (role, resource) - allows / denies access of the role role to the resource.  In the event that one of the parameters (or both are not specified), the permissions are set globally.  allow () gives the default access to everything for everyone, allow (null, resource) gives access to the resource for all, allow (role) gives access to everything for role </li><li>  setErrorRedirect (role, resource, {controller: 'error_controller', action: 'error_action'}) - specifies the action to be called if the role role has no authority to access the resource </li></ul><br><br>  Example of use: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  initAcl: <font color="#0000ff">function</font> () { </li><li>  <font color="#0000ff">this</font> .constructor.superclass.initAcl.call ( <font color="#0000ff">this</font> ); </li><li>  <font color="#008000">// add guest role</font> </li><li>  <font color="#0000ff">this</font> .acl.addRole ( <font color="#0000ff">new</font> Application.Acl.Role ( <font color="#A31515">"guest"</font> )); </li><li>  <font color="#008000">// add user role which inherits guest role permissions</font> </li><li>  <font color="#0000ff">this</font> .acl.addRole ( <font color="#0000ff">new</font> Application.Acl.Role ( <font color="#A31515">"user"</font> , <font color="#A31515">"guest"</font> )); </li><li>  <font color="#008000">// by default, close all access to all</font> </li><li>  <font color="#0000ff">this</font> .acl.deny ( <font color="#0000ff">null</font> ); </li><li>  <font color="#0000ff">this</font> .acl.deny ( <font color="#A31515">"guest"</font> ); </li><li>  <font color="#0000ff">this</font> .acl.deny ( <font color="#A31515">"user"</font> ); </li><li>  <font color="#008000">// permissions for the guest role</font> </li><li>  <font color="#0000ff">this</font> .acl.allow ( <font color="#A31515">"guest"</font> , <font color="#A31515">"front / index"</font> ); </li><li>  <font color="#0000ff">this</font> .acl.allow ( <font color="#A31515">"guest"</font> , <font color="#A31515">"front / test"</font> ); </li><li>  <font color="#0000ff">this</font> .acl.allow ( <font color="#A31515">"guest"</font> , <font color="#A31515">"front / news"</font> ); </li><li>  <font color="#0000ff">this</font> .acl.allow ( <font color="#A31515">"guest"</font> , <font color="#A31515">"front / action1"</font> ); </li><li>  <font color="#0000ff">this</font> .acl.allow ( <font color="#A31515">"guest"</font> , <font color="#A31515">"front / action2"</font> ); </li><li>  <font color="#0000ff">this</font> .acl.allow ( <font color="#A31515">"guest"</font> , <font color="#A31515">"user / login"</font> ); </li><li>  <font color="#0000ff">this</font> .acl.allow ( <font color="#A31515">"guest"</font> , <font color="#A31515">"user / noaccess"</font> ); </li><li>  <font color="#008000">// user roles give access to user / logout / restricted / index and prohibit logins</font> </li><li>  <font color="#0000ff">this</font> .acl.allow ( <font color="#A31515">"user"</font> , <font color="#A31515">"user / logout"</font> ); </li><li>  <font color="#0000ff">this</font> .acl.allow ( <font color="#A31515">"user"</font> , <font color="#A31515">"restricted / index"</font> ); </li><li>  <font color="#0000ff">this</font> .acl.deny ( <font color="#A31515">"user"</font> , <font color="#A31515">"user / login"</font> ); </li><li>  <font color="#0000ff">this</font> .acl.setErrorRedirect ( <font color="#0000ff">null</font> , <font color="#0000ff">null</font> , {controller: <font color="#A31515">'user'</font> , action: <font color="#A31515">'noaccess'</font> }); </li><li>  } </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><br>  <b>Application.Router</b> - managed routing.  Allows you to create "beautiful" links instead of / controller / action / params by default. <br><br>  Methods: <br><ul><li>  addRoute (new Application.Router.Route (name, path, params)) - adds a new routing rule.  The Application.Router.Route class is similar to Zend_Controller_Router_Route_Regex - placeholders are set in the path, and regular expressions and constant parameters are specified in the parameters </li><li>  route (params, route) - generates a link using the route rule and params parameters </li></ul><br><br>  Examples: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  .................................................. ....................................... </li><li>  <font color="#0000ff">this</font> .router.addRoute ( <font color="#0000ff">new</font> Application.Router.Route ( <font color="#A31515">"news"</font> , <font color="#A31515">"news /: permalink"</font> , { <font color="#A31515">"controller"</font> : <font color="#A31515">'front'</font> , <font color="#A31515">"action"</font> : <font color="#A31515">'news'</font> , <font color="#A31515">"permalink"</font> : <font color="#A31515">"[\\ w \\ d \\ -] + "</font> })); </li><li>  .................................................. ....................................... </li><li>  getLink: <font color="#0000ff">function</font> () { </li><li>  <font color="#0000ff">return</font> App.route ({id: <font color="#0000ff">this</font> .get ( <font color="#A31515">"Id"</font> ), permalink: <font color="#0000ff">this</font> .get ( <font color="#A31515">"Permalink"</font> )}, <font color="#A31515">"news"</font> ); </li><li>  } </li><li>  .................................................. ....................................... </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><br>  <b>Application.Identity</b> - user data.  The class is not implemented in full.  In the demo application, it stores session data in cookies using Ext.state.Manager.  When logging in, the actual authentication does not occur, the object sets the property isLogged to true and saves the user name and the user role.  In the future, it is planned to make a complete analog of Zend_Auth with various adapters for authentication verification. <br><br>  At <a href="http://habrdemos.ibpro.com.ua/xframe-app-demo.html">this link</a> you can see a demo application.  It implements viewing the blog feed, login to the system, access to the ‚Äúclosed‚Äù section.  The source code is available for download <a href="">here</a> ( <a href="">alternative link</a> , without ExtJS distribution).  Works with ExtJS 3.1, all modern browsers are supported (IE8, Opera10, FF3 +, Safari 4, Chrome). <br><br>  Any suggestions / wishes / ideas / remarks / corrections are accepted.  In general, I have a desire to make a full-fledged open-source framework for RIA applications out of the framework.  If among you, dear Habr's readers, there are interested, as well as have the desire and free time - welcome to the project team. <br>  <b>UPD.</b>  Transferred to the "ExtJS Library" </div><p>Source: <a href="https://habr.com/ru/post/88208/">https://habr.com/ru/post/88208/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../88201/index.html">English design studios through eyewitness: Spin</a></li>
<li><a href="../88202/index.html">Ubuntu "Lucid Lynx" Beta 1</a></li>
<li><a href="../88203/index.html">Subjectively about the media center E-Great M32B</a></li>
<li><a href="../88205/index.html">Time management on the example of a simple game designer</a></li>
<li><a href="../88206/index.html">Analysis of captcha Xakep.ru</a></li>
<li><a href="../88210/index.html">Symbiosis of ideas: examples of good combination of ideas in the design of logos and advertising</a></li>
<li><a href="../88211/index.html">Functions are almost objects</a></li>
<li><a href="../88213/index.html">Using URI-Fragment Addressing in RIA Applications Based on ExtJS and Mootools</a></li>
<li><a href="../88214/index.html">Windows 98: Network, Free Internet and Student Youth</a></li>
<li><a href="../88215/index.html">Thermaltake BlacX Duet - a cozy place for two HDD</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>