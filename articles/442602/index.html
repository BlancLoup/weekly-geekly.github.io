<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Does speed reduce speed reduction?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Not so long ago, discussions were launched on the introduction of a fine for speeding at more than 10 km / h from the allowed. Traditionally for the I...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Does speed reduce speed reduction?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/nz/nh/bl/nznhbl9nugodw2fprkrhxvu3sda.jpeg" alt="image"><br><br>  Not so long ago, discussions were launched on the introduction of a fine for speeding at more than 10 km / h from the allowed.  Traditionally for the Internet, they are conducted <i>unconstructively</i> , so I generally do not support any side of such holivar. <br><br>  Arguments of car owners in the mass come down to the ‚ÄúI need‚Äù gnaws, which, of course, are not identical.  A significant proportion of people who are forced to go to work 50 km every day through locations not covered by public transport account for no less than those driving by car to the bakery, which can be clearly seen from these cars left in the morning at home little snow. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      On the part of urbanists, quite one-sided arguments are often heard, hackneyed private examples of European countries, whose population is sometimes completely comparable with the daily Moscow traffic, techniques like offensive cliches about ‚Äúbydlopovozki‚Äù. <br><br>  And when such a situation occurs, there is nothing better than discarding other people's emotions and invoking two impartial assistants - Matan and Python. <br><a name="habracut"></a><br>  The weakness of the position of car owners - they do not put forward ways to solve their problems (in my opinion, the solution would be to eliminate the spontaneous development of every free piece of land in major cities and the development of regions so that people do not have to deal with labor migration to their capital in their home country such as to offer such things?).  Urbanists always have a set of arguments and ready-made solutions, backed up by data.  But sometimes these are studies of serious institutions, sometimes they are not very clear statistics without adequate rationing.  These data in most cases, pushing the idea of ‚Äã‚Äãa general decrease in the speed of movement in cities.  And the most frequent argument in its favor is: <br>  <b>‚ÄúAll the same, because of the traffic lights, you cannot always move at the maximum speed, your average speed will be lower than the allowed one, so why not reduce the bit allowed?‚Äù</b> <br><br>  ‚ÄúHmmm,‚Äù I always thought about this argument.  If you reduce the maximum allowed, the average will also fall a little.  And what does this prove - that it can be lowered again?  What kind of <a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D0%25BF%25D0%25BE%25D1%2580%25D0%25B8%25D1%258F">aporia is</a> this?  We need to check how true this is. <br><br>  I would like to present a further article with reservations to direct its criticism in the comments in a constructive way: <br><br>  - Yes, I know how ugly the code is written, but it is more important for me that it worked correctly, I myself am not a programmer, it‚Äôs better to write remarks on the code in a personal. <br>  - Yes, I know that the simulation could be made more difficult, fuller and more realistic.  Only I will not accept the accusations that there is no change in traffic density during the day, different dynamics of different cars, weather conditions, <s>phases of the moon, the author's mother</s> , but useful comments, indications of algorithmic shortcomings, modification of the model for any unresolved situations.  In my understanding, it is sufficient to answer the simple question from the point of view of mathematics: <i>given the strong discreteness of movement due to traffic lights, does the reduction in the maximum allowed speed in certain sections significantly influence the travel time?</i> <br><br>  The essence of my model is very simple.  Since the traffic light is a ready program cycle, the simulation is built around a segment of the road with a traffic light at the end and its phases.  The next iteration is the next segment of the route with its length, allowed speed, and the phase of the traffic light at the end. <br>  The car has three phases of motion: uniformly accelerated, motion with the maximum speed allowed for a given section, equally slow.  They are implemented in 9 versions. <br><br><ul><li>  If the car moved to the current segment at the same speed that is allowed on it, then it moves without changes; </li><li>  If he was moving slower (or standing), then he accelerates first; </li><li>  There is no ‚Äúhe moved faster‚Äù option, and here's why: if the allowed speed on the next segment is less, it reduces speed on it.  Is it logical </li></ul><br>  These options are added more conditions: <br><br><ul><li>  The car goes as driving or slowed down, and comes to the end of the segment to red.  This means that we must stop at the traffic light.  Assuming that it always slows down with the same acceleration, we postpone the way necessary for braking from the traffic light.  This is a critical distance, similar to the <a href="https://en.wikipedia.org/wiki/V_speeds">critical take</a> - <a href="https://en.wikipedia.org/wiki/V_speeds">off speed of</a> aircraft.  Now, if under the terms of the car passes through a red light, it should begin to brake to zero, starting from the critical point; </li><li>  Damn, or maybe the segment is so short or the car is so vegetable that it does not have time to pick up the maximum speed before the onset of Skrit?  A program baganet, continuing to overclock it, although it is time for him to slow down before the traffic light?  If this happens, we will force him not to pick up speed higher than that achieved at point Scrit, and then we will implement one of the options.  Here is the result: <br><br><img src="https://habrastorage.org/webt/oc/no/xl/ocnoxlxpzrecydlds3plkp0qcz0.jpeg" alt="image"></li></ul><br>  And then you need to implement it in the code.  That's how I did it, providing detailed comments: <br><br><div class="spoiler">  <b class="spoiler_title">pattern of hinduism</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> random <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> math <span class="hljs-comment"><span class="hljs-comment">#  : redlight = ("100", "10", "90", "1", #   "-" .       .   1    "1") #  1  ,   0.          .      . #  : greenlight = ("30", "120", "30", "1", "1") #   : distance = ("400", "400", "250", "500", "500") #    velocity = ("60", "60", "60", "60", "40") #-   r=0 g=0 d=0 v=0 #  : vcurrent=float(0) #    : t=0 #    : gtime=0 #,      100 /  15 . #      : accel=float(100/(3.6*15)) #,      . #      : decel = float(accel*2) #     ,   ( ,    0): while r&lt;=2: red=float(redlight[r]) grn=float(greenlight[g]) dis=float(distance[d]) vel=float(float(velocity[v])/3.6) vnext=float(float(velocity[v+1])/3.6) #         accel     : #saccel = float(((vcurrent*vel-vcurrent)/accel) + ((vel-vcurrent)*((vel-vcurrent)/(2*accel) saccel = float((vcurrent*(vel-vcurrent)/accel) + (vel-vcurrent)*(vel-vcurrent)/(2*accel)) # :     ,           decel: scrit = float(dis-(vel/decel) - (vel*vel)/(2*decel)) # ,        . #         : startingred = random.randint(0, (int(grn)-1)) print ("startingred= ", startingred) #    ,    __  -      : if vcurrent == vel: #         ,   ,     : if vnext&gt;= vcurrent: t = int (dis/vel) # ,   : if (t+startingred)%(red+grn)&lt;=red: t = int (scrit/vel + (vel/decel) + red-((t+startingred)%(red+grn))) ### 2 vcurrent = 0 print ("        , ") # ,  : else: t = int (dis/vel)### 1 vcurrent = vel print ("        , ", " v=", vcurrent) #       ,  ,   scrit: else: t = int ((scrit/vel) + (vcurrent - (vnext)/((vcurrent*(vcurrent - (vnext/(dis-scrit))- ((vcurrent - vnext)*(vcurrent - vnext)/(2*(dis-scrit)))))))) #  ,  : if (t+startingred)%(red+grn)&lt;=red: t = int (scrit/vel + (vel/decel)+ red-((t+startingred)%(red+grn)))### 2 vcurrent = 0 print ("      , ") #   -   ,    ,    scrit  : else: t = int (scrit/vel + (vcurrent - vnext)/((vcurrent*(vcurrent - (vnext/(dis-scrit))- ((vcurrent - vnext)*(vcurrent - vnext)/(2*(dis-scrit)))))))### 3 vcurrent = float(vnext/3.6) print ("      , ", " v=", vcurrent) #    ,    __  -        : elif vcurrent &lt; vel: #  ,    scrit: vcrit=math.sqrt(2*accel*scrit+vcurrent*vcurrent) #        scrit,      scrit,   vcrit  ,   : if saccel &gt;= scrit: #          -      ,   if vnext &gt;= vcrit: t = int(((vcrit-vcurrent)/ accel) + (dis-scrit)/vcrit) # ,  : if (t+startingred)%(red+grn)&lt;=red: t = int(((vcrit-vcurrent)/ accel) + ((dis-scrit)*2/vcrit) + red-((t+startingred)%(red+grn)))### 8 vcurrent = 0 print ("         ,  , ") # ,     : else: t = int(((vcrit-vcurrent)/ accel) + (dis-scrit)/vcrit) ### 7 vcurrent = vcrit print ("         ,  , ", " v=", vcurrent) #       -     else: t = int(((vcrit-vcurrent)/ accel) + (vcrit - vnext)/((vcrit*(vcrit - vnext)/(dis-scrit))- ((vcrit - vnext)*(vcrit - vnext)/(2*(dis-scrit))))) # ,  : if (t+startingred)%(red+grn)&lt;=red: t = int(((vcrit-vcurrent)/ accel) + ((dis-scrit)*2/vcrit) + red-((t+startingred)%(red+grn)) ) ### 8 vcurrent = 0 print ("       ,  , ") #  -   ,    ,    scrit  : else: t = int(((vcrit-vcurrent)/ accel) + (vcrit - vnext)/((vcrit*(vcrit - vnext)/(dis-scrit))- ((vcrit - vnext)*(vcrit - vnext)/(2*(dis-scrit))))) ### 9 vcurrent = vnext print ("       ,  , ", " v=", vcurrent) #        scrit,   ,    : else: #         ,   ,     : if vnext&gt;= vel: t = int(((vel- vcurrent)/accel) + (dis-saccel)/vel) # ,  : if (t+startingred)%(red+grn)&lt;=red: t = int (((vel- vcurrent)/accel) + (scrit-saccel)/vel + (vel/decel)+ red-((t+startingred)%(red+grn)))### 5 vcurrent = 0 print ("         , ") # ,  : else: t = int (((vel- vcurrent)/accel) + (dis-saccel)/vel)### 4 vcurrent = vel print ("         , ", " v=", vcurrent) else: # ,  : if (t+startingred)%(red+grn)&lt;=red: t = int (((vel- vcurrent)/accel) + (scrit-saccel)/vel + (vel/decel)+ red-((t+startingred)%(red+grn)))### 5 vcurrent = 0 print ("       , ") #  -   ,    ,    scrit  : else: print ("scrit ", scrit) print ("vcurrent ", vcurrent) t = int (((vel- vcurrent)/accel) +(scrit-saccel)/vel + (vel - vnext)/((vel*(vel - vnext)/(dis-scrit))-((vel - vnext)*(vel - vnext)/(2*(dis-scrit))))) ### 6 vcurrent = vnext print ("       , ", " v=", vcurrent) #    ,    __  -    ,      : else: print ("ERROR: v current &gt; v next") print (t) r+=1 g+=1 d+=1 v+=1 gtime+=t print (gtime)</span></span></code> </pre> <br></div></div><br>  Here you need a few clarifications. <br><br>  I took the conditional dynamics of vehicle acceleration from 0 to 100 in 15 seconds, and set the braking twice as sharp.  It seemed to me realistic, who does not agree - the code is in your hands, experiment with loaded wagons and Lamborghini Murcelago. <br><br>  Yes, I neglected the fact that while the car slows down, the red light can turn green.  It is unlikely, but this can be - equal slowdown to zero takes twice as long as traveling the same distance at a constant speed.  So, we are talking about 3-5 seconds.  For their sake, I didn‚Äôt bother with any more formulas, reassuring myself that this is a simulation of a car facing us at a traffic light.  Kstaaaaati ... <br><br>  Yes, I neglected traffic at all.  Explain why.  Purely mathematically, traffic will look like the offset of a traffic light point across several car bodies and, accordingly, a speed line shifted in phase.  Just drag the image above a centimeter to the left with the mouse - a clear demonstration. <br><br>  But the fact is that the reality is not like that.  Machines will not start at the same time as subway cars, although theoretically they can do this without colliding.  They start consistently, and this will affect our travel time as follows: we may not have time to drive a traffic light if there are quite a lot of them.  Otherwise, this is only a phase shift and a decrease in the average speed at the site (as if stricter rules apply throughout the city).  So, the situation is simulated by simply adding another traffic light cycle, like: <br><br><pre> <code class="plaintext hljs">t = int (scrit/vel + (vel/decel) + red-((t+startingred)%(red+grn)) &lt;b&gt;+ (red+grn)&lt;/b&gt;)</code> </pre> <br>  Does this give us something?  It is unlikely, since it is simply a summand, just another property of a traffic light, if you wish.  The whole game with the passage of the route takes place during the movement on the segments.  And here the dense traffic interfering with each other can be simulated by killing the acceleration or / and the allowed speed at the site. <br><br>  But we are interested in how to limit the situation of speed limits, and not neighboring cars?  So we will analyze this option. <br><br>  I did not invent anything, but took the real city route.  Let's just say, familiar to me earlier.  I do not remember exactly all the phases of traffic lights, but I took it as the basis for the simulation, because there are both long and short, and speed-limited sections on it. <br><br><div class="spoiler">  <b class="spoiler_title">cry</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/pe/8a/uu/pe8auus8gacuhsfcbzpaaolopb8.jpeg" alt="image"><br></div></div><br>  And I modified the code.  Erased all kamenty and prints, added a more global cycle, to drive it, for example, 10,000 times: <br><br><div class="spoiler">  <b class="spoiler_title">cry</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> random <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> math n=<span class="hljs-number"><span class="hljs-number">0</span></span> overalltime=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> n&lt;=<span class="hljs-number"><span class="hljs-number">10000</span></span>: redlight = (<span class="hljs-string"><span class="hljs-string">"100"</span></span>, <span class="hljs-string"><span class="hljs-string">"10"</span></span>, <span class="hljs-string"><span class="hljs-string">"90"</span></span>, <span class="hljs-string"><span class="hljs-string">"20"</span></span>, <span class="hljs-string"><span class="hljs-string">"60"</span></span>, <span class="hljs-string"><span class="hljs-string">"20"</span></span>, <span class="hljs-string"><span class="hljs-string">"20"</span></span>, <span class="hljs-string"><span class="hljs-string">"20"</span></span>, <span class="hljs-string"><span class="hljs-string">"20"</span></span>, <span class="hljs-string"><span class="hljs-string">"60"</span></span>, <span class="hljs-string"><span class="hljs-string">"20"</span></span>, <span class="hljs-string"><span class="hljs-string">"20"</span></span>, <span class="hljs-string"><span class="hljs-string">"90"</span></span>, <span class="hljs-string"><span class="hljs-string">"90"</span></span>, <span class="hljs-string"><span class="hljs-string">"100"</span></span>, <span class="hljs-string"><span class="hljs-string">"60"</span></span>, <span class="hljs-string"><span class="hljs-string">"100"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"60"</span></span>, <span class="hljs-string"><span class="hljs-string">"90"</span></span>, <span class="hljs-string"><span class="hljs-string">"60"</span></span>, <span class="hljs-string"><span class="hljs-string">"120"</span></span>, <span class="hljs-string"><span class="hljs-string">"60"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"60"</span></span>, <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-string"><span class="hljs-string">"1"</span></span>) greenlight = (<span class="hljs-string"><span class="hljs-string">"30"</span></span>, <span class="hljs-string"><span class="hljs-string">"120"</span></span>, <span class="hljs-string"><span class="hljs-string">"30"</span></span>, <span class="hljs-string"><span class="hljs-string">"120"</span></span>, <span class="hljs-string"><span class="hljs-string">"40"</span></span>, <span class="hljs-string"><span class="hljs-string">"120"</span></span>, <span class="hljs-string"><span class="hljs-string">"120"</span></span>, <span class="hljs-string"><span class="hljs-string">"120"</span></span>, <span class="hljs-string"><span class="hljs-string">"120"</span></span>, <span class="hljs-string"><span class="hljs-string">"40"</span></span>, <span class="hljs-string"><span class="hljs-string">"120"</span></span>, <span class="hljs-string"><span class="hljs-string">"120"</span></span>, <span class="hljs-string"><span class="hljs-string">"40"</span></span>, <span class="hljs-string"><span class="hljs-string">"15"</span></span>, <span class="hljs-string"><span class="hljs-string">"20"</span></span>, <span class="hljs-string"><span class="hljs-string">"20"</span></span>, <span class="hljs-string"><span class="hljs-string">"20"</span></span>, <span class="hljs-string"><span class="hljs-string">"20"</span></span>, <span class="hljs-string"><span class="hljs-string">"20"</span></span>, <span class="hljs-string"><span class="hljs-string">"40"</span></span>, <span class="hljs-string"><span class="hljs-string">"30"</span></span>, <span class="hljs-string"><span class="hljs-string">"20"</span></span>, <span class="hljs-string"><span class="hljs-string">"40"</span></span>, <span class="hljs-string"><span class="hljs-string">"40"</span></span>, <span class="hljs-string"><span class="hljs-string">"20"</span></span>, <span class="hljs-string"><span class="hljs-string">"40"</span></span>, <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-string"><span class="hljs-string">"1"</span></span>) distance = (<span class="hljs-string"><span class="hljs-string">"400"</span></span>, <span class="hljs-string"><span class="hljs-string">"400"</span></span>, <span class="hljs-string"><span class="hljs-string">"250"</span></span>, <span class="hljs-string"><span class="hljs-string">"250"</span></span>, <span class="hljs-string"><span class="hljs-string">"250"</span></span>, <span class="hljs-string"><span class="hljs-string">"450"</span></span>, <span class="hljs-string"><span class="hljs-string">"300"</span></span>, <span class="hljs-string"><span class="hljs-string">"650"</span></span>, <span class="hljs-string"><span class="hljs-string">"1000"</span></span>, <span class="hljs-string"><span class="hljs-string">"450"</span></span>, <span class="hljs-string"><span class="hljs-string">"500"</span></span>, <span class="hljs-string"><span class="hljs-string">"900"</span></span>, <span class="hljs-string"><span class="hljs-string">"450"</span></span>, <span class="hljs-string"><span class="hljs-string">"400"</span></span>, <span class="hljs-string"><span class="hljs-string">"1100"</span></span>, <span class="hljs-string"><span class="hljs-string">"900"</span></span>, <span class="hljs-string"><span class="hljs-string">"600"</span></span>, <span class="hljs-string"><span class="hljs-string">"1000"</span></span>, <span class="hljs-string"><span class="hljs-string">"450"</span></span>, <span class="hljs-string"><span class="hljs-string">"450"</span></span>, <span class="hljs-string"><span class="hljs-string">"400"</span></span>, <span class="hljs-string"><span class="hljs-string">"450"</span></span>, <span class="hljs-string"><span class="hljs-string">"200"</span></span>, <span class="hljs-string"><span class="hljs-string">"500"</span></span>, <span class="hljs-string"><span class="hljs-string">"350"</span></span>, <span class="hljs-string"><span class="hljs-string">"400"</span></span>, <span class="hljs-string"><span class="hljs-string">"500"</span></span>, <span class="hljs-string"><span class="hljs-string">"500"</span></span>) velocity = (<span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"60"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"60"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"60"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"80"</span></span>, <span class="hljs-string"><span class="hljs-string">"40"</span></span>) r=<span class="hljs-number"><span class="hljs-number">0</span></span> g=<span class="hljs-number"><span class="hljs-number">0</span></span> d=<span class="hljs-number"><span class="hljs-number">0</span></span> v=<span class="hljs-number"><span class="hljs-number">0</span></span> vcurrent=float(<span class="hljs-number"><span class="hljs-number">0</span></span>) t=<span class="hljs-number"><span class="hljs-number">0</span></span> gtime=<span class="hljs-number"><span class="hljs-number">0</span></span> accel=float(<span class="hljs-number"><span class="hljs-number">100</span></span>/(<span class="hljs-number"><span class="hljs-number">3.6</span></span>*<span class="hljs-number"><span class="hljs-number">15</span></span>)) decel = float(accel*<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> r&lt;=<span class="hljs-number"><span class="hljs-number">26</span></span>: red=float(redlight[r]) grn=float(greenlight[g]) dis=float(distance[d]) vel=float(float(velocity[v])/<span class="hljs-number"><span class="hljs-number">3.6</span></span>) vnext=float(float(velocity[v+<span class="hljs-number"><span class="hljs-number">1</span></span>])/<span class="hljs-number"><span class="hljs-number">3.6</span></span>) saccel = float((vcurrent*(vel-vcurrent)/accel) + (vel-vcurrent)*(vel-vcurrent)/(<span class="hljs-number"><span class="hljs-number">2</span></span>*accel)) scrit = float(dis-(vel/decel) - (vel*vel)/(<span class="hljs-number"><span class="hljs-number">2</span></span>*decel)) startingred = random.randint(<span class="hljs-number"><span class="hljs-number">0</span></span>, (int(grn)<span class="hljs-number"><span class="hljs-number">-1</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> vcurrent == vel: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> vnext&gt;= vcurrent: t = int (dis/vel) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (t+startingred)%(red+grn)&lt;=red: t = int (scrit/vel + (vel/decel) + red-((t+startingred)%(red+grn))) <span class="hljs-comment"><span class="hljs-comment">### 2 vcurrent = 0 else: t = int (dis/vel)### 1 vcurrent = vel else: t = int ((scrit/vel) + (vcurrent - (vnext)/((vcurrent*(vcurrent - (vnext/(dis-scrit))- ((vcurrent - vnext)*(vcurrent - vnext)/(2*(dis-scrit)))))))) if (t+startingred)%(red+grn)&lt;=red: t = int (scrit/vel + (vel/decel)+ red-((t+startingred)%(red+grn)))### 2 vcurrent = 0 else: t = int (scrit/vel + (vcurrent - vnext)/((vcurrent*(vcurrent - (vnext/(dis-scrit))- ((vcurrent - vnext)*(vcurrent - vnext)/(2*(dis-scrit)))))))### 3 vcurrent = float(vnext/3.6) elif vcurrent &lt; vel: vcrit=math.sqrt(2*accel*scrit+vcurrent*vcurrent) if saccel &gt;= scrit: if vnext &gt;= vcrit: t = int(((vcrit-vcurrent)/ accel) + (dis-scrit)/vcrit) if (t+startingred)%(red+grn)&lt;=red: t = int(((vcrit-vcurrent)/ accel) + ((dis-scrit)*2/vcrit) + red-((t+startingred)%(red+grn)))### 8 vcurrent = 0 else: t = int(((vcrit-vcurrent)/ accel) + (dis-scrit)/vcrit) ### 7 vcurrent = vcrit else: t = int(((vcrit-vcurrent)/ accel) + (vcrit - vnext)/((vcrit*(vcrit - vnext)/(dis-scrit))- ((vcrit - vnext)*(vcrit - vnext)/(2*(dis-scrit))))) if (t+startingred)%(red+grn)&lt;=red: t = int(((vcrit-vcurrent)/ accel) + ((dis-scrit)*2/vcrit) + red-((t+startingred)%(red+grn)) ) ### 8 vcurrent = 0 else: t = int(((vcrit-vcurrent)/ accel) + (vcrit - vnext)/((vcrit*(vcrit - vnext)/(dis-scrit))- ((vcrit - vnext)*(vcrit - vnext)/(2*(dis-scrit))))) ### 9 vcurrent = vnext else: if vnext&gt;= vel: t = int(((vel- vcurrent)/accel) + (dis-saccel)/vel) if (t+startingred)%(red+grn)&lt;=red: t = int (((vel- vcurrent)/accel) + (scrit-saccel)/vel + (vel/decel)+ red-((t+startingred)%(red+grn)))### 5 vcurrent = 0 else: t = int (((vel- vcurrent)/accel) + (dis-saccel)/vel)### 4 vcurrent = vel else: if (t+startingred)%(red+grn)&lt;=red: t = int (((vel- vcurrent)/accel) + (scrit-saccel)/vel + (vel/decel)+ red-((t+startingred)%(red+grn)))### 5 vcurrent = 0 else: t = int (((vel- vcurrent)/accel) +(scrit-saccel)/vel + (vel - vnext)/((vel*(vel - vnext)/(dis-scrit))-((vel - vnext)*(vel - vnext)/(2*(dis-scrit))))) ### 6 vcurrent = vnext else: print ("ERROR: v current &gt; v next") #print (t) r+=1 g+=1 d+=1 v+=1 gtime+=t dev=(1476-gtime)*(1476-gtime) #print (gtime) n+=1 dev+=dev overalltime+=gtime print ("mean= ", overalltime/n) print ("deviation= ", math.sqrt(dev/n))</span></span></code> </pre><br></div></div><br>  The presented option displays the "normal driving" - with a maximum speeding, which is punished only by verbal warning. <br><br>  But now it will be interesting to compare the following options with the help of a simulation based on this route: introducing a non-penalized interval of 10 km / h, super-obedient driving precisely according to restrictions, pedalized by urbanists with a maximum city speed of 50 km / h. <br><br>  Results of 10,000 simulations, raw data: <br><br>  (limit, km / h; route time, s; standard deviation): <br><br><pre> <code class="plaintext hljs">90 1466,6 0,5 80 1475,6 0,4 70 1479,7 0,9 60 1593,7 0,8 50 1701,3 0,5 40 1869,8 0,6</code> </pre> <br><img src="https://habrastorage.org/webt/e4/um/ak/e4umakdzls7zmzp3mjmdzctrxea.jpeg" alt="image"><br><br>  The chart shows the minutes of the journey depending on the global speed limit.  Yes, I know that the Y axis is not from scratch, but it is more obvious. <br><br>  The results seemed a little unexpected.  Firstly, the planned reduction of the non-penalized threshold <i>on this route</i> <i>really does not lead to a significant increase in travel time</i> .  And starting just somewhere from 70 km / h, an increase in speed gives almost nothing.  Secondly, the reduction of the allowed speed will significantly increase the time, by 8% even by relatively completely law-abiding citizens and by 13% from tacitly exploited speeds of ‚Äúoral warning‚Äù.  That is, the <i>statement that the decrease in the allowed speed does not affect the average is strictly speaking incorrect</i> .  Again, within the framework of this model, it is impossible to show whether a slowdown by 10% will ‚Äústack‚Äù in conditions of heavy traffic and aggravate the traffic situation. <br><br>  Please write comments on the model (again, constructive), but if you put your routes into the model and bring the result in the comments, it will be great in general. </div><p>Source: <a href="https://habr.com/ru/post/442602/">https://habr.com/ru/post/442602/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../442592/index.html">Using Joomla Accounts in a Django Project</a></li>
<li><a href="../442594/index.html">And you will monitor everything for me? Aha</a></li>
<li><a href="../442596/index.html">Soundtrack for the game: humanists cry too</a></li>
<li><a href="../442598/index.html">Do we need Headhunters?</a></li>
<li><a href="../442600/index.html">My home automation system</a></li>
<li><a href="../442606/index.html">Domain Object with Lombok: Battle Classics</a></li>
<li><a href="../442608/index.html">The QuadrigaCX cryptobirds cold wallets, the founder of which died, were empty</a></li>
<li><a href="../442610/index.html">Telegram-bot + Google Analytics</a></li>
<li><a href="../442612/index.html">Cardboard engine for an electrical board game. As we brought it closer to reality</a></li>
<li><a href="../442614/index.html">CI / CD using Jenkins at Kubernetes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>