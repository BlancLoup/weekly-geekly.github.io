<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Mash of flags: how to find out more about an exotic country</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Publishing a sprite of country flags for web pages gave an idea for experimenting with an interface solution. 

 A page from a list of countries and a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Mash of flags: how to find out more about an exotic country</h1><div class="post__text post__text-html js-mediator-article">  Publishing a sprite of <a href="http://habrahabr.ru/blogs/webdev/123718/">country flags</a> for web pages gave an idea for experimenting with an interface solution. <br><br>  A <a href="http://spmbt.github.io/spmbt/wk/showFlags/showFlags.htm">page from a list of countries</a> and a (almost) empty frame is suggested.  By clicking on the selected line in the frame material is loaded from Wikipedia.  The list of countries at the same time remains to hang at the top of the window to change to another country description. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/82d/198/68d/82d19868d76ccc0dd60eeafd59db8c96.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><h3>  Sources for Mashup </h3><br>  1) <a href="http://artpolikarpov.ru/flags/">Icons of national flags in the sprite</a> .  A sprite (a group compacted image of many separate drawings) from the flags of countries is taken from the developer‚Äôs page, recoded into a text view (for fun) for use in the list of countries.  JSON array for displaying country names in Russian and English is also taken from there (archive fg.zip, link at the bottom of the developer page); <br><br>  2) <a href="http://habrahabr.ru/blogs/skype/47356/">The image, pulled out in due time as a resource from Skype</a> , was published by <a href="http://habrahabr.ru/users/raptor/" class="user_link">raptor</a> ;  when used, the flag table will be transposed by the script so that the first letter is vertically, the second is horizontally.  The file is also 25% lossless. <br><br>  There are sprites with flags from other designers, but these are chosen because of the relative completeness of the related information. <br><br><h3>  How and why </h3><br>  Having such data sources, it was thought: there are not enough instructions for developers on pulling data from the sprite and, in general, the code environment for quick launch.  For the first source there is a whole generator of sprites for the flags of the required number of countries, but what next to do with them?  On the one hand, the developers already know what to do, and on the other, I want to see and apply a quick result. <br><br>  Well, let's learn how to drag a sprite into pictures and show individual flags.  How to show it?  A simple choice of the line for generating the code of a picture with a flag is uninteresting.  It would be better if it is easy to integrate the generation of image codes into any useful function.  For example, seeing the name of a rarely mentioned exotic country, you ask yourself: what kind of country, why do not you know? <br><br>  This is how the idea of ‚Äã‚Äãcollecting technologies by flags into one mashup page appeared (now it is a buzzword; it means using several web services in one new web project, but in this case - mixing 2 ideas and their products and the 3rd service - Wikipedia) .  To: <br><br>  1) click on the flag of any country and watch the name; <br>  2) click on the title (in Russian or English) and see the description in Wikipedia; <br>  3) do not lose the list of flags and countries of sight. <br><br>  As a result, the page turned out: <br><br>  <a href="http://spmbt.github.io/spmbt/wk/showFlags/showFlags.htm">Descriptions of the states of the world with the flags of countries</a> <br><br>  Tested under WinXP - IE8, FF3.6, Chrome12, Opera11.5.  (Safari 5.02 for some reason does not show the generated table of flags in the frame, the rest shows; you can, of course, download this table from a separate page, but this is ugly.) IE9 - according to the message <a href="http://habrahabr.ru/users/alexxxst/" class="user_link">alexxxst</a> works <a href="">like this</a> , but there is no technical possibility to debug and fix it ( IE9 itself).  The absence of the doctype is done for simplicity, so as not to display the height of the frame = 100% by the script (for FF and IE). <br><br>  This technique can be applied on other pages either as unchanged (with country flags), or for working with a list of other active elements on a page, a geographical map, a drawing with active areas. <br><br>  <i>Relation to IE</i> .  The code did not use jQuery type libraries that would easily provide cross-browser compatibility.  In any case, if implemented in another project, this is easy (and recommended), but the base page would make it harder to use the library or not to use modern browser technologies: DOM querySelector method, CSS url properties (data: ...; base64 ...) , position: fixed.  For the feasibility of the code in IE8 made hacks of varying degrees of rigidity (attachment to a specific code).  It was necessary (only for IE) to upload the fg.png image instead of using its base64 code. <br><br>  A particularly interesting hack was required in order to force IE8 to scroll to the anchor.  It was found that it starts to scroll only when the block size changes (by mouse over) or the window size (probably due to the peculiarity of the placement of anchors in a fixed-height block).  Software pull block height by 1 pix.  for 200 ms helps push IE to this action. <br><img src="https://habrastorage.org/getpro/habr/post_images/184/0eb/d0b/1840ebd0bf7c431a5d104b34be9276d3.png"><br><br><h3>  (Not-) Completeness of information </h3><br>  Since data on countries are extracted from other sources, they are completely ‚Äúresponsible‚Äù for the completeness of the information.  First, the flags on the Skype map are incomplete - only the states recognized by the majority of states.  Therefore, it can be seen that in the place of empty cells in the table in a more complete list of states from the 2nd source there are states and flags that are represented in Wikipedia.  For example, "mf" - "St. Martin", "bl" - St. Barthelemy (who has his own domain). <br><br>  But in this source the list of states is incomplete.  For example, there is no <a href="http://ru.wikipedia.org/wiki/%25D0%25A0%25D0%25B5%25D1%2581%25D0%25BF%25D1%2583%25D0%25B1%25D0%25BB%25D0%25B8%25D0%25BA%25D0%25B0_%25D0%25A1%25D0%25BE%25D0%25BC%25D0%25B0%25D0%25BB%25D0%25B8%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25B4">Somaliland</a> with its flag and recognized by a number of states. <br><br>  There are some states that are not in Wikipedia in Russian.  For example, islands under the code "um".  English Wikipedia comes to the rescue.  And there are those named in such a way that their name is absent in Wikipedia, although under a different name they are, for example, the Vatican (‚Äúva‚Äù), the French Southern and Antarctic Territories (‚Äútf‚Äù).  Total, the list of countries also requires adjustment for this page.  But then the compatibility of the mashup disappears - direct porting of new (or trimmed) versions of the sprite with the flags of the countries.  The output here is in additional scripting processing of a number of noticed features. <br>  Here's what had to be fixed (maybe the author agrees to correct the data in the fg.js script).  Showing: abbreviation and corrected text, suitable for Wikipedia. <br><pre><code class="javascript hljs">corr ={ <span class="hljs-attr"><span class="hljs-attr">ax</span></span>: <span class="hljs-string"><span class="hljs-string">" "</span></span> , <span class="hljs-attr"><span class="hljs-attr">cd</span></span>: <span class="hljs-string"><span class="hljs-string">"  "</span></span> , <span class="hljs-attr"><span class="hljs-attr">cm</span></span>: <span class="hljs-string"><span class="hljs-string">" "</span></span> , <span class="hljs-attr"><span class="hljs-attr">ht</span></span>: <span class="hljs-string"><span class="hljs-string">" "</span></span> , <span class="hljs-attr"><span class="hljs-attr">hm</span></span>: <span class="hljs-string"><span class="hljs-string">"    "</span></span> , <span class="hljs-attr"><span class="hljs-attr">ky</span></span>: <span class="hljs-string"><span class="hljs-string">" "</span></span> , <span class="hljs-attr"><span class="hljs-attr">sj</span></span>: <span class="hljs-string"><span class="hljs-string">"  -"</span></span> , <span class="hljs-attr"><span class="hljs-attr">um</span></span>: <span class="hljs-string"><span class="hljs-string">"   "</span></span> , <span class="hljs-attr"><span class="hljs-attr">va</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span> , <span class="hljs-attr"><span class="hljs-attr">tf</span></span>: <span class="hljs-string"><span class="hljs-string">"    "</span></span> };</code> </pre> <br>  Another way to correct the situation is to register the desired alias in Wikipedia. <br><br>  Since there are a lot of ‚Äúerrors‚Äù in the names and it is included in the system (although it is not known who is mistaken - Wikipedia in translation or the author of the list of states), a corrective list of names of states for Russian Wikipedia has been added to the script.  The above examples are included in it and now work correctly.  (But all are not checked - somewhere after the letter "e" horizontal errors are possible, write in the comments to fix it.) <br><br>  <b>PS</b> If you click on ‚ÄúRefresh‚Äù (F5) - the initial page with the table of flags will be loaded if the user did not follow the links in Wikipedia.  If you went - the button ‚ÄúBack‚Äù in the corner for the same one is suspended. <br><br>  <b>UPD</b> : July 11, 01:00, supplement - version 2. The need for the Skype file disappears, all data is taken from fg.png.  But for comparison, the link is "ver.1".  If you click on it, the flags will be loaded from the Skype resource pattern 1568279_432x297.png.  You can see that a number of flags in Skype were missing.  Where the state is a dependent territory, the protectorate flag is depicted (for example, 'nc', 'um').  Therefore, version 2 is richer in flags, and from the 1st source only the linking form has remained.  The value of the descriptor with base64 has also been removed from it, it has lost its meaning. </div><p>Source: <a href="https://habr.com/ru/post/123804/">https://habr.com/ru/post/123804/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../123791/index.html">STM32F1xx - we treat arduine dependence together</a></li>
<li><a href="../123793/index.html">JavaScript libraries for working with SVG</a></li>
<li><a href="../123797/index.html">IIS + .NET + Json. We write the Application Server</a></li>
<li><a href="../123799/index.html">Asus Eee Pad Transformer Review</a></li>
<li><a href="../123802/index.html">Facebook is testing a new home page design.</a></li>
<li><a href="../123805/index.html">Search engine job dataflow</a></li>
<li><a href="../123808/index.html">Attackers have access to data from users of the Washington Post</a></li>
<li><a href="../123810/index.html">Flash drive cryptex for lovers of design and cryptography</a></li>
<li><a href="../123812/index.html">Writing Your ASP.NET Session Store Provider Using Redis</a></li>
<li><a href="../123813/index.html">Textile printer do it yourself - continued</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>