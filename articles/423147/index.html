<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>On the strategy and data storage format in the Hadoop era</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Data storage strategy 
 The current state of computing is that it is possible to store almost infinite amounts of data. As a result, the need to delet...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>On the strategy and data storage format in the Hadoop era</h1><div class="post__text post__text-html js-mediator-article"><h2>  Data storage strategy </h2><br>  The current state of computing is that it is possible to store almost infinite amounts of data.  As a result, the need to delete data is virtually eliminated in order to free up space for new ones. <br>  This gives a lot of advantages, starting from the natural relationship between the data and the objects that they describe, since there are conservation laws in nature, the same should apply to data that reflect natural objects, and ending with the exception of purely technological problems related to data integrity of time. <br><br>  Thus, the storage strategy should be based on the paradigm of ‚Äúsoft‚Äù deletion, which is to mark the data as having lost relevance from a certain point in time. <br><br>  Exactly the same applies to data changes.  Updates should not overwrite previous data, but indicate that, starting from a certain point in time, the data have different meanings. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      With a great desire to free up space by clearing storage from unused data, a storage compression strategy can be applied by making a copy of it and rewriting only actual data at a certain point in time in the past. <br><br>  This reasoning is not something new, since it has already been implemented in the Hadoop big data storages. <br><a name="habracut"></a><br><h2>  Data storage format </h2><br>  Data reflecting certain entities, as a rule, are a set of attributes, the composition of which reflects the necessary characteristics of the entity.  For simplicity, we assume that we are talking about a relational model consisting of tuples. <br><br>  Thus, data is stored in the form of tuples of a certain type, which over time may change and lose relevance. <br><br>  We also mean that modern big data storages often have a key-value structure with a primary index on key and possible optional indexes on other attributes. <br><br>  With these considerations in mind, the following data storage format is proposed. <br><br>  Immediately I would like to note that this format is not unique, but inspired by the data storage structure in 1C objects under the name ‚ÄúRegister‚Äù.  But in this development, the format is proposed to make universal and store all the data in it. <br><br>  So, the proposed format for data records of entities and their attributes, based on the concept of workflow, based on the following definitions: <br><br><ul><li>  An operation is an atomic change to a single data entity. </li><li>  Entity consists of attributes. </li><li>  An entity has a type that determines the composition of its attributes. </li><li>  Entities of the same type are stored in one stream. </li><li>  A workflow is a storage object of the type table, where operations related to entities of the same type and changing their state are located. </li></ul><br>  Accordingly, each operation consists of an operation header and a set of attributes that depend on the type of entity: <br><br><ol><li>  OpID - unique identifier of the operation </li><li>  OpTS - timestamp operation </li><li>  OpType - type of operation </li><li>  OpClass - stream name </li><li>  OpUser - user of the system that issued the command </li><li>  OpDoc - the operation document, that is, the document that created it may not be set </li><li>  OpComment - Operation Commentary </li><li>  ID - identifier of the entity to which the operation belongs </li><li>  Parameters - stream-dependent operation attributes </li></ol><br>  OpID and ID can be any, but for now, it may make sense to use a UID. <br>  OpTS should most likely be of the timestamp type, but supplemented with an ordinal index, if several operations fall into one time interval in order to ensure an unambiguous order of operations. <br><br>  OpType can be of any type, for example, one / several characters or a number. <br>  OpClass, OpUser and OpComment can be either a string or some kind of links to the directory. <br>  OpDoc provides a link to the document, but it may be absent.  This is a link to the top level. <br><br>  Operations are divided into basic and service. <br><br><h3>  Basic operations </h3><br>  Basic operations 3 - add, update, delete: <br><br><ol><li>  Operation ‚ÄúA‚Äù add - establishes the instantiation of a new entity of a certain type and sets a set of attributes. </li><li>  Operation ‚ÄúU‚Äù update - states the change of an entity of a certain type and sets new values ‚Äã‚Äãof a certain set of attributes. </li><li>  Operation ‚ÄúD‚Äù deletion - states the end of the reality of an entity of a certain type. </li></ol><br>  Operation A and U may not set all attributes, but only some.  Those attributes that are not set by this operation may have a value of type NULL, or some other special value, which is not currently available, but it would be nice to create. <br><br>  As a result, the actual value of the attributes of an entity at a specific point in time requires calculating them by searching backwards, selecting all attributes that are different from the special (non-fixed) value. <br><br>  When issuing an operation U, the system must check whether an operation A is available for this entity and, if it is absent, change the type of operation to A. <br><br>  Operation D closes the existence of a specific entity and when querying the values ‚Äã‚Äãof attributes of this entity with the point of relevance after this operation, the values ‚Äã‚Äã‚Äúnot set‚Äù should be returned for all attributes of this entity.  When issuing an operation D, the system must check for the presence of operation A for this entity and, if it is absent, refuse to save the command D. <br><br>  As an additional feature, such a structure of operations allows you to organize storage of an entity with the same ID with different attributes at different points in time, not only on the basis of attributes, but also on the whole entity.  That is, we may have several AN * UD blocks in which the entity exists, but it does not exist between D and A. <br><br><h3>  Service operations </h3><br>  Service operations can be many and their composition can be replenished.  As an example, there are several considerations: <br><br><ol><li>  Operation "N" invalid operation - this operation should be ignored by the system.  You can change other types of operations to N to exclude them from work. </li><li>  Operation "C" cache - this operation can be created with a certain frequency and store attribute values ‚Äã‚Äãat a certain point in time in order to reduce the cost of searching for attribute values ‚Äã‚Äãin depth.  Details of the parameters of the operation can be stored, for example, in the comments or in the operation code itself.  Of course, when applying basic operations, operations of type C must be recalculated or replaced by N. </li><li>  Operation ‚ÄúS‚Äù group operations - this operation can be created with a certain frequency and store group values ‚Äã‚Äã(for example, amounts, averages and so on) of attributes of numeric types for a certain period.  Details of the parameters of the operation can be stored, for example, in the comments or in the operation code itself.  Of course, when applying basic operations, operations of type S must be recalculated or replaced by N. </li><li>  Operation ‚ÄúG‚Äù group attributes - this operation may be similar to U, but at the same time, certain system commands will produce not one value of attribute (s), but several.  One attribute value per operation A / U, the other values ‚Äã‚Äãat operation G, which are located between adjacent A / U. </li></ol><br>  Service operations are not necessary, but they can provide additional service to the storage system and improve its operation.  Their composition may be different for different systems. </div><p>Source: <a href="https://habr.com/ru/post/423147/">https://habr.com/ru/post/423147/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../423137/index.html">Browser extensions for GitHub that will increase the productivity of your work</a></li>
<li><a href="../423139/index.html">Fence Hole, Effective Managers & Engineers</a></li>
<li><a href="../423141/index.html">Claude Shannon: how genius solves problems</a></li>
<li><a href="../423143/index.html">October Slerm: Intensive by Kuburnetes</a></li>
<li><a href="../423145/index.html">PHP extension and Kotlin Native. Part three, probably final</a></li>
<li><a href="../423149/index.html">Direct comparison of laser myopia correction methods or what you pay for when choosing ReLEx SMILE</a></li>
<li><a href="../423151/index.html">Global Objects in PHP</a></li>
<li><a href="../423153/index.html">Node.js tutorial, part 2: JavaScript, V8, some development techniques</a></li>
<li><a href="../423155/index.html">MIT course "Computer Systems Security". Lecture 8: "Model of network security", part 2</a></li>
<li><a href="../423157/index.html">Using connect () from the react-redux package</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>