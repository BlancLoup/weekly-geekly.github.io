<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Geographical binding sites: how is this done?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Every day more and more information accumulates on the Internet. And thanks to the Internet, everyone can get access to the data they need. On the oth...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Geographical binding sites: how is this done?</h1><div class="post__text post__text-html js-mediator-article">  Every day more and more information accumulates on the Internet.  And thanks to the Internet, everyone can get access to the data they need.  On the other hand, to navigate in such a large array without the use of special tools is almost impossible.  And such a tool of course are the search engines that help people navigate the ever-expanding sea of ‚Äã‚Äãinformation. <br><br><img src="https://habrastorage.org/storage1/f46ec42f/664ba46b/faab9670/842ff219.jpg"><br><br>  Since the search engines took their first steps, developers have spent a tremendous amount of effort on improving the organization, navigation and search for documents.  Today, probably the most used technique is a keyword search, giving users the opportunity to find information on a given topic.  At the same time, the global expansion of the Internet leads to the fact that the amount of information found by a person when searching using only keywords is too large.  By typing the same word in the search box, different people may want different results. <br><a name="habracut"></a><br>  The figures show what the same query looks like, asked by users living in the cities of Novosibirsk and Yekaterinburg.  It is clear that by asking the word ‚Äúairport‚Äù for a search engine, people want to get the address of the city airport site: <br><img src="https://habrastorage.org/storage1/c1c91ca0/b00f9409/98198a1a/02d0e98f.png"><br><img src="https://habrastorage.org/storage1/35422525/a6ef6c92/dfe31dec/3dca4c09.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To solve this problem using the keyword search is impossible.  In the same time.  it becomes the starting point for the formation of high-level semantic queries that can be used to find such information.  Thus, additional metadata can be attached to the page, using which.  improve the quality of the response of the search engine.  For example, for geo-dependent queries such metadata will be information about the geographic location of the resource.  Knowing where the desired object is physically located and having knowledge of the user's position, you can link this data and give the person information about the desired object. <br><br>  In general, the task can be divided into two parts: <br><br>  a) determining the location of the user; <br>  b) determining the location of the desired resource. <br><br>  In the article we propose a solution to the second part of the problem, i.e.  how to determine the location of the Internet resource. <br><br>  There are many sources where you can get information about the geography of the site.  These include the following: the WHOIS database, directories, the context of pages, etc. In our article we will look at how to link a site to geography based on an analysis of the context of pages. <br><br><h5>  Analyzing the contents of the site pages </h5><br>  As a rule, the sources that can supply information about geography are sites of organizations that publish data on their locations - addresses and phone numbers.  The solution to the problem of extracting information in our case will be divided into several parts: <br>  ‚Ä¢ determination of typical templates of sites on which information about the location of the organization can be placed; <br>  ‚Ä¢ extraction of candidates for the subsequent binding of the site to geographic information; <br>  ‚Ä¢ filtering candidates. <br><br><h5>  We define typical templates </h5><br>  At this stage, we try to determine the set of search patterns for the pages on which the proposed address is located.  One of the most common locations for contact information is the root page.  At the same time, this page is not always a reliable source of information, since there are websites, for example, placing ads that include well-readable addresses, some of which can go to the main page, so in the future, addresses extracted from the main page will be filtered .  Another common location for contact information is the Contacts page.  As a rule, there are links to it from the main page, and in most cases they follow a number of rules.  For example, the link text may contain the word "contacts", "About us", etc. <br><br>  After analyzing the structure of the sites of various organizations, we will select the most common sample templates for pages where you can find the address.  Briefly, you can write down the following three steps: <br>  ‚Ä¢ Search for addresses on the root page of the site. <br>  ‚Ä¢ Search for links to the Contacts page. <br>  ‚Ä¢ Search for addresses on the Contacts page. <br><br><h5>  We retrieve the address </h5><br>  As we said above, in the first stage we get the most likely pages on which contact information can be placed.  From these pages you can extract something that is very similar to the address.  Why is ‚Äúvery similar‚Äù? Because we will use the hidden Markov model for extraction. <br>  Before we start building our model, we will define the data and try to simplify everything a bit.  To begin with, we will determine that the number of significant cities in Russia is finite and, accordingly, can be described by a dictionary.  Got the first simplification - using the dictionary of cities, you can find a reference point on the page.  It can be assumed that if we are on the most likely contact page, then the city we have found may enter the address. <br>  Go ahead.  If you move from the point of entry to the left or right.  You can get the address, but for this you need a system for evaluating a sequence of characters, probably included in the address.  The HMM or the hidden Markov model can help us in this.  But to build a model, we need to determine the following data: <br>  ‚Ä¢ states of the model s belonging to the set <img src="https://habrastorage.org/storage1/ee673c46/3a0bf5a8/eb287581/cfd7d81c.png">  that is, what can be mistaken for states; <br>  ‚Ä¢ elements of the sequence v belonging to the set <img src="https://habrastorage.org/storage1/7ee80b58/9905fa9d/3d57638d/2067d161.png">  ;  that is, what can be taken for the elements of a sequence. <br><br>  For example, take the address: 654007, Novokuznetsk, st.  Ordzhonikidze, 36, and select from it the elements of the sequence V and the state S. <br><img src="https://habrastorage.org/storage1/148342ba/955ac99e/2377da95/08e63fb7.jpg"><br><br>  As can be seen in Table 1, we obtained six sequence elements and five states of the model.  Thus, if we take individual words as elements of a sequence, then we can imagine what this will lead to when calculating the model.  But we will make several simplifications to reduce the number of states of the set S and the number of elements of the sequence of the set V. If you look closely at table 1, you can see that the elements of the states s (2) and the elements of the sequence v (2) are repeated.  If all elements of the address are divided into types, then this will lead us to a decrease in the model states.  For example, you can combine all the modifiers of the streets into one element.  In this case, the street, highway, lane ... form an element of the sequence <img src="https://habrastorage.org/storage1/f5920920/129162da/03fff7ce/45b72316.png">  .  Thus, we obtain the second simplification - the translation of many well-known geographical names into one element of the sequence.  Let's give an example in the form of a table: <br><br><img src="https://habrastorage.org/storage1/1bb299d3/2f01b9de/7e0cb96a/a1540d11.jpg"><br><br>  Thus, we get only 19 typed elements of the set V. The same can be done with the set S, that is, with the states of the model.  For example, if during the analysis the model gives information about the street, we say that the model is in state S (street), if the model gives information about the city, we say.  that the model is in state T (city).  We obtain the third simplification of the model states.  Examples are given in table 3. <br><br><img src="https://habrastorage.org/storage1/9810d90e/76323d56/107b9a93/4d6b2e3f.jpg"><br><br>  Now, knowing the description of the states of the model and the elements of the sequence, we create a training set on which our model is built.  From the training set, we need to obtain the transition probability matrix A and B as the probability matrix for obtaining data from the set V at the moment when the model is in the state s. <br>  For example, in our case, the fragments of the matrix B and A are as follows: <br><br><img src="https://habrastorage.org/storage1/4a31c904/a56be769/f9273a3a/b349b8d2.jpg"><br><br>  To complete the picture, we also need to consider the initial distributions. <img src="https://habrastorage.org/storage1/35b4b078/1280c01d/869fcede/48ad5d9e.png">  .  And now, when we have a model built, in a brief record, it looks like <img src="https://habrastorage.org/storage1/59aa3e58/ae14e7eb/0b132c33/b0c4d937.png">  we take our sequence D surrounding the found city and find the probability that the words, i.e. the data, are like a model.  We consider the probability: <br><img src="https://habrastorage.org/storage1/18bfbc9d/383f17e3/5b4eddff/b347851e.png"><br><br>  Since in this problem it is required to calculate only the probability of the occurrence of the address sequence in the vicinity of the city, for the solution we use the forward-backward algorithm. <br><br><h5>  Filter the data </h5><br>  Extracted addresses are filtered.  The first stage of filtering is that additional information is also extracted from the page, such as a telephone, which is assigned to one or several addresses extracted from the page. <br>  One of the comparisons is to check the code of the region indicated in the telephone number for compliance with the city indicated in the address. <br>  The second stage of filtering includes a set of rules of thumb that are superimposed on the highlighted address.  Such rules, for example, include a limit on the possible number of digits contained in a house number.  After applying a number of rules, the extracted address is either accepted as one of the addresses describing the location of the organization, or is rejected. <br><br><h5>  What did you get? </h5><br>  For the experiments, a database of pages downloaded from the Internet was taken, containing about 20 million sites and 3.9 billion pages.  From this data, based on the analysis of the content of the pages, the site was geo-referenced using the algorithm described above.  The results are presented in table 6. <br><br>  As the experiments showed, the described method is quite accurate.  In his case, the accuracy reaches 97%.  This is due to a number of restrictions, namely: the use of predefined patterns for finding a page with an address;  using the dictionary of cities;  comparison of phone number and city, as well as existing formal rules for recording addresses.  All these limitations make it possible to achieve a sufficiently high accuracy in determining the geography of a web resource.  On the other hand, these restrictions lead to a decrease in completeness in cases where the address is entered without a direct indication of the city or with an unknown city, if the contact page is located at an address that is not described in the known search patterns.  Diagram 1 shows the distribution of sites by region - as can be seen from the diagram, the largest region to which the sites fall is Moscow. <br><img src="https://habrastorage.org/storage1/f917ce5c/67fbb885/8d7f90b2/debb14ac.jpg"><br><br><img src="https://habrastorage.org/storage1/b72d818d/6b2c7ce6/16a4b160/d0fd711d.jpg"><br><br>  At the moment we use the described method, as one of the methods, to extract information about the geolocation of sites and add it to the search engine index.  Thus, a person can search for information on the sites of his region.  Additionally, the extracted address can be displayed in address snippets. <br>  <i>Dmitry Solovyov</i> <i><br></i>  <i><a href="http://go.mail.ru/">Search.com.Ru</a> Developer</i> </div><p>Source: <a href="https://habr.com/ru/post/132762/">https://habr.com/ru/post/132762/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../132754/index.html">Requirements for electronic archives of project and design documentation</a></li>
<li><a href="../132755/index.html">Unified information environment in the university. Past and present</a></li>
<li><a href="../132758/index.html">Video review of stylish Honeycomb tablet from Japan - Sony Tablet S</a></li>
<li><a href="../132759/index.html">Mobile phones will become technically complex products</a></li>
<li><a href="../132760/index.html">Windows Azure. New November 2011</a></li>
<li><a href="../132766/index.html">Do I need to be a programmer to embody the concept?</a></li>
<li><a href="../132767/index.html">Oracle Certified Professional Java Programmer Exam Preparation</a></li>
<li><a href="../132768/index.html">Level ten cow</a></li>
<li><a href="../132769/index.html">Bicycle with USB recharge</a></li>
<li><a href="../132772/index.html">ICQ for BlackBerry - November Gift for MTS Users</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>