<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Pdf.js passed the first pixel test</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In June, Andreas Gal (Andreas Gal) and colleagues from Mozilla presented the pdf.js engine for displaying PDF using HTML5 / JavaScript. In the origina...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Pdf.js passed the first pixel test</h1><div class="post__text post__text-html js-mediator-article">  In June, Andreas Gal (Andreas Gal) and colleagues from Mozilla presented the <a href="">pdf.js</a> engine for displaying PDF using HTML5 / JavaScript.  In the original version, it worked imperfectly, but the developers seriously got down to business and literally added functionality every day: graphics rendering, GUI, etc. But the most important thing is that TrueType fonts are dynamically loaded and PostScript Type 1 fonts are improved dramatically. <br><br>  As a result, now Andreas Gal decided that the first test was passed and pdf.js pixel by pixel exactly * displays the <a href="http://people.mozilla.org/~gal/compressed.tracemonkey-pldi-09.pdf">test document</a> ( <a href="http://andreasgal.github.com/pdf.js/multi_page_viewer.html">demo</a> ). <br><br>  Now pdf.js has been assigned the version number 0.2 and a new task has been set: to render the <a href="http://wwwimages.adobe.com/www.adobe.com/content/dam/Adobe/en/devnet/pdf/pdfs/pdf_reference_1-7.pdf">official specifications PDF 1.7</a> (the document contains 1310 pages, a 31 MB file). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <sup><font color="gray">* In fact, the ‚Äúperfect‚Äù rendering is achieved only in the build of <a href="http://nightly.mozilla.org/">Firefox Nightly</a> under Windows 7 (with font rendering via Direct2D and DirectWrite), in the rest - close to ideal or not very close, depending on the browser and OS.</font></sup> <br><a name="habracut"></a><br>  Each pair of screenshots shows a comparison of the previous version of pdf.js (above) and pdf.js v0.2. <br><br> <a href=""><img src="https://habrastorage.org/storage1/c66e4c65/873d49a5/983cf4ad/198ce508.jpg"></a> <br><br>  Andreas Gal says that the difference in the screenshots at the top should have been much more noticeable, but they did not dare to roll out the original version of pdf.js until they have done normal loading of PostScript Type 1 for the main font of the document in order to focus on the remaining problems.  Dynamic loading Type 1 proved to be an extremely difficult task.  It is difficult to overestimate how important this feature is for pdf.js. <br><br> <a href=""><img src="https://habrastorage.org/storage1/009354be/d996f031/1e49ccde/d772c8e5.jpg"></a> <br><br>  The second pair of screenshots show some improvements in pdf.js.  The most obvious is that the inscriptions on the image objects appeared due to the fact that v0.2 correctly loads TrueType fonts.  The shadows behind the elements are recognized and displayed as background images.  Dotted lines are rendered using the new APIs that have been added to the processing of the <i>canvas element by</i> the Firefox browser, now they are in the process of standardization. <br><br> <a href=""><img src="https://habrastorage.org/storage1/2803d0d1/48d8697f/81d124bd/c6bc1896.jpg"></a> <br><br>  A screenshot with a monospace font is another proof of how important it was to make the most accurate measurement and loading of Type 1 fonts. <br><br> <a href=""><img src="https://habrastorage.org/storage1/83e2ae11/c3427041/8de99678/638dcca1.jpg"></a> <br><br>  The color graphs in the diagram are rendered by separate JS functions, which then transfer pixel values ‚Äã‚Äãto the <i>canvas</i> .  These specific columns are calculated by the function of linear gradients.  The text in the caption of the diagram also began to look better - as already mentioned, pdf.js learned to recognize and download different fonts. <br><br> <a href=""><img src="https://habrastorage.org/storage1/df6c1c81/4d1562bf/b14f84da/20e01924.jpg"></a> <br><br>  The comparison above shows a couple of new v0.2 features.  Signatures on the diagram appeared due to the loading of TrueType fonts, and the stroke fill of columns appeared due to the implementation of the function for the corresponding patterns. <br><br> <a href=""><img src="https://habrastorage.org/storage1/39c3b741/4e9fc660/9c35273f/2bc57025.jpg"></a> <br><br>  Well, the last comparison shows improvements in the GUI, including a cool preview function - the panel pops up when you hover the mouse.  In addition, in the lower screenshot, you can see a piece of the second page, whereas earlier pdf.js could only show one page at a time. <br><br>  Andreas Gal thanks all the <a href="https://github.com/andreasgal/pdf.js/contributors">independent developers</a> who have joined the project and are helping the Mozilla team.  For example, the new UI with the preview function is implemented <a href="https://github.com/justindarc">justindarc</a> .  Others have made support for encrypted PDFs, embedded JPEGs, Web Workers backends and others, which will be included in the functionality of the next version of pdf.js.  In particular, when rendering 1310-page specifications, Web Workers will be needed to parallelize processes and the ability to suspend client-side computing in the main thread (UI responsiveness). <br><br>  The developers believe that within two or three months they will be able to bring pdf.js to such a level that it will be able to display most of the PDF documents on the Web well.  In the future, you can expect pdf.js to become the native part of the Firefox browser (release the extension first). <br><br>  The authors of the project also hope that other browsers will follow their example and will implement pdf.js support, the code of which is published under a free license (modified by BSD).  In the future, it will work equally well in any browser with HTML5 support. <br><br>  Now this is not the case: almost every combination of browser / OS produces different results.  Such is the fate of each project, which is done on the cutting edge of technology in the field of unapproved standards.  According to Andreas Gala, now pdf.js comes to that stage when a significant part of the questions in reality are <a href="https://bugzilla.mozilla.org/show_bug.cgi%3Fid%3D667947">bugs</a> - the <a href="https://bugzilla.mozilla.org/show_bug.cgi%3Fid%3D664077">engine</a> - <a href="http://code.google.com/p/chromium/issues/detail%3Fid%3D82402">browser</a> <a href="https://github.com/andreasgal/pdf.js/issues/131">rendering</a> or <a href="https://bugzilla.mozilla.org/show_bug.cgi%3Fid%3D471915">missing features</a> , but these holes are gradually filled. </div><p>Source: <a href="https://habr.com/ru/post/123501/">https://habr.com/ru/post/123501/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../123485/index.html">New efficiency record for solar cells</a></li>
<li><a href="../123489/index.html">DataRetriever - a service for collecting and analyzing data from online media and social networks</a></li>
<li><a href="../123490/index.html">Web interface for iptables</a></li>
<li><a href="../123491/index.html">MS SQL 2011 - New Offset Operator</a></li>
<li><a href="../123496/index.html">Mashable: Google abandons Blogger and Picasa brands in favor of Google+</a></li>
<li><a href="../123502/index.html">Using MongoDB in Java EE 6</a></li>
<li><a href="../123504/index.html">Fun with Google's Street View</a></li>
<li><a href="../123507/index.html">MS SQL 2011 - Error Handling</a></li>
<li><a href="../123508/index.html">Generation of analytical surfaces on the example of maps</a></li>
<li><a href="../123509/index.html">Hot summer room UserAndLINUX ‚Ññ11</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>