<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What's new in CUBA Platform 6.5</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="You may have noticed that we have published new minor releases of the CUBA platform and CUBA Studio. The new version implements improvements, mainly r...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What's new in CUBA Platform 6.5</h1><div class="post__text post__text-html js-mediator-article">  You may have noticed that we have published new minor releases of <a href="https://www.cuba-platform.ru/">the CUBA platform</a> and CUBA Studio.  The new version implements improvements, mainly related to the current functionality, but we have added some new useful features. <br><br>  Under the cut: <br><br><ul><li>  Uber jar </li><li>  UI component for predictive search </li><li>  Versioning REST API </li><li>  Cluster load balancing </li><li>  Component of the ZooKeeper application </li><li>  Improvements in Polymer UI </li><li>  Support for Bean Validation in CUBA Studio </li><li>  Groovy support in entity listeners </li></ul><a name="habracut"></a><br><h3>  Uber jar </h3><br>  The most awaited feature in the community of developers of the platform.  Thanks to Uber JAR, we have maximally simplified the distribution of CUBA applications. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To create a Uber JAR, it is enough to determine the desired configuration in CUBA Studio or in your IDE and collect JAR files in a couple of clicks. <br><br><img src="https://habrastorage.org/web/018/aff/f18/018afff18e274f8db33904694bc1763b.gif" alt="CUBA Studio overview"><br><br>  To start the application, it is enough to execute two commands: <br><br> <code>java -jar app-core.jar</code> <br> <code>java -jar app.jar</code> <br> <br>  Uber JAR already contains all the dependent components, as well as a lightweight HTTP Server.  More information can be found in <a href="https://doc.cuba-platform.com/manual-6.5/uberjar_deployment.html">this chapter of the</a> documentation. <br><br><h3>  Enter text with prompts </h3><br>  <i>SuggestionPickerField</i> appeared in the set of visual components.  As the user enters the text, he searches in the background and offers suitable value choices. <br><br><img src="https://habrastorage.org/web/a06/0b2/22c/a060b222c2814475aae1e9d740dbaa3b.png" alt="SuggestionPickerField"><br><br>  Read more in the <a href="https://doc.cuba-platform.com/manual-6.5/gui_SuggestionPickerField.html">documentation</a> .  The live component can be found in the <a href="https://demo.cuba-platform.com/sampler/open%3Fscreen%3Ddatasource-suggestion-picker-field">Sampler</a> online demo application. <br><br><h3>  Versioning REST API </h3><br>  When an application is already in industrial operation, it happens that, due to the usual refactoring of entity names or attributes, the universal REST API becomes incompatible with the old version of the client (for example, a mobile application) or external systems. <br><br>  To solve this problem, in the new version of CUBA a mechanism for transforming REST requests has been added.  Transformation rules can be set in a simple XML format, according to which the platform leads requests in the old format to the latest version of the API. <br><br>  For example, if we rename the <i>OldOrder</i> entity to <i>NewOrder</i> , as well as its <i>date</i> attribute to <i>deliveryDate</i> , then using the following XML for transformations, we will maintain compatibility with clients that use the old API. <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transformations</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.haulmont.com/cuba/rest-json-transformations.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transformation</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">modelVersion</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">oldEntityName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sales$OldOrder"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">currentEntityName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sales$NewOrder"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">renameAttribute</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">oldName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"date"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">currentName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"deliveryDate"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">toVersion</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">removeAttribute</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"discount"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">toVersion</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transformation</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transformations</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  As usual, details are described in the <a href="https://doc.cuba-platform.com/manual-6.5/rest_api_v2_data_model_versioning.html">documentation</a> . <br><br><h3>  Cluster load balancing </h3><br>  Prior to version 6.5, the platform did not support load balancing between the web and the middle layer.  Accordingly, the web server from the very beginning chose the middle layer server from the <i>cuba.connectionUrlList</i> list and did not change it until it became unavailable. <br><br>  In the latest version of the platform distribution is carried out at the level of the user session.  The middle layer server is randomly selected during the first remote connection.  The established session is <i>sticky</i> and fixes the selected server for its entire duration.  If the request comes from an anonymous session or without a session, then the assignment does not occur and the request goes to a randomly specified server in the cluster. <br><br>  If in a separate case you need to define distribution rules yourself, then this can be done by overriding the <i>cuba_ServerSorter</i> bean, which by default uses the <i>RandomServerSorter</i> class. <br><br><h3>  Component of the ZooKeeper application </h3><br>  Adding this component greatly simplifies cluster configuration management.  The new component integrates your application with <a href="https://zookeeper.apache.org/">Apache ZooKeeper</a> , a centralized service for maintaining configuration information. <br><br>  Now to manage the cluster topology, all you have to do is give the address of ZooKeeper.  After that, the servers of the middle layer will publish their addresses through the ZooKeeper directory, and the mechanisms for detecting a new component will request the addresses of the available servers from ZooKeeper.  If the server of the middle layer becomes unavailable, it is automatically excluded from the directory - at the same moment or after a timeout. <br><br>  The source code for the application component with documentation is available on <a href="https://github.com/cuba-platform/cuba-zk">GitHub</a> .  Binary artifacts are published in the standard CUBA repositories. <br><br><h3>  Improvements in Polymer UI </h3><br>  Judging by the activity on the support forum, more and more developers are starting to use the new web client for CUBA applications based on Google Polymer.  In this release, we added a number of features that are designed to simplify development. <br><br>  Firstly, when opening an entity from the list for editing, the user will be redirected to an edit form located at a different URL.  That is, you can now use the standard history tracking mechanism in the browser, and direct links to the editor of a specific entity. <br><br>  The second refinement is the <a href="https://cuba-elements.github.io/cuba-elements/components/cuba-ui/">cuba-lookup</a> component.  It allows you to choose the value of the reference attribute not from the drop-down list, but from the pop-up window with the list of entities. <br><br>  Finally, a component has been added to the library of visual <a href="https://cuba-elements.github.io/cuba-elements/components/cuba-file-field/">components</a> for uploading files to the server.  The downloaded file is displayed as an active link. <br><br><h3>  Support for Bean Validation in CUBA Studio </h3><br>  Configuring data validation is now supported from the CUBA Studio user interface.  You can define attribute constraints as well as messages that will be displayed if the entered values ‚Äã‚Äãdo not match the specified constraints. <br><br>  For example, to make sure that you have a valid email address in the string, you just need to set up validation in CUBA Studio as shown below. <br><br><img src="https://habrastorage.org/web/556/023/910/556023910a0f40f18f1c795e73c46eb4.png" alt="Bean validation"><br><br><h3>  Groovy support in entity listeners </h3><br>  CUBA Studio now supports scaffolding Entity Listeners on Groovy.  To do this, simply turn on Groovy Support in Project properties&gt; Advanced tab. <br><br><img src="https://habrastorage.org/web/15a/d84/489/15ad84489ee046b4b36e90d1a6e4d1ce.png" alt="Groovy Entity Listeners"><br><br><h3>  Summary </h3><br>  This article describes the most important changes to the Platform and Studio.  A complete list of changes can be found here: <br><br>  <a href="http://files.cuba-platform.com/cuba/release-notes/6.5/">platform-6.5-release</a> <br>  <a href="http://files.cuba-platform.com/cuba/release-notes/6.5/">studio-6.5-release</a> <br><br>  Also, we invite you to watch the <a href="https://vimeo.com/214066066">video recording of the webinar</a> dedicated to the release (eng.). </div><p>Source: <a href="https://habr.com/ru/post/332906/">https://habr.com/ru/post/332906/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../332896/index.html">Privileged ports cause global warming</a></li>
<li><a href="../332898/index.html">Why changes in the new Phoenix 1.3 are so important</a></li>
<li><a href="../332900/index.html">ES8 came out and here are its main new features.</a></li>
<li><a href="../332902/index.html">Pentest-laboratory "Pentestit Test lab v.11" - full passage</a></li>
<li><a href="../332904/index.html">Security issues of Android applications: classification and analysis</a></li>
<li><a href="../332908/index.html">A little about the bugs in the BIOS / UEFI of Lenovo / Fujitsu / Toshiba / HP / Dell laptops</a></li>
<li><a href="../332910/index.html">Fly UNIGINE airplanes: a new aircraft simulator for MAKS-2017</a></li>
<li><a href="../332912/index.html">27000 errors in the Tizen operating system</a></li>
<li><a href="../332914/index.html">20 materials about the methods of successful traffic to the site</a></li>
<li><a href="../332916/index.html">We implement touch logger for Android using CVE-2016‚Äì5195</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>