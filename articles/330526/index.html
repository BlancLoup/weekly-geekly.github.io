<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>FabricPool - saving technology for All Flash repositories</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article will be useful in the first public cloud providers, as well as end users, owners of NetApp ONTAP storage systems that have SSD drives. 

...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>FabricPool - saving technology for All Flash repositories</h1><div class="post__text post__text-html js-mediator-article">  This article will be useful in the first public cloud providers, as well as end users, owners of NetApp ONTAP storage systems that have SSD drives. <br><br>  In this article, I will talk about replication between storage systems, SSD technologies, All Flash storage, where the storage market is moving, object storage systems, FabricPool storage systems, DataFabric vision, snapshots, and ONTAP firmware for storage systems.  DSS, DSS, DSS are all systems that are installed, at the customer‚Äôs data center to build a classic infrastructure or a private cloud, these are customers who keep their own data center, their storage system and most of their infrastructure runs on their own equipment.  What do these repositories, and all of the topics listed, have to do with the cloud and public providers?  I will talk about all these technologies that, it would seem, have nothing to do with public cloud providers.  But in the course of the story, it will become clear how they all form a trend and help move towards the hybrid cloud: Private + Public and how NetApp will help transfer some of the customer‚Äôs data that previously only lived with the customer on his own equipment to the public cloud. <br><br>  I want for technology you see a picture of the near future of which it consists.  Not to see "what a deer is northern", the future must be seen in order to understand which direction to move and develop. <br><a name="habracut"></a><br><h4>  SSD trend </h4><br>  SSD drives are getting cheaper, but for now they are still expensive.  Who has computers or laptops SSD?  Acceleration is noticeable, isn't it?  We have already gone through several stages of development of NAND: SLC, MLC, now the generation of TLC drives, the cost of technology is becoming cheaper with each new development.  Many potential new types of carriers promise even more capacity in the future, even more speed, etc.  And maybe someday, technology where memory cells do not wear out.  SSD even for a laptop is not cheap, but what about the big industrial All Flash Array solutions?  How to make SSD cheaper in such solutions?  The answer is: use deduplication and data compression technologies to reduce the cost of a terabyte.  NetApp has a range of data compression technologies.  So, for example, the SQL database was actually really compressed twice, I saw this with one of our customers, while the performance was better than that of other competitors on the test and turning it on / off did not affect the performance.  This was in ONTAP 8.3.2 firmware, and now <a href="https://habrahabr.ru/post/328444/">ONTAP 9.2</a> has already been <a href="https://habrahabr.ru/post/328444/">released with an inline aggregate deduplication</a> .  SSD is definitely the future of storage, without exception, all vendors have recognized this.  Some vendors refused to develop extremely expensive High-End storage and began to develop cheaper and more efficient AFA. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  DataFabric </h4><br>  DataFabric is not a single technology, but a whole set of technologies, a vision, a desire for NetApp to move to merge and integrate all its products in as many ways as possible and more data mobility.  For example: <br><br><ul><li>  In the new versions of two completely different systems and architectures, such as ONTAP and AltaVault, SnapMirror replication is supported, which was previously supported only between two FAS systems. </li><li>  Support for data replication located on the storage system with the hardware platform NetApp E-Series and OS SANtricity to the cloud to expand the backup site there. </li><li>  Integration of SolidFire and StorageGRID. </li><li>  StorageGRID and AltaVault </li><li>  and of course the possibility of FAS &lt;-&gt; <a href="https://habrahabr.ru/post/279907/">ONTAP Cloud</a> / <a href="https://habrahabr.ru/post/303146/">ONTAP Select</a> replication </li></ul><br>  ‚Üí <a href="https://cloud.netapp.com/hubfs/Data-Fabric/Data%2520Fabric%2520WP%2520April%25202017.pdf">Read more about DataFabric</a> <br><br><h4>  StorageGRID object storage </h4><br>  StorageGRID is an object storage for data that rarely changes: photos, videos, archives, backups.  What is object storage can <a href="https://habrahabr.ru/post/279743/">be found in</a> more detail <a href="https://habrahabr.ru/post/279743/">in the article.</a> <br>  This is a software that can be installed with a cloud provider and is licensed for each terabyte by month: there is a customer who consumes the resource and pays for it ‚Äî there is money, a license is bought;  no money - not bought. <br><br><h4>  Snapshots </h4><br>  Who worked with VMware and Hyper-V snapshots on high-load virtual machines?  Do they work badly?  The more snapshots, the worse the virtual machine works, the longer they are deleted and this deletion even more kills the performance of this machine.  For <a href="https://habrahabr.ru/post/244923/">NetApp ONTAP, snapshots are a trifle</a> , no performance issues when creating or deleting.  Many integrations with backup software such as Veeam or CommVault, etc., allowing you to capture consistent snapshots.  <a href="https://habrahabr.ru/post/321366/">VMware vVol</a> allows you to capture hardware-assistant snapshots with a granular storage for each individual virtual machine, which eliminates the problems caused by hypervisor snapshots.  Such non-inhibiting snapshots are beneficial for backup and DR.  Where it is possible to use hardware-assistant storage snapshots that do not affect performance, you should use them everywhere. <br><br><h4>  New version of ONTAP 9.2 </h4><br>  I recall that <a href="https://habrahabr.ru/post/328444/">ONTAP is firmware 9.2</a> , which is installed either on the FAS / AFF hardware platform or is available as software (SDS) <a href="https://habrahabr.ru/post/303146/">with a virtual machine on your server (ONTAP Select)</a> or in a <a href="https://habrahabr.ru/post/279907/">public cloud (ONTAP Cloud)</a> .  A couple of months ago, ONTAP firmware was released, most current customers can now upgrade to 9.2. <br><br>  In my previous article, I painted a <a href="https://habrahabr.ru/post/328444/">new functionality available in firmware 9.2</a> . <br><br><h4>  Replication </h4><br>  Replication for DR on FAS or ONTAP Select.  Works on the basis of snapshots between two nontaps.  So this replication with FabricPool allows you to save not only on the main site.  You can put the storage on the backup site with 10-20% of the space from the main one, and again mix everything else into a cold level. <br><br><h4>  Tiering or FabricPool </h4><br>  The first thing to say about FabricPool is that, like any tiring technology, it is designed primarily to save storage resources, and this is customer money.  If the budget is not limited, then you can stupidly buy the All Flash system and store snapshots on it for 3 years, plus buy one more of the same system on the backup site, <a href="https://habrahabr.ru/post/279989/">build a metro cluster</a> and a third on the backup backup site.  But as a rule, there is no money for such an architecture, but there is still interest in the amount of SSD for a product (or some important part of it), but there are no longer any backups, snapshots or reservations.  This is where FabricPool comes to the rescue. <br><br>  FabricPool is a technology that allows you to combine fast and slow storage to create a hybrid pool (aggregate) consisting of SSD and S3 cloud, like how it works in FlashPool caching technology.  As in FlashPool, all data first falls on the hot SSD level, and the cold data are then shifted to a slow and cheap level, this saves expensive SSD space. <br><br>  FabricPool is a technology implemented as part of the DataFabric strategy, which, in turn, should expand the integration of all NetApp products and expand the possibilities of data mobility. <br><br>  When NetApp makes a new feature, it doesn‚Äôt look at others and doesn‚Äôt try to add a tick feature.  Instead, a technology is released that is really well thought out and will be in demand by consumers.  This also applies to the new Tiering feature FabricPool.  As the demand for SSDs grows, the number of installations and interest in this technology increases, so NetApp has released the FabricPool functionality that makes it possible to more efficiently use expensive SSD drives. <br><br>  FabricPool is a cold data offset technology with SSD aggregate (AFF, FAS, ONTAP Cloud systems) to a cold object level - to Amazon S3 cloud or to <a href="https://habrahabr.ru/post/279743/">NetApp StorageGRID</a> object <a href="https://habrahabr.ru/post/279743/">storage system</a> . <br><br>  Implementing FabricPool to move data to Object Storage will consist of two stages.  In 9.2RC, the ability to shift only snapshots will be available.  And the next stage will be the possibility of shifting cold data from the active file system of the volyum to the cold level, available from version 9.2GA.  So far, FlexFroup, MetroCluster, ONTAP Select, SnapLock, etc. are not supported with FabricPool. <br><br><h5>  FabricPool on FAS / AFF and tertiary object cold data storage </h5><br>  To use the FabricPool functionality on FAS / AFF systems with Amazon S3 tertiary object storage, you must purchase per terabyte licenses that are added to ONTAP, adding a FabricPool license immediately adds 10TB.  Then you can add by terabyte. <br><br><h5>  FabricPool on FAS / AFF and StorageGRID </h5><br>  For the operation of the FabricPool functionality on FAS / AFF storage systems, a license is only necessary if you are using Amazon S3.  In the case of NetApp StorageGRID, a license for running FabricPool is not needed. <br><br><h5>  FabricPool and ONTAP Cloud </h5><br>  For ONTAP Cloud systems living in a public cloud, there is also no lossytech licensing from ONTAP Cloud to enable FabricPool - the customer only pays for the actual cold space consumed in the S3 object storage directly to the cloud provider.  Currently, FabricPool is only supported on the ONTAP Cloud for Amazon. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/6OSBxDuv0s8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><h5>  FabricPool and Disaster Recovery </h5><br>  As before, SnapMirror replication is used to build a DR site and transfer data between two ONTAP storage systems.  Very often, to save finances, a simpler and cheaper storage was bought at the DR site.  Now FabricPool allows a slightly different approach to this issue.  For example, if an AFF system is used at the main site, then a backup system can be placed on the same or similar, but still AFF system.  In All Flash repositories, most controllers do not eat off controllers, but SSD drives themselves.  Now, with FabricPool, you can install an AFF system on the backup platform, but with only 10% -20% of the usable space from the main storage, since cold data will go to the cold object level.  Allowing thus to save on disks, but not to put controllers that would not pull performance.  If there is no room for new hot blocks on the hot level, they will be read directly from the cold object storage. <br><br><h4>  How can FabricPool be interesting for cloud providers? </h4><br>  DSS provides a high-speed, but rather expensive level of data storage.  NetApp FabricPool storage owners is a way to save money.  And some customers simply according to the laws of their country can not take all or part of their data abroad in Amazon S3.  For the cloud provider, FabricPool is a new customer and additional storage service. <br><br><h4>  What does the cloud provider need? </h4><br>  FabricPool technology is Tiering technology that allows new and existing customers to shift snapshots (backups) and cold data of productive storage systems using SSD (expensive level) from their data centers to a public cloud to a cold (cheap level).  In a public cloud, you need to deploy NetApp StorageGrid software (available as VMware, KVM and Docker images).  For cloud-based providers, NetApp StorageGrid is licensed every month by terabyte, which is very convenient: while there are customers for this service, the cloud provider pays for licenses, no - it does not.  For owners of NetApp storage systems that will use the StorageGrid license located at the cloud provider, you do not need to buy a license. <br><br><h4>  Calculate the cost of FabricPool cold data storage service provider </h4><br>  The cost will include the following basic costs for the provider: <br><br><ul><li>  StorageGrid software has system requirements (CPU, Memory), respectively, these are costs for the provider </li><li>  The customer will connect via IP to the service provider, respectively, this or just an external white IP address with a forwarding of the https port on the StorageGrid inside the cloud.  External white IP and maybe FireWall cost some money;  Or is it, again, a white IP for connecting via VPN, according to which the customer will overtake the cold data.  Building a VPN also costs money;  or is it a dedicated communication channel </li><li>  The disk space that will be used to deploy StorageGrid nodes is allocated only once, does not change throughout the life of the node.  But the number of nodes can grow over time as the load and the growth of occupied space.  The minimum number of 5 StorageGrid nodes (can be virtual machines): 3 nodes (storage node) + 2 administrative nodes (Gateway node &amp; Admin node). </li><li>  Monthly - NetApp per terabyte licensing </li><li>  And the actual disk space occupied by the storage of the actual data from customers. </li></ul><br><h4>  findings </h4><br>  FabricPool technology allows ONTAP and object storage for cold data to be integrated as part of the DataFabric strategy.  For storage owners, FabricPool allows you to more efficiently use the expensive resources of All Flash systems and SSD aggregates, shifting inactive cold data to a cheap level, which in turn makes NetApp All Flash storage systems more affordable for the cost of ownership.  Object storage is easily scaled as it grows and theoretically has no space restrictions (current Soft Limit 70PB).  For cloud providers, FabricPool is a way to attract new customers who have previously stored productive data only on their equipment. </div><p>Source: <a href="https://habr.com/ru/post/330526/">https://habr.com/ru/post/330526/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../330516/index.html">Bank branches of the future and who needs them</a></li>
<li><a href="../330518/index.html">Addition to the analysis of algorithms</a></li>
<li><a href="../330520/index.html">‚ÄúIf you want your bugs to be fixed, write the most accurate test cases‚Äù - Sveta Smirnova about searching for MySQL bugs</a></li>
<li><a href="../330522/index.html">New products and services at Citrix Synergy</a></li>
<li><a href="../330524/index.html">How Yandex.Taxi technologies bring the future of personal and public transport closer</a></li>
<li><a href="../330530/index.html">Fast data recovery. How will LRC help us?</a></li>
<li><a href="../330532/index.html">iOS 11: what will be the video in the App Store and how to use it</a></li>
<li><a href="../330536/index.html">We generate arbitrary sequences on the findings of the Raspberry Pi board.</a></li>
<li><a href="../330538/index.html">Innovation Summit: ‚ÄúInnovation at every level‚Äù</a></li>
<li><a href="../330544/index.html">PostgreSQL indexes - 4</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>