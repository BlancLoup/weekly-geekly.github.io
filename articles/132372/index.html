<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The idea of ‚Äã‚Äãimplementing an I / O package in Java</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Perfection is achieved not when there is nothing left to add, 
 and when nothing can be taken away. 
 Antoine de Saint-Exupery, Wind, sand and stars, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The idea of ‚Äã‚Äãimplementing an I / O package in Java</h1><div class="post__text post__text-html js-mediator-article"><img align="right" src="https://habrastorage.org/getpro/habr/post_images/4f9/f8d/1a8/4f9f8d1a8ab92ee89a5438caa4a4f3d0.png"><br>  <i>Perfection is achieved not when there is nothing left to add,</i> <br>  <i>and when nothing can be taken away.</i> <br>  Antoine de Saint-Exupery, Wind, sand and stars, 1939 <br><br>  Often you have to design and develop I / O packages for Java applications.  On the one hand there is java.io, which is more than enough.  However, in practice it is rarely possible to get along with a set of standard classes and interfaces. <br><br>  The article provides a practical example of an idea for implementing I / O packages on the Java platform. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><h4>  Formulation of the problem </h4><br>  For clarity, consider an example.  Suppose you want to develop an I / O package for the matrix library.  At the same time, it is necessary to consider that: <br><ul><li>  Matrices (types / classes) can be countless, for example - dense, sparse; </li><li>  There may also be many input and output formats, for example, <a href="http://math.nist.gov/MatrixMarket/formats.html">MatrixMarket</a> , XML; </li></ul><br><h4>  MatrixMarket format </h4><br>  For the MatrixMarket format, the following matrix representations will be: <br><pre><code class="hljs">0 2 3 0</code> </pre> <br>  For a dense matrix: <br><br><pre> <code class="hljs pgsql">%%MatrixMarket matrix <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> <span class="hljs-type"><span class="hljs-type">real</span></span> general <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br>  For a sparse matrix: <br><br><pre> <code class="hljs mel">%%MatrixMarket <span class="hljs-keyword"><span class="hljs-keyword">matrix</span></span> coordinate real general <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre><br><h4>  Implementation </h4><br>  Thus, the implementation of an I / O package must be so flexible that when expanding the system (adding a new type of matrix, such as a block or adding a new format, such as CSV), it is not necessary to completely rewrite the package ‚Äî it would be sufficient only to implement an additional class ‚Äî a new class. matrix or new format. <br><br>  The attentive reader will notice the obvious similarity of the described problem, with the problem solved by the <a href="http://sourcemaking.com/design_patterns/bridge">bridge</a> pattern.  This is indeed the case and the article can be taken as an example of the implementation of the Bridge pattern for an I / O package. <br><br>  Returning to the basics <a href="http://habrahabr.ru/blogs/personal/84706/">of design patterns</a> , you can briefly describe the <a href="http://habrahabr.ru/blogs/complete_code/85137/">bridge</a> pattern as a separation of abstraction and implementation.  In our case - the separation of the matrix type (dense, block) from the format (XML, MatrixMarket).  This is achieved by introducing two interfaces - an abstraction interface and an implementation interface.  The abstraction interface should high-level describe the behavior of the package, for example, the methods readMatrix (), writeMatrix ().  While the implementation interface should describe low-level moments, such as readMatrixElement (), writeMatrixElement (), etc.  Then in the simplest case, the class diagram for an I / O package looks like this. <br><br><img src="https://habrastorage.org/storage1/6d8981b9/503b48f7/23eb455f/b8459ce9.png"><br><br>  The high-level writeMatrix () method is a sequence of low-level calls: <br><ul><li>  writeMatrixHeader () - write matrix type information; </li><li>  writeMatrixMeta () - write matrix dimension information; </li><li>  writeMatrixElement () - write information about the matrix element. </li></ul><br>  It turns out that the bridge pattern solves the problem described earlier, thanks to the separation of implementation and abstraction.  But in most cases, the objects that I / O packages work with already implement the serialization mechanisms (Srializable, Externalizable).  In our case, the Matrix interface already expands the Externalizable interface.  Why Externalizable and not Serizliable can be found in <a href="http://skipy.ru/technics/serialization.html">this</a> or <a href="http://software.intel.com/ru-ru/articles/Optimizaciya-dostupa-k-zagruzchikam-klassov-JVM-1/">this (author's work)</a> research.  In short - Externalizble works many times faster due to the reduced number of calls in the JVM / Reflection. <br><br>  And so the readExternal / writeExternal methods for a dense matrix look like this: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writeExternal</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ObjectOutput out)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ out.writeInt(rows); out.writeInt(columns); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; rows; i++) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; columns; j++) { out.writeDouble(self[i][j]); } } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">readExternal</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ObjectInput in)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException, ClassNotFoundException </span></span>{ rows = in.readInt(); columns = in.readInt(); self = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span>[rows][columns]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; rows; i++) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; columns; j++) { self[i][j] = in.readDouble(); } } }</code> </pre><br>  The attentive reader will say: ‚ÄúThis is exactly like the Bridge pattern!‚Äù And will be absolutely right.  The ObjectOutput and ObjectInput interfaces implement the template idea as implementation interfaces.  Then the question arises - ‚ÄúWhy would you produce classes like MatrixReader / MarixWriter and write duplicate readExterna () l / writeExternal () methods in them?‚Äù.  That's right - no need.  Moreover, DRY (Do not Repeat Yourself) methodology reminds us of this. <br><br>  In this case, we will try to revise the proposed implementation of the package, given that java.io already contains implementation interfaces - ObjectInput / ObjectOutput.  Those.  we only need to implement the classes MMOutoutStream / MMInputStream (MM = MatrixMarket) to use them instead of the standard classes for serialization ObjectInputStream / ObjectOutputStream.  Then the use will be very transparent: <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//  ObjectOutput mmos = new MMOutputStream(‚Äúfile.mm‚Äù); mmos.writeObject(a); mmos.close(); //  ObjectInput mmis = new MMInputStream(‚Äúfile.mm‚Äù); Matrix b = (Matrix) mmis.readObject();</span></span></code> </pre><br>  The code above is easily transformed into serialization code.  For this, it suffices to replace the classes MM * with Object *.  (MMOutputStream -&gt; ObjectOutputStream). <br><br>  There is only one unsolved problem.  The problem of separation of logical blocks of the file.  In our case, the file is divided into: <br><ul><li>  Header - header containing the type of the matrix; </li><li>  Meta - meta information containing the dimension of the matrix; </li><li>  Data - the data. </li></ul><br>  In the previous package architecture, separate methods were presented that allow recording this information separately.  However, ObjectOutput / ObjectInput interfaces obviously do not contain such methods.  Those.  methods in standard classes are lower level. <br><br>  To solve this problem, the author proposes to use special markers (bytes) denoting the boundaries of each of the blocks ‚Äî the header (HEADER_MARKER), Meta-information (META_MARKER) and the element (ELEMENT_MARKER). <br><br>  Then the writeExternal () / readExternal () methods will look like this: <br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writeExternal</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ObjectOutput out)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ out.writeInt(rows); out.writeInt(columns); out.writeByte(META_MARKER); <span class="hljs-comment"><span class="hljs-comment">//   META for (int i = 0; i &lt; rows; i++) { for (int j = 0; j &lt; columns; j++) { out.writeDouble(self[i][j]); out.writeByte(ELEMENT_MARKER); //   ELEMENT } } } @Override public void readExternal(ObjectInput in) throws IOException, ClassNotFoundException { rows = in.readInt(); columns = in.readInt(); in.readByte(); //   META self = new double[rows][columns]; for (int i = 0; i &lt; rows; i++) { for (int j = 0; j &lt; columns; j++) { self[i][j] = in.readDouble(); in.readByte(); //   ELEMENT } } }</span></span></code> </pre><br>  On the one hand, the recording of additional several bytes will not affect the performance of the application or the readability of the code, on the other hand, it gives an additional opportunity to implement external streams with support for various formats. <br><br>  From a stream point of view, in our case MMInputStream / MMOutputStream, the record will look like this: <br><ul><li>  Write to the buffer, any data received via the writeDouble () / writeInt () methods; </li><li>  When one of the markers is received, perform the operations associated with it based on the value buffer. </li></ul><br>  The following is the main part of the implementation of the MMOutputSteam class: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MMOutputStream</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OutputStream</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ObjectOutput</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writeByte</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> v)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (v) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> HEADER_MARKER: writeHeader(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> META_MARKER: writeMeta(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> ELEMENT_MARKER: writeElement(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writeInt</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> v)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ put(String.valueOf(v)); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writeDouble</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> v)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ put(String.format(Locale.US, <span class="hljs-string"><span class="hljs-string">"%.12f"</span></span>, v)); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writeObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Object obj)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (matrix <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> SparseMatrix) { put(SPARSE_HEADER); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (matrix <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> DenseMatrix) { put(DENSE_HEADER); } writeHeader(); matrix.writeExternal(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); flush(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writeHeader</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ out.write(<span class="hljs-string"><span class="hljs-string">"%%MatrixMarket "</span></span>); out.write(buffer[<span class="hljs-number"><span class="hljs-number">0</span></span>] + <span class="hljs-string"><span class="hljs-string">" "</span></span>); out.write(buffer[<span class="hljs-number"><span class="hljs-number">1</span></span>] + <span class="hljs-string"><span class="hljs-string">" "</span></span>); out.write(<span class="hljs-string"><span class="hljs-string">"real general"</span></span>); out.newLine(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writeMeta</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ dumpBuffer(); out.newLine(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writeElement</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ dumpBuffer(); out.newLine(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">put</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String value)</span></span></span><span class="hljs-function"> </span></span>{ buffer[length++] = value; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dumpBuffer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; length; i++) { out.write(buffer[i] + <span class="hljs-string"><span class="hljs-string">" "</span></span>); } } }</code> </pre><br><br><h4>  Summary </h4><br>  The proposed implementation of the package I / O in Java is quite a good application of the Bridge to existing hierarchies in the Java API.  The author hopes that the idea described in the article will become another convenient tool at the disposal of readers and will push them to additional reasoning on this topic. <br><br><h4>  * </h4><br>  The example described in the article is part of an open library for solving problems of linear algebra - <a href="http://code.google.com/p/la4j/">la4j</a> .  The considered implementation of the idea can be found in the <a href="http://code.google.com/p/la4j/source/browse/trunk/la4j/src/main/java/la4j/io/">la4j.io</a> package.  The current version supports only the format MatrixMarket. <br><br>  <b>PS</b> author topic = author la4j. </div><p>Source: <a href="https://habr.com/ru/post/132372/">https://habr.com/ru/post/132372/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../132362/index.html">Tanchiki on node.js</a></li>
<li><a href="../132364/index.html">MatLab and OOP optimization</a></li>
<li><a href="../132366/index.html">Approximate solution of algebraic and transcendental equations</a></li>
<li><a href="../132369/index.html">Simple HotSpot on FreeBSD</a></li>
<li><a href="../132370/index.html">Knowledge management in IT companies, is it necessary?</a></li>
<li><a href="../132374/index.html">Little Java Tricks. Part 2</a></li>
<li><a href="../132375/index.html">Let's design the UI elements correctly.</a></li>
<li><a href="../132376/index.html">vcprompt or sugar for the console</a></li>
<li><a href="../132377/index.html">CiEx will tell you which movie to watch - part 2</a></li>
<li><a href="../132378/index.html">Are you arrested? There is an Android application for this.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>