<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>New features of Hyper-V 2012 R2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon, dear colleagues and enthusiasts! 

 For a long time I did not write to Habr, there was somehow a lot of work, everyone didn‚Äôt get arou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>New features of Hyper-V 2012 R2</h1><div class="post__text post__text-html js-mediator-article">  Good afternoon, dear colleagues and enthusiasts! <br><br>  For a long time I did not write to Habr, there was somehow a lot of work, everyone didn‚Äôt get around, and there wasn‚Äôt really any reason. <br>  But time does not stand still, as well as our grocery cycle (smile). <br>  Summer is in the yard, preview versions of our Windows Server 2012 R2 and System Center 2012 R2 are released. <br>  So now we have enough for the near future for interesting articles and stories. <br>  I draw your attention to the fact that the preview and Windows Server and System Center come out simultaneously, which is planned for the final RTM versions of these products - which means, at last (even I personally enjoy this very much), the rulers are synchronized with each other, which eliminates a lot of embarrassments that arose earlier. <br><br><img src="https://habrastorage.org/storage2/a26/31b/f1f/a2631bf1fd18071bcaf4d7985d783c53.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Today, I would like to draw attention and talk (or rather, tell) about innovations in the area of ‚Äã‚Äãour hypervisor, Hyper-V, which is already ending up to version 2012 R2. <br><br><a name="habracut"></a><br><br><h1>  And what version of your VM? .. </h1><br><br>  Probably one of the main innovations is the emergence <b>of 2nd-generation virtual machines</b> , or a <b>2-nd generation VM</b> . <br>  But what is new in the emergence of a new generation of VM, what is the salt? <br><br>  First, the 2nd generation VMs are completely free from virtual iron junk, which are all sorts of COM ports, virtual keyboard and mouse drivers, in the virtual machine settings.  A virtual IDE controller can also be attributed to archaisms - which automatically means the <b>emergence of the ability to boot from virtual SCSI disks</b> , since  SCSI controller is now the only one. <br><br><img src="https://habrastorage.org/storage2/f0e/837/4cf/f0e8374cf2df5f7540ceb1fa4c8acc26.jpg"><br><br>  <b>Figure 1. Properties of the second-generation virtual machine and VM creation wizard.</b> <br><br>  It is worth noting that only WS2012 and Windows 8 are suitable as guest OSs for VMs of the 2nd generation. Also, you can automatically activate the guest server OS, Windows Server - without connection, without a KMS server, all you need is an activated host OS Windows Server 2012 R2 Datacenter. <br><br>  Also, second-generation virtual machines are <b>spared from the good old BIOS ...</b> <br>  Now he has <b>come to replace UEFI</b> , with all the consequences - a <b>secure boot of Secure Boot</b> , boot from synthetic network adapters (Legacy is all gone forever). <br><br><img src="https://habrastorage.org/storage2/fff/745/d98/fff745d987b6d0e2e8b13f9f1dd87a9b.jpg"><br><br>  <b>Figure 2. Virtual UEFI firmware download properties.</b> <br><br>  In terms of performance, these changes (and not only they) entail a <b>faster installation of the OS inside the VM</b> (50% faster) and <b>faster startup of the VM</b> (20% increase in speed). <br><br>  Also worth noting is the fact of changing the network virtualization settings on hosts with WS2012 R2. <br>  If earlier, on Windows Server 2012, it was required to get into the properties of a network adapter or network unit to include a special driver, now this function has automatically moved to the Virtual Switch. <br><br><img src="https://habrastorage.org/storage2/8c1/59c/2c7/8c159c2c7c1a36f230d465b44ebf8e37.jpg"><br><br>  <b>Figure 3. Comparison of network virtualization settings for WS 2012 (left) and WS 2012 R2 (right).</b> <br><br><h1>  Housing problem or moving virtual machines </h1><br><br>  Changes in Hyper-V 2012 R2 also apply to the relocation, or rather the migration of virtual machines. <br>  Good news for those.  who immediately thought about migrating the VM from the existing WS2012 to WS2012 R2. <br>  Live migration is supported without shared storage from the old version of the server to the new one, but not vice versa. <br>  Hosts can be fearlessly upgraded to live, with Vmkami, even if they have pictures and Saved States. <br>  Also, simple data migration was added by the mechanisms of data compression during transmission, which naturally leads to a decrease in the amount of data transferred, and consequently to a reduction in the migration time. <br>  Also, <b>RDMA and multichannel SMB (SMB-Multichannel) mechanisms</b> serve as a catalyst for the relocation process. <br>  It also became possible to export snapshots of virtual machines to separate VMs with a certain status, state. <br><br><img src="https://habrastorage.org/storage2/25f/d87/3ce/25fd873ce58854239d22d1bf66cd288c.jpg"><br><br>  <b>Figure 4. Export VM from snapshot.</b> <br><br>  It is also worth adding that the ability to export the VM as a whole, along with the state of the memory, was added to the export tokens.  Even in the case when the VM is turned on, which leads to the idea of ‚Äã‚Äãthe possibility of creating clones of working VMs - which is absolutely true, you can do it now too! <br><br><h1>  When is a penguin cold? .. </h1><br><br>  as for the penguin, I doubt that it can be very cold - it is, in general, created by nature in order to live in the cold.  As for the support of the ‚Äúpenguin category‚Äù OS, a pack of innovations also appeared here: <br><br>  1) Since in 2012 R2 you can change the size of a working VHDX disk without stopping the VM, this is true not only for Windows, but also on the linux VM. <br>  2) There is full support for dynamic memory for VMs with Linux guest OS. <br>  3) Improved video driver for the Linux kernel. <br>  4) Support for backup VMs from Linux for profit, including during the migration of VMs. <br><br><h1>  Cluster guest cluster home ... Cluster backup </h1><br><br>  If we recall the changes relating to virtual disks, there is an important innovation: <br>  There was an opportunity to create shared virtual hard disks (though on a physically shared storage) ‚Äîthat lets talk about creating guest virtual clusters, but from the point of view of SC VMM 2012 R2 create clusters of service templates!  This is the power of automation and the power of the cloud!  And, of course, WS 2012 R2 ... <br><br>  Well, if we are talking about a cluster, here, of course, the performance of the disk subsystem plays a very important role. <br>  Here we have the opportunity to create levels, performance ranges of the disk subsystem.  Also, the system has sufficient intelligence to determine the type of drive, whether it is SATA, SAS or SSD. <br><br>  And finally, improvements in the replication of virtual machines. <br>  For the first time this mechanism appeared in WS 2012, and it was intended, as you might guess, to solve disaster-resistant or backup scenarios using a backup data center. <br>  In WS2012 R2, this mechanism has evolved and now we have the opportunity to: <br><br>  1) Set the VM replication interval between the primary host and the backup ‚Äî the intervals can be 30 seconds, 5 minutes, and 15 minutes. <br>  2) The possibility of multi-step replication, i.e.  set up VM replication from host A to host B, and from host B to host C. <br><br><h2>  Happy end? .. Happy beginning! </h2><br><br>  Well, today we met with the innovations that appeared in Hyper-V Server 2012 R2, in WS 2012 R2 in the field of virtualization. <br>  I hope you have been useful and interested in reading the list of new products, they are of interest to you.  You can always <a href="http://technet.microsoft.com/ru-ru/evalcenter/dn205286">download the evaluation version of the preliminary release of Windows Server 2012 R2</a> from our website in order to independently verify how the new functions of our server OS work. <br><br>  <i>Respectfully,</i> <i><br></i>  <i>Fireman</i> <i><br><br></i>  <i>George A. Gadzhiev</i> <i><br><br></i>  <i>Information Infrastructure Expert</i> <i><br></i>  <i>Microsoft Corporation</i> </div><p>Source: <a href="https://habr.com/ru/post/188632/">https://habr.com/ru/post/188632/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../188616/index.html">Dell Latitude E6420 ATG - frame laptop for those who understand</a></li>
<li><a href="../188620/index.html">Swiss scientists have developed an artificial eye</a></li>
<li><a href="../188622/index.html">How to speed build 1000 VisualStudio C ++ projects</a></li>
<li><a href="../188626/index.html">Internet pirates turn young children into corrupt</a></li>
<li><a href="../188630/index.html">NodeJS is beautiful, modular, object or make it so with the help of redis and nohm</a></li>
<li><a href="../188638/index.html">Solving the problem of clustering using gradient descent</a></li>
<li><a href="../188640/index.html">The 7th international IT HR-conference ‚ÄúAnswer the answer!‚Äù</a></li>
<li><a href="../188644/index.html">GoIP SMS Server for Asterisk (Part 1)</a></li>
<li><a href="../188648/index.html">Edward Snowden received temporary asylum in Russia</a></li>
<li><a href="../188650/index.html">Bootstrap CSS Sprite: syntax sugar for <img /></a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>