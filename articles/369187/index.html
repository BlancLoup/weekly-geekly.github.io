<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How not accidentally crashed "Apollo 11"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The other day, in a normal office conversation, I said: ‚ÄúThe fact that we have a crutches warehouse here is normal, in all IT projects like this. Prob...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How not accidentally crashed "Apollo 11"</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/dbd/57f/c45/dbd57fc4531b451193a6154af3a1a193.jpg"><br>  The other day, in a normal office conversation, I said: ‚ÄúThe fact that we have a crutches warehouse here is normal, in all IT projects like this.  Probably, of all the software that made mankind, only in the programs for landing on the moon everything was beautiful. ‚Äù  Having said this, I climbed into the Internet to find additional facts on a brief popular science story for colleagues about computers and programs of the lunar module.  But one of the first <a href="https://www.netjeff.com/humor/item.cgi%3Ffile%3DApolloComputer">links</a> came from which it turned out that the crutches, and, terribly to say, there were bugs in the polished software that allowed man to land on the moon.  And the "Apollos" -11 and -12 were able to sit down, it turns out, only by luck. <br><a name="habracut"></a><br><h4>  Soft and iron </h4><br><img src="https://habrastorage.org/files/d77/d9f/3be/d77d9f3be8c74aaeb0d5af157bcca575.jpg"><br>  <i>On the left - the computer, on the right - the display and keyboard</i> <br><br>  On the command and lunar modules of the Apollo were identical computers, but with a different set of programs.  At the time, it was a fantastic high-tech, using integrated circuits, rather than individual diodes and transistors.  The ‚Äúmemory cycle‚Äù, roughly corresponding to the clock frequency of modern processors, took 11.7 microseconds.  But almost all operations required two cycles, so the effective clock frequency was 23.4 microseconds, or 43 kilohertz, 100,000 times slower than modern processors.  Computer memory was 36 thousand 14-bit words, which roughly corresponded to 64 kilobytes. <br><br><img src="https://habrastorage.org/files/33f/f4e/be0/33ff4ebe00904879830f6ee50f76f327.jpg"><br>  <i>Permanent memory on wire and ferrite cores</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The software for the lunar module was developed by approximately 300 people for seven years.  The moon landing program was called LUMINARY and was stored in permanent memory on ferrite cores, the wires through which were passed through by hand.  Creating such a block of memory took several months, so the software had to be ready in advance.  Over the years, "Apollo" program modified.  On the Apollo 11, there was a block with program version 99, and the final version (evidently landing Apollo 17) was number 209. The main designer of the landing program was Allan Klumpp, a recent graduate of the Massachusetts Institute of Technology. <br><br><img src="https://habrastorage.org/files/192/64f/761/19264f761c384711847fa1883aac9078.jpg"><br><br><h4>  Landing procedure </h4><br>  Landing on the moon from the point of view of the computer took place in three stages: <br><img src="https://habrastorage.org/files/210/f5a/ce8/210f5ace868d4cb28a8cb45084c15248.gif"><br>  <b>Program P63</b> was responsible for deceleration from orbital speed. <br>  <b>P64</b> was engaged in the withdrawal of the lunar module in the landing area. <br>  <b>P65</b> was responsible for the final landing stage. <br><br>  At the P64 program section, the pilot of the lunar module called the number that the computer displayed on the display.  The commander mentally noted this number on the scale, which was drawn on the porthole, and received a calculated landing point. <br><br><img src="https://habrastorage.org/files/041/a88/759/041a88759f38422db0009567f586f94b.jpg"><br><br><h4>  First bike: errors 1201 and 1202 </h4><br>  It is quite well known that when Armstrong and Aldrin began braking from the lunar orbit, their computer gave an error 1202. It was a very nervous moment, because the astronauts themselves did not know the meaning of this code.  Fortunately, TsUPa specialist Steve Bales (Steve Bales) wrote a list of all the errors in advance and quickly found the transcript - the computer did not have time to cope with all the work.  The Apollo computer was a real-time system, and he began to ignore some low-priority tasks, producing an error message.  After another minute, a new error appeared - 1201. But she was of the same type and did not disrupt the landing. <br><br>  After the landing was found the reason.  As often happens in complex technical systems, the reason was a whole chain of events.  First, after the start of braking, the instruction required to turn on the docking radar in case of an emergency interruption of landing.  Docking radar worked from a different power source than a computer.  This power supply had the same frequency, but was not synchronized in phase with the computer's power supply.  Small phase shifts on the radar looked to the computer like a jitter of an immobile in reality antenna.  Normally, when landing, the computer processor was loaded at ~ 85%.  ‚ÄúShaky Antenna‚Äù added another 13%.  And when Aldrin gave the computer command to calculate the difference between the real and calculated altitude on the landing radar, the computer was in overload conditions.  Later they thought that this event ‚Äústole‚Äù about a minute of CPU time, and out of 10 times per second the computer managed the stability of the lunar module 9 times.  By the way, a bug with a quivering antenna was seen on testing, but it was left because it only appeared once, and replacing the equipment with a new one could create more dangerous bugs. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/RONIax0_1ec%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgwJ_cMhZ9_xY-tR1W8Vt1g66dKtA" frameborder="0" allowfullscreen=""></iframe><br>  <i>That same landing, video turned for ease of perception, and added a lot of useful information.</i>  <i>The video mentions the program P66, it is an alternative version of one of the programs.</i> <br><br>  And <a href="https://geektimes.ru/post/186728/">here</a> you can look at the landing virtually, from different sides. <br><br><h4>  Bike second, happy error optimization </h4><br>  As is known, the Apollos -11 and -12 boarded successfully.  However, later, after the return of the astronauts, dangerous fluctuations were detected by means of telemetry in the engines of the landing stage - the thrust rose up and fell down.  Fortunately, the fluctuations did not become too strong and did not cause problems with the control or engine.  The investigation revealed that the cause of the fluctuations was software.  Programmers had access to a special document that described the parameters and properties of the lunar module.  In the section on the engine, it was stated that it has an inertia of 0.3 seconds.  That is, 0.3 seconds after the command to change the thrust, he had to reach a new level.  This should have been reflected in the program, so a special subroutine was written that measured the engine thrust according to the accelerometer and was performed in 0.3 seconds.  But the final version of this subroutine was written by another programmer who decided to improve it and make it faster.  The new version managed to execute in 0.2 seconds.  She was tested on the simulator, and she showed herself well there.  However, the engine developers improved it, and the delay time dropped to 0.075 seconds.  And to make this change in the document for programmers simply forgot.  Subsequent tests showed that if the subroutine for determining thrust worked for the initial 0.3 seconds, the system would be unstable, and the oscillations would become more and more, which would lead to jumps of the engine thrust from minimum to maximum and back; , for sure, broke landing. <br><br><h4>  Third Bike, about interpolation problems </h4><br>  I remind you that the P64 program aimed the lunar module at a point above the landing site.  However, since high degrees polynomials were used to calculate the trajectory, the trajectory, going to the aiming point, could be under the surface of the moon.  Because a high degree polynom could ‚Äújump‚Äù to the side (mathematicians and engineers know it): <br><br><img src="https://habrastorage.org/files/cb4/5a4/965/cb45a4965797425eb2407df6824f6137.jpg"><br>  <i>The higher the degree, the more this ‚Äúleap‚Äù can be, despite the fact that the graph passes through all the yellow dots.</i> <br><br><img src="https://habrastorage.org/files/436/f30/77d/436f3077d670408fbedae27ad29c49cf.jpg"><br><br>  The irony with this bug is that it did not fix it.  The program did not track potentially dangerous curves.  The bug did not manifest itself in real landings, but a not so impossible case could have caused it.  If the lunar module had gone a little off course and turned out to be over an unrecorded deep enough crater, the computer, receiving data from the landing radar, might have thought that it was higher than the trajectory, recalculate the curve for a steeper one and direct the lunar module to the sighting point, first diving into the Moon .  Separately delivers a recipe for dealing with a bug, if it were manifested - the astronauts would have to move the aiming point beyond the reach of the fuel reserves and keep it there for a while.  Have you ever performed strange actions to re-direct a buggy program?  You can congratulate yourself, astronauts might have to do the same ... </div><p>Source: <a href="https://habr.com/ru/post/369187/">https://habr.com/ru/post/369187/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../369177/index.html">Hackers hacked popular Twitter accounts and distributed porn links</a></li>
<li><a href="../369179/index.html">Hobby IT: As a system administrator and project managers become the creators of trading robots</a></li>
<li><a href="../369181/index.html">Sberbank recognizes you by sight (and by voice)</a></li>
<li><a href="../369183/index.html">What are the leading experts in the field of robotics</a></li>
<li><a href="../369185/index.html">YouTube has published the rating of the most popular videos in the Russian segment for 2015</a></li>
<li><a href="../369189/index.html">Review of the portable audio player Cowon Plenue M: The thing is in the sound</a></li>
<li><a href="../369193/index.html">Next year, Adidas will start selling sneakers made by robots in Germany</a></li>
<li><a href="../369195/index.html">Japanese probe "Akatsuki" sent the first photos of Venus</a></li>
<li><a href="../369197/index.html">SpaceX launches Thaicom 8: second attempt [text translation] [first landing landing successful]</a></li>
<li><a href="../369199/index.html">DataArt Forecasts for 2016 on trends in corporate software</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>