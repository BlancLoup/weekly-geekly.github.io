<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Configuring code style in Visual Studio 2017</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I bring to your attention a translation of a useful article on how to configure and apply the rules for writing code in your team. 

 Visual Studio 20...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Configuring code style in Visual Studio 2017</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/41b/dba/496/41bdba49618542d1a9a29c2fd2e0dd19.jpg"><br>  <i>I bring to your attention a translation of a useful <a href="https://blogs.msdn.microsoft.com/dotnet/2016/12/15/code-style-configuration-in-the-vs2017-rc-update/">article</a> on how to configure and apply the rules for writing code in your team.</i> <br><br>  Visual Studio 2017 provides adherence to style of writing code and support EditorConfig.  The new version includes more rules for the code style and allows developers to customize the style of code through EditorConfig. <br><a name="habracut"></a><br><h3>  What is EditorConfig? </h3><br>  <a href="http://editorconfig.org/">EditorConfig</a> is an open source file format that helps developers customize and apply formatting rules and coding style conventions to get more readable codebases (codebases).  EditorConfig files are easily incorporated into version control and are applied at the repository and project levels.  EditorConfig agreements override their equivalents in your personal preferences, so agreements from the codebase take precedence over the individual developer. <br><br>  The simplicity and versatility of EditorConfig make it an attractive choice for the code style command parameters in Visual Studio (and beyond).  Microsoft, together with the EditorConfig community, added support for it in Visual Studio and continues to expand the format, including the code style parameters specific to the .NET environment. <br><habracut><br><h3>  EditorConfig and .NET Code Style </h3><br>  Developers have the ability to globally customize their personal preferences for writing code in Visual Studio through the <i>Tools&gt; Options</i> menu.  Now, in VS 2017, you can customize your coding conventions in the EditorConfig file, and any violations of the rules immediately get into the editor as you type.  This means that now, regardless of which side you are in the code style debate, you can choose the agreements that you think are best for any part of your codebase ‚Äî be it a whole solution or only some legacy section for which you do not want to change these conventions.  To demonstrate some of the features of this functionality, you can take a look at the changes that were made to use EditorConfig in the <a href="https://github.com/dotnet/roslyn">Roslyn</a> repository. <br><habracut><br><h4>  Beginning of work </h4><br>  Roslyn takes full advantage of the style described in the <a href="">.NET Foundation Coding Guidelines</a> .  Setting rules in the EditorConfig file will allow developers to track violations of their encoding rules as they are entered, and not during the code review process. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To determine the code style and formatting options for the entire repository, simply add the <i>.editorconfig</i> file to the top level directory.  To set these rules as ‚Äúroot‚Äù parameters, add the following to <i>.editorconfig</i> (you can do this in your own / IDE editor): <br><br> <code># top-most EditorConfig file <br> root = true <br></code> <br>  EditorConfig parameters are applied from top to bottom with overrides, that is, you describe the general rules at the top and override them further down in your directory tree as necessary.  In the Roslyn repository, the files in the Compilers directory do not use var, so we can simply create another <i>.editorconfig</i> file that contains different settings for the var preferences, and these rules will only apply to files in that directory.  Note that when we create this EditorConfig file in the Compilers directory, we don‚Äôt need to add <code>root = true</code> (this will allow you to inherit the rules from the parent directory or, in this case, from the top-level Roslyn directory). <br><br><img src="https://habrastorage.org/files/e67/da3/628/e67da36285f14730b05e4dd8bce7aecb.png"><br><habracut><br><h4>  Code Formatting Rules </h4><br>  Now that we have EditorConfig files in our directories, we can begin to define some rules.  There are eight formatting rules that are usually supported through EditorConfig in editors and IDEs: <i>charset, indent_style, indent_size, tab_width, end_of_line, trim_trailing_whitespace, insert_final_newline</i> and <i>max_line_length</i> .  Starting with VS 2017, only the first five formatting rules are supported.  To add a formatting rule, specify the file type (s) to which you want to apply the rule, and then define your own rules, for example: <br><habracut><br> <code># Code files <br> [*.cs,*.csx,*.vb,*.vbx] <br> indent_size = 4 <br></code> <br><h4>  Code Style Rules </h4><br>  After collaborating with the EditorConfig community, the file format was expanded to support the style of the .NET code.  The set of coding conventions has also been expanded, which can be configured and applied to include rules such as preference for <a href="http://ttps//msdn.microsoft.com/en-us/library/bb384062.aspx">collection initializers</a> , <a href="https://blogs.msdn.microsoft.com/csharpfaq/2014/11/20/new-features-in-c-6/">expression-bodied members</a> , <a href="https://blogs.msdn.microsoft.com/dotnet/2016/08/24/whats-new-in-csharp-7-0/">C # 7 pattern matching,</a> and more! <br><br>  Let's look at an example of how coding conventions can be defined: <br><br> <code># CSharp code style settings: <br> [*.cs] <br> csharp_style_var_for_built_in_types = true : none <br> csharp_style_var_elsewhere = true : error <br> csharp_style_expression_bodied_methods = false : suggestion <br> csharp_style_throw_expression = true : warning <br></code> <br>  The left side is the name of the rule, the right side indicates the rule settings: preference level and execution level, respectively. <br><habracut><br><ul><li>  Preference settings can be either <b>true</b> (meaning ‚Äúuse this rule‚Äù) or <b>false</b> (which means ‚Äúdo not use this rule‚Äù). </li><li>  The execution level is the same for all Roslyn based code analysis and can be from the least serious to the most serious: <b>none</b> , <b>suggestion</b> , <b>warning</b> or <b>error</b> . </li></ul><br>  Ultimately, your build will fail if you break a rule that is enforced at the severity level of the error.  To see all the code style rules available in VS 2017, and the final Roslyn code style rules, see Roslyn <i><a href="https://github.com/dotnet/roslyn/blob/master/.editorconfig">.editorconfig</a></i> or read the <a href="https://docs.microsoft.com/en-us/visualstudio/ide/editorconfig-code-style-settings-reference">documentation</a> . <br><br>  If you need to rethink the different levels of severity and what they do: <br><br><img src="https://habrastorage.org/files/e18/e44/b0f/e18e44b0f4c54df188fa87d143e07bf4.png"><br><br>  Tip: The gray dots that indicate the sentence are rather gray.  To diversify your life, try changing them to a nice pink.  To do this, go to <i>Tools&gt; Options&gt; Environment&gt; Fonts and Colors&gt; Suggestion ellipses (...)</i> and set the parameter to the following custom color (R: 255, G: 136, B: 196): <br><br><img src="https://habrastorage.org/files/2b3/265/514/2b3265514016449384087f9b761cf879.png"><br><habracut><br><h4>  Experience in Visual Studio </h4><br>  When you add an EditorConfig file to an existing repository or project, the files are not automatically checked to match your conventions.  When you add or edit an EditorConfig file to apply the new settings, you must close and open all open files that you have.  To ensure that the entire document adheres to the code formatting rules defined in your preferences, you can use the Format Document (Ctrl + K, D).  This check does not change the code, but you can use the quick action menu (Ctrl +.) To apply the code style fix to all entries in the document / project / solution. <br><br><img src="https://habrastorage.org/files/315/d63/3e7/315d633e787b4203890e58126a708858.png"><br><br>  Tip: To check that your document uses spaces or tabs, turn on <i>Edit&gt; Advanced&gt; View White Space</i> . <br><br>  But how do you know if an EditorConfig file is applied to your document?  You can take a look at the lower status bar in Visual Studio and see this message: <br><br><img src="https://habrastorage.org/files/502/be3/8d8/502be38d84324e0ebb703753abcc86f0.png"><br><br>  Note that this means that the EditorConfig files override any code style settings that you have configured in the <i>Tools&gt; Options</i> menu. <br><br>  To get support for language services when editing the EditorConfig file in VS, download the <a href="https://marketplace.visualstudio.com/items%3FitemName%3DMadsKristensen.EditorConfig">EditorConfig Language Service</a> extension. <br><habracut><br><h3>  Conclusion </h3><br>  Visual Studio 2017 is just a step in the configuration agreement for writing code.  To learn more about the support for EditorConfig in Visual Studio 2017, read the documentation. <br><br>  Thanks for attention! </habracut></habracut></habracut></habracut></habracut></habracut></habracut></div><p>Source: <a href="https://habr.com/ru/post/323966/">https://habr.com/ru/post/323966/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../323954/index.html">Translation of excerpts from Robert Heinlein‚Äôs book, Take Your Government Back - part 22</a></li>
<li><a href="../323956/index.html">Bake - run bash bash</a></li>
<li><a href="../323960/index.html">How much should your SaaS cost? I analyzed 1530 services and received such graphics</a></li>
<li><a href="../323962/index.html">Automating the desktop GUI in Python + pywinauto: how to make friends with MS UI Automation</a></li>
<li><a href="../323964/index.html">TargetSummit 2017: Prisma, AppsFlyer, Aviasales, KAYAK and 30 more speakers will speak in Moscow on March 29</a></li>
<li><a href="../323972/index.html">What was accepted in C ++ 17 is a photograph of Bjarne Straustrup and a survey for C ++ 20</a></li>
<li><a href="../323974/index.html">Want to know everything about web and mobile development? Ask me how: DevCon School IV</a></li>
<li><a href="../323976/index.html">How to wake up an application in iOS: on schedule and not</a></li>
<li><a href="../323978/index.html">Intel and Google - we are friends "clouds"</a></li>
<li><a href="../323980/index.html">Cloud Digest: 35 materials on information security and data center technology development</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>