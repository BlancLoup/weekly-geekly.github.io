<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to make code readable</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Someday we all wrote (and some write) bad code, and hopefully we all work on improving our skills, and not just reading articles like this. 
 Why do w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to make code readable</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/getpro/habr/post_images/9f7/d4e/dac/9f7d4edacc48f0d12bc8e501d349aeb0.jpg" alt="How to make code readable"></p><br><p>  Someday we all wrote (and some write) bad code, and hopefully we all work on improving our skills, and not just reading articles like this. </p><br><h3 id="zachem-nam-pisat-horoshiy-kod-a-ne-prosto-proizvoditelnyy-kod">  Why do we need to write good code, and not just productive code? </h3><br><p>  Although the performance of your product or site is important, it is also important how your code looks.  The reason for this is that <strong>not only the machine reads your code</strong> . </p><a name="habracut"></a><br><p>  First, sooner or later you will have to re-read your own code, and when that time comes, only well-written code will help you understand what you have written, or figure out how to fix it. </p><br><p>  Secondly, if you work in a team or collaborate with other developers, all team members will read your code and try to interpret it as they understand it.  To make it easier for them, it is important to follow certain rules when naming variables and functions, limit the length of each line, and preserve the structure of your code. </p><br><p>  Finally, let's look at a specific example. </p><br><h2 id="chast-1-kak-opredelit-plohoy-kod">  Part 1: How to identify bad code? </h2><br><p>  The easiest way to identify bad code, in my opinion, is <strong>to try to read the code as if it were a sentence or a phrase</strong> . </p><br><p>  For example, take a look at this code: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/552/48c/156/55248c156e1ada5ace2f4cc00c42473a.jpg" alt="Screenshot of the bad version of the traverseUpUntil function"></p><br><p>  Screenshot of the bad version of the traverseUpUntil function </p><br><p>  The above function takes an element and a conditional function and returns the closest parent node that satisfies the conditional function. </p><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> traverseUpUntil = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">el, f</span></span></span><span class="hljs-function">) =&gt;</span></span> {</code> </pre> <br><p>  Based on the fact that the code should be read as plain text, the first line has three gross deficiencies. </p><br><ul><li>  <strong>Function parameters are not read as words</strong> . </li><li>  Suppose <code>el</code> can be understood, since such a name is usually used to designate an element, but the name of the parameter <code>f</code> does not explain anything at all. </li><li>  The name of the function can be read like this: ‚Äúmove until el passes f‚Äù, which is probably better read as ‚Äúmove until f passes for el‚Äù.  Of course, the best way to do this is to allow functions to be called as <code>el.traverseUpUntil(f)</code> , but this is another problem. </li></ul><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> p = el.parentNode</code> </pre> <br><p>  This is the second line.  Again the problem with the names, this time with the variable.  If someone looked at the code, then, most likely, they would understand what <code>p</code> .  This is the <code>parentNode</code> the <code>el</code> parameter.  However, what happens when we look at <code>p</code> used elsewhere, <strong>we no longer have a context that explains what it is</strong> . </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (p.parentNode &amp;&amp; !f(p)) {</code> </pre> <br><p>  In the next line, the main problem we face is a misunderstanding of what it means or does <code>!f(p)</code> , because <strong>f can mean anything</strong> .  It is assumed that the person reading the code should understand that <code>!f(p)</code> is checking the current node for satisfaction of a particular condition.  If it passes, the cycle is interrupted. </p><br><pre> <code class="javascript hljs">p = p.parentNode</code> </pre> <br><p>  Everything is clear here. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> p</code> </pre> <br><p>  It is not entirely obvious what is returned due to an incorrect variable name. </p><br><h2 id="chast-2-davayte-otrefaktorim">  Part 2: Let's Refresh </h2><br><p><img src="https://habrastorage.org/getpro/habr/post_images/2ac/501/5fb/2ac5015fbc682423616325ec10dddf5e.jpg" alt="Screenshot of the good version of the traverseUpUntil function"></p><br><p>  Screenshot of the good version of the traverseUpUntil function </p><br><p>  First we change the parameter names and their order: <code>(el, f) =&gt;</code> to <code>(condition, node) =&gt;</code> . <br>  Perhaps you wonder why, instead of ‚Äúelement (Russian <em>element</em> ), I used‚Äú node ‚Äù(Russian <em>node</em> ).  I used it for the following reasons: </p><br><ul><li>  We write code in terms of nodes, for example <code>.parentNode</code> , so why not make it consistent. </li><li>  ‚ÄúNode‚Äù is shorter than ‚Äúelement‚Äù, and the <strong>meaning is not lost</strong> . </li></ul><br><p>  Then we go to the variable names: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> parent = node</code> </pre> <br><p>  It is very important to <strong>fully disclose the value of your variable in its name</strong> , so the ‚Äúp‚Äù is now ‚Äúparent‚Äù.  You may also have noticed that now we are not starting with getting the parent node <code>node.parentNode</code> , instead we only get the node. </p><br><p>  Go ahead: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { parent = parent.parentNode } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (parent.parentNode &amp;&amp; !condition(parent))</code> </pre> <br><p>  Instead of the usual <code>while</code> I chose the <code>do ... while</code> .  This means that we need to get the parent node every time before checking the condition, and not vice versa.  Using the <code>do ... while</code> also helps to read the code as plain text. </p><br><p>  Let's try to read: <strong>"Assign the parent node to the parent to the parent, as long as the parent has the parent node, and the condition function does not return true</strong> . <strong>"</strong>  Already much clearer. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> parent</code> </pre> <br><p>  Often, developers prefer to use some kind of common variable <code>ret</code> (or <code>returnValue</code> ), <strong>but this is a pretty bad practice</strong> .  If you correctly name your returned variables, it becomes obvious what is being returned.  However, sometimes the functions can be long and complex, which leads to great confusion.  In this case, <strong>I would suggest dividing your function into several functions</strong> , and if it is still too complex, then perhaps adding comments can help. </p><br><h2 id="chast-3-uproschenie-koda">  Part 3: Code Simplification </h2><br><p>  Now that you've made the code readable, it's time <strong>to remove the unnecessary code</strong> .  I'm sure some of you have already noticed that we don‚Äôt need the <code>parent</code> variable at all. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> traverseUpUntil = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">condition, node</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { node = node.parentNode } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (node.parentNode &amp;&amp; !condition(node)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> node }</code> </pre> <br><p>  I simply removed the first line and replaced ‚Äúparent‚Äù with ‚Äúnode‚Äù.  So I skipped the unnecessary step of creating a ‚Äúparent‚Äù and went straight into the loop. </p><br><h3 id="no-chto-naschyot-imeni-peremennoy">  But what about the variable name? </h3><br><p>  Although ‚Äúnode‚Äù is not the best description for this variable, it is satisfactory.  But let's not dwell on this, let's rename it.  What about "currentNode"? </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> traverseUpUntil = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">condition, currentNode</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { currentNode = currentNode.parentNode } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (currentNode.parentNode &amp;&amp; !condition(currentNode)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> currentNode }</code> </pre> <br><p>  That's better!  Now, when we read the method, we know that <code>currentNode</code> always the node we are in now, instead of being ‚Äúsome‚Äù node. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/421867/">https://habr.com/ru/post/421867/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../421851/index.html">The problem of the owl and the globe: connecting two assemblies with identical namespaces and class names</a></li>
<li><a href="../421855/index.html">Projectors for the home: the best ‚Äúby version‚Äù, ultra-short focus, champions in brightness and speed</a></li>
<li><a href="../421857/index.html">ToFoIn v 1. Backup Gateways and Switch Between External Channels on FreeBSD</a></li>
<li><a href="../421859/index.html">Notes IoT provider. Devices and outbid</a></li>
<li><a href="../421863/index.html">New way to create nanotubes: now in color</a></li>
<li><a href="../421869/index.html">Creating an Android application for the detection of persons in real time using the Firebase ML Kit</a></li>
<li><a href="../421871/index.html">How to miserably fail migration from Java to Kotlin in Android application</a></li>
<li><a href="../421873/index.html">Design Patterns in Kotlin</a></li>
<li><a href="../421875/index.html">SENS-Diagnosis. Intracellular ‚Äúdebris‚Äù biomarkers</a></li>
<li><a href="../421877/index.html">Deep immersion in the .idea folder in Android Studio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>