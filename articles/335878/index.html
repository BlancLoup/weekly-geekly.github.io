<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Pragmatic functional programming</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The move to functional programming began in earnest about a decade ago. We have seen languages ‚Äã‚Äãlike Scala, Clojure and F # attract attention. This m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Pragmatic functional programming</h1><div class="post__text post__text-html js-mediator-article"><p>  The move to functional programming began in earnest about a decade ago.  We have seen languages ‚Äã‚Äãlike Scala, Clojure and F # attract attention.  This movement was more than just the usual admiration "Oh, cool, new language!".  There was something really driving this movement - or so we thought. </p><a name="habracut"></a><br><p>  Moore's law told us that the speed of computers would double every 18 months.  This law was observed from the 1960s to the 2000s.  And then stopped.  Frustratingly.  The frequencies reached 3 GHz, and stabilized.  Limit the speed of light has been achieved.  The signals could not spread across the surface of the chip fast enough to ensure high speeds. </p><br><p>  According to this, the equipment developers have changed their strategy.  To achieve more bandwidth, they added more processors (cores).  To make room for these cores, they removed most of the caching and pipeline equipment from the chip.  Thus, the processors have become a little slower than they were, but they have become more.  Bandwidth has grown. </p><br><p>  I got my first dual-core machine 8 years ago.  Two years later, I purchased a quad car.  So, began multiplication of nuclei.  And we all understood that this will affect software development in a way that we could not even imagine. </p><br><p>  One of our reactions was the study of functional programming (FP).  The FP strongly interferes with the state change of the once initialized variable.  This has a profound effect on concurrency.  If you cannot change the state of a variable, you cannot enter the race condition.  If you cannot update the value of a variable, you cannot get the parallel update problem. </p><br><p>  This of course was considered a solution to the multi-core problem.  As the number of cores grows, concurrency, no, <em>synchronicity</em> would become an important issue.  The OP was supposed to provide a programming style that would reduce the problems of working with 1024 cores in a single processor. </p><br><p>  So everyone began to learn Clojure, or Scala, or F #, or Haskell, because they knew that the freight train was going on them, and they wanted to be prepared when he arrived. </p><br><p>  But the freight train never arrived.  Six years later, I purchased a quad-core laptop.  Since then, I have had two more.  It seems that the next laptop I get will also be quad-core.  Are we seeing another stabilization? </p><br><blockquote>  By the way, last night I watched the 2007 film.  The heroine used a laptop, looked through the pages in a trendy browser, used google, and received text messages on a clamshell phone.  Oh, it was dated - I could see that the laptop was of an older model, the browser was of an older version, and the phone was far from modern smartphones.  And yet these were not as impressive changes as the changes between 2000 and 2011 were. And even not nearly as impressive as the changes between 1990 and 2000. Do we observe stabilization in the pace of computer and software technologies? </blockquote><p>  Well, perhaps, FP is not such a critical skill as we once thought.  Maybe we will not be buried under the cores.  Maybe we should not worry about chips with 32,768 cores.  Maybe we can all relax and get back to updating our variables again. </p><br><p> I think that would be a mistake.  Big.  I think that would be as big a mistake as using <code>goto</code> .  I think it would be as dangerous as giving up dynamic dispatch. </p><br><p>  Why?  We can start with a cause that interests us first.  FP makes concurrency much safer.  If you create a system with multiple threads, or processes, then using the AF will greatly reduce the number of problems with race conditions and concurrent updates that you might have. </p><br><p>  Why more?  Well, the OP is easier to write, easier to read, easier to test and easier to understand.  Imagine how some of you are now waving their arms and shouting at the screen.  You tried the OP and found it somehow, but not simple.  All these maps and reduce, and all this recursion ‚Äî especially <em>tail</em> recursion ‚Äî is anything but <em>simple</em> .  Of course.  I understood.  But this is only the problem of dating.  As soon as you become familiar with these concepts - and the development of this acquaintance will take not so much time - programming will become <em>much</em> easier. </p><br><p>  Why will it be easier?  Because you do not need to track the status of the system.  The state of variables cannot change, so the state of the system remains unchanged.  And you do not need to track more than just the system.  You do not need to keep track of the state of a list, or a set, or a stack, or a queue, because these data structures cannot be changed.  When you put an element on top of a stack in the FP language, you create a new stack, rather than changing the old one.  This means that the programmer needs to juggle a smaller number of balls simultaneously in the air.  Less remembered.  Less tracked.  And for this code easier to write, read, understand and test. </p><br><p>  So which language should you use?  My favorite is Clojure.  The reason why Clojure is absurd is simple - this is a Lisp dialect, beautifully simple language.  Let me demonstrate. </p><br><p>  This is a function in Java: <code>f(x)</code> ; <br>  Now, to turn it into a function in Lisp, we simply transfer the first bracket to the left: <code>(fx)</code> . </p><br><p>  Now you know 95% Lisp, and you know 99% Clojure.  A bit of stupid syntax with parentheses - in fact, almost everything regarding the syntax in these languages.  They are <em>absurdly</em> simple. </p><br><p>  Now I know, maybe you saw a program in Lisp earlier and you didn‚Äôt like all these brackets.  And maybe you didn‚Äôt like <code>CAR</code> , <code>CDR</code> , <code>CADR</code> , etc.  Do not worry.  Clojure has a bit more punctuation than Lisp, so there are fewer parentheses.  Also in Clojure <code>CAR</code> , <code>CDR</code> and <code>CADR</code> replaced by <code>first</code> , <code>rest</code> and <code>second</code> .  In addition, Clojure is based on the JVM, and gives you full access to the entire Java library, and any other Java framework or library you want.  Compatibility is fast and simple.  Better yet, Clojure will provide full access to object-oriented JVM features. </p><br><p>  I hear you say ‚ÄúBut wait!‚Äù, ‚ÄúOP and OOP are mutually incompatible!‚Äù.  Who told you that?  That's nonsense!  Oh, it's true that in the OP you can not change the state of the object, but so what?  In the same way as adding a number to the stack gives a new stack, calling the method object that sets the values ‚Äã‚Äãgives a new object instead of changing the old one.  This is very easy to handle as soon as you get used to it. </p><br><p>  But back to the PLO.  One of the features of OOP that I find most useful, at the level of the software architecture, is dynamic polymorphism.  And Clojure provides full access to dynamic Java polymorphism.  Perhaps an example will explain this better. </p><br><pre> <code class="hljs kotlin">(defprotocol Gateway (<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">internal</span></span>-episodes [<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>]) (<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">public</span></span>-episodes [<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>]))</code> </pre> <br><p>  The code above defines a polymorphic interface for the JVM.  In Java, this interface would look like: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Gateway</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">List&lt;Episode&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getInternalEpisodes</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">List&lt;Episode&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getPublicEpisodes</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre> <br><p>  At the JVM level, the bytecode produced will be identical.  Indeed, a program written in Java would implement the interface if it were written in Java.  Similarly, a Clojure program can implement a Java interface.  In Clojure, it looks like this: </p><br><pre> <code class="hljs lisp">(<span class="hljs-name"><span class="hljs-name">deftype</span></span> Gateway-imp [db] Gateway (<span class="hljs-name"><span class="hljs-name">get-internal-episodes</span></span> [this] (<span class="hljs-name"><span class="hljs-name">internal-episodes</span></span> db)) (<span class="hljs-name"><span class="hljs-name">get-public-episodes</span></span> [this] (<span class="hljs-name"><span class="hljs-name">public-episodes</span></span> db)))</code> </pre> <br><p>  Notice the <code>db</code> constructor parameter, and how all these methods can access it.  In this case, interface implementations are simply delegated to some local functions that forward <code>db</code> . </p><br><p>  Perhaps the best is the fact that Lisp, and therefore Clojure, is (wait, wait) <em>homoiconic</em> , which means that the code is the data that the program can manipulate.  It is easy to see.  The following code <code>(1 2 3)</code> represents a list of three integers.  If the first element is a function, as in <code>(f 2 3)</code> , then it becomes a function call.  Thus, all function calls in Clojure are lists, and lists can be manipulated from code.  Thus, the program can create and execute other programs. </p><br><p>  The bottom line is this.  Functional programming is important.  You should study it.  And if you're worried about what language to learn, I recommend Clojure. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/335878/">https://habr.com/ru/post/335878/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../335868/index.html">Redux store: horizontal expansion</a></li>
<li><a href="../335870/index.html">What is DNSBL and how can you not get there</a></li>
<li><a href="../335872/index.html">HAProxy as LoadBalan—Åer for RDP truss. Reliable solution for $ 0</a></li>
<li><a href="../335874/index.html">How we migrated from InboxSDK to Gmail.js</a></li>
<li><a href="../335876/index.html">Traveling over the hill and back: how not to get a job abroad</a></li>
<li><a href="../335880/index.html">Nodebackup - saving data from containers (docker) and the rest</a></li>
<li><a href="../335882/index.html">Counting the number of links to an entry in the table via Foreign Keys</a></li>
<li><a href="../335884/index.html">New application for solving the problem P vs. NP</a></li>
<li><a href="../335886/index.html">Built-in buttons in Telegram Bot API</a></li>
<li><a href="../335890/index.html">‚ÄúTo each according to a quantum‚Äù: Will quantum computing become a commercial product?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>