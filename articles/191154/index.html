<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How we optimized the social button</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No social network can do without social buttons to distribute content. By installing the social network buttons on the site, its owner receives new op...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How we optimized the social button</h1><div class="post__text post__text-html js-mediator-article">  No social network can do without social buttons to distribute content.  By installing the social network buttons on the site, its owner receives new opportunities for distributing their content, and social networks - the activity they need within the network.  And that is why the development of social buttons requires meticulousness - you need to make sure that the buttons will work flawlessly for website owners and users. <br><br>  Under the cut - a list of problems that we identified during the work on our class button, as well as ways to solve them, which we checked on our own experience. <br><br><a name="habracut"></a><br>  <b>What for?</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ComScore, in its study The Power of Like 2, says that it was only from November 2011 to March 2012 that the share of ‚Äúsocial‚Äù (for example, endowed with calls to join the group on social networks) of Internet advertising in the United States increased from 8.2% to 15.2 %  There is also mentioned a significant increase in coverage due to the fact that messages from brands that liked the user, see in the tape of events his friends. <br><br>  But, in addition to the indisputable advantages, the installation of social buttons may entail certain risks associated with the stability of the site and its security.  When connecting a button, the developer must be sure that the button code is safe for users, and that the method of connecting it does not block the rendering of the site on which this button is installed. <br><br>  Classmates released their first Class button in 2010.  Since then, she has gone through several stages of change. <br><br>  <b>What's up, Doc?</b> <br><br>  So, what problems have we identified for ourselves? <br><br><ol><li>  Existence in the wild of several unmanaged versions of the button.  All previous implementations of the buttons did not allow us to automatically change the design and correct critical errors for those users who have already cached the button code in their browser. </li><li>  Synchronous, blocking loading buttons.  If there are problems on the service side, the websites that installed the button using the provided installation code could face extremely long loading of their pages. </li><li>  The amount of code.  Large, heavy buttons are loaded for a long time, in connection with which many regional sites copied the button code to themselves in order to optimize the load.  This only aggravated the problem described in the first paragraph. </li><li>  Low statistics collection.  We actively use statistical systems (we have already talked about this <a href="http://habrahabr.ru/company/odnoklassniki/blog/149391/">here</a> and <a href="http://habrahabr.ru/company/odnoklassniki/blog/156199/">here</a> ) and, in particular, we collect statistics on how people use our site.  The lack of good statistics in such an important component as the social button deprived us of the opportunity to qualitatively improve its effectiveness. </li><li>  The tight connection between the code on the server and the main site code made independent button updates difficult. </li></ol><br><br>  <b>What to do?</b> <br><br>  Realizing the existence of all these problems, we decided to change the situation by creating a new button.  Although outwardly, it is not too different from the previous ones, but it works much better.  What have we done? <br><br><ol><li>  We have developed a convenient <a href="http://apiok.ru/wiki/x/z4FhAQ">designer</a> that allows you to create a button with the look that best fits into the site design. </li><li>  Made the button connection code asynchronous - it does not block the rendering of the site on which the new button is installed.  Whatever happens to our servers, your site will work just as well as before. </li><li>  Optimized the button code - it became smaller and much faster.  The loading time of our button is several times less than that of other social buttons. </li><li>  Introduced the possibility of easy updates.  In case of problems, we can update the button for all users, regardless of whether they have cached our code before or not. </li><li>  Added all the statistics we need to continue to work effectively on improving the button. </li><li>  We created a separate infrastructure for the button, which later became a platform for other widgets, such as the groups widget.  A list of available widgets can be found <a href="http://apiok.ru/wiki/x/PoFPAQ">here</a> . </li></ol><br><br>  Not to be unfounded, we want to present to your attention a small analysis of the work of social buttons, displayed in the infographic in Fig.  one <br><br><img src="https://habrastorage.org/storage2/035/522/656/0355226566f724e99348664509a6fab4.png"><br><br>  Time rendering social buttons obtained using synthetic tests.  Several empty HTML pages were created, for each button its own, the onload time of these pages was measured several times and the average time for each of them was calculated.  Server rendering time obtained from public sources, so there is <a href="">only VK</a> , because  for other social networks, no such information was found on the Internet. <br><br>  In general, our team is very pleased with the result, and we can proudly say that our ‚ÄúClass‚Äù button is the fastest among all existing analogues.  In the comments, we accept questions about social buttons, and we will be happy if someone shares their optimization experience. </div><p>Source: <a href="https://habr.com/ru/post/191154/">https://habr.com/ru/post/191154/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../191144/index.html">September 16 Paypal will allow you to withdraw funds to Russian accounts. And how does it threaten?</a></li>
<li><a href="../191146/index.html">Case story on the promotion of the game on their own to the US App Store tops</a></li>
<li><a href="../191148/index.html">Sending a message from any user to anyone. Ã∂ $ Ã∂6Ã∂0Ã∂0Ã∂ Free;)</a></li>
<li><a href="../191150/index.html">GNUstep raises funds for full compatibility with Mac OS X</a></li>
<li><a href="../191152/index.html">Mercedes is testing a bunch of Google Glass and car electronics</a></li>
<li><a href="../191156/index.html">Nokia Lumia 925. Commercial use</a></li>
<li><a href="../191158/index.html">Give a man a fish, and he will be full all day. Offer him to learn programming, and he ...</a></li>
<li><a href="../191162/index.html">IT Jam 2013</a></li>
<li><a href="../191164/index.html">Many tests do not happen</a></li>
<li><a href="../191168/index.html">How to start using DI</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>