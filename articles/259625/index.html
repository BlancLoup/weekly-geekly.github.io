<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Isomorphic applications. Looking to the future with React</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Original: React To The Future With Isomorphic Apps 

 Isomorphic applications. Looking to the future with React 
 In software development, everything ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Isomorphic applications. Looking to the future with React</h1><div class="post__text post__text-html js-mediator-article">  Original: <a href="http://www.smashingmagazine.com/2015/04/21/react-to-the-future-with-isomorphic-apps/">React To The Future With Isomorphic Apps</a> <br><br><h4>  Isomorphic applications.  Looking to the future with React </h4><br>  In software development, everything often returns to normal.  For example, at the dawn of the development of the Internet, servers loaded the content immediately to the client.  Recently, with the development of modern web frameworks such as AngularJS and Ember, we see a tendency to process requests on the client side and use the server only for the API.  However, this is not the only trend.  Now there is a slow return, or rather a merger of these two architectures. <br><a name="habracut"></a><br><h5>  What is React? </h5><br>  If you use the definition from the <a href="http://facebook.github.io/react/">official site</a> , then <br><br><blockquote>  ‚ÄúReact is a JavaScript library that is used to create user interfaces.‚Äù </blockquote><br>  With React, you can create reusable components in web development.  Moreover, the components are created easily and simply.  This, in fact, is the goal of React. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h6>  What makes React special? </h6><br>  React quickly became popular among JavaScript developers, and there are a number of reasons for this.  One of them - React was developed by Facebook and now it is actively promoted and used.  This means that developers working with Facebook actively use React: they program, fix bugs, develop new functionalities, etc. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/498/af6/ba7/498af6ba7256928d2824e7513cb6c05f.jpg" alt="image" width="800"><br><br>  Another reason for the rapid popularity of React is that it is very different from AngularJS, Backbone.js, Ember, Knockout and other well-known MV * JavaScript frameworks that have appeared like mushrooms after rain in the last few years.  Most of these frameworks work on the DOM double binding scheme and update it depending on the events.  To use them, the presence of a DOM is mandatory, so when you work with one of these frameworks and want to render the markup on the server, you will have to use PhantomJS or something similar to it. <br><br><h5>  Virtual dom </h5><br>  If we consider the abbreviation MVC (model-view-controller), then React - rather, can be attributed to ‚ÄúV‚Äù, that is, to ‚Äúview‚Äù.  However, React performs a view function that is different from other MV * frameworks.  For example, it has nothing to do with Handlebars, Underscore and AngularJS templates.  React's work is based on the concept of a ‚Äúvirtual DOM‚Äù.  React keeps a virtual DOM in memory and every time it is modified, it differentiates them quickly, reduces them to one update and sends a whole data packet to the real DOM. <br><br>  This approach has a number of advantages, the main of which is a significant improvement in performance.  You do not need to constantly update the DOM, as in other JavaScript frameworks.  In addition, React can process requests both on the server side and on the client side without any problems. <br><br>  React uses a method called React.renderToString ().  It allows you to pass a component, which, in turn, processes it together with the child element used and returns the code.  You can simply take this HTML code and send it to the client side. <br><br><h6>  Example </h6><br>  The following components are built on JSX.  At first glance it may seem that JSX is similar to a hybrid of HTML and JavaScript: <br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> HelloWorld = React.createClass({ <span class="hljs-attr"><span class="hljs-attr">displayName</span></span>: <span class="hljs-string"><span class="hljs-string">"HelloWorld"</span></span>, render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Hello {this.props.message}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }); React.render(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">HelloWorld</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">message</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"world"</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">, document.body);</span></span></code> </pre> <br>  Now you need to skip (or translate) .jsx via a webpack, grunt, gulp or an alternative engine and get a JavaScript code like this one: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> HelloWorld = React.createClass({ <span class="hljs-attr"><span class="hljs-attr">displayName</span></span>: <span class="hljs-string"><span class="hljs-string">"HelloWorld"</span></span>, <span class="hljs-attr"><span class="hljs-attr">render</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( React.createElement(<span class="hljs-string"><span class="hljs-string">"h1"</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"Hello "</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.message) ); } }); React.render(React.createElement(HelloWorld, {<span class="hljs-attr"><span class="hljs-attr">message</span></span>: <span class="hljs-string"><span class="hljs-string">"world"</span></span>}), <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body);</code> </pre><br>  This is the code we get using HelloWorld.jsx.  As you can see, this is regular javascript.  Of course, you can argue that you can't mix HTML and JavaScript, that this is a mistake;  however, it only seems so at first glance.  Having worked with React, you understand that the proximity of markup components allows you to write code faster and make it more voluminous and consistent.  It turns out that you do not have to constantly switch between HTML and JavaScript files - and all the code for the developed component is in one place. <br><br>  React.render attaches the HelloWorld component to the body.  Obviously, any item can be added there.  It calls the component's render method, and therefore the result is added to the DOM inside the body tag. <br><br>  In any component of React, whether you passed attributes or not ‚Äî for example, HelloWorld message = ‚Äùworld‚Äù ‚Äîyou have access to this.props component.  Therefore, in the HelloWorld component, this.props.message will be world.  So pay attention to the following part of the JSX code: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Hello {this.props.message}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> );</code> </pre><br>  You will notice that the HTML is wrapped in parentheses.  Then, this.props.message needs to be wrapped in braces that allow access to the component through this. <br><br>  In addition, each component has access to its ‚Äústate‚Äù.  In React, each component can manage its state using several simple API methods, such as getState, setState, getInitialState.  The latter is used during component initialization.  Whenever the state changes, the render method will render the component.  For example: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Search = React.createClass({ getInitialState() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">search</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span> }; }, render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"search-component"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">input</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onChange</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.changeSearch}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">You are searching for: {this.state.search}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ); }, changeSearch(event) { var text = event.target.value; this.setState({ search: text }); } }); React.render(</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Search</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">, document.body);</span></span></code> </pre><br>  In the example above, the getInitialState function returns a simple object literal containing the initial state of the component. <br><br>  The render function returns JSX for our elements, it means input and span, both wrapped in a div.  Do not forget, in JSX only one item can be returned as a parent.  In other words, you cannot return a div twice;  You can return only one item with many children. <br><br>  Pay attention to onChange = {this.changeSearch}.  This command allows the component to run the changeSearch function upon data entry. <br><br>  The changeSearch function receives the event triggered by the DOM event and receives the entered text.  Then, we make a request for setState and pass the text, which launches the render, and {this.state.search} displays the changes that have appeared. <br><br>  In React, you can work with many different APIs.  However, when working at a high level, the method described above will be enough to create simple components. <br><br><h5>  Isomorphic javascript </h5><br>  With the help of React, we can create so-called ‚Äúisomorphic‚Äù applications.  The word ‚Äúisomorphic‚Äù has already gained popularity in 2015.  In simple terms, ‚Äúisomorphism‚Äù is that we can use the same code both on the client side and on the server side.  Obviously, this approach has many advantages. <br><br><h6>  Getting rid of FOUC </h6><br>  When using AngularJS, Ember and SPA architecture, when the user first hits the page, all its elements are loaded.  In SPA applications, the download may take several seconds, and most users today expect at least 2 seconds.  While the content is loading, the rendering of the page does not begin.  This delay is called FOUC (flash of unstyled content).  One of the main advantages of the development of an isomorphous method is that the speed of loading elements is significantly accelerated due to simultaneous rendering on the server side and on the client side. <br><br>  It turns out that the task of an isomorphic application is not to replace the usual server API, but to get rid of the stream of non-stylized content, thereby improving the user experience with the page (and their requests are constantly growing). <br><br><h6>  Same code </h6><br>  A solid advantage of isomorphic applications is the ability to use the same code on the server side and on the client side.  Just create the components you need and they will work there and there.  In most other systems, such as Rails, Asp.NET MVC, you have erb and cshtml for server-side rendering.  In addition, you need to use templates such as Handlebars or Hogan.js, which often duplicate logic.  In React, the same components work equally well on the server side and on the client side. <br><br><h6>  Process improvement </h6><br>  Server-side rendering allows you to quickly send the HTML skeleton needed by the client to view the site.  Then, you can enhance the picture by processing more items on the client side. <br><br>  As a rule, to provide the same comfort from viewing the page or using the application for a user with the simplest ‚Äúclamshell‚Äù from Africa and a user with the latest McBook Pro with Retina display and connecting to the last 4k monitor is not an easy task. <br><br>  In React, things are a little more complicated than just passing on different components.  When you process React components on the server side and send a skeleton of HTML code to the client, React on the client side finds similar HTML code and attaches containers with events to existing elements.  Voila! <br><br>  This means that it is enough to send only the part of the HTML code that is necessary for rendering the page.  All additional items can be retrieved and processed on the client side.  You get an advantage in the form of fast loading from the server side, and also in the form of the possibility of re-using the same components. <br><br><h5>  Create an isomorphic application on Express </h5><br>  Express is one of the most popular Node.js web servers.  Raising and running the application on Express using React is not a problem. <br><br>  Adding React rendering to Express consists of several steps.  First you need to add node-jsx and react to the project as follows: <br><pre> <code class="javascript hljs">npm install node-jsx --save npm install react --save</code> </pre><br>  Next, you need to create a base app.jsx file in the public / javascripts / components directory.  For this we need the Search component that we used earlier: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> React = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"react"</span></span>), Search = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"./search"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> App = React.createClass({ render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Search</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> ); } }); module.exports = App;</span></span></code> </pre><br>  Here we need react and component Search.jsx.  In the render method, the App component, we can simply use the component with Search. <br><br>  Then you need to add the following code to one of the routers in which you plan to render using React: <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"node-jsx"</span></span>).install({ <span class="hljs-attr"><span class="hljs-attr">harmony</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">extension</span></span>: <span class="hljs-string"><span class="hljs-string">".jsx"</span></span> });</code> </pre><br>  This will require to use .jsx files.  Otherwise, Node.js will not understand how to parse them.  The harmony option allows you to use ECMAScript 6 components. <br><br>  Then, you need to query the component and send it to React.createFactory, which will return a function with which you can call the component: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> React = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"react"</span></span>), App = React.createFactory(<span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"../public/javascripts/components/app"</span></span>)), express = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"express"</span></span>), router = express.Router();</code> </pre><br>  Then, in the route itself, list React.renderToString and pass the component: <br><pre> <code class="javascript hljs">router.get(<span class="hljs-string"><span class="hljs-string">"/"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> markup = React.renderToString( App() ); res.render(<span class="hljs-string"><span class="hljs-string">"index"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">markup</span></span>: markup }); });</code> </pre><br>  Finally, get the output for the markup in the preview tab: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"content"</span></span></span><span class="hljs-tag">&gt;</span></span> {{{markup}}} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  That's all for the code on the server side.  Now let's see what needs to be done on the client side. <br><br><h6>  Webpack </h6><br>  Webpack is a JavaScript packer that allows you to collect static objects (JavaScript, CSS, images, etc.) into one file, as well as to process files using various downloaders.  You can write JavaScript code using CommonJS or the syntax of AMD modules. <br><br>  For React .jsx files, you will need to slightly configure the webpack.configure file to compile all jsx components. <br><br>  Getting started with Webpack is easy: <br><pre> <code class="javascript hljs">npm install webpack -g # Install webpack globally npm install jsx-loader --save # Install the jsx loader <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> webpack</code> </pre><br>  Then, you need to create a file webpack.configure.js. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> path = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"path"</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = [{ <span class="hljs-attr"><span class="hljs-attr">context</span></span>: path.join(__dirname, <span class="hljs-string"><span class="hljs-string">"public"</span></span>, <span class="hljs-string"><span class="hljs-string">"javascripts"</span></span>), <span class="hljs-attr"><span class="hljs-attr">entry</span></span>: <span class="hljs-string"><span class="hljs-string">"app"</span></span>, <span class="hljs-attr"><span class="hljs-attr">output</span></span>: { <span class="hljs-attr"><span class="hljs-attr">path</span></span>: path.join(__dirname, <span class="hljs-string"><span class="hljs-string">"public"</span></span>, <span class="hljs-string"><span class="hljs-string">"javascripts"</span></span>), <span class="hljs-attr"><span class="hljs-attr">filename</span></span>: <span class="hljs-string"><span class="hljs-string">"bundle.js"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">module</span></span>: { <span class="hljs-attr"><span class="hljs-attr">loaders</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.jsx$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">"jsx-loader?harmony"</span></span>} ] }, <span class="hljs-attr"><span class="hljs-attr">resolve</span></span>: { <span class="hljs-comment"><span class="hljs-comment">// You can now require('file') instead of require('file.coffee') extensions: ["", ".js", ".jsx"], root: [path.join(__dirname, "public", "javascripts")], modulesDirectories: ["node_modules"] } }];</span></span></code> </pre><br>  Now consider the above code.  Here we have: <br><ul><li>  context.  This is the root of your javascript files. </li><li>  entry.  This is the main file that will load other files with require in CommonJS by default. </li><li>  output.  Tells the Webpack command to issue a code in a single file using the public / javascripts / bundle.js chain. </li></ul><br>  The module object allows you to configure loaders.  The loader also allows you to test file extensions, and then transfer it through the loader.  There are many loaders for CSS, Sass, HTML, CoffeeScript and JSX, but in this case we need only one - jsx-loader? Harmony.  You can attach options such as ‚Äúquery string‚Äù to the bootloader name.  In this case,? Harmony allows you to use ECMAScript 6 syntax in our modules.  test tells Webpack to transfer any file with the .jsx extension to the jsx-loader. <br><br>  In resolve, we see a slightly different picture.  First, extensions instructs Webpack to skip files with extensions of certain types when we prescribe require.  Because of this, we can use require (‚Äú./ file‚Äù), and not require (‚Äú./file.js‚Äù).  In addition, we specify root, which, in essence, is simply the root from which files will be extracted.  Finally, we allow Webpack to extract modules from the node_modules directory using modulesDirectories.  So, we can install, for example, Handlebars using npm install handlebars and require (‚Äúhandlebars‚Äù), as well as in the applications on Node.js. <br><br><h6>  Client side code </h6><br>  For public / javascripts / app.js, we will need the same App component that we used in Express: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> React = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"react"</span></span>), App = React.createFactory(<span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"components/app"</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span> !== <span class="hljs-string"><span class="hljs-string">"undefined"</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.onload = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ React.render(App(), <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"content"</span></span>)); }; }</code> </pre><br>  Check that we are in the browser using the typeof window! == ‚Äùundefined‚Äù command.  Then, attach window events to onload, call React.render and transfer to the App ().  Next, we need a DOM element to load.  This should be the same element that we used in the server-side React markup, i.e. #content. <br><br>  The Search component from the example above was processed on the server and sent to the client.  The client-side React accepts rendered markup and attaches event containers to it!  This means that we can easily view the page while JavaScript is still loading. <br><br>  All the code presented in the article <a href="https://github.com/jcreamer898/expressiso">is available on GitHub</a> . <br><br><h5>  Conclusion </h5><br>  Web architecture develops in cycles.  At first, rendering took place only on the server side and then sending data to the client.  Then, JavaScript appeared, and we began to use it for simple operations on the page.  Finally, JavaScript has evolved so much that it has become possible to use it to create large applications that will render on the client side and use the server to extract data through the API. <br><br>  In 2015, we began to realize that we have at our disposal powerful servers that have enough processors and memory to process almost any data.  An isomorphic approach to application development can give us the best of two worlds: we can use JavaScript both on the server side and on the client side, which increases download speed and allows users to see information on the page faster as additional elements are loaded onto client side. <br><br>  React is one of the first frameworks that are no doubt already numerous, which implements this kind of behavior.  Ember developers are already working on isomorphic applications.  I am sure that it will be very interesting to watch the development of these frameworks! <br><br><h6>  about the author </h6><br><img src="https://habrastorage.org/getpro/habr/post_images/fe5/140/cbd/fe5140cbdcbb6f778837eab5b05d0d12.jpg" alt="image"><br>  Jonathan Creamer is a senior web developer at Lonely Planet.  He is interested in JavaScript, in particular, the architecture of web applications and development on Node.js.  In addition, he has extensive experience with ASP.NET MVC, Ruby on Rails, and ColdFusion.  Jonathan started web development at the age of 13 when he went to work at one of the start-ups in Franklin, Tennessee.  Then he went to study at a developer at Middle Tennessee State University.  He currently lives in Murfreesboro, Tennessee, with his wife and daughter. <br><br>  Worked on the translation: <a href="http://habrahabr.ru/users/greebn9k/" class="user_link">greebn9k</a> (Sergey Gribnyak), <a href="http://habrahabr.ru/users/seninrom/" class="user_link">seninrom</a> (Roman Senin), <a href="http://habrahabr.ru/users/silmarilion/" class="user_link">silmarilion</a> (Andrey Khakharev) <br>  <a href="http://singree.com/">Singree</a> </div><p>Source: <a href="https://habr.com/ru/post/259625/">https://habr.com/ru/post/259625/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../259613/index.html">As I png reduced 4 times</a></li>
<li><a href="../259615/index.html">Data from Arduino in the form of charts and graphs</a></li>
<li><a href="../259619/index.html">Python Meetup 04/24/15: Python tests, Rest services on Flask and GUI application in 5 minutes</a></li>
<li><a href="../259621/index.html">"1-wire" for buttons with indication</a></li>
<li><a href="../259623/index.html">ADC as a random number generator</a></li>
<li><a href="../259627/index.html">Preparing for a PHP interview: the keyword "static"</a></li>
<li><a href="../259629/index.html">Azure Pack at Oblakotek: why and how we did it</a></li>
<li><a href="../259633/index.html">Devices with load balancing in network monitoring systems or "what is Network Packet Broker"</a></li>
<li><a href="../259635/index.html">We study the insides of the server Huawei RH5885 V3 (unboxing)</a></li>
<li><a href="../259637/index.html">Method of teaching programming: ‚Äúnote-taking‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>