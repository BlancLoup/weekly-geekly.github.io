<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Clash of Clans - mechanisms for monetizing game time</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In Clash of Clans (supercell multiplayer game from Supercell), players can accelerate various actions, such as erecting buildings, upgrading and train...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Clash of Clans - mechanisms for monetizing game time</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/415/3aa/3a3/4153aa3a3abbfffd3c9e3b75c79a7e61.png" alt="image" align="left"><br>  In Clash of Clans (supercell multiplayer game from Supercell), players can accelerate various actions, such as erecting buildings, upgrading and training troops with the help of gems that are acquired for real money.  In other words, the developers earn on the impatience of the players, which is in general all multiplayer games, where you need to build something. <br><a name="habracut"></a><br>  That's why we decided to study the work of the formulas that control the game mechanics, and find out what the price of time in CoC is. <br><br>  Let's start by comparing several graphs. <br><br>  This line graph shows the cost of skipping a particular period of time in gems.  More time - more gems, nothing surprising. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      But there is a trick here.  It seems that the price is growing exponentially, but this is not the case at all!  This is because the difference between 60 seconds (1 minute) and 604800 seconds (1 week) is too great.  Time grows exponentially, and this distorts the data. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fbb/b19/174/fbbb191740bb55a79f9db9f139ecf869.png" alt="image"><br><br>  The scatterplot gives a more reliable picture.  A uniform scale was chosen on the horizontal axis, but in the lower left corner the graph is difficult enough for interpretation.  The points are too close to be distinguished. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/21d/490/c60/21d490c603bcaea33dbda6442e926172.png" alt="image"><br><br>  Let's try another way of presenting data.  We will understand them as the cost of skipping 1 second.  The more time you miss, the more you pay, but the deal becomes more profitable.  You can take it as a growing discount. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/248/bea/270/248bea270a0b131ba481178521faf8f4.png" alt="image"><br><br>  Testing has shown that such a graph consists of several line segments and is not an approximation of a curvilinear graph.  Later this will be explained in more detail. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/36a/373/3bf/36a3733bf356be6d4ada6065555c4fd4.png" alt="image"><br><br>  Now we turn to the formulas. <br><br>  To begin with, we will collect the prices of interest to us in a table, and then we will show how to calculate any other price using linear interpolation. <br><br><table border="1"><tbody><tr><td width="83">  <b>Time</b> </td><td width="113">  <b>Time in seconds</b> </td><td width="113">  <b>Price in gems</b> </td></tr><tr><td width="83">  0 seconds </td><td width="113">  0 </td><td width="113">  0 </td></tr><tr><td width="83">  1 second </td><td width="113">  one </td><td width="113">  one </td></tr><tr><td width="83">  1 minute </td><td width="113">  60 </td><td width="113">  one </td></tr><tr><td width="83">  1 hour </td><td width="113">  3,600 </td><td width="113">  20 </td></tr><tr><td width="83">  1 day </td><td width="113">  86,400 </td><td width="113">  260 </td></tr><tr><td width="83">  Week 1 </td><td width="113">  608,800 </td><td width="113">  1,000 </td></tr></tbody></table><br>  A very elegant system: splitting prices in accordance with the time intervals that are significant for people (hour / day / week) makes it very understandable.  It is easy for everyone to imagine what it means to wait, for example, one day.  In addition, this system is very easily reconfigured - if it is subsequently decided to increase the cost of one day, it is enough to change only one value. <br><br>  And the most interesting thing about using a line segment chart is the ability to set and use specific price points. <br><br>  Let us turn to the formula, the schedule of which we can build. <br><br>  Let's start with a simple formula for constructing a straight line equation: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/280/0e6/1ab/2800e61ab1bb5a3b2db9a94721c8ff94.png" alt="image"><br><br>  From here we obtain the equation of a straight line connecting two points. <img src="https://habrastorage.org/getpro/habr/post_images/a19/dfe/d0c/a19dfed0cf329ba64b1e82ce6aec8171.png" alt="image">  and <img src="https://habrastorage.org/getpro/habr/post_images/ec4/382/248/ec4382248006a22870bbdd912cc3aff7.png" alt="image">  . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e33/810/cb8/e33810cb8cf31927adf776de2ec91a30.png" alt="image"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/c84/3d4/545/c843d4545cbf1ae2d0952419658c2be9.png" alt="image">  , on the horizontal axis - time <img src="https://habrastorage.org/getpro/habr/post_images/28f/7c1/0a9/28f7c10a9cdc8c9149c91a775770fe7b.png" alt="image">  , on the vertical axis - gems. <br><br>  Now we can calculate the function values.  Based on the Clash of Clans data, suppose that 1 hour (3600 seconds) costs 20 gems, and 1 day (86400 seconds) - 260 gems.  You can define a function for this line segment. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/00b/76e/d81/00b76ed81a1fd81fbb2dc8836794ae76.png" alt="image"><br><br>  With its help, you can calculate the cost of any period of time in the range from 1 hour to 1 day.  For example, to find out the cost of skipping 4 hours, we substitute <img src="https://habrastorage.org/getpro/habr/post_images/c72/0de/bff/c720debff23a9740732a64543dc6e2ca.png" alt="image">  and get <img src="https://habrastorage.org/getpro/habr/post_images/35a/aa3/fe9/35aaa3fe9fceba3a5cc996c53a484d56.png" alt="image">  . <br><br>  All formulas for individual line segments can be combined into one large piecewise defined function. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/86d/073/ee6/86d073ee61a36754a085b72b8f73b8cd.png" alt="image"><br><br>  This is the formula for transferring gems to time used in CoC. <br><br>  To use excel, copy this long formula into cell B1.  After that, enter time in seconds in cell A1, and the value in gems will appear in cell B1. <br><br>  = ROUND (IF ($ A $ 2 = 0; 0; IF ($ A $ 2 &lt;= 60; 1; IF ($ A $ 2 &lt;= 3600; ((20-1) / (3600-60)) * ($ A $ 2-60) +1; IF ($ A $ 2 &lt;= 86400; ((260-20) / (86400-3600)) * ($ A $ 2-3600) +20; ((1000-260) / (604800- 86400)) * ($ A $ 2-86400) +260)))); 0) <br><br>  Try a visual demo.  Double click on the time to change it, and the cost in gems will change. <br><br>  Now let's talk about how this affects real money. <br><br>  Before that, we operated only with the in-game currency Clash of Clans - gems.  But they are purchased in the store for real money, so that the price can be specified in them.  Here is the Supercell price for gems. <br><table border="1"><tbody><tr><td width="84">  <b>Gems</b> </td><td width="85">  <b>Price</b> </td><td width="93">  <b>Gems for ¬£</b> </td><td width="76">  <b>¬£ per heme</b> </td></tr><tr><td width="84">  500 </td><td width="85">  ¬£ 2.99 </td><td width="93">  167 </td><td width="76">  ¬£ 0.0060 </td></tr><tr><td width="84">  1,200 </td><td width="85">  ¬£ 6.99 </td><td width="93">  172 </td><td width="76">  ¬£ 0.0058 </td></tr><tr><td width="84">  2,500 </td><td width="85">  ¬£ 13.99 </td><td width="93">  179 </td><td width="76">  ¬£ 0.0056 </td></tr><tr><td width="84">  14,000 </td><td width="85">  ¬£ 69.99 </td><td width="93">  200 </td><td width="76">  ¬£ 0.0050 </td></tr></tbody></table><br>  The more you buy, the lower the price of one heme, but we'll talk about these discounts later.  In the meantime, we resort to simplification and we will use the average price: ¬£ 0.0055 per heme. <br><br>  This is very useful, as it helps to use the above formula for determining prices in real money.  The Supercell decided that a one-day pass at CoC would cost ¬£ 1.43, and a one-week pass would be ¬£ 5.49.  If you need to change the price of 1 day, for example, at ¬£ 2.00, it is enough to change this value, and all the rest will change automatically.  This is a very convenient and reasonable way to control the monetization of the game. <br><br>  Discounts <br><br>  Buying gems <br><br>  The sizes of the sets of gems are set in advance.  So, you cannot buy 501 gems and must purchase either a set of 500 gems, or a set of 1200. Nevertheless, it seemed to us interesting to present this in the form of a graph. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/160/b19/009/160b190093793a53e12510299e3860f5.png" alt="image"><br><br>  At first glance, this is not very noticeable, but with an increase in the number of hemes, the line becomes flatter.  Supercell gives a discount if you buy more. <br><table border="1"><tbody><tr><td width="84">  <b>Gems</b> </td><td width="84">  <b>Price</b> </td><td width="93">  <b>Gems for ¬£</b> </td><td width="76">  <b>¬£ per heme</b> </td><td width="75">  <b>A discount</b> </td></tr><tr><td width="84">  500 </td><td width="84">  ¬£ 2.99 </td><td width="93">  167 </td><td width="76">  ¬£ 0.0060 </td><td width="75">  0.0% </td></tr><tr><td width="84">  1,200 </td><td width="84">  ¬£ 6.99 </td><td width="93">  172 </td><td width="76">  ¬£ 0.0058 </td><td width="75">  2.6% </td></tr><tr><td width="84">  2,500 </td><td width="84">  ¬£ 13.99 </td><td width="93">  179 </td><td width="76">  ¬£ 0.0056 </td><td width="75">  6.4% </td></tr><tr><td width="84">  14,000 </td><td width="84">  ¬£ 69.99 </td><td width="93">  200 </td><td width="76">  ¬£ 0.0050 </td><td width="75">  16.4% </td></tr></tbody></table><br>  When you buy a set of 14,000 gems, you save 16.4% compared to the price of a set of 500 gems. <br><br>  Time pass <br><br>  If we compare the discount on the purchase of gems with the discount on time skipping, it becomes obvious that the discount on skipping a larger period of time is significantly higher than the discount on the purchase of a larger set of gems. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a75/698/5b6/a756985b6d3aab161986bc99ecf67307.png" alt="image"><br><br>  When you skip a week, you save as much as 90.1% compared to a 1 minute pass. <br><table border="1"><tbody><tr><td width="83">  <b>Time</b> </td><td width="102">  <b>Time in seconds</b> </td><td width="102">  <b>Price in gems</b> </td><td width="123">  <b>Price (gems ‚Äã‚Äã/ sec)</b> </td><td width="129">  <b>Average price (¬£)</b> </td><td width="75">  <b>A discount</b> </td></tr><tr><td width="83">  0 seconds </td><td width="102">  0 </td><td width="102">  0 </td><td width="123">  0.0000 </td><td width="129">  ¬£ 0.0000 </td><td width="75">  <b>-</b> </td></tr><tr><td width="83">  1 second </td><td width="102">  one </td><td width="102">  one </td><td width="123">  0.0167 </td><td width="129">  ¬£ 0.0055 </td><td width="75">  <b>-</b> </td></tr><tr><td width="83">  1 minute </td><td width="102">  60 </td><td width="102">  one </td><td width="123">  0.0167 </td><td width="129">  ¬£ 0.0055 </td><td width="75">  <b>0.0%</b> </td></tr><tr><td width="83">  1 hour </td><td width="102">  3,600 </td><td width="102">  20 </td><td width="123">  0.0056 </td><td width="129">  ¬£ 0.1098 </td><td width="75">  <b>66.7%</b> </td></tr><tr><td width="83">  1 day </td><td width="102">  86,400 </td><td width="102">  260 </td><td width="123">  0.0030 </td><td width="129">  ¬£ 1.4273 </td><td width="75">  <b>81.9%</b> </td></tr><tr><td width="83">  Week 1 </td><td width="102">  608,800 </td><td width="102">  1,000 </td><td width="123">  0.0017 </td><td width="129">  ¬£ 5.4896 </td><td width="75">  <b>90.1%</b> </td></tr></tbody></table><br>  It is also important to note that the difference in discount between 1 minute and 1 hour is 66.7%, and between 1 hour and 1 week only 23.4%.  Instead of considering the intervals longer than 1 day to be cheap, it is wiser to consider small intervals of 1-59 minutes too expensive.  Why it happens?  We do not have a definitive answer ... we can assume that only the most impatient players, who are also the most inclined to spend money, will want to miss such short periods of time.  Perhaps there is some price discrimination.  Anyway, we have no final answer, and we will be glad to any comments that can help! <br><br>  Discount discounts <br><br>  If you buy gems and then spend them on skipping time, discounts are summed up. <br><br>  The most disadvantageous deal is to buy 500 gems for ¬£ 2.99 and spend them on skipping one minute.  For every second you missed, you pay ¬£ 0.000100. <br><br>  The best deal is to buy 14,000 gems for ¬£ 69.99 and skip 1 week.  For every second you missed, you pay ¬£ 0.000008. <br><br>  The price difference will be 91.7%. <br><table border="1"><tbody><tr><td width="159"></td><td width="160">  <b>Worst deal</b> </td><td width="160">  <b>Best deal</b> </td><td width="160"></td></tr><tr><td width="159">  ¬£ per heme </td><td width="160">  ¬£ 0.006 </td><td width="160">  ¬£ 0.005 </td><td width="160"></td></tr><tr><td width="159">  Price in gems </td><td width="160">  one </td><td width="160">  1,000 </td><td width="160"></td></tr><tr><td width="159">  Price in ¬£ </td><td width="160">  ¬£ 0.006 </td><td width="160">  ¬£ 5 </td><td width="160"></td></tr><tr><td width="159">  Seconds </td><td width="160">  60 </td><td width="160">  604,800 </td><td width="160">  <b>Difference</b> </td></tr><tr><td width="159">  Price in ¬£ per second </td><td width="160">  ¬£ 0.000100 </td><td width="160">  ¬£ 0.000008 </td><td width="160">  <b>91.7%</b> </td></tr></tbody></table><br>  The power of discounts <br><br>  Perhaps the price per second seems insignificant to you, but when it comes to 604800 seconds, these small values ‚Äã‚Äãadd up.  So, if you paid for a 1 week pass at the same rate as a 1 minute pass, you would pay ¬£ 60 instead of ¬£ 5 !!! <br><br>  A big discount on skipping long periods of time is very useful.  Without it, prices would very quickly become too high, and no one would make purchases. <br><br>  Probably, Supercell understood this well.  They needed a way to give users a substantial discount on skipping large intervals, and so that the system was easy to set up.  A linearly segmented graph was an excellent solution to this issue. <br><br>  Finally, let's look at alternative solutions. <br><br>  There are other ways to solve the problem.  Having examined them, we will get a better idea of ‚Äã‚Äãthe pros and cons of the chosen method. <br><br>  Line graph <br><br>  Our first idea was to use simple line graphics.  In this case, we would have a simple exchange rate, just like currencies in the real world. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a43/7a6/365/a437a6365b4c024149e29b937daa33a5.png" alt="image"><br><br>  The use of such a concept is possible, but the price of a day‚Äôs pass will fall by 61.5% from 260 to 100 gems.  And if we want to keep this price at the same level, the schedule will go steeper, and the pass price of 1 week will increase too. <br><br>  This mechanism allows adjustment only by 2 points.  Otherwise ‚Äî which was probably considered in the Supercell ‚Äî several line segments are needed.  In theory, it is possible to tune more points.  So, if it were necessary to change the price of a 2 day pass, it would be enough just to add another line segment. <br><br>  Curved graph <br><br>  Why not use a smooth curve?  For example, an exponential, quadratic function or a Bezier curve? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/10d/eef/92c/10deef92c0ca4e73381602ff4a25894b.png" alt="image"><br><br>  Everything looks very neat and smooth, but it is difficult to adjust.  Working with formulas requires too much effort.  We spent a lot of time on this, and therefore we do not advise you to try it yourself. <br><br>  Conclusion <br><br>  Clash of Clans has a very elegant way to monetize time passes.  It is difficult to offer a more convenient system. <br><br>  As a result: <br><ul><li>  Missing more time, you spend more money, but you get a better discount. </li><li>  A graph illustrating the pricing algorithm consists of a set of line segments. </li><li>  The advantage of using linear segmented graphics is the ability to select and adjust specific points in an easy-to-understand way. </li><li>  The discount for skipping a longer period of time is noticeably higher than the discount for buying a larger set of gems. </li><li>  A big discount on skipping long periods of time is very important.  Without it, prices would rise too quickly so that no one would make such purchases. </li></ul><br>  Have feedback, questions or comments?  Leave a comment! <b> &nbsp;</b><br><br>  This article is the result of the game in CoC and additional research.  As far as we can judge, the data are accurate, and all graphs and calculations have been carefully checked.  Nevertheless, the probability of error always remains, and in addition, the game itself may have changed since the publication of this article.  We cannot give an absolute guarantee, so use the results at your own risk.  If you find an error, please contact us. </div><p>Source: <a href="https://habr.com/ru/post/221117/">https://habr.com/ru/post/221117/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../221105/index.html">About cutting corners</a></li>
<li><a href="../221107/index.html">‚ÄúCars instead of people!‚Äù</a></li>
<li><a href="../221111/index.html">Proper use of promise in angular.js</a></li>
<li><a href="../221113/index.html">Free Webinar "Preparation for the exam 70412: Configuring additional services Windows Server 2012"</a></li>
<li><a href="../221115/index.html">IBM introduced new servers based on Power8 processors</a></li>
<li><a href="../221119/index.html">Home Connect - one app for all brands</a></li>
<li><a href="../221121/index.html">Trends in online education</a></li>
<li><a href="../221123/index.html">Why do we need reflection in C ++ 1y</a></li>
<li><a href="../221129/index.html">EMET, prevention of operation and non-obvious settings</a></li>
<li><a href="../221133/index.html">JSR 133 (Java Memory Model) FAQ (translation)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>