<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>IPoE problem</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, IPoE technology has become very popular. So popular that some providers decided to introduce it into the existing network. And indeed, at fi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>IPoE problem</h1><div class="post__text post__text-html js-mediator-article">  Recently, IPoE technology has become very popular.  So popular that some providers decided to introduce it into the existing network.  And indeed, at first glance, sheer advantages. <br><a name="habracut"></a><br>  I will give a few advantages for a vskidku: in difference, from PPPoE, does not need expensive BRAS, do not need to spend money on the subnet of external addresses, a smaller load on the equipment, due to the lack of tunnels, there is no need to drive internal traffic through BRAS.  You can find a lot of advantages, but for some reason, few people thought about the disadvantages.  There is not even RFC for this technology, not to mention that a lot of cheap equipment used on access does not always work correctly with options 82. <br>  The main disadvantage, in my opinion, is end-user security. <br><br>  Consider, for example, a metro ethernet network in which the service is provided using PPPoE technology (Fig. 1). <br><br><img src="http://s48.radikal.ru/i120/1302/5e/48b94acdc19e.jpg" alt="image"><br>  fig.1 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This scheme uses Q-in-Q technology.  Speaking roughly - villan in villein.  One vlan for PPPoE is allocated to the access ring.  On the switches in the access ring, where subscribers are directly included, the vlan numbers follow depending on the switch location in the access ring and the port.  For example: <br><ul><li>  first switch 1 port - vlan 101, port 2 - vlan - 102; </li><li>  second switch 1 port - vlan 201, port 2 - vlan - 202. </li></ul><br><br>  Further, on the L3 aggregation switch, it is collected in C-Vlan of the form 33290101, 33290102, and so on. <br>  As such, it is sent to BRAS.  Moreover, the equipment that is on the channel between the BRAS and the router in the aggregation ring may not support Q-in-Q. <br>  With this scheme, each user has his own login / password.  And even if an attacker steals it, he can only use it from the port of the subscriber.  If it turns on in another port, the login / password will be useless. <br><br>  Now, consider the situation, when the chief came Ibrahim Avramovich and said - I want IPoE (Fig. 2). <br><br><img src="http://s017.radikal.ru/i440/1302/7a/5b83c7f3bdfd.jpg" alt="image"><br>  fig.2 <br><br>  No sooner said than done.  You shook up the whole network.  Made an IPoE.  In the most common scenario, the binding will go to the port and access switch port.  Your dhcp server with billing is tied up, and the whole stitch is that the billing sends the pieces of the config to the dhcp server. <br>  Put NAT!  Now you can give hamsters gray addresses and natit, saving the same!  Ibrahim Avramovich is pleased, but he notices that it is possible to issue white addresses to especially zealous users, for a fee, of course. <br>  Q-in-Q you decided to leave in order to at least somehow divide the users. <br>  You did everything - well done.  From users no longer need to drive in the login and password, those.  support forgot about errors 691. Ibrahim Avramovich chooses a new Lexus.  You were given a prtmya 2048 rubles.  Everyone is happy. <br><br>  It would seem that can break this slender idyll?  And it can break the scheme shown in Figure 3. <br><br><img src="http://i024.radikal.ru/1302/cb/a910a10a3052.jpg" alt="image"><br>  fig.3 <br><br>  Let's take a closer look at it.  Aunt Glasha from apartment No. 1 honestly pays for the Internet.  For clarity, Aunt Glasha will have a gray address.  And her neighbor, Vasily Kultskhaker, doesn't want to pay for the Internet.  Goes to the nearest store and buys: <br><ul><li>  soap box router (a la dir-100); </li><li>  several meters of twisted pair; </li><li>  swage, a pair of connectors. </li></ul><br><br>  So far, Aunt Glasha and other residents at work, Vasily brazenly crashes into Aunt Glasha's cable.  Leads the cable to his home.  According to 1,2,3,6 of the core, he will suck free Internet, and for the rest, he will connect Aunt Glush (as they say - on the return line) so that she does not suspect anything and does not call the installer.  Since there are no login / passwords.  Nothing will prevent Vasily from getting his free Internet.  And then - the matter of technology.  On a router dhcp and NAT rises.  Moreover, if desired, ip Aunt Glasha can be issued from the same subnet that the provider uses to reduce suspicions to a minimum.  If the gray ip is not issued from the pool, but there is a hard ip binding to the port, it is still easier. <br><br>  And so, Vasya received a free Internet.  Aunt Glasha didn‚Äôt notice anything, only she began to wonder at such frequent hacking of her favorite fellow students and ‚Äúthe pictures will be loaded a lot‚Äù. <br><br>  Afterword: <br>  I agree that some also bind to the subscriber's mac address.  But, gentlemen, you create your own hemorrhoids.  And if a hamster has no lokalki / router, and there are two computers, three, etc.?  And if the network burned down?  Each time, call those / support and dictate mac.  And well, if the hamsters do not panic, with the word mac.  In addition, Vasya mac is easy to learn, and it is even easier to replace. <br><br>  On the issue of SORM and bloody Gebna.  What prevents hereditary Wahhabi Ashot from coming to any staircase, twisting a cable, writing obscenely on the Internet / pumping up torrents and hiding not getting caught?  There will be no locking mechanisms of public wi-fi networks. <br><br>  For some serious safety research I naturally do not pretend, but, in my opinion, there is reason to think. </div><p>Source: <a href="https://habr.com/ru/post/170371/">https://habr.com/ru/post/170371/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../170359/index.html">Domain did not get the trademark holder</a></li>
<li><a href="../170361/index.html">How to respond to reviews of your product?</a></li>
<li><a href="../170365/index.html">A play about how Garry Kasparov lost the match to the Deep Blue supercomputer</a></li>
<li><a href="../170367/index.html">Tom's Planner Review</a></li>
<li><a href="../170369/index.html">Build a large HTPC / NAS based on Ivy Bridge</a></li>
<li><a href="../170373/index.html">180 VPS history</a></li>
<li><a href="../170375/index.html">Creating your own control based on TabControl in C #</a></li>
<li><a href="../170379/index.html">About great bikes, or why sometimes you need to write from scratch</a></li>
<li><a href="../170385/index.html">C # console to run simple "scripts"</a></li>
<li><a href="../170389/index.html">Basics of thin allocation of volumes on storage systems (or anniversary 3PAR thin provisioning)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>