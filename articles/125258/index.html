<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Our security auditor is an idiot</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Note translator : this is an article (or rather, a question on serverfault.com) of the system administrator of one electronic trading platform that ha...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Our security auditor is an idiot</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage1/3018437d/4f325baa/fde81ba7/ef978c32.png" align="left">  <b>Note</b>  <b>translator</b> : <i>this is an article (or rather, a question on serverfault.com) of the system administrator of one electronic trading platform that has undergone a security audit for the right to use a certain bank card processing system.</i> <br><br><a name="habracut"></a><br><br>  The security auditor of our servers has requested the following things within two weeks: <br><ul><li>  List of all users with their passwords in clear text </li><li>  The history of changing the passwords of all users in the last 6 months (again, in the clear) </li><li>  List of all files on our servers that have been uploaded to them from the outside in the last 6 months </li><li>  Public and private parts of all SSH keys </li><li>  The mechanism that sends him an email every time when any user changes his password (a clear password must be written in the letter in clear text) </li></ul>  Our servers run on Red Hat Linux 5/6 and CentOS 5 with LDAP authentication.  As far as I know, all of the above is either not possible at all, or it is very difficult to get on this platform.  But if I do not provide information in time - we will lose access to the payment platform and all potential profits during the migration to another.  Any thoughts on how to get out? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The only way to get all the passwords in clear text is to reset them and set them to some specific ones.  But this does not solve the problem of password and file information for the last 6 months. <br><br>  Obtaining pairs of SSH-keys is possible, but the procedure is long and tedious - many users, many computers.  Is it possible to automate this somehow? <br><br>  I have repeatedly explained to the auditor the impossibility of fulfilling his requests.  He answered with this letter: <br><blockquote>  I have been working in the field of computer security auditing for more than 10 years and have a complete understanding of the security system of RedHat OS, so I advise you to update your knowledge of what is possible and what is not in this system.  You say that your company is not able to provide the required information.  But I have already conducted hundreds of similar audits and in each of them such information was provided.  All clients of our processing company must comply with our new security policies and this audit is designed to verify this compliance. <br></blockquote><br>  These ‚Äúnew security policies‚Äù were introduced 2 weeks ago, and the information on passwords and downloaded files is required in the last 6 months - cool, right? <br><br>  In short, I need to: <br><ul><li>  A way to fake a history of password changes in the last 6 months, so that it looks believable </li><li>  A way to fake file download history </li><li>  A simple way to collect SSH keys from a large number of computers </li></ul>  If we fail this audit, we will lose the processing platform and take a good two weeks to move somewhere else.  What to do? <br><br><h4>  Update 1 </h4><br>  Thanks to everyone for the answers, I regained the belief that I am not a complete idiot and the required information is not a standard in such audits. <br><br>  I plan to write to the auditor another letter explaining the situation: many of you have indicated that according to the PCI rules ( <b>note of the translator:</b> payment card security committee, which includes Visa, MasterCard and others), passwords should never be stored or transmitted in the open the form.  Not really, however, hoping for common sense, we begin to shake up the skis to go to PayPal. <br><br><h4>  Update 2 </h4><br>  Draft letter: <br><blockquote>  Hi, [name], <br>  Unfortunately, there is no way to provide you with some of the information requested.  We are talking about clear passwords, password change history, SSH keys and file upload logs.  This is not only technically impossible, but also contradicts the PCI standards that explicitly prohibit the storage and transmission of such data in open form (Section 8.4 - ‚ÄúAll passwords should be transmitted and stored only in encrypted form using strong cryptography‚Äù). <br><br>  I can provide you with a list of logins and hashed passwords of our users, public SSH keys and a list of authorized hosts.  (This will give you information on the number of unique users and the encryption algorithms used), information on our password security requirements and LDAP server configs.  I strongly advise you to review your security policy, as there is no way to pass a security audit, following both its and personal data protection legislation together with the PCI requirements. <br><br>  Respectfully, <br>  I. <br></blockquote><br>  I will try to reach out not only to the auditor, but also to his management, as well as to inform the staff responsible for security of the PCI staff about the current situation. <br><br><h4>  Update 3 </h4><br>  Here is his reply to my letter: <br><blockquote>  As I already wrote, the required information should be easily accessible on any normally configured system to any competent administrator.  Your recognition of the impossibility of obtaining such information makes me think about disregarding the security standards on your servers and not being ready for real threats.  Our requirements are in full compliance with the PCI standards and they can be fully implemented together.  ‚ÄúStrong cryptography‚Äù means only that the password should be encrypted as it is entered by the user, but then it needs to be transferred and saved in an open format, as it may be needed later. <br>  I do not see any security threats in the required behavior - password protection by cryptography applies only to users of the system, not the administration, which means that it should be possible to provide this information for auditing. <br></blockquote><br><br>  I will repeat once again: <br><blockquote>  <b>‚ÄúStrong cryptography‚Äù means only that the password should be encrypted as it is entered by the user, but then it needs to be transferred and saved in an open format, as it may be needed later.</b> </blockquote><br>  I plan to print this expression and hang it in a frame on the wall. <br><br>  I decided not to bother myself with more excessive diplomacy and gave him a link to this topic: <br><blockquote>  Providing the information you require is DIRECTLY CONTRACTING to the laws and requirements of PCI - I quoted the rules section.  In addition, I started a discussion on ServerFault.com (an online community of professional system administrators), which received a huge response, generally resulting, again, to the fact that this information cannot be provided.  You can somehow read at your leisure: <br><br>  <a href="http://serverfault.com/questions/293217/our-security-auditor-is-an-idiot-how-do-i-give-him-the-information-he-wants">Our idiot security auditor, how do I provide him with the required information?</a> <br><br>  We have completed the transition of our billing system to a new platform and terminate the contract with your company from tomorrow.  But just for the sake of the triumph of common sense, I would like to let you understand how ridiculous and ridiculous your demands are.  No company can provide you with this information without violating the requirements of PCI.  I strongly advise you to think over your security policy once more, because with the current one you simply lose all customers. <br></blockquote><br>  (Honestly, I somehow missed the fact that I called him an idiot in the title of the article, but it was already deeply sideways - we already moved out) <br><br>  But he answered me anyway.  I think readers will be interested to know that they are boobies who do not understand what they are talking about: <br><blockquote>  I read your post and responses to it.  Well - all answered are wrong.  I work in this industry longer than anyone on this site - getting a list of users and their passwords is a basic skill, this is one of the first things that a system administrator should learn and an integral part of the security of any reliable server.  If you really don't have enough minds for such elementary, I think you do not have PCI installed on your system, since such a possibility is a necessary requirement of this software).  And generally speaking, when working with such things as server security, you should not ask questions in public forums without understanding the basic principles of its operation. <br><br>  I would also like to inform you that any attempt to disclose my real name or company name will entail taking all the necessary legal measures against you. <br></blockquote><br>  I‚Äôll emphasize key idiocy if you missed them: <br><ul><li> He works as an auditor for the longest here (He either reads thoughts or spies on everyone here) </li><li>  Getting a list of passwords in clear text in UNIX is a ‚Äúbasic feature‚Äù </li><li>  PCI is now software </li><li>  People should not ask questions on the forum if they do not know something about what is being asked </li><li>  Posting facts confirmed by letters is slander </li></ul>  Sumptuously. <br><br>  The PCI organization has responded adequately and is now closely researching this auditor, his company and their rules.  Our system successfully moved to PayPal.  I will be waiting for information from PCI about the results of this auditor‚Äôs audit - but that‚Äôs what worries me.  If that company had such external requirements, it means that they had internal ones in the same spirit.  So, all payments of all our clients can be stored quite openly somewhere without any encryption and protection.  I hope the PCI investigation will dot the i's and action will be taken. <br><br>  I‚Äôll clarify with our lawyer the possibility of publishing the auditor‚Äôs name and company name, and you can all talk to them in person and explain why you don‚Äôt understand such basic Linux features as getting a list of passwords in clear text. <br><br><h4>  Small update </h4><br>  Our lawyer advised not to run up.  Well, without naming specific names, I will only say that it is not a large processing center, it has about 100 clients and is located in Birmingham, UK. </div><p>Source: <a href="https://habr.com/ru/post/125258/">https://habr.com/ru/post/125258/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../125248/index.html">Popular password managers in comparison</a></li>
<li><a href="../125250/index.html">Just about Hindley Milner</a></li>
<li><a href="../125253/index.html">USB to AVR. Introduction</a></li>
<li><a href="../125254/index.html">kedDroid - S04E03. Video review software for Android</a></li>
<li><a href="../125256/index.html">Run Internet Explorer 6 on Windows 7</a></li>
<li><a href="../125259/index.html">Iconified Preferences</a></li>
<li><a href="../125262/index.html">Peer-to-Peer car network</a></li>
<li><a href="../125263/index.html">Obama called on Americans to tweet congressmen on raising the national debt ceiling</a></li>
<li><a href="../125264/index.html">Iceland presented a constitution written by crowdsourcing</a></li>
<li><a href="../125267/index.html">Unlocked bootloader for Sensation and Evo 3d</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>