<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Development for Sailfish OS: FLUX architecture in QML by the example of an application for memorizing literary terms</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day to all! In this article I would like to tell you how we developed our first application for the Sailfish OS platform (about the development f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Development for Sailfish OS: FLUX architecture in QML by the example of an application for memorizing literary terms</h1><div class="post__text post__text-html js-mediator-article">  Good day to all!  In this article I would like to tell you how we developed our first application for the Sailfish OS platform (about the development for which there were already a number of articles). <br><br><img src="https://habrastorage.org/files/e51/2f4/120/e512f4120bb94cefaf97a05ecbd15a40.jpg"><br><br>  The task was to write an application with which one could study and memorize literary terms.  Since it is too simple and boring to implement a conventional dictionary with the interpretation of words, it was decided: to organize the learning process through user interaction.  Having considered all the available options for building user interaction, it was decided to do the training in the form of tests. <br><a name="habracut"></a><br>  Since the dictionary is a list of terms, each of which is defined, it was decided to identify three types of questions for tests.  In the first type, the user is shown the term itself and four variants of definitions of terms from which he must choose the one true.  The second type of questions is equivalent to the first, with the only difference that the user has already been shown one definition and four terms.  The user must select a term that matches this definition.  Finally, the last type of questions - with an open answer.  The definition is shown to the user and he needs to write the word himself that corresponds to the definition. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In addition to the learning process described above, it was necessary to implement a review of the list of terms that we will teach, so that the user can know what they will be asked to do.  It was also planned to track and preserve the progress in the study, in order to show the user how much progress he had achieved in the study of words. <br><br><h3>  Application Features </h3><br>  Actually the dictionary itself was kindly provided to us by the staff of the department of foreign languages ‚Äã‚Äãof our university (YarSU them. P. G. Demidov).  It was in plain text form, so for ease of use, we transferred it to the xml format.  The result was an xml document consisting of elements of the form: <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">term</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">text</span></span></span><span class="hljs-tag">&gt;</span></span>Epenalepsis<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">text</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">synonym</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">text</span></span></span><span class="hljs-tag">&gt;</span></span>Polysyndeton<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">text</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transcription</span></span></span><span class="hljs-tag">&gt;</span></span>[Àåp…íl…™Ààs…™nd…™t…ôn]<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transcription</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">synonym</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span>Use of several conjunctions<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">context</span></span></span><span class="hljs-tag">&gt;</span></span>He thought, and thought, and thought‚Ä¶<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">context</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">term</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Such a dictionary is very easy to <i>load</i> - using the standard <i>XmlListModel</i> component. <br><br>  The architecture of the application was chosen by the Facebook architecture promoted by Flux.  About the architecture itself was already a lot of written articles.  Quite interesting and understandable translations are available on Habr√©: <a href="https://habrahabr.ru/company/hexlet/blog/268249/">here</a> and <a href="https://habrahabr.ru/post/249279/">here</a> .  Also, when developing, we were guided by an <a href="https://medium.com/%40benlaud/qml-application-architecture-guide-with-flux-b4e970374635">article on using Flux when writing QML applications</a> .  We recommend the article to everyone who writes applications in QML (not necessarily even mobile).  It is unnecessary to describe all these points here, since all the information is available on the links above and it is described there very well.  Therefore, we will write only how the Flux architecture was used in our application. <br><br>  With View everything is clear - each page of the application is part of the View.  The transition between pages is done with the help of Actions.  In our case, the <i>navigateTo</i> Action is responsible for the transition. <br><br><pre> <code class="javascript hljs">AppListener { <span class="hljs-attr"><span class="hljs-attr">filter</span></span>: ActionTypes.navigateTo onDispatched: { pageStack.push(Qt.resolvedUrl(<span class="hljs-string"><span class="hljs-string">"../sailfish-only/views/pages/"</span></span> + message.url)); } }</code> </pre><br>  Two Stores are used to store values, as well as to implement the functions.  One (we called it <i>TermInformationStore</i> ) is responsible for a particular current term.  It contains information about the term: the word itself, its transcription, meaning, usage example and synonyms for it.  In the same Store is filling properties that contain the above information. <br><br>  The second Store - <i>TestStore</i> - is responsible for the testing process and the progress in the study of words.  It contains information about the current test question.  Accordingly, these questions are compiled here, and progress is calculated here. <br><br>  To separate the work with data and the organization of the interconnection of parts of the application, a Script element was created that is responsible for receiving signals from the View and calling functions from the Store in the correct order, which solves the problem of calling new actions when the old ones are not yet completed.  Also, this element contains all the logic for moving between different screens of the application. <br><br><h3>  Implemented functionality </h3><br>  Since this was our first application for this platform, and QML in general, at first we, of course, took up the simplest - a list of terms.  The list itself is implemented using <i>SilicaListView</i> , into which the list of terms from the <i>XmlListModel is loaded</i> (as described above).  In general, this is the most common list, and since the creation of lists is one of the most basic and common examples for QML in general, and for Sailfish OS in particular, we will not focus on this moment. <br><br>  Clicking on the list item opens a page with a detailed description of the term.  Since we decided to use the Flux architecture for the application, the process of opening this page looks somewhat unusual compared to MVC or MVVM.  Clicking on an item in the list creates an Action with information about the index of the clicked item.  This Action provokes <i>TermInformationStore</i> to change information about the current term depending on the selected index of the list item, and then open a page with a description.  It looks quite simple: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/695/80c/6b1/69580c6b19d2471c8db646fb9ff0191a.png"></div><br>  Testing can start from the main screen.  There are a total of 20 questions on non-recurring terms, selected randomly in the test.  The type of the question itself (as described at the beginning - we have three of them) and the wrong answers (if they should be in this type of question) are also chosen randomly.  As mentioned above, <i>TestStore</i> is responsible for all the logic of writing questions.  The question is created as follows: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">makeQuestion</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">index, type</span></span></span><span class="hljs-function">) </span></span>{ options = []; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> element = dictionary.get(index); question = (type === <span class="hljs-number"><span class="hljs-number">0</span></span>) ? element.name : element.description; questionIndex = index; rightAnswer = (type === <span class="hljs-number"><span class="hljs-number">0</span></span>) ? element.description : element.name; alternativeRightAnswer = (element.synonym !== <span class="hljs-string"><span class="hljs-string">""</span></span>) ? element.synonym : element.name; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(type !== <span class="hljs-number"><span class="hljs-number">2</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> rightVariantNumber = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random() * <span class="hljs-number"><span class="hljs-number">4</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">4</span></span>; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(i !== rightVariantNumber) { options.push(getWrongOption(index, type)); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { options.push((type === <span class="hljs-number"><span class="hljs-number">0</span></span>) ? element.description : element.name); } } } }</code> </pre><br>  The function is passed the index of the term in the dictionary and the type of the question.  Depending on these parameters, the <i>TestStore</i> properties that are responsible for the current question ( <i>question</i> , <i>options</i> , <i>rightAnswer</i> and others) are <i>filled</i> .  They will then be used by the view to display the question to the user.  For each type of question there is a page: <br><table><tbody><tr><td align="center"><img src="https://habrastorage.org/files/05d/9f7/6b6/05d9f76b69cb4d61a5e3deb30548849d.png"><br></td><td align="center"><img src="https://habrastorage.org/files/638/c5d/0bb/638c5d0bbbf8449b8d9692c992915559.png"><br></td><td align="center"><img src="https://habrastorage.org/files/b2e/495/022/b2e4950223894704b6634250637ddb4b.png"><br></td></tr></tbody></table><br>  Here is a sample code for a page asking where the user needs to choose a term by definition: <br><br><pre> <code class="javascript hljs">Page { SilicaFlickable { anchors.fill: parent contentHeight: column.height + Theme.paddingLarge VerticalScrollDecorator {} Column { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: column width: parent.width spacing: Theme.paddingLarge PageHeader { <span class="hljs-attr"><span class="hljs-attr">title</span></span>: qsTr(<span class="hljs-string"><span class="hljs-string">"Question "</span></span>) + TestStore.questionNumber } Label { <span class="hljs-attr"><span class="hljs-attr">text</span></span>: TestStore.question font.pixelSize: Theme.fontSizeMedium wrapMode: Text.Wrap anchors { <span class="hljs-attr"><span class="hljs-attr">left</span></span>: parent.left right: parent.right margins: Theme.paddingLarge } } Button { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: option0 height: Theme.itemSizeMedium anchors { <span class="hljs-attr"><span class="hljs-attr">left</span></span>: parent.left right: parent.right margins: Theme.paddingLarge } text: TestStore.options[<span class="hljs-number"><span class="hljs-number">0</span></span>] onClicked: { AppActions.submitAnswer(option0.text); } } Button { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: option1 height: Theme.itemSizeMedium anchors { <span class="hljs-attr"><span class="hljs-attr">left</span></span>: parent.left right: parent.right margins: Theme.paddingLarge } text: TestStore.options[<span class="hljs-number"><span class="hljs-number">1</span></span>] onClicked: { AppActions.submitAnswer(option1.text); } } Button { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: option2 height: Theme.itemSizeMedium anchors { <span class="hljs-attr"><span class="hljs-attr">left</span></span>: parent.left right: parent.right margins: Theme.paddingLarge } text: TestStore.options[<span class="hljs-number"><span class="hljs-number">2</span></span>] onClicked: { AppActions.submitAnswer(option2.text); } } Button { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: option3 height: Theme.itemSizeMedium anchors { <span class="hljs-attr"><span class="hljs-attr">left</span></span>: parent.left right: parent.right margins: Theme.paddingLarge } text: TestStore.options[<span class="hljs-number"><span class="hljs-number">3</span></span>] onClicked: { AppActions.submitAnswer(option3.text); } } Button { <span class="hljs-attr"><span class="hljs-attr">height</span></span>: Theme.itemSizeLarge anchors { <span class="hljs-attr"><span class="hljs-attr">left</span></span>: parent.left right: parent.right margins: Theme.paddingLarge } text: qsTr(<span class="hljs-string"><span class="hljs-string">"Skip question"</span></span>) onClicked: { AppActions.skipQuestion(); } } } } }</code> </pre><br>  As you can see, the information on the page is filled very easily by simply referring to the properties of the <i>TestStore</i> . <br><br>  After each question that was encountered during testing, the application displays the correctness of the given answer, as well as the word itself, its meaning and application.  This allows you to once again consolidate the knowledge of the user or, if the wrong answer was given, makes it possible to learn and remember the correct one: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/e89/d00/56d/e89d0056df7e41adadb3a5d80dd9a437.png"></div><br>  When this happens, the user's progress is recalculated.  The recalculation itself is related to the application settings and will be shown below. <br><br>  User results in the study of words are displayed both for the entire dictionary and for each term separately.  For individual terms, the result is calculated when choosing one of the answers. <br><br><pre> <code class="javascript hljs">AppScript { <span class="hljs-attr"><span class="hljs-attr">runWhen</span></span>: ActionTypes.submitAnswer script: { TestStore.checkResult(message.answer); TestStore.updateDictionaryProgress(TestStore.questionIndex); TermInformationStore.updateInfo(TestStore.questionIndex); AppActions.replacePage(<span class="hljs-string"><span class="hljs-string">"QuestionResult.qml"</span></span>); } }</code> </pre><br>  For the entire dictionary, progress is displayed in the form of a scale, reflecting the total degree of ‚Äúknowledge‚Äù of all the terms present.  The application also keeps statistics on how many words from the dictionary have already been successfully studied by the user.  This progress is displayed both on the main page of the application and on its cover: <br><table><tbody><tr><td align="center"><img src="https://habrastorage.org/files/edf/e19/ac8/edfe19ac8a944247bbcb81c8e854d09c.png"><br></td><td align="center"><img src="https://habrastorage.org/files/ea8/c22/b1c/ea8c22b1c1544c8089b82df1352feea5.png"><br></td></tr></tbody></table><br>  Since the application is designed for continuous use, it was necessary to implement the storage of user results so that all accumulated results are not lost between application launches.  To save progress, it was decided to use the QS class <i>QSettings</i> provided.  It provides the ability to permanently store settings and application data.  For Salifish OS, all data is saved in the <i>ini</i> file, respectively, the format of the stored data is a string.  Since <i>QSettings</i> is still a class from Qt, it was necessary to import it as a module into QML.  This is done in the body of the main function as follows: <br><br><pre> <code class="cpp hljs">qmlRegisterType&lt;Settings&gt;(<span class="hljs-string"><span class="hljs-string">"harbour.dictionary.trainer.settings"</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"Settings"</span></span>); QQuickView* view = SailfishApp::createView(); <span class="hljs-function"><span class="hljs-function">QSettings </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">data</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"FRUCT"</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"Dictionary Trainer"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; data.setPath(QSettings::NativeFormat, QSettings::UserScope, QStandardPaths::writableLocation(QStandardPaths::DataLocation)); qmlEngine-&gt;rootContext()-&gt;setContextProperty(<span class="hljs-string"><span class="hljs-string">"data"</span></span>, &amp;data); <span class="hljs-function"><span class="hljs-function">QQmlComponent </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dataComponent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(qmlEngine, QUrl(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"TestStore"</span></span></span></span><span class="hljs-function"><span class="hljs-params">))</span></span></span></span>; dataComponent.create();</code> </pre><br>  The progress of the study in the file will be saved in the form of "the name of the dictionary / term number" - "the degree of knowledge."  The name of the dictionary is not accidental here, in the future we plan to add more dictionaries, as well as, perhaps, to implement the addition of user dictionaries.  When you start the application, the degree of knowledge of the terms is read from the file and summarized to calculate the overall progress, the number of words that are ‚Äúlearned‚Äù by the user is also read: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fillProgress</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ progress = <span class="hljs-number"><span class="hljs-number">0</span></span>; learnedWords = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(data.childGroups().indexOf(<span class="hljs-string"><span class="hljs-string">"dictionary"</span></span>) !== <span class="hljs-number"><span class="hljs-number">-1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; dictionary.count; i++){ progress += data.valueAsInt(<span class="hljs-string"><span class="hljs-string">"dictionary/"</span></span> + i.toString()); } learnedWords = data.value(<span class="hljs-string"><span class="hljs-string">"dictionary/learnedWords"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; dictionary.count; i++){ data.setValue(<span class="hljs-string"><span class="hljs-string">"dictionary/"</span></span> + i.toString(), <span class="hljs-number"><span class="hljs-number">0</span></span>); } data.setValue(<span class="hljs-string"><span class="hljs-string">"dictionary/learnedWords"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>) } }</code> </pre><br>  Record / update of the degree of knowledge of the term occurs at the moment of its change, that is, at the moment of selecting the answer in the test.  It happens this way: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateDictionaryProgress</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">index</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> currentStatus = data.valueAsInt(<span class="hljs-string"><span class="hljs-string">"dictionary/"</span></span> + index); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> newStatus; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (result === <span class="hljs-string"><span class="hljs-string">"correct"</span></span>) { newStatus = getWordStatus(currentStatus + <span class="hljs-number"><span class="hljs-number">1</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { newStatus = getWordStatus(currentStatus - <span class="hljs-number"><span class="hljs-number">2</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> statusChange = newStatus - currentStatus; calculateLearnedWords(currentStatus, newStatus); progress += statusChange; data.setValue(<span class="hljs-string"><span class="hljs-string">"dictionary/"</span></span> + index.toString(), newStatus); }</code> </pre><br><h3>  Total </h3><br>  As a result, we managed to implement all the planned functionality and our first application under Sailfish OS was successfully created.  And most recently we published it on the Jolla Store, where it is available for download and already has about 2 hundred users: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/70a/a34/e24/70aa34e24321429e84ee2767f0131c6b.png"></div><br>  Authors: Maxim Kosterin, Nikita Romanov </div><p>Source: <a href="https://habr.com/ru/post/312418/">https://habr.com/ru/post/312418/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../312406/index.html">Analytics in CRM: we go on devices</a></li>
<li><a href="../312408/index.html">Tame iron Lenovo and wonder nuances XClarity</a></li>
<li><a href="../312412/index.html">Why do we need the project "Design of state systems"</a></li>
<li><a href="../312414/index.html">It's time for business to take selfies seriously.</a></li>
<li><a href="../312416/index.html">Innovations are not introduced there</a></li>
<li><a href="../312420/index.html">Factor modeling using neural network</a></li>
<li><a href="../312422/index.html">Create good tables</a></li>
<li><a href="../312424/index.html">Multi-Tech Base Stations let you deploy a LoRaWAN network in a couple of clicks</a></li>
<li><a href="../312426/index.html">Software-defined modular collocation - why is it needed?</a></li>
<li><a href="../312428/index.html">Microsoft fixed vulnerabilities in their products</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>