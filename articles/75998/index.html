<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CodeCraft - the battle of programmers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="CodeCraft belongs to the genre Programming game . Many of you probably know about the HabraWars project or about other Programming games. That is, the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>CodeCraft - the battle of programmers</h1><div class="post__text post__text-html js-mediator-article"><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/zDPeAvd-MdQ%3Ffeature%3Doembed&amp;xid=17259,1500004,15700021,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhj3W59vCECBgWub0HdkQ-0EBgNCnQ" frameborder="0" allowfullscreen=""></iframe><br><br><a name="habracut"></a><br>  CodeCraft belongs to the genre <a href="http://en.wikipedia.org/wiki/Programming_game">Programming game</a> .  Many of you probably know about the <a href="http://habrahabr.ru/blogs/sport_programming/74662/">HabraWars</a> project or about <a href="http://habrahabr.ru/blogs/programmers_games/62021/">other</a> Programming games.  That is, the desire to write an environment for programmer battles arose among many.  Here I, for example, had this idea. <br>  Its distinguishing features are: <br><ul><li>  The game world is a battle of two fleets of space ships. </li><li>  The need for strategic superiority over the opponent </li><li>  Management is possible both by individual units and by groups. </li><li>  3 types of units </li><li>  Tactical and strategic view </li><li>  2D </li><li>  Players - Library Plugins </li><li>  2 levels of abstraction for interacting with the game.  About them later </li><li>  Easy debugging </li><li>  Maximally simplified player writing process </li><li>  There are documentation, manuals, examples </li></ul><br><br>  Why did I decide that the environment for programmer battles should be just that? <br><img src="http://pic.co.ua/images/1258820057f8db18aa40082bda3a392510a70405d7.png"><br>  Yes, I just always imagined mental combat as a competition of strategies, rather than single units.  Otherwise, it‚Äôs not the strategy that is programmed, but the behavior, it turns out more like a shooter. <br>  It is much more colorful to look at the algorithm of the armies behavior: even rows of phalanxes, which methodically crowd out the enemy, packs of units that rush through, cunning maneuvers with fast units, unexpected strikes from the rear, a classic victory over a stronger rival thanks to the environment, etc.  In many ways, the game is inspired by drawings from history textbooks, where conventional graphic images of different types of troops and their movements are noted.  On the most boring pairs, imagination set them in motion, creating the concept of CodeCraft. <br><img src="http://pic.co.ua/images/1258820366e95068a6987fa323f066d22e77ac5515.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="http://pic.co.ua/images/125882001086ce68bd4e38c9c2e7125fbc895ecacb.png"><br><br><img src="http://pic.co.ua/images/1258820142136331920eb156d961a522499d3d5441.png"><br><br><h3>  Story </h3><br><br>  The idea of ‚Äã‚Äãcreating the game came to me like this: it was necessary to diversify my birthday, where only programmers were collecting then.  So began the creation of the project.  The idea was supported and soon joined the development of <a href="https://habrahabr.ru/users/mad_fish/" class="user_link">Mad_Fish</a> .  In the beginning, unit management was something like control in HabraWars.  A player could turn a unit, fly forward and shoot if charged.  The difference was in the possibility of a ram, which is almost meaningless for single battles, and in managing accelerations, not speed.  Everyone invited to the DR was given the task: to come with his player.  That is, bring it on a flash drive.  It turned out that the created players were terribly stupid - the one who at least did not fire on his own and did not ram them won.  Therefore, the non-shooting and non-moving player sometimes quite confidently won.  After the holiday, I realized that avoiding rams, friendly fire and such things are routine things that are not interesting to play. <br><br><h3>  Simplicity </h3><br><br>  In practice, it became clear the need for extreme simplification of the management of units.  Therefore, now there is an opportunity to write only what is interesting.  I created standard implementations for the behavior of units and groups of units - the EtalonAI library. <br>  For example, the code <br><br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">foreach</font> (UnitPilot pilot <font color="#0000ff">in</font> friends) &lt;br&gt;  pilot.AttackClosest();</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  is already an adequate algorithm for combat.  A unit can also be ordered to hold a position, attack a specific enemy, fly to the indicated coordinates, or wait for orders.  A unit has a list of units close to it, units, enemies that aim at it.  As well as all units are available in the lists of friends and enemies. <br>  To control a group of units, you can create a squad.  The example creates a detachment of ten fighters. <br><br><blockquote> <code><font color="black">DestroyersSquad1 = <font color="#0000ff">new</font> SquadronColonel(friends[0], game);&lt;br&gt; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i=0;i&lt;10;i++)&lt;br&gt;  DestroyersSquad1.AddUnit(friends[i]);</font> &lt;br&gt;</code> </blockquote> <br><br>  Further, the whole squad can be sent to a given point. <br><br><blockquote> <code><font color="black">DestroyersSquad1.GoToOrder( <font color="#0000ff">new</font> GameVector(-3000, -2000));</font> &lt;br&gt;</code> </blockquote> <br><br>  You can order to move "through the attack" <br><br><blockquote> <code><font color="black">DestroyersSquad1.AttackOrder( <font color="#0000ff">new</font> GameVector(-3000, -2000));</font> &lt;br&gt;&lt;br&gt;</code> </blockquote> <br><br>  You can set the type of building - line, rectangle, wedge or pack (without building). <br><blockquote> <code><font color="black">DestroyersSquad1.SetFormationTypeLine(WidthBetweenUnits, AngleForward);</font> &lt;br&gt;</code> </blockquote> <br>  Creating your own geometry is also possible. <br>  There are also orders to attack the nearest enemy, ramming the enemies (by the way, a useful thing is to destroy the enemy cruiser with fighters) <br><br>  It is just as easy to investigate the enemy - the class EnemyAnalyzing periodically conducts the clustering of enemies - that is, you can easily find out which teams your opponent has divided the fleet <br><br>  Working with geometry is also taken into account - the GameVector vector class contains methods for rotation, vector math operators are overloaded.  There is a class Angle, which allows you to fold the corners, without fear of getting a thousand degrees, to find the difference, the distance between the corners, etc.  for more details see documentation. <br><br>  Of course, standardization to such an extent excludes the possibility of creating a unique behavior of a unit, a particularly cool Jedi-Chacnor fighter, but the game is strategic in ideology.  In addition, as mentioned above, there are two levels of abstraction of interaction with the game: the first is a high-level one, where the player indicates who to attack or where to fly the squad and what order;  at the second level, the player indicates directly the linear acceleration, the acceleration of the rotation of the unit and the moment of the shot.  So the units were controlled until the birthday.  It turns out that the opportunity to get confused and make Chuck Norris remains. <br><br><h3>  Debugging </h3><br><br>  There are several ways to debug <br><ul><li>  Display text on behalf of the player.  The game class has a method SetText (string text).  You can use line break \ n </li><li>  The output of the text on behalf of the unit.  The unit has a Text field, the contents of which will be displayed on the screen.  You can also use line breaks. </li><li>  Geometry output.  The game class has a GeometryViewer field, whose class has methods for drawing a rectangle, a circle, a line and a point.  The color is set (transparency is allowed) and the figure itself.  By the way, the structure of the figures is also its own, have methods for calculating intersections. </li></ul><br><br><img src="http://pic.co.ua/images/1258846999eb30944bd464aa4404da2b08195f64bc.png"><br><br>  The settings file allows <br><ul><li>  Enable or disable debug output </li><li>  Run the program in full screen or window mode </li><li>  Change the number of units of each type for each side separately (for example, as I learned that 100 fighters are ‚Äústanding‚Äù 13-15 corvettes) </li></ul><br><h3>  How to write a player </h3><br>  Writing "Hello world" and an adequate algorithm takes only a couple of minutes.  The player can be written in any .NET language. <br>  For this you need: <br><ul><li>  Connect the MiniGameInterfaces.dll library and, optionally, EtalonAI.dll for a pleasant writing. </li><li>  Inherit the AI ‚Äã‚Äãclass, overload the Init and Update methods in it. </li></ul><br>  That's it. It's almost a complete guide. <br><br><h3>  Details </h3><br><br>  The game was written in C # using XNA, so pardon, Windows-only.  After all, I did not expect to show anyone other than friends, but all the same, C # is a complete convenience.  Mad Fish is now porting a game for Linux. <br>  Control keys <br><ul><li>  Page up and page down - increase, decrease simulation speed </li><li>  Home and end - the distance and approach of the camera. </li><li>  Arrows - moving camera </li><li>  Pause - pause </li><li>  Esc - exit </li></ul><br><br><h3>  Conclusion </h3><br><br>  I hope to develop the project further.  For example, graphics are humanly done and all that.  <a href="https://habrahabr.ru/users/mad_fish/" class="user_link">Mad_Fish</a> is currently porting CodeCraft to OpenGL, and says that Microsoft shouldn‚Äôt depend on) <br>  But the most interesting thing is of course to download a player written by one of you;  look at his tactics;  figure out how to beat it;  load your player winning it and wait for the opponent's response. <br>  Download strangers and add your players <a href="http://77.90.249.194/CodeCraft/">here.</a> <br><br><img src="http://pic.co.ua/images/1258820190bf67e0dccc391138438be721622e4e44.png"><br><br><h3>  Links </h3><br><br><ul><li>  GoogleCode <a href="http://codecraft-game.googlecode.com/svn/trunk/">repository</a> </li><li>  <a href="">Documentation</a> in CHM format for the ‚Äúsimple‚Äù and ‚Äúcomplex‚Äù version of the game. </li><li>  <a href="">Binary game</a> .  Examples of players are attached. </li><li>  <a href="">Sources of the game</a> .  Sources of examples of players are attached </li><li>  <a href="http://77.90.249.194/CodeCraft/">Game site</a> - a place to exchange players </li></ul><br>  Records of games in CodeCraft.  Participants are examples of players <br><ul><li>  <a href="http://www.youtube.com/watch%3Fv%3DAFQnlFdaGyg">"Kamikaze fighters" against "attack vlob"</a> </li><li>  <a href="http://www.youtube.com/watch%3Fv%3DLcHmuRbLZNQ">"Kamikaze fighters" against "Defensive tactics"</a> </li><li>  <a href="http://www.youtube.com/watch%3Fv%3DmYJfdnLxM9c">"Kamikaze fighters" against "Attack Cruiser-Corvette Fighter"</a> </li><li>  <a href="http://www.youtube.com/watch%3Fv%3Dbl8hciM68c0">"Defensive tactics" against "attack vlob"</a> </li><li>  <a href="http://www.youtube.com/watch%3Fv%3DQSmT9YjVRZw">"Defensive tactics" against "Attack of the Cruiser-Corvette Fighter"</a> </li><li>  <a href="http://www.youtube.com/watch%3Fv%3Dldo7gaZlhkU">‚ÄúAttack of the Cruiser-Corvette Fighter‚Äù against ‚ÄúAttack of the Vlob‚Äù</a> </li><li>  <a href="http://www.youtube.com/watch%3Fv%3DoxcHoVQ4p24">"Attack Corvette-cruiser fighter" against "Attack Vlob"</a> </li><li>  <a href="http://www.youtube.com/watch%3Fv%3DFd-ej_1vMbU">"Attack Corvette-cruiser fighter" against "Defensive tactics"</a> </li><li>  <a href="http://www.youtube.com/watch%3Fv%3D0hPGjd-qRv4">"Fighters Chucky Norris" against "Attack Vlob"</a> </li><li>  <a href="http://www.youtube.com/watch%3Fv%3DOvcMwHKqoR4">"Fighters Chucky Norris" against "Defensive Tactics"</a> </li><li>  <a href="http://www.youtube.com/watch%3Fv%3Dk_nLMmFIISA">"Balanced troops" against "Defensive tactics"</a> </li><li>  <a href="http://www.youtube.com/watch%3Fv%3DzDPeAvd-MdQ">"Everything is rigged" against "Vlob Attack."</a>  Title video </li></ul><br><br>  Have a nice game <br><br></div><p>Source: <a href="https://habr.com/ru/post/75998/">https://habr.com/ru/post/75998/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../75989/index.html">Skype sold for 2.75 billion dollars to its creators</a></li>
<li><a href="../75990/index.html">Teamwork in Git</a></li>
<li><a href="../75993/index.html">Alternative way to get SID</a></li>
<li><a href="../75995/index.html">Linus - Nobel!</a></li>
<li><a href="../75996/index.html">Windows 8</a></li>
<li><a href="../75999/index.html">Taming rsync on Mac OS X</a></li>
<li><a href="../76001/index.html">Type control of function arguments in Lua</a></li>
<li><a href="../76002/index.html">Programmer and bugs - relevant at all times</a></li>
<li><a href="../76003/index.html">Debian announces official support for DebSrc3.0</a></li>
<li><a href="../76004/index.html">Is the iPhone warranty in Russia a myth or a reality?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>