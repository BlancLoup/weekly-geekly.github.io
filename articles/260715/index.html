<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to use Canvas to compile a clickable world map on Unity3d</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There was a task to collect a map of the world. And it is to collect from many countries, countries of the region, because countries should be clickab...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to use Canvas to compile a clickable world map on Unity3d</h1><div class="post__text post__text-html js-mediator-article">  There was a task to collect a map of the world.  And it is to collect from many countries, countries of the region, because countries should be clickable.  Yes, there is nowhere easier, you will say, all you have to do is sift the whole map and hang out polygon-colliders, pfff by country ... But no, it means that the country will have to change color to red or black and will appear white when clicked.  In addition, over time, red points should appear on the country (yes, yes ... I know what you thought).  These points should be quite a lot on the map. <br><br>  It was decided to assemble a map using Canvas.  Convenient thing, saves a lot of time.  But not at this time. <br><a name="habracut"></a><br>  The 1st problem is a country of different sizes and a situation arises when one country closes the ocean or other countries with a transparent section, and the click doesn‚Äôt go where it‚Äôs needed, more precisely, not where it would be logical to (sprites would say a little bit what you would saw the horror of what is happening). <br><br><img src="https://habrastorage.org/files/b2c/7bc/9a1/b2c7bc9a124b494da8509f504095d5a9.png" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      My first thought: to hang a Button on an Image-object and it‚Äôs in the bag, but no, the problem doesn‚Äôt solve it, Button is based on Image and it doesn‚Äôt let transparent sections, that is, transparent sections will still be buttons. <br>  The second thought: get a pixel of the image at the point of pressing, and if the pixel is not transparent, then we clicked where we need it, if transparent, then see what other pixels there are at the clicked point. <br><br>  And here is a stupor.  How to get a pixel of a picture is not a problem, there are a lot of examples, but how to get canvas objects at the point of depression?  Canvas does not have a collider, so letting Raycast useless is not going to return anything.  And to push on each image-country a polygon-collider wildness. <br><br>  Well, after reading the help and viewing a manual video with English-speaking Indians on Youtube, I came to the conclusion that it was time to use the features of EventSystem. <br><br>  Created a script for the CountryMap countries and inherited it from the IPointerClickHandler interface, which is included in the above namespace.  The only method of this interface OnPointerClick accepts a variable of type PointerEventData as input.  From this variable, you can get a lot of interesting information, but I only need the position of depression. <br><br>  Okay, the country is clickable (thanks to the interface), we know the position of tapa, it remains to get the pixel of the image under this position.  We write a small method: <br><br><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IsAlphaPoint</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">PointerEventData eventData</span></span></span><span class="hljs-function">)</span></span> { Vector2 localCursor; RectTransformUtility.ScreenPointToLocalPointInRectangle(GetComponent&lt;RectTransform&gt;(), eventData.position, eventData.pressEventCamera, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> localCursor); Rect r = RectTransformUtility.PixelAdjustRect(GetComponent&lt;RectTransform&gt;(), GetComponent&lt;Canvas&gt;()); Vector2 ll = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(localCursor.x - rx, localCursor.y - ry); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)(ll.x / r.height * CountryImg.sprite.textureRect.height); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> y = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)(ll.y / r.height * CountryImg.sprite.textureRect.height); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (CountryImg.sprite.texture.GetPixel(x, y).a &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnPointerClick</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">PointerEventData eventData</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!IsAlphaPoint(eventData)) { print(gameObject.name); } }</code> </pre> <br>  If it is interesting, I will describe in more detail.  In short, we transform the position from the screen coordinates to the local coordinates of the picture, get the position relative to the center of the picture, calculate the pixel coordinates of the picture, get the pixel, check for the alpha channel. <br><br>  All fire, run! <br><br><img src="https://habrastorage.org/files/563/a57/68f/563a5768f9964c4a9f853a8e910a054b.png" alt="image"><br><br>  There is a ban on reading the texture, we find the sprite image and expose it to the following parameters: <br><br><img src="https://habrastorage.org/files/7c8/c8b/dbd/7c8c8bdbdaa945bfb33b13bfd3a1dfe5.png" alt="image"><br><br>  Now everything is fine, however ... <br><br>  2nd problem.  The pixel we found, the alpha channel was determined.  But under the transparent layer is still another country. <br><br>  Again EventSystem comes to the rescue, which has its own Raycast with blackjack and gameObjecta'mi. <br><br><pre> <code class="cs hljs"> List&lt;RaycastResult&gt; raycastResults=<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;RaycastResult&gt;(); EventSystem.current.RaycastAll(eventData, raycastResults);</code> </pre><br>  The list of objects received, now you can work with it: <br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MayBeYouWantClickMe</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">List&lt;CountryMap&gt; ResultsCountryMap, PointerEventData eventData</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!IsAlphaPoint(eventData)) { print(gameObject.name); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TapEvent != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) TapEvent(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { ResultsCountryMap.Remove(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ResultsCountryMap.Count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) ResultsCountryMap[<span class="hljs-number"><span class="hljs-number">0</span></span>].MayBeYouWantClickMe(ResultsCountryMap, eventData); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnPointerClick</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">PointerEventData eventData</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!IsAlphaPoint(eventData)) { print(gameObject.name); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TapEvent != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) TapEvent(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { List&lt;RaycastResult&gt; raycastResults=<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;RaycastResult&gt;(); EventSystem.current.RaycastAll(eventData, raycastResults); List&lt;CountryMap&gt; ResultsCountryMap = raycastResults.Select(x =&gt; x.gameObject.GetComponent&lt;CountryMap&gt;()).ToList(); ResultsCountryMap.RemoveAll(x =&gt; x == <span class="hljs-literal"><span class="hljs-literal">null</span></span> || x.gameObject==gameObject); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ResultsCountryMap.Count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) ResultsCountryMap[<span class="hljs-number"><span class="hljs-number">0</span></span>].MayBeYouWantClickMe(ResultsCountryMap, eventData); }</code> </pre><br>  Well, that's all, now even if over an opaque pattern will be even 100 or more transparent, we will still see opaque. <br><br><div class="spoiler">  <b class="spoiler_title">I will give the full script code:</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine.UI; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine.EventSystems; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Linq; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">CountryMap</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span>,<span class="hljs-title"><span class="hljs-title">IPointerClickHandler</span></span> { Image CountryImg; Image SelectCountry; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">event</span></span> CountryMapEvent TapEvent; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Awake</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { CountryImg = GetComponent&lt;Image&gt;(); SelectCountry = transform.GetChild(<span class="hljs-number"><span class="hljs-number">0</span></span>).GetComponent&lt;Image&gt;(); SelectCountry.sprite = Resources.Load&lt;Sprite&gt;(<span class="hljs-string"><span class="hljs-string">"Image/Countries/"</span></span> + CountryImg.sprite.name); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IsAlphaPoint</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">PointerEventData eventData</span></span></span><span class="hljs-function">)</span></span> { Vector2 localCursor; RectTransformUtility.ScreenPointToLocalPointInRectangle(GetComponent&lt;RectTransform&gt;(), eventData.position, eventData.pressEventCamera, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> localCursor); Rect r = RectTransformUtility.PixelAdjustRect(GetComponent&lt;RectTransform&gt;(), GetComponent&lt;Canvas&gt;()); Vector2 ll = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(localCursor.x - rx, localCursor.y - ry); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)(ll.x / r.height * CountryImg.sprite.textureRect.height); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> y = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)(ll.y / r.height * CountryImg.sprite.textureRect.height); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (CountryImg.sprite.texture.GetPixel(x, y).a &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MayBeYouWantClickMe</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">List&lt;CountryMap&gt; ResultsCountryMap, PointerEventData eventData</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!IsAlphaPoint(eventData)) { print(gameObject.name); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TapEvent != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) TapEvent(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { ResultsCountryMap.Remove(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ResultsCountryMap.Count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) ResultsCountryMap[<span class="hljs-number"><span class="hljs-number">0</span></span>].MayBeYouWantClickMe(ResultsCountryMap, eventData); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnPointerClick</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">PointerEventData eventData</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!IsAlphaPoint(eventData)) { print(gameObject.name); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TapEvent != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) TapEvent(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { List&lt;RaycastResult&gt; raycastResults=<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;RaycastResult&gt;(); EventSystem.current.RaycastAll(eventData, raycastResults); List&lt;CountryMap&gt; ResultsCountryMap = raycastResults.Select(x =&gt; x.gameObject.GetComponent&lt;CountryMap&gt;()).ToList(); ResultsCountryMap.RemoveAll(x =&gt; x == <span class="hljs-literal"><span class="hljs-literal">null</span></span> || x.gameObject==gameObject); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ResultsCountryMap.Count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) ResultsCountryMap[<span class="hljs-number"><span class="hljs-number">0</span></span>].MayBeYouWantClickMe(ResultsCountryMap, eventData); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StopSelect</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { StopAllCoroutines(); SelectCountry.color = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Color32(<span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StartSelect</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { StartCoroutine(Selecting()); } <span class="hljs-function"><span class="hljs-function">IEnumerator </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Selecting</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> alpha=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> count = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-literal"><span class="hljs-literal">true</span></span>) { alpha = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)Mathf.PingPong(count, <span class="hljs-number"><span class="hljs-number">150</span></span>); count = count &gt; <span class="hljs-number"><span class="hljs-number">300</span></span> ? <span class="hljs-number"><span class="hljs-number">0</span></span> : count + <span class="hljs-number"><span class="hljs-number">5</span></span>; SelectCountry.color = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Color32(<span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>)alpha); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">yield</span></span></span><span class="hljs-function"> return new </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WaitForFixedUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; } } }</code> </pre><br></div></div><br>  And now the bonus from solving the puzzle with the help of pixel viewing.  Remember that picture where we put the parameters to the sprite?  So, there is such a tick Read / Write Enabled, it is thanks to her that we can get access to the PS.  As is clear from the word Write - not only for reading. <br><br>  We can change pixels as we like! <br><br>  Example, clarifying the sprite: <br><br><pre> <code class="cs hljs">Texture2D tex = CountryImg.sprite.texture; Texture2D newTex = (Texture2D)GameObject.Instantiate(tex); newTex.SetPixels32(tex.GetPixels32()); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; newTex.width; i++) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; newTex.height; j++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (newTex.GetPixel(i, j).a != <span class="hljs-number"><span class="hljs-number">0f</span></span>) newTex.SetPixel(i, j, newTex.GetPixel(i, j)*<span class="hljs-number"><span class="hljs-number">1.5f</span></span>); } } newTex.Apply(); CountryImg.sprite = Sprite.Create(newTex, CountryImg.sprite.rect, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(<span class="hljs-number"><span class="hljs-number">0.5f</span></span>, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>));</code> </pre><br>  It was: <br><br><img src="https://habrastorage.org/files/6a4/6f9/028/6a46f90282ee4bf4a573794d9a60be26.png" alt="image"><br><br>  Result: <br><br><img src="https://habrastorage.org/files/665/0a4/0c0/6650a40c08c1463ababd764dcdd7c417.png" alt="image"><br><br>  That's all.  I really hope that this article will somehow help someone.  If you have questions or comments, please write comments. </div><p>Source: <a href="https://habr.com/ru/post/260715/">https://habr.com/ru/post/260715/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../260705/index.html">3CX Free License Updates: Important Information</a></li>
<li><a href="../260707/index.html">Android development - Gradle JarJar plugin</a></li>
<li><a href="../260709/index.html">Webinar Recording - Optimize Kerio Connect Performance</a></li>
<li><a href="../260711/index.html">Free mono-vendor seminar on Kerio solutions - Kerio Control</a></li>
<li><a href="../260713/index.html">Where to go to study as a programmer</a></li>
<li><a href="../260717/index.html">Quick Start Template for Arduino Due at QtCreator</a></li>
<li><a href="../260719/index.html">AJAX and performance</a></li>
<li><a href="../260721/index.html">Transceiver Signal Level via SNMP in Cisco</a></li>
<li><a href="../260723/index.html">Fix Alt-Tab in LabView</a></li>
<li><a href="../260727/index.html">Replacing HDD on NetUP tape drive and installing firmware</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>