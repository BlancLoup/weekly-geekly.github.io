<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Part 2. How to connect a smartphone to the car - begin to practice</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After we theoretically have been savvy (see Part 1 ) and already imagine what is worth and what should not be expected from connecting a smartphone to...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Part 2. How to connect a smartphone to the car - begin to practice</h1><div class="post__text post__text-html js-mediator-article">  After we theoretically have been savvy (see <a href="http://habrahabr.ru/company/pnn/blog/186242/">Part 1</a> ) and already imagine what is worth and what should not be expected from connecting a smartphone to your car, we can proceed to practice. <br><img src="https://habrastorage.org/storage2/7e0/698/730/7e06987307e714e7031a922d941bd8bd.png"><br><a name="habracut"></a><br>  To begin with, the presence of 3 devices is important for successful auto diagnostics: <br>  <b>1. Car</b> <b><br></b>  <b>2. Adapter</b> <b><br></b>  <b>3. Mobile device (laptop, PC, smartphone)</b> <br><br><h4>  Car </h4><br>  So, you have a car and you want to know whether it is possible, and if possible, to connect to your car. <br>  The presence of a <i>diagnostic connector (DLC)</i> , the main function of which is to connect the diagnostic scanner with control units, automatically assumes the ability to connect to the on-board computer of the vehicle from the outside, including from the smartphone using the appropriate adapter.  But as mentioned in the previous part of the many different DLC connectors and proprietary protocols, we will consider only the relevant <a href="http://en.wikipedia.org/wiki/On-board_diagnostics">OBD-II standards</a> , especially since most modern cars meet this standard. <br><br>  <i>And so, the first question: Does my car meet the OBD-II standard?</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>Prerequisites may be:</i> <br><ul><li>  The car was produced for the US market (OBD-II) after 1996. </li><li>  the car was produced for the European market (EOBD), gasoline after 2001, diesel after 2004. </li><li>  The car was produced for the Japanese market (JOBD) after 2004. </li></ul><br>  If the cars were produced for other markets: the CIS, Asia, Africa, etc., then it is more difficult to establish a clear date and guarantees for OBD-II support.  You also need to remember that some manufacturers could support the standard in earlier models of their cars. <br><br>  <i>The next step may be to search for the appropriate sticker under the hood of the car.</i> <br>  The label must contain information about compliance with the standard and may contain the abbreviations OBD-II, EOBD or JOBD.  It may look different, here are some of the options. <br><img src="https://habrastorage.org/storage2/cd5/436/1f8/cd54361f8d161c4d54a6f5f6ef6bb87e.png"><img src="https://habrastorage.org/storage2/b70/497/d2b/b70497d2b6cda8cb10e952a85304cccc.png"><img src="https://habrastorage.org/storage2/955/852/81c/95585281c718feefa0cc417f8d419c34.png"><br>  Regardless of the success of the search in the previous steps, it is time to find the <i>diagnostic connector itself</i> .  If the machine complies with OBD-II, then the connector is sure to be found and it will be possible to connect to it for further research.  If there is still no confidence in compatibility, the presence and shape of the connector can serve as an additional clue to the mystery of the DLC. <br><br>  We are looking for a 16-pin trapezoid-shaped diagnostic connector, such as in the figure. <img src="https://habrastorage.org/storage2/326/42c/17b/32642c17b4900547b970a2d0d93ab8c7.png" align="right">  DLC connector must comply with SAE J1962 standards.  According to these standards, the DLC connector is required to occupy a certain central position in the car.  It should be within 16 inches (40 cm) of the steering wheel.  A manufacturer can place a DLC in one of eight locations defined by the EPA.  Each connector pin has its own purpose. <br><br>  In accordance with the standard diagnostic connector should be located near the steering column, often below the torpedo to the left, to the right or directly under the steering column.  However, there are also exotic cases: <br><img src="https://habrastorage.org/storage2/66f/177/610/66f177610421dd4b5fb4b825004e10ec.png" align="right">  behind the panel on the front of the torpedo, behind the folding box near the driver's door, etc., all possible locations of 8, we tried to illustrate with pictures with arrows and tips where to look for the connector. <br><br>  1. On the driver's side, under the instrument panel, in the area under the steering column: Skoda Octavia Tour, 2008, Volkswagen Transporter 2002 <img src="https://habrastorage.org/storage2/543/d39/e4d/543d39e4da549dc7e956bc272b326433.png"><br>  2. On the driver's side, under the instrument panel, in the area between the driver's door and the steering column - Ford Focus C-Max, 2006;  Ford Focus (USA) 2001, Fiat Linea, 2008;  Subaru, Impreza WRX, 2005. <br><img src="https://habrastorage.org/storage2/213/f47/9bd/213f479bd841b30d0c45d5e4904cb266.png"><br>  3. On the driver's side, under the instrument panel, between the steering column and the center console.  Also, the connector can be located on the console itself from the driver‚Äôs side.  Honda Civic 2009 <br><img src="https://habrastorage.org/storage2/b59/1d9/b2a/b591d9b2a26ef061e23244199fe7855e.png"><br>  4. On the driver's side, in the area of ‚Äã‚Äãthe instrument panel, between the steering column and the center console of the Volkswagen Passat 1996 ... <br><img src="https://habrastorage.org/storage2/e07/243/816/e07243816406755d7cf54c95ad549325.png"><br>  5. On the driver's side, in the area of ‚Äã‚Äãthe instrument panel, between the driver's door and the center console of the BWM X5 2001. <br><img src="https://habrastorage.org/storage2/7b6/463/1bb/7b64631bb40ef4dcdd133e78cb2593b7.png"><br>  6. The central console, on a vertical surface (radio, remote control heating, etc.).  Access to the diagnostic socket can be closed with an ashtray, coin box, glass holder, etc.  Honda Accord (USA) 1997 <br><img src="https://habrastorage.org/storage2/be5/191/73d/be519173d24ea9dc9dd326409b6c895b.png"><br>  7. On the passenger side, on the center console of the Honda Shuttle 1996 ... <br><img src="https://habrastorage.org/storage2/1aa/e10/1e0/1aae101e0391fdb6c5cb4abc247df3a4.png"><br>  8. The center console, on a horizontal surface Volvo 850 95-97g.v. <br><img src="https://habrastorage.org/storage2/340/8bd/4ad/3408bd4ad6416183cb6c638cd2bbc8ee.png"><img src="https://habrastorage.org/storage2/9e5/cb8/4da/9e5cb84dab0ee6120a63d5be1078d0fb.png"><br>  <i>Possible search results:</i> <br><br><ul><li>  The connector was found, but it does not look like the one shown in the picture: rectangular / square / round, it does not have 16 contacts, etc.  The chances of connecting are small enough, even if you find out that the contacts correspond to the OBD-II wiring and you can solder (buy) the adapter, the probability that the protocols will be fully compatible is small.  In this case, it is worthwhile to continue only if you are well prepared enough in terms of the compatibility of the signal and logical protocols and their ‚Äúdialects‚Äù. </li><li>  there is a connector and it fully complies with the OBD-II description.  Chances of successful connection increase significantly.  Additionally, you can ask on the automotive forums, where car owners share similar models of experience. </li></ul><br><br><h4>  Adapter </h4><br><br>  The next item is the choice of the adapter, which may also differ both in the type of connection to the computer / smartphone (USB, Bluetooth, Wi-Fi) and on the circuitry, and, as a result, on the command interface.  As such, OBD-II commands are unified, but since OBD-II combines several different signaling protocols, complete consistency does not work. <br><img src="https://habrastorage.org/storage2/326/42c/17b/32642c17b4900547b970a2d0d93ab8c7.png" align="right"><br><ul><li>  First, various physical lines (contacts), K-Line, L-Line can be used to transfer information ... </li><li>  Secondly, transmission frequencies may vary significantly from 4.8 to 500 Kbaud. </li><li>  Thirdly, the rules for the formation of auxiliary information: headers and endings of packets may differ. </li></ul><br>  The adapter itself provides the ability to automatically or programmatically control the type and parameters of the connection.  A smartphone or computer connects to the adapter via a wired or wireless connection and receives high-level commands.  Execution of the corresponding commands involves either changing the settings of the adapter itself, or relaying OBD-II commands to the on-board computer of the vehicle in accordance with the settings of the adapter. <br><br>  The vast majority of modern adapters are based on the <a href="http://en.wikipedia.org/wiki/ELM327">ELM327 microcontroller</a> , pirated copies of the earlier version of the ELM327, or on the <a href="http://www.obdsol.com/stn1110/">STN1110</a> microcontroller (compatible with ELM327 at the command level).  As mentioned above, wireless (Bluetooth, Wi-Fi Direct) or wired (USB, RS232) can be used to communicate with a computer or smartphone.  In all cases we are talking about a <a href="https://en.wikipedia.org/wiki/Serial_communication">serial connection</a> on top of the listed interfaces.  The choice of a specific type of interface depends on the capabilities of supporting this interface by your computer or smartphone. <br><img src="https://habrastorage.org/storage2/bcb/ae6/a3d/bcbae6a3deb957c4996f9f1ce3f62b2d.png"><br><br><h4>  Mobile device </h4>  (laptop, pc, smartphone, etc.) <br><br>  <i>Consider the device types in order:</i> <br>  <b>Computers</b>  In a laptop, as a rule, there are all interfaces and the choice is determined by the price, ease of connection, the possibilities of using the adapter with other devices, as well as support from the software of this type of interface. <br><br>  <b>iPhone &amp; iPad.</b>  The only available connection option (apart from exotics in the form of a specialized cable or certified Bluetooth adapters) is the Wi-Fi Direct connection, since access to the Bluetooth connection using standard API is limited and does not allow you to establish the necessary type of connection to the adapter. <br><br>  <b>Android</b>  The most common option is a Bluetooth adapter.  Wi-Fi Direct can be supported either on ‚Äúrooted‚Äù devices, or on Android 4.x versions, or on some devices there may be nuances with Wi-Fi Direct hardware support.  If your mobile device supports USB host port, then there is a connection option and a USB adapter. <br><br>  <b>Windows CE, Windows Mobile, Windows Phone.</b>  Windows CE and Windows Mobile devices are quite open in terms of low-level hardware interfaces, respectively, if there is a physical interface in the device, it will be possible to connect to it.  The most commonly used Bluetooth adapter. <br>  Windows Phone 7.x devices do not have the necessary access to Bluetooth and Wi-Fi at the level of the standard API.  The implementation of interaction with the adapter on these devices is problematic. <br>  Windows Phone 8.x received the necessary level of support for working with Bluetooth adapters. <br><br>  <b>Blackberry</b>  Implementation of interaction with Bluetooth adapters is possible. <br><br>  <b>Symbian.</b>  Implementation of interaction with Bluetooth adapters is possible. <br><br>  <i>From the above, we can conclude that</i> Bluetooth adapters <i>are</i> more universal in terms of supported devices, but if you need to connect from Apple devices, then you need to look for Wi-Fi Direct adapters. <br><br>  With interfaces, you are less sorted out.  Now, I think many may be interested in the choice of microcontroller (ELM327, ELM327 clone, STN1110), since prices can vary by more than an order of magnitude from $ 5-7 to $ 100 or more per device. <br><br>  <b>ELM327</b> is the original design and product of <a href="http://www.elmelectronics.com/">ELM Electronics</a> .  Current versions 1.3a, 1.4b and brand new 2.0.  The cost of solutions based on the original ELM327 is usually around $ 100, since the cost of the microcontrollers themselves is $ 15- $ 25. <br><br>  <b>ELM327 clones</b> - most often Chinese microcontrollers copying one of the early "unprotected" variants of ELM327.  May be referred to as versions of the original controllers 1.3a, 1.4b, and not existing 1.4a, 1.5, 1.5a or v2.1.  The cost of such adapters starts from about $ 5 for bluetooth and USB solutions, and from $ 15 for Wi-Fi. <br><br>  <b>STN1110</b> is a development company <a href="http://www.obdsol.com/">OBD Solutions</a> .  Independent development is command level compatible with ELM327.  It has some advanced features, in particular, the presence of great opportunities (compared to ELM327) when working with non-OBD-II teams is declared.  Also significantly higher (2-4 times) the speed of reading data compared to ELM327 versions 1.x.  Compare with the version of ELM327 2.0 opportunity has not yet presented.  The cost of such an adapter (we only know one <a href="http://www.scantool.net/scan-tools/smart-phone/obdlink-mx.html">OBDLink MX</a> ) $ 150. <br><br>  <b>Finally, conclusions!</b>  From our point of view, in 90% of cases, the capabilities of cheap ELM327 clones are quite sufficient for connecting to a car and solving simple tasks: diagnosing a car, reading and analyzing dynamic parameters and their ratios, resetting errors, etc.  The use of more expensive adapters is justified in cases where you have a clear idea of ‚Äã‚Äãwhat you need from the adapter and what opportunities you lack in clones. <br><br>  The question of the acquisition of the selected adapter remains open.  Depending on your choice of Bluetooth, Wi-Fi, USB interface, enter one of the phrases ‚ÄúELM327 Bluetooth‚Äù, ‚ÄúELM327 Wi-Fi‚Äù or ‚ÄúELM327 USB‚Äù in the search bar of your favorite search engine and select the delivery option that suits you - local sellers or global internet sites like eBay or AliExpress. <br><br>  <i>We wish you success in finding the diagnostic connector and choosing the best adapter option!</i>  <i>In the meantime, you are busy searching, we are preparing the following article, in which we will acquaint you with the available software solutions and show you how to read data from a car‚Äôs on-board computer in practice.</i> <i><br></i> <br><br>  P.S. <br>  Hooray!  Continuation is available - <a href="http://habrahabr.ru/company/pnn/blog/188488/">Part 3. How to connect a smartphone to the car - read the data</a> </div><p>Source: <a href="https://habr.com/ru/post/186930/">https://habr.com/ru/post/186930/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../186912/index.html">Communigate - mobile office for VPS hosting</a></li>
<li><a href="../186920/index.html">Competition of mobile applications for the city of Moscow App Contest'13</a></li>
<li><a href="../186922/index.html">What's new in Windows Server 2012 R2?</a></li>
<li><a href="../186924/index.html">Pope Francis will hand out indulgences via Twitter</a></li>
<li><a href="../186926/index.html">Nokia Lumia 1020. Shock! A photo!</a></li>
<li><a href="../186932/index.html">Using BLF on Escene Phones</a></li>
<li><a href="../186934/index.html">BitTorrent Sync goes into beta</a></li>
<li><a href="../186940/index.html">AOP in action. AspectJ (CTW) + Spring + LTW</a></li>
<li><a href="../186942/index.html">Monitoring server resources running * nix with RRDtool</a></li>
<li><a href="../186944/index.html">We write our system monitor (Linux)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>