<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Installing MPB and MEEP on CentOS 7 and Ubuntu 14.04</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="MPB (MIT Photonic Bands) is an open source freeware program that was originally designed to calculate the dispersion diagrams of photonic crystals . 
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Installing MPB and MEEP on CentOS 7 and Ubuntu 14.04</h1><div class="post__text post__text-html js-mediator-article">  <a href="http://ab-initio.mit.edu/wiki/index.php/MIT_Photonic_Bands">MPB (MIT Photonic Bands)</a> is an open source freeware program that was originally designed to calculate the dispersion diagrams of <a href="https://ru.wikipedia.org/wiki/%25D0%25A4%25D0%25BE%25D1%2582%25D0%25BE%25D0%25BD%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BA%25D1%2580%25D0%25B8%25D1%2581%25D1%2582%25D0%25B0%25D0%25BB%25D0%25BB">photonic crystals</a> . <br><br>  <a href="http://ab-initio.mit.edu/wiki/index.php/Meep">MEEP</a> is the same free source code program used to simulate the behavior of electromagnetic waves in various media (photonic crystals, waveguides, resonators, and the like). <br><br>  Both programs were developed at the Massachusetts Institute of Technology (MIT) and both are constantly receiving new opportunities.  MPB was written by Stephen Johnson (born <a href="http://math.mit.edu/~stevenj/">Steven G. Johnson</a> ) during his postgraduate work.  MEEP was written a little later with Stephen. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Both programs calculate the distribution of the electric and magnetic components of the electromagnetic field using a combination of numerical and analytical methods for solving a system of Maxwell equations (in one-, two-, or three-dimensional structures), but each of them does this in its own way.  If MPB is designed for use with respect to periodic and quasi-periodic structures and calculating the frequencies of standing waves (modes) in these structures, then MEEP is designed to simulate the propagation of electromagnetic waves through the same <a href="https://ru.wikipedia.org/wiki/%25D0%25A4%25D0%25BE%25D1%2582%25D0%25BE%25D0%25BD%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BA%25D1%2580%25D0%25B8%25D1%2581%25D1%2582%25D0%25B0%25D0%25BB%25D0%25BB">photonic crystals</a> , <a href="https://ru.wikipedia.org/wiki/%25D0%2594%25D0%25B8%25D1%258D%25D0%25BB%25D0%25B5%25D0%25BA%25D1%2582%25D1%2580%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25BE%25D0%25B5_%25D0%25B7%25D0%25B5%25D1%2580%25D0%25BA%25D0%25B0%25D0%25BB%25D0%25BE">dielectric mirrors</a> , through <a href="https://ru.wikipedia.org/wiki/%25D0%2592%25D0%25BE%25D0%25BB%25D0%25BD%25D0%25BE%25D0%25B2%25D0%25BE%25D0%25B4">waveguides</a> and inside <a href="https://ru.wikipedia.org/wiki/%25D0%259E%25D0%25B1%25D1%258A%25D1%2591%25D0%25BC%25D0%25BD%25D1%258B%25D0%25B9_%25D1%2580%25D0%25B5%25D0%25B7%25D0%25BE%25D0%25BD%25D0%25B0%25D1%2582%25D0%25BE%25D1%2580">resonators</a> .  It allows you to calculate the same dispersion diagrams of photonic crystals, the frequency of standing waves in both photonic crystals and non-periodic structures, the transmission and reflection spectra of various structures, the loss at the waveguide bends, and much more.  For this, MEEP uses a whole arsenal of various radiation sources, boundary conditions and radiation absorbers ( <a href="http://en.wikipedia.org/wiki/Perfectly_matched_layer">PML</a> ). <br><br>  The latest versions of MPB and MEEP can interact with each other.  For example, it is possible to write a program for MEEP, which asks MPB for calculating the field components for the main mode of the waveguide, and then will use these components to excite this mode in an optical waveguide fiber.  As a result, it will be possible to simulate the propagation of the main mode along the waveguide and display the result of calculations in third-party programs.  An example is shown below, where you can see the result of calculating the components of the wave that leaves the optical fiber.  The free program <a href="http://www.paraview.org/">Paraview was</a> used to display this result. <br><img src="https://habrastorage.org/files/d66/b40/085/d66b40085b4543179fb1377a4621b5af.png"><br>  I have to use these programs in my work, install and help other people in the installation.  The mailing lists of these programs occasionally skip questions about installing these programs from Russian-speaking users.  Surprisingly for myself, I did not find installation instructions in the Russian part of the Internet and decided to publish them here. <br><a name="habracut"></a><br><br><h1>  general information </h1><br>  In the world of commercial software products, these programs have competitors.  The analogue of the MPB program is <a href="http://optics.synopsys.com/rsoft/rsoft-passive-device-bandsolve.html">BandSOLVE</a> , the analogue of MEEP is <a href="http://optics.synopsys.com/rsoft/rsoft-passive-device-fullwave.html">FullWAVE</a> .  BandSOLVE and FullWAVE have a user-friendly graphical interface, but they are worth the money.  MPB and MEEP, unlike BandSOLVE and FullWAVE, are free, do not have a graphical interface, use the <a href="http://www.gnu.org/software/guile/">Guile</a> script language and are distributed under <a href="https://www.gnu.org/copyleft/gpl.html">the GNU license</a> along with their source codes. <br><br>  You can install MEEP and MPB from repositories if you are using Debian or Ubuntu.  This makes life easier for those users who have not yet learned how to compile and install these programs on their own.  At times, these programs from the repositories work fine, but it also happens that some functions do not work or the version of the programs in the repositories is just old.  Therefore, the best way is to install programs from sources. <br><br>  These programs can be installed on Windows computers using <a href="https://www.cygwin.com/">Cygwin</a> .  If anyone is interested in finding out how to do this, then I can tell you further.  But it is a laborious business and it was relevant 10-15 years ago.  It is now easier to put one of the Linux distributions on your computer and use these programs in their native environment.  Which of the Linux distributions you choose for your work is your business. <br><br>  In this note, the <a href="https://www.centos.org/">CentOS 7</a> OS will be used.  The repositories of this distribution already have the necessary for the work of the library <a href="http://www.hdfgroup.org/HDF5/">HDF5</a> , compiled with support for parallel computing.  This will facilitate our task, since it is often this library that is the source of problems if it does not work as expected.  There are other necessary libraries in the repositories, for example, <a href="http://www.fftw.org/">fftw</a> .  But the latter does not support <a href="http://en.wikipedia.org/wiki/Message_Passing_Interface">MPI</a> .  Therefore, it will need to compile yourself. <br><br>  The main sources of information for this note are the instructions for installing <a href="http://ab-initio.mit.edu/wiki/index.php/MPB_Installation">MPB</a> and <a href="http://ab-initio.mit.edu/wiki/index.php/Meep_Installation">MEEP</a> , but in this note a lot will be simplified.  All programs will be installed in the / usr / local / directory. <br><br><h1>  Step 1: Install Compilers and Libraries </h1><br>  In the terminal window we perform: <br><pre><code class="bash hljs">sudo yum install libtool* mpich-devel.* lapack* guile guile-devel readline-devel hdf5-* gcc-c++ scalapack-* paraview*</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Ubuntu 14.04 LTS</b> <div class="spoiler_text"><pre> <code class="bash hljs">sudo apt-get install libtool* mpich-dev* lapack* guile-2.0 guile-2.0-dev readline-dev fftw3-* paraview hdf5-* gcc-c++ scalapack-* paraview*</code> </pre> <br></div></div><br><br>  I suspect that unnecessary packages will be installed this way, but this method just works.  And the most attentive of you always tell you exactly what you can not install (I suspect that the scalapack- * could not install). <br><br><h1>  Step 2: we add the necessary environment variables to .bashrc (this is valid for CentOS 7 and for Ubuntu 14.04 LTS) </h1><br>  For this purpose, you can use any favorite text editor.  But if you use vim, then in the terminal window type: <br><pre> <code class="bash hljs">vim .bashrc</code> </pre> <br>  After that, press the i key to enter edit mode, move the cursor down the file and append it there: <br><pre> <code class="bash hljs">LDFLAGS=<span class="hljs-string"><span class="hljs-string">"-L/usr/local/lib -lm"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">export</span></span> LDFLAGS CPPFLAGS=<span class="hljs-string"><span class="hljs-string">"-I/usr/local/include"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">export</span></span> CPPFLAGS LD_LIBRARY_PATH=<span class="hljs-string"><span class="hljs-string">"/usr/local/lib:</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$LD_LIBRARY_PATH</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">export</span></span> LD_LIBRARY_PATH PATH=/lib64/mpich/bin:<span class="hljs-variable"><span class="hljs-variable">$PATH</span></span> <span class="hljs-built_in"><span class="hljs-built_in">export</span></span> PATH</code> </pre> <br>  Press the Esc key, type on the keyboard: wq and press Enter to save the changes to .bashrc and exit the editor.  After that we create a temporary directory t in which temporary files will be stored, and ‚Äúenter‚Äù into it: <br><pre> <code class="bash hljs">mkdir t <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> t</code> </pre> <br><br><h1>  Step 3: load, compile and install the MPI-enabled FFTW library </h1><br>  To do this, in the terminal window perform: <br><pre> <code class="bash hljs">wget http://www.fftw.org/fftw-3.3.4.tar.gz tar -xf fftw-3.3.4.tar.gz <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> fftw-3.3.4 CC=/lib64/mpich/bin/mpicc CXX=/lib64/mpich/bin/mpicxx F77=/lib64/mpich/bin/mpif77 ./configure --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-mpi --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-openmp make -j4 sudo make install <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ..</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Ubuntu 14.04 LTS</b> <div class="spoiler_text">  This library was already installed in step 1, but for some reason the hdf5 library does not work correctly.  So you have to compile and install it from source: <br><pre> <code class="bash hljs">wget http://www.hdfgroup.org/ftp/HDF5/current/src/hdf5-1.8.14.tar.gz tar -xf hdf5-1.8.14.tar.gz <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> hdf5-1.8.14 CC=mpicc CXX=mpicxx F77=mpif77 ./configure ‚Äì-<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-parallel ‚Äìprefix=/usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> make -j4 sudo make install <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ..</code> </pre> <br>  All subsequent instructions work for both CentOS 7 and Ubuntu 14.04. <br></div></div><br><br><h1>  Step 4: <a href="http://ab-initio.mit.edu/wiki/index.php/Libctl">Libctl</a> Library </h1><br>  In the same place we carry out: <br><pre> <code class="bash hljs">wget http://ab-initio.mit.edu/libctl/libctl-3.2.2.tar.gz tar -xf libctl-3.2.2.tar.gz <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> libctl-3.2.2 CC=/lib64/mpich/bin/mpicc CXX=/lib64/mpich/bin/mpicxx F77=/lib64/mpich/bin/mpif77 ./configure make -j4 sudo make install <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ..</code> </pre> <br><br><h1>  Step 5: MPB </h1><br>  Compile and install without MPI and OpenMP support: <br><pre> <code class="bash hljs">wget http://ab-initio.mit.edu/mpb/mpb-1.5.tar.gz tar -xf mpb-1.5.tar.gz <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> mpb-1.5/ CC=/lib64/mpich/bin/mpicc CXX=/lib64/mpich/bin/mpicxx F77=/lib64/mpich/bin/mpif77 ./configure make -j4 sudo make install make distclean</code> </pre> <br>  With MPI and OpenMP support <br><pre> <code class="bash hljs">CC=/lib64/mpich/bin/mpicc CXX=/lib64/mpich/bin/mpicxx F77=/lib64/mpich/bin/mpif77 ./configure --with-mpi --with-openmp make -j4 sudo make install <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ..</code> </pre> <br><br><h1>  Step 6: <a href="http://ab-initio.mit.edu/wiki/index.php/Harminv">Harminv</a> </h1><br>  We carry out: <br><pre> <code class="bash hljs">wget http://ab-initio.mit.edu/harminv/harminv-1.4.tar.gz tar -xf harminv-1.4.tar.gz <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> harminv-1.4/ CC=/lib64/mpich/bin/mpicc CXX=/lib64/mpich/bin/mpicxx F77=/lib64/mpich/bin/mpif77 ./configure make sudo make install <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ..</code> </pre> <br><br><h1>  Step 7: MEEP </h1><br>  Without MPI and OpenMP support: <br><pre> <code class="bash hljs">wget http://ab-initio.mit.edu/meep/meep-1.3.tar.gz tar -xf meep-1.3.tar.gz <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> meep-1.3/ CC=/lib64/mpich/bin/mpicc CXX=/lib64/mpich/bin/mpicxx F77=/lib64/mpich/bin/mpif77 ./configure make -j4 sudo make install make distclean</code> </pre> <br>  With MPI and OpenMP support: <br><pre> <code class="bash hljs">CC=/lib64/mpich/bin/mpicc CXX=/lib64/mpich/bin/mpicxx F77=/lib64/mpich/bin/mpif77 ./configure --with-mpi make -j4 sudo make install</code> </pre> <br><br><h1>  Step 8: <a href="http://ab-initio.mit.edu/wiki/index.php/H5utils">h5utils</a> </h1><br>  MPB and MEEP programs save the results of calculations to files with the .h5 extension.  This package (h5utils) contains a set of programs for working with h5 files, such as h5topng (for converting h5 files to graphic format png), h5tovtk (converting to vtk format, convenient for display using Paraview) and h5totxt ( conversion to text format).  If you do not install and use these programs, many calculation results will simply not be available for viewing. <br><pre> <code class="bash hljs">wget http://ab-initio.mit.edu/h5utils/h5utils-1.12.1.tar.gz tar -xf http://ab-initio.mit.edu/h5utils/h5utils-1.12.1.tar.gz <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> h5utils-1.12.1 CC=/lib64/mpich/bin/mpicc CXX=/lib64/mpich/bin/mpicxx F77=/lib64/mpich/bin/mpif77 ./configure make -j4 sudo make install <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ..</code> </pre> <br>  If it happened that the execution of the command ‚Äúmake -j4‚Äù was interrupted with the error "[writepng.o] Error 1", then instead of the last three commands we execute: <br><pre> <code class="bash hljs">make h5totxt make h5tovtk sudo mv h5tovtk /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/ sudo mv h5totxt /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ..</code> </pre> <br><br><h1>  Check the work of MEEP </h1><br>  Move to the directory with examples: <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> meep-1.3/examples/</code> </pre> <br>  First, launch one of the examples (ring resonator model) without using MPI: <br><pre> <code class="bash hljs">meep ring.ctl</code> </pre> <br>  If MEEP was installed normally, after the end of the calculations, you will see this text in the terminal window: <br><pre>  creating output file "./ring-ez-000403.50.h5" ...
 creating output file "./ring-ez-000403.85.h5" ...
 creating output file "./ring-ez-000404.20.h5" ...
 creating output file "./ring-ez-000404.55.h5" ...
 creating output file "./ring-ez-000404.90.h5" ...
 creating output file "./ring-ez-000405.25.h5" ...
 creating output file "./ring-ez-000405.60.h5" ...
 creating output file "./ring-ez-000405.95.h5" ...
 creating output file "./ring-ez-000406.30.h5" ...
 creating output file "./ring-ez-000406.65.h5" ...
 run 1 finished at t = 406.70000000000005 (8134 timesteps)

 Elapsed run time = 4.02319 s </pre><br>  In the last line - the time portazhennoe on the calculation (in seconds). <br><br>  Now it is possible to test how much MPI can reduce the calculation time.  To do this, run meep-mpi (MEEP with MPI support) on one processor core: <br><pre> <code class="bash hljs">mpirun -np 1 meep-mpi ring.ctl</code> </pre> <br>  After the end of the calculations we see: <br><pre>  creating output file "./ring-ez-000405.95.h5" ...
 creating output file "./ring-ez-000406.30.h5" ...
 creating output file "./ring-ez-000406.65.h5" ...
 run 1 finished at t = 406.70000000000005 (8134 timesteps)

 Elapsed run time = 3.81012 s </pre><br>  With two cores: <br><pre> <code class="bash hljs">mpirun -np 2 meep-mpi ring.ctl</code> </pre> <br>  After the end of the calculations we see: <br><pre>  creating output file "./ring-ez-000405.25.h5" ...
 creating output file "./ring-ez-000405.60.h5" ...
 creating output file "./ring-ez-000405.95.h5" ...
 creating output file "./ring-ez-000406.30.h5" ...
 creating output file "./ring-ez-000406.65.h5" ...
 run 1 finished at t = 406.70000000000005 (8134 timesteps)

 Elapsed run time = 3.20775 s </pre><br>  With three cores: <br><pre> <code class="bash hljs">mpirun -np 3 meep-mpi ring.ctl</code> </pre> <br>  After the end of the calculations we see: <br><pre>  creating output file "./ring-ez-000405.95.h5" ...
 creating output file "./ring-ez-000406.30.h5" ...
 creating output file "./ring-ez-000406.65.h5" ...
 run 1 finished at t = 406.70000000000005 (8134 timesteps)

 Elapsed run time = 4.67524 s </pre><br>  That is, with an increase in the number of nuclei to 2, an acceleration of calculations is observed.  But with a further increase in the number of involved nuclei, the calculation time increases.  Two - the optimal number of cores for this example, which gives the maximum increase in the speed of calculation.  But in the case of using mpb-mpi (MPB with MPI support, which we also installed), the picture is usually different and it is possible to achieve a better speed increase. <br><br>  In the case of using computing clusters and supercomputers, the optimal number of processors will be different - 8-12.  You may ask: ‚ÄúWhy use MPI and OpenMP if the achieved increase in calculation speed is insignificant?‚Äù First of all, the speed increase depends on the model itself and on how the calculations can be parallelized.  The point is that in supercomputers and clusters the memory size is tied to the number of nodes involved in the calculation.  For example, 2 GB per node.  This means that by involving 2 nodes in the calculation, the program gets access to 4GB of memory.  Involving 10 nodes, the program gains access to 20 GB.  Thus, the use of both MPI and OpenMP (this was included above with the --with-mpi --with-openmp keys) allows us to speed up the calculations a bit and at the same time use more memory for the calculations.  And, if on your home computer you can use only 4GB (for example), and on your office computer there are not enough connectors for installing memory strips, then on a supercomputer you can get access to 64GB (for example) and more. <br><br>  Now we can look at the results of the calculation.  To begin with, we convert all files with the .h5 extension in the working directory that were created as a result of the calculations into the .vtk format with the command: <br><pre> <code class="bash hljs">h5tovtk *.vtk</code> </pre> <br>  After that, you can start the Paraview program (by running paraview in the command line), and open the calculation results for viewing.  To look at the distribution of the dielectric constant in the simulated structure of a ring resonator, you need to open the file ring-eps-000000.00.vtk.  Distributions of the electric field are stored in ring-ez-000400.35.vtk type files. <br><br><div class="spoiler">  <b class="spoiler_title">Script for automatic execution of operations 3-8 (written and tested for Scientific Linux 6.5)</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash # 1. Build and install FFTW wget http://www.fftw.org/fftw-3.3.4.tar.gz tar -xf fftw-3.3.4.tar.gz cd fftw-3.3.4 CC=mpicc CXX=mpicxx F77=mpif77 ./configure --enable-mpi --enable-openmp make -j4 sudo make install cd .. # 2. Libctl wget http://ab-initio.mit.edu/libctl/libctl-3.2.2.tar.gz tar -xf libctl-3.2.2.tar.gz cd libctl-3.2.2 CC=mpicc CXX=mpicxx F77=mpif77 ./configure make -j4 sudo make install cd .. # 3. MPB # 3.1 without MPI support wget http://ab-initio.mit.edu/mpb/mpb-1.5.tar.gz tar -xf mpb-1.5.tar.gz cd mpb-1.5/ CC=mpicc CXX=mpicxx F77=mpif77 ./configure make -j4 sudo make install make distclean # 3.2 with MPI support CC=mpicc CXX=mpicxx F77=mpif77 ./configure --with-mpi --with-openmp make -j4 sudo make install cd .. # 4. Harminv wget http://ab-initio.mit.edu/harminv/harminv-1.4.tar.gz tar -xf harminv-1.4.tar.gz cd harminv-1.4/ CC=mpicc CXX=mpicxx F77=mpif77 ./configure make sudo make install cd .. # 5. Meep # 5.1 without MPI wget http://ab-initio.mit.edu/meep/meep-1.3.tar.gz tar -xf meep-1.3.tar.gz cd meep-1.3/ CC=mpicc CXX=mpicxx F77=mpif77 ./configure make -j4 sudo make install make distclean # 5.2 with MPI CC=mpicc CXX=mpicxx F77=mpif77 ./configure --with-mpi make -j4 sudo make install # 6. h5utils wget http://ab-initio.mit.edu/h5utils/h5utils-1.12.1.tar.gz tar -xf h5utils-1.12.1.tar.gz cd h5utils-1.12.1 CC=mpicc CXX=mpicxx F77=mpif77 ./configure make -j4 sudo make install cd ..</span></span></code> </pre> <br></div></div><br><br>  PS Added instructions for Ubuntu 14.04 LTS (not always the latest versions of these programs are available in the repositories). </div><p>Source: <a href="https://habr.com/ru/post/374865/">https://habr.com/ru/post/374865/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../374851/index.html">SMM (save my money), or How to spend a lot of money on Internet marketing and get nothing but experience</a></li>
<li><a href="../374853/index.html">Sports on the street: what can be useful tekhnogiku? Part 2</a></li>
<li><a href="../374857/index.html">9 Kickstarter Sunglasses</a></li>
<li><a href="../374859/index.html">Show Sound # 21 - Podcast on audio and sound ecosystem</a></li>
<li><a href="../374861/index.html">OnePlus sells its quadrocopter for only $ 20</a></li>
<li><a href="../374867/index.html">Microsoft celebrates its 40th anniversary</a></li>
<li><a href="../374869/index.html">Large Hadron Collider re-launched</a></li>
<li><a href="../374871/index.html">Probe filmed a video of the inhabitants of the subglacial Antarctic seas</a></li>
<li><a href="../374873/index.html">5,500 km on autopilot: from San Francisco to New York in 9 days</a></li>
<li><a href="../374875/index.html">Caltech Mobile 3D Scan Chip</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>