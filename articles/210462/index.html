<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>SharePoint collection site, managed paths, and can subdomains?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article will discuss SharePoint site collections in the context of possible initial url addresses. 
 And the most interesting, describes how to c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>SharePoint collection site, managed paths, and can subdomains?</h1><div class="post__text post__text-html js-mediator-article"> This article will discuss SharePoint site collections in the context of possible initial url addresses. <br>  And the most interesting, describes how to create a collection site on a specific url on a subdomain other than the main application. <br>  So, everyone who is interested in the administration of SharePoint, and those who do not know the course 70-331 far and wide, welcome under the cat. <br><a name="habracut"></a><br>  Strongly I will not get into the theory, because  it is obvious to those professionals who may be interested in the final thesis of the article.  We will talk about url addresses that can be hosted by the SharePoint collection site. <br><br>  Without a minimum of theory, it would also be wrong. <br>  If you look at the logical architecture of SharePoint sites, we will see the following picture: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/304/c37/897/304c3789739955a5e41157806d60acae.gif" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      At the head of the table are IIS and web applications, as part of web applications, the site of the collection is located, and in turn, a collection of sites. <br><br>  From the point of view of addressing, the web application determines the Host Header and the port, which, by the way, can easily be redefined by alternative access (AAM) or web application extension. <br><br>  As an example, let's have the following web application: <br><br> <code><a href="http://sharepoint2013.mysite.org/"></a> sharepoint2013.mysite.org</code> <br> <br>  Collection sites are containers for sites that already in turn contain information displayed to the user. <br><br>  At the same time, the site collection always contains the root site. <br><br>  Sites may have a hierarchy of subsites. <br><br>  Addresses of subsites are formed as follows: <br><br> <code>/subsite1/subsite11/.../subsiteNM/</code> <br> <br>  Collection sites can be placed on managed paths that define the starting address. <br><br>  Managed paths are of two types: <br><br><ul><li>  Explicit (Explicit) <br><ul><li>  In the case of explicit paths, the site collection will be located in the root of the managed path; on this path, it is logical to assume that only one site collection can exist. </li><li>  Let's continue the example, let's say we have created a managed path ‚Äúspdemo‚Äù with type Explicit. </li><li>  The link to the created collection site will be as follows: <code><a href="http://sharepoint2013.mysite.org/"></a> sharepoint2013.mysite.org <b>spdemo</b> /</code> </li> </ul><br></li><li>  Wildcard (Wildcard) <br><ul><li>  Substitutions were created so that they could have a lot of site collections, and for each site a collection will be added a ‚Äúfolder‚Äù in the path of the address. </li><li>  By default, the managed path ‚Äúsites‚Äù is created. </li><li>  When creating a site for the spdemo collection, the link will be as follows: <code><a href="http://sharepoint2013.mysite.org/"></a> sharepoint2013.mysite.org <b>sites</b> / <b>spdemo</b> /</code> </li> </ul><br></li></ul>  Creating a site of collections on controlled paths is not a tricky business, it is accessible from the visual interface, and, in general, a rather trivial thing.  But we already got to the "salt" of the article. <br><br>  Let's imagine the situation that we need: <br><br><ul><li>  our farm to bring to end users using subdomains, here it is a functional requirement: CRM should be at <a href="http://crm.mysite.org/">crm.mysite.org</a> , project management - <a href="http://epm.mysite.org/">epm.mysite.org</a> , workflow on <a href="http://ecm.mysite.org/">ecm.mysite.org</a> and so on and so on, and nothing else, </li><li>  i.e., all addresses must be on port 80, </li><li>  The number of subdomains for different functional cases is not limited. </li></ul><br>  It seems like the idea comes to create different web applications for different subdomains, but you should not do so, if the creation of separate web applications is not due to security policy or any other valid reasons. <br><br>  By the way, the question is: can there be several web applications on one port?  Answer: yes, of course they can, if they are with different Host Headers. <br><br>  So what to do, you ask, if you do not create separate web applications?  How to be? <br><br>  And for the sake of this answer the whole post.  Collection sites can also be on a subdomain other than the Host Header of the web application. <br><br>  You can create such site collections only through PowerShell. <br><br>  And here he is: <br><pre> <code class="dos hljs">Add-PSSnapin Microsoft.SharePoint.PowerShell-ErrorAction SilentlyContinue; New-SPSite "http://spdemo.cibpoint.ru" ` -HostHeaderWebApplication "http://sharepoint2013.cibpoint.ru" ` -Name "SPDemo" ` -OwnerAlias "CIBSPAdmin" ` -Template "STS#<span class="hljs-number"><span class="hljs-number">0</span></span>"; New-WebBinding -Name "http://sharepoint2013.cibpoint.ru" ` -IPAddress "*" ` -Port <span class="hljs-number"><span class="hljs-number">80</span></span> ` -HostHeader "spdemo.cibpoint.ru";</code> </pre><br>  Add-PSSnapin - adding snappin to the SharePoint object model, a good tone to make it present. <br><br>  New-SPSite is a collection site creation cmdlet. <br><br><ul><li>  In the transmitted identifier, you must specify a link in the subdomain and it will work. </li><li>  In the parameter HostHeaderWebApplication we specify our web application. </li><li>  Name - the name of the collection site. </li><li>  OwnerAlias ‚Äã‚Äã- the owner of the collection site, the second can be omitted. </li><li>  Template - collection site template id.  ‚ÄúSTS # 0‚Äù - TeamSite ID.  You can skip the parameter, then when you first navigate to the collection site you can select the desired template in the visual interface. </li></ul><br>  New-WebBinding is one of the components of the miracle.  Directly to SharePoint has no relation.  This cmdlet sets the IIS setting, namely, it registers the connection with the desired Host Header. <br><br>  The last component of the ‚Äúmiracle‚Äù is to add an entry to the DNS. <br><br>  As a result, in one web application, on one port, on different subdomains, we have a SharePoint collection site running and working. </div><p>Source: <a href="https://habr.com/ru/post/210462/">https://habr.com/ru/post/210462/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../210450/index.html">Python on wheels</a></li>
<li><a href="../210452/index.html">Rule 3h when building a startup team Preply</a></li>
<li><a href="../210454/index.html">Sweet.js: Syntax JavaScript Extensions</a></li>
<li><a href="../210458/index.html">Transparent file encryption on the local computer using CyberSafe Files Encryption</a></li>
<li><a href="../210460/index.html">OpenVZ in Proxmox, margin notes</a></li>
<li><a href="../210464/index.html">Samsung and Google enter into patent agreements</a></li>
<li><a href="../210466/index.html">Dev Story: Raildale - a game about the railway for iOS and Mac</a></li>
<li><a href="../210468/index.html">Own chess (with tanks and helicopters)</a></li>
<li><a href="../210472/index.html">What to do if you got an Android with a broken touch screen</a></li>
<li><a href="../210478/index.html">How the infrastructure of Yandex. Mail has grown over 13 years</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>