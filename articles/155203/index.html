<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Wi-Fi in amateur project? Nothing is easier!</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello everybody! 
 In this post I will try to convince you that you can add Wi-FI support to your device on the microcontroller with absolutely no pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Wi-Fi in amateur project? Nothing is easier!</h1><div class="post__text post__text-html js-mediator-article">  Hello everybody! <br>  In this post I will try to convince you that you can add Wi-FI support to your device on the microcontroller with absolutely no problems.  And for this you do not have to chuck your favorite router and solder to the conclusions of the debug uart, nor install the usb-uart adapter (which is of course the way out). <br>  I will tell about two modules of <a href="http://www.wiznet.co.kr/">WizNet</a> : WizFi220. <br><br><h5>  Instead of the preface </h5><br>  Founded in 1998 in Korea, WizNet manufactures network solutions.  The range of what the company produces is wide.  These are microcontrollers on the 8051 core with an integrated PHY controller, and separate SPI-controlled Ethernet controllers, Wi-FI modules, and breadboard models for almost every chip. <br>  About the first two types I know little, because I did not work with them.  And about Wi-Fi quite a lot. <br>  Who cares - I ask under the cat. <br><a name="habracut"></a><br><h5>  WizFi220 </h5><br><img src="https://habrastorage.org/storage2/fd2/246/bad/fd2246bad187adb11b00cb2f93e1c175.jpg"><br>  It differs from WizFi210 in higher signal power and, as a result, in increased power consumption. <br>  This small piece with a size of 32x24.5 mm has the following characteristics: <br><ul><li>  All settings - via UART </li><li>  Start time - 20 ms </li><li>  Relatively low consumption: 34 ¬µA in standby mode, 125 mA - reception, 250 mA - transmission </li><li>  Supports 802.11b / g / n standards. </li><li>  Support for the following encryption types: WEP, WPA / WPA2-PSK, Enterprise EAP-FAST, EAP-TLS, EAP-TTLS, PEAP </li><li>  Temperature range: -40 ‚ÑÉ ... 85 ‚ÑÉ </li><li>  Power supply - 3.3V </li></ul><br><br><h6>  Pinout module </h6><br><img src="https://habrastorage.org/storage2/f93/eac/40a/f93eac40afc63315afa82103e811f691.png"><br>  It is easy to see that in the module itself a lot of things have been done: SPI, UART, GPIO, I2C, ADC, JTAG.  But what of this list can be used is another question. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h6>  The simplest connection scheme of the module </h6><br><img src="https://habrastorage.org/storage2/d4c/cc9/35e/d4ccc935e0d54f798284f7df4d9fcb34.png"><br>  Everything is very simple here.  Pins CTS2, RX2, RTS2, TX2 go to the controller.  If there is no desire to allocate any pin of the microcontroller under the control of the module reset, then EXT_RESETN can be pulled to the power through a 10K resistor or thrown in the air. <br>  Conclusion No. 25 (GPIO_21 / CLK_11MHz) is needed in order to apply one of the two standard settings of the WizFI220. <br><br><ol><li>  Two times omitted to zero for 300 ms with a pause between pulses of 300 ms - activation of the Limited AP mode (maximum 3 clients) </li><li>  Three times to zero - the inclusion of ad-hoc </li></ol><br><br>  LEDs are needed to indicate what is happening in the module processes. <br><br><h6>  Let's start the experiments </h6><br>  All experiments will be carried out using the WizFi220-EVB layout. <br><img src="https://habrastorage.org/storage2/ae8/360/4d9/ae83604d9d00296e83529be56eb4131a.jpg"><br>  Which to assess the capabilities of WizFi220 - the most it. <br>  To enable the module, you need a mini-USB cable and a USB-RS232 adapter.  After powering up, the blue LEDs (in the lower right corner) blink three times.  This is evidence that WizFi220 has been successfully launched.  Open your favorite terminal and connect to the port.  Port configuration: speed 115200, 8 bits, 1 stop bit, parity disabled. <br>  And we enter there the <s>first thing that</s> comes to <s>mind</s> AT. <br>  <u>Note: each command must end with the symbol CR (carriage return, 0x0D) otherwise it will not be processed.</u> <br>  The module should be fun to report <br><pre><code class="bash hljs">AT [OK]</code> </pre> <br><br>  Those two letters that have now been accepted by the module are called the AT command.  WizFi220 understands many AT-commands, the description of which (sometimes very meager) is contained in the manual. <br>  Let's now raise the Limited AP.  This can be done with a small number of commands. <br><br><pre> <code class="bash hljs">AT+WD [OK] AT+WM=2 [OK] AT+WAUTH=0 [OK] AT+NDHCP=0 [OK] AT+NSET=192.168.55.1,255.255.255.0,192.168.55.1 [OK] AT+WA=MyCoolFreeAP,,8 IP SubNet Gateway 192.168.55.1: 255.255.255.0: 192.168.55.1 [OK] AT+NSTCP=2345 [OK]</code> </pre><br><br>  Walk on each team. <br><ol><li>  <b>AT + WD</b> - break all connections, if any. </li><li>  <b>AT + WM = 2</b> - the module will operate in the Limited AP mode. </li><li>  <b>AT + WAUTH = 0</b> - no encryption. </li><li>  <b>AT + NDHCP = 0</b> - DHCP is disabled.  Therefore, static parameters are required when connecting to this access point. </li><li>  <b>AT + NSET = 192.168.55.1,255.255.255.0,192.168.55.1</b> - we set the module address, subnet mask and gateway address. </li><li>  <b>AT + WA = MyCoolFreeNet ,, 8</b> - set the name of the network and the channel on which it will work.  Two commas in a row mean that there is an optional parameter between them. </li><li>  <b>AT + NSTCP = 2345</b> - we lift TCP - the server on the 2345th port. </li></ol><br><br>  Everything, we raised an access point.  See how simple it is! <br>  Do you remember the tcp-server on port 2345?  We didn‚Äôt just lift him up like that.  Connect to the MyCoolFreeNet network, open a browser and enter 192.168.55.1:2345 in the address bar. <br>  Question: what does the browser do when the user enters something like this?  Correctly, sends a GET request.  And what makes our smart WizFi220?  He throws the text of the request in the UART.  If you do not believe, then you can easily verify this yourself.  Therefore, using this module and the MK, you can do something that is controlled via Wi-Fi with its own admin panel. <br>  WizFi220, as well as WizFi210, has a built-in web admin panel.  But she is weak and frail.  Here is its general view. <br><br><img src="https://habrastorage.org/storage2/194/55b/2b4/19455b2b449f0b11388832e60efbb6c0.png"><br><br><h5>  Summary </h5><br>  WizFi220 / 210 is a good and inexpensive (approximately $ 38) module for those who want to try to work with Wi-FI.  And embed it somewhere.  For example, in a radio-controlled machine. <br>  I have been working with this module for about three months and I can say the following about it. <br>  <b>Pros:</b> small size, low power consumption, simple wiring, easy setup and operation, low cost. <br>  <b>Cons:</b> not very good documentation, some unexpected surprises at work. <br><br>  Take, work, have fun! </div><p>Source: <a href="https://habr.com/ru/post/155203/">https://habr.com/ru/post/155203/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../155189/index.html">Again firmware: CM10 for Desire HD</a></li>
<li><a href="../155191/index.html">JSR 335 or lambda expressions in JAVA 8</a></li>
<li><a href="../155193/index.html">Treehouse for all</a></li>
<li><a href="../155197/index.html">Welcome post from Alconost</a></li>
<li><a href="../155201/index.html">Makefile for the smallest</a></li>
<li><a href="../155205/index.html">Magic Finger turns any surface into a touch interface</a></li>
<li><a href="../155207/index.html">Flex Config. Description of the syntax of the configuration file</a></li>
<li><a href="../155209/index.html">Ubuntu 13.04 Raring Ringtail: An Impatient Lemur Aiming for Mobile Platforms</a></li>
<li><a href="../155213/index.html">Form Interface Recommendations</a></li>
<li><a href="../155215/index.html">Legacy Databases in Rails 3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>