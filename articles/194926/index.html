<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How I made yogurt</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently bought a yogurt maker. This is a simple device consisting of a body with a heating element and 7 jars, in which the preparation takes place. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How I made yogurt</h1><div class="post__text post__text-html js-mediator-article">  Recently bought a yogurt maker.  This is a simple device consisting of a body with a heating element and 7 jars, in which the preparation takes place. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6ff/113/528/6ff1135284b54cace7eb8f891df1cd76.jpg" alt="image"></div><br>  The first batch of yogurt disappointed me a little, it was very thick, there was literally a spoon in it and it was too sour, in general, nothing close to the tasty yogurt from the store.  Suspecting that the excessive acid of the yoghurt arose because of too high a temperature (to put it simply - the ferment ‚Äúfermented‚Äù), I measured the temperature inside the heating body during the preparation of the yoghurt, and received - 46 ¬∞ C.  The instructions for the preparation of starter yogurt indicated that the optimum cooking mode - 38-42 ¬∞ C. <br><br>  Deciding to deal with the temperature regimes, I climbed inside the yogurt maker .... <a name="habracut"></a><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/056/937/188/056937188d226ba5cd7e336661b93d23.jpg" alt="image"></div><br>  Everything was very simple there, a light switch and a heating element along the plane of installation of yogurt jars, no hint of temperature and time adjustment. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I decided to make a yoghurt maker, with temperature and time adjustment, not to ‚Äúdisappear‚Äù, as it turned out later, there is more time control in models than mine, but there is no thermostat in any model. <br><br>  <b>So let's get started.</b> <br><br>  Since the yogurt maker is still under warranty, we make the regulator outside, in a separate building.  The heating element looks too fragile and can burn out, and telling the service center that my finishing work brings only good, thankless job. <br>  We need to control the temperature and time in the cooking process. <br>  The power of the heating element is not high 15W, BT137x triac without a radiator with an MOC3041 opto-thyristor (D1) will do.  The ATTiny13A microcontroller (U2) was chosen as the ‚Äúbrain‚Äù of the design.  Temperature sensor DS18B20 (U1). <br>  Indicator of the work and settings is a switch-light on the yogurt maker. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f5d/50c/054/f5d50c0541eb784bffdf59b5c8324d83.jpg" alt="image"></div><br>  The regulator circuit, designed in Proteus, looks like this: <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/198/061/218/1980612187ae4c0ec2b62632c2cb54fa.jpg" alt="image"></div><br>  Eight hours of hard work with a soldering iron and I assembled this scheme.  For the compactness of the device, the installation is performed in an external installation outlet. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/748/1ac/4d9/7481ac4d9770099886571f5047bdc34b.jpg" alt="image"></div><br>  The power supply is taken from the charging for the phone and is divided into 3 parts; it did not fit entirely inside the case.  BP_chast1 generator, BP_chast2 transformer, rectifier and BP_chast3 filter.  The output voltage is 8V, which is obviously a lot for a controller with 2-5.5V power limits, therefore it is necessary to use a 5V stabilizer (L7805). <br>  Separately on the board collected control triac.  Socket from the player to connect the temperature sensor DS18B20.  A button to control is installed nearby.  The location for the controller is selected with the calculation for easy retrieval and programming. <br>  Externally, it looks neat and compact. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/da2/64f/754/da264f754b5bad1212124491565b343d.jpg" alt="image"></div><br>  The program works as follows. <br>  To control the power on the load, the hardware PWM of the microcontroller was used, with the adjustment of the temperature work. <br>  Once a minute, the temperature is measured, the value is compared, and the register adjustment (OCRA) of the microcontroller responsible for the PWM duty cycle is made. <br>  // ------------------------------------------------ ----------------------------------------------- <br>  Temperature ();  // Check temperature <br>  if (Tds18b20&gt; TempWork) if (OCR0A&gt; = 10) OCR0A = OCR0A-10; <br>  if (Tds18b20 == TempWork) if (Td&gt; 5) if (OCR0A&gt; = 5) OCR0A = OCR0A-5; <br>  if (Tds18b20 == TempWork) if (Td &lt;5) if (OCR0A &lt;= 250) OCR0A = OCR0A + 5; <br>  if (Tds18b20 &lt;TempWork) if (OCR0A &lt;= 245) OCR0A = OCR0A + 10; <br>  // ------------------------------------------------ --------------------------------------------- <br>  When the temperature on the sensor is greater than the specified one, the PWM value is reduced by 10 out of 255 <br>  When the temperature on the sensor is equal to the specified one, and the temperature fraction is greater than 0.5, the PWM value is reduced by 5 out of 255 <br>  When the temperature on the sensor is equal to the specified one, and the temperature fraction is less than 0.5, the PWM value is increased by 5 out of 255 <br>  When the temperature on the sensor is less than the specified one, the PWM value is increased by 10 out of 255 <br>  So we control the temperature and adjust it in the process. <br>  For the operation of the yogurt maker in a specified time interval, a timer is configured inside the controller.  When the set value is reached at 8 hours of operation, the controller disconnects the yogurt maker from the network. <br><br>  About the operation of the regulator, at a given temperature, is indicated by the flashing of the indicator switch on the yogurt maker. <br>  Different starter cultures (yoghurt, bifit, acidolact, etc.) require different modes of operation, for this there is the possibility of adjustment. <br>  If you press and hold the button, the indicator light will flash: <br>  1 time and release the button, the indicator flashes the current temperature in the yogurt maker (example: 22 ¬∞ C - flashes 22 times). <br>  2 times and release the button, the indicator flashes the set temperature in the device's memory. <br>  3 times and release the button, the indicator blinks the specified time in the device memory.  Not blinked - continuous work. <br>  4 times and release the button, then press again, the indicator will begin to flash again, how many times the indicator blinked before the button is released, this value of the set temperature will be recorded in the microcontroller's EEPROM. <br>  5 times and release the button, then press again, the indicator will begin to flash again, how many times the indicator blinked until the button is released, this time value in hours will be recorded in the microcontroller's EEPROM.  If, after five flashes, to release and no longer press the button, the regulator will operate continuously. <br>  The set values ‚Äã‚Äãare stored in the controller's EEPROM. <br><br>  <b>Let's start cooking the "right" yogurt.</b> <br><br>  Power cord yogurtnitsu plug into the outlet of the regulator, the regulator plug into the socket 220V. <br>  The indicator of the switch will begin to flash, signaling a malfunction of the temperature sensor, plug in the connector on the regulator plug 3.5 with a sensor at the end.  The indicator glows, not blinking, indicating the beginning of work.  The temperature sensor lies between the jars of leaven diluted in milk. <br>  To control the temperature, a household thermometer is placed in the body of the yogurt maker.  When checking the temperature, the discrepancy between the two thermometers was 0.5 ¬∞ C, which is quite within the measurement error of a household thermometer. <br>  The temperature is set to 38 degrees, the operating time is 8 hours. <br>  At the end of the cycle, yogurt was no longer of such a ‚Äúsevere‚Äù density and the sour taste disappeared. <br>  <b>Enjoy your meal.</b> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/41a/3ec/5fd/41a3ec5fd0008b88c7c2eef1787bf620.jpg" alt="image"></div><br>  This regulator can be used in any schemes with a resistive heating element with high inertia.  For a powerful load, you must install a radiator on the triac. <br><br>  Archive with the project in the last picture. </div><p>Source: <a href="https://habr.com/ru/post/194926/">https://habr.com/ru/post/194926/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../194914/index.html">Intellectual Internet Spider Architecture</a></li>
<li><a href="../194916/index.html">Information security in Australia, and why pentest there is no longer a cake</a></li>
<li><a href="../194918/index.html">Mysql Delayed Replication or Salespeople with Mysql-slave</a></li>
<li><a href="../194920/index.html">Introducing Rollercoaster.io</a></li>
<li><a href="../194922/index.html">Deep Impact lost due to software failure</a></li>
<li><a href="../194928/index.html">Valve launches SteamOS and moves into your living room</a></li>
<li><a href="../194932/index.html">[Translation] Average income developer depending on the programming language</a></li>
<li><a href="../194934/index.html">Not sold inspiration, but you can sell the manuscript</a></li>
<li><a href="../194936/index.html">Speakers' Corner with Anton Utkin - High-speed design and prototyping of projects and products 30.09</a></li>
<li><a href="../194940/index.html">Chinese Internet giants: an interview with AliExpress</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>