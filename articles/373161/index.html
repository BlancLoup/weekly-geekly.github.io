<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>About Simon Monk's book ‚ÄúProgramming Arduino. Professional work with sketches ¬ª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In essence, this is a commentary on the presentation of the book , but it turned out to be quite a lot of letters, so I had to select it in a separate...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>About Simon Monk's book ‚ÄúProgramming Arduino. Professional work with sketches ¬ª</h1><div class="post__text post__text-html js-mediator-article">  In essence, this is a commentary <a href="https://geektimes.ru/company/piter/blog/285680/">on the presentation of the book</a> , but it turned out to be quite a lot of letters, so I had to select it in a separate article. <br><br>  The book is quite interesting and can be recommended to anyone who, so to speak, "continues" to work with Arduino.  It is quite useless for quite beginners, but it‚Äôs quite suitable for expanding the idea of ‚Äã‚Äãhow to handle all this farming.  But the target audience is not so versed in the subject to critically perceive some of the author‚Äôs statements and decipher the numerous mistakes of the translator in collusion with the editors.  And the author misses a mistake for the author, since he is clearly a programmer, not an electronics engineer, and cannot understand the subject thoroughly.  But the editors were obliged to comment on such places. <br><br>  Everything written further has no purpose to somehow hurt the author and the publisher who did a good job.  I am writing this with the hope of making life easier for the reader, who is fortunate enough to stumble upon these my invented thoughts.  The book, I repeat, is useful and informative, and individual mistakes do not change this attitude of mine. <br><a name="habracut"></a><br>  In the listing below, the pages are indicated by the official electronic version. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Oh good </h3><br>  First, as is customary, about the good. <br><br>  1. ‚Äú <i>Using variables of type int to store contact numbers leads to wasted memory</i> ‚Äù (p. 63) - more than a timely note.  Further in the book several times it is recalled that contact numbers should actually be entered by 8-bit constants.  The only pity is that this thought is not very consistently carried out, because the widespread desire to designate output numbers as int variables is a clinic that is not justified by any readability of the text (and why is there something readable?). <br><br>  2. ‚Äú <i>But in reality, the temperature in the form of a real number is needed only when you want to display it on the screen.</i>  <i>Other operations with temperature, such as comparing or averaging with several attempts at reading, can be done with an unconverted value of type int, and at the same time they will be performed much faster</i> ‚Äù(p. 91).  No comments. <br><br>  3. ‚ÄúFast I / O‚Äù (p. 94) is a very correct section, it deals with overcoming the main drawback of the Arduino platform: multi-toned layers of piled-up libraries. <br><br>  4. Mention that in order to reduce consumption, you need to remove the power LED (p. 110).  For some reason, when talking about reducing energy consumption, they forget to mention absolutely everything. <br><br>  5. Very informative and useful for fans of Chapter 13 "Digital signal processing." <br><br><h3>  About bad </h3><br>  Now about the annoying mistakes.  I divided them into gross blunders (author or translators / editors) and minor quibbles on my part. <br><br><h4>  <u>Rude bloopers:</u> </h4><br>  1. ‚ÄúThe <i>contacts in the next group are signed with Analog In (analog inputs) with numbers from 0 to 5. ... Although they are designated as analog inputs, they can also be used as digital inputs or outputs.</i>  <i>But by default they act as analog inputs</i> ‚Äù(p. 24). <br><br>  No not like this.  All pins of AVR ports <b>by default</b> work as digital inputs without a pull-up resistor connected.  And the analog outputs A1-A5 is no exception - why would?  These are the usual outputs of ordinary ports (Arduino numbers 14-19), which, among other things, can work as inputs to the ADC.  And they acquire this quality only when you refer to analogRead, not earlier. <br><br>  2. Table 5.1.  ‚ÄúThe electricity consumption of the Arduino boards‚Äù (p. 105) put me in a real stupor: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/577/2e1/cbd/5772e1cbd88b0f0e2bfa501703022fa5.png" width="500" alt="image"></div><br>  Sorry, is there something in the Mini that should consume an extra 20 mA from an external source?  It is useful to look in the <a href="http://arduino.cc/en/uploads/Main/Arduino-Pro-Mini-schematic.pdf">office.</a>  <a href="http://arduino.cc/en/uploads/Main/Arduino-Pro-Mini-schematic.pdf">scheme</a> : like nothing.  The MIC5205 stabilizer, judging by <a href="http://www.farnell.com/datasheets/29605.pdf">its description,</a> consumes something 150 ¬µA.  I was not too lazy to check it alive: I turned on the Mini Pro to the source of 5 V (directly) and at 12 V (via RAW).  As one would expect, absolutely identical consumption: about 20 mA.  So, so far, I cannot understand where the author originated this data ‚Äî did he invent it from his head? <br><br>  3. "Reducing the operating frequency" (p. 108).  The misconception that reducing the operating frequency supposedly reduces energy consumption is widespread even in a professional environment.  In fact, it reduces only the current consumption, and the energy consumption per clock noticeably increases (as the graph in Fig. 5.3 is not straight, but curved, and, according to Monk, the awkward LED on power was turned off here): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/05f/fda/9cd/05ffda9cd766131c3e93f93ed650c7d1.png" alt="image"></div><br>  In a nutshell: let the supply voltage = 3 V. The procedure of 16 cycles at 16 MHz takes 1 ¬µs, that is, the energy consumed by this (current 8 mA, table 5.2) 3x8x10-3x10-6 = 24 nJ.  At 1 MHz, the same procedure will take 16 Œºs, and the energy will be consumed (current 2.6 mA, Table 5.2) 3x2.6x10-3x16x10-6 = 124.8 nJ.  And if, in the intervals between these procedures, you enter the AVR in a state of energy saving, you will lose five times the energy.  Therefore, there will be a gain only if using a reduction in the clock frequency as a separate technique, without doing anything else.  And when the controller is idle for most of the time, the use of sleep will give a much greater effect, and in this case the frequency should be done as high as possible. <br><br>  4. ‚Äú <i>Read / write operations with EEPROM memory are very slow ‚Äî about 3 ms</i> ‚Äù (p. 142). <br><br>  A typical sign of misunderstanding how an EEPROM works.  Writing to it really takes 3.3 ms.  But there is no reading at all: 1 clock cycle for the first byte, plus 4 clock cycles of delay before reading each subsequent one, if read in succession.  That is, a maximum of 5 cycles - 0.3125 microseconds in the case of the Arduino 16 MHz, 10,000 times faster than Monk claims.  But about what the standard section ‚ÄúPreventing EEPROM Corruption‚Äù is devoted to in each AVR datasheet, for some reason, not a word in the chapter on EEPROM. <br><br><h4>  <u>Small nagging</u> </h4><br>  <u>Page</u>  <u>50</u> .  ‚Äú <i>And saving it to the Libraries folder, located in the Arduino folder (in the Documents folder)</i> ‚Äù - are you able to understand from this phrase which folder is located in?  Me not. <br><br>  Further there: ‚Äú <i>In order for the Arduino IDE development environment to detect the newly installed library, it must be restarted</i> ‚Äù - who will it be?  The library? <br><br>  <u>Page</u>  <u>54</u> .  ‚ÄúA similar directory with the description of commands in Russian can be found at <a href="http://arduino.ru/Reference">arduino.ru/Reference</a> .  - Note.  per.  Thank you, daragoy, but at the same time it is necessary to mention that arduino.ru/Reference was not updated from what time, and the translation there in places was done with gross errors.  Otherwise, your inexperienced reader will be confused, for example, by not finding the constant INPUT_PULLUP mentioned in the book at the specified address. <br><br>  <u>Page</u>  <u>57</u> .  ‚Äú <i>... programs can be uploaded to the memory chips on the Arduino board, and then transferred to their own boards</i> ‚Äù - yes?  And where are these ‚Äúmemory chips‚Äù on the Arduino board? <br><br>  <u>Page</u>  <u>59</u> .  " <i>... and three types of serial interfaces supported by the microcontroller: USART, PPI and DPI</i> ".  Wanted without comment, but could not resist.  Characteristically, Chapter 7 is called ‚ÄúI2C Interface‚Äù and it is about TWI, and Chapter 9 is called ‚ÄúInteraction with SPI Devices‚Äù.  So neither, sorry for the expression, PPI, or PDI you will not find in the book again and you can guess over the decoding of these abbreviations until the end of the century.  On the other hand, the UART and the UCCA are being exploited in full in Chapter 10, "Programming the Serial Interface."  Well, yes, and the volcano, which will destroy the United States, will wake up on the territory of the Zheltokaminnogo National Park. <br><br>  <u>Page</u>  <u>78</u>  ‚Äú <i>Try pushing the button more vigorously, this should help to get a clear transition between states without a chatter effect</i> ‚Äù - a completely unforgivable recommendation for a book claiming a certain ‚Äúprofessional‚Äù approach.  And also a very common misconception for those who do rarely turn on buttons with their own hands.  The only kind of buttons that is less subject to bounce is from conductive rubber (telephone keys, for example).  All other buttons, switches, switches, etc.  chatter absolutely no matter how they are pressed, and require special measures of protection against bounce. <br><br>  <u>Page</u>  <u>84</u>  Thanks for the tip to the TimerOne library, but from the text and the example it is impossible to understand how to work with it.  And, by the way, an interesting question, more precisely, immediately a bunch of questions: why are the pictures for different pins in fig.  3.3 shifted to the eighth of the period?  Is this how it works?  Due to what, and how can this be controlled?  etc. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/2c8/d96/f36/2c8d96f36aeca3a926c2f6752dfa357d.png" width="500" alt="image"></div><br>  <u>Page</u>  <u>103</u>  ‚Äú <i>The next sketch increases the ADC frequency from 128 kHz to 1 MHz.</i> ‚Äù <br>  Our esteemed Monk forgot to mention something.  Namely, in all datasheets of all AVR there is the following paragraph: <br><blockquote>  By default, it will be necessary to get maximum resolution.  It can be higher than 200kHz to get a higher sample rate. </blockquote><br>  In fact, in the ADC, the sources of error and bounce are enough to increase them artificially.  And the tasks that require fast ADC conversion for 8-bit controllers simply do not arise (in fact, they do not process the sound on them).  If you need accurate / fast ADC conversion, then it is simpler to install an external module and not to suffer foolishness. <br><br>  <u>Page</u>  <u>142</u>  ‚ÄúThe <i>flash memory in Arduino guarantees data integrity for only 100,000 write cycles</i> ‚Äù - <a href="http://www.atmel.com/Images/Atmel-42735-8-bit-AVR-Microcontroller-ATmega328-328P_Datasheet.pdf">in fact,</a> up to 10,000. <br><br>  <u>Page</u>  <u>196</u> .  Fig.  10.4.  - does not correspond to the text and sketches, because one of the Uno depicted uses the regular Serial, and not its programmatic imitation, which is discussed in this section. <br><br>  It seems everything.  Maybe I missed something, I don't know. </div><p>Source: <a href="https://habr.com/ru/post/373161/">https://habr.com/ru/post/373161/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../373149/index.html">Richard Feynman: The nature of physical law. Lecture # 4. Symmetry of physical laws</a></li>
<li><a href="../373151/index.html">Internet around the world: Africa</a></li>
<li><a href="../373153/index.html">Robot mobile based on Arduino Mega 2560 with Bluetooth control and autonomous movement with obstacles bypass</a></li>
<li><a href="../373155/index.html">Google DeepMind explores the collaboration of several AI agents.</a></li>
<li><a href="../373157/index.html">Can brain electrostimulation replace antidepressants and help with stress?</a></li>
<li><a href="../373163/index.html">The origin of Bitcoin, part one</a></li>
<li><a href="../373165/index.html">Friday CoworkOut</a></li>
<li><a href="../373167/index.html">YAMAHA Way (# 1): Kendo with Tuning Fork</a></li>
<li><a href="../373171/index.html">A small Bluetooth adapter turns any headphones into wireless</a></li>
<li><a href="../373175/index.html">Control of cash transactions or how we became friends with David Yan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>