<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Introduction to developing games for Windows 8 using XNA and MonoGame</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As you probably noticed, a number of materials appeared in our blog that reveal the basics of creating WinRT applications for Windows 8. In this serie...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Introduction to developing games for Windows 8 using XNA and MonoGame</h1><div class="post__text post__text-html js-mediator-article">  <i>As you probably noticed, a number of materials appeared in our blog that reveal the basics of creating WinRT applications for Windows 8. In this series of articles you will learn how you can create WinRT gaming applications in C #.</i> <br><br><img src="https://habrastorage.org/storage2/6d9/e65/9e6/6d9e659e63542ee401c34616611776fe.jpg"><br><br><a name="habracut"></a><br>  If you were interested in creating games for WinRT, then you probably know that the only way Visual Studio 2012 offers is DirectX.  This is a very powerful technology, requires knowledge of C ++, and is generally rather a low-level API for working with intensive graphics, its study takes time.  If you are taking the first steps, then it is much easier to use higher-level libraries.  But due to the youth of the platform while there are not too many game and physical engines, nevertheless their list is updated.  Here are some of them: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <a href="http://www.createjs.com/">EaselJS</a> </li><li>  <a href="http://impactjs.com/">ImpactJS</a> </li><li>  <a href="http://www.scirra.com/">Construct2</a> </li><li>  <a href="http://deltaengine.net/">Delta engine</a> </li><li>  <a href="http://unigine.com/">Unigine</a> </li><li>  <a href="http://www.ogre3d.org/">Ogre engine</a> </li><li>  <a href="http://www.cocos2d-x.org/">Cocos2d</a> </li><li>  <a href="http://bepuphysics.codeplex.com/">Bepu physics</a> </li><li>  <a href="http://jitter-physics.com/">Jitter physics</a> </li><li>  <a href="http://code.google.com/p/box2dx/">Box2dx</a> </li><li>  <a href="http://monogame.codeplex.com/">Monogame</a> </li><li>  <a href="http://sharpdx.org/">SharpDX</a> </li></ul><br><br>  The last two - SharpDX and MonoGame deserve special attention.  SharpDX is a wrapper for DirectX and allows you to work with this technology from .NET and also supports WinRT.  Even more interesting is that MonoGame - the cross-platform port of the XNA library also works on WinRT. <br>  XNA is a popular library for Windows, Xbox360 and Windows Phone, through which thousands of games are created.  Due to the fact that MonoGame has not changed the main areas of visibility, the transfer from XNA does not require large changes in the existing application code. <br><br><h4>  Configuring the environment </h4><br><br>  To start developing games for WinRT on MonoGame, you need to configure Visual Studio 2012 and install the necessary components on your computer to compile the project.  Of course, you can download the already compiled versions of SharpDX and MonoGame, but it is better to download the source files of these libraries, collect them locally.  This will allow you to further perform detailed debugging and increase your understanding of how MonoGame works. <br><br>  If you decide to go easy, here are the links: <a href="http://sharpdx.org/download/">sharpdx.org/download</a> (or in the Package Manager console type Install-Package SharpDX) and <a href="http://monogame.codeplex.com/releases/view/96421">monogame.codeplex.com/releases/view/96421</a> <br><br><h5>  If you want to collect everything yourself </h5> : <br>  Create a directory in which we will have the source files of libraries.  For example <code>D:\Gamedev</code> <br><br><ol><li>  Install Git: <a href="http://msysgit.github.com/">msysgit.github.com</a> </li><li>  Run Git Bash (git console) and go to the <code>D:\Gamedev</code> </li><li>  Get the SharpDX sources: <code><a href="https://github.com/sharpdx/SharpDX"></a> git clone github.com/sharpdx/SharpDX</code> </li> <li>  Get the MonoGame source: <code><a href="https://github.com/mono/MonoGame"></a> git clone github.com/mono/MonoGame</code> </li> <li>  Launch Visual Studio 2012 x86 Native Command Line Tools (search for the word Native in the start screen) </li><li>  Go to the <code>cd D:\Gamedev\SharpDX</code> and command the <code>MakeSharpDX.cmd win8 build</code> about 3-4 minutes you will have SharpDX assembled in the <code>D:\gamedev\sharpdx\Bin\Standard-winrt\</code> </li><li>  Now we need to configure and compile the MonoGame project.  To do this, using Visual Studio 2012, open the <code>D:\gamedev\MonoGame\MonoGame.Framework.Windows8.sln</code> project. Now MonoGame does not know where the SharpDX assemblies are located and shows errors in the references: <br><img src="https://habrastorage.org/storage2/15e/dbd/58b/15edbd58b71d4a76107e38c28d9d4e3f.png"><br></li><li>  In the project properties (context menu on the project, <b>Properties</b> ) in the <b>Reference Paths</b> section specify the path <code>D:\gamedev\sharpdx\Bin\Standard-winrt\</code> </li><li>  We compile the project, after which you will have the assembly <code>D:\gamedev\MonoGame\MonoGame.Framework\bin\Release\MonoGame.Framework.Windows8.dll</code> </li><li>  Install the MonoGame project templates in Visual Studio.  To do this, copy the files from the directory <code>D:\gamedev\MonoGame\ProjectTemplates\VisualStudio2012\</code> to the directory <code>C:\Users\USERNAME\Documents\Visual Studio 2012\Templates\ProjectTemplates\Visual C#\Mono\</code> and then restart Visual Studio and create on the base This template project: <br><img src="https://habrastorage.org/storage2/b03/917/d3e/b03917d3e40f333e307c03a751f98e5f.jpg"><br></li><li>  Do not forget to also specify the Reference Paths for the newly created project <code>D:\gamedev\MonoGame\MonoGame.Framework\bin\Release\</code> </li></ol><br><br>  Then we compile and run the project.  Congratulations, you have created your first MonoGame application for WindowsRT.  Although it looks quite simple for now, a clean blue screen, since it does nothing and draws nothing but the background. <br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Game1</span></span> : <span class="hljs-title"><span class="hljs-title">Game</span></span> { GraphicsDeviceManager _graphics; SpriteBatch _spriteBatch; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Game1</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { _graphics = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GraphicsDeviceManager(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); Content.RootDirectory = <span class="hljs-string"><span class="hljs-string">"Content"</span></span>; } <span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> protected override void Initialize() { base.Initialize(); } </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">    protected override void LoadContent() { _spriteBatch = new SpriteBatch(GraphicsDevice); //Content.Load</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;SpriteFont&gt;</span></span></span><span class="hljs-comment">... } protected override void UnloadContent() { } </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">   protected override void Update(GameTime gameTime) { base.Update(gameTime); } </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">   protected override void Draw(GameTime gameTime) { GraphicsDevice.Clear(Color.CornflowerBlue); base.Draw(gameTime); } }</span></span></code> </pre><br><br><h4>  What's next </h4><br><br>  If you are not at all familiar with XNA, then try searching the Internet for a keyword XNA tutorial.  There are many articles that explain the basics of programming graphics based on this technology.  You can also download <a href="http://sdrv.ms/WWIiyh">an example of the CastleX platform that runs on Windows 8</a> . <br><br><img src="https://habrastorage.org/storage2/6da/442/101/6da4421011655bd393fe012549b6c4b2.png"><br><br>  This is a classic platformer in which the player jumps, climbs and collects some necessary things on the plot, at the same time trying to protect themselves from all sorts of dangers. <br>  While this game is not fully supported by Windows 8 as there are no important components.  Made only minimal changes compared to Windows, which allowed to run this application under WinRT. <br>  The <code>Assets</code> directory of Castle X contains a number of files needed for work ‚Äî these are graphics, sound effects, and levels.  Many of these files have an unusual XNB extension. <br><br><img src="https://habrastorage.org/storage2/698/fab/316/698fab316d11fbd4326c1ed053de0300.png"><br><br>  One of the difficulties that will inevitably be encountered when developing games for MonoGame is the lack of support for the Content Pipeline.  In XNA 4.0 and the add-on for Visual Studio 2010, there was a set of extensions that packed the game's graphic and sound resources into a special XNB data format.  There is no such extension in Visual Studio 2012, so the recommended way is to additionally install Visual Studio 2010 and <a href="http://www.microsoft.com/en-us/download/details.aspx%3Fid%3D27599">XNA Game Studio 4.0 Refresh</a> . Also, be sure to install the <a href="http://www.xbox.com/en-US/LIVE/PC/DownloadClient">update for XNA Runtime</a> under the Windows 8 Desktop platform. <br>  Then you can collect resources in VS2010 or use a third-party utility <a href="http://xnacontentcompiler.codeplex.com/releases/view/60222">XNA Content Compiler</a> <br><br><h4>  How is the game CastleX <br></h4><br>  The program logic of the game begins with the concept of the displayed screens.  There are several types of screens (their classes are in the folder / View / Screens /), such as a splash screen, a demo playback screen, a level screen, a game menu screen, and so on.  Screens are managed by a special class <code>ScreenManager</code> inherited from the type <code>DrawableGameComponent</code> that is registered when the application starts. <br><br><pre> <code class="cs hljs">Components.Add(screenManager);</code> </pre><br><br>  In the Update method of the main class of the game, the state of the screen manager is changed, which, depending on the processed events, affects what the player sees. <br>  ScreenManager itself displays itself in the Draw method, the logic of which is evident from the code: <br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Draw</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameTime gameTime</span></span></span><span class="hljs-function">)</span></span> { ViewPort = GraphicsDevice.Viewport; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (GameScreen screen <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> screens) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (screen.ScreenState == ScreenState.Hidden) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { SpriteBatch.Begin(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> { } screen.Draw(gameTime, SpriteBatch); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { SpriteBatch.End(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> { } } }</code> </pre><br><br>  The screens themselves, in turn, deal with the processing of user input in the <code>HandleInput</code> method and their own display, depending on the events that have been processed. <br><br><h4>  Game level screen </h4><br><br>  The main screen of the game level contains the ‚Äúcurrent level‚Äù object in the level variable depending on where the player is.  Levels are dynamically loaded.  In the <code>Draw</code> method of the screen itself, the call is already transferred to the <code>Draw</code> method of the level itself ( <code>leve.Draw</code> ) and also displays an information panel with the number of lives collected by the keys - <code>DrawHud(gameTime, spriteBatch);</code> <br><br><h4>  Game level </h4><br>  The level itself is an array of <code>Tile</code> objects that can be in different layers, indicating the order in which they are displayed (which is on top of that): <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Tile[,] tiles; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Layer[] layers;</code> </pre><br><br>  Objects <code>Tile</code> in turn, can be anything - a door, a piece of brick wall, water.  Tiles can also be transparent and in fact such tiles are triggers, since the tile handles collisions along with everything else - an important element of the game: <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> TileCollision { <span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">  ,      </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> Passable = 0, </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">        </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> Impassable = 1, </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">  ,          </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> Platform = 2, </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> ,   </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> Ladder = 3 }</span></span></code> </pre><br><br>  The tile also has a texture - actually what will be displayed on the screen, loaded via the <code>content.Load&lt;&gt;()</code> method. <br>  Also at the level there are other objects that interact with the tiles and with themselves - animated tiles, player character, monsters, keys, coins. <br><br>  The level itself is entirely encoded in a text file.  Different symbols mean different types of tiles and objects in their initial state: <br><br> <code>#################### <br> X4001.................!.. <br> .x2..EG0102...............!X1003. <br> \ <br> ##L.######..######## <br> ##L.........#CCCCCCX3003. <br> ##L.......N..#CCCCCCx5.. <br> ##L.......EG0102..######## <br> ##L....N..#####...... <br> ##L...EG0102.......#.....X2003. <br> ##L..####....#....x4.. <br> ##L..........#W....## <br> ##L...N....N...#....## <br> ##L...EG0102......i#www### <br> #############www#### <br> wwwwwwwwwwwwwww##### <br> X6001wwwwwwwwwwwwwww##### <br> wx6wwwwwwwwwwwww###### <br> 2!2!2!2!2!2!2!2!2!2! <br> tit.Platforms and ghosts <br> des.Face your first enemies inside the castle! <br> Layer2.Bricks.Bricks.Bricks <br></code> <br><br>  For example, L is a ladder, E is a dangerous character, C is a coin,!  - recess tile, and so on.  All codes can be found in the <code>LoadTile(char tileType, int x, int y, String code)</code> method <code>LoadTile(char tileType, int x, int y, String code)</code> <br><br>  Processing of their state and position of objects is carried out in the <code>Level::Update</code> method.  For example, in this method, pressing the key to the left can be processed, the player‚Äôs object will move to the tile of the moving platform, a collision with this tile will be processed (the properties of the player‚Äôs object will change) <br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UpdateMovingItems</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameTime gameTime</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (MovingItemsAreActive) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; MovingItems.Count; ++i) { MovingItem movingItem = MovingItems[i]; movingItem.Update(gameTime); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (movingItem.PlayerIsOn) { <span class="hljs-comment"><span class="hljs-comment">//         screenManager.Player.Position += movingItem.Velocity; } } } }</span></span></code> </pre><br><br>  There is no special physics engine in the game, objects that need to be calculated by physics, there are methods that affect their properties (coordinates, color, etc.). For example, how is the position of an object that falls: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ApplyPhysics</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameTime gameTime</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> elapsed = (<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>)gameTime.ElapsedGameTime.TotalSeconds; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isFalling) { velocity.Y = MathHelper.Clamp(velocity.Y + GravityAcceleration * elapsed, -MaxFallSpeed, MaxFallSpeed); Position += velocity * elapsed; } }</code> </pre><br><br>  After all the event handling has been performed and the properties of the objects have changed, there comes a time to display the level in the <code>Draw()</code> method, which simply draws all the objects that exist on the level: <br><br><pre> <code class="cs hljs">DrawTiles(spriteBatch); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (Item item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> items) item.Draw(gameTime, spriteBatch); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (MultipleStateItem item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> multipleStateItems) item.Draw(gameTime, spriteBatch); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (AnimatedItem item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> animatedItems) item.Draw(gameTime, spriteBatch); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (FallingTile FallingTile <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> FallingTiles) FallingTile.Draw(gameTime, spriteBatch); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (Exit exit <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> exits) exit.Draw(gameTime, spriteBatch); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (Boss boss <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> bosses) boss.Draw(gameTime, spriteBatch);</code> </pre><br><br>  In general, the code of the game and its logic are fairly obvious.  Spending quite a bit of time you can figure out how everything works. <br><br><h4>  What's next </h4><br><br>  Since the game code, in comparison with the original version, is changed very slightly, and only in order to ensure compatibility with WinRT and MonoGame, this application requires additional changes: <br><br><ul><li>  Support for storing game state in local application storage. </li><li>  Subsystem of saving files.  Because of this, the level editor is now disabled. </li><li>  Multitouch and touch control support </li><li>  Required screen privacy policy </li></ul><br><br>  These components will be reviewed and refined in the next post. <br>  <a href="http://sdrv.ms/WWIiyh">Link to the project</a> running in Windows 8 and the <a href="http://castlex.codeplex.com/">original</a> game - in case you decide to change XNB files (graphics and sounds). </div><p>Source: <a href="https://habr.com/ru/post/164217/">https://habr.com/ru/post/164217/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../164203/index.html">Diameter. The basic protocol. Part 1</a></li>
<li><a href="../164205/index.html">ION Piano Apprentice - controller for Garage Band</a></li>
<li><a href="../164207/index.html">"It works - do not touch." Should I break the rules?</a></li>
<li><a href="../164213/index.html">How do you feel about anonymity on the Internet?</a></li>
<li><a href="../164215/index.html">Wireless data transmission, ISM range</a></li>
<li><a href="../164221/index.html">The noexcept compile time specifier in C ++ 11</a></li>
<li><a href="../164223/index.html">New Year's Report Habrapost</a></li>
<li><a href="../164225/index.html">ReactOS 2012</a></li>
<li><a href="../164227/index.html">ICANN expert: domains for pornography and sexual minorities do not violate anyone‚Äôs rights</a></li>
<li><a href="../164229/index.html">Learning programming through the game or how to quickly collect all the honey</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>