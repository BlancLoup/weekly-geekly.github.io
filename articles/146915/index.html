<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Automatic timer for cleaning teeth</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Description 
 One day I returned from a dentist and realized that it was still worth brushing my teeth for at least two minutes. I use a regular tooth...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Automatic timer for cleaning teeth</h1><div class="post__text post__text-html js-mediator-article"> <a href=""><img src="https://habrastorage.org/storage2/878/23b/e2a/87823be2a995af5019f60f75085bb443.jpg" align="left"></a> <h4>  Description </h4><br>  One day I returned from a dentist and realized that it was still worth brushing my teeth for at least two minutes.  I use a regular toothbrush, and every time I press the timer button is too lazy.  I decided to make a device that itself determines that I took out a brush and catch two minutes. <br><br>  As a basis, I chose an Atmega328p microcontroller, a strain gauge, copper cups, a tray, an alarm call and a sheet of plywood.  In this post I will talk about how the device works, what components are used and how the case was assembled. <br><br>  Let's start with a video that demonstrates the operation of the device: <br><a name="habracut"></a><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/loziy5cs2YQ%3Ffeature%3Doembed&amp;xid=25657,15700022,15700186,15700190,15700253,15700255,15700259&amp;usg=ALkJrhgvByI9jRfFoYv7r_jBcAacj1mafQ" frameborder="0" allowfullscreen=""></iframe>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Work algorithm </h4><br><ol><li>  Wake up </li><li>  Read the current weight with an accuracy of 3 grams </li><li>  If the read weight is less than the previous one, play the animation: <br><ol><li>  Turn on all lights </li><li>  Every 20 seconds off by the light bulb </li><li>  Once every 30 seconds, make a "tink" bell, remind you that it is time to clean the other part of the jaw </li></ol></li><li>  Fall asleep for 8 seconds </li></ol><br><br><h4>  Strain gauge sensor </h4><br>  Behind this convoluted name lies one of the main components of the device: scales.  The strain gauge transforms the mechanical deformation that occurs when the sensor is loaded into an electrical signal.  Such sensors are in all electronic scales. <br><br>  Get this sensor was easy.  It is in the cheapest electronic scales: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/e44/450/2fe/e444502fe95e19bf3d3262bcf2c54391.jpg"></div><br><br>  From the sensor moves four wires.  One is connected to the input voltage, one to ground and two to the signal amplifier.  The difference in voltages on these two wires determines the weight of the object on the sensor.  That is, the heavier the subject, the greater the difference.  I note that we are not interested in the exact weight, we just need to determine that the weight has changed (we got a toothbrush).  Moreover, it is possible to look once in 5-10 seconds, whether the weight has changed;  not scary if the timer does not start instantly. <br><br><h4>  Component selection </h4><br>  I chose the simplest components.  Here is the scheme: <br><br><img src="https://habrastorage.org/storage2/a52/a8c/8ca/a52a8c8caf70762a2452cdf198b9a430.jpg"><br><br>  <a href="http://www.atmel.com/devices/atmega328p.aspx">ATMega328p with a crystal at 16Mhz</a> - the "brain" of the device.  Perhaps with an easy feed of the Arduino, this controller has become extremely popular among self-taught amateurs.  It is very easy to program and difficult to burn. <br><br>  <a href="http://www.ti.com/lit/ds/symlink/ina125.pdf">The Ina125P amplifier is</a> designed specifically to amplify signals from various sensors.  The wiring diagram is very simple;  the only thing to which it was necessary to pay special attention - this is the magnitude of the resistor that determines the gain.  Here is how the amplifier is connected: <br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/915/47a/2a1/91547a2a1adeee25b331c8c5e2e2d470.png"></div><br>  <code>SCALES_CONN</code> - four wires from the sensor. <br>  <code>R1</code> is a resistor that determines the amount of amplification. <br>  <code>WOUT</code> is a wire from which it is possible to read the amplified difference between the wires <code>V+IN</code> and <code>V-IN</code> . <br>  <code>SC_SLEEP</code> - wire <code>SC_SLEEP</code> amplifier.  It is necessary to save energy. <br><br>  <a href="http://www.ti.com/lit/ds/symlink/tps2021.pdf">The TPS2020</a> is an excellent switch with very low power consumption when it is turned off (10 ŒºA).  It controls servo power: <br><img src="https://habrastorage.org/storage2/4eb/f9d/a3a/4ebf9da3a8c6ffea1a960f31fa2235f5.png"><br><br>  <a href="http://datasheets.maxim-ic.com/en/ds/MAX1551-MAX1555.pdf">The MAX1555 charger</a> is a chip that controls battery charging.  Here is how it is connected: <br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/e4b/82e/300/e4b82e300030a2917d11f10088be9793.png"></div><br><br>  <a href="http://www.fairchildsemi.com/ds/2N/2N3904.pdf">Transistors 2N3904</a> - to control the power of light bulbs. <br><br>  <b>Warm lamp lamps</b> - I decided to use ordinary lamps for exclusively decorative purposes.  Since the project suggested a kind of "antique" ordinary LEDs could spoil the impression.  Lamps light up less frequently and do not eat up the battery too much.  Now the device works the third week on one charge. <br><br><h3>  Board assembly </h3><br><br>  I collected the board by <a href="http://habrahabr.ru/post/134834/">photoresistive method</a> .  Here is the sketch: <br><br><img src="https://habrastorage.org/storage2/abf/b80/51e/abfb8051e13b5b0d2aefa89ffd68b160.png"><br><br>  Board under the lamp: <br><br><img src="https://habrastorage.org/storage2/edd/281/71c/edd28171c3142d890a3e7a9dc41e244a.jpg"><br><br>  Those interested can get acquainted with the <a href="https://github.com/bshikin/Toothbrush-Timer/tree/master/schematic">scheme in the Eagle format</a> and the <a href="https://github.com/bshikin/Toothbrush-Timer/tree/master/source">source code of the project</a> . <br><br><h4>  Housing assembly </h4><br>  It was almost as interesting to assemble the device case as designing a circuit and writing code.  It all started with a sheet of plywood and a drawing in Inkscape.  I managed to rent a laser cutter: a drawing is sent to it, like a printer, a sheet of plywood is put into the work area, the focus is adjusted and the machine accurately and accurately cuts out the required parts.  Here's what it looks like: <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/6AQ2_ri61wY%3Ffeature%3Doembed&amp;xid=25657,15700022,15700186,15700190,15700253,15700255,15700259&amp;usg=ALkJrhjvDAbfi-Y-FYL75VX1lo2LaJpL2Q" frameborder="0" allowfullscreen=""></iframe><br><br>  I used super glue to assemble the parts.  To increase the adhesive area, all the joints were reinforced with small corners of the same plywood.  I found that it makes sense to make these corners with a margin to strengthen the body later. <br><br><img src="https://habrastorage.org/storage2/dad/f2b/c7f/dadf2bc7fa5717acd37434f388c64646.jpg"><br><br>  Body ready for painting: <br><br><img src="https://habrastorage.org/storage2/8b8/fb0/c0b/8b8fb0c0b995073c7e7a3abe0404f3b1.jpg"><br><br>  I used two coats of paint and two coats of varnish.  Before painting, I walked across the entire structure with a small pelt. <br>  Here are the components: <br><br><img src="https://habrastorage.org/storage2/985/048/0e6/9850480e6bcd12356e3bc22083f63f14.jpg"><br><br>  All seams were sealed with glue gun.  In this project it was very important that the electronics were well isolated.  The device is located next to the sink, so that it will definitely spray.  The partition in the middle should save the circuit if water leaks into the case. <br><br>  Here's what the connected circuit looks like from the inside: <br><br><img src="https://habrastorage.org/storage2/21d/c1e/66c/21dc1e66c22bd4976960501cdb0643c5.jpg"><br><br>  This photo shows the bell mechanism (servo with a hammer) and a tray stand (on top, on the lid): <br><br><img src="https://habrastorage.org/storage2/a39/ab2/e5c/a39ab2e5ce547cf4855e88a485454150.jpg"><br><br>  If you brush your teeth at night with the lights off, it sometimes seems that the device is watching you with six burning eyes: <br><br><img src="https://habrastorage.org/storage2/52a/a90/f0e/52aa90f0e98819353a2fee29cda903c2.jpg"><br><br><h4>  Conclusion </h4><br>  I will be glad to answer any questions.  I would also welcome any comments: I just recently began studying microelectronics. <br><br>  I hope this device will make my visits to the dentist more enjoyable.  And even more, I hope that it will inspire you to create your crazy inventions. <br><br><img src="https://habrastorage.org/storage2/5f4/844/9f3/5f48449f345b2fabfcca1e0824cfe09a.jpg"></div><p>Source: <a href="https://habr.com/ru/post/146915/">https://habr.com/ru/post/146915/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../146905/index.html">#Boycottapple entered the top three most popular trends on Google+</a></li>
<li><a href="../146910/index.html">Ruby NoName Podcast S04E12</a></li>
<li><a href="../146911/index.html">Internet and IPTV in the cottage: a difficult but successful experience</a></li>
<li><a href="../146912/index.html">We are looking for along with Google</a></li>
<li><a href="../146914/index.html">Droider Show # 47. Google I / O and patent lawlessness!</a></li>
<li><a href="../146916/index.html">Google I / O - ADK 2012 Presentation</a></li>
<li><a href="../146917/index.html">From engineer to manager. Part 1: Sense of Justice</a></li>
<li><a href="../146918/index.html">Apple will have to buy rights to the iPad brand in China for $ 60 million</a></li>
<li><a href="../146919/index.html">GNU / Linux and Microsoft Windows Integration</a></li>
<li><a href="../146921/index.html">Intellectual video gadget OViVO will appear on the market in July</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>