<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>From passport scanner to standalone discerner</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="About three months have passed since the creation of our first working sample passport scanner . Having received good results in terms of quality and ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>From passport scanner to standalone discerner</h1><div class="post__text post__text-html js-mediator-article">  About three months have passed since the creation of our <a href="https://habrahabr.ru/company/smartengines/blog/278257/">first working sample passport scanner</a> .  Having received good results in terms of quality and speed of recognition, we raised the Olympic motto ‚ÄúFaster!  More quality!  More compact! ‚Äù, Started to create the next model of the PACK.  If you are wondering what happened as a result, welcome to cat. <br><br><img src="https://habrastorage.org/files/ceb/82a/fc3/ceb82afc3ef64f4ebf4e42ac76803742.png"><br><a name="habracut"></a><br><br><h4>  Development in the camera part </h4><br>  The optical system is the heart of our PAK.  Having worked in the first versions with a webcam from Microsoft, we were able to formulate a number of camera requirements for future models: <br><ol><li>  Manual focal length control. </li><li>  High resolution received frames.  As it turned out, the 2 MPix returned by the Microsoft camera is the minimum allowed. </li><li>  Compact size. </li><li>  Driver availability for various platforms and operating systems. </li><li>  Low cost. </li></ol><br>  As a result, we stopped at the unpackaged small-format USB-camera <a href="http://www.elpcctv.com/mi5100-5mp-usb-camera-module-usb20-aptina-125inch-color-cmos-sensor-100degree-lens-p-221.html">MI5100</a> from the well-known Chinese manufacturer of video surveillance systems and USB-cameras <a href="http://www.elpcctv.com/">ELP</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/535/bc6/c22/535bc6c22cc347fcb20447ce2583bedc.png"><br><br>  Cheap, compact, offering manual focus, returning images up to 5 MPix, operating under different operating systems, this ‚Äúideal‚Äù at first glance camera has several drawbacks: <br><ol><li>  The video stream is encoded using MJPEG with fairly low quality.  As a result, the resulting frames contain JPEG-specific artifacts, which are particularly pronounced at the contrast borders.  But since the recognition core was sharpened under images of poor quality, this feature of the camera did not introduce serious problems. </li><li>  Build quality is quite mediocre.  For example, in order to fit the lens more closely, I had to resort to FUM tape and PVC electrical tape. </li></ol><br><h4>  Development in part of the body </h4><br>  As in the first model, we chose chipboard furniture sheets as the material for the cabinet.  This solution has several advantages: <br><ol><li>  It is easy to assemble: it is possible to cut parts of the required size directly in large building stores, in the same place you can buy confirmatics for twisting the box. </li><li>  It is pleasant to realize that the industrial design is guaranteed to be more compact at least due to the thinning of the device walls. </li></ol><br>  The use of a wide-angle small-sized camera allowed us to significantly reduce the height of the device: 146 mm against 276 mm for the previous sample.  PAK is designed to recognize documents of a size not exceeding A5, which directly determines the length and width of the scanner. <br><br><img src="https://habrastorage.org/files/a3d/7ba/f81/a3d7baf81eb04787a520e6f8eef425b8.png"><br><br><h4>  Development in automation </h4><br>  In my opinion this part of the article is the most interesting.  If you read our <a href="https://habrahabr.ru/company/smartengines/blog/278257/">previous post about the software and hardware complex</a> , you probably drew attention to our plans to fill the voids of the box with computing power so that the very recognition of documents was also performed inside the PACK.  As you can see from the first picture, we did it and are ready to share our experience. <br><br>  So, the single-board 8-core mini-computer <a href="http://www.hardkernel.com/main/products/prdt_info.php%3Fg_code%3DG143452239825">Odroid-XU4</a> , made on the ARM architecture, was chosen as the main computing device.  A single board computer contains four Cortex-A15 cores with a clock speed of 2.0 GHz and four Cortex-A7 cores with a clock frequency of 1.4 GHz, 2 GB of RAM, a Gigabit Ethernet network controller, two USB 3.0 ports, one USB 2.0 port, and also HDMI to connect the monitor.  Lubuntu was chosen as the operating system. <br><br><img src="https://habrastorage.org/files/b3f/582/4c5/b3f5824c5c484ec081e14430338ffc2b.png"><br><br>  Having collected the recognition core on a micro computer (fortunately, there were no difficulties, we regularly assemble the SDK for Android and iOS mobile platforms), making sure that the documents are recognized, we faced the question of how we would return the recognition result to the client. <br><br>  The first obvious approach is to bring up a web server on Odroid and access it for recognition results.  It is easy to implement, but not what we wanted (and we just wanted a stand-alone device that allows us to reduce the integration process to virtually zero). <br><br>  The alternative solution came unexpectedly as always.  What if we teach our PAK to pretend to be a USB keyboard?  Like a barcode scanner.  In this form, the integration of our PAK into ready-made information systems essentially consists in connecting the device to an empty USB connector and setting up (on the device) the correct sequence of pressing ‚Äúvirtual‚Äù keys. <br><br>  Inspired by the idea, we bought Odroid Shifter Shield, Arduino Micro, a set of wires, a couple of buttons and a LED.  We programmed Arduino (well, a very detailed guide is supplied with Arduino), they ‚Äúhung up‚Äù on the button to start the recognition procedure, on the LED - feedback on the recognition quality. <br><br>  Being a supporter of the saying ‚Äúit's better to see once than seven times to hear‚Äù, we share with you a video of the work of a completely autonomous scanner. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/PRjrHNIhwuU%3Ffeature%3Doembed&amp;xid=17259,15700021,15700043,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi6GgWNzLvUmtrI3CJ9QKuGcKvWDw" frameborder="0" allowfullscreen=""></iframe><br><br><h4>  Conclusion </h4><br>  The experiments carried out smoothly led us to an important scientific and social goal: to create an industrial design that would completely solve the problem of entering passport data at checkpoints, in banks, ticket offices, and also think about import substitution. </div><p>Source: <a href="https://habr.com/ru/post/281857/">https://habr.com/ru/post/281857/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../281845/index.html">Stack Overflow Habit</a></li>
<li><a href="../281847/index.html">How I suffered, raising LTSP with a third-party TFTP server</a></li>
<li><a href="../281849/index.html">Open Server-status in the Electronic Government of Kazakhstan or how to get a database of citizens</a></li>
<li><a href="../281851/index.html">Make a UI plug-in in IntelliJ Idea "like a maven'a"</a></li>
<li><a href="../281855/index.html">Microsoft uncovered historical aspects of Windows development.</a></li>
<li><a href="../281859/index.html">Writing a Lisp Interpreter in Java</a></li>
<li><a href="../281861/index.html">Kite: contextual clues and auto-completion when writing code</a></li>
<li><a href="../281863/index.html">Filtering data in symfony</a></li>
<li><a href="../281865/index.html">Firebird 3.0 released</a></li>
<li><a href="../281867/index.html">PyNSK # 7 - April meeting of the Novosibirsk Python community</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>