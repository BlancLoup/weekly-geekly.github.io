<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Cyclomatic complexity: CSS logic</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Over the years, we have argued that there is no logic in CSS. Thus, we wanted to say that there was no flow of control or a way to program them to pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Cyclomatic complexity: CSS logic</h1><div class="post__text post__text-html js-mediator-article">  Over the years, we have argued that there is no logic in CSS.  Thus, we wanted to say that there was no flow of control or a way to program them to program.  This inherent flaw in logic was used as an argument in favor of using processors (to provide this missing function), and as an argument against preprocessors (CSS never implied logic, so we should not try to implement it). <br><br>  Recently, however, I was confronted with a thought that made me realize that CSS actually has logic, and the fact that it is rarely seen as such, probably is the reason why we get CSS as a whole rather weak. <br><br>  I found that I explain to the client complex selectors, as if they consist of a subject ‚Äî the thing we are actually interested in ‚Äî and its conditions.  For example: <br><a name="habracut"></a><br><pre><code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.sidebar</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.login-box</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">input</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.btn</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">span</span></span> { }</code> </pre> <br>  In this complex selector, the subject is a span, and its conditions are IF (inside .btn) AND IF (in input) AND IF (inside .login-box) AND IF (inside .sidebar) AND IF (in div). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="php hljs">@<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> exists(span) { @<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> is-inside(.btn) { @<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> is-on(input) { @<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> is-inside(.login-box) { @<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> is-inside(.sidebar) { @<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> is-on(div) { <span class="hljs-comment"><span class="hljs-comment"># Do this. } } } } } }</span></span></code> </pre><br><br>  Probably not.  It looks too crooked and confusing.  Probably, we would have done better like this: <br><br><pre> <code class="php hljs">@<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> exists(.btn-text) { <span class="hljs-comment"><span class="hljs-comment"># Do this. }</span></span></code> </pre><br>  Every time we insert or define a selector, we add another if statement to it.  This in turn increases what is called cyclomatic complexity. <br><br><h4>  Cyclomatic complexity </h4><br>  In programming, cyclomatic complexity is an indicator that refers to the number of ‚Äúmoving parts‚Äù in a code.  These moving parts are usually points in a particular control flow (if, else, while, etc.), and the more of them we find, the greater will be our cyclomatic complexity.  In fact, we need the cyclomatic complexity to be as small as possible, since greater complexity means, among other things, that: <br><br>  ‚Ä¢ The code is more difficult to evaluate; <br>  ‚Ä¢ There are more potential points of error; <br>  ‚Ä¢ The code is more difficult to change, maintain or reuse; <br>  ‚Ä¢ You will have to consider a greater number of results and side effects; <br>  ‚Ä¢ And the code is much harder to test. <br><br>  With regard to CSS, we mainly look at the number of decisions that the browser must make before it can or cannot execute something.  The more if statements in our selectors, the higher the cyclomatic complexity of this selector.  This means that our selectors are more fragile, since they have more conditions that need to be fulfilled for them to work at all.  This means that our selectors are less obvious, because the inclusion of if statements may not necessarily lead to erroneous positive matches.  This makes our selectors much less reusable, as we make them jump all the way more than necessary. <br><br>  Therefore, instead of being attached to the span inside .btn (and so on), we better create a new class .btn-text, to which we will be attached.  This is a more direct way, as well as a more concise and rational (a large number of @if leads to the creation of fragile selectors, which are more likely to fail). <br><br>  The trick is to write selectors the way the browser analyzes them: right to left.  That's why you need to define a span with a lot of conditional constructions: to narrow the scope of the selector.  You need to start from the other end;  write something unambiguous and understandable, and completely give up the conditions. <br><br>  Instead of your selectors initially grabbing a huge amount of DOM elements, then to reduce coverage through conditions, it‚Äôs best to just capture a lot less DOM elements. <br><br>  Cyclomatic complexity is a rather interesting principle that can be used in CSS, but if we look at it only as a principle, we can begin to visualize and even measure complexity in ‚Äúlogic‚Äù and, based on that, start making better decisions. <br><br>  <b>A few rules:</b> <br>  ‚Ä¢ Treat selectors like mini-programs: every time you type or define something, you add one if statement;  pronounce all these if out loud to keep selectors simple. <br>  ‚Ä¢ Try to keep minimal cyclomatic complexity: use a tool like Parker to keep track of your selectors in terms of cyclomatic complexity. <br>  ‚Ä¢ Minimize the use of nested selectors: sometimes an attachment to CSS is necessary, but in most cases it is not.  Excellent <a href="http://thesassway.com/beginner/the-inception-rule">article</a> on this topic. <br>  ‚Ä¢ Start looking at selectors from right to left: start with an element you are sure of, and then write a minimum of additional CSS to get the right fit. <br>  ‚Ä¢ Finalize the assignment of the selector: make sure that you write the selectors that you want, and not just those that turned out to be working. <br><br>  Your selectors are a major aspect of your CSS architecture.  Make sure you make them sensible and simple. <br><br><div class="spoiler">  <b class="spoiler_title">Useful Paysto solutions for Habr readers:</b> <div class="spoiler_text">  ‚Üí <a href="http://linkcharge.ru/email">Get paid by credit card right now.</a>  <a href="http://linkcharge.ru/email">Without a site, PI and LLC.</a> <br>  ‚Üí <a href="http://linkcharge.ru/">Accept payments from companies via the Internet.</a>  <a href="http://linkcharge.ru/">Without a site, PI and LLC.</a> <br>  ‚Üí <a href="http://linkcharge.ru/api">Acceptance of payments from companies for your site.</a>  <a href="http://linkcharge.ru/api">With document circulation and exchange of originals.</a> <br>  ‚Üí <a href="http://linkcharge.ru/automat">Automation of sales and service transactions with legal entities.</a>  <a href="http://linkcharge.ru/automat">Without intermediary in the calculations.</a> <br></div></div></div><p>Source: <a href="https://habr.com/ru/post/257101/">https://habr.com/ru/post/257101/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../257089/index.html">How to build a scalable infrastructure on Storage Spaces</a></li>
<li><a href="../257091/index.html">Store 300 million objects in the CLR process</a></li>
<li><a href="../257093/index.html">SourceTalk (source code discussion service): release</a></li>
<li><a href="../257095/index.html">Happy birthday google</a></li>
<li><a href="../257097/index.html">7 things that every designer should know about the design of accessible sites</a></li>
<li><a href="../257105/index.html">Deploying Oracle Database 12c DBMS on Windows Server to InfoboxCloud Cloud</a></li>
<li><a href="../257107/index.html">Software renderer - 2: rasterization and attribute interpolation</a></li>
<li><a href="../257109/index.html">Attackers use Linux / Mumblehard to compromise servers, part 1</a></li>
<li><a href="../257111/index.html">Effective work with text or how I reinvent the wheel.</a></li>
<li><a href="../257113/index.html">Writing a system of invitations (invitations) for your Meteor application</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>