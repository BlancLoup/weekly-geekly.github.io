<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>As in Canada, looking for missing children</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Last year in Canada alone, 45,000 children disappeared. Scary statistics. In order to maximize the percentage of found a solution was developed using ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>As in Canada, looking for missing children</h1><div class="post__text post__text-html js-mediator-article">  Last year in Canada alone, 45,000 children disappeared.  Scary statistics.  In order to maximize the percentage of found a solution was developed using Xamarin and Azure, which we describe under the cat. <br><br><img src="https://habrastorage.org/files/0af/aeb/b26/0afaebb2623f47acbdb337b1095efdab.jpg"><br><a name="habracut"></a><br><h2>  Cycle of Microsoft Technical Case Studies </h2><br>  1. <a href="https://habrahabr.ru/company/microsoft/blog/323200/">Power BI Embedded, IoT and machine learning for processing brain thermograms</a> . <br>  2. <a href="https://habrahabr.ru/company/microsoft/blog/322172/">As in Canada, looking for missing children</a> . <br>  3. <a href="https://habrahabr.ru/company/microsoft/blog/323762/">Internet of things in archeology</a> . <br>  4. Loading ... <br><br><h2>  Introduction </h2><br>  Modern children on ‚Äúyou‚Äù with high technologies, they use them for games, communication and study.  But with great opportunities comes a great responsibility from both the parents and the children themselves.  It is necessary to constantly monitor with whom children communicate and exchange information on the Internet, otherwise misfortune can happen.  Amanda Pick, director of the Canadian Missing Children Search Society (MCSC) and her team work tirelessly to prevent misfortunes.  They pay special attention to online resources, as attackers are increasingly using them to implement their plans. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Bringing every child home is the main goal of the <a href="https://aka.ms/habr_322172_1">MCSC</a> (Canadian Missing Children Search Society), a non-profit association with headquarters in Calgary.  One of the tasks is to collect information about the child (for example, the last known location and contacts) and transfer it to representatives of local law enforcement agencies. <br><br>  MCSC works closely not only with the Calgary Municipality and the police, but also with Microsoft.  Recently, a joint workshop was held that helped participants understand how Azure, Xamarin, and DevOps best practices will help them quickly and efficiently collect and provide police with information about children who are unaccounted for. <br><br>  The result of the seminar was an application created on the basis of the following services and techniques: <br><br><ul><li>  Azure features </li><li>  Azure Storage Services </li><li>  continuous integration; </li><li>  infrastructure as a code methodology; </li><li>  Visual Studio Team Services; </li><li>  Xamarin tools. </li></ul><br>  The goal of the four-day workshop was to begin using Azure at the MCSC to obtain information about the child‚Äôs last known whereabouts, their contacts and social media (for example, Twitter and Facebook). <br><br><h2>  Formulation of the problem </h2><br>  During the meeting with Amanda and the MCSC team, we studied the problems associated with collecting information about the missing child.  It is enough just to find out, for example, what the child was wearing and where he was last seen, but sometimes it took several days or even weeks to get other detailed information. <br><br>  The Microsoft Canada team has set itself the task of speeding up the collection of additional information.  Our goal was to automate the search for information about the child on the Internet by extracting data from his accounts in social networks. <br><br><img src="https://habrastorage.org/files/cf7/ea2/254/cf7ea225486f4804a4f42414345ce460.jpg"><br><br>  The first half of the day was spent on drawing up a diagram of the current process of transferring to the police information about the missing child. <br><br><img src="https://habrastorage.org/files/32a/556/c79/32a556c7952641cb960ca63b00e5fad8.png"><br><br>  That's what it was: <br><br><ol><li>  Provide parents and / or children with the opportunity to register their social network accounts in the MCSC database. </li><li>  If a registered child goes missing, he or his parent can use the Child Finder solution (via Azure functions) to see the last known location of the child with whom he has contacted and talked about.  To do this, it is necessary to use the hashtag #hfm in the social network feed (help find me - ‚Äúhelp find me‚Äù). </li><li>  The Child Finder solution will get all the necessary information directly through the social media API. </li><li>  Azure will send the collected information directly to law enforcement agencies, notifying them of the missing child in the relevant area and providing additional information collected through social media. </li><li>  Law enforcement representatives will use Azure Active Directory Authentication to enter the application.  This ensures that all collected data will be available only to those who have the appropriate rights and powers. </li><li>  The application will be available reports and additional information about missing children. </li></ol><br>  The hashtag #hfm can be used only by those who have access (username and password) to the account.  This restriction guarantees the privacy of the child, since only the child himself or people he trusts (for example, his parents) can activate the Azure function to control his account in social networks. <br><br>  Representatives of the MSCS and the Calgary police were asked to exercise: chart the value stream.  This helped them realize the need to optimize and accelerate existing approaches to finding information.  This approach confirmed its effectiveness, even taking into account the fact that a completely new process was implemented in the solution.  Based on the scheme, a map of resources for specialists was formed. <br><br><img src="https://habrastorage.org/files/217/e53/5d4/217e535d4c44434db2187d2dc6383d95.png"><br><br>  The team then prepared a data flow diagram for the proposed project.  One of the main tasks was to ensure security and provide tools for independent work, due to the confidentiality of the information collected and sent.  Twitter OAuth support was implemented so that the child and / or his parents could activate account monitoring.  Account data collection is activated using the hashtag #hfm.  An entry screen for law enforcement officials was also implemented. <br><br><h2>  Project Goals </h2><br>  The project implemented for MCSC is based on the following technologies. <br><br><h4>  Azure web app </h4><br><ul><li>  On the basis of Azure, a portal has been created for parents or children who wish to register social network accounts in order to monitor them. </li><li>  Azure features were used to monitor registered social media accounts after finding a special hashtag (Azure features allow you to run small pieces of code in the cloud. To solve a specific task, you can write other code that does not require infrastructure or even an entire application to execute). </li><li>  When a hashtag is detected, all metadata (location, time and date) and the results of the analysis of messages will be collected and sent to law enforcement agencies using a special mobile application Xamarin. </li></ul><br><h4>  Xamarin mobile application </h4><br><ul><li>  Authentication rules have been developed so that only authorized personnel can gain access. </li><li>  Law enforcement representatives receive notifications of new reports and can use applications to view the relevant metadata and the results of the analysis of messages. </li><li>  MCSC representatives will also be informed via the same application and will be able to assist in the work of law enforcement agencies. </li></ul><br><h2>  Devops </h2><br><ul><li>  An exercise describing the value stream helped to form a process diagram, as well as a scheme for collecting and distributing information from the database through the Azure web app and the Xamarin mobile app. </li><li>  GitHub infrastructure storage (Azure features), authentication (Azure web portal), and client (Xamarin) have been used throughout the project. </li><li>  To speed development and deployment, continuous integration flows have been created. </li><li>  The infrastructure as a code methodology was used to deploy the environment and components to ensure integrity. </li></ul><br><h2>  Decisions, steps and results </h2><br><h4>  Process </h4><br>  The child (or his parent) registers a social network account on <a href="https://aka.ms/habr_322172_2">the MCSC website</a> , confirming its consent to monitoring.  This functionality is implemented as a Node.js application called authorization, which is currently connected to Twitter. <br><br><img src="https://habrastorage.org/files/2fe/f76/a0f/2fef76a0f84a4cf992d752f257428059.png"><br><br>  In addition, Azure Logic is used to intercept messages with the #hfm hashtag.  The application adds such messages to the service bus queue. <br><br>  When a message appears in this queue, the Azure function analyzes it and checks against the repository of authorization information in DocumentDB.  If the author of the message is registered in the database, the message is added to the next queue, otherwise it is simply ignored. <br><br>  From the next queue, another Azure function retrieves the message and complements the data.  Currently, the process adds location information received from the device from which the tweet was sent, or determined based on the IP address of this device.  The added message is added to the third queue. <br><br>  In the final step, the Azure function saves the message in the appropriate format in DocumentDB. <br><br>  Upon completion of the operations performed by the Azure functions, the supplemented data will be available to the client through the REST API.  The API provides access to information from a user account and data collected from social networks.  This API is implemented in a Node.js file that runs on an instance of an Azure web application.  The same API is also responsible for authentication in the client application. <br><br>  The Xamarin mobile app, used by search teams and police, connects to the REST API, allowing you to visualize data and even track the location (if relevant information is available).  You can use this application only after authorization.  In the next release, reports on all missing children will be published on a centralized information panel, which redirects information to law enforcement agencies within the specified area. <br><br><h2>  Methods for solving the tasks </h2><br>  The following tools were used in this work. <br><br>  <b>GitHub</b> - to store all source code released under the Apache license.  By placing the source code in the public domain, we connect everyone to this important work and give a wider circle of users the opportunity to use similar systems to search for missing people or to solve other problems related to identifying and tracking people‚Äôs locations. <br><br>  <b>Visual Studio Team Services</b> helped provide support for continuous integration builds and the deployment process.  The project team members were in Toronto and Calgary.  Thanks to VSTS, they could share code and participate in collaboration. <br><br>  <b>The Azure platform</b> provided the most simple, cost-effective and scalable services.  Given the current set of requirements for processes and storage systems, the solution must handle huge amounts of data with minimal delays. <br><br>  <b>The Node.js application</b> collects data about self-registration of users who want access to the hashtag.  This page can be customized to customer needs. <br><br>  The process of receiving data allows you to quickly find content that is independently registered by the user.  In the current version, we decided to use the Logic App, since it costs much less than the long-running Azure function.  A logic app accesses Twitter every 30 seconds.  When a tweet with the desired hashtag is detected, the application adds this tweet to the processing queue. <br><br>  The subsequent process builds on robust Azure functions and queues to ensure proper processing even in the event of errors.  Azure features also provide high scalability and minimize costs.  Each stage of the process has its own task: to begin with, it is necessary to determine whether the author of the tweet is registered.  If such a user is not registered, the message is simply ignored without making copies, which guarantees confidentiality.  Further it is necessary to request additional information.  In the current version, we focused on adding geospatial data, but you can include other information.  Finally, the element is retrieved from the last queue and placed in the DocumentDB database, which is accessed via the REST API using the Xamarin client. <br><br>  The Xamarin.Forms form helped provide support for Android, iOS and Windows OS deployments, while ensuring a uniform view for users on all available devices and an optimized deployment process.  The client application provides data in a convenient format.  Due to the full support of REST in Xamarin, we connect to the REST API, import data and display it as a list.  The client application allows you to view data (or ‚Äúcases‚Äù) and sort them by the states: ‚Äúopen‚Äù, ‚Äúin the archive‚Äù and ‚Äúviewed‚Äù.  If geolocation data is present in the selected case, the application will show on the map the last known location of the social network user.  In addition, the application uses the MVVM pattern ‚Äî a standard architecture that RedBit uses in its mobile applications.  The RedBit development team helped integrate some of the components of the MVVM Light source code. <br><br><img src="https://habrastorage.org/files/18e/d68/af6/18ed68af65134944b80765675e119464.jpg"><br><br><h2>  Further steps </h2><br>  <b>Facebook / Instagram app</b> .  The system supports several channels of various social networks.  Data from these networks will be embedded in one process with its own characteristics. <br><br>  <b>Twitter app</b> .  Currently, the logic application uses the JefKingTweets account as the interaction point.  In the future, the application will be transferred to the MCSC account. <br><br>  <b>The frequency of processing tweets in the application of logic</b> .  Currently, data is received about once every 30 seconds; this interval can be changed if necessary. <br><br>  <b>Azure function to add data</b> .  The system may collect additional contextual information that will be useful to search teams.  For example, you can upload a user's tweets history to find out who his friends are and where he liked to go.  You can track new tweets for the next 48 hours and try to determine your location.  You can also monitor other geolocation tags that will help locate the child. <br><br>  <b>Automatically configure the Azure feature</b> .  During the project, the Azure feature was configured manually.  In the future, in order to simplify management and increase security, automatic configuration will be implemented using Visual Studio Team Services. <br><br><h2>  DevOps Method </h2><br>  Below we discuss the techniques of DevOps, which were used in the implementation of the project. <br><br><h4>  Value stream mapping </h4><br>  This exercise is typically performed on an existing set of processes and actions related to the development of a specific solution.  In this case, we studied the existing process and listened to suggestions for improvement from representatives of the MCSC, the police and the Calgary municipality.  As mentioned earlier, the project team made the diagrams and carefully studied the features of Azure and the client application.  It was possible not only to identify opportunities for optimization, but also to realize them in order to accelerate the development of the solution and achieve a high level of automation.  As a result of Value stream mapping, the following functions are added to this project: <br><br><ol><li>  <b>Authentication in the mobile application</b> .  With its help, law enforcement officials receive secure access to data on missing children, which the Azure feature transmits from your Twitter account. </li><li>  <b>Twitter profile picture</b> .  The image has been added to the report, as it can also help in finding the missing child. </li></ol><br><h4>  GitHub Repository </h4><br>  <a href="https://aka.ms/habr_322172_3">A new organization on GitHub</a> and several repositories have been created to simplify and speed up the work of the teams of specialists participating in the project. <br><br><img src="https://habrastorage.org/files/e57/f37/31d/e57f3731dad94f26b78d97c324265d18.png"><br><br>  As a result, the repositories were created: <br><br><ul><li>  authorization: client authorization in a social network; </li><li>  client: development of the Xamarin application; </li><li>  client-api: API for client devices; </li><li>  client-registration: registration of push notifications; </li><li>  infrastructure: Azure infrastructure; </li><li>  messaging: sending and processing server messages. </li></ul><br><h4>  Continuous integration </h4><br>  To speed build and deployment, we created four continuous integration streams in Visual Studio Team Services: <br><br><ul><li>  client-api-ci; </li><li>  messaging-ci; </li><li>  authorization-ci; </li><li>  Infra-DEV-CI. </li></ul><br><img src="https://habrastorage.org/files/6a5/9db/e52/6a59dbe527ff4e3d894548048daefeb7.png"><br><br>  Each of them includes tasks to create the correct assembly, including npm, gulp, Grunt, and others (depending on the language and type of assembly).  Xamarin client applications are deployed using HockeyApp solution in Visual Studio Team Services. <br><br><h4>  Continuous deployment </h4><br>  Four release control queues have been created so that the team can create software within short cycles.  This approach provides the possibility of release at any time.  The HockeyApp platform provided additional flexibility, since applications are delivered directly to devices, there is no need to place a client application in the store.  This approach speeds up all processes and reduces the costs and risks associated with deploying changes, allowing you to install incremental updates for applications in a production environment. <br><br><img src="https://habrastorage.org/files/f89/bd9/0cd/f89bd90cdea9406fa86f9a0f4be4548d.png"><br><br><h4>  Infrastructure as a code </h4><br>  The infrastructure for the solution is created using a set of JSON templates that are used to deploy the environment and other components that are required by the solution.  JSON templates are uploaded to the infrastructure repository on GitHub, they are subject to the same build and release management process as the rest of the source code.  This process ensures consistent deployment for a group of resources in a development, test, and production environment. <br><br><img src="https://habrastorage.org/files/e28/558/61b/e2855861b78248b39c9c91654d7763f1.png"><br><br><h2>  Conclusion </h2><br>  The project team has successfully developed a registration procedure for identifying users, a process for collecting, processing and supplementing data, an API and an application for client devices. <br><br>  These components will help MCSC to quickly create and optimize their services.  Thanks to the application of the DevOps technique, the process of optimization and expansion of possibilities is considerably accelerated. <br><br><img src="https://habrastorage.org/files/923/fc6/188/923fc61889224f14a8f14de8ab20044f.jpg"><br><br>  In addition, during the course of the work, the project team successfully obtained GPS data from Twitter and Facebook and presented this data in the Xamarin application. <br><br>  In the process of developing the structural scheme of the project, the need to create an information panel for the central office was identified, so that information could be checked before sending it to local law enforcement agencies.  This feature will be implemented in the next release. <br><br>  Representatives of MCSC, the police and the Calgary Municipality appreciated the possibility of continuous improvement of the code, the deployment of additional functions through GitHub and the transfer of applications to mobile devices using HockeyApp. <br><br>  We remind you that you can try Microsoft Azure for free <a href="https://azure.microsoft.com/ru-ru/free/%3Fwt.mc_id%3DAID570629_QSG_BLOG_139069">here</a> . <br><br>  <i>If you see an inaccuracy of the translation, please report this to private messages.</i> </div><p>Source: <a href="https://habr.com/ru/post/322172/">https://habr.com/ru/post/322172/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../322158/index.html">Multitasking. How to cope with ghosts outsiders</a></li>
<li><a href="../322162/index.html">$ mol_app_bench: preparing JS benchmarks quickly and easily</a></li>
<li><a href="../322166/index.html">Yii 2.0: release of the debug 2.0.8 extension</a></li>
<li><a href="../322168/index.html">Union Type, TPT, DDD, ORM and RDBMS</a></li>
<li><a href="../322170/index.html">‚ÄúHello, (real) world!‚Äù In php in 2017</a></li>
<li><a href="../322176/index.html">Infrared optics instead of optical fiber in the data center: the original project of engineers from the United States</a></li>
<li><a href="../322178/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ250 (February 13 - 19, 2017)</a></li>
<li><a href="../322180/index.html">Azure-IaaS-Digest number 13 (January-February)</a></li>
<li><a href="../322182/index.html">Displaying parameters of IOT & GPS objects on charts</a></li>
<li><a href="../322184/index.html">First steps with STM32 and mikroC compiler for ARM architecture - Part 4 - I2C, pcf8574 and HD4478 LCD connection</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>