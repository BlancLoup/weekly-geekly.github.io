<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Work with Anaconda on the example of searching for the correlation of cryptocurrency rates</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The purpose of this article is to provide an easy introduction to data analysis using Anaconda. We will go through writing a simple Python script to e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Work with Anaconda on the example of searching for the correlation of cryptocurrency rates</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/ie/cj/in/iecjini94fnxzosli82pvnp-6ye.png"><br><br>  The purpose of this article is to provide an easy introduction to data analysis using Anaconda.  We will go through writing a simple Python script to extract, analyze and visualize data on various cryptocurrencies. <br><a name="habracut"></a><br><h4>  Step 1 - Setting up the work environment. </h4><br>  The only skills you need are a basic understanding of Python. <br><br>  <b>Step 1.1 - Install Anaconda</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Anaconda distribution can be downloaded from the <a href="https://www.anaconda.com/download/">official website</a> . <br>  Installation takes place in standard Step-by-Step mode. <br><br>  <b>Step 1.2 - Setting up the project work environment</b> <br><br>  After Anaconda is installed, you need to create and activate a new environment to organize our dependencies. <br><br>  Why use a medium?  If you plan to develop several Python projects on your computer, it is useful to store dependencies (software libraries and packages) separately to avoid conflicts.  Anaconda will create a special environment directory for the dependencies of each project, so that everything is organized and shared. <br><br>  This can be done either via the command line <br><br><pre><code class="hljs pgsql">conda <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-comment"><span class="hljs-comment">--name cryptocurrency-analysis python=3.6</span></span></code> </pre> <br><pre> <code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">source</span></span> activate cryptocurrency-analysis</code> </pre> <br>  (Linux / macOS) <br><br>  or <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">activate</span></span> cryptocurrency-analysis</code> </pre> <br>  (Windows) <br><br>  either through Anaconda Navigator <br><br><img src="https://habrastorage.org/webt/zn/nb/ih/znnbihcyzlq000qxo7lmgosgplo.png"><br><br>  In this case, the environment is automatically activated. <br><br>  Then you need to install the necessary dependencies <a href="http://www.numpy.org/">NumPy</a> , <a href="https://pandas.pydata.org/">Pandas</a> , <a href="https://github.com/Anaconda-Platform/nb_conda">nb_conda</a> , <a href="http://jupyter.org/">Jupiter</a> , <a href="https://plot.ly/">Plotly</a> , <a href="https://www.quandl.com/">Quandl</a> . <br><br><pre> <code class="hljs sql">conda <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> numpy pandas nb_conda jupyter plotly quandl</code> </pre> <br>  either through Anaconda Navigator, alternately each package <br><br><img src="https://habrastorage.org/webt/od/z9/a-/odz9a-bxad_tsroksvmupwyiaqc.png"><br><br>  This may take a few minutes. <br><br>  <b>Step 1.3 - Launch Jupyter Notebook</b> <br><br>  There is also an option via the command line <code>jupyter notebook</code> and open the browser at <code>http://localhost:8888/</code> <br><br>  and through Anaconda Navigator <br><br><img src="https://habrastorage.org/webt/py/ss/vs/pyssvszwnlet8lsweay9yqyiu3w.png"><br><br>  <b>Step 1.4 - Import Dependencies</b> <br><br>  After you open an empty Jupyter Notebook, the first thing to do is import the required dependencies. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pickle <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> quandl <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> datetime <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> datetime</code> </pre> <br>  Then import and activate offline Plotly. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> plotly.offline <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> py <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> plotly.graph_objs <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> go <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> plotly.figure_factory <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> ff py.init_notebook_mode(connected=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)</code> </pre><br><h4>  Step 2 - Retrieving Bitcoin Pricing Data </h4><br>  Now that everything is set up, we are ready to begin extracting data for analysis.  To begin with, we‚Äôll get pricing data using the free Quandl API. <br><br>  <b>Step 2.1 - Define the Quandl function</b> <br>  To begin with, we define a function for loading and caching data sets from Quandl. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_quandl_data</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(quandl_id)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">'''Download and cache Quandl dataseries'''</span></span> cache_path = <span class="hljs-string"><span class="hljs-string">'{}.pkl'</span></span>.format(quandl_id).replace(<span class="hljs-string"><span class="hljs-string">'/'</span></span>,<span class="hljs-string"><span class="hljs-string">'-'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: f = open(cache_path, <span class="hljs-string"><span class="hljs-string">'rb'</span></span>) df = pickle.load(f) print(<span class="hljs-string"><span class="hljs-string">'Loaded {} from cache'</span></span>.format(quandl_id)) <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> (OSError, IOError) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> e: print(<span class="hljs-string"><span class="hljs-string">'Downloading {} from Quandl'</span></span>.format(quandl_id)) df = quandl.get(quandl_id, returns=<span class="hljs-string"><span class="hljs-string">"pandas"</span></span>) df.to_pickle(cache_path) print(<span class="hljs-string"><span class="hljs-string">'Cached {} at {}'</span></span>.format(quandl_id, cache_path)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> df</code> </pre> <br>  We use <a href="https://pythonworld.ru/moduli/modul-pickle.html">pickle</a> to serialize and save the loaded data as a file, which will allow our script not to reload the same data every time the script is run. <br><br>  The function returns data as a pandas data set. <br><br>  <b>Step 2.2 - Getting a Bitcoin rate on the <a href="https://www.kraken.com/">Kraken</a> Exchange</b> <br><br>  We implement it as follows: <br><br><pre> <code class="python hljs">btc_usd_price_kraken = get_quandl_data(<span class="hljs-string"><span class="hljs-string">'BCHARTS/KRAKENUSD'</span></span>)</code> </pre> <br>  To check the validity of the script, we can look at the first 5 lines of the response received using the head () method. <br><br><pre> <code class="python hljs">btc_usd_price_kraken.head()</code> </pre> <br>  Result: <br><table border="1"><thead><tr><th>  Date </th><th>  Open </th><th>  High </th><th>  Low </th><th>  Close </th><th>  Volume (BTC) </th><th>  Volume (Currency) </th><th>  Weighted Price </th></tr></thead><tbody><tr><th>  2014-01-07 </th><td>  874.67040 </td><td>  892.06753 </td><td>  810.00000 </td><td>  810.00000 </td><td>  15.622378 </td><td>  13151.472844 </td><td>  841.835522 </td></tr><tr><th>  2014-01-08 </th><td>  810.00000 </td><td>  899.84281 </td><td>  788.00000 </td><td>  824.98287 </td><td>  19.182756 </td><td>  16097.329584 </td><td>  839.156269 </td></tr><tr><th>  2014-01-09 </th><td>  825.56345 </td><td>  870.00000 </td><td>  807.42084 </td><td>  841.86934 </td><td>  8.158335 </td><td>  6784.249982 </td><td>  831.572913 </td></tr><tr><th>  2014-01-10 </th><td>  839.99000 </td><td>  857.34056 </td><td>  817.00000 </td><td>  857.33056 </td><td>  8.024510 </td><td>  6780.220188 </td><td>  844.938794 </td></tr><tr><th>  2014-01-11 </th><td>  858.20000 </td><td>  918.05471 </td><td>  857.16554 </td><td>  899.84105 </td><td>  18.748285 </td><td>  16698.566929 </td><td>  890.671709 </td></tr></tbody></table><br>  And build a graph to visualize the resulting array. <br><br><pre> <code class="python hljs">btc_trace = go.Scatter(x=btc_usd_price_kraken.index, y=btc_usd_price_kraken[<span class="hljs-string"><span class="hljs-string">'Weighted Price'</span></span>]) py.iplot([btc_trace])</code> </pre> <br><img src="https://habrastorage.org/webt/qn/xe/9e/qnxe9ei-mdgclm9hxovbqfl3u40.png"><br><br>  Here we use Plotly to generate our visualizations.  This is a less traditional choice than some of the more well-known libraries, such as Matplotlib, but I think Plotly is a great choice because it creates fully interactive diagrams using <a href="https://d3js.org/">D3.js.</a> <br><br>  <b>Step 2.3 - Getting Bitcoin Rate on Multiple Exchanges</b> <br><br>  The nature of the exchange is that pricing is determined by supply and demand, therefore, no stock exchange contains the ‚Äútrue price‚Äù of Bitcoin.  To solve this problem, we will extract additional data from three larger exchanges to calculate the total price index. <br><br>  We will upload the data of each exchange to the dictionary. <br><br><pre> <code class="python hljs">exchanges = [<span class="hljs-string"><span class="hljs-string">'COINBASE'</span></span>,<span class="hljs-string"><span class="hljs-string">'BITSTAMP'</span></span>,<span class="hljs-string"><span class="hljs-string">'ITBIT'</span></span>] exchange_data = {} exchange_data[<span class="hljs-string"><span class="hljs-string">'KRAKEN'</span></span>] = btc_usd_price_kraken <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> exchange <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> exchanges: exchange_code = <span class="hljs-string"><span class="hljs-string">'BCHARTS/{}USD'</span></span>.format(exchange) btc_exchange_df = get_quandl_data(exchange_code) exchange_data[exchange] = btc_exchange_df</code> </pre> <br>  <b>Step 2.4 - Combining all prices into a single data set</b> <br><br>  Define a simple function to merge data. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">merge_dfs_on_column</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dataframes, labels, col)</span></span></span><span class="hljs-function">:</span></span> series_dict = {} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> index <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(dataframes)): series_dict[labels[index]] = dataframes[index][col] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> pd.DataFrame(series_dict)</code> </pre><br>  Then combine all the data on the column "Weighted Price". <br><br><pre> <code class="python hljs">btc_usd_datasets = merge_dfs_on_column(list(exchange_data.values()), list(exchange_data.keys()), <span class="hljs-string"><span class="hljs-string">'Weighted Price'</span></span>)</code> </pre> <br>  Now we‚Äôll look at the last five lines, using the tail () method to make sure everything looks fine and the way we wanted. <br><br><pre> <code class="python hljs">btc_usd_datasets.tail()</code> </pre> <br>  Result: <br><table border="1"><thead><tr><th>  Date </th><th>  Bitstamp </th><th>  COINBASE </th><th>  ITBIT </th><th>  Kraken </th><th>  avg_btc_price_usd </th></tr></thead><tbody><tr><th>  2018-02-28 </th><td>  10624.382893 </td><td>  10643.053573 </td><td>  10621.099426 </td><td>  10615.587987 </td><td>  10626.030970 </td></tr><tr><th>  2018-03-01 </th><td>  10727.272600 </td><td>  10710.946064 </td><td>  10678.156872 </td><td>  10671.653953 </td><td>  10697.007372 </td></tr><tr><th>  2018-03-02 </th><td>  10980.298658 </td><td>  10982.181881 </td><td>  10973.434045 </td><td>  10977.067909 </td><td>  10978.245623 </td></tr><tr><th>  2018-03-03 </th><td>  11332.934468 </td><td>  11317.108262 </td><td>  11294.620763 </td><td>  11357.539095 </td><td>  11325.550647 </td></tr><tr><th>  2018-03-04 </th><td>  11260.751253 </td><td>  11250.771211 </td><td>  11285.690725 </td><td>  11244.836468 </td><td>  11260.512414 </td></tr></tbody></table><br>  <b>Step 2.5 - Comparing price data sets.</b> <br><br>  The next logical step is to visualize the comparison of prices received.  To do this, we define a helper function that will build a graph for each of the exchanges using Plotly. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">df_scatter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(df, title, seperate_y_axis=False, y_axis_label=</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">''</span></span></span></span><span class="hljs-function"><span class="hljs-params">, scale=</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'linear'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, initial_hide=False)</span></span></span><span class="hljs-function">:</span></span> label_arr = list(df) series_arr = list(map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> col: df[col], label_arr)) layout = go.Layout( title=title, legend=dict(orientation=<span class="hljs-string"><span class="hljs-string">"h"</span></span>), xaxis=dict(type=<span class="hljs-string"><span class="hljs-string">'date'</span></span>), yaxis=dict( title=y_axis_label, showticklabels= <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> seperate_y_axis, type=scale ) ) y_axis_config = dict( overlaying=<span class="hljs-string"><span class="hljs-string">'y'</span></span>, showticklabels=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, type=scale ) visibility = <span class="hljs-string"><span class="hljs-string">'visible'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> initial_hide: visibility = <span class="hljs-string"><span class="hljs-string">'legendonly'</span></span> trace_arr = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> index, series <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> enumerate(series_arr): trace = go.Scatter( x=series.index, y=series, name=label_arr[index], visible=visibility ) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> seperate_y_axis: trace[<span class="hljs-string"><span class="hljs-string">'yaxis'</span></span>] = <span class="hljs-string"><span class="hljs-string">'y{}'</span></span>.format(index + <span class="hljs-number"><span class="hljs-number">1</span></span>) layout[<span class="hljs-string"><span class="hljs-string">'yaxis{}'</span></span>.format(index + <span class="hljs-number"><span class="hljs-number">1</span></span>)] = y_axis_config trace_arr.append(trace) fig = go.Figure(data=trace_arr, layout=layout) py.iplot(fig)</code> </pre><br>  And call her <br><br><pre> <code class="python hljs">df_scatter(btc_usd_datasets, <span class="hljs-string"><span class="hljs-string">'    (USD) '</span></span>)</code> </pre><br>  Result: <br><br><img src="https://habrastorage.org/webt/4s/yb/pj/4sybpjivxve8kc6ginhfjiyy_xu.png"><br><br>  Now we will remove all zero values, since we know that the price has never been zero in the period we are considering. <br><br><pre> <code class="python hljs">btc_usd_datasets.replace(<span class="hljs-number"><span class="hljs-number">0</span></span>, np.nan, inplace=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)</code> </pre><br>  And re-create the schedule <br><br><pre> <code class="python hljs">df_scatter(btc_usd_datasets, <span class="hljs-string"><span class="hljs-string">'Bitcoin Price (USD) By Exchange'</span></span>)</code> </pre> <br>  Result: <br><br><img src="https://habrastorage.org/webt/6j/em/et/6jemetgihcqsm5ieq1cjqvfhcbk.png"><br><br>  <b>Step 2.6 - Calculate Average Price</b> <br><br>  Now we can calculate a new column containing the average daily bitcoin price on all exchanges. <br><br><pre> <code class="python hljs">btc_usd_datasets[<span class="hljs-string"><span class="hljs-string">'avg_btc_price_usd'</span></span>] = btc_usd_datasets.mean(axis=<span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre> <br>  This new column is our bitcoin price index.  Build his schedule to make sure that he looks normal. <br><br><pre> <code class="python hljs">btc_trace = go.Scatter(x=btc_usd_datasets.index, y=btc_usd_datasets[<span class="hljs-string"><span class="hljs-string">'avg_btc_price_usd'</span></span>]) py.iplot([btc_trace])</code> </pre> <br>  Result: <br><br><img src="https://habrastorage.org/webt/qb/nn/48/qbnn48ad85amdmwgthlvfqrqpku.png"><br><br>  We will use this data later to convert other cryptocurrency exchange rates to USD. <br><br><h4>  Step 3 - Acquiring data on alternative cryptocurrencies </h4><br><br>  Now that we have an array of data with Bitcoin prices, let's take some data about alternative cryptocurrencies. <br><br>  <b>Step 3.1 - Define functions for working with the Poloniex API.</b> <br><br>  We will use <a href="https://poloniex.com/support/api/">the Poloniex API</a> to get the data.  We define two helper functions for loading and caching JSON data from this API. <br><br>  First, we define the <code>get_json_data</code> function, which will load and cache JSON data from the provided URL. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_json_data</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(json_url, cache_path)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: f = open(cache_path, <span class="hljs-string"><span class="hljs-string">'rb'</span></span>) df = pickle.load(f) print(<span class="hljs-string"><span class="hljs-string">'Loaded {} from cache'</span></span>.format(json_url)) <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> (OSError, IOError) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> e: print(<span class="hljs-string"><span class="hljs-string">'Downloading {}'</span></span>.format(json_url)) df = pd.read_json(json_url) df.to_pickle(cache_path) print(<span class="hljs-string"><span class="hljs-string">'Cached response at {}'</span></span>.format(json_url, cache_path)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> df</code> </pre> <br>  Then we define a function to format the HTTP requests for the Poloniex API and call our new function <code>get_json_data</code> to save the received data. <br><br><pre> <code class="python hljs">base_polo_url = <span class="hljs-string"><span class="hljs-string">'https://poloniex.com/public?command=returnChartData&amp;currencyPair={}&amp;start={}&amp;end={}&amp;period={}'</span></span> start_date = datetime.strptime(<span class="hljs-string"><span class="hljs-string">'2015-01-01'</span></span>, <span class="hljs-string"><span class="hljs-string">'%Y-%m-%d'</span></span>) end_date = datetime.now() pediod = <span class="hljs-number"><span class="hljs-number">86400</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_crypto_data</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(poloniex_pair)</span></span></span><span class="hljs-function">:</span></span> json_url = base_polo_url.format(poloniex_pair, start_date.timestamp(), end_date.timestamp(), pediod) data_df = get_json_data(json_url, poloniex_pair) data_df = data_df.set_index(<span class="hljs-string"><span class="hljs-string">'date'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> data_df</code> </pre> <br>  This input function receives a pair of cryptocurrencies, for example, ‚ÄúBTC_ETH‚Äù and returns historical data on the exchange rate of two currencies. <br><br>  <b>Step 3.2 - Downloading data from Poloniex</b> <br><br>  Some of the alternative cryptocurrencies in question cannot be bought on exchanges directly for USD.  For this reason, we will upload the bitcoin exchange rate for each of them, and then we will use the existing bitcoin pricing data to convert this value to USD. <br><br>  We upload exchange data for nine popular cryptocurrencies - <a href="https://www.ethereum.org/">Ethereum</a> , <a href="https://litecoin.org/">Litecoin</a> , <a href="https://ripple.com/">Ripple</a> , <a href="https://ethereumclassic.github.io/">Ethereum Classic</a> , <a href="https://www.stellar.org/">Stellar</a> , <a href="https://www.dash.org/">Dash</a> , <a href="https://sia.tech/">Siacoin</a> , <a href="https://getmonero.org/">Monero</a> , and <a href="https://www.nem.io/">NEM</a> . <br><br><pre> <code class="python hljs">altcoins = [<span class="hljs-string"><span class="hljs-string">'ETH'</span></span>,<span class="hljs-string"><span class="hljs-string">'LTC'</span></span>,<span class="hljs-string"><span class="hljs-string">'XRP'</span></span>,<span class="hljs-string"><span class="hljs-string">'ETC'</span></span>,<span class="hljs-string"><span class="hljs-string">'STR'</span></span>,<span class="hljs-string"><span class="hljs-string">'DASH'</span></span>,<span class="hljs-string"><span class="hljs-string">'SC'</span></span>,<span class="hljs-string"><span class="hljs-string">'XMR'</span></span>,<span class="hljs-string"><span class="hljs-string">'XEM'</span></span>] altcoin_data = {} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> altcoin <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> altcoins: coinpair = <span class="hljs-string"><span class="hljs-string">'BTC_{}'</span></span>.format(altcoin) crypto_price_df = get_crypto_data(coinpair) altcoin_data[altcoin] = crypto_price_df</code> </pre> <br>  Now we have 9 data sets, each of which contains historical average daily stock exchange ratios of bitcon to alternative cryptocurrency. <br><br>  We can look at the last few lines of the Ethereum pricing table to make sure it looks normal. <br><br><pre> <code class="python hljs">altcoin_data[<span class="hljs-string"><span class="hljs-string">'ETH'</span></span>].tail()</code> </pre> <br><table border="1"><thead><tr><th>  date </th><th>  close </th><th>  high </th><th>  low </th><th>  open </th><th>  quoteVolume </th><th>  volume </th><th>  weightedAverage </th></tr></thead><tbody><tr><th>  2018-03-01 </th><td>  0.079735 </td><td>  0.082911 </td><td>  0.079232 </td><td>  0.082729 </td><td>  17981.733693 </td><td>  1454.206133 </td><td>  0.080871 </td></tr><tr><th>  2018-03-02 </th><td>  0.077572 </td><td>  0.079719 </td><td>  0.077014 </td><td>  0.079719 </td><td>  18482.985554 </td><td>  1448.732706 </td><td>  0.078382 </td></tr><tr><th>  2018-03-03 </th><td>  0.074500 </td><td>  0.077623 </td><td>  0.074356 </td><td>  0.077562 </td><td>  15058.825646 </td><td>  1139.640375 </td><td>  0.075679 </td></tr><tr><th>  2018-03-04 </th><td>  0.075111 </td><td>  0.077630 </td><td>  0.074389 </td><td>  0.074500 </td><td>  12258.662182 </td><td>  933.480951 </td><td>  0.076149 </td></tr><tr><th>  2018-03-05 </th><td>  0.075373 </td><td>  0.075700 </td><td>  0.074723 </td><td>  0.075277 </td><td>  10993.285936 </td><td>  826.576693 </td><td>  0.075189 </td></tr></tbody></table><br>  <b>Step 3.3 - Price Conversion to USD.</b> <br><br>  Since we now have a bitcoin exchange rate for each cryptocurrency and we have an index of historical Bitcoin prices in USD, we can directly calculate the price in USD for each alternative cryptocurrency. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> altcoin <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> altcoin_data.keys(): altcoin_data[altcoin][<span class="hljs-string"><span class="hljs-string">'price_usd'</span></span>] = altcoin_data[altcoin][<span class="hljs-string"><span class="hljs-string">'weightedAverage'</span></span>] * btc_usd_datasets[<span class="hljs-string"><span class="hljs-string">'avg_btc_price_usd'</span></span>]</code> </pre> <br>  By this we have created a new column in each alternative cryptocurrency data set with prices in USD. <br><br>  Then we can reuse our function <code>merge_dfs_on_column</code> to create a combined price data set in USD for each of the cryptocurrencies. <br><br><pre> <code class="python hljs">combined_df = merge_dfs_on_column(list(altcoin_data.values()), list(altcoin_data.keys()), <span class="hljs-string"><span class="hljs-string">'price_usd'</span></span>)</code> </pre><br>  Now add the bitcoin price to the dataset as the final column. <br><br><pre> <code class="python hljs">combined_df[<span class="hljs-string"><span class="hljs-string">'BTC'</span></span>] = btc_usd_datasets[<span class="hljs-string"><span class="hljs-string">'avg_btc_price_usd'</span></span>]</code> </pre><br>  As a result, we have a data set containing daily prices in USD for ten cryptocurrencies, which we are considering. <br><br>  We use our <code>df_scatter</code> function to display all cryptocurrency prices on a chart. <br><br><pre> <code class="python hljs">df_scatter(combined_df, <span class="hljs-string"><span class="hljs-string">'  (USD)'</span></span>, seperate_y_axis=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, y_axis_label=<span class="hljs-string"><span class="hljs-string">'(USD)'</span></span>, scale=<span class="hljs-string"><span class="hljs-string">'log'</span></span>)</code> </pre> <br>  This chart provides a fairly solid "big picture" of how the exchange rates of each currency have changed over the past few years. <br><br><img src="https://habrastorage.org/webt/2b/me/bx/2bmebxjkw8fyceha2kalefpr4xm.png"><br><br>  In this example, we use the logarithmic scale of the Y axis to compare all currencies in the same area.  You can try different parameter values ‚Äã‚Äã(for example, scale = 'linear') to get different points of view on the data. <br><br>  <b>Step 3.4 - Calculation of cryptocurrency correlation.</b> <br><br>  You may notice that cryptocurrency exchange rates, despite their completely different values ‚Äã‚Äãand volatility, seem slightly correlated.  And as seen from the surge in April 2017, even small fluctuations seem to occur synchronously in the entire market. <br><br>  We can test our correlation hypothesis using the Pandas <code>corr ()</code> method, which calculates the Pearson correlation coefficient for each column in a data set relative to each other.  In the calculation, we also use the <code>pct_change ()</code> method, which converts each cell in the dataset from the absolute value of the price to the percentage change. <br><br>  First, we calculate the correlations for 2016. <br><br><pre> <code class="python hljs">combined_df_2016 = combined_df[combined_df.index.year == <span class="hljs-number"><span class="hljs-number">2016</span></span>] combined_df_2016.pct_change().corr(method=<span class="hljs-string"><span class="hljs-string">'pearson'</span></span>)</code> </pre> <br>  Result: <br><table border="1"><thead><tr><th></th><th>  DASH </th><th>  Etc </th><th>  Eth </th><th>  LTC </th><th>  SC </th><th>  STR </th><th>  XEM </th><th>  Xmr </th><th>  Xrp </th><th>  Btc </th></tr></thead><tbody><tr><th>  DASH </th><td>  1.000000 </td><td>  0.003992 </td><td>  0.122695 </td><td>  -0.012194 </td><td>  0.026602 </td><td>  0.058083 </td><td>  0.014571 </td><td>  0.121537 </td><td>  0.088657 </td><td>  -0.014040 </td></tr><tr><th>  Etc </th><td>  0.003992 </td><td>  1.000000 </td><td>  -0.181991 </td><td>  -0.131079 </td><td>  -0.008066 </td><td>  -0.102654 </td><td>  -0.080938 </td><td>  -0.105898 </td><td>  -0.054095 </td><td>  -0.170538 </td></tr><tr><th>  Eth </th><td>  0.122695 </td><td>  -0.181991 </td><td>  1.000000 </td><td>  -0.064652 </td><td>  0.169642 </td><td>  0.035093 </td><td>  0.043205 </td><td>  0.087216 </td><td>  0.085630 </td><td>  -0.006502 </td></tr><tr><th>  LTC </th><td>  -0.012194 </td><td>  -0.131079 </td><td>  -0.064652 </td><td>  1.000000 </td><td>  0.012253 </td><td>  0.113523 </td><td>  0.160667 </td><td>  0.129475 </td><td>  0.053712 </td><td>  0.750174 </td></tr><tr><th>  SC </th><td>  0.026602 </td><td>  -0.008066 </td><td>  0.169642 </td><td>  0.012253 </td><td>  1.000000 </td><td>  0.143252 </td><td>  0.106153 </td><td>  0.047910 </td><td>  0.021098 </td><td>  0.035116 </td></tr><tr><th>  STR </th><td>  0.058083 </td><td>  -0.102654 </td><td>  0.035093 </td><td>  0.113523 </td><td>  0.143252 </td><td>  1.000000 </td><td>  0.225132 </td><td>  0.027998 </td><td>  0.320116 </td><td>  0.079075 </td></tr><tr><th>  XEM </th><td>  0.014571 </td><td>  -0.080938 </td><td>  0.043205 </td><td>  0.160667 </td><td>  0.106153 </td><td>  0.225132 </td><td>  1.000000 </td><td>  0.016438 </td><td>  0.101326 </td><td>  0.227674 </td></tr><tr><th>  Xmr </th><td>  0.121537 </td><td>  -0.105898 </td><td>  0.087216 </td><td>  0.129475 </td><td>  0.047910 </td><td>  0.027998 </td><td>  0.016438 </td><td>  1.000000 </td><td>  0.027649 </td><td>  0.127520 </td></tr><tr><th>  Xrp </th><td>  0.088657 </td><td>  -0.054095 </td><td>  0.085630 </td><td>  0.053712 </td><td>  0.021098 </td><td>  0.320116 </td><td>  0.101326 </td><td>  0.027649 </td><td>  1.000000 </td><td>  0.044161 </td></tr><tr><th>  Btc </th><td>  -0.014040 </td><td>  -0.170538 </td><td>  -0.006502 </td><td>  0.750174 </td><td>  0.035116 </td><td>  0.079075 </td><td>  0.227674 </td><td>  0.127520 </td><td>  0.044161 </td><td>  1.000000 </td></tr></tbody></table><br>  Coefficients close to 1 or -1 mean that the data correlate strongly or inversely correlate, respectively, and coefficients close to zero mean that the values ‚Äã‚Äãtend to fluctuate independently of each other. <br><br>  To visualize these results, we will create another helper function. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">correlation_heatmap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(df, title, absolute_bounds=True)</span></span></span><span class="hljs-function">:</span></span> heatmap = go.Heatmap( z=df.corr(method=<span class="hljs-string"><span class="hljs-string">'pearson'</span></span>).as_matrix(), x=df.columns, y=df.columns, colorbar=dict(title=<span class="hljs-string"><span class="hljs-string">'Pearson Coefficient'</span></span>), ) layout = go.Layout(title=title) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> absolute_bounds: heatmap[<span class="hljs-string"><span class="hljs-string">'zmax'</span></span>] = <span class="hljs-number"><span class="hljs-number">1.0</span></span> heatmap[<span class="hljs-string"><span class="hljs-string">'zmin'</span></span>] = <span class="hljs-number"><span class="hljs-number">-1.0</span></span> fig = go.Figure(data=[heatmap], layout=layout) py.iplot(fig)</code> </pre> <br><pre> <code class="python hljs">correlation_heatmap(combined_df_2016.pct_change(), <span class="hljs-string"><span class="hljs-string">"  (2016)"</span></span>)</code> </pre> <br><img src="https://habrastorage.org/webt/lw/0q/2g/lw0q2gun4nvzkur174xkdu_xqww.png"><br><br>  Here, the dark red values ‚Äã‚Äãrepresent strong correlations, and the blue values ‚Äã‚Äãrepresent strong inverse correlations.  All other colors represent different degrees of weak / non-existent correlations. <br><br>  What does this chart tell us?  In fact, this shows that there was very little statistically significant connection between how prices of different cryptocurrencies fluctuated during 2016. <br><br>  Now, to test our hypothesis that cryptotermines have become more correlated in recent months, we repeat the same tests using data for 2017 and 2018. <br><br><pre> <code class="python hljs">combined_df_2017 = combined_df[combined_df.index.year == <span class="hljs-number"><span class="hljs-number">2017</span></span>] combined_df_2017.pct_change().corr(method=<span class="hljs-string"><span class="hljs-string">'pearson'</span></span>)</code> </pre> <br>  Result: <br><table border="1"><thead><tr><th></th><th>  DASH </th><th>  Etc </th><th>  Eth </th><th>  LTC </th><th>  SC </th><th>  STR </th><th>  XEM </th><th>  Xmr </th><th>  Xrp </th><th>  Btc </th></tr></thead><tbody><tr><th>  DASH </th><td>  1.000000 </td><td>  0.387555 </td><td>  0.506911 </td><td>  0.340153 </td><td>  0.291424 </td><td>  0.183038 </td><td>  0.325968 </td><td>  0.498418 </td><td>  0.091146 </td><td>  0.307095 </td></tr><tr><th>  Etc </th><td>  0.387555 </td><td>  1.000000 </td><td>  0.601437 </td><td>  0.482062 </td><td>  0.298406 </td><td>  0.210387 </td><td>  0.321852 </td><td>  0.447398 </td><td>  0.114780 </td><td>  0.416562 </td></tr><tr><th>  Eth </th><td>  0.506911 </td><td>  0.601437 </td><td>  1.000000 </td><td>  0.437609 </td><td>  0.373078 </td><td>  0.259399 </td><td>  0.399200 </td><td>  0.554632 </td><td>  0.212350 </td><td>  0.410771 </td></tr><tr><th>  LTC </th><td>  0.340153 </td><td>  0.482062 </td><td>  0.437609 </td><td>  1.000000 </td><td>  0.339144 </td><td>  0.307589 </td><td>  0.379088 </td><td>  0.437204 </td><td>  0.323905 </td><td>  0.420645 </td></tr><tr><th>  SC </th><td>  0.291424 </td><td>  0.298406 </td><td>  0.373078 </td><td>  0.339144 </td><td>  1.000000 </td><td>  0.402966 </td><td>  0.331350 </td><td>  0.378644 </td><td>  0.243872 </td><td>  0.325318 </td></tr><tr><th>  STR </th><td>  0.183038 </td><td>  0.210387 </td><td>  0.259399 </td><td>  0.307589 </td><td>  0.402966 </td><td>  1.000000 </td><td>  0.339502 </td><td>  0.327488 </td><td>  0.509828 </td><td>  0.230957 </td></tr><tr><th>  XEM </th><td>  0.325968 </td><td>  0.321852 </td><td>  0.399200 </td><td>  0.379088 </td><td>  0.331350 </td><td>  0.339502 </td><td>  1.000000 </td><td>  0.336076 </td><td>  0.268168 </td><td>  0.329431 </td></tr><tr><th>  Xmr </th><td>  0.498418 </td><td>  0.447398 </td><td>  0.554632 </td><td>  0.437204 </td><td>  0.378644 </td><td>  0.327488 </td><td>  0.336076 </td><td>  1.000000 </td><td>  0.226636 </td><td>  0.409183 </td></tr><tr><th>  Xrp </th><td>  0.091146 </td><td>  0.114780 </td><td>  0.212350 </td><td>  0.323905 </td><td>  0.243872 </td><td>  0.509828 </td><td>  0.268168 </td><td>  0.226636 </td><td>  1.000000 </td><td>  0.131469 </td></tr><tr><th>  Btc </th><td>  0.307095 </td><td>  0.416562 </td><td>  0.410771 </td><td>  0.420645 </td><td>  0.325318 </td><td>  0.230957 </td><td>  0.329431 </td><td>  0.409183 </td><td>  0.131469 </td><td>  1.000000 </td></tr></tbody></table><br><pre> <code class="python hljs">correlation_heatmap(combined_df_2017.pct_change(), <span class="hljs-string"><span class="hljs-string">"  (2017)"</span></span>)</code> </pre> <br><img src="https://habrastorage.org/webt/wq/mv/u4/wqmvu4a-z4g_b7xztlguzsfh95o.png"><br><br><pre> <code class="python hljs">combined_df_2018 = combined_df[combined_df.index.year == <span class="hljs-number"><span class="hljs-number">2018</span></span>] combined_df_2018.pct_change().corr(method=<span class="hljs-string"><span class="hljs-string">'pearson'</span></span>)</code> </pre> <br><table border="1"><thead><tr><th></th><th>  DASH </th><th>  Etc </th><th>  Eth </th><th>  LTC </th><th>  SC </th><th>  STR </th><th>  XEM </th><th>  Xmr </th><th>  Xrp </th><th>  Btc </th></tr></thead><tbody><tr><th>  DASH </th><td>  1.000000 </td><td>  0.775561 </td><td>  0.856549 </td><td>  0.847947 </td><td>  0.733168 </td><td>  0.717240 </td><td>  0.769135 </td><td>  0.913044 </td><td>  0.779651 </td><td>  0.901523 </td></tr><tr><th>  Etc </th><td>  0.775561 </td><td>  1.000000 </td><td>  0.808820 </td><td>  0.667434 </td><td>  0.530840 </td><td>  0.551207 </td><td>  0.641747 </td><td>  0.696060 </td><td>  0.637674 </td><td>  0.694228 </td></tr><tr><th>  Eth </th><td>  0.856549 </td><td>  0.808820 </td><td>  1.000000 </td><td>  0.700708 </td><td>  0.624853 </td><td>  0.630380 </td><td>  0.752303 </td><td>  0.816879 </td><td>  0.652138 </td><td>  0.787141 </td></tr><tr><th>  LTC </th><td>  0.847947 </td><td>  0.667434 </td><td>  0.700708 </td><td>  1.000000 </td><td>  0.683706 </td><td>  0.596614 </td><td>  0.593616 </td><td>  0.765904 </td><td>  0.644155 </td><td>  0.831780 </td></tr><tr><th>  SC </th><td>  0.733168 </td><td>  0.530840 </td><td>  0.624853 </td><td>  0.683706 </td><td>  1.000000 </td><td>  0.615265 </td><td>  0.695136 </td><td>  0.626091 </td><td>  0.719462 </td><td>  0.723976 </td></tr><tr><th>  STR </th><td>  0.717240 </td><td>  0.551207 </td><td>  0.630380 </td><td>  0.596614 </td><td>  0.615265 </td><td>  1.000000 </td><td>  0.790420 </td><td>  0.642810 </td><td>  0.854057 </td><td>  0.669746 </td></tr><tr><th>  XEM </th><td>  0.769135 </td><td>  0.641747 </td><td>  0.752303 </td><td>  0.593616 </td><td>  0.695136 </td><td>  0.790420 </td><td>  1.000000 </td><td>  0.744325 </td><td>  0.829737 </td><td>  0.734044 </td></tr><tr><th>  Xmr </th><td>  0.913044 </td><td>  0.696060 </td><td>  0.816879 </td><td>  0.765904 </td><td>  0.626091 </td><td>  0.642810 </td><td>  0.744325 </td><td>  1.000000 </td><td>  0.668016 </td><td>  0.888284 </td></tr><tr><th>  Xrp </th><td>  0.779651 </td><td>  0.637674 </td><td>  0.652138 </td><td>  0.644155 </td><td>  0.719462 </td><td>  0.854057 </td><td>  0.829737 </td><td>  0.668016 </td><td>  1.000000 </td><td>  0.712146 </td></tr><tr><th>  Btc </th><td>  0.901523 </td><td>  0.694228 </td><td>  0.787141 </td><td>  0.831780 </td><td>  0.723976 </td><td>  0.669746 </td><td>  0.734044 </td><td>  0.888284 </td><td>  0.712146 </td><td>  1.000000 </td></tr></tbody></table><br><pre> <code class="python hljs">correlation_heatmap(combined_df_2018.pct_change(), <span class="hljs-string"><span class="hljs-string">"  (2018)"</span></span>)</code> </pre> <br><img src="https://habrastorage.org/webt/fj/s_/9j/fjs_9ja_mfyjmpvn2nquajjn1yc.png"><br><br>  And here we see what we assumed - almost all cryptocurrencies have become more interconnected with each other in all directions. <br><br>  At this point, we assume that the introduction to working with data in Anaconda has been successfully passed. </div><p>Source: <a href="https://habr.com/ru/post/350500/">https://habr.com/ru/post/350500/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../350490/index.html">Go 1.10 Release Party @ Badoo: as it were. Video, photo, reviews</a></li>
<li><a href="../350492/index.html">Git: Newbies Tips - Part 3</a></li>
<li><a href="../350494/index.html">An overview of audience building tools in mobile retargeting</a></li>
<li><a href="../350496/index.html">CUBA platform in 2017: new features, new services, new plans</a></li>
<li><a href="../350498/index.html">Anime search bot</a></li>
<li><a href="../350502/index.html">Rational prioritization of key operations</a></li>
<li><a href="../350504/index.html">Unit testing of react components withRouter (jest, enzyme)</a></li>
<li><a href="../350508/index.html">Lessons to learn from the LLVM / Clang codebase</a></li>
<li><a href="../350510/index.html">Collector task</a></li>
<li><a href="../350512/index.html">Using the KOMPAS-3D API ‚Üí Lesson 7 ‚Üí Getting to know the settings</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>