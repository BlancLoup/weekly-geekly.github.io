<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Vdi as art</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Our path to the virtual desktop infrastructure from the experiment to the product of the creative activity of engineers. We approached the project wit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Vdi as art</h1><div class="post__text post__text-html js-mediator-article">  Our path to the virtual desktop infrastructure from the experiment to the product of the creative activity of engineers.  We approached the project with enthusiasm, thanks to which we enjoyed the process of implementation and aesthetic enjoyment of the result.  Want a roadmap?  Welcome under cat. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4a8/2ac/f02/4a82acf0254cdbd4c190b6ad09ac0df9.jpg"></div><br><a name="habracut"></a><br><blockquote>  In scientific language, the basis of life - Aristotle would call it the energy of life - this is just a desire for self-expression, and Art constantly presents new forms for its achievement. <br>  Oscar wilde </blockquote><br>  The word ‚Äú <a href="https://ru.wikipedia.org/wiki/%25D0%2598%25D1%2581%25D0%25BA%25D1%2583%25D1%2581%25D1%2581%25D1%2582%25D0%25B2%25D0%25BE">Art</a> ‚Äù historically has several meanings that best describe our experience in introducing and implementing VDI technology: to the satisfaction of customers and to the benefit of our own business.  The first value goes back to the Latin ‚Äúexperimentum‚Äù - experience, trial.  It all starts with the experiment.  Our VDI hike is no exception. <br><br>  The second meaning is more applied: torture (from the Old Slavonic "iskous").  And this, of course, refers to the implementation phase.  But the main thing is that art understands the form of artistic activity.  And it succinctly describes the stage of creating and launching a product on the market.  So, our way to VDI: from experiment, through suffering - to the product of the creative activity of engineers. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In our case, the transition to cloud infrastructure was due to a number of objective factors.  And the process itself was step-by-step, from simple to complex, which made it possible to implement it painlessly and obtain the necessary experience, which formed the basis of this article.  And we started by calculating the need for the VDI itself. <br><br><h2>  VDI: to be or not to be? </h2><br>  VDI is actively introducing companies that talk about farms for thousands of jobs.  This is due to the high cost of implementation and a long payback period (the cost of renting one virtual station is from $ 25 per month for the basic package).  Mainly, the implementation decision is made in a situation where it becomes more difficult to manage the infrastructure of user workstations than to implement and administer a VDI solution.  Security issues come to the fore. <br><br>  When the company employs hundreds (and even more than a thousand people), it becomes very difficult to control them.  Especially if people are dispersed like ours (administrative and technical offices in Moscow, two partner sites in the Czech Republic, dozens of minor remote workplaces from the taiga to the British seas, where you can use your own equipment. The number of potential threats increases many times. And this was for We are the decisive factor: with a population of less than two thousand people, it was the geographical distribution and the requirements of the security service that served as a powerful incentive for the VDI experiments. <br><br>  Additionally, we took into account the following VDI benefits: <br><br><ul><li>  increasing infrastructure manageability (centralized software upgrade without taking into account the specifics of various workstations).  With a sharp growth of the company, it can be problematic to configure all workstations in accordance with the requirements of information security.  Such situations arise when merging / acquiring companies, temporarily hiring a large number of remote employees and / or volunteers (at various mass events), if the company has hard-to-reach facilities (geologists, oilmen, etc.) or simply a wide network of small-scale regional representative offices . <br></li><li>  the ability to configure uniform policies - ban external drives, disable screenshots and unauthorized copying.  <a href="https://www.atlex.ru/novosti/novosti-kompanii/tehnicheskaya-podderzhka-glubokoeshelonirovannaya-oborona-klienta/">Technical support</a> works with billing, helpdesk and office packages, so we need to protect them by restricting access only from office locations. <br></li></ul><br>  After a careful analysis of our tasks and possible risks, we decided to transfer all employees to work with VDI, access is carried out through corporate thin clients. <br><br>  Despite the fact that VDI allows you to use personal equipment safely (BYO practice - ‚Äúbring your own‚Äù), we did not save money, were reinsured and only allowed corporate devices. <br><br>  Our company is constantly expanding (during this time we increased the presence of our employees with partners in the Czech Republic, opened a new representative office in Moscow, which houses the newly created sales department, financial services), so this scheme allowed us to scale quickly and economically.  Thin client is cheaper to maintain than a PC or laptop.  And the storage of data on corporate servers provides not only data security, but also better protection of the working infrastructure, since it is more securely isolated. <br><br>  Thin clients we bought our <a href="https://www.host-telecom.com/">European partner</a> for 150 euros per piece.  Then at the general gathering (the <a href="https://www.atlex.ru/novosti/novosti-kompanii/ot-evropy-do-avstralii-atlex-obespechit-oblaka-bez-granits/">conference ‚ÄúClouds without Borders‚Äù</a> ) we distributed them to the employees.  And it started ... <br><br><h2>  Measure seven times and measure again ... </h2><br>  In such projects, the implementation process takes relatively little time.  The most risky and time-consuming is the stage of task analysis and solution planning.  It can take from a month to a year.  On average, Russian practice shows that the project is fully implemented in three to six months: data is collected, a prototype is implemented, and the production starts.  Europeans only spend 6-9 months for analytics, it is logical assuming that nature is not mistaken and it will not be possible to endure a full-fledged idea faster. <br><br>  But to introduce a qualitatively described project is quite possible in a month.  But before that you need to answer many questions: <br><br><ul><li>  What applications are used? <br></li><li>  What are the roles of access? <br></li><li>  How much RAM to allocate to users? <br></li><li>  How much disk space? <br></li><li>  What speed is needed? <br></li><li>  Which OS or OS - in percentage terms - do your users use?  Why is this percentage exactly? <br></li></ul><br>  Why, for example, 15 percent sit on Windows 7, and the rest - on Windows 10?  We need to understand what prevents everyone from switching to the top ten: can there be an application that is not adapted for this version of the OS? <br><br>  We approached the project creatively, thanks to which we enjoyed the process of implementation and aesthetic enjoyment of the result.  In our case, the <a href="https://en.wikipedia.org/wiki/Proof_of_concept">PoC</a> was created in the order of "experiment on the subject of rationalization proposal." <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://vk.com/video_ext.php" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  With a limited budget and a week allocated for implementation, we did it in four days: <a href="https://www.atlex.ru/arendovat-server/v-evrope/zakaz-arendy-vydelennogo-servera/%3Fserver%3Dpop">Popular EU</a> server in a standard configuration (139 euros per month), Windows Server Edition licenses (from 130 to 150 euros per month), RDP license (about 6 euro per user per month), thin clients themselves (150 euro per piece).  Total price of the workplace is about 160 euros per person.  Plus office suite and antivirus. <br><br><h2>  There are no boundaries for perfection </h2><br>  The experiment was justified, no one and nothing was hurt.  But with further analysis, we decided that we needed a more reliable, secure and scalable solution, so we transferred the whole location (100 workstations, SIP-telephony) to VDI, using VMware. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d43/3bf/850/d433bf8500f6e6f892cce0f0a9ae952a.jpg"><br><br>  The main advantages of this solution: <br><br><ul><li>  <a href="https://blogs.vmware.com/euc/2016/09/vmware-access-point-secure-horizon-7-identity-manager-airwatch.html">Horizon 7 Access Point</a> provides secure external access without VPN; <br></li><li>  A single portal for all applications on <a href="https://www.vmware.com/products/identity-manager.html">VMware Identity Manager</a> and, together with <a href="https://blogs.vmware.com/euc/2016/03/true-sso-single-sign-on-view-identity-manager-authenticate.html">True SSO</a> , a platform for accessing all applications; <br></li><li>  Efficiency and ease of deployment of a large number of personal computers using <a href="https://blogs.vmware.com/euc/2016/02/horizon-7-view-instant-clone-technology-linked-clone-just-in-time-desktop.html">Instant Clone technology</a> ; <br></li><li>  A simple mechanism for providing user access to desktops using <a href="https://www.vmware.com/products/user-environment-manager.html">User Environment Manager</a> ; <br></li><li>  High level of security due to the fact that the data does not leave the data center; <br></li><li>  The ease of managing and deploying applications using <a href="https://www.vmware.com/products/appvolumes.html">App Volumes</a> (once deployed, the application is available to any users); <br></li><li>  Convenient and functional monitoring tool - <a href="https://www.vmware.com/products/vrealize-operations.html">VMware vRealize Operations Manager</a> ; <br></li></ul><br>  So, after PoC ‚Äúon the knee‚Äù, we implemented a complete system using one of the best off-the-shelf solutions on the market.  Then no one imagined that our work would grow into a full-fledged commercial project without the use of WMware products. <br><br><h2>  Black swans </h2><br>  VDI usually involves server virtualization, access to office equipment, mobile device management, so today experts prefer to use the more comprehensive term EUC ( <a href="https://en.wikipedia.org/wiki/End-user_computing">end-user computing</a> ), which describes everything from virtual workstations, printer control protocols to corporate mobile phones and tablets management. <br><br>  Most of the problems associated with insufficient analysis of user needs.  We implemented VDI gradually, from small control groups of users to entire locations, so the main problems were clarified in the early stages.  Key questions that have arisen: <br><br><ul><li>  Does not print a local printer; <br></li><li>  Do not overlook the webcam; <br></li><li>  The end client does not connect to the virtual workstation. <br></li></ul><br>  The problems were local in nature and were solved manually with the subsequent transmission to other machines.  In general, the functionality and capabilities of WMware left a good impression.  But we decided not to stop and follow the precepts of the classic: <br><br>  <i>Everything, everything that threatens death,</i> <i><br></i>  <i>For the heart of the mortal conceals</i> <i><br></i>  <i>Inexplicable delights -</i> <i><br></i>  <i>Immortality, maybe a pledge,</i> <i><br></i>  <i>And happy is he who is in the midst of agitation</i> <i><br></i>  <i>They could find and know.</i> <br><br><h2>  Per aspera ad ... aspera </h2><br>  After all existing employees were transferred to VDI, we analyzed growth prospects and came to a disappointing conclusion that ready-made solutions are too expensive for us.  One workstation came out at about $ 350, including the cost of support for a year (the cost of a thin client, VMware vSphere 6 Standard licenses, server rental, software licenses).  The next step was to reduce costs by switching to Open Source. <br><br>  Due to the general distrust of large players to <a href="https://www.atlex.ru/product/quick-object-storage/">cloud storage</a> , <a href="https://en.wikipedia.org/wiki/On-premises_software">on-site</a> solutions dominate in Russia. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/654/817/41e/65481741ec481aa731ef0ddb2213338e.jpg"></div><br>  On-premises are offers from Citrix or VMware, quest solutions (HP), Dell EMC, 2X, and standard terminal server Windows.  The last scenario - if you need to save and if there are relevant experts in the team. <br><br>  The choice between Citrix and VMware is a religious matter.  VMware has the ability to quickly deploy applications, and if the speed of application deployment is not critical, but a large farm is needed, then Citrix is ‚Äã‚Äãpreferable.  The speed of deployment of virtual workstations between these two monsters is parity. <br><br>  Prices for turnkey solutions are suitable only for major market players or government agencies.  If we are talking about a small commercial company, it is better to buy <a href="https://www.atlex.ru/product/vdc/">cloud virtual machines</a> and rent workstations until the vector of business development is clearly defined and an understanding is reached that it is possible (expedient) to deploy a hybrid solution: the core is on its hardware, and the extension is - at the expense of cloud resources.  The advantages of this solution: <br><br><ul><li>  Scalability with bursts of "personnel activity"; <br></li><li>  Security issues are flexibly resolved: from https to two-factor authentication; <br></li><li>  Ability to deploy any SaaS application using containers. <br></li></ul><br>  The hybrid solution can be implemented on VMware, unlike Citrix, which evolve towards security and mobile device management.  There is a <a href="https://aws.amazon.com/ru/workspaces/">solution</a> from Amazon, but they use the same protocol as VMware. <br><br>  Many protocols hardly perform non-obvious tasks (using webcams, microphones and other devices).  <a href="https://www.citrix.ru/virtualization/hdx/">HDx</a> from Citrix and PCoIP from VMware partners of <a href="https://www.teradici.com/">Terra Dici have proven to be reliable</a> . <br><br>  In turn, the open source solutions had an unhealthy attitude based on rumors and a prejudice about similar projects.  Over the past few years, large companies such as Intel, IBM have invested millions of dollars in them.  Open Source solutions are successfully implemented by many well-known brands: Volkswagen, Walmart, AT &amp; T, PayPal, Bloomberg and significant objects of the <a href="https://www.openstack.org/videos/tokio-2015/unveiling-cern-cloud-architecture">CERN</a> level.  As a result, over the past few years, Open Source has experienced a qualitative leap in terms of security, functionality, and stability. <br><br><h2>  Migration </h2><br>  A large number of different protocols: Spice, VNC, RDP - create a field for technical creativity, which attracts us with an abundance of options, opportunities ... Well, in addition, we have gathered a strong <a href="https://www.openstack.org/">OpenStack</a> team, developers who know and love their work.  This is important because this solution requires considerable competence within the company, and it is not rational to allocate individual employees for the maintenance and maintenance of VDI. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/91c/9a2/0aa/91c9a20aa49355537406caab96f471bc.jpg"></div><br>  Over OpenStack functionality on par with on-premises solutions. <br><br>  There are many modules, hands-on work are even more, but this is far from <a href="http://4tob.ru/anekdots/1830">‚Äúnot horror-horror-horror!‚Äù</a> , As it may seem. <br><br>  To get <a href="https://www.leostream.com/">rid of</a> VMware, we chose <a href="https://www.leostream.com/">Leostream</a> as a connection broker, entered into a partnership agreement with them, and with the help of the <a href="http://hystax.com/ru/hystax-acura-backup-and-disaster-recovery/">Hystax Acura</a> platform, <a href="http://hystax.com/ru/hystax-acura-backup-and-disaster-recovery/">we will</a> transfer the VMware infrastructure to OpenStack, thus completing the experiment on VDI implementation in the company.  This migration technology, which we mentioned in the previous paragraph, has been the subject of discussion in the global OpenStack community.  Its description was presented to Russian IT specialists at the recent <a href="https://www.osp.ru/dcworld/infrastructure/forum2017">Data Center World</a> Forum, and in November we will show it with partners in Sydney, Australia.  When the move is completed successfully, we will get the system at an affordable price.  And we have drawn the received experience and available practices as a <a href="https://www.atlex.ru/product/cloud-virtual-desktops/">commercial product</a> , whose process of creation we presented to your attention. <br><br>  <i>The material was prepared with the participation of Roman Verbitsky, Khamzet Shogenov and Vsevolod Weiner.</i> </div><p>Source: <a href="https://habr.com/ru/post/340488/">https://habr.com/ru/post/340488/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../340476/index.html">User Convenience in Virtual Reality Solutions - VRMonkey Tips</a></li>
<li><a href="../340478/index.html">Burp Suite Extensions for Effective Web Application Testing</a></li>
<li><a href="../340480/index.html">Uneducated youth. Babylonian babies</a></li>
<li><a href="../340484/index.html">UPS APC BC750-RS - convenient protection for the "home office"</a></li>
<li><a href="../340486/index.html">Opporty - a new marketplace for small businesses on the blockchain</a></li>
<li><a href="../340492/index.html">Hackathon Budget tools: create a project for the Ministry of Finance of Russia</a></li>
<li><a href="../340494/index.html">5 reasons why Python is powerful enough for Google</a></li>
<li><a href="../340496/index.html">Burn-out or burnout</a></li>
<li><a href="../340500/index.html">Interview with Mikhail Trutnev (Ultimate Guitar) about business, team and strategy</a></li>
<li><a href="../340502/index.html">Creating a platformer for a virtual console TIC-80</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>