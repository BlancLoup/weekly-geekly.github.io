<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Web application caching and performance</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Caching allows you to increase the performance of web applications through the use of previously stored data, such as responses to network queries or ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Web application caching and performance</h1><div class="post__text post__text-html js-mediator-article">  Caching allows you to increase the performance of web applications through the use of previously stored data, such as responses to network queries or the results of calculations.  Thanks to the cache, the next time the client accesses the same data, the server can service requests faster.  Caching is an efficient architectural pattern, since most programs often access the same data and instructions.  This technology is present at all levels of computing systems.  Caches are at processors, hard drives, servers, browsers. <br><br> <a href="https://habrahabr.ru/company/ruvds/blog/350310/"><img src="https://habrastorage.org/getpro/habr/post_images/d89/816/d56/d89816d56a36ebf36802c9febf07dc14.jpg" alt="image"></a> <br><br>  Nick Karnik, the author of the material, the translation of which we are publishing today, offers to talk about the role of caching in the performance of web applications, having considered caching tools of different levels, starting with the lowest.  He pays special attention to where the data can be cached, not how it happens. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We believe that understanding the features of caching systems, each of which makes a certain contribution to the speed of application response to external influences, broadens the web developer‚Äôs horizons and helps him to create fast and reliable systems. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Processor cache</font> </h2><br>  Let's start our talk about caches from the lowest level - from the processor.  Processor cache memory is very fast memory that plays the role of a buffer between the processor (CPU) and random access memory (RAM).  The cache memory stores data and instructions that are accessed most often, so that the processor can access all of this almost instantly. <br><br>  Processors have a special memory, represented by processor registers, which is usually a small storage of information that provides extremely high data exchange rates.  Registers are the fastest memory with which the processor can operate, which is located as close as possible to the rest of its mechanisms and has a small volume.  Sometimes registers are called a zero-level cache (L0 Cache, L is short for Layer). <br><br>  Processors, in addition, have access to several more levels of cache memory.  This is up to four cache levels, which, respectively, are called first, second, third, and fourth level caches (L0 - L4 Cache).  The level of the processor registers, in particular, whether it will be a zero or first level cache, is determined by the architecture of the processor and the motherboard.  In addition, the system architecture determines where exactly - on the processor, or on the motherboard, the cache memory of different levels is physically located. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a7b/84e/a22/a7b84ea222c2fd23de098451a37bf250.png"></div><br>  <i><font color="#999">Memory structure in some newest CPUs</font></i> <br><br><h2>  <font color="#3AC1EF">Hard disk cache</font> </h2><br>  Hard disks (HDD, Hard Disk Drive) used for permanent data storage are, in comparison with RAM, intended for short-term information storage, devices are rather slow.  However, it should be noted that the speed of permanent storage of information increases due to the proliferation of solid-state drives (SSD, Solid State Drive). <br><br>  In long-term information storage systems, disk cache (also called a disk buffer or a cache buffer) is the memory built into the hard disk that acts as a buffer between the processor and the physical hard disk. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/40d/e0b/466/40de0b466a94da2a2dc9478bddcd0acb.png"></div><br>  <i><font color="#999">Hard disk cache</font></i> <br><br>  Disk caches work on the assumption that when something is written to the disk, or something is read from it, there is a chance that in the near future this data will be accessed again. <br><br><h2>  <font color="#3AC1EF">About the speed of hard drives and RAM</font> </h2><br>  The difference between temporary storage of data in RAM and permanent storage on a hard disk is manifested in the speed of working with information, in the cost of carriers and in their proximity to the processor. <br><br>  The response time of the RAM is tens of nanoseconds, while the hard disk needs tens of milliseconds.  The difference in speed of disks and memory is six orders of magnitude! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/16d/3eb/b96/16d3ebb9638f48c8b6eb1e4a25a23dac.png"></div><br>  <i><font color="#999">One millisecond equals one million nanoseconds</font></i> <br><br><h2>  <font color="#3AC1EF">Simple web server</font> </h2><br>  Now that we have discussed the role of caching in the basic mechanisms of computer systems, consider an example illustrating the use of caching concepts in the interaction of a client represented by a web browser and a server that, in response to client requests, sends it some data.  At the very beginning we have a simple web server, which, responding to a client request, reads data from the hard disk.  At the same time, let's imagine that there are no special caching systems between the client and the server.  Here's what it looks like. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d6b/74f/ada/d6b74fada3bbb81875ab7b89aaeb31a4.png"></div><br>  <i><font color="#999">Simple web server</font></i> <br><br>  When the above system works, when the client accesses the server directly, and the latter, independently processing the request, reads the data from the hard disk and sends it to the client, it does not do without a cache, since the buffer will be used when working with the disk. <br><br>  At the first request, the hard disk will check the cache, in which, in this case, there will be nothing, which will lead to the so-called ‚Äúcache miss‚Äù.  The data is then counted from the disk itself and will fall into its cache, which corresponds to the assumption that this data may be needed again. <br><br>  With subsequent requests to get the same data, the cache search will be successful, this is the so-called ‚Äúcache hit‚Äù.  The data in response to the request will come from the disk buffer until they are overwritten, which, if you re-access the same data, will result in a cache miss. <br><br><h2>  <font color="#3AC1EF">Database caching</font> </h2><br>  Let's complicate our example, add a database here.  Database queries can be slow and require serious system resources, since the database server needs to perform some calculations to form a response.  If requests are repeated, caching them with database tools will help reduce the response time.  In addition, caching is useful in situations where several computers work with the database by executing the same queries. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7db/954/f23/7db954f23e175a51709a922b9a7046d4.png"></div><br>  <i><font color="#999">Simple web server with database</font></i> <br><br>  Most database servers are configured by default for optimal caching options.  However, there are many settings that can be modified so that the database subsystem better matches the features of a particular application. <br><br><h2>  <font color="#3AC1EF">Web server response caching</font> </h2><br>  We continue to develop our example.  Now the web server, formerly considered as a single entity, is divided into two parts.  One of them, the web server itself, is now engaged in interaction with clients and with the server application that is already working with storage systems.  The web server can be configured to cache the responses; as a result, it will not have to constantly send similar requests to the server application.  Similarly, the main application can cache some parts of its own responses to resource-intensive database requests or to frequent file requests. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/00c/a05/02c/00ca0502c7e8acae057bba95af02161b.png"></div><br>  <i><font color="#999">Answer Cache and Application Cache</font></i> <br><br>  Web server responses are cached in RAM.  The application cache can be stored either locally, in memory, or on a special caching server that uses a database, like Redis, which stores data in RAM. <br><br><h2>  <font color="#3AC1EF">Memoization of functions</font> </h2><br>  Now let's talk about optimizing the performance of the server application through memoization.  This is a kind of caching used to optimize work with resource-intensive functions.  This technique allows you to perform a full cycle of calculations for a certain set of input data only once, and with the following calls to a function with the same input data you can immediately output the result found earlier.  Memoisation is realized by means of so-called ‚Äúlookup tables‚Äù, which store keys and values.  The keys correspond to the input data of the function, and the values ‚Äã‚Äãcorrespond to the results that the function returns when passing this input data to it. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e97/b9d/4df/e97b9d4df4075dc057e33f06f201d8e3.png"></div><br>  <i><font color="#999">Memoization of a function using the lookup table</font></i> <br><br>  Memoization is a common technique used to improve program performance.  However, it may not be particularly useful when dealing with resource-intensive functions that are rarely called, or with functions that, and without memoization, work fairly quickly. <br><br><h2>  <font color="#3AC1EF">Browser caching</font> </h2><br>  Now let's move to the client side and talk about caching in browsers.  Each browser has an implementation of the HTTP cache (also called a web cache), which is designed for temporary storage of materials received from the Internet, such as HTML pages, JavaScript files and images. <br><br>  This cache is used when the server‚Äôs response contains properly configured HTTP headers that indicate to the browser when and for how long it can cache the server‚Äôs response. <br><br>  Before us is a very useful technology, which gives the following benefits to all participants of data exchange: <br><br><ul><li>  Improved user experience of working with the site, as resources from the local cache are loaded very quickly.  While receiving a response, the signal does not flow from the client to the server and back (RTT, Round Trip Time), since the request does not go to the network. </li><li>  The load on the server application and on other server components responsible for processing requests is reduced. </li><li>  Some part of network resources, which other Internet users can use now, are released, money is saved for payment for traffic. </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/195/f65/5f1/195f655f13a626ef48e96665d6c4830c.png"></div><br>  <i><font color="#999">Browser caching</font></i> <br><br><h2>  <font color="#3AC1EF">Caching and proxy servers</font> </h2><br>  In computer networks, proxy servers can be represented by special hardware or related applications.  They play the role of intermediaries between clients and servers storing the data that these clients require.  Caching is one of the tasks that they solve.  Consider the different types of proxy servers. <br><br><h3>  <font color="#3AC1EF">‚ñç Gateways</font> </h3><br>  A gateway is a proxy server that redirects incoming requests or outgoing responses without modifying them.  Such proxy servers are also called tunneling proxy (tunneling proxy), web proxy (web proxy), proxy (proxy), or application level proxy (application level proxy).  These proxy servers are commonly shared, for example, by all clients behind the same firewall, which makes them well suited for query caching. <br><br><h3>  <font color="#3AC1EF">‚ñçDirect proxy servers</font> </h3><br>  Direct proxy server (forward proxy, often such servers are called simply proxy server) is usually installed on the client side.  A web browser that is configured to use a direct proxy server will send outgoing requests to this server.  Then these requests will be redirected to the target server located on the Internet.  One of the advantages of direct proxies is that they protect customer data (however, if we talk about ensuring anonymity on the Internet, it will be safer to use VPN). <br><br><h3>  <font color="#3AC1EF">‚ñçWeb accelerators</font> </h3><br>  A web accelerator (web accelerator) is a proxy server that reduces the time it takes to access a site.  He does this by requesting in advance from the server the documents that clients most likely will need in the near future.  Such servers, in addition, can compress documents, speed up encryption operations, reduce the quality and size of images, and so on. <br><br><h3>  <font color="#3AC1EF">‚ñç Back proxy servers</font> </h3><br>  A reverse proxy server (reverse proxy) is usually a server located in the same place as the web server with which it interacts.  Reverse proxies are designed to prevent direct access to servers located on private networks.  Reverse proxies are used to load balance between multiple internal servers, provide SSL authentication or query caching capabilities.  These proxies perform server-side caching; they help the main servers handle a large number of requests. <br><br><h3>  <font color="#3AC1EF">‚ñç Edge caching</font> </h3><br>  Reverse proxy servers are located close to the servers.  There is a technology in which the caching servers are located as close as possible to the data consumers.  This is the so-called edge caching, represented by content delivery networks (CDN, Content Delivery Network).  For example, if you visit a popular website and download some static data, it will be cached.  Each next user who has requested the same data will receive it, before the expiration of their caching, from the caching server.  These servers, determining the relevance of the information, are oriented to the servers that store the original data. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/725/e92/202/725e92202e18534148c628761bf2d6a4.png"></div><br>  <i><font color="#999">Proxy servers in the client-server communication infrastructure</font></i> <br><br><h2>  <font color="#3AC1EF">Results</font> </h2><br>  In this article, we looked at the various levels of data caching that are used in the process of exchanging information between the client and the server.  Web applications cannot instantly react to user exposure, which, in particular, is related to actions requiring data exchange with the servers of these applications, with the need to perform some calculations before sending a response.  The time it takes to transfer data from the server to the client includes the time it takes to find the necessary data on the disk, network delays, processing request queues, network bandwidth throttling mechanisms, and much more.  If we take into account that all this can occur on many computers located between the client and the server, then we can say that all these delays can seriously increase the time required for a request to arrive at the server and the client receives a response. <br><br>  A properly configured caching system can significantly improve overall server performance.  Caches reduce delays that inevitably occur when data is transmitted over a network, help save network traffic, and, as a result, reduce the time required for the browser to display the web page requested from the server. <br><br>  <b>Dear readers!</b>  What caching technologies do you use in your projects? <br><br> <a href="https://ruvds.com/ru-rub/"><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div><p>Source: <a href="https://habr.com/ru/post/350310/">https://habr.com/ru/post/350310/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../350298/index.html">Learn to be a full stack developer. Writing an application on React / Redux / Webpack / ASP.NET Core 2.0 / EF Core</a></li>
<li><a href="../350300/index.html">Issue # 13: IT training - current issues and challenges from leading companies</a></li>
<li><a href="../350304/index.html">BizBreeze # 2. CRM Myths and Business Process Problems</a></li>
<li><a href="../350306/index.html">FastTrack Training. "Network Basics". "Area of ‚Äã‚Äãuse of network switches, the value of Cisco switches". Eddie Martin</a></li>
<li><a href="../350308/index.html">Graphs of the message of the President of the Russian Federation 2018</a></li>
<li><a href="../350312/index.html">How to make friends Siri and Xiaomi</a></li>
<li><a href="../350314/index.html">The PVS-Studio 6.22 static code analyzer is adapted for ARM compilers (Keil, IAR)</a></li>
<li><a href="../350316/index.html">Creating a game on Lua and L√ñVE - 4</a></li>
<li><a href="../350318/index.html">There is a job for chatbot: virtual assistant help desk</a></li>
<li><a href="../350320/index.html">Rocket straight in the AppStore</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>