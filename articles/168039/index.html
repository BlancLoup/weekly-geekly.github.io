<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>NooLite-2, or smart home for dummies</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After successfully testing the system, I swung to replace all the switches in the house with control panels, and build a ‚Äúsmart home‚Äù, at least in ter...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>NooLite-2, or smart home for dummies</h1><div class="post__text post__text-html js-mediator-article">  After successfully <a href="http://habrahabr.ru/company/boxowerview/blog/165131/">testing the</a> system, I swung to replace all the switches in the house with control panels, and build a ‚Äúsmart home‚Äù, at least in terms of lighting. <br><img src="https://habrastorage.org/getpro/habr/post_images/a26/65e/b06/a2665eb0676b7f9c691d50f45292d848.jpg" alt="image"><br>  The result was a system that combines the on / off of the light with switches and via the Internet - using the buttons on the web page. <br>  How it happened - read under the cut. <br><a name="habracut"></a><br><br><h4>  Make a plan </h4>  For starters, I, running around with a tape measure and a piece of paper around the house, drew an apartment plan, and then built a 3D apartment model in the <a href="http://www.sweethome3d.com/">SweetHome 3D</a> program.  I can't say what worked out perfectly, but it gives an idea about the apartment.  Who cares, here is the project <a href="">file</a> . <br>  The plan was beautifully rendered, and for several hours my wife and I <s>took away the mouse from each other,</s> thinking where the switch should stand and what to control.  The big plus was the ability to control one lamp from several switches, so it was decided to move away from the standard model ‚Äúone room - one switch‚Äù and place the switches in the places where a person spends most of the time - near the computer, bed and sofa :) <div class="spoiler">  <b class="spoiler_title">If interested, here's the plan.</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/cdf/9fb/a6a/cdf9fba6a42747ab273dbb958cd0d7db.png" alt="image"></div></div><div class="spoiler">  <b class="spoiler_title">And render</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/418/97e/7bd/41897e7bd70e52bbd171b2d79b5a01f3.jpg" alt="image"></div></div> In the end, they settled on the fact that the switches in the remaining rooms would remain in place, but two more would be added in the hall, beside the bed and the computer, as I said.  I also wanted to add the ability to turn on the light not at full power, but since all the chandeliers contain energy-saving lamps, it was decided to buy a lamp for a halogen lamp for an adjustable night lamp.  The result was three pictures showing the relative position of all the lamps and switches in the apartment. <br><img src="https://habrastorage.org/getpro/habr/post_images/569/658/af2/569658af2cc98a0d9ee455745628ad10.jpg" alt="image"><br>  Some explanations for the picture.  Lamps and loads are marked with red inscriptions, controls are blue. <br>  The light of the kitchen and the number 1 console are exactly what I described in the <a href="http://habrahabr.ru/company/boxowerview/blog/165131/">previous</a> topic. <br><img src="https://habrastorage.org/getpro/habr/post_images/32c/152/ef0/32c152ef0f157eff0c3a159a114a40f3.jpg" alt="image"><br>  Of course, most of the lamps are on the ceiling, but at the same time on the plan they covered the room, and it looked not very clear.  Therefore, in the pictures ceiling chandeliers were on the walls. <br>  Under each name is a model of the console or power unit. <br><img src="https://habrastorage.org/getpro/habr/post_images/e0b/104/69d/e0b10469d9e56a9fc6daec57e26bf370.jpg" alt="image"><br>  The fan, although not lighting, is still marked on the plan - it is controlled by a dimmable unit (at maximum power it is too noisy). <br>  <s>And now we try to fly with all this garbage</s> <br>  To implement this daring plan in life we ‚Äã‚Äãneed ... <br><img src="https://habrastorage.org/getpro/habr/post_images/597/f25/558/597f25558c6f46146d536b24f37877b6.jpg" alt="image"><br>  Lots and lots of boxes.  More precisely, not theirs, but their contents: <br><img src="https://habrastorage.org/getpro/habr/post_images/c59/387/000/c5938700066d99dbfa127e1383be620d.jpg" alt="image"><br>  I have already analyzed in detail what is in them in the <a href="http://habrahabr.ru/company/boxowerview/blog/165131/">previous</a> article, so I will not repeat. <br>  From the new - adapter for computer control: <br><img src="https://habrastorage.org/getpro/habr/post_images/7ff/9af/96f/7ff9af96f070537c434d011a02686c9d.jpg" alt="image"><br>  Inside - a disk with the program and the transmitter itself. <br><img src="https://habrastorage.org/getpro/habr/post_images/939/3ea/379/9393ea3799b76b28a94dc683be8d939f.jpg" alt="image"><br>  By itself, it is necessary to disassemble. <br><img src="https://habrastorage.org/getpro/habr/post_images/834/590/3bc/8345903bca60d511dc71e9758a4b8710.jpg" alt="image"><br>  Inside - Attiny45 as a USB interface, and PIC12F675: <br><img src="https://habrastorage.org/getpro/habr/post_images/1ee/795/55e/1ee79555e2f74ed7a7de3ed820c28d52.jpg" alt="image"><br>  The adapter is defined as a HID device, therefore it works without drivers (more precisely with system ones).  Of course, one cannot do without a program, but for Linux this is definitely a plus, no kldload noolite.so.  :) <br>  Another is a pocket transmitter. <br><img src="https://habrastorage.org/getpro/habr/post_images/dd9/e8d/7b1/dd9e8d7b1d0e9f60805ede0510996107.jpg" alt="image"><br>  With 4 buttons, 1 of which is used for binding-decoupling (D), 2 - on-off and brightness control (A, B), and one more - scenario ( <img src="https://habrastorage.org/getpro/habr/post_images/571/eb5/208/571eb5208182c414d42639a45b3d006f.png">  ). <br><img src="https://habrastorage.org/getpro/habr/post_images/180/0ae/f6a/1800aef6a32fd62f90235d449617cf07.jpg" alt="image"><br>  By the way, with the remote control it is very convenient to check the work when connecting all this stuff, because the wall switch is not so convenient to carry in your pocket, and the binding button is not so convenient. <br>  Let us examine what it is necessary to unscrew the 3 screws on the back side: <br><img src="https://habrastorage.org/getpro/habr/post_images/5d0/18e/f77/5d018ef77e4750834952fb32f9e0a1ba.jpg" alt="image"><br>  And neatly divide it into two halves: <br><img src="https://habrastorage.org/getpro/habr/post_images/d8a/18b/e5f/d8a18be5f5c8a5cc351390c673adc834.jpg" alt="image"><br>  Here is a fee closer: <br><img src="https://habrastorage.org/getpro/habr/post_images/73b/502/f39/73b502f39e51d4c1fbe891b05b5267e5.jpg" alt="image"><br>  The controller is PIC16F630. <br><img src="https://habrastorage.org/getpro/habr/post_images/4f7/377/48a/4f737748ada5b0444a32e55557ee8963.jpg" alt="image"><br>  Everything else is unchanged, except that a new type of switches was added (on the left) - with three scenario buttons. <br><img src="https://habrastorage.org/getpro/habr/post_images/a25/bd3/3e3/a25bd33e354e635985e6799d3b4aaa79.jpg" alt="image"><br>  Plus they are that you can attach any number of power blocks to them, and the minus is that if you need to turn the light on and off, you will need to use two buttons from three - one to turn on, the other to turn off.  Only one remains, and there is often no place to stick it - if it is hung up to turn on the lamp, then it cannot be turned off from this switch, and vice versa.  I would be comfortable with a switch with one on-off button and two scenario <a href="http://www.noo.com.by/pult-pu-212-1.html">buttons</a> , like the <a href="http://www.noo.com.by/pult-pu-212-1.html">PU212</a> , just the opposite. <br>  And another new power unit - dimmable: <br><img src="https://habrastorage.org/getpro/habr/post_images/00f/5ce/922/00f5ce922a00002657bd597e61a36fda.jpg" alt="image"><br><br><h4>  Install </h4>  Instead of a fan dimmer (yes, with my favorite <a href="http://habrahabr.ru/post/157947/">terminals</a> ): <br><img src="https://habrastorage.org/getpro/habr/post_images/63e/1d4/a14/63e1d4a1496367c37666d38e022d3f6c.jpg" alt="image"><br>  And close the socket: <br><img src="https://habrastorage.org/getpro/habr/post_images/716/a39/162/716a39162d4b0f786088b0624c9ed5fa.jpg" alt="image"><br>  In terms of wire lighting: <br><img src="https://habrastorage.org/getpro/habr/post_images/040/f68/dcc/040f68dcc919f7001bacd9a0fa5620b5.jpg" alt="image"><br>  We connect the switches with each other and wall them in the wall - we will not need them anymore. <br>  Block temporarily glue to the ceiling with hot melt. <br><img src="https://habrastorage.org/getpro/habr/post_images/9f8/d87/4d4/9f8d874d4312814c15f9d095f85862a2.jpg" alt="image"><br>  Do not pay attention to the ceiling - I have a year of sluggish repair, as soon as I finish the bath - there will be a stretch ceiling. <br>  True, the power unit will have to move somewhere, because to configure you need physical access. <br>  Another one - in the chandelier in the hall: <br><img src="https://habrastorage.org/getpro/habr/post_images/e16/ab5/3a4/e16ab53a47c29d3b0344a3ea77aff362.jpg" alt="image"><br>  And the block - in the wall lamp, it will be a night light: <br><img src="https://habrastorage.org/getpro/habr/post_images/0c6/b20/698/0c6b20698365bcecab61c7eb3980478c.jpg" alt="image"><br>  After that came the turn of the switches.  The one in the kitchen - you have already seen. <br><img src="https://habrastorage.org/getpro/habr/post_images/7bd/d62/e55/7bdd62e5575b06502a40bce84b72a627.jpg" alt="image"><br>  In the hall, above the sofa: <br><img src="https://habrastorage.org/getpro/habr/post_images/79f/a27/d1e/79fa27d1eab75dd06fd0570948d7c4b0.jpg" alt="image"><br>  Another one is near the computer so as not to get up again: <br><img src="https://habrastorage.org/getpro/habr/post_images/9a0/6ca/8ee/9a06ca8ee66994497778852cb55ad626.jpg" alt="image"><br>  Near the bed: <br><img src="https://habrastorage.org/getpro/habr/post_images/cf6/dd7/0a0/cf6dd70a06c25d270d3f4646e51b3f22.jpg" alt="image"><br>  And near the bathroom: <br><img src="https://habrastorage.org/getpro/habr/post_images/53f/1f9/777/53f1f9777ec9788dc9494c33963a8cd7.jpg" alt="image"><br>  The last switch took its place on the front door: <br><img src="https://habrastorage.org/getpro/habr/post_images/ac8/af6/6e4/ac8af66e43f5de139b2fb22c6a9e102a.jpg" alt="image"><br>  As it turned out, it‚Äôs very convenient when leaving the apartment - turn off all the lights so that it doesn‚Äôt shine in vain, and when you come back - turn on the kitchen and in the hall from the threshold, so as not to wander in the dark with packages. <br>  The server (half-alive x120e without a keyboard) took its place of honor in the drawer of the drawer (because it makes a lot of noise): <br><img src="https://habrastorage.org/getpro/habr/post_images/a5b/450/a0c/a5b450a0cd859fcb983e23a0ec502949.jpg" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Managed from a computer </h4>  <a href="">Download</a> and install the program to control the controller.  We stick a control adapter into the computer. <br>  Run the program, press the settings button, and bind the channels to the power blocks.  In fact, on the contrary - we tie the power blocks to the channels - the unique address of the adapter is written into the memory of the blocks, so that it does not confuse it with the neighbor's adapter. <br><img src="https://habrastorage.org/getpro/habr/post_images/e90/bf7/547/e90bf754765253ee359700976f347822.png" alt="image"><br>  The procedure is simple - press the button on the power block, press the ‚ÄúBinding‚Äù in the program, after the LED on the block starts flashing quickly - confirms the binding by pressing the button of the block again, and exit the binding mode - press the button again.  Repeat for all blocks.  This must be done once, and when changing the computer, it is not necessary to do - the settings are saved in the power blocks.  The maximum number of channels - 8 pieces. <br><img src="https://habrastorage.org/getpro/habr/post_images/966/f4d/311/966f4d311f71c5649cdfa4a13fd105c3.png" alt="image"><br>  However, such control from a computer is not functional enough, and is suitable, perhaps, only for managing loads - lighting engineering, for example.  Well, there, turn on the strobe light, turn off the light head, turn on the searchlight, turn on the stage lights, turn off the light fill, turn on the laser.  But not for a smart home - who wants to go to the computer every time, turn on the program and poke the mouse? <br>  For normal use in a smart home, developers offer an open API (for windows, launch the program with the -api parameter, for other operating systems, send packages directly to the HID device). <br>  And as a beautiful control panel, you can use the <a href="http://smartliving.ru/">MajorDoMo</a> project (it was already <a href="http://habrahabr.ru/post/141766/">written</a> about it <a href="http://habrahabr.ru/post/146768/">on the</a> <a href="http://habrahabr.ru/post/160067/">habr</a> , and the developer himself is present on the <a href="http://habrahabr.ru/users/jey/" class="user_link">habre</a> - <a href="http://habrahabr.ru/users/jey/" class="user_link">Jey</a> ). <div class="spoiler">  <b class="spoiler_title">Install MajorDoMo and configure as a control panel for Windows</b> <div class="spoiler_text"><h4>  Install MajorDoMo and configure as a control panel for Windows </h4>  Go to the <a href="http://smartliving.ru/Main/Download">download</a> page, and download the latest version of the system.  Installing (I hope this stage will not cause questions). <br>  After launching MajorDoMo (Start-Programs-MajorDoMo or c: / _ majordomo / start.bat, by the way, enter it immediately in autorun - it won‚Äôt start itself) in the browser, go to the system page - <a href="http://localhost/">localhost</a> or by ip address, I have <a href="http://192.168.1.104/">192.168. 1.104</a> .  In the upper corner, click on the link "Control Panel", go under the standard login admin / admin. <br>  In the control panel, go to the scripts section (on the left, in the "Objects" block), and create a new script (if you have several blocks, you can first create a category for scripts - Categories - Add a category). <br>  We call it, say, hall_light, select a previously created category, and in the code we write the following: <br><pre><code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($params[<span class="hljs-string"><span class="hljs-string">'VALUE'</span></span>]) { safe_exec(<span class="hljs-string"><span class="hljs-string">'"c:\Program Files\nooLite\noolite.exe" -api -on_ch5'</span></span>); sleep(<span class="hljs-number"><span class="hljs-number">1</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { safe_exec(<span class="hljs-string"><span class="hljs-string">'"c:\Program Files\nooLite\noolite.exe" -api -off_ch5'</span></span>); sleep(<span class="hljs-number"><span class="hljs-number">1</span></span>); }</code> </pre> <br>  According to the <a href="http://www.noo.com.by/assets/files/software/PC118_CMD.pdf">description</a> of the control program commands - the <b>api</b> key indicates that the program starts without a graphical interface, the <b>on_ch5</b> and <b>off_ch5 keys</b> , respectively, switch on and off the load on channel 5.  There is also the sw_ch5 key - it switches the load state, i.e.  was turned on - off, and vice versa. <br><img src="https://habrastorage.org/getpro/habr/post_images/8eb/3de/85b/8eb3de85b2405170d5563f76350f9350.png" alt="image"><br>  Save the script by clicking the "Add" button under the editor window.  Create scripts for all channels that we want to manage. <br>  Go to the item "Management Menu" <br><img src="https://habrastorage.org/getpro/habr/post_images/ecf/30c/a5b/ecf30ca5bdfb8820a0e5c2a7377c88e6.png" alt="image"><br>  Click "add a new section", call it somehow, at the bottom click "add". <br><img src="https://habrastorage.org/getpro/habr/post_images/a20/5d9/d57/a205d9d57781e515930881835ab482d9.png" alt="image"><br>  The page is overloaded, this menu appears at the bottom of the page.  Add a new child item, call it, in the item ‚ÄúType‚Äù select ‚ÄúSwitch‚Äù, and in the item ‚ÄúScript‚Äù - the script that we created in the previous step.  We save.  We create switches for all scenarios (it is convenient to use the ‚Äúclone‚Äù button for this). </div></div>  Go to the main interface, go to the created section and see on the side a convenient menu with switches.  You can see it if you go to <a href="http://localhost/menu.html">localhost / menu.html</a> <br><img src="https://habrastorage.org/getpro/habr/post_images/7ef/dac/2a6/7efdac2a6df2bde1d2f5b60335e7dfef.png" alt="image"><br><br><h4>  Linux Management </h4>  After because of my curved hands, the Windows hung the third time in a day, I spat on it and transferred the server to Linux.  I also decided that MajorDoMo is too cool for my purposes - get a control panel with buttons. <br><br>  We assemble the management program: <br><pre> <code class="bash hljs">sudo apt-get install libusb-1.0-0 libusb-1.0-0-dev <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /tmp wget https://raw.github.com/pythonchik/nooLite/master/nooLite.c gcc nooLite.c -o noolite -lusb-1.0 sudo cp /tmp/noolite /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/ sudo chmod +x /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/noolite</code> </pre><br>  Taken <a href="http://smartliving.ru/forum/viewtopic.php%3Ff%3D8%26t%3D389%26start%3D20">here</a> . <br><br>  Manage like this: <br><pre> <code class="bash hljs">sudo noolite -api -on_ch 5 <span class="hljs-comment"><span class="hljs-comment">#  5  sudo noolite -api -off_ch 5 #  5  sudo noolite -api -sw_ch 1 #   1  sudo noolite -api -set_ch 2 30 #      30%</span></span></code> </pre><br><br>  Of course, the first couple of times he logs in via ssh to the server in order to turn off the light with the console command is <a href="http://habrahabr.ru/post/167797/">cool</a> , but the <s>wife did not appreciate the</s> soul requires something simple.  Let's make a web muzzle.  Well, most likely a web muzzle. <br><br>  Php code that can take three parameters and run the control program: <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span> $channel=($_GET[<span class="hljs-string"><span class="hljs-string">'channel'</span></span>]); $command=<span class="hljs-string"><span class="hljs-string">"-"</span></span>.($_GET[<span class="hljs-string"><span class="hljs-string">'command'</span></span>]).<span class="hljs-string"><span class="hljs-string">"_ch"</span></span>; $level=($_GET[<span class="hljs-string"><span class="hljs-string">'level'</span></span>]); exec(<span class="hljs-string"><span class="hljs-string">"noolite -api $command $channel $level"</span></span>); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre>  Create a file in the root of the web server, call it index.php, copy the above lines into it, and below - links that will act as buttons. <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"?channel=5&amp;command=on"</span></span></span><span class="hljs-tag"> &gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"?channel=5&amp;command=off"</span></span></span><span class="hljs-tag"> &gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  Add CSS to taste.  It turns out something like this: <br><img src="https://habrastorage.org/getpro/habr/post_images/82f/1f2/fec/82f1f2fece89070b2c1a5ac13d95c6d2.png" alt="image"><br><div class="spoiler">  <b class="spoiler_title">Boring code</b> <div class="spoiler_text"><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/1999/xhtml"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">http-equiv</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Content-Type"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/html; charset=UTF-8"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>NooLite control panel<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/css"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.light</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">-moz-box-shadow</span></span></span><span class="css">:inset </span><span class="hljs-number"><span class="css"><span class="hljs-number">0px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">1px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">0px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">0px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">#ffffff</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">-webkit-box-shadow</span></span></span><span class="css">:inset </span><span class="hljs-number"><span class="css"><span class="hljs-number">0px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">1px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">0px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">0px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">#ffffff</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">box-shadow</span></span></span><span class="css">:inset </span><span class="hljs-number"><span class="css"><span class="hljs-number">0px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">1px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">0px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">0px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">#ffffff</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">background</span></span></span><span class="css">:</span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">-webkit-gradient</span></span></span><span class="css">( linear, left top, left bottom, color-stop(0.05, #ededed), </span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">color-stop</span></span></span><span class="css">(1, #dfdfdf) ); </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">background</span></span></span><span class="css">:</span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">-moz-linear-gradient</span></span></span><span class="css">( center top, #ededed 5%, #dfdfdf 100% ); </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">filter</span></span></span><span class="css">:progid:DXImageTransform.Microsoft.</span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">gradient</span></span></span><span class="css">(startColorstr=</span><span class="hljs-string"><span class="css"><span class="hljs-string">'#ededed'</span></span></span><span class="css">, endColorstr=</span><span class="hljs-string"><span class="css"><span class="hljs-string">'#dfdfdf'</span></span></span><span class="css">); </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">background-color</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">#ededed</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">border</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">2px</span></span></span><span class="css"> solid </span><span class="hljs-number"><span class="css"><span class="hljs-number">#dcdcdc</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">display</span></span></span><span class="css">:inline-block; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">color</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">#8a8a8a</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">width</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">200px</span></span></span><span class="css"> min-width: </span><span class="hljs-number"><span class="css"><span class="hljs-number">200px</span></span></span><span class="css"> font-family:arial; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">font-size</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">14px</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">font-weight</span></span></span><span class="css">:bold; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">padding</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">7px</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">text-decoration</span></span></span><span class="css">:none; }</span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.light</span></span></span><span class="hljs-selector-pseudo"><span class="css"><span class="hljs-selector-pseudo">:hover</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">background</span></span></span><span class="css">:</span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">-webkit-gradient</span></span></span><span class="css">( linear, left top, left bottom, color-stop(0.05, #dfdfdf), </span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">color-stop</span></span></span><span class="css">(1, #ededed) ); </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">background</span></span></span><span class="css">:</span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">-moz-linear-gradient</span></span></span><span class="css">( center top, #dfdfdf 5%, #ededed 100% ); </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">filter</span></span></span><span class="css">:progid:DXImageTransform.Microsoft.</span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">gradient</span></span></span><span class="css">(startColorstr=</span><span class="hljs-string"><span class="css"><span class="hljs-string">'#dfdfdf'</span></span></span><span class="css">, endColorstr=</span><span class="hljs-string"><span class="css"><span class="hljs-string">'#ededed'</span></span></span><span class="css">); </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">background-color</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">#dfdfdf</span></span></span><span class="css">; }</span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.light</span></span></span><span class="hljs-selector-pseudo"><span class="css"><span class="hljs-selector-pseudo">:active</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">position</span></span></span><span class="css">:relative; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">top</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">1px</span></span></span><span class="css">; } </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.dark</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">-moz-box-shadow</span></span></span><span class="css">:inset </span><span class="hljs-number"><span class="css"><span class="hljs-number">0px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">1px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">0px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">0px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">#dedede</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">-webkit-box-shadow</span></span></span><span class="css">:inset </span><span class="hljs-number"><span class="css"><span class="hljs-number">0px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">1px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">0px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">0px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">#dedede</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">box-shadow</span></span></span><span class="css">:inset </span><span class="hljs-number"><span class="css"><span class="hljs-number">0px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">1px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">0px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">0px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">#dedede</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">background</span></span></span><span class="css">:</span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">-webkit-gradient</span></span></span><span class="css">( linear, left top, left bottom, color-stop(0.05, #969496), </span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">color-stop</span></span></span><span class="css">(1, #a5a6a3) ); </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">background</span></span></span><span class="css">:</span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">-moz-linear-gradient</span></span></span><span class="css">( center top, #969496 5%, #a5a6a3 100% ); </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">filter</span></span></span><span class="css">:progid:DXImageTransform.Microsoft.</span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">gradient</span></span></span><span class="css">(startColorstr=</span><span class="hljs-string"><span class="css"><span class="hljs-string">'#969496'</span></span></span><span class="css">, endColorstr=</span><span class="hljs-string"><span class="css"><span class="hljs-string">'#a5a6a3'</span></span></span><span class="css">); </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">background-color</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">#969496</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">border</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">2px</span></span></span><span class="css"> solid </span><span class="hljs-number"><span class="css"><span class="hljs-number">#bebfbd</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">color</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">#ffffff</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">width</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">200px</span></span></span><span class="css"> font-family:arial; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">font-size</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">14px</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">font-weight</span></span></span><span class="css">:bold; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">padding</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">7px</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">text-decoration</span></span></span><span class="css">:none; }</span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.dark</span></span></span><span class="hljs-selector-pseudo"><span class="css"><span class="hljs-selector-pseudo">:hover</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">background</span></span></span><span class="css">:</span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">-webkit-gradient</span></span></span><span class="css">( linear, left top, left bottom, color-stop(0.05, #a5a6a3), </span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">color-stop</span></span></span><span class="css">(1, #969496) ); </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">background</span></span></span><span class="css">:</span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">-moz-linear-gradient</span></span></span><span class="css">( center top, #a5a6a3 5%, #969496 100% ); </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">filter</span></span></span><span class="css">:progid:DXImageTransform.Microsoft.</span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">gradient</span></span></span><span class="css">(startColorstr=</span><span class="hljs-string"><span class="css"><span class="hljs-string">'#a5a6a3'</span></span></span><span class="css">, endColorstr=</span><span class="hljs-string"><span class="css"><span class="hljs-string">'#969496'</span></span></span><span class="css">); </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">background-color</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">#a5a6a3</span></span></span><span class="css">; }</span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.dark</span></span></span><span class="hljs-selector-pseudo"><span class="css"><span class="hljs-selector-pseudo">:active</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">position</span></span></span><span class="css">:relative; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">top</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">1px</span></span></span><span class="css">; } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>NooLite control light panel<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span>:<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"?channel=5&amp;command=on"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"invisible"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"light"</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"?channel=5&amp;command=off"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"invisible"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"dark"</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span>:<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"?channel=3&amp;command=on"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"invisible"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"light"</span></span></span><span class="hljs-tag">&gt;</span></span>  ‚Ññ1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"?channel=3&amp;command=off"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"invisible"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"dark"</span></span></span><span class="hljs-tag">&gt;</span></span>  ‚Ññ1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"?channel=4&amp;command=on"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"invisible"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"light"</span></span></span><span class="hljs-tag">&gt;</span></span>  ‚Ññ2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"?channel=4&amp;command=off"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"invisible"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"dark"</span></span></span><span class="hljs-tag">&gt;</span></span>  ‚Ññ2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span>:<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"?channel=2&amp;command=on"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"invisible"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"light"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"?channel=2&amp;command=off"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"invisible"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"dark"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"?channel=1&amp;command=on"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"invisible"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"light"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"?channel=1&amp;command=off"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"invisible"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"dark"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">iframe</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"invisible"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"border:0; width: 0; height: 0;"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">iframe</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> $channel=($_GET[</span><span class="hljs-string"><span class="php"><span class="hljs-string">'channel'</span></span></span><span class="php">]); $command=</span><span class="hljs-string"><span class="php"><span class="hljs-string">"-"</span></span></span><span class="php">.($_GET[</span><span class="hljs-string"><span class="php"><span class="hljs-string">'command'</span></span></span><span class="php">]).</span><span class="hljs-string"><span class="php"><span class="hljs-string">"_ch"</span></span></span><span class="php">; $level=($_GET[</span><span class="hljs-string"><span class="php"><span class="hljs-string">'level'</span></span></span><span class="php">]); exec(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"noolite -api $command $channel $level"</span></span></span><span class="php">); </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span></code> </pre><br></div></div><br><br>  Now everything is fine, but something is missing.  The disadvantage is that with this use, the device that displays the page must be in the home network.  And if this is a phone with Wi-Fi turned off? <br>  Unlock, turn on WiFI, wait for power on, go to the page, press a button, turn off WiFI ... <br><br><h4>  We configure access from the Internet </h4>  We modify a little code so that it is impossible to execute an arbitrary code by passing the necessary GET parameter. <br><div class="spoiler">  <b class="spoiler_title">Cautiously, the most terrible bydlokod.</b>  <b class="spoiler_title">I am writing to PHP for the second time in my life</b> <div class="spoiler_text">  If someone can tell how to check the variable belonging to the list of allowed commands, I will be grateful.  I do not want to ask a question about such trifles. <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_GET[<span class="hljs-string"><span class="hljs-string">'channel'</span></span>]) &amp;&amp; $_GET[<span class="hljs-string"><span class="hljs-string">'channel'</span></span>] == <span class="hljs-string"><span class="hljs-string">'1'</span></span>){ $channel=($_GET[<span class="hljs-string"><span class="hljs-string">'channel'</span></span>]); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_GET[<span class="hljs-string"><span class="hljs-string">'channel'</span></span>]) &amp;&amp; $_GET[<span class="hljs-string"><span class="hljs-string">'channel'</span></span>] == <span class="hljs-string"><span class="hljs-string">'2'</span></span>){ $channel=($_GET[<span class="hljs-string"><span class="hljs-string">'channel'</span></span>]); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_GET[<span class="hljs-string"><span class="hljs-string">'channel'</span></span>]) &amp;&amp; $_GET[<span class="hljs-string"><span class="hljs-string">'channel'</span></span>] == <span class="hljs-string"><span class="hljs-string">'3'</span></span>){ $channel=($_GET[<span class="hljs-string"><span class="hljs-string">'channel'</span></span>]); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_GET[<span class="hljs-string"><span class="hljs-string">'channel'</span></span>]) &amp;&amp; $_GET[<span class="hljs-string"><span class="hljs-string">'channel'</span></span>] == <span class="hljs-string"><span class="hljs-string">'4'</span></span>){ $channel=($_GET[<span class="hljs-string"><span class="hljs-string">'channel'</span></span>]); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_GET[<span class="hljs-string"><span class="hljs-string">'channel'</span></span>]) &amp;&amp; $_GET[<span class="hljs-string"><span class="hljs-string">'channel'</span></span>] == <span class="hljs-string"><span class="hljs-string">'5'</span></span>){ $channel=($_GET[<span class="hljs-string"><span class="hljs-string">'channel'</span></span>]); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_GET[<span class="hljs-string"><span class="hljs-string">'command'</span></span>]) &amp;&amp; $_GET[<span class="hljs-string"><span class="hljs-string">'command'</span></span>] == <span class="hljs-string"><span class="hljs-string">'on'</span></span>){ $command=<span class="hljs-string"><span class="hljs-string">"-"</span></span>.($_GET[<span class="hljs-string"><span class="hljs-string">'command'</span></span>]).<span class="hljs-string"><span class="hljs-string">"_ch"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_GET[<span class="hljs-string"><span class="hljs-string">'command'</span></span>]) &amp;&amp; $_GET[<span class="hljs-string"><span class="hljs-string">'command'</span></span>] == <span class="hljs-string"><span class="hljs-string">'off'</span></span>){ $command=<span class="hljs-string"><span class="hljs-string">"-"</span></span>.($_GET[<span class="hljs-string"><span class="hljs-string">'command'</span></span>]).<span class="hljs-string"><span class="hljs-string">"_ch"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_GET[<span class="hljs-string"><span class="hljs-string">'command'</span></span>]) &amp;&amp; $_GET[<span class="hljs-string"><span class="hljs-string">'command'</span></span>] == <span class="hljs-string"><span class="hljs-string">'set'</span></span>){ $command=<span class="hljs-string"><span class="hljs-string">"-"</span></span>.($_GET[<span class="hljs-string"><span class="hljs-string">'command'</span></span>]).<span class="hljs-string"><span class="hljs-string">"_ch"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_GET[<span class="hljs-string"><span class="hljs-string">'level'</span></span>]) &amp;&amp; $_GET[<span class="hljs-string"><span class="hljs-string">'level'</span></span>] == <span class="hljs-string"><span class="hljs-string">'0'</span></span>){ $level=($_GET[<span class="hljs-string"><span class="hljs-string">'level'</span></span>]); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_GET[<span class="hljs-string"><span class="hljs-string">'level'</span></span>]) &amp;&amp; $_GET[<span class="hljs-string"><span class="hljs-string">'level'</span></span>] == <span class="hljs-string"><span class="hljs-string">'20'</span></span>){ $level=($_GET[<span class="hljs-string"><span class="hljs-string">'level'</span></span>]); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_GET[<span class="hljs-string"><span class="hljs-string">'level'</span></span>]) &amp;&amp; $_GET[<span class="hljs-string"><span class="hljs-string">'level'</span></span>] == <span class="hljs-string"><span class="hljs-string">'40'</span></span>){ $level=($_GET[<span class="hljs-string"><span class="hljs-string">'level'</span></span>]); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_GET[<span class="hljs-string"><span class="hljs-string">'level'</span></span>]) &amp;&amp; $_GET[<span class="hljs-string"><span class="hljs-string">'level'</span></span>] == <span class="hljs-string"><span class="hljs-string">'60'</span></span>){ $level=($_GET[<span class="hljs-string"><span class="hljs-string">'level'</span></span>]); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_GET[<span class="hljs-string"><span class="hljs-string">'level'</span></span>]) &amp;&amp; $_GET[<span class="hljs-string"><span class="hljs-string">'level'</span></span>] == <span class="hljs-string"><span class="hljs-string">'80'</span></span>){ $level=($_GET[<span class="hljs-string"><span class="hljs-string">'level'</span></span>]); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_GET[<span class="hljs-string"><span class="hljs-string">'level'</span></span>]) &amp;&amp; $_GET[<span class="hljs-string"><span class="hljs-string">'level'</span></span>] == <span class="hljs-string"><span class="hljs-string">'100'</span></span>){ $level=($_GET[<span class="hljs-string"><span class="hljs-string">'level'</span></span>]); } exec(<span class="hljs-string"><span class="hljs-string">"noolite -api $command $channel $level"</span></span>);</code> </pre><br></div></div>  The rest of the page remains unchanged.  For further, we will need any server with a white IP, and the ability to access via SSH.  We <a href="http://habrahabr.ru/post/122445/">configure port forwarding</a> . <br>  On an <b>external server we</b> perform: <pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"GatewayPorts=yes"</span></span> &gt;&gt; /etc/ssh/sshd_config</code> </pre>  On the <b>local server</b> (to which the adapter is connected, and on which the web server listens on port 80) we perform: <br><pre> <code class="bash hljs">ssh vvzvlad@servername -R 8080:localhost:80</code> </pre>  Now, opening the page <a href="http://servername:8080/">http: // servername: 8080 /</a> we will see the same local page accessible from the Internet. The command response time is about a second. <br><br>  The final touch is to protect against disconnection (on the local server): <pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~/.ssh/ sudo ssh-keygen -t dsa <span class="hljs-comment"><span class="hljs-comment">#      scp id_dsa servername:~/.ssh/authorized_keys #    echo "PubkeyAuthentication yes" &gt;&gt; /etc/ssh/ssh_config ssh servername -t echo "PubkeyAuthentication yes" &gt;&gt; /etc/ssh/ssh_config #   </span></span></code> </pre>  And we put in autorun any way you want: <pre> <code class="bash hljs">autossh vvzvlad@servername -R 8080:localhost:80</code> </pre>  In general, there is no need for a computer, any USB router will be enough for ‚Äúcontrol via the web‚Äù (fortunately, they all now work on Linux).  Absolutely the same thing is done - a program is assembled, a custom interface is written (even php is not necessary, you can completely do with any language, or even bash, executed via CGI), and port forwarding is configured on a single server (nothing is required from it except to work in quality of the tunnel server and authorize the user - so that they do not turn off the light by mistake by typing the wrong address).  The user receives a small device without a fan, which provides control via the web interface in the local network, and when registering on the manufacturer's website - a personal web page with password authorization.  Log in - and you get the ability to manage loads from anywhere. <br><br><h4>  Writing an application for Android </h4>  Well, we write.  Not a line of code was written, not counting the links.  If this is interesting to someone, I'd rather write a separate article than I will do here a sheet.  I will touch only the main points: <br>  Go to <a href="http://beta.appinventor.mit.edu/">beta.appinventor.mit.edu</a> , create a new application.  We throw a few buttons into the form to get something like this: <br><img src="http://boxoverview.com/vvzvlad/2013/noolite-2/appinv1.png" alt="image"><br>  Do not forget to add the Web component.  Click the button "Open in block editor".  Download the file, run it (need java). <br>  By dragging the blocks around the screen and connecting them, we make sure that pressing each button leads to a request to the appropriate address.  Something like this: <br><img src="http://boxoverview.com/vvzvlad/2013/noolite-2/appinv2.png" alt="image"><br>  Then we copy the program to the phone (Package for phone - download to this computer).  We start. <br><img src="http://boxoverview.com/vvzvlad/2013/noolite-2/38.jpg" alt="image"><br>  True, for some reason, when you press a button in the application, the light turns on not after a second, as when working with a web page, but after 3-4 seconds.  I suspect that the delay will disappear if you write the program normally, but I didn‚Äôt have enough of it. <br><br><h4>  We make a light alarm clock or a controlled night light </h4><img src="http://boxoverview.com/vvzvlad/2013/noolite-2/42.jpg" alt="image"><br>  There is a whole class of devices whose purpose is to smoothly raise the brightness of a lamp at a certain time ‚Äî light alarm clocks.  Since the brightness of the lamp rises smoothly, and for a long time (usually from 30 minutes to an hour), the bright light does not hit the eyes, but allows you to wake up quietly.  Produces such alarm clocks, for example, <a href="http://www.philips.ru/c/alarm-clock/white-hf3475_01/prd">Phillips</a> .  And we are worse?  It is enough just to write a small script. <div class="spoiler">  <b class="spoiler_title">Also not the most optimal code.</b>  <b class="spoiler_title">Watch at your own risk</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash channel=8 #  s=0 case $1 in "inc") i=0 e=100 [[ $4 == v ]] &amp;&amp; echo : $[100/$3],   $[$2*100/$3]  while [ $i -lt $e ] do noolite -api -set_ch $channel $i i=$[$i+$3] s=$[$s+1] sleep $2 [[ $4 == v ]] &amp;&amp; echo  $s,  : $i done [[ $4 == v ]] &amp;&amp; echo  . exit 1 ;; "dec") i=100 e=0 [[ $4 == v ]] &amp;&amp; echo : $[100/$3],   $[$2*100/$3]  while [ $i -ge $e ] do noolite -api -set_ch $channel $i i=$[$i-$3] sleep $2 s=$[$s+1] [[ $4 == v ]] &amp;&amp; echo  $s,  : $i done [[ $4 == v ]] &amp;&amp; echo  . exit 1 ;; "help") echo "noolite-candle [inc,dec] second step v" echo "inc -   " echo "dec -   " echo "second -      " echo "step -    (1-100)" echo "v -     " echo " noolite-candle inc 2 1 -    0  100    1(1,2,3,4...)  2 .   200(2*100) ." exit 1 ;; *) echo "  help   " exit 1 ;; esac</span></span></code> </pre> </div></div>  How to use it is clear from the code, or from the online help, if you run the script with the help parameter. <br>  For example, if we need to wake up at 9 am, then it should be started at 8.30 with the following parameters: <pre> <code class="bash hljs">./noolite-candle inc 18 1</code> </pre>  Or at 7 am, like this: <pre> <code class="bash hljs">./noolite-candle inc 36 1</code> </pre>  With this command, the brightness will gradually increase over the course of an hour. <br><img src="http://boxoverview.com/vvzvlad/2013/noolite-2/2013-02-11%2013_29_55.gif" alt="image"><br>  There are dramatic changes in brightness, because the noolite-candle inc 1 10 command was used - i.e.  in one step, the brightness increased by 10%.  If we take 1% for a step, then the change in brightness is very smooth. <br>  And of course, any number of lamps, or even a chandelier can act as a ‚Äúnight light‚Äù, if there are incandescent lamps or dimmable energy-saving lamps in it. <br><br><h4>  pros </h4><ul><li>  <b>Cost of</b> </li></ul>  Total was used: <br>  1 Computer Adapter - <a href="http://www.noo.com.by/adapter-dlya-pk-pc118.html">PC118</a> - $ 50 <br>  5 power units <a href="http://www.noo.com.by/silovoj-blok-sl111-200.html">SL-111-200</a> (for ordinary lamps) - $ 17.5 * 5 <br>  1 power unit <a href="http://www.noo.com.by/silovoj-blok-sn111-200.html">SN-111-200</a> (for a night lamp) - $ 17.5 <br>  1 power unit <a href="http://www.noo.com.by/silovoj-blok-st111-200.html">ST-111-200</a> (for the fan) - $ 17.5 <br>  3 <a href="http://www.noo.com.by/pult-pu-313-1.html">PU-313-1</a> control <a href="http://www.noo.com.by/pult-pu-313-1.html">panels</a> - $ 16.1 * 3 <br>  3 <a href="http://www.noo.com.by/pult-pu-312-1.html">PU-312-1</a> control <a href="http://www.noo.com.by/pult-pu-312-1.html">panels</a> - $ 16.1 * 3 <br>  1 remote keychain <a href="http://www.noo.com.by/pult-brelok-pn-313-1.html">PN313-1</a> <br>  Thus, the costs were: 50 + 17.5 * 7 + 16.1 * 6 = $ 270 <br><br>  Similar to the characteristics of the X10 protocol electronics, judging by the calculations on the <a href="http://www.smarthome.ru/online.html">site</a> (5 lighting control points, 2 points with brightness changes, control from wall-mounted wireless switches, control from a computer and a phone) will cost 24,140 rubles. <br>  Of course, we must also take into account the cost of the server computer, but I think the possibility of finding an old computer or laptop is not a problem. <br>  As you can see, the decision was pretty budget. <br><br><ul><li>  <b>Easy to install and configure</b> </li></ul>  Does not require any special skills, except the ability to strip and connect two wires using <a href="http://habrahabr.ru/post/157947/">terminals</a> Wago-222, or the like.  The control panels are well attached even to the complete adhesive tape, or, in extreme cases, you will have to make holes in the wall with a drill. <br>  Snap - very simple, a few button presses.  Installing and configuring the program - also does not cause problems.  Installing and configuring a server for an untrained person can cause difficulties, but it can still be solved. <br><br><ul><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simultaneous operation of two systems</font></font></b> </li></ul><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Along with full control from the computer, the ability to turn off and on the light with conventional switches located in the same places was preserved. </font></font><br><br><ul><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ability to install without rework and extensibility</font></font></b> </li></ul><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There is no need to peg walls, run control wiring, or conduct power for each point to the panel. </font><font style="vertical-align: inherit;">Of course, the solution is not as reliable and flexible as the "classic" smart home system - when all consumers in the form of lighting and systems are connected directly to controlled relays located in the panel, and the switches for low-current wiring switch these relays. </font><font style="vertical-align: inherit;">More - you can read </font></font><a href="http://cs-cs.net/levlup-ktulxulizaciya-elektroenergii-novye-texnologii-i-masshtaby"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><a href="http://cs-cs.net/globalnyj-rekovyj-shhitok-s-avtomatikoj-na-impulsnyx-rele"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">But on the other hand, it is not so laborious and expensive. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In addition, no need to think through the plan perfectly in advance - at any time it is easy to add another switch or control unit. </font><font style="vertical-align: inherit;">Easy to take with you when you move.</font></font><br><br><h4>  Minuses </h4><ul><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Touch switches</font></font></b> </li></ul><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For me, this is not a minus, I got used to it in a couple of days - it‚Äôs enough to remember which of the three switches is responsible for what, and find the edge of the switch with my fingers - I confidently turn on the light even in the dark. </font><font style="vertical-align: inherit;">But his wife is still complaining - the usual switches were much more convenient, he says. </font><font style="vertical-align: inherit;">I do not understand what prevents the switch from being made, even if it is not with a switchable one, but with a clock button - the logic will not change, and convenience will be added. </font><font style="vertical-align: inherit;">It seems that I will have to disassemble the remote control and still make a non-touch switch for the toilet. </font><font style="vertical-align: inherit;">Get up at night.</font></font><br><br><ul><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lack of feedback</font></font></b> </li></ul><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Since the units have no transmitter, only the receiver - they cannot tell about their condition. </font><font style="vertical-align: inherit;">Accordingly, the control panel on the computer is not aware of the current state ‚Äî whether the load is on or off, which limits the application.</font></font><br><br><ul><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Small customization options.</font></font></b> </li></ul><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I already wrote about it. </font><font style="vertical-align: inherit;">When using scenario switches - you have to occupy 2 buttons out of 3 only under ‚Äúoff-on‚Äù. </font><font style="vertical-align: inherit;">I would add a second function (for example, a gesture from one switch to another, or a double click), or increase the number of switches.</font></font><br><br><h4>  Results </h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Excellent entry-level solution for building lighting and load management systems. </font><font style="vertical-align: inherit;">This is quite a "designer for adults." </font><font style="vertical-align: inherit;">If you want - turn on the lamps via the Internet, if you want - you can do a controlled nightlight, you want - a smart home with voice commands and turning on the lights on a schedule. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I like :)</font></font><br><br>  If you do not have an account on Habrahabr, you can read and comment on our articles on <a href="http://boxoverview.com/">BoxOverview.com</a> </div><p>Source: <a href="https://habr.com/ru/post/168039/">https://habr.com/ru/post/168039/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../168029/index.html">Mactracker - encyclopedia of Apple devices</a></li>
<li><a href="../168031/index.html">Tail scaling</a></li>
<li><a href="../168033/index.html">We control the iRobot Roomba robot vacuum cleaner via IR</a></li>
<li><a href="../168035/index.html">Table with backlight for sealing boards</a></li>
<li><a href="../168037/index.html">By analyzing news, researchers can predict natural disasters.</a></li>
<li><a href="../168049/index.html">Google agreed with French publishers for 60 million euros</a></li>
<li><a href="../168055/index.html">Announced the first smartphones based on Clover Trail and Lexington</a></li>
<li><a href="../168059/index.html">Quick start with phpDaemon based WebSocket</a></li>
<li><a href="../168061/index.html">Interesting possibilities of storage systems HP 3PAR. Part 1 - Persistent Ports</a></li>
<li><a href="../168063/index.html">Redmine - one-time password authentication (OTP)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>