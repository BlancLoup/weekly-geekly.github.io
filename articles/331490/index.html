<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to stop looking for a good data center and start living</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sorry to upset you, colleagues, but my answer: no way. Or, as stated in one domestic advertising, "son, this is fantastic." No, in nature there are Ti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to stop looking for a good data center and start living</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/web/f5b/99b/b69/f5b99bb69f31405fa0f52956397e9d9e.jpg"><br><br>  Sorry to upset you, colleagues, but my answer: no way.  Or, as stated in one domestic advertising, "son, this is fantastic."  No, in nature there are Tier IV DCs and data centers that enclose and execute SLAs, but this article is not about them (since their services are worth it, excuse the pun, transcendental money), but about providers of dedicated physical and virtual servers and services that most mere mortals currently use, including us at Pixonic. <br><br>  I deliberately will not give the names of specific companies with whom I had to work both in Pixonic and before him, in order to bring the already voiced idea: one way or another, serious "nuances" are found in all.  Maybe someone wants to argue, but my conclusion is based on more than 8 years of experience with technical support and data center management at various levels around the world. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Hedgehog - a proud bird: until you kick, it won't fly </h3><br>  I guess I‚Äôm not mistaken, summarizing the problem as follows: as long as every direct worker in all the data centers whose services you use are not personally interested in tightening their particular conditional nut, everything will be bad for your business.  But to improve the situation and make your life easier can be, and quite simply. <br><br>  Perhaps I‚Äôll be voicing the obvious things now, but before Pixonic I‚Äôve never seen them run somewhere.  Here it turned out to be better, although at the very beginning there was a lack of a systematic approach.  As a result, we formulated it, implemented it and it became really easier to live. <br><br>  I will begin with a simple question: does your provider send you a link to a survey about the quality of their services with a request to spend 5 minutes to complete it - your thoughts?  As a rule, "tired" - the most innocent of them, after which the request is simply ignored. <br><br>  This happens because you paid money, you have your own business, your tasks, and you need to pay just to work.  You do not have time to engage in their nonsense, after all!  Familiar? <br><br>  Let me tell you a secret: they are not perfect, but they are trying.  That is why they do these polls, various interfaces and APIs of varying degrees of convenience, monitoring, notifications, and so on.  Why not try and benefit you in your business if they provide some tools for this?  Start by learning about the documentation and knowledge base for working with the web user interface and API.  Specify contacts in the settings of your profile so that important information (such as warnings about planned work or abuse with the threat of blocking) does not fall into a common box that is unreadable by anyone, and reaches specific people who can respond to it adequately and in a timely manner.  For example, technical, network and abuzny things - to administrators, and all issues of mutual settlements - in the accounting and financial control. <br><br>  <b>Write letters</b> <br><br>  Further, do not be lazy to understand each problem and write to the support.  At first, if the problem does not burn, you just need to write, so that everything will be recorded.  This is useful not only so that in the event of what was where to ‚Äúpoke the nose‚Äù of the next person on duty at the provider, but also, if necessary, show the ticket to your colleague.  If your writers do not know English at a sufficient level, do something about it: attract colleagues, train, hire a translator (Google Translate will not help!), Do it yourself, in the end. <br><br>  When communicating with a representative of the provider in writing, focus on the following points: <br><br><ul><li>  As a rule, engineers of different skill levels work on a problem at a time, and they are limited by their company‚Äôs internal regulations.  Often the changer does not exchange information on the problem with the changeable - be prepared to repeat the same thing thoroughly and chew the problem many times; </li><li>  if the time is mentioned in the communication, always specify both your time zone and the UTC time; </li><li>  if the root of the problem is obvious to you, write step-by-step instructions down to the comma and in communication with the manager (about him below), try to insist that it be performed without question without any questions - as a rule, because of the regulations mentioned above, the engineer is obliged to you ask any strange, sort of collect and provide MTR statistics for 1000+ iterations from different hosts on the same subnet; </li><li>  often the technical support provider is interested in investigating the incident, which can last for weeks;  in this case feel free to ask for radical measures: physical replacement of the server or its transfer to another rack / PDU / switch; </li><li>  if during the preparation of the ticket there is an opportunity to set the degree of importance of the problem, indicate honestly so as not to find yourself in a situation from the famous parable about the boy and the wolves; </li><li>  if an individual person is engaged in ‚Äúdebriefing‚Äù with providers, he is not a decision maker, he should not use a corporate signature indicating his position - even if limited to something like: ‚ÄúRegards, Name‚Äù - they will perceive it as a decision maker and work more actively on the problem; </li><li>  in general, in some situations, if this is acceptable to you, it may be useful to build some kind of communication model by e-mail, where among formal, HTML messages you will see a character writing plain text into plain text without the signature ‚Äî the goal is the same; </li><li>  In all cases, when you consider it necessary, use the abbreviation ASAP and the phrase ‚Äúbusiness critical‚Äù in different variations - they ‚Äúlove‚Äù, especially managers, who must either be put in a copy or, if there is no such possibility, be mentioned by full name directly in ticket to show tech support that their superiors are already aware of the problem; </li><li>  if for the third time these magic phrases did not work, threaten to leave them right away tomorrow without talking and paying them - this is even more ‚Äúinvigorating‚Äù them. </li></ul><br>  <b>And if it does not help?</b> <br><br><img src="https://habrastorage.org/web/b31/f53/a7c/b31f53a7c20640a99f9007865eefd85f.gif"><br><br>  In fact, in practice, only a part of the infrastructure of the flagship product Pixonic only once really moved out from provider X (so that they would torment the devils). <br><br>  As a rule, if you, of course, do not have 5-10 servers for the entire project, the provider is very interested in your remaining with him.  And then you need to ask for them, no, not forfeit (by the way, of all the providers with whom we communicated in a raised voice on a business-critical incident, there was only one who immediately asked how much and how much money to return) - because hand in heart, you don‚Äôt have a mechanism for calculating financial losses due to cloud provider‚Äôs backup, temporary DNS failure, temporary Internet divergence due to problems on backbone channels?  Here you need to demand the maximum!  The simplest is discounts on new servers / instances, free rent or expansion of existing ones, improvement of the quality of technical support, and the like.  But it is more correct to demand a separate manager who, yes-yes, will just personally motivate his team to an increased interest in your business. <br><br>  Communicating with such a manager also has its own nuances, namely: <br><br><ul><li>  Sometimes the situation becomes so acute that I want to write in a ticket with selected Russian language;  To start, write, but in English, evil, but restrained and deployed on the merits, mentioning not only the problem itself, but the communications shoals inside the technical support of the provider and the frank stupidity of engineers - such a problem will certainly be escalated to your manager, who will either try to call you , or in writing will offer to phone, promising to solve all the problems;  soberly assess the situation and do not waste your time on the manager, if you can directly contact the technical decision maker - conditionally, the head of the third line of technical support; </li><li>  in a critical situation, call me in a voice is good only when it really helps to solve something;  bad example from life: somehow they collected a conf-call from 3 managers from different sides and one Hindu engineer, just so that he dictated a password to me - no need to waste time on this; </li><li>  Nevertheless, calling and communicating with a voice and meeting in person, if possible, is always useful: personal contact will increase your chances for increased interest in your business and, as a result, for all sorts of ‚Äúamenities‚Äù in the form of exclusive discounts, special conditions for compensations inconvenient regulations and the like. </li></ul><br><h3>  30 hours of pain.  Once </h3><br><img src="https://habrastorage.org/web/b9f/c8b/f5c/b9fc8bf5c3d44f5db4d08827291d3b81.jpeg"><br>  <i>Somewhere in a parallel universe after customer complaints</i> <br><br>  Not to be unfounded, I will give some examples from practice during my time at Pixonic.  In order for the scale of the problem to be understandable, it is worth clarifying: we have points of presence in six regions of the planet, which five providers provide us with different success, and similar problems arise regularly and everywhere.  So let's go! <br><br><hr><br>  Once we turned off the whole hall!  After finding out, it turned out that the provider had previously provided us with discounts on servers in this room, but the manager forgot to enter this information into a specific database.  The servers worked this way for several months until one of the provider‚Äôs developers discovered a non-working script, which, based on information from the database, regularly passes through the equipment and disconnects the ‚Äúdebtors‚Äù, and does not fix it. <br><br><hr><br>  We have come across such automation several times with different providers.  Once we were given two servers that were periodically disconnected spontaneously.  The first suspicion - automation - turned out to be true, it was turned off.  But one server continued to fall periodically.  The engineers dispersed and checked everything that was possible.  Even moved it to another rack, forgetting, however, turn on, but nothing helped.  In the end, I just had to change the server. <br><br><hr><br>  This is more like the problem of office administrators (‚Äúcleaner‚Äù), but it is also found in reputable data centers: suddenly communication with several servers in one rack was lost - when studying an incident as an engineer, it turns out that the connectors ‚Äúaccidentally‚Äù jumped out of the ports.  It also happens that people declare that the connectors are just spoiled.  It was not clear how they held up before the incident. <br><br>  Cables have been cases where hard drives behaved strangely due to poorly connected loops.  The tech support on the blue eye answered: ‚ÄúThey tucked up better - it worked‚Äù. <br><br><hr><br>  It happens that the ISP engineers confuse the server on which to work.  It also often happens that the performers and their managers get confused in the task and do something completely unexpected.  Just like in the joke about amputation: ‚ÄúI told the left one.  I said hand. <br><br><hr><br>  Somehow it became necessary to update the "iron" 50+ "combat" servers in one region.  In order for this activity to have a minimal impact on production, they updated 5 pieces each.  So, in each batch one failed server came across!  Either a problematic power supply, or broken disks, or a burnt motherboard.  As a result, the time to update was doubled. <br><br><hr><br>  Also about the update, but operating systems.  The provider provides a web interface and API for server manipulations, including reinstalling the OS.  In our case, it turned out that for 80% of the servers that needed to be updated, these tools simply did not work!  The developers of the provider promised to find out, and technical support at this time offered to reinstall the OS manually.  The first reinstallation of Windows took the engineer two days! <br><br><hr><br>  More about the interface - sometimes it happens that the ‚Äúclick‚Äù there actually does not work, although tech support assures the opposite.  Mixed feelings are caused by the situation when the engineers of a well-known provider pick something manually. <br><br><hr><br>  Once, the engineers of the same cool provider asked to downgrade our ‚Äúcombat‚Äù virtual machines in order to understand why monitoring of several metrics does not work correctly for them.  This happened because we ourselves accidentally noticed problems with their monitoring and the fact that they left when we planned to reduce resources for one of the virtual machines. <br><br><hr><br>  And finally, perhaps the most "fun" story.  For a long time, we had a ‚Äúfloating‚Äù network problem with a part of virtual machines in the region: at different times of the day for different periods of time there were abrupt client TCP sessions.  The provider very persistently stated that this could not be because it could not be, and we could not provide evidence due to the unpredictability of the problem and due to the fact that everything was normal on the machines themselves, the problems were visible only on monitoring.  As a result, we came to the assumption that these virtualkeys are most likely located on the same physical hypervisor.  They transferred an assumption to the provider with a proposal to check the host itself, after which the enchanting thing happened.  At first we were told that the machines were on different hosts, then they said that yes, after all, on one, and the engineers saw the problem, then they cheerfully reported that the problem was solved, after which all our virtual machines immediately went down.  As it turned out, the host simply could not cope with the load, since our machines ‚Äúgenerated too much traffic‚Äù, and these simple guys decided to turn them off stupidly, ‚Äúso as not to affect other customers‚Äù! <br><br>  If these examples are not enough, ask questions in the comments - I will try to recall even <s>oh</s> instructive stories.  And better share your own. <br><br><h3>  Conclusion </h3><br>  I repeat, the tips voiced in the article are simple enough to follow in order to minimize problems arising from the divergence of expectations regarding data centers with reality, and focus on business objectives.  But these problems will somehow be present.  To protect against them to the maximum, build resiliency and flexible infrastructure at the level of application architecture, as we do in Pixonic.  And be sure <a href="https://habrahabr.ru/company/pixonic/blog/325040/">to set up your monitoring correctly</a> so that there is something to appeal in communicating with the representatives of the provider instead of collecting 1000+ MTRs. </div><p>Source: <a href="https://habr.com/ru/post/331490/">https://habr.com/ru/post/331490/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../331478/index.html">How to hold a raffle among Java programmers</a></li>
<li><a href="../331482/index.html">Challenges marathon round of Yandex. Algorithm 2017</a></li>
<li><a href="../331484/index.html">Machine Learning for an Insurance Company: Exploring Algorithms</a></li>
<li><a href="../331486/index.html">Webinar: How will targeted cyber attacks develop?</a></li>
<li><a href="../331488/index.html">Thirteenth Developer Economics Survey</a></li>
<li><a href="../331494/index.html">Tables! Tables? Tables ...</a></li>
<li><a href="../331496/index.html">Milestones in the history of encryption and combat</a></li>
<li><a href="../331498/index.html">Fighting spam on hosting. Setup EFA Project Free Spam / antivirus filter</a></li>
<li><a href="../331500/index.html">Autoencoders in Keras, Part 2: Manifold learning and latent variables</a></li>
<li><a href="../331502/index.html">Registration using telegram bot</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>