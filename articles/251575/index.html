<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Patch management. Testing monthly software updates</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The material in this article is based on the experience of installing over 5,000 updates for Microsoft and Adobe products. 

 Patch Management is the ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Patch management. Testing monthly software updates</h1><div class="post__text post__text-html js-mediator-article">  <i>The material in this article is based on the experience of installing over 5,000 updates for Microsoft and Adobe products.</i> <br><br>  <b>Patch Management</b> is the process of managing software updates (software), without which at least one modern company is unlikely to think about the security of its IT infrastructure. <br>  <b>Updates or patches</b> are an additional software tool that is used to fix detected software defects or change its functionality. <br>  There are <b>2 types of updates</b> : <br><ol><li>  for operating systems and server software, which are used to maintain an adequate level of security and eliminate security holes; </li><li>  for application software (for example, Microsoft Office, Adobe Acrobat, or client parts of business applications) that are needed to solve problems with frequently used or important libraries and other parts of the source code. </li></ol><a name="habracut"></a><br>  Among other things, the importance of updates and their timely installation to maintain an adequate level of information security is obvious.  However, in the history there were notorious cases where the ‚Äúpatches‚Äù of vulnerabilities in one application caused critical malfunctions in other applications.  Here are a few such examples: <br><br><ol><li>  Microsoft's monthly update caused <a href="https://xakep.ru/2011/02/11/54816/">VMWare to fail</a> (February 8, 2011); </li><li>  An update for the Internet Explorer browser, released by Microsoft, contained <a href="http://www.securitylab.ru/news/272390.php">two vulnerabilities at</a> once: a crash in the browser, as well as a buffer overflow that allows a hacker to launch a code on the vulnerable machine with the privileges of the browser user (August 8, 2006); </li><li>  Microsoft‚Äôs December updates were intended to correct a <a href="http://bugtraq.ru/rsn/archive/2012/12/04.html">serious security breach</a> in the use of the OpenType font.  The update affected PowerPoint, Quark Xpress and Coreldraw users.  The released updates did not allow programs to recognize OpenType font characters larger than 15 pixels (December 12, 2012); </li><li>  Installing Microsoft updates for kernel mode drivers led to a <a href="http://answers.microsoft.com/en-us/windows/forum/windows_7-windows_update/blue-screen-stop-0x50-after-applying-update/6da4d264-02d8-458e-89e2-a78fe68766fd">blue screen of death</a> (BSOD) on users' computers in August 2014; </li><li>  The update for Office PowerPoint 2013 application made <a href="http://bugtraq.ru/rsn/archive/2015/02/05.html">it impossible to launch the application</a> (February 10, 2015). </li></ol><br>  Such unpleasant consequences of the application of updates led to business downtime and loss of money, and this risk has not gone away.  However, trouble could have been avoided by thoroughly testing updates by the developer before deploying them. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Microsoft has repeatedly criticized itself for insufficient testing of monthly security updates.  In response, representatives of the corporation <a href="http://www.securitylab.ru/news/213813.php">made it clear</a> that their plans were to switch to a new testing scheme by transferring the service of testing updates to ‚Äúexternal‚Äù users, that is, not Microsoft employees. <br>  And, indeed, if you look at this problem through the eyes of a development company, it becomes clear that testing updates on the developer‚Äôs side is a rather time-consuming process.  Each update should be tested in conditions as close as possible to those that are in use at workstations and servers of product consumers.  So, for example, the Adobe company spends <a href="https://xakep.ru/2011/10/03/57109/">up to 6000 man-hours per month</a> for testing updates. <br><br>  But life shows that testing by a developer will never be enough for 100% of users in the world.  Accordingly, the risk that the next software update will stop the company's business processes remains.  On the other hand, it is also impossible not to be updated, since you can be vulnerable to hackers who can harm the company. <br><br>  As a way to significantly reduce these risks, large companies choose to install updates regularly with packages (releases) with mandatory testing of updates before deploying them throughout the company. <br><br>  <b>Update Management Methods</b> <br><br>  The <a href="http://www.icl-services.com/services/upravlenie-ustroystvami-polzovateley/">update management</a> method is a combination of an approach to <a href="http://www.icl-services.com/services/nezavisimoe-testirovanie/">testing</a> updates and an approach to deploying releases with updates.  We will tell about them further. <br><br>  The two most common approaches to testing updates are: <br><ol><li>  testing on local virtual machines; </li><li>  testing in a complete test environment. </li></ol><br>  Modern technologies make it possible to test updates using virtualization without the use of unnecessary pieces of equipment.  The most frequently used and available products for creating virtual machines and networks: VMware or Oracle VirtualBox.  The benefits of virtualization are that: <br><ul><li>  the creation of the virtual machine itself is not time consuming; </li><li>  There may be several virtual machines on the same physical platform; </li><li>  each virtual machine has its own virtual hardware components: memory, processor, hard disk, network adapters; </li><li>  and most importantly, it is the ability to take a ‚Äúsnapshot‚Äù of the current state of the system and the contents of the disks with one click of the mouse, and then return to its original state within a very short time, which can be very useful provided that an update is detected, the installation of which causes critical system malfunctions . </li></ul><br>  As a rule, virtualization technology is used for small networks with no more than 45-70 workstations. <br>  Also, the change management process can be simplified using just a couple of corporate computers or so-called test clients.  By installing the necessary updates on such clients and testing the system after installation, you can see the effects of the changes and verify the result of applying the updates, while having a minimal impact on the IT infrastructure.  Testing using a complete test environment is applicable for large industrial networks and guarantees high purity testing.  When testing in a full-fledged test environment, the same approaches to installing updates and update management tools are used as in an industrial environment.  And now we turn to them and at the same time we will consider approaches to the deployment of releases with updates. <br><br>  <b>Update Management Tools</b> <br><br>  As a rule, all widely used software solutions for remote management of IT infrastructure provide the ability to manage updates, for example: <br><ol><li>  System Center Configuration Manager (SCCM) - Microsoft software; </li><li>  Unicenter Software Delivery - a software product of Computer Associates; </li><li>  OpenView is a software product from Hewlett-Packard. </li></ol><br>  The leader in demand and use in large industrial networks is SCCM.  Therefore, we give the details of the implementation of the management of updates on his example. <br><br>  The principle of managing updates with Configuration Manager is quite simple.  All managed SCCM systems are combined into sites.  Sites contain: <br><ul><li>  site servers; </li><li>  Site systems that perform specific infrastructure management roles </li><li>  actually managed clients. </li></ul><br>  Each of the site servers must have access to the Microsoft SQL Server database. <br>  <a href="https://technet.microsoft.com/ru-ru/library/bb531022.aspx">Windows Server Update Services (WSUS) is</a> used as an update server <a href="https://technet.microsoft.com/ru-ru/library/bb531022.aspx">.</a>  It synchronizes with the Microsoft website, downloading updates that can be distributed within the corporate LAN.  This saves external company traffic and allows you to quickly install bug fixes and vulnerabilities in Windows operating systems at workstations, as well as centrally manage updates to servers and workstations. <br><br><img src="https://habrastorage.org/files/be8/ebe/c42/be8ebec423634d5e9c5fbebb5501e7d4.jpg" alt="image"><br><br>  Here it should be noted that the WSUS server is intended only for updates released by Microsoft. <br>  However, there is another update server - <a href="https://technet.microsoft.com/ru-ru/library/bb531022.aspx">System Center Updates Publisher (SCUP)</a> from Microsoft, which allows you to manage third-party software updates and then import it to the WSUS server, and then deploy it to clients using SCCM. <br><br>  <b>Stages of the Patch Management process</b> <br><br><img src="https://habrastorage.org/files/071/12c/1f5/07112c1f5f16409f9db6cff7f3495203.jpg" alt="image"><br><br>  The update management process consists of several stages: <br><br><ol><li>  <b>Training test clients</b> <b><br></b>  An operating system image is rolled onto the update testing machine, which includes applications, as well as approved previously tested updates.  Upon subsequent loading of the operating system, the data of the approved updates is automatically installed. </li><li>  <b>Creating update sheets</b> <br>  After the test environment has been prepared for installing new updates, the creation of update sheets begins, or, as the SCCM calls it, patch lists. <br>  The patch list includes updates that came out this month and fit the definition of "required."  The need for an update for the client is determined by SCCM itself.  The logic is simple: if the Visio application is installed on the client and an update for Visio has been released this month, then a similar patch will be ‚Äúrequired‚Äù for this client. <br>  As for updates for operating systems and servers, the need here is determined depending on their bit depth and the Windows Service Pack. <br>  After the patch list is created, a new package is created, which includes all selected updates, and the package is assigned to the collection to which the test clients are added. </li><li>  <b>Deployment in a test environment (LAB Deployment)</b> <b><br></b>  When adding a package to the collection, SCCM receives information that a new task is assigned to the customers of this collection, synchronizes with the SCCM client on the test machine, and deployment begins (deployment).  The procedure takes only a few minutes, after which, the corresponding icon appears in the taskbar notification area.  After double-clicking on the icon, Configuration Manager opens, where after selecting the updates, the installation begins.  As a rule, installation ends with a request to reboot the system.  After it, testing begins with the task: to find a patch that breaks the system / system components, or to make sure that it does not exist. <br>  At its core, logging in after a reboot is already one of the check points.  It is important that there are no warnings / errors at login.  Further testing is carried out on a specific test matrix.  The checks included in the test matrix depend mainly on the software of the tested IT infrastructure.  More information about the tests will be described in the section ‚ÄúTest stages‚Äù below. </li><li> <b>Deploying to pilot users (PRE Deployment stage)</b> <br>  At the PRE Deployment stage, a list of tested updates is prepared, which is sent via SCCM to the clients of the pilot users.  The principle is the same: the update package is added to the collection that includes only pilot clients, SCCM receives information that a new task has been assigned to the clients of this collection and the deployment begins. <br>  As a rule, as pilot clients, those users are selected who <br>  well versed in the software for which they are responsible, and check whether the application works normally after installing updates.  The number of users who participate in the pilot usually varies depending on the number of network workstations. <br>  The PRE Deployment stage continues for 4 days, after which the pilot users give their feedback.  If there are conflicts of software with installed updates, the latter are excluded from the list.  Thus, the final list of updates that will be installed on all workstations in the industrial network is formed. </li><li>  <b>Deploy tested updates in a production information environment (PRO Deployment)</b> <br>  It occurs at the stage of PRO Deployment, with the help of SCCM, on the same principle as for test and pilot clients.  In this case, the start time of the deployment and the end date are set. </li></ol><br>  <b>Testing steps</b> <br><br>  As mentioned earlier, testing takes place on the basis of a test matrix.  Below we present a description of the basic checks that are usually included in such matrices. <br><br>  <b>Testing the installation</b> .  Installing updates on a test client is initiated by SCCM.  As a rule, after installing updates, the system requires a reboot.  Accordingly, the first check: reboot the system, log in after rebooting under the test account, make sure there are no system error / warning messages. <br>  The next step is to <b>check the system variable PATH</b> .  Make sure that the PATH does not contain characters and characters that can lead to problems. <br>  The third step is to <b>check the system event log (Event Viewer).</b>  Information about the installation of updates is written to the log under ID 19. Checking ensures that the installation of all updates is successful and that there are no errors. <br>  Next in line is <b>checking office applications</b> .  As a rule, Office tests intersect all the test matrices of the Patch Management process. <br><br>  Simple examples of Office checks: <br><ol><li>  Launch Word, Excel, Power Point, Publisher, Access. </li><li>  Ensure that applications open without error. </li><li>  Make changes to the document, make sure that when you close it, you are asked to save and save the document by default to the Documents folder (if no other default storage is provided). </li></ol><br>  This sample Office check is basic and generic.  The matrix may include more complex detailed checks.  For example, besides opening MS Word and saving the document, you need to check that the Spelling and Grammar checkbox is ticked in the Spelling and Grammar tab, etc. <br><br><img src="https://habrastorage.org/files/2c1/758/1a0/2c17581a0b9d492e828ed54c4c46d3b1.jpg" alt="image"><br><br>  One of the most common checks is also the <b>verification of Adobe applications</b> that are being updated.  The minimum check for Adobe Flash Player is to check the version of this software on the site.  If the update is for Adobe Reader, then the version is checked and the application is tested. <br>  <b>Check browser performance</b> also goes to the list of basic.  Patches should not make changes to the proxy and ActiveX settings, and this is also checked during testing. <br>  Also, pay attention to the overall impact of updates on the system.  At the stage of preparing a test client, which already contains previously tested updates, the tests described above are conducted, and the results of such testing are taken as the standard. <br>  Any deviation of the system from the state prior to the newly installed patches is analyzed and, in some cases, it may be decided to exclude patches leading to undesirable changes in the system. <br><br>  It is worth noting that to save useful time, some checks can be automated using VBScript, for example: <br><br><ol><li>  creating objects for office applications, opening program files, making changes, saving; </li><li>  launch browser and go to web pages; </li><li>  uploading Event Viewer logs to the Excel table. </li></ol><br>  Summing up, we would like to emphasize once again that the streamlined update management process will make it possible to make sure in advance of the success of the updates and preserve the reliability and performance of the infrastructure with the constant installation of updates ensuring the necessary level of information security. <br><br>  Posted by: <a href="http://habrahabr.ru/users/alisa_khaliullina/" class="user_link">Alisa_Khaliullina</a> </div><p>Source: <a href="https://habr.com/ru/post/251575/">https://habr.com/ru/post/251575/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../251565/index.html">Competition for the creation of applications "Spring Marathon"</a></li>
<li><a href="../251567/index.html">Multivendor corporate network: myths and reality</a></li>
<li><a href="../251569/index.html">Experience masking OpenVPN-tunnel using obfsproxy</a></li>
<li><a href="../251571/index.html">Crisis backups</a></li>
<li><a href="../251573/index.html">Using skyboxes in unity3d</a></li>
<li><a href="../251577/index.html">Law enforcement authorities rained down the Ramnit botnet</a></li>
<li><a href="../251579/index.html">Arabic localization: windows and drawing</a></li>
<li><a href="../251581/index.html">New release: 3CX WebMeeting server version</a></li>
<li><a href="../251583/index.html">12 games that teach children programming</a></li>
<li><a href="../251589/index.html">Remote control for Arduino, pen test</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>