<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>When is the inevitable serverless future?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The past decade has taught us the convenience of cloud services. Clouds are a heady opportunity at any time to get a new server. The next step, giving...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>When is the inevitable serverless future?</h1><div class="post__text post__text-html js-mediator-article">  The past decade has taught us the convenience of cloud services.  Clouds are a heady opportunity at any time to get a new server.  The next step, giving new amenities - platforms that provide higher level services: queues, API, gateways, authentication tools.  Next in line is universal serverless happiness? <br><br> <a href="https://habrahabr.ru/company/ruvds/blog/336634/"><img src="https://habrastorage.org/getpro/habr/post_images/a14/068/e21/a14068e21cfdae4eedef9b3eba2a5b1e.jpg" alt="image"></a> <br>  <i><font color="#999999">Photo from the exhibition "Art LEGO¬ª</font></i> <br><br>  For many, serverless computing is associated with existing platforms representing services in a function-as-a-service (function-as-a-servise, FaaS) format, which is understandable.  Many of these platforms are disappointing, forced to look at everything "serverless" with suspicion.  However, this is too narrow a view of things. <br><a name="habracut"></a><br>  Today I will talk about how the development of serverless platforms will soon change our attitude towards them.  I will show the three waves of universal serverless technologies and demonstrate their interaction, which is aimed at providing much more opportunities than FaaS products. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  <font color="#3AC1EF">On the concept of "serverless technology"</font> </h2><br>  Serverless technologies are always an abstraction of the level of service, an illusion created for the convenience of the end user.  The hardware at the same time, of course, does not go anywhere.  In fact, two defining characteristics of serverless technologies can be distinguished: <b>an invisible infrastructure</b> instead of custom virtual machine images?  and <b>a payment scheme based on actually consumed resources</b> instead of a fixed hourly rate. <br><br>  All this is not so mysterious as it may seem at first glance - the majority of cloud services are already operating on serverless basis.  When using basic services like AWS S3 or Azure Storage, you pay for the amount of stored data (that is, the cost of disk space used), the number of I / O operations (the cost of computing resources required to organize data access), and the amount of data transferred (cost use of network channels).  All this rests on hardware servers, but their capacities are divided between hundreds or thousands of consumers, who simply do not think about this aspect of the work of such systems. <br><br>  Many developers are confused by the idea of ‚Äã‚Äãexecuting their code in a serverless environment, in other words, they are unaccustomed to the idea of ‚Äã‚Äãuniversal serverless computing. <br>  How do I know that my code will start working?  How to debug and monitor the environment?  How to keep the server software up to date? <br><br>  These are understandable reactions and questions.  All these problems that are not related to the functionality, you need to solve, before you start talking about what a good serverless architecture.  Now let's see what has already been done in this area. <br><br><h2>  <font color="#3AC1EF">First Wave: Event-Based Computing</font> </h2><br>  The FaaS platforms were the first systems to organize serverless computing that came to the market.  Examples include AWS Lambda and Azure Functions.  Both there and there it is possible to place code fragments that are called on demand.  There are no applications as such.  The developer writes functions, fragments of the application, and sets the rules based on events that cause the code at the right moments.  For example: ‚ÄúRun X when an HTTP request arrives at / foo‚Äù, ‚ÄúCall Y when a message arrives in this queue‚Äù.  And so on. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a4e/854/fd4/a4e854fd42441357f864466b673341f5.png"><br>  <i><font color="#999999">Functions can be quite simple.</font></i>  <i><font color="#999999">For example, consisting of calls to several methods to perform a simple task.</font></i> <br><br>  The developer does not know anything about the server, does not care about him.  The code just works.  In this case, you have to pay only those fractions of a second, which are used to calculate the use of resource functions of the provider‚Äôs systems.  How often the function will be called ‚Äî once a day, or a million times an hour ‚Äî does not matter, since scaling issues are solved without the participation of the developer. <br><br>  So, FaaS is definitely serverless technology, but they won't do the weather themselves.  This is so for several reasons. <br><br><ul><li>  Not all workloads are reduced to a model where the execution of individual operations causes certain events. <br></li><li>  It is not always possible to completely separate the code from its dependencies.  Some dependencies may require significant installation and configuration resources. <br></li><li>  The language in which you develop and (or) the programming paradigm may not be supported by the FaaS platform. <br></li><li>  Converting an existing application to the FaaS model is usually so complex that it is not financially viable. <br></li></ul><br>  All these are architectural problems. <br><br>  In addition, there are purely instrumental difficulties that make using FaaS in some scenarios very inconvenient.  I am not particularly worried about the difficulties of this nature, as the tools are constantly improving.  Not as fast as we would like, but if that is what prevents you from getting to work with FaaS, I am sure these problems will soon be solved.  The main question here is when this happens. <br><br><h2>  <font color="#3AC1EF">Second Wave: Workflow Schemes</font> </h2><br>  If your relationship with FaaS systems did not develop due to the fact that your workflow simply does not fit into the model of small code fragments executed by events, this means one of two things.  Either your project requires a more complex organization, or you need the program to run continuously ‚Äî or for some significant period of time, which is essentially the same thing. <br><br>  Projects with a complex organization for the first time covered products such as Azure Logic Apps and AWS Step Functions.  They allow the developer, using a graphical interface, to create flowcharts that describe lengthy processes.  Using schemes, you can set the order of calling functions, embed your own functionality in the framework that organizes the management of the process. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/acc/1fd/0e4/acc1fd0e4b32680301a34ecf929ebfc7.png"><br>  <i><font color="#999999">Creating an application in Azure Logic APP, which, when updates appear in the CRM system, sends them for further processing.</font></i>  <i><font color="#999999">The management of a complex asynchronous process uniting different systems is reduced to describing the necessary steps.</font></i> <br><br>  Platforms for the organization of schemes of interaction of complex systems simplify development.  For example, if a certain code, say, related to reviews about an electronic store, needs to be launched 24 hours after the purchase of goods, it is enough to add a corresponding task to the scheme.  Need to take some action if someone mentioned your product on Twitter?  To organize this, just a couple of mouse clicks.  Neither the requests to the Twitter API, nor how to respond to the answers, do not need to think.  Ready-to-use blocks not only ease the problems of organizing programs, but also eliminate the need to write client code for most common services. <br><br>  While the approach using schemes is great for modeling business processes, it does not allow to transfer all the load on serverless platforms.  This is not a panacea.  For example, a truly complex decision tree, presented in the form of a flowchart, looks very awkward, it is not convenient to work with it.  Regular program code in this situation is more expressive.  In addition, the model of payment for such services, based on the calculation of steps in the schemes, makes frequent requests and splitting tasks into too small parts expensive. <br><br>  In short, neither the approach with the use of functions, nor the use of schemes, provide a worthy solution to the task of organizing the work of continuously running complex applications.  At first glance, we are faced with a not too serious problem, relating only to the rather narrow scope of serverless computing.  However, one simple fact changes everything: applications created over the past few decades are designed, at least in part, as continuous tasks.  Therefore - the time has come for the third wave of serverless technologies. <br><br><h2>  <font color="#3AC1EF">The third wave: containerization technologies</font> </h2><br>  The technology of containerization of applications came to the masses a few years ago, mainly due to the popularity of Docker.  The arrival of these technologies has been very noticeable.  Containers can be considered as the next generation of virtual machines.  Initially, the Linux ecosystem was in the center of attention of containerization system developers, however, now we can talk about support for Windows.  In addition, container management platforms, such as the Mesosphere and Cubernetes, are becoming more common. <br><br>  The most important thing to keep in mind when talking about containers is that they cannot be considered the usual replacement of virtual machines with a more lightweight abstraction.  Containers are also a universal application packaging mechanism.  If an application on Node.js needs a special Nginx configuration, it is enough to configure it in a container.  If the ASP.NET website uses the background Windows Service, the corresponding layer can be embedded in the container image. <br><br>  Here the question may arise: ‚ÄúSo, the use of containers, obviously, is considered as a means for packaging applications, but what‚Äôs the serverless technology?  Containers are, in essence, simply packaged mini-servers that run on a container host.  This is, in fact, just a kind of server!  So it turns out that containers are almost the enemies of serverless technologies! ‚Äù <br><br>  Good question, really.  I‚Äôm sure there are two elements in container architectures whose proper organization will allow containers to contribute to serverless platforms.  This is serverless container hosting and automatic container maintenance. <br><br><h3>  Serverless Container Hosting </h3><br>  Container clusters are an efficient mass hosting platform.  Containers, in comparison with virtual machines, can actually increase the density of workload placement. <br><br>  However, to switch to serverless technologies, you need to forget about the model of a constantly working, waiting for virtual machine tasks.  We need call-based billing on a detailed measurement of the resources consumed. <br><br>  The first mass proposal that implements this is <a href="https://azure.microsoft.com/en-us/services/container-instances/">Azure Container Instances</a> , a preliminary version of this service was released in July 2017.  This solution allows you to call containers on demand, without having to think about the infrastructure on which they will run.  Want to deploy a container instance on a single virtual processor with two gigabytes of memory? <br><br><pre><code class="hljs mel">az <span class="hljs-keyword"><span class="hljs-keyword">container</span></span> create --name JouniDemo --<span class="hljs-keyword"><span class="hljs-keyword">image</span></span> myregistry/nginx-based-demo:v2 --cpu <span class="hljs-number"><span class="hljs-number">1</span></span> --<span class="hljs-keyword"><span class="hljs-keyword">memory</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> --registry</code> </pre> <br>  It is done.  The payment will include $ 0.0025 per container call, plus - $ 0.0000125 per second per gigabyte and the processor core.  Thus, if you run it for 10 seconds, you will be taken $ 0.002875.  If you do this hourly during the month, the cost of the service will be $ 2.07. <br><br>  Before us is microbilling in action, and such a payment model can be, in fact, very effective.  You do not need to have a virtual machine for batch tasks, and if you urgently need a large amount of resources, a serverless container will provide them in seconds, instead of a much longer time that is needed to launch a cluster of virtual machines. <br><br>  But even taking into account the possibility of convenient hosting of serverless containers, we still have a dilemma about containers containing servers, that is, the question: "How to upgrade the OS in the base image?". <br><br><h3>  Container service and automation </h3><br>  One of the serverless technology dogmas is to allow the developer to focus on the functionality, not on the maintenance of the infrastructure.  Containers are a great tool, but by definition, they come with some additional load in the form of support for a containerized environment. <br><br>  You create an application by selecting the base image of the operating system, adding layers with various necessary services to this image, and finally integrating your application into the image.  By releasing a new version, you simply rebuild the image of the container.  However, the question remains.  Given that the OS and dependencies are built into the image, how will they be updated?  How will a fresh Windows patch or a new Linux kernel security patch get into a running application? <br><br>  Thinking about issues like this goes against the nature of serverless computing.  Maintaining the dependencies of the environment is not something that a serverless developer should do, so this task should be automated. <br><br>  However, the boundary between serving the environment and making critical decisions is blurred.  For example, a typical website will benefit from an update of the operating system, nothing dangerous in this action seems to be found.  But where to draw the line between automatics and decisions that a person makes?  Should the web server be updated without your knowledge?  Should we, for example, automatically install a new version of Node.js? <br><br>  This is a tricky problem, one that cannot be overlooked.  To continue this discussion, I recommend listening to a few minutes of interviews with <a href="https://medium.com/%40SteveLasker">Steve Lasker</a> from Microsoft ( <a href="https://www.dotnetrocks.com/%3Fshow%3D1459">.NET Rocks # 1459</a> , approximately 37th minute). <br><br>  Here you can argue for a very long time, this is beyond the scope of this material, however, try to imagine a future that looks like this: <br><br><ul><li>  Your containers are equipped with an automated testing system that checks key functionality of the workload. <br></li><li>  The platform on which the container is executed knows the details of updating the base operating system (for example, something like: ‚ÄúAlpine Linux 14.1.5 has a critical security update‚Äù). <br></li><li>  The platform can independently verify the performance of the container after installing new patches.  When the base image is updated, it can try to reassemble the application container in advance, run the test suite and send you a report of the results. <br></li><li>  You can even get an automatic update based on the rules.  For example: "When a critical OS update is released, automatically update the image of a running application in the event that none of the tests fail." <br></li></ul><br>  With this approach, it suddenly turns out that containerized servers are becoming a model of serverless computing.  We have not yet grown to a service of this level, but this is the industry's development path. <br><br>  Containers allow you to organize much more complex workloads than simple FaaS frameworks operating with small code fragments.  Containers mitigate the side effects of working with dependencies.  They are much more powerful than other technologies, aimed at solving the problems of the developer. <br><br><h2>  <font color="#3AC1EF">Results</font> </h2><br>  In the title of this material there is a question: "When ...".  I think, quite obvious answer: "not now".  In existing platforms of serverless computing, there are enough shortcomings. <br><br>  For example, performing 24/7 container load on Azure Container Instances is too expensive.  For such a task is better suited virtual machine.  Full automation of the OS update in a virtual machine is another challenge.  And automation of container service is also not visible yet.  Further, logging and monitoring in FaaS products is a constant headache for developers who use AWS or Azure.  What about decent support for Windows containers?  ‚ÄúWe are working on it,‚Äù - so far nothing else can be heard in response. <br><br>  However, tools improve very quickly.  Both server-based functions-based calculations and flowchart-based systems have seriously advanced over the past year.  Container technologies are still under active development, but their relevance is doing its job. <br><br>  Further, the concept of load sharing into small parts, the concept of microservices, is closely related to the idea of ‚Äã‚Äãserverless technologies.  In order to get the most out of serverless workload management frameworks, it would be nice to first find these workloads.  This is another area where intensive development is underway.  Services like the <a href="https://azure.microsoft.com/en-us/services/event-grid/">Azure Event Grid</a> allow you to create connections between various serverless platforms. <br><br>  For example, you can associate AWS Lambda and Azure Logic Apps, and, in the event of some events, run the container.  All of this, in general, is from the same opera: small, event-based, problem-solving workloads work together to solve a big task. <br><br>  When that future, which we are discussing here comes, on new platforms it will be possible to place even applications of previous generations, which will now depend much less on infrastructure.  In addition, it is worth noting that the transition to serverless computing will require a new approach to designing applications, even fairly modern ones designed for work in the cloud. <br><br>  In general, it can be said that the serverless technology industry is developing dynamically and in the future we will have a lot of new and interesting things. <br><br>  Dear readers!  Do you use serverless computing? </div><p>Source: <a href="https://habr.com/ru/post/336634/">https://habr.com/ru/post/336634/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../336622/index.html">Submit the cool project: utbone core library for unit testing</a></li>
<li><a href="../336624/index.html">Heading "We read articles for you." August 2017</a></li>
<li><a href="../336626/index.html">Interview with Sergey Vakula: ‚ÄúI don‚Äôt believe that blockchain and cryptocurrency will become massive‚Äù</a></li>
<li><a href="../336630/index.html">Linux graphical environment without a single break</a></li>
<li><a href="../336632/index.html">Developing games for the console at the Arduino summer camp</a></li>
<li><a href="../336636/index.html">How to prepare for the ISTQB exam? Testers of the Krasnodar studio Plarium share their experience</a></li>
<li><a href="../336638/index.html">Links around the blocks</a></li>
<li><a href="../336640/index.html">UPS on lithium-ion batteries: understand the pros and cons of the example of Schneider Electric products</a></li>
<li><a href="../336642/index.html">Deep diving into Windows Server and Docker containers - Part 2 - Implementing Windows Server containers (translation)</a></li>
<li><a href="../336644/index.html">5 interesting ICO in September 2017: lead generation, online payments and search for restaurants</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>