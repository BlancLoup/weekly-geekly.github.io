<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Three-dimensional Flash engine - Papervision3D. How and with what it is eaten</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Papervision3D is a class library for ActionScript 3.0 that allows you to create full-fledged 3D flash movies. 
 Thus, the user is not required to down...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Three-dimensional Flash engine - Papervision3D. How and with what it is eaten</h1><div class="post__text post__text-html js-mediator-article"><img src="http://pics.livejournal.com/kam88/pic/0009t6f5"><br><br>  <b>Papervision3D</b> is a class library for ActionScript 3.0 that allows you to create full-fledged 3D flash movies. <br>  Thus, the user is not required to download any alternative plug-ins (as was the case with <a href="http://ru.wikipedia.org/wiki/VRML">VRML</a> , for example), except for the Flash Player itself. <br><br>  So, what makes Papervision3D: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      - Add embedded primitives to the flash movie: Plane, Sphere, Cylinder, Cone, Cube, Paperplane, Arrow <br>  - Import models created in 3D-editors, along with animation. <br>  - Apply uniform colors, bitmaps, movie clips and even streaming video to objects as materials <br>  - Use light sources <br>  - Impose built-in flash filters (Blur, Glow, etc.) on 3D objects <br>  - Manage individual vertices and faces of objects.  <a href="http://real-design.ru/work/my/pv3d/textureMaterialTest/">Example</a> <br>  - Assign event handlers to 3D objects and materials (click, mouse hover, etc.) <br><br>  Do not forget that Papervision3D is demanding of user resources, so you should not download a movie with a large number of models and stick to the <b>maximum number of facets 3000</b> <br><br>  In this review article I want to tell a little about the engine itself and show its use, using the example of creating a rotating sphere.  It is assumed that the reader is familiar with the basics of programming in ActionScript 3.0 <br><br><a name="habracut"></a><br><h6>  <b>Install Papervision3D</b> </h6><br>  So, download and install the latest version of the library <a href="http://code.google.com/p/papervision3d/">from here.</a> <br>  The article used the Papervision3D version 2.1.932 and  the engine is periodically updated, some things are added and changed, then for full compatibility you can download this version <a href="">here</a> <br><br>  I use one global folder to store all classes, so the installation is to copy the contents of the archive into this folder: <br><br> <a href="http://pics.livejournal.com/kam88/pic/0009ske2"><img src="https://habrastorage.org/getpro/habr/post_images/e4f/b32/3d9/e4fb323d9296c2c4b823e50ff330da26.jpg"></a> <br><br>  Then in the flash settings I added the path to this global folder with classes: <br><br> <a href="http://pics.livejournal.com/kam88/pic/0009qetb"><img src="http://pics.livejournal.com/kam88/pic/0009qetb/s640x480"></a> <br><br>  Thus, I do not have to copy additional classes to the folder with each new project (of course, unless I need to send the source code to someone) <br><br><h6>  <b>Theory</b> </h6><br>  Before proceeding directly to the code, let's look at the theory to understand how Papervision3D works. <br><br>  As you know, the flash uses a two-dimensional space and a left-handed Cartesian coordinate system (‚ÄúLeft-handed cartesian coordinate system‚Äù) - this is when the origin of coordinates starts in the upper left corner of the screen, i.e.  the higher the ‚ÄúY‚Äù value, the lower the object is located on the stage, and the higher the ‚ÄúX‚Äù coordinate, the more to the right: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f42/f5c/0c2/f42f5c0c2ea24e097cfb9fdaa28c4340.jpg"><br><br>  In Papervision3D, the space is three-dimensional, which means a new coordinate is added - ‚ÄúZ‚Äù.  And the entire report starts from the middle of the screen, though unlike, for example, from 3dsmax, the ‚ÄúY‚Äù coordinate is responsible for the ‚Äúheight‚Äù, and ‚ÄúZ‚Äù, for the ‚Äúdepth‚Äù: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d8c/30c/9f2/d8c30c9f2ac4f92abc90a123d7b10d5c.jpg"><br><br>  So, each of our new project in Papervision3D consists of the following parts: <br>  1. <b>Scene</b> - a container in which all our objects are located. <br>  2. <b>Camera</b> - ‚Äúeyes‚Äù with which we look at the scene (by default, it is located at the coordinates x: 0, y: 0, z: -1000) <br>  3. <b>Viewport</b> - a projection window through which our scene is visible.  You can draw an analogy with 3dsmax, in which there are 4 projection windows: "Top", "Left", "Front" and "Perspective" <br>  4. <b>Objects</b> - actually what we see on the stage - 3D objects - primitives (Plane, Sphere, Cube, etc.) or downloadable models created in 3D packages (in Papervision3D known as ASCollada Object) <br>  5. <b>Materials</b> - textures that are superimposed on our 3D objects (WireframeMaterial, ColorMaterial, MovieMaterial, etc.) <br>  6. <b>Render Engine</b> - the engine that draws our objects on the scene. <br><br>  Incidentally, the rendering process consists of three stages: initialization (definition of the scene, cameras, objects, etc.), projection (the location of the vertices of the objects so that we see them three-dimensional on a two-dimensional plane) and the actual drawing itself (connecting the vertices between themselves and ‚Äústretching‚Äù the materials on the object).  All this fascinating process is called ‚ÄúRendering pipeline‚Äù <br><br>  I think the theory is enough for this.  So let's move on to practice :) <br><br><h6>  <b>Practice</b> </h6><br>  To get started, we need to initialize the engine: add a scene, a viewport, a camera, a rendering engine. <br>  But every time to create the same standard objects for too long, so the developers have provided the BasicView class, in which the objects we need are created.  To use it, it is enough to create our new class through the extension of the class BasicView.  In general, it looks like this: <br><br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">package { <br> import flash.events.Event; <br> <br> import org.papervision3d.view.BasicView; <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">class</font> PV3DClass extends BasicView { <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">function</font> PV3DClass() { <br> <br> stage.frameRate = 40; <br> init(); <br> startRendering(); <br> <br> } <br> <br> <font color="#0000ff">private</font> <font color="#0000ff">function</font> init(): <font color="#0000ff">void</font> { <br> <font color="#008000">//     3D </font> <br> } <br> <br> <font color="#0000ff">override</font> <font color="#0000ff">protected</font> <font color="#0000ff">function</font> onRenderTick(e:Event= <font color="#0000ff">null</font> ): <font color="#0000ff">void</font> { <br> <font color="#008000">//      ENTER_FRAME</font> <br> super.onRenderTick(); <br> } <br> <br> } <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  I saved this class as a snippet and when I create a new file I simply copy it, replacing the class and constructor names.  The snippet box can be downloaded from here for Flash CS4 <a href="http://theflashblog.com/%3Fp%3D771">theflashblog.com/?p=771</a> , for Flash CS3: <a href="http://theflashblog.com/%3Fp%3D346">theflashblog.com/?p=346</a> <br><br>  Now we have everything to add our first 3D object.  In this article, we simply create a sphere and make it rotate around the X and Y axes. <br><br>  The constructor for creating a sphere looks like this: <br>  Sphere (material: MaterialObject3D = null, radius: Number = 100, segmentsW: int = 8, segmentsH: int = 6) <br>  material - the material with which our sphere will be covered.  If you leave null, which we will do in our example, the standard material WireframeMaterial will be used <br>  radius - the radius of our sphere <br>  segmentsW - the number of horizontal segments <br>  segmentsH - the number of segments vertically <br><br>  So, our updated class looks like this (new lines in bold): <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">package { <br> import flash.events.Event; <br> <br> import org.papervision3d.view.BasicView; <br> <font color="#008000">// ,   :</font> <br> <b>import org.papervision3d.objects.primitives.Sphere;</b> <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">class</font> FirstPV3D extends BasicView { <br> <font color="#008000">//     :</font> <br> <b><font color="#0000ff">private</font> <font color="#0000ff">var</font> sphere:Sphere;</b> <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">function</font> FirstPV3D() { <br> <br> stage.frameRate=40; <br> init(); <br> startRendering(); <br> <br> } <br> <br> <font color="#0000ff">private</font> <font color="#0000ff">function</font> init(): <font color="#0000ff">void</font> { <br> <font color="#008000">//      300px:</font> <br> <b>sphere = <font color="#0000ff">new</font> Sphere( <font color="#0000ff">null</font> , 300);</b> <br> <font color="#008000">//    :</font> <br> <b>scene.addChild(sphere);</b> <br> } <br> <br> <font color="#0000ff">override</font> <font color="#0000ff">protected</font> <font color="#0000ff">function</font> onRenderTick(e:Event= <font color="#0000ff">null</font> ): <font color="#0000ff">void</font> { <br> <font color="#008000">//      X, Y:</font> <br> <b>sphere.localRotationY++; <br> sphere.localRotationX++;</b> <br> <br> super.onRenderTick(); <br> } <br> } <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  We test the video and get our sphere: <br><br> <a href="http://pics.livejournal.com/kam88/pic/0009rzcz"><img src="https://habrastorage.org/getpro/habr/post_images/3ad/376/3de/3ad3763de69233ee2594a5dd701c4e5c.jpg"></a> <br><br><h6>  <b>Conclusion</b> </h6><br>  Well, it seems to be all about the basics.  I myself am in the process of studying this engine and <a href="http://kam88.livejournal.com/tag/pv3d">experimenting</a> with it, and I hope that with this article I will encourage you to study this topic, because  it opens up great opportunities for us on the web. <br><br>  Sources of this flash drive <a href="">here</a> ( <a href="http://narod.ru/disk/18403483000/pv3d_habrArticle.zip.html">mirror</a> ) <br><br>  And lastly links: <br><br>  <a href="http://code.google.com/p/papervision3d/">Papervision3D page on Google Code</a> <br>  <a href="http://papervision3d.googlecode.com/svn/trunk/as3/trunk/docs/index.html">Documentation</a> ( <a href="http://docs.pv3d.org/">mirror</a> ) <br>  <a href="http://blog.papervision3d.org/">Official blog engine</a> <br>  <a href="http://pv3d.org/">John Lindquist Blog on Papervision3D</a> <br><br>  Flash Gallery using Papervision3D: <br>  <a href="http://www.papervisionshowcase.com/">www.papervisionshowcase.com</a> <br>  <a href="http://dailypv3d.wordpress.com/">dailypv3d.wordpress.com</a> <br><br>  Read about Papervision3D: <br>  Book " <a href="http://www.amazon.com/Papervision3D-Essentials-Paul-Tondeur/dp/1847195725/ref%3Dsr_1_1%3Fie%3DUTF8%26s%3Dbooks%26qid%3D1267479825%26sr%3D8-1">Papervision3D Essentials</a> " by Paul Tondeur and Jeff Winder <br>  <a href="http://blogs.oreilly.com/cgi-bin/mt/mt-search.cgi%3Fblog_id%3D34%26tag%3Dpapervision3d%26limit%3D20%26IncludeBlogs%3D34">Articles on InsideRIA</a> <br><br>  <a href="http://twitter.com/darkwark">Follow me on twitter</a> </div><p>Source: <a href="https://habr.com/ru/post/86114/">https://habr.com/ru/post/86114/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../86102/index.html">Contest of useful ideas</a></li>
<li><a href="../86103/index.html">The Adventures of a Freelancer or the Life I Live</a></li>
<li><a href="../86109/index.html">Yandex does not censor API, but censors widgets</a></li>
<li><a href="../86111/index.html">Client-Executive on the example of leukemia</a></li>
<li><a href="../86113/index.html">10 years of the era of mp3. Is there a result?</a></li>
<li><a href="../86115/index.html">Are you ready to introduce a microchip?</a></li>
<li><a href="../86117/index.html">Apple sued HTC for patent infringement</a></li>
<li><a href="../86118/index.html">Jobs Announces HTC War</a></li>
<li><a href="../86119/index.html">Keyboard review of the SE X10 Mini Pro and comparison with the X10 Mini</a></li>
<li><a href="../86120/index.html">Apple accuses HTC of violating 20 patents</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>