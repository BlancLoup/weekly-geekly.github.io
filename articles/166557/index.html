<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Trolley Scanner</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="From the first to the thirteenth with songs, jokes, dances ... 
 What else to do something from the first to the thirteenth? 
 Accident 

 Corporate p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Trolley Scanner</h1><div class="post__text post__text-html js-mediator-article">  <i>From the first to the thirteenth with songs, jokes, dances ...</i> <i><br></i>  <i>What else to do something from the first to the thirteenth?</i> <br>  Accident <br><br>  Corporate parties died down, and the New Year inexorably approached.  We did not make an exception and arranged a corporate party with traditional libation in <a href="http://maximilians.ru/samara/">Maximilians</a> .  After it, the techies of the company decided that the celebration did not have enough IT, and the second one was held - IT - corporate with the use of X-Box 360, Kinect and meter TV.  During his time many funny and, most importantly, realizable ideas came to mind.  Perhaps only those who have ever used Kinect can truly appreciate them. <br><br>  One of the thoughts was to build some unusual and useful unit with the possibility of daily use. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Remembering the recent adventures with scanning of something and running around the cabinets, we decided to make our scanner more mobile. <a name="habracut"></a><br><br>  Under this case, an audit of the "pieces of iron" was made. <br><br>  Found: <br>  <a href="http://www.intel.com/cd/products/services/emea/rus/motherboards/desktop/DN2800MT/overview/490069.htm">Intel DN2800MT</a> <br>  2 x SO-DIMM DDR3 4Gb Patriot <br>  <a href="http://www.ocztechnology.com/ocz-nocti-msata-ssd.html">OCZ mSATA SSD 60Gb</a> <br>  ASUS 19V laptop power supply (now replaced with a less powerful FPS) <br>  <a href="">D-Link DWA-125</a> <br>  <a href="">HP ScanJet G2410 Scanner</a> <br>  Office chair on wheels with back support broken off by supporters. <br><br>  Of the necessary tools available were used Zalman VE200, Debian 6.0.5 amd64 netinst option in the form of iso, usb-keyboard, ethernet patch cords, Olympus FE-115. <br><br>  <i>The tenth seems to have nothing to do ...</i> <i><br></i>  <i>Fine!</i>  <i>Tenth treat liver</i> <br>  Accident <br><br>  Putting it all together and we get something like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7e7/83e/a8a/7e783ea8a05b630cac49e3ea95870c63.jpg" alt="image"><br><br>  The design is absolutely silent after installing Debian on an SSD and disabling the VE200. <br><br>  Debian set in the minimum version + ssh (it will be needed for the second / spare / direct access to the scanner). <br><br>  Now let's prepare Debian for working with ssd in read-only mode.  Since the ‚Äúcart‚Äù is a mobile unit, it will be completely uninteresting to restore the fs. <br><br>  For os to work, you will need an entry in / tmp, / var / tmp, / run, and all sorts of / var / * (such as lock and log).  Let's transfer them to memory. <br><br><blockquote>  cd / var rm -rf tmp run lock log ln -s / dev / shm ln -s / dev / shm lock ln -s / dev / shm run ln -s / dev / shm log <br>  cd / etc / network rm -rf run ln -s / dev / shm run <br>  cd / var / lib rm -rf urandom ln -s / dev / shm urandom </blockquote><br><br>  Disable unnecessary to us, but enabled by default services: <br><br><blockquote>  update-rc.d cron remove <br>  update-rc.d exim4 remove <br>  update-rc.d nfs-common remove <br>  update-rc.d port map remove </blockquote><br><br>  In order to be able to use the directories transferred to the memory, you need to create directory structures there every time you boot.  We do this through the initd script /etc/init.d/tmpfs, incl.  and for not really necessary directories. <br><br><blockquote>  #! / bin / bash <br><br>  ### BEGIN INIT INFO <br>  # Provides: tmpfs <br>  # Required-Start: <br>  # Required-Stop: <br>  # X-Stop-After: sendsigs <br>  # Default-Start: 2 3 4 5 <br>  # Default-Stop: 0 1 6 <br>  ### END INIT INFO <br><br>  mount tmpfs -t tmpfs / tmp <br>  cd / tmp <br>  mkdir exim4 sshd log <br>  chmod 750 exim4 <br>  chown Debian-exim: Debian-exim exim4 <br>  touch utmp <br>  chmod 660 utmp <br>  chgrp utmp utmp <br><br>  cd log <br>  mkdir apt exim4 fsck installer news <br>  chmod 2750 exim4 <br>  chown Debian-exim: adm exim4 <br>  touch dmesg wtmp lastlog <br>  chmod 660 wtmp lastlog <br>  chgrp utmp wtmp lastlog <br><br>  exit 0 </blockquote><br><br>  And connect it to the download: <br><br><blockquote>  chmod 755 /etc/init.d/tmpfs <br>  update-rc.d tmpfs defaults </blockquote><br><br>  Now you need to add / tmp to / etc / fstab. <br><br><blockquote>  echo "tmpfs / tmp tmpfs defaults 0 0" &gt;&gt; / etc / fstab </blockquote><br><br>  Since there will be no logs in case of anything, you can configure remote logging just in case: <br><br><blockquote>  echo "*. *; auth, authpriv.none @ 10.0.0.21" &gt;&gt; /etc/rsyslog.conf /etc/init.d/rsyslog restart </blockquote><br><br>  Here 10.0.0.21 is the IP address of the server that receives our logs. <br><br>  Rebooting ... Editing mount parameters / to <b>noatime, ro.</b> <br><br><blockquote>  sed -ir 's / \ / \ s + ext4 \ s + defaults / \ / ext4 noatime, ro /' / etc / fstab </blockquote><br><br>  And we got a device that is not afraid of a sudden power outage and loads in 20 seconds.  But we do not need it faster. <br><br>  Now let's do the actual scanner.  Install the required package, enable autorun and add the network for which it will work: <br><br><blockquote>  aptitude install -y sane <br>  sed -i 's / RUN = no / RUN = yes /' / etc / default / saned <br>  echo "10.0.0.0/24" &gt;&gt; /etc/sane.d/saned.conf </blockquote><br><br>  The HP 2400 is not supported in sane, and in Debian there is nothing for it.  But there is such a repository for Ubuntu.  Connect it to our cart: <br><br><blockquote>  echo "deb <a href="http://ppa.launchpad.net/lion-simba/hp2400/ubuntu">ppa.launchpad.net/lion-simba/hp2400/ubuntu</a> karmic main" &gt;&gt; /etc/apt/sources.list <br>  aptitude update </blockquote><br><br>  Install the found hp2400 packages: <br><br><blockquote>  aptitude install -y libsane-hp2400x64 xsane </blockquote><br><br>  The scanner is ready.  Check: <br><br><blockquote>  # scanimage -L <br>  device `net: 10.0.0.3: genesys: libusb: 004: 002 'is a Hewlett Packard ScanJet 2400c flatbed scanner </blockquote><br><br>  Here 10.0.0.3 is the IP of the trolley over the wired network. <br><br>  Now we will make the cart a little more mobile.  To do this, connect to the network via wifi, especially since we have a DWA-125. <br><br>  aptitude install -y wireless-tools firmware-ralink wpasupplicant <br><br>  In / etc / network / interfaces we enter the following to assign a static IP address: <br><br><blockquote>  auto wlan0 <br>  iface wlan0 inet static <br>  wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf <br>  address 10.0.0.241 <br>  netmask 255.255.255.0 <br>  gateway 10.0.0.1 <br>  dns-nameservers 10.0.0.1 10.0.0.2 </blockquote><br><br>  The gateway and DNS, of course, you can not specify, but what if you need to update or deliver something? <br><br>  At the same time, do not forget to remove allow-hotplug eth0 or auto eth0 from the same config: <br><br><blockquote>  sed -ir 's / allow-hotplug eth0 //' / etc / network / interfaces <br>  sed -ir 's / auto eth0 //' / etc / network / interfaces </blockquote><br><br>  Since the wifi network is WPA, we also need the config for wpasupplicant that we already referred to: /etc/wpa_supplicant/wpa_supplicant.conf: <br><br><blockquote>  ctrl_interface = / var / run / wpa_supplicant <br>  ctrl_interface_group = root <br>  network = { <br>  ssid = "our point" <br>  key_mgmt = WPA-PSK <br>  psk = "our key" <br>  } </blockquote><br><br>  <i>Eleventh solve the problem</i> <i><br></i>  <i>How not to go to friends to the country.</i> <i><br></i>  <i>But still going.</i>  <i>The result is known:</i> <i><br></i>  <i>Including the twelfth smoked up.</i> <br>  Accident <br><br>  Now let's make our cart physically mobile.  First, take a chair, unscrew the knobs and fastening screws from it, open and evaluate the interior space: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/668/657/2d9/6686572d92022a5cbf1650d997d16074.jpg" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/36f/eb4/08a/36feb408a43a435ec91cbed060b99969.jpg" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/d9e/09e/388/d9e09e3889d6ae5f7b726a2839b80733.jpg" alt="image"><br><br>  More than enough space to accommodate the mATX board, power supply, a pair of cords, and a wifi usb card.  But contacts with the board should not touch the metal parts of the chair.  To do this, rummaging in the closets, we find something that can be used for fastening to a chair and as racks for the board. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/555/6d2/a1c/5556d2a1ce5b0791d37215b4719e1751.jpg" alt="image"><br><br>  And it turned out well: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/06e/bc7/ac3/06ebc7ac3e9830b96ea3d791963c05d6.jpg" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/f59/2da/8ad/f592da8ad95dfd2d740ab39052aaffed.jpg" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/26e/c34/a46/26ec34a468dbae0b195c31b147c0d7ea.jpg" alt="image"><br><br>  The assembled chair looks quite natural: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a35/840/189/a3584018933a14822466244bfa0beda6.jpg" alt="image"><br><br>  But if to glance from below, high technologies become noticeable. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/275/64c/983/27564c983097b304b23535351aa87545.jpg" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/0cd/d5a/5dc/0cdd5a5dc0beb6dcd452ef4586117f82.jpg" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/520/c3a/c4d/520c3ac4dd44055802fe53eb163e8ed9.jpg" alt="image"><br><br>  Then we will put the scanner on top, but first you need to resolve the issue of nutrition.  The extra UPS was not at hand, so we decided to use a regular electric extension cord for 3 seats.  The length of the cord is more than 10 meters, which again gives tangible mobility.  The extension cord is attached to the chair with plastic ties. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ee5/f11/2a5/ee5f112a5747ba65dc5b3b9da66e1e26.jpg" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/9de/4d9/b67/9de4d9b67fc8552ef79401bc6e7ae21b.jpg" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/2c3/18f/75b/2c318f75b6ed265e34c4a8c57e50c229.jpg" alt="image"><br><br>  Here is the complete version of the ‚Äúscanning trolley‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d01/1fe/051/d011fe051e795d4cd699df30a508c9f9.jpg" alt="image"><br><br>  As a final hooliganism, a shredder was hoisted on the same construction.  Scanned the document and immediately destroyed without departing from the cash register. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e40/b56/231/e40b56231f672691cdf2509e69ff0818.jpg" alt="image"><br><br><br>  <i>How do you want to work!</i> <i><br></i>  <i>To the machine, to the counter, anywhere!</i> <br>  Accident <br><br>  Happy holidays!  Hope you smiled reading this. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/22d/a8e/f90/22da8ef908b24fda860d6ea5d67ecc65.jpg" alt="image"></div><p>Source: <a href="https://habr.com/ru/post/166557/">https://habr.com/ru/post/166557/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../166537/index.html">The idea for a million or a new market with learning blackjack and sex technique</a></li>
<li><a href="../166539/index.html">Lifehack for Same-Origin-Policy; Google Chrome and others</a></li>
<li><a href="../166543/index.html">Release of fuse-exfat 1.0.0</a></li>
<li><a href="../166549/index.html">Paul Graham: How to find an idea for a startup (part one)</a></li>
<li><a href="../166553/index.html">In the footsteps of New Year's corporate events</a></li>
<li><a href="../166561/index.html">Mobile Officer at Aruba Networks</a></li>
<li><a href="../166563/index.html">GitHub will say everything for you</a></li>
<li><a href="../166565/index.html">In France, propose to introduce a tax on the collection of user data</a></li>
<li><a href="../166567/index.html">Knowledge of the subject area is useless. When predictions become a game, experts lose</a></li>
<li><a href="../166569/index.html">Build a business, not a ‚Äúexit strategy‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>