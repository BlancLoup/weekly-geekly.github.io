<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hosting for a dollar</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This material is not an official position of the company and contains only a review and opinion of an employee who places his own web projects with us...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hosting for a dollar</h1><div class="post__text post__text-html js-mediator-article">  <i>This material is not an official position of the company and contains only a review and opinion of an employee who places his own web projects with us and his webmasters colleagues.</i> <br><br>  There comes a time when the most ordinary virtual hosting becomes insufficient for solving a certain kind of tasks.  For example, it is not possible to customize and install a specific operating system, or the hosting company administrators themselves will not always allow installing the necessary script for security purposes.  And somehow it is not very pleasant to sit on the ‚Äúneedles‚Äù due to the fact that another unfriendly virtual hosting neighbor will start sending spam and this, in consequence, can affect all projects that are hosted at this IP address.  Technical support naturally blocks such ‚Äúclever men‚Äù right away, but if this problem is repeated with this IP not for the first time, then it usually gets to the bases, and difficulties can begin with website promotion. <br><img src="https://habrastorage.org/files/06e/890/2da/06e8902daf874316807532abeddca9dc.jpeg"><br>  The guys and I rented several ‚Äúpieces‚Äù of disk space on the hosting server for quite a long time and, until all issues were resolved, we didn‚Äôt even think about moving.  To be honest, in principle, most issues can now be resolved.  We often go to meet our customers and provide one-time access to install the script or offer to transfer the user to another IP address in the event of the next spammer, which may end up as a regular novice webmaster.  All questions can be solved, but for this it is necessary to additionally open a ticket and make extra ‚Äúgestures‚Äù that take time. <a name="habracut"></a><br><br>  And here comes a moment when it becomes just too lazy to do this, because there are more important things.  Yes, and every time to jerk administrators somehow bothers, who knows, maybe conscience wakes up, or maybe you just want ‚Äúfreedom‚Äù.  Freedom in working with your own small, but precisely your own project, and you are restricted and you have to additionally ask about the possibility to step left or right in the ticket, and it‚Äôs still far from a fact that this will be well received by technical support.  We were tired of all this with the guys and we decided to move to a small virtual server. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      At the time of our migration, the hosting company has been providing a cloud VPS service for a year.  Honestly, these virtual ‚Äúmachines‚Äù had both pleasant moments in history and those that I didn‚Äôt really want to remember.  However, during the operation most of the shortcomings were eliminated and after a rather long period of time no problems were observed anymore. <br><br>  So, I did a newsletter among several of my webmaster acquaintances who had been posting their projects with us a long time ago, and offered to take the first step towards that ‚Äúfreedom‚Äù, which had already been talked about for quite some time.  The term of validity of our current virtual hosting packages allowed us not to hurry too much and think things through well.  By the way, even at this moment, the material on the review of free hosting control panels was being prepared for publication, and in particular the work on one of them, namely the Vesta panel, made it possible to tip the balance in favor of moving to a small virtual server. <br><br>  I remember with nostalgia the work on the <a href="https://habrahabr.ru/company/ua-hosting/blog/274029/">article</a> about the ‚Äúgoddess‚Äù Vesta, and in general about the collaboration with its development team.  I think this is not the last collaboration and the guys will please us more than once with interesting additions and updates to their wonderful panel.  But this publication is not about that, so we will not be distracted. <br><br>  They agreed to carry out the move after the people have moved away a bit from the New Year holidays, there will just be enough time to check everything and figure out some points in administration.  The guys entrusted all the organizational issues to me, because I brewed all this ‚Äúmess‚Äù with migration.  Well, I think, let's go ... <br><br>  For a start, here are some weighty arguments in numbers.  Do it yourself - at 4 webmasters we rented 2 <a href="http://ua-hosting.company/hosting%3Flanguage%3Drussian">virtual hosting</a> packages SSD BASIC, and paid for it $ 38 per year, before the price was even higher.  When renting the simplest <a href="http://ua-hosting.company/vps%3Flanguage%3Drussian">cloud-based VPS - S</a> in the United States for a year, the price will be about $ 48.  What is the point to pay more?  - you ask.  And let's compare resources and, I think, a similar question will not appear again. <br><br>  The first point is the disk quota.  Both packages hosting SSD BASIC in the amount gave us no more than 20 GB of disk space on the server, against about 40 GB on a virtual machine.  However, I want to immediately inform you that after installing the operating system (OS) on your VPS, we ‚Äúrolled‚Äù CentOS 6, 31 GB of disk space left: <br><br><pre><code class="bash hljs">[root@SKRS1666 ~]<span class="hljs-comment"><span class="hljs-comment"># df -h Filesystem Size Used Avail Use% Mounted on /dev/mapper/vg0-root 33G 870M 31G 3% / tmpfs 499M 0 499M 0% /dev/shm /dev/vda1 485M 47M 413M 11% /boot /dev/mapper/vg0-temp 2.0G 3.1M 1.9G 1% /tmp</span></span></code> </pre> <br>  And since there is nowhere without a convenient graphical management interface, we also installed the Vesta panel, which ‚Äúconsumed‚Äù about 1 GB of disk space.  As a result of all these simple settings, we and the guys got a guaranteed 30 GB on a solid-state drive of a virtual server: <br><br><pre> <code class="bash hljs">[root@SKRS1666 ~]<span class="hljs-comment"><span class="hljs-comment"># df -h Filesystem Size Used Avail Use% Mounted on /dev/mapper/vg0-root 33G 1.7G 30G 6% / tmpfs 499M 0 499M 0% /dev/shm /dev/vda1 485M 74M 387M 16% /boot /dev/mapper/vg0-temp 2.0G 3.1M 1.9G 1% /tmp</span></span></code> </pre><br>  The second point is traffic.  If on 2 virtual hosting packages we could consume no more than 200 GB per month, then on the VPS - S the package is already provided in 4 TB (~ 4000 GB).  The difference is felt, right?  And if you add that each virtual ‚Äúmachine‚Äù should have a connection channel of 1 Gbit / s, then I think many of you will want to check it, at least.  Well, let's check.  Connect to the server via SSH and launch the following command in the console: <br><br><pre> <code class="bash hljs">wget -O - https://raw.github.com/sivel/speedtest-cli/master/speedtest_cli.py | python</code> </pre><br>  And we look at the result: <br><br><pre> <code class="bash hljs">Retrieving speedtest.net configuration... Retrieving speedtest.net server list... Testing from XxxxxXxx Netherlands BV (xxx.xxx.xxx.xxx)... Selecting best server based on latency... Hosted by NFOrce Entertainment BV (Amsterdam) [0.00 km]: 3.338 ms Testing download speed........................................ Download: 942.47 Mbit/s Testing upload speed.................................................. Upload: 363.98 Mbit/s</code> </pre><br>  But we want to check the virtual server and locations in the United States: <br><br><pre> <code class="bash hljs">Retrieving speedtest.net configuration... Retrieving speedtest.net server list... Testing from XxxxxXxx USA (xxx.xxx.xxx.xxx)... Selecting best server based on latency... Hosted by Fast Serv Networks, LLC (Ashburn, VA) [28.16 km]: 2.708 ms Testing download speed........................................ Download: 194.86 Mbit/s Testing upload speed.................................................. Upload: 315.74 Mbit/s</code> </pre><br>  To be honest, I didn‚Äôt think that there would be more than 100 Mbit / s, as when loading even such a channel into a shelf, the server can ‚Äúeat‚Äù for 30 TB of traffic for a month.  Do you need it?  Your margin of 4 TB with a channel of 1 Gbit / s (which is provided on these virtual servers) can ‚Äúfly‚Äù well, a maximum of 12 hours.  And then what, sit almost the entire month without a server or spend additional funds to upgrade the traffic?  Well, that's true, you need it? <br><br>  Considering the rather serious bandwidth of the server connection and the very small traffic packages, I advise novice traffic generators to monitor the consumption or not to rent this type of servers at all.  They are just not for this kind of task, guys.  Yes, you can take a dozen of these machines and in the amount get more resources than on one dedicated server for the same amount, but certainly not in order to distribute the load between all virtual servers. <br><br>  Such VPS may be of interest to those involved in <a href="https://ru.wikipedia.org/wiki/Email-%25D0%25BC%25D0%25B0%25D1%2580%25D0%25BA%25D0%25B5%25D1%2582%25D0%25B8%25D0%25BD%25D0%25B3">email marketing</a> .  There are a sufficient number of companies that provide services of this kind, and it is very important for such tasks to have a large number of IP addresses.  It‚Äôs just that the data center does not always give the opportunity to order to one dedicated server, say, more than 10 ... 15 IP, which, moreover, also cost money.  And if for the price of one IP you get not only an address, but a whole virtual server.  True, it sounds tempting? <br><br>  The guys and I do not deal with email distribution, because VPS was rented only for the sake of freedom of action on their ‚Äúpiece‚Äù of the server.  We also hoped that the problems with krivorukost and love for freebies, which sometimes turned into troubles with spam, already in the distant past.  But, in order to make my dreams quieter, I decided to install several additional buns on the server.  Not to say that it was a good idea, but first things first. <br><br>  We had little experience in dealing with spam after we started using, for the CMS of one of the projects, as it turned out, a not entirely ‚Äúclean‚Äù module.  Naturally the most correct advice would be - not to use questionable software.  But sometimes you want to get a nice feature.  But just then the nyashny feature turned into a killer feature was really no time for jokes.  Therefore, I went to read the <a href="https://vestacp.com/docs/">dock</a> and parallelly install it on the SpamAssassin virtual server along with ClamAV. <br><br>  Of course, just installing this software is not enough, you need to perform additional configuration.  But honestly, it‚Äôs good that I didn‚Äôt start to do it right away, but first I decided to go to the Vesta control panel in order to activate all <a href="http://vestacp.com/features/">commercial extensions</a> , create users, etc.  I remembered that the panel has quite beautiful and informative load charts, for some reason, I wanted to look at them with at least one eye.  And just here I am a little bit ofigel.  The graph of consumption of RAM was as follows: <br><br><img src="https://habrastorage.org/files/588/365/71b/58836571b2ed4922b1fed9a10f889a2f.png"><br>  I thought it might be a glitch, because I opened the terminal and entered the <b>free</b> command with the <b>-m</b> key, and here is the result I got: <br><br><pre> <code class="bash hljs">[root@lw1666 ~]<span class="hljs-comment"><span class="hljs-comment"># free -m total used free shared buffers cached Mem: 996 933 63 0 26 126 -/+ buffers/cache: 780 216 Swap: 4095 259 3836</span></span></code> </pre><br>  Hmmm ... yes, I think that's what I decided to pump over the ‚Äúmachine‚Äù, but I completely forgot that there is only 1 GB of RAM on board.  I quickly returned to the console and stopped ClamAV using the service <b>clamd stop command</b> : <br><br><pre> <code class="bash hljs">[root@lw1669 ~]<span class="hljs-comment"><span class="hljs-comment"># service clamd stop Stopping Clam AntiVirus Daemon: [ OK ]</span></span></code> </pre><br>  SpamAssassin decided not to touch it yet, since it should not ‚Äúeat‚Äù a lot of resources.  I waited a bit and went to look at the RAM indicators: <br><br><img src="https://habrastorage.org/files/70e/947/55f/70e94755f63747dd96fd97af9cbeab18.png"><br><br>  More than 300 MB of free RAM and now the virtual machine has become easier to "breathe", and I somehow let go.  I think the SpamAssassin stop will free up at least another 100 MB, but I would still like to sort it out and set up a small but spam protection.  I also skipped the idea of ‚Äã‚Äãlaunching the same ClamAV on the instructions of cron and then updating the databases, scanning and automatically sending the results to each user's mailbox.  After that, the next cron job would stop the process and most of the days the server would work as usual.  Theoretically, all these actions can be accommodated in one hour.  But, after meeting with the administrators, I decided not to do this.  Yes, and loading the RAM into the regiment, even for an hour of time, can have a very detrimental effect on the availability of sites, I thought, and postponed the solution of this issue to better times. <br><br>  To begin with, it was necessary to transfer projects to a new place, monitor their work, and after that, install additional buns, and, if necessary, optimize the work of the VPS.  But I also wanted to do everything here and right now. <br><br>  Since I didn‚Äôt grow together with additional protection, I headed to the <a href="http://forum.vestacp.com/viewtopic.php%3Ff%3D28%26t%3D3602">forum</a> in search of a solution for data backup.  While studying the information, I remembered that the Vesta control panel allows you to make backups both locally and upload them via FTP to a remote server.  To do this, simply create an FTP account on some service, and then enter all the necessary data in the corresponding control panel menu.  Yes, our company provides <a href="http://ua-hosting.company/services/backup%3Flanguage%3Drussian">backup</a> service and for quite reasonable money.  But honestly, the guys and I were not ready to increase the hosting budget almost 2 times because of the backup.  Therefore, using the search, we found several services on the Internet where you could get FTP access for free.  As an example of one of them <a href="http://turbobit.net/">Turtobit</a> .  There, the free package has a limitation due to the fact that the total size of files uploaded at a time should not exceed 10 GB, but first we decided that it was enough.  And in the process of working with VPS, we will look, and who knows, we can even set up backup to YandexDisk.  Here everything will depend on the flight of the virtual ‚Äútypewriter‚Äù. <br><br>  So, having received the FTP access data, go to the Server section of the Vesta control panel.  After that we press the Configure button, and going down almost to the bottom, select the BACKUP - Remote backup item, where we enter all the necessary data: <br><br><img src="https://habrastorage.org/files/be7/611/a86/be7611a86a054bb19672e3c17d61c933.png"><br><br>  Immediately after this, I advise you to go into the BACKUP menu and create a backup with your hands to make sure that the setting was carried out correctly.  Honestly, after I saw the first tar archive on the FTP server, it became so peaceful in my heart.  These guys, and mine, too, are now backed up. <br><br><img src="https://habrastorage.org/files/c43/25c/48e/c4325c48ed844acc868837892d6b3c1c.png"><br><br>  Most likely, many more things in the process of VPS will be added, changed or completely reinstalled.  This process can be endless if projects develop and require additional changes in the settings of the server itself.  Yes, with the creation of a virtual server, which would be almost ready for anything, there were some minor difficulties.  But after all, this VPS is a ‚Äúmachine‚Äù of the wrong class, and the tasks to pump the Slavik (ZAZ-1103) right up to the Skoda Octavia Tour were not at all. <br><br>  The guys and I tried to do it cheaply and angrily, and I think we did it.  As a result, each of us received our ‚Äúpiece of freedom‚Äù on our personal virtual server.  Great things start small, and great web projects start their lives on hosting for $ 1 a month.  And if at the same time you completely control the flight of your own, and let a little bit of a ‚Äúpumped-over machine‚Äù, then believe it will be long and successful. <br><br>  <b>PS</b> Since there are still questions on additional protection, I would like to see in the comments all possible opinions on this issue and on setting up such small virtual servers. <br><br>  <b>PPS</b> Do not think, we do not encourage anyone to rent a service, for example, for almost 4 dollars and share it between 4 users, we just got it, and most webmasters have enough virtual hosting without these tambourine dances) <br><br>  <i>This material is not an official position of the company and contains only a review and opinion of an employee who posts his own web projects with his webmasters colleagues.</i> </div><p>Source: <a href="https://habr.com/ru/post/280504/">https://habr.com/ru/post/280504/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../280494/index.html">Cloud Digest # 3: Data Storage, Security and WordPress</a></li>
<li><a href="../280496/index.html">As I wrote skad. Part Seven</a></li>
<li><a href="../280498/index.html">How to wind the counter Google Analytics or Google hates Kazakhstan</a></li>
<li><a href="../280500/index.html">Predicting attendance of ads by content</a></li>
<li><a href="../280502/index.html">Using Open vSwitch with DPDK to transfer data between virtual machines with virtualization of network functions</a></li>
<li><a href="../280506/index.html">Don't miss the online Build conference opening tonight (18:30 MCK)</a></li>
<li><a href="../280508/index.html">DevOps section at the DUMP-2016 conference</a></li>
<li><a href="../280510/index.html">What should be the email-list, and why users unsubscribe from them</a></li>
<li><a href="../280512/index.html">Symfony and command bus</a></li>
<li><a href="../280514/index.html">15 steps to improve usability</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>