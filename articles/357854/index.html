<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to download VPS: your Nextcloud cloud</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="2017 is in the yard: the government spies and blocks websites, large corporations give your personal data to the government or sell it to the side. Yo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to download VPS: your Nextcloud cloud</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/wk/pe/cr/wkpecrg7upg1aifcjmjnshgx1qy.png"><br>  2017 is in the yard: the government spies and blocks websites, large corporations give your personal data to the government or sell it to the side.  You already have a VPN subscription, but in Russia such services are now outlawed.  You rented a <a href="https://habrahabr.ru/company/ruvds/blog/341228/">VPS abroad</a> and go to the network through it, but the power is idling. <br><br>  Install <strong><a href="http://nextcloud.com/">Nextcloud</a></strong> !  It will replace the synchronization of contacts, calendar, to-do list and file storage / exchanger on your smartphone, and it will come down on your PC for Dropbox.  And we will add independence, and we will load the server. <br><br>  Next is a long but not complicated instruction about server rental, installation and configuration of <a href="http://nextcloud.com/">Nextcloud</a> on the server and on PCs / smartphones, including synchronization of contacts and calendar. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Disclaimer </h3><br>  <b>1.</b> I live in China, here the problem of blocking is more acute than in Russia.  Not by hearsay, I know that even Google and Dropbox can one day be turned off forever, and I don‚Äôt want to use domestic services for various reasons. <br><br>  <b>2.</b> On my server as a means of circumventing locks is <a href="https://blog.wtigga.com/shadowsocks/">Shadowsocks</a> - for Russia it is now overkill, but in China it helps out.  At first I put <a href="https://blog.wtigga.com/streisand-vpn/">Streisand</a> , but this is a bust. <br><br>  <b>3.</b> I am not a professional sysadmin.  Do not use this instruction thoughtlessly on a server with important information.  And make backups. <br><br>  <strong>Nextcloud</strong> is an open source project of your personal ‚Äúcloud‚Äù: it combines the functions of Dropbox, contacts, calendar and Google task list, as well as many other things.  In other words, you can opt out of Google and synchronize your data from your computer and smartphone to your server. <br><br><h2>  Why do you need it? </h2><br><ul><li>  If you are paranoid. </li><li>  If you do not trust large corporations. </li><li>  If you want to keep your data under personal control. </li><li>  If Google <a href="https://blog.wtigga.com/chinese-firewall/">doesn‚Äôt work</a> in your country, or it may suddenly <a href="https://geektimes.ru/post/293203/">stop working</a> . </li><li>  If you do not mind paying every month for hosting, or if you already have a working server. </li><li>  If ... so you never know. </li></ul><br><h2>  What is required? </h2><br><ol><li>  <strong>VPS Server on Ubuntu 17.04</strong> <br><br>  I have a VPS on DigitalOcean - on a nearby droplet and my blog is spinning.  If you search for a referral link (in my blog for example, or somewhere else on the Internet), then for registration at the expense of throwing a little for tests, enough for a couple of months.  But the choice of server is completely yours. </li><li>  <strong>Domain</strong> <br><br>  Not necessarily, but very desirable.  In the .RU zone, the domain <a href="http://www.reg.ru/%3Frid%3D2026727">costs a penny</a> (199 rubles per year), in other zones it is also not very expensive.  Register a domain and bind to it the IP address of the server (record A). </li><li>  <strong>SSH Software</strong> <br><br>  <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">PuTTY, Puttygen, Pageant</a> for Windows.  If you use Ubuntu or macOS, then either you already know everything, or you do not need it. </li></ol><br><h2>  What do we do? </h2><br>  <b>On server</b> <br><br><ol><li>  Install Apache, PHP and MySQL </li><li>  Let's add a free SSL certificate Let's Encrypt </li><li>  Install and configure NextCloud </li></ol><br>  <b>On customers</b> <br><br><ol><li>  PC and Android clients </li><li>  Migrate contacts, calendar, and tasks from Gmail </li></ol><br><h2>  Server </h2><br>  Suppose you have already rented a server and were able to connect to it via SSH via Putty. <br><br><h3>  Start </h3><br>  Update the list of packages <br><br><pre><code class="hljs pgsql">sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> <span class="hljs-keyword"><span class="hljs-keyword">update</span></span></code> </pre> <br><h3>  <strong>Apache</strong> </h3><br>  Install Apache2 web server <br><br><pre> <code class="hljs swift">sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install apache2</code> </pre> <br>  Edit the configuration <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">sudo</span></span> nano /etc/apache2/apache2.conf</code> </pre> <br>  At the end of the file we add two lines, substituting our values: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">ServerName</span></span> IP-- ServerName -</code> </pre> <br>  Turn on mode headers, useful later <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">sudo</span></span> a2enmod headers</code> </pre> <br><h3>  <strong>Leadtsrypt</strong> </h3><br>  Install a certificate for an encrypted connection if you have a domain.  Very desirable. <br><br>  Add repository for LetsEncrypt Certbot <br><br><pre> <code class="hljs cs">sudo <span class="hljs-keyword"><span class="hljs-keyword">add</span></span>-apt-repository ppa:certbot/certbot</code> </pre> <br>  Update the list of packages <br><br><pre> <code class="hljs pgsql">sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> <span class="hljs-keyword"><span class="hljs-keyword">update</span></span></code> </pre> <br>  Install <b>Certbot</b> <br><br><pre> <code class="hljs swift">sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install python-certbot-apache</code> </pre> <br>  We get a certificate <br><br><pre> <code class="hljs pgsql">sudo certbot <span class="hljs-comment"><span class="hljs-comment">--apache -d -</span></span></code> </pre> <br>  answer the questions: provide your e-mail, agree to the conditions, when choosing a redirect, select the option "2 - redirect". <br><br>  Set up automatic renewal of certificates every three months: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">sudo</span></span> crontab -e</code> </pre> <br>  select editing via nano, add the following line and save the file: <br><br><pre> <code class="hljs pgsql"><span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> * * * /usr/bin/certbot renew <span class="hljs-comment"><span class="hljs-comment">--quiet</span></span></code> </pre> <br><h3>  <strong>Mysql</strong> </h3><br>  Install the MySQL database <br><br><pre> <code class="hljs pgsql">sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install mysql-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span></code> </pre> <br>  Set the root password for the database.  Be sure to remember or write it down.  Then run the command to configure security. <br><br><pre> <code class="hljs">mysql_secure_installation</code> </pre> <br>  Answer a few questions.  You can refuse to force the verification of the complexity of the password and replace the root-password (the first two questions, answer 'N'), answer the remaining questions with 'Y'. <br><br>  <strong>Php</strong> <br><br>  Install PHP 7 and the necessary modules <br><br><pre> <code class="hljs sql">sudo apt-get <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> php libapache2-<span class="hljs-keyword"><span class="hljs-keyword">mod</span></span>-php php-mcrypt php-mysql</code> </pre> <br>  Add php-cli <br><br><pre> <code class="hljs swift">sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install php-cli</code> </pre> <br>  And the php-apcu caching module <br><br><pre> <code class="hljs swift">apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install php-apcu</code> </pre> <br>  Open the configuration file and edit it. <br><br><pre> <code class="hljs dos">sudo nano /etc/apache2/mods-enabled/<span class="hljs-built_in"><span class="hljs-built_in">dir</span></span>.conf</code> </pre> <br>  In the list of index files with different extensions, rewrite it so that at the beginning was index.php. <br><br>  Restart apache <br><br><pre> <code class="hljs pgsql">sudo systemctl <span class="hljs-keyword"><span class="hljs-keyword">restart</span></span> apache2</code> </pre> <br><h3>  File Directory </h3><br>  It is better to create a folder for personal files in a separate place on the server, and not in the way that NextCloud by default wants to do.  This is needed to increase security. <br><br>  Create a directory in / media / <br><br><pre> <code class="hljs dos">sudo <span class="hljs-built_in"><span class="hljs-built_in">mkdir</span></span> /media/nextcloud/</code> </pre> <br>  Change the permissions of the directory <br><br><pre> <code class="hljs haskell"><span class="hljs-title"><span class="hljs-title">chown</span></span> -<span class="hljs-type"><span class="hljs-type">R</span></span> www-<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">:www-</span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> /media/nextcloud/</span></span></code> </pre> <br><h2>  Nextcloud </h2><br>  Download the latest version of NextCloud in * .tar.bz2 format from the official site.  To do this, open <a href="https://download.nextcloud.com/server/releases/">the release page</a> in the browser and find the new version.  At the time of this writing, the latest version is 12.0.2, so the link will be as follows: <br><br>  <a href="">download.nextcloud.com/server/releases/nextcloud-12.0.2.tar.bz2</a> <br><br>  Copy it to the clipboard. <br><br>  Let's go back to PuTTY.  Change to the temporary directory <br><br><pre> <code class="hljs dos"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /tmp</code> </pre> <br>  Download the archive from NextCloud, replace the link to the latest. <br><br><pre> <code class="hljs xml">curl -LO https://download.nextcloud.com/server/releases/<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"color: #ff0000;"</span></span></span><span class="hljs-tag">&gt;</span></span>nextcloud-12.0.2.tar.bz2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Unpack the archive <br><br><pre> <code class="hljs swift">sudo tar -<span class="hljs-type"><span class="hljs-type">C</span></span> /<span class="hljs-keyword"><span class="hljs-keyword">var</span></span>/www -xvjf /tmp/nextcloud-<span class="hljs-number"><span class="hljs-number">12.0</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>.tar.bz2</code> </pre> <br>  Create a script to install <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">nano</span></span> /tmp/nextcloud.sh</code> </pre> <br>  Paste the following code into it. <br><br><pre> <code class="hljs mel">#!/bin/bash ocpath=<span class="hljs-string"><span class="hljs-string">'/var/www/nextcloud'</span></span> htuser=<span class="hljs-string"><span class="hljs-string">'www-data'</span></span> htgroup=<span class="hljs-string"><span class="hljs-string">'www-data'</span></span> rootuser=<span class="hljs-string"><span class="hljs-string">'root'</span></span> printf <span class="hljs-string"><span class="hljs-string">"Creating possible missing Directories\n"</span></span> mkdir -p $ocpath/data mkdir -p $ocpath/assets mkdir -p $ocpath/updater printf <span class="hljs-string"><span class="hljs-string">"chmod Files and Directories\n"</span></span> find ${ocpath}/ -type f -print0 | xargs <span class="hljs-number"><span class="hljs-number">-0</span></span> chmod <span class="hljs-number"><span class="hljs-number">0640</span></span> find ${ocpath}/ -type d -print0 | xargs <span class="hljs-number"><span class="hljs-number">-0</span></span> chmod <span class="hljs-number"><span class="hljs-number">0750</span></span> chmod <span class="hljs-number"><span class="hljs-number">755</span></span> ${ocpath} printf <span class="hljs-string"><span class="hljs-string">"chown Directories\n"</span></span> chown -R ${rootuser}:${htgroup} ${ocpath}/ chown -R ${htuser}:${htgroup} ${ocpath}/apps/ chown -R ${htuser}:${htgroup} ${ocpath}/assets/ chown -R ${htuser}:${htgroup} ${ocpath}/config/ chown -R ${htuser}:${htgroup} ${ocpath}/data/ chown -R ${htuser}:${htgroup} ${ocpath}/themes/ chown -R ${htuser}:${htgroup} ${ocpath}/updater/ chmod +x ${ocpath}/occ printf <span class="hljs-string"><span class="hljs-string">"chmod/chown .htaccess\n"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ -f ${ocpath}/.htaccess ] then chmod <span class="hljs-number"><span class="hljs-number">0644</span></span> ${ocpath}/.htaccess chown ${rootuser}:${htgroup} ${ocpath}/.htaccess fi <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ -f ${ocpath}/data/.htaccess ] then chmod <span class="hljs-number"><span class="hljs-number">0644</span></span> ${ocpath}/data/.htaccess chown ${rootuser}:${htgroup} ${ocpath}/data/.htaccess fi</code> </pre> <br>  Run the script <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">sudo</span></span> bash /tmp/nextcloud.sh</code> </pre> <br>  Create a NextCloud configuration file in Apache <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">sudo</span></span> nano /etc/apache2/sites-available/nextcloud.conf</code> </pre> <br>  Insert the following text <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">Alias</span></span> /nextcloud "/var/www/nextcloud/" &lt;Directory /var/www/nextcloud/&gt; <span class="hljs-keyword"><span class="hljs-keyword">Options</span></span> +FollowSymlinks AllowOverride <span class="hljs-keyword"><span class="hljs-keyword">All</span></span> &lt;IfModule mod_dav.c&gt; Dav <span class="hljs-keyword"><span class="hljs-keyword">off</span></span> &lt;/IfModule&gt; SetEnv HOME /var/www/nextcloud SetEnv HTTP_HOME /var/www/nextcloud &lt;/Directory&gt; &lt;VirtualHost *:<span class="hljs-number"><span class="hljs-number">443</span></span>&gt; ServerName &lt;span style="color: #ff0000;"&gt;_&lt;/span&gt; &lt;IfModule mod_headers.c&gt; <span class="hljs-keyword"><span class="hljs-keyword">Header</span></span> <span class="hljs-keyword"><span class="hljs-keyword">always</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Strict</span></span>-Transport-<span class="hljs-keyword"><span class="hljs-keyword">Security</span></span> "max-age=15552000; includeSubDomains"&lt;/IfModule&gt; &lt;/VirtualHost&gt;</code> </pre> <br>  Activate the configuration file <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">sudo</span></span> a2ensite nextcloud</code> </pre> <br>  Enable advanced options <br><br><pre> <code class="hljs swift">sudo a2enmod rewrite sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install php-bz2 php-curl php-gd php-imagick php-intl php-mbstring php-xml php-<span class="hljs-built_in"><span class="hljs-built_in">zip</span></span></code> </pre> <br>  Restart apache <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">sudo</span></span> systemctl reload apache2</code> </pre> <br><h3>  Create MySQL database </h3><br>  Let's go to MySQL, at the entrance you will need the MySQL root-password, which we created earlier. <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">mysql</span></span> -u root -p</code> </pre> <br>  Create a new database called nextcloud <br><br><pre> <code class="hljs sql"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DATABASE</span></span> nextcloud;</code> </pre> <br>  Give her the parameters, do not forget to insert a new password <br><br><pre> <code class="hljs sql"><span class="hljs-keyword"><span class="hljs-keyword">GRANT</span></span> ALL <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> nextcloud.* <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-string"><span class="hljs-string">'nextcloud'</span></span>@<span class="hljs-string"><span class="hljs-string">'localhost'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IDENTIFIED</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> <span class="hljs-string"><span class="hljs-string">'____'</span></span>;</code> </pre> <br>  Reset the parameters and exit MySQL <br><br><pre> <code class="hljs sql"><span class="hljs-keyword"><span class="hljs-keyword">FLUSH</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PRIVILEGES</span></span> <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span></code> </pre> <br><br>  While we are in the console, we will do a couple more things for seamless updates: <br><br>  Install the necessary rights to the directory with Nextcloud <br><pre> <code class="hljs kotlin">chown -R www-<span class="hljs-keyword"><span class="hljs-keyword">data</span></span>:www-<span class="hljs-keyword"><span class="hljs-keyword">data</span></span> /<span class="hljs-keyword"><span class="hljs-keyword">var</span></span>/www/nextcloud/</code> </pre> <br><br>  And delete the directory / var / www / nextcloud / assets <br><br><h3>  Configure NextCloud </h3><br>  In the browser, open <u><a href="https://xn--ip__-t4dgsa0anmj/nextcloud">ip_or_domain / nextcloud</a></u> <br><br>  If everything is done correctly, you will see the NextCloud page and an invitation to create an administrator account: <br><br>  The first two fields are the <strong>name</strong> and <strong>password</strong> for the <strong>administrator</strong> account. <br><br>  <em>Data folder</em> : specify the directory you created in the step "Directory for files", in the example this is / media / nextcloud <br><br>  <strong>Configure the database</strong> <br><br>  You need to specify the parameters that we used in the step ‚ÄúCreate MySQL database‚Äù <br><br>  The first line is the database name. <br><br>  The second line is the database password (not root-password!) <br><br>  Third line - user <br><br>  The fourth line is the address for accessing the database, it must be <strong>localhost</strong> and port <strong>5342</strong> <br><br>  Congratulations, NextCloud is installed and working, you are in the administrator account. <br><br><h3>  Security setting </h3><br>  When you first log into the admin panel, you will see a message that additional configuration is required to secure your server.  Now I will tell you what to do. <br><br>  <strong>Editing .htaccess</strong> <br><br><pre> <code class="hljs swift">sudo nano /<span class="hljs-keyword"><span class="hljs-keyword">var</span></span>/www/nextcloud/.htaccess</code> </pre> <br>  Immediately after the line <code>&lt;IfModule mod_headers.c&gt;</code> add <code>Header always set Strict-Transport-Security "max-age=15768000; includeSubDomains; preload"</code> <br><br>  <strong>Remove Apache default page</strong> <br><br><pre> <code class="hljs swift">sudo rm -rf /<span class="hljs-keyword"><span class="hljs-keyword">var</span></span>/www/html/</code> </pre> <br>  <strong>ATTENTION:</strong> run the command only if the server was clean and there is nothing valuable in the / var / www / html directory. <br><br>  <strong>Turn on memcache</strong> <br><br>  Stop apache <br><br><pre> <code class="hljs sql">sudo systemctl <span class="hljs-keyword"><span class="hljs-keyword">stop</span></span> apache2</code> </pre> <br>  Edit the NextCloud configuration <br><br><pre> <code class="hljs lua">sudo nano /var/www/nextcloud/<span class="hljs-built_in"><span class="hljs-built_in">config</span></span>/<span class="hljs-built_in"><span class="hljs-built_in">config</span></span>.php</code> </pre> <br>  At the end of the file, add the line <br><br><pre> <code class="hljs php"><span class="hljs-string"><span class="hljs-string">'memcache.local'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'\OC\Memcache\APCu'</span></span>,</code> </pre> <br>  Open the Apache PHP configuration file. <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">sudo</span></span> nano /etc/php/<span class="hljs-number"><span class="hljs-number">7</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>/apache2/php.ini</code> </pre> <br>  There is a lot of text in the file.  Scroll through until you find the section on <strong>opcache</strong> , then paste the following parameters there: <br><br><pre> <code class="hljs pgsql">opcache.<span class="hljs-keyword"><span class="hljs-keyword">enable</span></span>=<span class="hljs-number"><span class="hljs-number">1</span></span> opcache.enable_cli=<span class="hljs-number"><span class="hljs-number">1</span></span> opcache.interned_strings_buffer=<span class="hljs-number"><span class="hljs-number">8</span></span> opcache.max_accelerated_files=<span class="hljs-number"><span class="hljs-number">10000</span></span> opcache.memory_consumption=<span class="hljs-number"><span class="hljs-number">128</span></span> opcache.save_comments=<span class="hljs-number"><span class="hljs-number">1</span></span> opcache.revalidate_freq=<span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  Restart Apache. <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">sudo</span></span> systemctl reload apache2</code> </pre> <br>  All security warnings should disappear, <em>All checks passed</em> will remain <em>.</em> <br><br><h2>  Admin panel </h2><br><h3>  Basic settings </h3><br>  Be sure to pass all basic security checks.  It looks like this.  If there are warnings - go back to the instructions for setting up and check that everything is done correctly. <br><br><img src="https://habrastorage.org/webt/tc/qc/bv/tcqcbvcjxldqicedhrigkk9ibok.png"><br><br><h3>  Sharing </h3><br>  Set the settings for the distribution of files, if you use the cloud is not alone.  We have a private small server, and thousands of simultaneous downloads can create a serious load on it.  It is necessary to force a password to download to each public link, and after a few days to make it inactive. <br><br><img src="https://habrastorage.org/webt/za/4c/h2/za4ch2seqwema1p2asnvuphmrug.png"><br><br><h3>  Theming </h3><br>  Here you can give Nextcloud individuality: set a name, a signature, a picture for the background, and even change the color of the design.  Done at will. <br><br><img src="https://habrastorage.org/webt/fs/21/h-/fs21h-870awdg1xqn_bsyel_haq.png"><br><br><h3>  Encryption </h3><br>  <strong>Do not include it</strong> .  It significantly increases the load on the server and on disk storage, but does not greatly affect the security: encryption keys will be stored on the same server, and if an attacker gets access to it, he can read even encrypted files. <br><br><h2>  Applications </h2><br>  Applications are add-ons that extend the functions of the cloud.  Here is what I set for myself: <br><br><h3>  Two Factor TOTP Provider </h3><br>  Allows you to set up two-factor authorization to your account using one-time codes via the Google Authenticator or <a href="https://f-droid.org/packages/org.fedorahosted.freeotp/">FreeOTP application</a> . <br><br>  Be sure to configure this login method for the administrator account, preferably for the user too.  This can be done in the Personal section, at the very bottom of the page. <br><br><img src="https://habrastorage.org/webt/lu/yw/t6/luywt6hfkkmuplzlsz9z_-xie8o.png"><br><br><h3>  Calendar, Contacts </h3><br>  We‚Äôll use them instead of Google‚Äôs calendar and contacts, more on that later. <br><br><img src="https://habrastorage.org/webt/le/ho/hl/lehohltbfiiegpnvnzzcovma-ho.jpeg"><br><img src="https://habrastorage.org/webt/co/ar/f5/coarf5ozt2uhlonvvdb0sqai2ck.jpeg"><br><br><h3>  Deck </h3><br>  Project management in the style of <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25B0%25D0%25BD%25D0%25B1%25D0%25B0%25D0%25BD_(%25D1%2580%25D0%25B0%25D0%25B7%25D1%2580%25D0%25B0%25D0%25B1%25D0%25BE%25D1%2582%25D0%25BA%25D0%25B0)">Kanban</a> . <br><img src="https://habrastorage.org/webt/qz/6c/b0/qz6cb0ofjo5ozdxzok4vnd6sv0g.png"><br><br><h3>  Notes </h3><br>  Text notes can be conveniently <a href="https://f-droid.org/packages/it.niedermann.owncloud.notes/">synchronized with the phone.</a> <br><br><h3>  OPDS catalog </h3><br>  Server library for accessing books.  Works with applications like <a href="https://f-droid.org/packages/org.geometerplus.zlibrary.ui.android/">FBreader</a> . <br><br><h3>  Passman </h3><br>  Password store for sites in the browser.  There is a <a href="https://chrome.google.com/webstore/detail/hlpjhlifkgmoibhollggngbbhbejecph">plugin for Chrome</a> . <br><br><h3>  Phone sync </h3><br>  One-way synchronization of SMS messages from phone to cloud via <a href="https://f-droid.org/packages/fr.unix_experience.owncloud_sms/">Nextcloud SMS</a> . <br><br><img src="https://habrastorage.org/webt/vc/fi/s7/vcfis7btuiay7mdgqmsedbopops.png"><br><br><h3>  Tasks </h3><br>  A simple to-do list with a calendar. <br><br><img src="https://habrastorage.org/webt/1w/lj/nr/1wljnrbjvpxi4206gwbbuazxbgw.png"><br><br><h2>  Users </h2><br>  You are now in the administrator account, but you do not need to use it to store files and synchronize settings.  Leave it to access cloud settings.  For everyday personal use, you need a simple user account. <br><br><ol><li>  Open the Users section </li><li>  At the top, enter the username and password </li><li>  Click on Groups, add a new group Users </li><li>  Click Create </li><li>  Assign a place quota to not accidentally overfill the server </li></ol><br><img src="https://habrastorage.org/webt/36/rr/jh/36rrjho4ksd7jrqr1txadw7pudc.png"><br><br>  Now you have a limited user - what you need for everyday use.  It is with the ordinary user that we will continue to work.  Log out of the administrator account and log in as a new user. <br><br><h2>  Migrate contacts from Gmail </h2><br>  This can be done through a computer, but then the portraits of contacts will not be saved, so we will do everything on the smartphone.  If there are no Google contacts on the smartphone - scroll further. <br><br><h2>  We will need </h2><br><ol><li>  Account on your nextcloud </li><li>  Android smartphone </li><li>  <a href="https://f-droid.org/packages/at.bitfire.davdroid/">DAVdroid</a> and <a href="https://f-droid.org/packages/org.dmfs.tasks/">OpenTask application</a> for synchronizing contacts and tasks </li><li>  <a href="https://play.google.com/store/apps/details%3Fid%3Dcom.asus.contacts">ZenUI Dialer</a> application (or any other for copying contacts) </li></ol><br><h2>  Steps </h2><br><h3>  Install DAVdroid </h3><br><ol><li>  <strong>Install</strong> <a href="https://f-droid.org/packages/at.bitfire.davdroid/"><strong>DAVdroid</strong></a> <strong>and</strong> <strong><a href="https://f-droid.org/packages/org.dmfs.tasks/">OpenTask</a> ;</strong> <br><br>  <em>I recommend installing the DAVdroid from the F-Droid, because it is free there.</em>  <em>And on Google Play asking for <a href="https://play.google.com/store/apps/details%3Fid%3Dat.bitfire.davdroid">249 rubles</a> .</em> </li><li>  <strong>Run DAVdroid, create an account</strong> <br><br>  <strong>Click the "+</strong> " <strong>button</strong> , select "Login with URL and user name" <br>  <strong>Enter</strong> your Nextcloud <strong>address</strong> in the form <br><br><pre> <code class="hljs ruby"><span class="hljs-symbol"><span class="hljs-symbol">https:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/ip--.ru/nextcloud</span></span><span class="hljs-regexp"><span class="hljs-regexp">/remote.php/dav</span></span><span class="hljs-regexp"><span class="hljs-regexp">/</span></span></code> </pre> <br>  As well as your <strong>username and password</strong> . <br><br><img src="https://habrastorage.org/webt/rh/yr/ec/rhyrecyuhvoorhrkrv0_hesgype.jpeg"></li><li>  <strong>Create a name</strong> for your account (for example, user @ nextcloud) </li><li>  Click <strong>Create account</strong> </li><li>  DAVdroid <strong>will ask for multiple permissions</strong> to access your contacts and calendar, allow them.  (if not requested - lower the curtain on top and see if there is a request there) <br><br><img src="https://habrastorage.org/webt/rv/kf/qb/rvkfqbdyruae07aovgttyxlfqhs.jpeg"></li><li>  <strong>Check the checkboxes</strong> opposite the <strong>Contacts at the</strong> top and the names of your Google calendars below (I have this <em>Contact birthdays</em> and <em>Personal</em> ). </li><li>  Click the circular arrow icon at the top to start the first sync. <br>  (for the first time it sometimes shows an error message, just try again) </li></ol><br><h3>  Transfer contacts from Google to DAVdroid </h3><br><ol><li>  <b>Install</b> <strong><a href="https://play.google.com/store/apps/details%3Fid%3Dcom.asus.contacts">ZenUI Dialer</a></strong> </li><li>  Launch and go to contact management (button "three points" -&gt; <em>Manage contacts</em> ) </li><li>  Select <strong>Copy contacts</strong> </li><li>  For <em>Copy contacts from,</em> select your Google account. </li><li>  For <em>Copy contacts to,</em> select the <em>DAVdroid Address book</em> </li><li>  Answer <strong>OK</strong> <em><strong>to the</strong></em> question <em><strong>Do you want to keep the originals</strong></em> , <strong>otherwise contacts will be deleted from Google</strong> . </li><li>  Wait until copying is complete. </li><li>  Open DAVdroid and sync contacts again. </li></ol><br>  When synchronization is complete, all your contacts will be available in the web interface: https: //your_domain/nextcloud/index.php/apps/contacts/ <br><br><img src="https://habrastorage.org/webt/8u/zs/dh/8uzsdhblutwq-uwj1-nvn8a_xpo.jpeg"><br><br><h3>  If there are no contacts on the smartphone </h3><br>  If for some reason you do not have contacts from Google on your phone, but you can open them in the browser on your PC, skip the step <em>Transfer Contacts from Google to DAVdroid</em> , export contacts from Google Contacts (More -&gt; Export) to the vCard file, and then import the file through the Nextcloud web interface. <br><br><h3>  The calendar </h3><br>  Go to the standard <em>Calendar</em> application on your smartphone and check that the new Nextcloud calendar is displayed in the list of your calendars.  Now you can save events there, they will automatically synchronize with your own Nextcloud server.  Google is no longer needed. <br><br><img src="https://habrastorage.org/webt/4o/0m/ni/4o0mnibxnd-1a2drr9icazzuwa4.jpeg"><br><br>  The web version of the calendar will be available from the browser at <u><a href="https://xn--_-7sbfkf5bif1g/nextcloud/index.php/apps/calendar/">your_domain / nextcloud / index.php / apps / calendar</a></u> <br><br><img src="https://habrastorage.org/webt/rm/zw/ca/rmzwcal4-q8qxx8r8etvuq1qon4.png"><br><br><h3>  Task list </h3><br>  Start the <em>OpenTasks</em> application (the menu may simply be called <em>Tasks</em> ), now there is a Local list (only on the device) and your ‚Äúcloud‚Äù list. <br><br><img src="https://habrastorage.org/webt/d6/tv/c1/d6tvc1buahfzvji_whyrgww6xme.jpeg"><br><br>  Another client for the task list is <a href="https://play.google.com/store/apps/details%3Fid%3Dnl.mpcjanssen.simpletask.nextcloud">SimpleTask Nextcloud</a> .  Less functions, but works a little more reliably. <br><br>  In the browser, tasks will be available at <u><a href="https://xn--_-7sbfkf5bif1g/nextcloud/index.php/apps/tasks/">your_domain / nextcloud / index.php / apps / tasks</a></u> <br><br><img src="https://habrastorage.org/webt/cc/r1/mu/ccr1muo6yrtil54sfk40flr-zgw.png"><br><br><h2>  PC sync </h2><br>  <strong>Windows</strong> and <strong>macOS</strong> <br><br><ol><li>  Install and run the client <a href="https://nextcloud.com/install/"><strong>from the official site</strong></a> </li><li>  Enter your server address as <u><a href="https://xn--_-7sbfkf5bif1g/nextcloud">your_domain / nextcloud</a></u> </li><li>  Enter the username and password of the user account </li><li>  Select a local folder to synchronize (for example, D: \ Nextcloud) <br><br><img src="https://habrastorage.org/webt/gd/4j/6a/gd4j6ao-txqnennkseqnr546sio.jpeg"></li></ol><br>  Is done. <br><br>  It works like Dropbox: they dropped the file into a folder - it flies away to the server.  And vice versa. <br><br><h3>  How to change the language of Nextcloud (Windows) </h3><br>  For some reason, the developers have not provided for a language change through the application settings, by default it uses the system one.  I have Windows in Chinese (and nothing can be done about it), but the applications are still more convenient to keep in a more familiar language.  Here is the solution to the problem: <br><br><ol><li>  Turn off the Nextcloud client </li><li>  Open the folder where you installed Nextcloud (by default c: \ Program Files (x86) \ Nextcloud \) </li><li>  Find the files client_ru.qm, qt_ru.qm and qtbase_ru.qm </li><li>  Delete all other language files: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">client_ca</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_cs</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_de</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_el</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_es</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_es_AR</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_et</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_eu</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_fa</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_fi</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_fr</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_gl</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_hu</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_it</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_ja</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_nb_NO</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_nl</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_pl</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_pt</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_pt_BR</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_en</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_sk</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_sl</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_sr</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_sv</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_th</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_tr</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_TW</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_uk</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_zh_CN</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client_zh_TW</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_ar</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_ca</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_cs</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_da</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_de</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_es</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_fa</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_fi</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_fr</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_gl</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_he</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_hu</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_it</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_ja</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_ko</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_lt</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_pl</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_pt</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_en</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_sk</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_sl</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_sv</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_uk</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_zh_CN</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt_zh_TW</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qtbase_ca</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qtbase_cs</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qtbase_de</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qtbase_fi</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qtbase_fr</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qtbase_he</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qtbase_hu</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qtbase_it</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qtbase_ja</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qtbase_ko</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qtbase_lv</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qtbase_pl</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qtbase_en</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qtbase_sk</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qtbase_uk</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.qm</span></span></code> </pre> </li><li>  Launch Nextcloud </li></ol><br>  Is done. <br><br><h2>  Android and iOS </h2><br>  The client for <strong>iPhone</strong> is <a href="https://itunes.apple.com/us/app/nextcloud/id1125420102%3Fmt%3D8">in the official AppStore</a> , for <strong>Android</strong> - on <a href="https://play.google.com/store/apps/details%3Fid%3Dcom.nextcloud.client">Google Play</a> and on <a href="https://f-droid.org/packages/com.nextcloud.client/">F-Droid</a> .  Installation is simple and the same on both platforms: <br><br><ol><li>  Install and run the client </li><li>  Enter your server address as <a href="https://xn--_-7sbfkf5bif1g/nextcloud">your_domain / nextcloud</a> </li><li>  Enter the username and password of the user account </li></ol><br>  <strong>Is done.</strong> <br><br>  You can try to upload a few files and see how they fly to the cloud. <br><br><h3>  Backup photos </h3><br>  Like on Dropbox / Google Drive, you can enable automatic download of all new photos and videos to the cloud in Nextcloud.  But do not forget about the size of the hard drive: in the cheapest server is only 20 gigabytes.  I sync large volumes of photos to a laptop and home media server using Syncthing, for free and very quickly. <br><br>  On iOS, you can additionally enable the <strong>CryptoCloud</strong> option, then all files will be stored on the server in encrypted form.  Useful, for example, if you use someone else's Nextcloud server.  But files can be viewed only from iOS devices. <br><br><h2>  Personal impressions </h2><br>  It‚Äôs a pity that I found out about Nextcloud only now: how much time I killed to install Google services on my previous phones, all for the sake of syncing the contact list and calendar.  Everything works stably, as far as China allows.  Pings to the server are large, but there is always a connection <br><br>  Please tell in the comments <br><br><ul><li>  How badly I set up the server and how to do better </li><li>  Why I am paranoid and do not need to be afraid of Google </li><li>  What else can you do with your VPS? </li></ul></div><p>Source: <a href="https://habr.com/ru/post/357854/">https://habr.com/ru/post/357854/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../357844/index.html">The rightholders achieved the closure of the YouTube-MP3 converter service</a></li>
<li><a href="../357846/index.html">Roskomnadzor creates a center for conducting exercises on blocking sites and services</a></li>
<li><a href="../357848/index.html">Google made Gmail one of the most secure email services.</a></li>
<li><a href="../357850/index.html">Calm before IoT-storm or a year after Mirai</a></li>
<li><a href="../357852/index.html">European companies are concerned about the ban on VPN in Russia</a></li>
<li><a href="../357856/index.html">Uber hid a powerful cyber attack with data theft 57 million customers and drivers</a></li>
<li><a href="../357858/index.html">The Ministry of Communications and the Ministry of Foreign Affairs will create an autonomous DNS root server system in the BRICS countries</a></li>
<li><a href="../357860/index.html">Yandex.Catalog stops accepting applications and closes soon</a></li>
<li><a href="../357862/index.html">How to make Push notifications in Safari browser on macOS</a></li>
<li><a href="../357864/index.html">Roskomnadzor will conduct an "experiment" on blocking Zello Internet radio in Russia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>