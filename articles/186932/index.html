<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using BLF on Escene Phones</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The BLF ( Busy Lamp Field ) feature allows you to monitor the current status of other subscriber lines in real time, as well as intercept calls destin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using BLF on Escene Phones</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/0c8/8b2/bbb/0c88b2bbbcfdaf85c1cf0e85c1849224.jpg" title="Escene WS320 function buttons" alt="  (BLF) IP- Escene WS320"><br><br>  The BLF ( <i>Busy Lamp Field</i> ) feature allows you to monitor the current status of other subscriber lines in real time, as well as intercept calls destined for other subscribers.  It is necessary that the BLF function is supported by both the PBX and the telephone on which the state of the lines will be monitored. <br><br>  The following line conditions are available: free ( <i>Idle</i> ), <i>ringing</i> , line in use ( <i>Connected / Busy</i> ).  It should be mentioned that the registration status of the line is not monitored: even if the line is not registered, its status will be indicated as ‚Äúfree‚Äù. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If you press the BLF button for a free line, the call will be made there.  If you press the BLF button for the line to which the call is going, it will be intercepted. <br><br><h4>  <i>The BLF function is necessary first of all for secretaries who redirect calls.</i>  <i>It allows you to determine whether the subscriber can accept the call at the moment and, in case of impossibility, switch to another responsible employee or voice mail.</i> </h4><br>  The function is also useful for employees who constantly make a large number of calls to a limited number of people, since it <b>allows them to significantly save working time on dialing numbers</b> . <br><a name="habracut"></a><br><h4>  <b>How it works</b> </h4><br>  First, the phone sends to the PBX a SUBSCRIBE SIP message with the line number, whose status it wants to monitor.  After that, when the state of the line changes, the PBX sends a NOTIFY SIP message to the phone, which indicates the current state. <br><br>  To intercept a call, the phone sends an SIP INVITE message to the PBX, which contains a special prefix and the number of the intercepted line.  This prefix is ‚Äã‚Äãdetermined by the PBX settings and is specified in the phone settings. <br><br><h4>  <b>Configure Asterisk</b> </h4><br>  In order for Asterisk to start supporting BLF, the following settings must be made: <br><br>  In the <i>sip.conf</i> file in the section with settings for extensions: <br><br>  <i>allowsubscribe = yes</i> <i><br></i>  <i>call-limit = 4</i> <i><br></i>  <i>limitonpeers = yes</i> <i><br></i>  <i>notifyringing = yes</i> <i><br></i>  <i>notifyhold = yes</i> <i><br></i>  <i>context = phones</i> <i><br></i>  <i>subscribecontext = BLF</i> <br><br>  In the <i>extensions.conf</i> file: <br><br>  <i>[BLF]</i> <i><br></i>  <i>exten =&gt; _., hint, SIP / $ {EXTEN}</i> <i><br></i>  <i>[phones]</i> <i><br></i>  <i>exten =&gt; _ **., 1, Pickup ($ {EXTEN: 2})</i> <i><br></i> <br>  In the BLF group, you must specify all the lines whose status is to be monitored. <br><br>  When using Asterisk-based distributions, BLF support can be enabled initially.  In the case of FreePBX, the settings did not need to be changed.  No additional configuration is required when working with IP-ATC 3CX. <br><br>  To support the BLF distribution, Thirdlane needed to make the following changes: <br><br>  <i>notifyringing = yes</i> <i><br></i>  <i>notifyhold = yes</i> <br><br><h4>  <b>Phone setup</b> </h4><br>  The presence of a built-in expansion panel with function buttons that support BLF is an important feature of <a href="http://escene.ru/"><b>Escene corporate IP phones</b></a> .  The built-in panel is available for models ES320-N, ES320-PN, ES330-PE, ES410-PE, gigabit model GS320-P and Wi-Fi model WS320-N.  Starting with the ES330-PE model and above, all corporate phones also support an additional extension panel with 32 buttons.  In total, the phone can support up to 6 expansion panels with a total capacity of up to 192 buttons. <br><br><img src="https://habrastorage.org/storage2/70c/045/6e8/70c0456e83ffb4ac4b5d242cd068afc6.jpg" title="Corporate Escene ES410 IP Phone with 32-button optional expansion panel" alt=" IP- Escene ES410      32 "><br><br>  On Escene phones, the BLF function is implemented using the softkey settings: you must specify in the web interface: <br><br><ul><li>  BLF mode </li><li>  account number </li><li>  name </li><li>  line number </li></ul><br><img src="https://habrastorage.org/storage2/348/9a9/361/3489a9361b577d9cd900c65a40b729b0.png" title="Setting the function buttons" alt="  "><br><br>  If your PBX is configured correctly and the phone is registered on it, then it will display the status of the lines as follows: <br><br><ul><li>  The indicator is highlighted in green - the line is free. </li><li>  LED blinks red - call in progress </li><li>  The indicator is highlighted in red - the line is used </li></ul><br><h4>  <b>Call Pickup</b> </h4><br>  In accordance with the settings of the PBX in the phone settings, you must specify the prefix used to pick up the call.  In our case, the prefix ‚Äú**‚Äù is used. <br><br><img src="https://habrastorage.org/storage2/e92/64a/aaa/e9264aaaa5190cb1ce448d381556dc68.png" title="Call Pickup Settings" alt="  "><br><br>  Thus, BLF support is one of the most important advantages of corporate phones over universal ones.  By simple settings, the phone becomes part of a unified system of unified communications, allowing you to control the telephone lines of employees, simplify communications and, as a result, significantly save working time. </div><p>Source: <a href="https://habr.com/ru/post/186932/">https://habr.com/ru/post/186932/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../186920/index.html">Competition of mobile applications for the city of Moscow App Contest'13</a></li>
<li><a href="../186922/index.html">What's new in Windows Server 2012 R2?</a></li>
<li><a href="../186924/index.html">Pope Francis will hand out indulgences via Twitter</a></li>
<li><a href="../186926/index.html">Nokia Lumia 1020. Shock! A photo!</a></li>
<li><a href="../186930/index.html">Part 2. How to connect a smartphone to the car - begin to practice</a></li>
<li><a href="../186934/index.html">BitTorrent Sync goes into beta</a></li>
<li><a href="../186940/index.html">AOP in action. AspectJ (CTW) + Spring + LTW</a></li>
<li><a href="../186942/index.html">Monitoring server resources running * nix with RRDtool</a></li>
<li><a href="../186944/index.html">We write our system monitor (Linux)</a></li>
<li><a href="../186948/index.html">PMP Exam: Preparation, Audit, Recommendations</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>