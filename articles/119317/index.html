<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The use of metamodel in the design of databases with several abstract layers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The classical approach involves the development of database structures, where all entities of the information model are on the same abstract level, ar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The use of metamodel in the design of databases with several abstract layers</h1><div class="post__text post__text-html js-mediator-article">  The classical approach involves the development of database structures, where all entities of the information model are on the same abstract level, are homogeneous.  However, complex and poorly structured subject areas lead relational decomposition to a combinatorial explosion, a disproportionate increase in the number of tables and links.  And dynamic subject areas in which daily changes are the norm of the life cycle require constant reengineering of the relational database structure. <br><a name="habracut"></a><br>  In such conditions, the rise of the level of abstraction can solve the problem only partially, because moving from specifics to an abstract model, the specificity of the subject area is lost.  Therefore, it is necessary to store two logically related layers of abstraction in one database.  The logical bundle should be performed by a meta-layer that defines the parameters of a one-to-one mapping of one abstract layer of the model to another. <br><br><img src="https://habrastorage.org/storage/6c867a29/02c5f93d/24116782/062462af.png">  (Fig. 1) <br><br>  For simplicity of explanations, we take a subject area that everyone understands (see Fig. 1).  Entities are shown in yellow, and cross-links between them (many-to-many) are marked in green.  We have two hierarchies, organizational: company, division, department (we can expand it further by introducing new levels of hierarchy).  And the second hierarchy classifies activity: industry, direction, specialization (we can also expand it).  But for simplicity, we will limit ourselves to three links in each hierarchy, and already with such a limited information model we will identify the need to raise the level of abstraction. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      An idealistic domain model is shown in Fig.  1, however, in practice, it may turn out that specialization needs to be tied not only to departments, but also to divisions or even companies (in different organizations this is different, the structure is extremely dynamic and unstable with initial apparent simplicity).  Thus, after analyzing and summarizing the structure of several dozen companies, you can come to the following diagram (see Fig. 2).  Three entities in one hierarchy can communicate with three entities in another, almost arbitrarily (of all 9 combinations), one relationship does not apply in this case, and we can eliminate it by receiving 8 types of many-to-many relationships.  The situation is complicated when each of the links must also have several attribute groups that define the parameters of the number of positions, requirements for employees, certification standards and salaries (taken for example, in fact, the information model is much more complicated). <br><br><img src="https://habrastorage.org/storage/7086f60a/831048b1/89efbed9/51aba395.png">  (fig. 2) <br><br>  In Figure 2, we see that even the ER-diagram of such a model becomes difficult to understand, and if each of the links receives another 3-5 groups of parameters, then the cross tables become on the order of two to four dozen, which is generally difficult to display in the diagram.  In addition, to create software code and user interfaces for working with a database of such complexity becomes very problematic, and if necessary to make permanent changes to them, such a software product receives a huge cost of ownership and organizational difficulties in maintenance. <br><br>  The transition to a higher degree of abstraction allows us to highlight the essence of the higher order ‚Äústructural unit‚Äù or ‚Äúorganizational hierarchy‚Äù, which is displayed in the database structure into a table with a recursive reference (to itself; the field is usually called ParentId or similarly).  From such a table we can expand the hierarchy, with unlimited nesting.  The same happens with the second hierarchy, we highlight the essence of a higher order ‚Äúclassification of activity‚Äù (see Fig. 3).  Thus, we have made the convolution of relations, turning 8 relations ‚Äúmany-to-many‚Äù into one such relation.  But in this case, when summarizing, semantics was lost, namely: the link between companies and specializations is not needed (in this example), and since companies are structural units in the ‚Äúorganizational hierarchy‚Äù, and specializations are included in the ‚Äúclassification of activities‚Äù, then according to the diagram in Figure 3, such a connection is possible.  However, the information system should prohibit the user to create a connection of this type at the logical level, which is an aspect of information integrity and is an obligatory function of the DBMS. <br><br><img src="https://habrastorage.org/storage/9d7237e0/7a55b7b7/c7130f45/06f8e15f.png">  (pic. 3) <br><br>  The logical level is provided by the metamodel of the domain and is interpreted dynamically at the application level, which introduces additional flexibility to the system, since the domain logic can be changed without modifying the program code.  To allow or prohibit a certain type of connection at the logical level, it suffices only to specify this in formal terms of the metamodel. <br><br><img src="https://habrastorage.org/storage/f5112eda/ee8b875b/cd07c21e/09e1c3a4.png">  (pic. 4) <br><br>  With the introduction of link parameters (even several groups of parameters), we must modify the structure of Figure 3, breaking the links into three.  Moreover, metadata define logical constraints on the establishment of relationships in order to reflect the semantics of the subject area: each company deals with industries and directions;  divisions and departments can deal with industries, areas and specializations;  divisions and departments (but not companies) have certain positions;  companies and divisions (but not departments) are aimed at meeting the demand of other market entities belonging to industries and areas (but not to specializations).  Thus, for example, the connection with the attribute group ‚Äúposts‚Äù between a company and a specialization is logically prohibited.  Cross tables of the database will contain only one group of parameters for several types of links, as shown in fig.  four. <br><br><img src="https://habrastorage.org/storage/67ee3070/8eb84618/37d1a03d/ed63821c.png">  (Fig. 5) <br><br>  But the question is where to store the attributes of the entities?  Indeed, the table ‚ÄúOrganizational hierarchy‚Äù can contain only a group of attributes that is common to all entities of the lowest order of abstraction: company, division, department.  And all non-intersecting attributes should be placed in separate tables in order not to create a non-normalized structure with a large number of ‚Äúempty‚Äù cells.  Thus, we come to the need to have several tables of a lower level of abstraction in the same database with our hierarchical table.  And they will be connected with it by a common (more precisely, the same) primary key in the whole group of tables united by a one-to-one relationship with the table ‚Äúorganizational hierarchy‚Äù.  Such a relationship (see Fig. 5) provides for an entry with the corresponding primary key from the ‚Äúorganizational hierarchy‚Äù in only one of the four tables.  The ‚Äúone-to-one-of‚Äù or ‚Äúsupertype-and-sybtype-discriminator‚Äù link graphic is taken from IDEF1 notation used in a large number of CASE-tools for developing database information models (ErWin, Logic Works, Rational Rose, ER / Studio and etc.). <br><br><img src="https://habrastorage.org/storage/9abbafe3/a9330b49/ef896d47/db8555ea.png">  (pic. 6) <br><br>  Description of metamodel elements (in Fig. 6): <br><br>  <b>Profile</b> - entity or profile, is a second-order mapping of the domain object.  A profile has a pass-through identifier used to refer to it throughout the entire information system; however, a URI is used for external links. <br>  <b>Template</b> is a template that is analogous to a class in the object model with support for multiple inheritance and indirect inheritance.  The plural is that each profile can inherit from several templates, and indirect inheritance is expressed in the possibility of attaching ‚Äútabs‚Äù - property groups to templates, while templates may not inherit tabs from each other, but receive tabs from any template of another branch of classification . <br>  <b>URI</b> is a unique identifier of a profile used for external links to domain objects, object properties, relationships, and methods.  URI allows you to address all elements of the metamodel and all elements of the information model of the domain. <br>  <b>Relation Type</b> - type of communication profiles. <br>  <b>Relation</b> - a relationship between two or more profiles (at the second level of abstraction) or two or more entities (at the level of the relational model). <br>  <b>Link</b> - a link to a profile (entity) that allows you to include several profiles in links. <br>  <b>Tab</b> - a group of profile properties that is displayed in the relational model as a database table. <br>  <b>Property</b> is a property of a profile that is displayed in a relational model, most often, in the form of a database field, but for directories and classifiers a property can be displayed in a ‚Äúforeign key‚Äù or in a reference table and a many-to-many relationship with the profile tab. <br>  <b>Type</b> - the data type assigned to the profile attribute (entity). <br>  <b>Method</b> - a method or function that implements the business logic of the profile. <br><br>  At the second level of abstraction of the model, we can arrive at the convolution of the relational structure of the base to an even greater generalization (see Fig. 6).  In the figure we see the elements of the metamodel, where yellow and green are colors, are responsible for entities and connections, respectively, and a group of gray tables is responsible for the attributes of entities.  This structure is suitable for the vast majority of subject areas in the field of applied information systems.  This is a metadata structure that describes the structure of tables in more general categories, which allows the software to rely not on the database structure and metadata, but on the structure of the metamodel, that is, a second-order abstraction.  However, the metamodel does not have sufficient specificity to solve applied problems and needs to be detailed, which is what happens at the first abstract level (see Fig. 4).  Thus, we have two base structures, at different levels of abstraction, stored in the same database in parallel.  The connection between them takes place through the unique identifiers, since the Profile is an abstract entity of the second order associated with all entities of the first order by a one-to-one relationship of (or ‚Äúsupertype-and-sybtype-discriminator‚Äù, see figure 5 and explanation above). <br><br>  Continuation will be in the second part. <br><br>  For discussion, add another scheme, which will be described in the second part: <br><img src="https://habrastorage.org/storage/18a12ce4/6610c9e6/3991eaf3/51e735de.png"><br><br>  Thanks for attention. </div><p>Source: <a href="https://habr.com/ru/post/119317/">https://habr.com/ru/post/119317/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../119309/index.html">Development of IFrame application for VKontakte</a></li>
<li><a href="../119311/index.html">How do you set the font-size property today?</a></li>
<li><a href="../119312/index.html">Writing AddOn to World of Warcraft</a></li>
<li><a href="../119313/index.html">Barnes & Noble Nook Color Review</a></li>
<li><a href="../119314/index.html">Sony PlayStation Network is being phased in</a></li>
<li><a href="../119318/index.html">Communicate with those nearby in your iPhone</a></li>
<li><a href="../119319/index.html">OFDM - digital modulation technology in WiMax and LTE networks</a></li>
<li><a href="../119320/index.html">What explains the trend of using browsers?</a></li>
<li><a href="../119321/index.html">Perl 5.14 released</a></li>
<li><a href="../119322/index.html">Globalscale Technologies announced a developer kit based on the silent D2Plug minicomputer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>