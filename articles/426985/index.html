<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>kubebox and other console shells for Kubernetes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We already wrote about ‚Äúconsole helpers‚Äù for Kubernetes a year ago, and even earlier we did a review of other useful utilities. However, with the deve...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>kubebox and other console shells for Kubernetes</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/il/_a/bz/il_abzn8qiapx4abmrosbpsdptg.png"><br><br>  We already <a href="https://habr.com/company/flant/blog/341606/">wrote</a> about ‚Äúconsole helpers‚Äù for Kubernetes a year ago, and even earlier we <a href="https://habr.com/company/flant/blog/330198/">did a review of</a> other useful utilities.  However, with the development of K8s and its community, the associated ecosystem is also changing.  Therefore, we again have something to tell console lovers.  Go! <a name="habracut"></a><br><br><h2>  kubebox </h2><br><ul><li>  <a href="https://github.com/astefanutti/kubebox">GitHub</a> <i>(400+ stars)</i> </li><li>  Language: JavaScript (Node.js) </li><li>  License: MIT </li></ul><br>  This project was the reason for writing a review.  On the one hand, he is a bright representative of the software category "geeks do for geeks", but on the other hand, he has grown to a state where he is not only pleasing to the eye, but also brings practical benefits ... 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, the purpose of kubebox is to fully work with Kubernetes within the framework of a convenient console interface, presented in the style of pseudographics: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b25/799/ddd/b25799ddd6a4aa7c0a4b8d3d106d2c9e.svg" alt="image"><br><br>  Work implies such opportunities as navigation through files through namespaces, viewing logs and even graphs of consumption of key resources (CPU, memory, network), remote execution of commands in containers.  Settings for connecting to clusters can be taken from the <code>KUBECONFIG</code> environment <code>KUBECONFIG</code> or configs in <code>$HOME/.kube</code> . <br><br>  Future plans of developers include support for editing configurations and performing CRUD operations, as well as significant <a href="https://github.com/astefanutti/kubebox/issues/20">reworking of the interface</a> to support new types of primitives (Services, Deployments, etc.) and easy navigation through them with the output of additional information (in particular, <code>kubectl describe pod</code> ). <br><br>  An important feature is the availability of an <a href="https://kube.sh/">online version</a> (to connect to the Kubernetes API server, you will need to allow <code>cors-allowed-origins</code> ).  In addition, kubebox can be launched as a separate executable file, as an <i>in-cluster</i> client (via kubectl), as well as from a service deployed in a Kubernetes or OpenShift cluster ( <a href="">Xterm.js is</a> used to emulate the terminal). <br><br>  The development of kubebox for almost 2 years has been done by a Red Hat employee from France (to be quite precise, even less than 10% of commits are made by his colleague).  The project received quite wide publicity only last month (on <a href="https://www.reddit.com/r/kubernetes/comments/9oz91h/kubebox_terminal_and_web_console_for_kubernetes/">Reddit</a> and a number of other resources), so we can expect that this will give a new impetus to its development. <br><br><h2>  kube-shell and kube-prompt </h2><br><h3>  kube-shell </h3><br><ul><li>  <a href="https://github.com/cloudnativelabs/kube-shell">GitHub</a> <i>(950+ stars)</i> </li><li>  Language: Python </li><li>  License: Apache 2.0 </li></ul><br><img src="https://habrastorage.org/webt/n3/kj/zq/n3kjzqji9fyyefnltkzfhldhtbo.gif"><br>  <i>(Attention, this GIF is ~ 2 MB!)</i> <br><br><h3>  kube-prompt </h3><br><ul><li>  <a href="https://github.com/c-bata/kube-prompt">GitHub</a> <i>(700+ stars)</i> </li><li>  Language: Go </li><li>  License: MIT </li></ul><br><img src="https://habrastorage.org/webt/89/kv/jj/89kvjjdehyjwvmu4cya6gxiosne.png"><br><br>  We already <a href="https://habr.com/company/flant/blog/341606/">wrote</a> about these projects a year ago, and at that time they were unconditional favorites among full-fledged console shells for working with Kubernetes.  Both are positioned as improved (more convenient to use) interfaces to kubectl.  In the kube-shell, use the <a href="https://github.com/prompt-toolkit/python-prompt-toolkit">prompt-toolkit</a> library for Python for this, and for the kube-prompt, they took and developed a similar Go library ( <a href="https://github.com/c-bata/go-prompt">go-prompt</a> ). <br><br>  If you compare them with kubebox, here the interface is not based on pseudo graphics, but on a familiar console for entering commands <i>(see screenshots above)</i> , which, however, is accompanied by very interesting ‚Äúspecial effects‚Äù: tooltips with help by commands, convenient automatic addition and etc. <br><br>  Despite the wide range of supported features (including the already mentioned developed hint and autocompletion system, a search in command history and the vi-like editing mode), the kube-shell <a href="https://github.com/cloudnativelabs/kube-shell/commits/master">commit history</a> indicates a clear slowdown in the development of the project.  This year only seven commits were recorded, two of which are modifications of the <code>README</code> .  Although there were useful - for example, the <a href="https://github.com/cloudnativelabs/kube-shell/issues/50">long-awaited</a> <a href="https://github.com/cloudnativelabs/kube-shell/pull/57">support for the</a> variable <code>KUBECONFIG</code> .  One way or another, the prolonged lack of response from developers to requests that are relevant to users (see <a href="https://github.com/cloudnativelabs/kube-shell/issues">issues</a> ) does not inspire proper prospects. <br><br>  The situation with the development of kube-prompt looks slightly better.  Although this project scored fewer stars on GitHub (if a year ago it was slightly ahead of its Python competitor, it is now noticeably lagging behind), commits appear more or less regularly, and the latest release ( <a href="">1.0.5</a> ) dates back to October 18th.  However, there are not many significant changes over the past year - we note the support for Kubernetes version 1.11 and the possibility of autocompletion for the namespace.  The main thing is that the author himself <a href="https://github.com/c-bata/kube-prompt/issues/28">admits that</a> it <a href="https://github.com/c-bata/kube-prompt/issues/28">is</a> impossible to devote sufficient time to the development of the kube-prompt and is looking for helpers. <br><br>  Summing up on these two projects, it can be said that the kube-shell retained its leadership in terms of supported capabilities and went ahead in popularity, but with the prospects for both shells all is not clear.  However, if you are satisfied with the way they work now, there is no reason not to take them into service, because  other alternatives in the same performance did not appear. <br><br><h2>  Click </h2><br><ul><li>  <a href="https://github.com/databricks/click">GitHub</a> <i>(750+ stars)</i> </li><li>  Language: Rust </li><li>  License: Apache 2.0 </li></ul><br>  Click is a rather young project: in the form of a beta version it was <a href="https://databricks.com/blog/2018/03/27/introducing-click-the-command-line-interactive-controller-for-kubernetes.html">presented</a> at the end of March - and very interesting in its own way.  His concept is to use kubectl in <a href="https://ru.wikipedia.org/wiki/REPL">the REPL loop</a> , which simplifies life by supporting a constant environment.  The last is that Click "remembers" the current context, namespace, under, etc., prompting the user to execute the necessary command for this resource without having to re-specify the whole "path". <br><br><img src="https://habrastorage.org/webt/t4/3l/kq/t43lkqunutszqz8ujqwuuwonqas.png"><br><br>  The idea of ‚Äã‚Äãthe project originated in the company Databricks, where Kubernetes actively use and are tired of seeing the same type of work with kubectl, which requires the constant introduction of previous data.  At the same time, the engineers themselves love the kubectl utility itself - just like the console in general.  And so this add-in appeared, which does not claim to replace kubectl, but only helps in working with it.  An example scenario for using Click is: <br><br> <code>pods //          <br> 2 //      <br> describe //     <br> events //    <br> logs -c foo &gt; /tmp/podfoo.log //     <br> delete //   (    )</code> <br> <br>  If you are interested - see also a <a href="https://camo.githubusercontent.com/5530b1aad49711e3899be326c169ca16cff726fd/68747470733a2f2f696d6775722e636f6d2f6674345748634c2e676966">small screencast</a> demonstrating the work of Click with text comments. <br><br><h2>  Work with logs </h2><br>  As a bonus - not shells, but console tools for working with logs in Kubernetes.  A year ago, we mentioned only <a href="https://github.com/dtan4/k8stail">those k8stail</a> as such, but the past tense has shown that the problem is relevant, and there are other solutions worthy of attention to solve it. <br><br><h3>  Stern </h3><br><ul><li>  <a href="https://github.com/wercker/stern">GitHub</a> <i>(~ 1300 stars)</i> </li><li>  Language: Go </li><li>  License: Apache 2.0 </li></ul><br>  Stern is the undisputed favorite of the category ‚Äútail for pods in Kubernetes‚Äù.  For clarity, the output of logs uses different color notation: <br><br><img src="https://habrastorage.org/webt/rt/7v/yx/rt7vyx02t6pn1vmmavbsoocksrs.png"><br><br>  Its other important feature is the use of regular expressions for convenient filtering of hearths without the need to know specific IDs (for example, select everything with the name <code>web-\w+</code> ).  Similarly (i.e. regexpami), you can filter certain containers for the requested pods.  Among other features stern: <br><br><ul><li>  support for custom Go templates for output logs (there are several predefined ones as standard); </li><li>  label selectors support; </li><li>  restriction of log output to a specified time value <code>--since</code> and / or a specified number of lines </li><li>  support for autocompletion for bash and zsh, as well as dynamic substitution of the values ‚Äã‚Äãof namespaces and contexts. </li></ul><br><h3>  Kubetail </h3><br><ul><li>  <a href="https://github.com/johanhaleby/kubetail">GitHub</a> <i>(~ 950 stars)</i> </li><li>  Language: Shell </li><li>  License: Apache 2.0 </li></ul><br>  A similar solution, written in the usual Bash and a little more actively developed in the last year.  Like stern, it supports highlighting of the name of the pods (or the entire line that is configured): <br><br><img src="https://habrastorage.org/webt/ap/iq/g3/apiqg3mlf-y2do6jonpcrm-kwxy.png"><br><br>  It also allows filtering pods and containers both by full names and regular expressions, as well as using selectors, limiting output by time and number of lines, supports auto-completion for Bash, zsh and fish.  Among other features: <br><br><ul><li>  switchable mode <code>--follow</code> to update data from the logs in real time (as in <code>tail -f</code> ); </li><li>  <code>--dry-run</code> to display a list of suitable pods and containers without performing any other actions; </li><li>  jq selector support for parsing output in JSON. </li></ul><br><h3>  Kail </h3><br><ul><li>  <a href="https://github.com/boz/kail">GitHub</a> <i>(~ 500 stars)</i> </li><li>  Language: Go </li><li>  License: MIT </li></ul><br>  Another implementation that has the least activity in the code base over the last year.  Nevertheless, it has interesting functional features that distinguish it from its competitors, namely: <br><br><ul><li>  restriction on the request of hearths by the names of their Service, ReplicationController, ReplicaSet, Deployment, Node, and / or Ingress <i>(that is, those belonging to the services to which the specified Ingress leads)</i> ; </li><li>  opportunity not only to select by selectors, but also to exclude them; </li><li>  determining logging level ( <code>--log-level</code> ). </li></ul><br><img src="https://habrastorage.org/webt/so/m5/kd/som5kdohirqy2powyzwfrmunfq8.png"><br><br>  But there are also disadvantages: kail does not select with colors, does not support regular expressions for filters. <br><br><h2>  PS </h2><br>  Thank you for your interest and, of course, we will be happy to receive information about your findings in the comments! <br><br>  Read also in our blog: <br><br><ul><li>  " <a href="https://habr.com/company/flant/blog/341606/">Console assistants to work with Kubernetes through kubectl</a> "; </li><li>  " <a href="https://habr.com/company/flant/blog/330198/">Useful utilities when working with Kubernetes</a> "; </li><li>  ‚Äú <a href="https://habr.com/company/flant/blog/338132/">Introduction to kube-spawn - a utility for creating local Kubernetes clusters</a> ‚Äù; </li><li>  " <a href="https://habr.com/company/flant/blog/330398/">Awless is a powerful alternative CLI utility for working with AWS services</a> "; </li><li>  " <a href="https://habr.com/company/flant/blog/338332/">Overview of GUI Interfaces for Managing Docker Containers</a> ." </li></ul></div><p>Source: <a href="https://habr.com/ru/post/426985/">https://habr.com/ru/post/426985/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../426975/index.html">Joker 2018: the impossible is possible</a></li>
<li><a href="../426977/index.html">LibreOffice: a bad dream accountant</a></li>
<li><a href="../426979/index.html">How to learn English for free: 3 banal tools and detailed instructions for each</a></li>
<li><a href="../426981/index.html">10 tricks for advanced dashboarding in Splunk. Part 1</a></li>
<li><a href="../426983/index.html">New in SObjectizer 5.5.23: wish fulfillment or Pandora's box?</a></li>
<li><a href="../426987/index.html">Learn OpenGL. Lesson 6.3 - Image Based Lighting. Diffuse irradiation</a></li>
<li><a href="../426991/index.html">Startup Digest: 10 nearest IT events in Moscow</a></li>
<li><a href="../426993/index.html">Do I need to learn C to understand how a computer works?</a></li>
<li><a href="../426995/index.html">Recycling harms both products and employees</a></li>
<li><a href="../426997/index.html">How to create custom shapes with MaterialShapeDrawable</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>