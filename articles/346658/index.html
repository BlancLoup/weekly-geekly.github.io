<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to develop and produce IoT devices in Russia</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We have looked with great curiosity at the R & D department of our long-time partners - the Strig company, which itself develops and manufactures base...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to develop and produce IoT devices in Russia</h1><div class="post__text post__text-html js-mediator-article">  We have looked with great curiosity at the R &amp; D department of our long-time partners - the Strig company, which itself develops and manufactures base stations in Russia, IoT end devices, transmission protocols and software.  Most of our questions related to the organization of the development process and the difficulties they encountered. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4eb/378/b69/4eb378b69f0b4a4d07e8a2b85020725e.png"><br><a name="habracut"></a><br>  Anyone who is in the subject of IoT, probably heard about the company <a href="https://strij.tech/">Swift</a> .  It is a manufacturer of wireless devices class LPWAN (Low-Power Wide-Area Network) for the Internet of things.  They develop telemetry systems for housing and utilities, security, smart cities and agriculture.  Moreover, they create a full range of devices, including various meters (electricity, gas, water), base stations, statistics collection servers and cloud data access interfaces, and all production is in Russia. <br><br>  Their main development is the radio protocol XNB (Extended Narrowband).  Thanks to the work in the ultra-narrow band, XNB allows you to transmit a signal in the city up to 10 km.  It is adapted for transmitting signals up to 25 mW at a frequency of 868.8 MHz (does not require permits and licenses). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      A feature of the protocol is high penetrating power.  Building structures are not a serious obstacle, and transmission is possible from basements and through thick walls, where GSM does not catch it. <br><br>  All data is transmitted in encrypted form, the following encryption algorithms are supported: AES-128, XTEA-256, GOST R34.12-2015. <br><br><h2>  What exactly do they produce </h2><br>  The main list of devices looks like this: single-phase / three-phase electricity meters, water meters, gas meters, heat meters, radio modems, basic LPWAN radio stations, DevKIT XNB.  It is noteworthy in the meters that in the conditions of urban development they can send a signal up to a distance of 10 km, and from one built-in battery with a capacity of 3600 mAh work 10 years. <br><br>  Outwardly, these devices look like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9ee/329/f40/9ee329f407476689a37ceefe61b4ed1c.jpg"><br>  <i>The water meter SVK 15-3-2 with the radio modem "STRIZH" DU15 110 mm</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9e/tv/lj/9etvljl7yet4_6y9h62oqvqjo2i.png"></div>  <i>A3 meter with built-in LPWAN radio modem</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/76c/c0f/b04/76cc0fb04b83d06111d3919b511061b6.jpg"><br>  <i>Radio modem ‚ÄúSWIFT‚Äù integrated with leakage sensor</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/17d/814/b99/17d814b99a663af81d9592e726e94f88.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/826/3ce/4e7/8263ce4e7a93283f9b022b0ba6e7c81a.jpg"><br>  <i>Baseline LPWAN radio station "STRIZH"</i> <br><br>  Here are some of its characteristics: <br><br><ul><li>  Range: up to 10 km - urban environment;  up to 50 km - open space <br></li><li>  Sensitivity: <br>  -142 dBm <br></li><li>  Frequency range: 400 MHz - 1 GHz, including 433 MHz and 868.8 MHz <br></li><li>  Data transfer rate: Downlink 200, 500, 5000, 57600 baud / s, Uplink 50, 4000 baud / s <br></li></ul><br>  Even in their arsenal there is a kit for developers. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c86/37c/732/c8637c732185fa8411974eec9ad8e3b1.jpg"><br>  <i>DevKIT XNB</i> <br><br>  The DevKIT is based on an XNB modem based on the <a href="http://www.onsemi.ru.com/PowerSolutions/document/AX8052F143-D.PDF">Semiconductor ax8052f143</a> chip with an 8051 architecture and rich radio <a href="http://www.onsemi.ru.com/PowerSolutions/document/AX8052F143-D.PDF">peripherals</a> .  The board has two antennas: one, transmitting, operates at a frequency of 868.8 MHz, the second, receiving, at a frequency of 446 MHz. <br><br>  When developing an IoT device, there is no need to worry about the radio communication protocol or encryption, the modem will do everything by itself, it only needs to transmit data on the UART and the command to send.  When receiving data, the modem will also decrypt the data and transmit it to the microcontroller for processing. <br><br>  For more serious tasks, it is possible to use the SDK of the Semiconductor ax8052f143 chip with the XNB libraries.  This eliminates the need for an external control microcontroller and reduces the power consumption of the device as a whole.  True, it will have to put more effort into developing the firmware. <br><br><h2>  Where does the development start </h2><br>  The first option is when a manufacturer of water or electricity meters calls for the addition of radio transmission functions to its products.  In this case, each company is developing / refining its part, which speeds up the process as a whole.  The finished ‚Äúsmart‚Äù device comes out in a month, while one programmer and one circuit engineer are working, and most of the time the device is tested on the stand. <br><br>  The second option - the device is being developed to the requirements of the electricity supplier or the water supply company.  With such orders, the company often must participate in the tender, and from the point of view of finance, this is the most costly option.  But in case of victory, all investments will pay off.  For example, according to this scheme, Swift worked with Mosenergosbyt. <br><br><h2>  Process itself </h2><br>  The first stage is the wording of the technical specifications.  For IoT Strizh devices, it always includes requirements such as long (about 10 years) battery life, data transmission distance in a city of 10 km, in open space - 50 km, type of communication (one-way or two-way). <br><br>  Then begins the development of schemes.  Experts come up with a component base, determine the location of the elements inside the case and the placement of antennas, choose the case material, which will allow for good radio characteristics in a particular case. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/21e/c36/ce6/21ec36ce64212ec3d6857ebd0af63922.jpg"><br><br>  Domestic items suppliers bring without prior payment, which greatly accelerates production.  Radio chips Semiconductor ax8052f143 are purchased directly from the manufacturer in large quantities, which allows you to get the lowest possible price. <br><br>  Printed circuit boards are produced in Zelenograd by Rezonit, which any amateur knows, perhaps. <br><br>  Several devices are constantly under development. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/259/d00/8e8/259d008e80c65efb1c05e47a60b1df52.jpg"><br><br>  After the release of the payment programmers are taken to work.  The firmware for the device is usually written by one person.  After that, the device is installed on the stand and thoroughly tested, since subsequently it will have to work without failures for several years.  Signal transmission power cannot exceed 25 mW.  For control, every engineer has an oscilloscope and tools for analyzing the radio.  If within a month the device works without failures, development is considered complete. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3b7/db8/2e1/3b7db82e1a43acf1d1acbcaa448b0138.jpg"><br><br>  Since each device is unique, many new problems have to be solved during development.  Most of Strizh‚Äôs developers are concerned with this list of tasks: <br><br><ul><li>  <b>Mutual influence of antennas</b> </li></ul><br>  Water or gas meters can only send a signal (uplink) to the base station and, accordingly, are equipped with only one antenna at 868.8 MHz.  Electricity meters, in addition to sending readings, must also accept changes in the tariff schedule.  Receives a signal (downlink) from the base station electric meter at a frequency of 446 MHz.  Antennas should be positioned in such a way as not to interfere with each other's work, and one should not forget about the dimensions of the device. <br><br><ul><li>  <b>The location of the antenna in the device</b> </li></ul><br>  To transmit a radio signal to a maximum range, the antenna must be properly designed and located inside the case.  Testing of antennas occurs in real conditions.  For example, an electric meter is installed in a metal cabinet and sends data with the door closed.  In this case, attention is primarily paid to the standing wave ratio (CWS) of the antenna and, to a lesser extent, to the radiation pattern. <br><br><ul><li>  <b>Frequency Care Prediction</b> </li></ul><br>  The channel bandwidth of the transmitting device is only 100 Hz.  Narrowband signal and high power per bit ensure a good energy potential of the communication channel and high noise immunity, but at the same time it becomes difficult to get to the correct frequency when downlink.  Therefore, with the help of complex software algorithms, it is necessary to predict frequency drift. <br><br><ul><li>  <b>Device cost</b> </li></ul><br>  In order not to degrade the performance, but at the same time save on components, we constantly have to invent know-how.  For example, the same power supply for an electric meter from 220 V to 12 V should be compact, with good output characteristics.  At the same time cost no more than $ 2. <br><br><ul><li>  <b>Overheating base station</b> </li></ul><br>  The base LPWAN station is a computer with Linux Debian Jessie OS in a sealed shockproof case with an SDR receiver and transmitter and a large antenna.  It can be operated anywhere in Russia, so the requirements for the working temperature are very serious: from -40 to +60 ¬∞ C. <br><br>  The BS is tested in a special freezer, as well as in the southern cities of our Homeland, where in summer the temperature in the sun can reach 50 ¬∞ C.  In all cases, the system should be stable. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/aff/3e7/4ea/aff3e74eafd03f377cf91dd4cbe9fe56.jpg"><br><br><ul><li>  <b>Cloud</b> </li></ul><br>  Usually, the cloud load is uniform, but if, for example, the base station of the cottage community is unable to transfer data from the meters to the STRIZh.Cloud service due to a broken Internet cable, it begins to accumulate them and, after the Internet connection is restored, it can send more million messages, which is essentially a DoS attack. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4b1/91c/e4b/4b191ce4b82c706102701ac218c44e86.jpg"><br><br><ul><li>  <b>Support</b> </li></ul><br>  In addition to the basic support functions, engineers have the task of tracking anomalous activity, or vice versa, not subscriber equipment activity.  If the device has not been contacted for a long time, then a specialist is required to check out the cause.  The meter may have been covered with a metal plate that does not transmit radio signals. <br><br>  In case the owners intervene in the operation of the device (for example, stopping the counter with a magnet), the devices are equipped with magnetic field sensors and a number of other sensors. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1f1/125/42c/1f112542ca19b831fe571cf504d7216c.png"></div><br><img src="https://habrastorage.org/getpro/habr/post_images/af1/600/c7e/af1600c7e40bc1b183dc49bf277c4c15.png"><br><hr><br>  Here is a list of concerns today for Russian IoT developers, who, by the way, are ready to share their experience.  Three Swift specialists will speak at our January <a href="http://inothings.ru/">InoThings ++ 2018</a> conference.  Andrei Tsislav, Technical Director, will have a report on the topic ‚ÄúDevelopment of IoT devices - something that is not written in the books‚Äù, the head of the Internet development Sergey Aksenov will cover the topic ‚ÄúAnti-patterns of developing software systems for the Internet of things‚Äù, and Stanislav Elizarov, the head of the network department infrastructure, will make the report "Almost reliable solutions." <br><br>  <s>For those interested, we have a small bonus - a code for a 15 percent discount on tickets (HabraIoT2018), which must be entered during registration.</s> <br><br>  No, no, not like that.  We decided to make the first conference for the developers of the Internet-things <strong>completely free</strong> .  <a href="http://inothings.ru/">Register</a> and come! </div><p>Source: <a href="https://habr.com/ru/post/346658/">https://habr.com/ru/post/346658/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../346648/index.html">What questions do you have?</a></li>
<li><a href="../346650/index.html">Secrets of the resource forest: how we gathered together the IT structure of VTB</a></li>
<li><a href="../346652/index.html">Parsing badoo php tasks and new test How to get an offer to London in February</a></li>
<li><a href="../346654/index.html">Game design: don't confuse the player</a></li>
<li><a href="../346656/index.html">What threatens blockchain networks: we consider attacks and methods of protection</a></li>
<li><a href="../346660/index.html">[Video] Reports from the iOS developer Red Hot Chili Apples</a></li>
<li><a href="../346662/index.html">Autopilot on AT91SAM7</a></li>
<li><a href="../346666/index.html">ICO regulation. Estonia</a></li>
<li><a href="../346668/index.html">Networks and neighbors: methods of survival of machine learning in the ‚Äúwild‚Äù. Open Workshop AI @ MIPT</a></li>
<li><a href="../346670/index.html">Web components: review and use in production</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>