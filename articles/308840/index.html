<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Alternative Technologies for High Availability</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When building High Availability Configuration based on RISC platform equipment, we choose from a very limited set of cluster software. First of all, i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Alternative Technologies for High Availability</h1><div class="post__text post__text-html js-mediator-article">  When building High Availability Configuration based on RISC platform equipment, we choose from a very limited set of cluster software.  First of all, it is vendor development - Oracle Solaris Cluster, PowerHA (IBM), Serviceguard (HP), and Veritas Cluster Server.  The last solution in fact is the main option currently proposed for building cluster configurations, and for different platforms - Oracle, IBM, etc. <br><br>  However, we decided not to limit ourselves to these developments and look for an alternative cluster solution for x86.  Thus, an internal project was initiated to test cluster configuration based on Pacemaker software. <br><a name="habracut"></a><br>  Pacemaker is a opensource product that is included with many Linux distributions.  The product supports a wide range of cluster topologies, various quorum strategies, starting order and dependencies between applications, parallel applications, etc.  It does not have a licensing program, respectively, licenses do not need to be purchased, at the same time a solution can be supplied for support from a number of vendors, for example from Red Hat. <br><br>  The main goal of the project was the development and expansion of the products and clustering technologies offered by us and the construction of High Availability Configuration, the formation of a more accessible alternative to the existing solutions. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We set ourselves the following tasks: <br><br><ul><li>  to carry out a standout of typical configurations, to study the functionality and limitations of the solution, to work out the configurations, to gain skills of implementation and configuration; </li><li>  to determine the possibility and prospects of further promotion of solutions in our projects. </li></ul><br>  We defined the main success criteria for testing configurations.  The first is that the configurations should provide the basic functions of ensuring high availability of services.  Protection should be provided from the main types of hardware and software failures: server failure (hardware, OS), failure to connect to disk resources, failure to connect to the LAN, failure of the application service.  Verification of the functions carried out according to the PMI. <br><br>  The second criterion is that the product being tested should be commercially advantageous compared to Veritas Cluster Server. <br><br>  The third is the presence of additional functionalities of the product, such as user-friendly GUI, monitoring tools and alerts. <br><br>  We have prepared a test bench, the general scheme of which is shown in Fig.  one. <br><br>  <b>Fig.</b>  <b>1. Scheme of the test stand</b> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/b45/f25/2ce/b45f252ceda441848e49f56e067de7cb.png"></div><br><br>  To ensure the integrity of the configuration, each of the cluster nodes has 2 connections in the intercluster interaction network.  In addition, to increase the availability of cluster nodes, each node has a duplicate connection to a public network segment intended for the transfer of application data. <br><br>  The cluster configuration was built for an instance of Oracle Database 11g2.  For system redundancy, a 1 + 1 scheme was used.  It implies the use of the same type of equipment and the possibility of transferring the functionality of one of the servers in case of its failure to the backup node.  The schematic diagram of the solution is shown in Fig.  2 <br><br>  <b>Fig.</b>  <b>2. Solution scheme</b> <br><div style="text-align:center;"><img src="https://habrastorage.org/files/473/f76/234/473f76234b3f4fb3abd53f27aa8e926d.png"></div><br><br>  The distribution of cluster resources between computing nodes is illustrated in Fig.  3 <br><br>  <b>Fig.</b>  <b>3. Configuration of the distribution of cluster resources between computing nodes</b> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/2aa/e0c/8d6/2aae0c8d66ba4650be6aee9a21ad616c.png"></div><br><br>  The oracle-grp group includes the following resources: <br><br><ul><li>  res-IP public - IP address from public network (IPaddr2 agent) </li><li>  res-ora_dg - disk subsystem management resource (LVM agent) </li><li>  res-ora_FS - file system management resource (Filesystem agent) </li><li>  res-oracle - Oracle DBMS instance </li><li>  res-oralsnr - Oracle Listener instance </li></ul><br>  Resources outside the group: <br><br><ul><li>  res-ping - network connection check resource (ping agent in clone configuration) </li><li>  scsi-shooter - fencing agent </li></ul><br>  The decision revealed some limitations.  At the time of testing, the supported versions of Oracle DBMS for creating fail-safe configurations based on Pacemaker software were Oracle Database 10g and 11g.  As mentioned above, testing was conducted with Oracle Database 11g2.  Oracle Database 12c DBMS is not supported. <br><br>  The prepared solution was subjected to a full test cycle.  The main ones and the test results are presented in Table.  one. <br><br>  <b>Tab.</b>  <b>1. Test cycle and their results</b> <br><table><tbody><tr><td width="30"><p>  <strong>Item number</strong> </p></td><td><p>  <strong>Requirements to be checked</strong> </p></td><td><p>  <strong>Test result</strong> </p></td></tr><tr><td><p></p></td><td colspan="2"><p>  <strong>Pacemaker</strong> <strong>software based cluster validation technique</strong> </p></td></tr><tr><td>  one. </td><td><p>  Verification of the composition and configuration of hardware and software </p></td><td><p>  Done </p></td></tr><tr><td>  2 </td><td><p>  Verify network network reservation to the Public Network </p></td><td><p>  Done </p></td></tr><tr><td>  3 </td><td><p>  SAN reservation check </p></td><td><p>  Done </p></td></tr><tr><td>  four. </td><td><p>  DBMS availability check </p></td><td><p>  Done </p></td></tr><tr><td>  five. </td><td><p>  Connecting to the cluster management console </p></td><td><p>  Done </p></td></tr><tr><td>  6 </td><td><p>  Check Cluster Resource Status </p></td><td><p>  Done </p></td></tr><tr><td>  7 </td><td><p>  Checking the status of cluster nodes </p></td><td><p>  Done </p></td></tr><tr><td>  eight. </td><td><p>  Cluster check </p></td><td><p>  Done </p></td></tr><tr><td>  9. </td><td><p>  Checking heartbeat condition </p></td><td><p>  Done </p></td></tr><tr><td>  ten. </td><td><p>  Checking the status of IO Fencing </p></td><td><p>  Done </p></td></tr><tr><td>  eleven. </td><td><p>  Check availability of services (Kernel Panic of the primary node of the cluster) </p></td><td><p>  Done </p></td></tr><tr><td>  12. </td><td><p>  Check availability of services (disabling all Ethernet connections of the primary node of the cluster) </p></td><td><p>  Done </p></td></tr><tr><td>  13. </td><td><p>  Check availability of services (disabling all FC connections of the primary node of the cluster) </p></td><td><p>  Done </p></td></tr><tr><td>  14. </td><td><p>  Check availability of services (kill process managed by cluster software) </p></td><td><p>  Done </p></td></tr><tr><td>  15. </td><td><p>  Checking the availability of services (reset by means of ILO of the main cluster node) </p></td><td><p>  Done </p></td></tr><tr><td>  sixteen. </td><td><p>  Testing the fault tolerance mechanisms (disabling the main cluster node from one intercluster interaction network) </p></td><td><p>  Done </p></td></tr><tr><td>  17 </td><td><p>  Testing the fault tolerance mechanisms (disabling the main cluster node from all intercluster interaction networks) </p></td><td><p>  Done </p></td></tr><tr><td>  18. </td><td><p>  Established migration of services to the backup node </p></td><td><p>  Done </p></td></tr></tbody></table><br><h4>  findings </h4><br>  The high availability configuration based on the Pacemaker software meets the basic requirements for fault tolerance and can be an alternative to VCS in productive applications with a number of the following limitations: <br><br><ul><li>  Ethernet adapters redundancy (working out of the physical connection failure situation) must be provided with third-party software and application of the additional agent ‚Äúping‚Äù in the configuration, which is configured to periodically check the availability of specified targets in the network by IP address </li><li>  You must use the latest version of the cluster software; </li><li>  decision support by the vendor is limited to the basic composition of the software.  Other agents are written by the community or by themselves.  Support for these agents by the vendor is not covered. </li></ul><br>  The main directions of development solutions and vendor plans: <br><br><ul><li>  documentation improvement; </li><li>  increase the number of resources in the cluster to 100; </li><li>  development of integration with containers; </li><li>  development of integration with RedHat 7.x. </li><li>  failure to further develop solutions based on cman &amp; rgmanger </li></ul><br>  Ability to scale configurations: according to the documentation, it is possible to build a multi-node cluster based on Pacemaker (up to 16 nodes). <br><br>  Ability to create DR configurations: building full-fledged DR-solutions based on Pacemaker software is impossible.  A supported solution is a ‚Äústretched‚Äù cluster configuration with DRBD replication.  Native integration with replication mechanisms from storage vendors is absent. <br><br>  The main features of the Pacemaker software are: <br><br><ul><li>  lack of a licensing program, i.e.  the cost of licenses; </li><li>  cluster software integration with Linux system services; </li><li>  open source. </li></ul><br>  At the same time, a number of shortcomings of the tested solution were revealed: <br><br><ul><li>  limit on the number of nodes in the cluster - a maximum of 16; </li><li>  application only on the Linux platform; </li><li>  small number of agents; </li><li>  non-functional GUI; </li><li>  lack of Disaster Recovery functionality; </li><li>  little flexibility in setting; </li><li>  instability of work in some software releases (software errors); </li><li>  lack of ability to manage multiple clusters from a single graphical management console; </li><li>  difficulty in setting up and operating; </li><li>  no consolidated documentation set. </li></ul><br>  Our experience with cluster solutions shows that using Veritas Cluster Server cluster software is more preferable from the point of view of availability, reliability and stability of the system, configuration flexibility and functionality, as well as vendor support.  For this indicator, Pacemaker is inferior to Veritas. <br><br>  However, in cases where price is a decisive factor, the use of Pacemaker software is possible subject to the nuances and limitations described above. <br><br>  The article was prepared by Anton Goloschapov, the engineer-designer of computer systems of Jet Infosystems. </div><p>Source: <a href="https://habr.com/ru/post/308840/">https://habr.com/ru/post/308840/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../308822/index.html">What is the source of strength and leadership qualities Cheryl Sandberg</a></li>
<li><a href="../308824/index.html">The Certification Authority from China mistakenly issued an SSL certificate to the user for the GitHub domain.</a></li>
<li><a href="../308826/index.html">Lectures of the Technosphere. Perl Programming (Fall 2015)</a></li>
<li><a href="../308828/index.html">Bitcoin - money for everyone</a></li>
<li><a href="../308830/index.html">How four-hour support turns into weekly, and some features of HP, IBM, Dell paid service</a></li>
<li><a href="../308842/index.html">In September, the European Union will force the largest IT companies to live in justice</a></li>
<li><a href="../308844/index.html">Veeam Announces New Solutions and Features</a></li>
<li><a href="../308846/index.html">Path to http / 2</a></li>
<li><a href="../308850/index.html">Towards 5G</a></li>
<li><a href="../308852/index.html">Apple Special Event at Rambler & Co</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>