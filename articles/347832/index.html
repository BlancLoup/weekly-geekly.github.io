<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How multichannel phone numbers work</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently on Habr√© was an article about the "unusual" DEF-numbers. Under the unusualness, there was a ‚Äúmulti-channel‚Äù - the ability to receive several ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How multichannel phone numbers work</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/webt/u_/rl/9g/u_rl9gg4twjv980jyabtqr6aem4.jpeg"></div><br>  Recently on Habr√© was <a href="https://habrahabr.ru/company/iptelefon/blog/347190/">an article</a> about the "unusual" DEF-numbers.  Under the unusualness, there was a ‚Äúmulti-channel‚Äù - the ability to receive several parallel calls to a number (and call center operators would be talking to them).  As many as five simultaneous conversations and an exclamation point at the end of the phrase!  Under the cut, I'll tell you about the multi-channel, not from a marketing, but from a technical point of view.  How do operators ‚Äútake‚Äù calls, how does an ‚Äúunusual DEF number‚Äù differ from a ‚Äúregular ABC number‚Äù, and is this a lot or a little - as many as five parallel calls?  By the way, why exactly five, not twenty or a hundred? <br><a name="habracut"></a><br><h1>  Telephony Guts: E1, PRI, SS7, SIP </h1><br>  Telecom operator serves incoming calls to the number.  This is the central concept of telephony, from which everything else grows.  The conditional operator ‚ÄúHorns and Hoofs‚Äù announces that it will service incoming calls to the number ‚Äú+1234567890‚Äù and charge for 10 kopecks per minute.  Now, if you type the indicated line on your mobile, your telecom operator will somehow notify Horn that there is an incoming call and it would be nice to do something with it.  For example, to signal back ‚Äúcall received‚Äù and begin to receive a voice stream.  Or, without taking a call, send your voice stream "subscriber temporarily not a subscriber." <br><br>  Physically, telecom operators in different countries use different things.  Most often this is the ‚ÄúPrimary Rate Interface‚Äù: a physical interface with guaranteed packet delivery and dedicated channels of 64 kilobits.  At the junction point, operators put boxes like <a href="https://eltex-co.ru/catalog/trunk_gateways/smg-1016m/">this one</a> , which are interconnected with funny SCSI-like cables.  One box usually serves from 4 to 16 E1 connections, each of which has 32 channels for voice, slightly compressed g.711 and signaling.  Total more than 500 parallel calls to the box. <br><br>  In the honorable second place SIP with a joint through a usual ethernet-network or even the Internet.  There are no "channels", everything depends on the software, the width of the channel and the power of the computers.  And decency of Internet providers, which sometimes configure QoS (but more often - not). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  Number is a text string. </h1><br>  In fact, not always, SS7-ISUP has many different options to present ‚Äúto whom we are calling‚Äù, but in the general case we can expect exactly the text string.  What will be written there: "84951234567", "+79261234567" or what else - this is how operators and regulators in a particular country and region agree.  And yes, we don‚Äôt have a single standard for the whole world. <br><br>  The division into "city number", "ABC geographically defined number", "mobile number", "DEF geographically undefined number" - it is conditional.  No more than an agreement of the operators about the format and who will pay someone for servicing this particular number, plus nuances like open and closed numbering or that within one city you can call without the prefix of this city.  Provided that all operators were able to agree on this and properly set up their software. <br><br><h1>  And what about multichannel? </h1><br>  So, we have 2 facts: <br><br><ol><li>  The operator maintains the number and can receive requests for an incoming call.  For money. </li><li>  The number is a text string.  Different numbers differ only in the arrangement of the operators how to receive calls on them and how much money to take for it. </li></ol><br>  As you can see, nothing foreshadows the restriction ‚Äúonly one call per number‚Äù.  And there really is no such restriction!  Any number has ‚Äúinnate‚Äù multi-channel.  Restrictions can only be on the side of the equipment (not enough physical connections E1) or logical (this is the cellular number. The subscriber is already talking on the phone. Where to put 10 more incoming to the same number?). <br><br>  In practice, we can expect up to 100 parallel calls to one number to work correctly.  With a very large number of calls from the operator initiating the call (for example, this is a cellular operator) it will not be possible to distribute it to the receiving operator, and back we will hear the rare-earth error ‚Äúsorry, all lines are busy‚Äù. <br><br><h1>  How we do it in Voximplant </h1><br>  For each incoming call, we create a separate JavaScript session, where the code you downloaded is executed.  And already he decides what to do with this call.  For example, if this is a retailer number, then you can make an HTTP request for the backend, find out the order status by number and if the calling customer has an order - synthesize it with a voice and suggest doing something, for example, transfer time. <br><br>  You can send a call to the call center, the cloud can call the PSTN (public telephone network) and SIP.  And you can build a call center yourself - there are ready-made "batteries" for the message queue and the SDK to receive calls in web browsers and mobile applications. <br><br>  In general, JavaScript ‚Äúnext to‚Äù with a call, performed in real time, allows you to do a lot of interesting things before the ‚Äúmulti-channel‚Äù rests on the living people of the call center, technical support or telemedicine.  For example, an HTTP request can be used to get a call center load (or directly from JS, if our message queues are there), and if there ‚Äúthe operator answers in more than ten minutes‚Äù, we can suggest that we call the customer ourselves.  The JavaScript session can safely continue its work after the caller has hung up.  Having received the user's consent to the chime (for example, recognizing an affirmative answer or asking to enter a number from the phone's keypad), the session sends a request to the waiting queue or call center, waits for it as it should, and after connecting with the operator it synthesizes what is happening now, calls back on the memorized phone number, synthesizes what kind of call and, finally, connects the operator with the person.  JavaScript is power. </div><p>Source: <a href="https://habr.com/ru/post/347832/">https://habr.com/ru/post/347832/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../347822/index.html">Phone Keyboard vs. Keyword Algorithms vs. Protection of personal information</a></li>
<li><a href="../347824/index.html">Actions on Google: Start developing applications for Google Assistant, which will soon be launched in Russia</a></li>
<li><a href="../347826/index.html">Chromium typos</a></li>
<li><a href="../347828/index.html">IOS App Development: Start Your Career</a></li>
<li><a href="../347830/index.html">100 interviews per hour, virtual space and 23 million rubles: the results of the pilots in the MEGA Accelerator 2017</a></li>
<li><a href="../347834/index.html">Anatomy of a thousand fonts</a></li>
<li><a href="../347836/index.html">Object in a case or Optional in Java 8 and Java 9. Part 4: ‚ÄúHow to close a hole in Java with a double bottom case‚Äù</a></li>
<li><a href="../347838/index.html">How we manage data quality</a></li>
<li><a href="../347840/index.html">Android Application Development: Start Your Career</a></li>
<li><a href="../347842/index.html">Old-new holes of e-Government of Kazakhstan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>