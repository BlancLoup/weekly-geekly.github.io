<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Z-Wave lock to help a small office or home</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If you own a small office for 10-15 people, then you would like to know when your employees arrive, whether the cleaning woman came in the evening. It...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Z-Wave lock to help a small office or home</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/7c6/60e/496/7c660e4965854885a2c372929b4e61a1.jpg"><br><br>  If you own a small office for 10-15 people, then you would like to know when your employees arrive, whether the cleaning woman came in the evening.  It would not be superfluous to auto-close the castle so that none of the witnesses of Poseidon would accidentally make their way, as well as issue temporary codes for visitors. <br><br>  There are many professional access control systems where you can open the door with a card, but in this case, a special mechanism is driven into the door, power leads, and the reader is installed in the wall.  It is not very cheap and sometimes it is impossible to install such a system, for example, if the tenant does not allow changes in the decoration or in a building of historical value. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Devices from the Z-Wave smart home come to the rescue! <br><br><h3>  Access Control System Devices </h3><br><ol><li>  <b>Vision lock</b> on batteries, installed in place of the existing door lock.  A lock always reports a change in its state, no matter how you open it: with a radio command, code or key. <br><br>  <b>Characteristics of the lock Vision:</b> <br><ol><li>  Ability to open the Z-Wave team (encryption AES128), using a code panel and a regular key </li><li>  If opened with a key or a latch, it reports to the controller that it is open / closed. </li><li>  Reports to the controller the code number that opened the door </li><li>  Keeps a log of events.  If you enter the wrong code, you will learn about it. </li><li>  13 codes </li><li>  Work on 4xAA batteries for up to a year (depending on how often the lock is used) </li></ol><br>  Complete with the Z-Wave <a href="https://geektimes.ru/company/zwave/blog/257872/">RaZberry</a> controller and the opening sensor, it is possible to use Auto-close, Remote control, Event logging and many others. <br><img src="https://habrastorage.org/files/f76/de6/81c/f76de681c839456f8b10683ffad7bbb5.png" width="33%"><br></li><li>  <b>The sensor of opening Fibaro Door / Window Sensor</b> on batteries detects the door is open or closed.  The sensor consists of two halves: a reed switch and a magnet, which are glued to a double-sided tape on the door and the door jamb.  Each time you disconnect / connect the two halves, the sensor sends a message to the controller.  With its help, it is possible to implement the Auto Close script or turn on the indication of an open door. <br><br>  <b>Characteristics of the opening sensor Fibaro Door / Window Sensor:</b> <br><ol><li>  Reed switch and magnet </li><li>  Informs on the controller the door is open or closed </li><li>  DS18B20 temperature sensor can be connected </li><li>  Reports to the controller if the sensor has been unstuck (there is a tamper on the back side) </li><li>  Battery operation 1 / 2AA up to two years </li></ol><br><img src="https://habrastorage.org/files/d7a/365/890/d7a365890b0941f0b56584b261208723.jpg" width="50%"></li><li>  <b><a href="https://geektimes.ru/company/zwave/blog/257872/">The RaZberry smart home controller</a></b> with the Z-Wave 5th generation <b><a href="https://geektimes.ru/company/zwave/blog/257872/">motherboard</a></b> is the brain of the entire system, supports work with all Z-Wave devices in the world (more than 1300), allows writing automation on JS, and in our case controls the lock using applications that are configured in 3 clicks. <br><br>  <b>Characteristics of the RaZberry controller:</b> <br><ol><li>  The power of Raspberry Pi B + </li><li>  Supports ALL Z-Wave devices in the world </li><li>  Automation is created using embedded applications. </li><li>  Ability to write unique automation on JS </li></ol><br><img src="https://habrastorage.org/files/abf/b83/9e1/abfb839e13284e14917066bd568a0b1d.jpg"></li></ol><br><h3>  Access Control System Features </h3><br>  We will assign the following functions to our access control system: <br><ul><li>  Know what employee what time he came </li><li>  Auto-lock </li><li>  Automatically issue a temporary code to the cleaner for a short time. </li><li>  Open the lock remotely from a phone or key fob </li><li>  Indication of the door is not closed </li></ul><br>  So, after we installed the lock and the opening sensor, added them to the Z-Wave network, it remains only to use a couple of applications to configure access control. <br><img src="https://habrastorage.org/files/106/8a8/df7/1068a8df757d4e1d9e9a8162b292d057.png"><br>  View of devices in the RaZberry web interface <br><br>  " <b>Auto-lock lock</b> " - in its settings, select the lock and the opening sensor.  If the door is open, the lock will not close; if you close and quickly open, the lock will not close.  The lock will close only after the door is closed and the delay time specified in the application passes. <br><img src="https://habrastorage.org/files/2af/240/039/2af2400392814bac833ff3d4d5b95d9a.png"><br><br>  ‚Äú <b>Lock log</b> ‚Äù - an event will be logged in the lock at each lock operation, for example: ‚ÄúVasya opened the door with a code‚Äù, ‚ÄúLock is opened with a key‚Äù, ‚ÄúCode entered incorrectly‚Äù, etc. In the settings we specify a lock, we add employees (you can set the employee code from ExpertUI), specify how to save the events - JSON (local file) or HTTP (the event can be sent to a remote server in the database).  The log is read from the local JSON file. <br><img src="https://habrastorage.org/files/0ed/c2b/798/0edc2b798d504d6da8b8daf2f73f5042.jpg"><br><br><img src="https://habrastorage.org/files/797/a3b/6ec/797a3b6ec23c47bdb22976009bbc334b.jpg"><br>  The design of the magazine will be improved and filters and other buns will be added.  The Lock Log application will soon be available in the <b>Online Applications</b> list. <br><br>  " <b>Temporary code for the cleaners</b> " - we will make it ourselves with the help of the schedule and the JS team.  First you need to create two scenes "JS device" with the launch of the commands to install the lock code and remove the lock code. <br><br>  The command for setting the code is 5555 in cell 12, where 2 is the lock number in the Z-Wave network. <br><pre><code class="javascript hljs">zway.devices[<span class="hljs-number"><span class="hljs-number">2</span></span>].UserCode.Set(<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-string"><span class="hljs-string">"5555"</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre> <br><br>  The command to remove code 5555 from cell 12, where 2 is the lock number in the Z-Wave network. <br><pre> <code class="javascript hljs">zway.devices[<span class="hljs-number"><span class="hljs-number">2</span></span>].UserCode.Set(<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-string"><span class="hljs-string">"5555"</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>)</code> </pre><br><br><img src="https://habrastorage.org/files/241/050/3dc/2410503dcaf8478cbf51a1b44b85c609.png"><br><br>  In the schedule, we set the day of the week and the time when the scene should be executed with the command for setting the lock code. <br>  Every day at 00:00 the code for the cleaning woman is activated.  The withdrawal schedule is done similarly. <br><img src="https://habrastorage.org/files/a24/ba2/f1e/a24ba2f1ea054832aa79f647bdacd7b7.png"><br><br>  You can develop a topic with the schedule further and, for example, reset all codes at night to prevent access to the office at night. <br>  Also in the office you can place a LED sign with the inscription "Close the door", which is connected to the socket module and turn it on if the door is open for more than 10 seconds. <br>  Your secretary, you can give a keychain and then she will not have to get up from his seat to open the door. <br><br>  If you have your own unique automation tasks, then you can easily solve them with the help of Z-Wave equipment.  And since the RaZberry controller supports integration with other IoT devices via HTTP commands, you can use various WiFi smart devices with Z-Wave! <br><br>  Recommended retail prices for devices used in the article: <br><ol><li>  Lock with handle Vision Security - 22 220 rub. </li><li>  Sensor opening Fibaro - 5440 rubles. </li><li>  Z-Wave RaZberry controller - 13090 rub. </li></ol><br>  The lock and motion sensor can easily be replaced with other models, for example there is a version of the <a href="http://rus.z-wave.me/shop/zamki/zamok-vision-security-electronic-deadbolt-lock/">lock without a handle</a> , and the <a href="http://rus.z-wave.me/shop/sensors/aeon-recessed-door-sensor/">opening sensor can be used hidden from Aeon</a> . </div><p>Source: <a href="https://habr.com/ru/post/367939/">https://habr.com/ru/post/367939/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../367929/index.html">About sugar from the point of view of a chemist. Chemistry in the kitchen 2</a></li>
<li><a href="../367931/index.html">Drones have learned to look for people in the forest</a></li>
<li><a href="../367933/index.html">Will computers ever really think?</a></li>
<li><a href="../367935/index.html">Belarus imposed duties on online purchases of more than 22 euros. Russia is next</a></li>
<li><a href="../367937/index.html">The company Hardkernel has released a new version of the 37-dollar mini-PC</a></li>
<li><a href="../367941/index.html">Monoprice Sport Earbud Headphone Review</a></li>
<li><a href="../367943/index.html">The Japanese have created a hydrogel that works as an artificial muscle.</a></li>
<li><a href="../367949/index.html">The corporations are evil. Okay, Google: how to destroy humanity?</a></li>
<li><a href="../367951/index.html">A new technique allows you to create a conductive glass that lets even more light than normal</a></li>
<li><a href="../367953/index.html">Inside from Master Keith: how to assemble a 3D printer with your own hands for 12,330 rubles</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>