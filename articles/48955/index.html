<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Subtleties of routing in the Zend Framework</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The goal is to make the user profile available through example.com/user/username and through the username user subdomain username.example.com . The ta...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Subtleties of routing in the Zend Framework</h1><div class="post__text post__text-html js-mediator-article">  The goal is to make the user profile available through <a href="http://example.com/user/username">example.com/user/username</a> and through the username user subdomain <a href="http://username.example.com/">username.example.com</a> .  The task is simple and with the help of the Zend Framework is solved by a couple of lines of code.  Difficulties started when I decided to register actions, confirm registration, reset the password and enter / exit itself into the same controller that displays the user profile.  Now there was a task to teach the controller not to treat <a href="http://example.com/user/register">example.com/user/register</a> as a user. <br><a name="habracut"></a><br>  Following the documentation, when defining a router, we can specify by the third parameter the requirements for variables defined in the route as a regular expression. <br>  To solve the problem, it is necessary to specify the regular expression <i>"/^(?!register$|confirm$|recover$|login$|logout$).+$/"</i> , which translates as "a string with any subsequent text from the beginning of the string that does not contain strings register, confirm, recover, login, logout and then terminate the string ‚Äù(I always considered regulars as shamanism).  But ZF has already bothered about us, putting down the framing characters, and the characters at the beginning and end of the line. <br><br>  So let us have a UserController controller.  This controller contains an IndexAction action that serves to work with a user profile, as well as actions that we need to run, ignoring routing.  Summary Code: <br><br><br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">$routeUri = <font color="#0000ff">new</font> Zend_Controller_Router_Route( <font color="#A31515">'user/:username'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!register$|confirm$|recover$|login$|logout$).+'</font> ) ); $router-&gt;addRoute( <font color="#A31515">'useruri'</font> , $routeUri); $hostnameRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Hostname( <font color="#A31515">':username.example.com'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!www$|register$|confirm$|recover$|login$|logout$).+'</font> ) ); $plainPathRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Static( <font color="#A31515">''</font> ); $router-&gt;addRoute( <font color="#A31515">'userdomain'</font> , $hostnameRoute-&gt;chain($plainPathRoute);</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <ol><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> $routeUri = <font color="#0000ff">new</font> Zend_Controller_Router_Route( <font color="#A31515">'user/:username'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!register$|confirm$|recover$|login$|logout$).+'</font> ) ); $router-&gt;addRoute( <font color="#A31515">'useruri'</font> , $routeUri); $hostnameRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Hostname( <font color="#A31515">':username.example.com'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!www$|register$|confirm$|recover$|login$|logout$).+'</font> ) ); $plainPathRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Static( <font color="#A31515">''</font> ); $router-&gt;addRoute( <font color="#A31515">'userdomain'</font> , $hostnameRoute-&gt;chain($plainPathRoute); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> $routeUri = <font color="#0000ff">new</font> Zend_Controller_Router_Route( <font color="#A31515">'user/:username'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!register$|confirm$|recover$|login$|logout$).+'</font> ) ); $router-&gt;addRoute( <font color="#A31515">'useruri'</font> , $routeUri); $hostnameRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Hostname( <font color="#A31515">':username.example.com'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!www$|register$|confirm$|recover$|login$|logout$).+'</font> ) ); $plainPathRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Static( <font color="#A31515">''</font> ); $router-&gt;addRoute( <font color="#A31515">'userdomain'</font> , $hostnameRoute-&gt;chain($plainPathRoute); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> $routeUri = <font color="#0000ff">new</font> Zend_Controller_Router_Route( <font color="#A31515">'user/:username'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!register$|confirm$|recover$|login$|logout$).+'</font> ) ); $router-&gt;addRoute( <font color="#A31515">'useruri'</font> , $routeUri); $hostnameRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Hostname( <font color="#A31515">':username.example.com'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!www$|register$|confirm$|recover$|login$|logout$).+'</font> ) ); $plainPathRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Static( <font color="#A31515">''</font> ); $router-&gt;addRoute( <font color="#A31515">'userdomain'</font> , $hostnameRoute-&gt;chain($plainPathRoute); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> $routeUri = <font color="#0000ff">new</font> Zend_Controller_Router_Route( <font color="#A31515">'user/:username'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!register$|confirm$|recover$|login$|logout$).+'</font> ) ); $router-&gt;addRoute( <font color="#A31515">'useruri'</font> , $routeUri); $hostnameRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Hostname( <font color="#A31515">':username.example.com'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!www$|register$|confirm$|recover$|login$|logout$).+'</font> ) ); $plainPathRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Static( <font color="#A31515">''</font> ); $router-&gt;addRoute( <font color="#A31515">'userdomain'</font> , $hostnameRoute-&gt;chain($plainPathRoute); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> $routeUri = <font color="#0000ff">new</font> Zend_Controller_Router_Route( <font color="#A31515">'user/:username'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!register$|confirm$|recover$|login$|logout$).+'</font> ) ); $router-&gt;addRoute( <font color="#A31515">'useruri'</font> , $routeUri); $hostnameRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Hostname( <font color="#A31515">':username.example.com'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!www$|register$|confirm$|recover$|login$|logout$).+'</font> ) ); $plainPathRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Static( <font color="#A31515">''</font> ); $router-&gt;addRoute( <font color="#A31515">'userdomain'</font> , $hostnameRoute-&gt;chain($plainPathRoute); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> $routeUri = <font color="#0000ff">new</font> Zend_Controller_Router_Route( <font color="#A31515">'user/:username'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!register$|confirm$|recover$|login$|logout$).+'</font> ) ); $router-&gt;addRoute( <font color="#A31515">'useruri'</font> , $routeUri); $hostnameRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Hostname( <font color="#A31515">':username.example.com'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!www$|register$|confirm$|recover$|login$|logout$).+'</font> ) ); $plainPathRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Static( <font color="#A31515">''</font> ); $router-&gt;addRoute( <font color="#A31515">'userdomain'</font> , $hostnameRoute-&gt;chain($plainPathRoute); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> $routeUri = <font color="#0000ff">new</font> Zend_Controller_Router_Route( <font color="#A31515">'user/:username'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!register$|confirm$|recover$|login$|logout$).+'</font> ) ); $router-&gt;addRoute( <font color="#A31515">'useruri'</font> , $routeUri); $hostnameRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Hostname( <font color="#A31515">':username.example.com'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!www$|register$|confirm$|recover$|login$|logout$).+'</font> ) ); $plainPathRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Static( <font color="#A31515">''</font> ); $router-&gt;addRoute( <font color="#A31515">'userdomain'</font> , $hostnameRoute-&gt;chain($plainPathRoute); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> $routeUri = <font color="#0000ff">new</font> Zend_Controller_Router_Route( <font color="#A31515">'user/:username'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!register$|confirm$|recover$|login$|logout$).+'</font> ) ); $router-&gt;addRoute( <font color="#A31515">'useruri'</font> , $routeUri); $hostnameRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Hostname( <font color="#A31515">':username.example.com'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!www$|register$|confirm$|recover$|login$|logout$).+'</font> ) ); $plainPathRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Static( <font color="#A31515">''</font> ); $router-&gt;addRoute( <font color="#A31515">'userdomain'</font> , $hostnameRoute-&gt;chain($plainPathRoute); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> $routeUri = <font color="#0000ff">new</font> Zend_Controller_Router_Route( <font color="#A31515">'user/:username'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!register$|confirm$|recover$|login$|logout$).+'</font> ) ); $router-&gt;addRoute( <font color="#A31515">'useruri'</font> , $routeUri); $hostnameRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Hostname( <font color="#A31515">':username.example.com'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!www$|register$|confirm$|recover$|login$|logout$).+'</font> ) ); $plainPathRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Static( <font color="#A31515">''</font> ); $router-&gt;addRoute( <font color="#A31515">'userdomain'</font> , $hostnameRoute-&gt;chain($plainPathRoute); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> $routeUri = <font color="#0000ff">new</font> Zend_Controller_Router_Route( <font color="#A31515">'user/:username'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!register$|confirm$|recover$|login$|logout$).+'</font> ) ); $router-&gt;addRoute( <font color="#A31515">'useruri'</font> , $routeUri); $hostnameRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Hostname( <font color="#A31515">':username.example.com'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!www$|register$|confirm$|recover$|login$|logout$).+'</font> ) ); $plainPathRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Static( <font color="#A31515">''</font> ); $router-&gt;addRoute( <font color="#A31515">'userdomain'</font> , $hostnameRoute-&gt;chain($plainPathRoute); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> $routeUri = <font color="#0000ff">new</font> Zend_Controller_Router_Route( <font color="#A31515">'user/:username'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!register$|confirm$|recover$|login$|logout$).+'</font> ) ); $router-&gt;addRoute( <font color="#A31515">'useruri'</font> , $routeUri); $hostnameRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Hostname( <font color="#A31515">':username.example.com'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!www$|register$|confirm$|recover$|login$|logout$).+'</font> ) ); $plainPathRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Static( <font color="#A31515">''</font> ); $router-&gt;addRoute( <font color="#A31515">'userdomain'</font> , $hostnameRoute-&gt;chain($plainPathRoute); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> $routeUri = <font color="#0000ff">new</font> Zend_Controller_Router_Route( <font color="#A31515">'user/:username'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!register$|confirm$|recover$|login$|logout$).+'</font> ) ); $router-&gt;addRoute( <font color="#A31515">'useruri'</font> , $routeUri); $hostnameRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Hostname( <font color="#A31515">':username.example.com'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!www$|register$|confirm$|recover$|login$|logout$).+'</font> ) ); $plainPathRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Static( <font color="#A31515">''</font> ); $router-&gt;addRoute( <font color="#A31515">'userdomain'</font> , $hostnameRoute-&gt;chain($plainPathRoute); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> $routeUri = <font color="#0000ff">new</font> Zend_Controller_Router_Route( <font color="#A31515">'user/:username'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!register$|confirm$|recover$|login$|logout$).+'</font> ) ); $router-&gt;addRoute( <font color="#A31515">'useruri'</font> , $routeUri); $hostnameRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Hostname( <font color="#A31515">':username.example.com'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!www$|register$|confirm$|recover$|login$|logout$).+'</font> ) ); $plainPathRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Static( <font color="#A31515">''</font> ); $router-&gt;addRoute( <font color="#A31515">'userdomain'</font> , $hostnameRoute-&gt;chain($plainPathRoute); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> $routeUri = <font color="#0000ff">new</font> Zend_Controller_Router_Route( <font color="#A31515">'user/:username'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!register$|confirm$|recover$|login$|logout$).+'</font> ) ); $router-&gt;addRoute( <font color="#A31515">'useruri'</font> , $routeUri); $hostnameRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Hostname( <font color="#A31515">':username.example.com'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!www$|register$|confirm$|recover$|login$|logout$).+'</font> ) ); $plainPathRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Static( <font color="#A31515">''</font> ); $router-&gt;addRoute( <font color="#A31515">'userdomain'</font> , $hostnameRoute-&gt;chain($plainPathRoute); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> $routeUri = <font color="#0000ff">new</font> Zend_Controller_Router_Route( <font color="#A31515">'user/:username'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!register$|confirm$|recover$|login$|logout$).+'</font> ) ); $router-&gt;addRoute( <font color="#A31515">'useruri'</font> , $routeUri); $hostnameRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Hostname( <font color="#A31515">':username.example.com'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!www$|register$|confirm$|recover$|login$|logout$).+'</font> ) ); $plainPathRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Static( <font color="#A31515">''</font> ); $router-&gt;addRoute( <font color="#A31515">'userdomain'</font> , $hostnameRoute-&gt;chain($plainPathRoute); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> $routeUri = <font color="#0000ff">new</font> Zend_Controller_Router_Route( <font color="#A31515">'user/:username'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!register$|confirm$|recover$|login$|logout$).+'</font> ) ); $router-&gt;addRoute( <font color="#A31515">'useruri'</font> , $routeUri); $hostnameRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Hostname( <font color="#A31515">':username.example.com'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!www$|register$|confirm$|recover$|login$|logout$).+'</font> ) ); $plainPathRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Static( <font color="#A31515">''</font> ); $router-&gt;addRoute( <font color="#A31515">'userdomain'</font> , $hostnameRoute-&gt;chain($plainPathRoute); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> $routeUri = <font color="#0000ff">new</font> Zend_Controller_Router_Route( <font color="#A31515">'user/:username'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!register$|confirm$|recover$|login$|logout$).+'</font> ) ); $router-&gt;addRoute( <font color="#A31515">'useruri'</font> , $routeUri); $hostnameRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Hostname( <font color="#A31515">':username.example.com'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!www$|register$|confirm$|recover$|login$|logout$).+'</font> ) ); $plainPathRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Static( <font color="#A31515">''</font> ); $router-&gt;addRoute( <font color="#A31515">'userdomain'</font> , $hostnameRoute-&gt;chain($plainPathRoute); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> $routeUri = <font color="#0000ff">new</font> Zend_Controller_Router_Route( <font color="#A31515">'user/:username'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!register$|confirm$|recover$|login$|logout$).+'</font> ) ); $router-&gt;addRoute( <font color="#A31515">'useruri'</font> , $routeUri); $hostnameRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Hostname( <font color="#A31515">':username.example.com'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!www$|register$|confirm$|recover$|login$|logout$).+'</font> ) ); $plainPathRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Static( <font color="#A31515">''</font> ); $router-&gt;addRoute( <font color="#A31515">'userdomain'</font> , $hostnameRoute-&gt;chain($plainPathRoute); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> $routeUri = <font color="#0000ff">new</font> Zend_Controller_Router_Route( <font color="#A31515">'user/:username'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!register$|confirm$|recover$|login$|logout$).+'</font> ) ); $router-&gt;addRoute( <font color="#A31515">'useruri'</font> , $routeUri); $hostnameRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Hostname( <font color="#A31515">':username.example.com'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!www$|register$|confirm$|recover$|login$|logout$).+'</font> ) ); $plainPathRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Static( <font color="#A31515">''</font> ); $router-&gt;addRoute( <font color="#A31515">'userdomain'</font> , $hostnameRoute-&gt;chain($plainPathRoute); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> </ol> <code><font color="gray"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">$routeUri = <font color="#0000ff">new</font> Zend_Controller_Router_Route( <font color="#A31515">'user/:username'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!register$|confirm$|recover$|login$|logout$).+'</font> ) ); $router-&gt;addRoute( <font color="#A31515">'useruri'</font> , $routeUri); $hostnameRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Hostname( <font color="#A31515">':username.example.com'</font> , array( <font color="#A31515">'controller'</font> =&gt; <font color="#A31515">'user'</font> , <font color="#A31515">'action'</font> =&gt; <font color="#A31515">'index'</font> ), array( <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'(?!www$|register$|confirm$|recover$|login$|logout$).+'</font> ) ); $plainPathRoute = <font color="#0000ff">new</font> Zend_Controller_Router_Route_Static( <font color="#A31515">''</font> ); $router-&gt;addRoute( <font color="#A31515">'userdomain'</font> , $hostnameRoute-&gt;chain($plainPathRoute);</font> * This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Now, when clicking on the link <a href="http://example.com/user/register">example.com/user/register,</a> your site will not try to search and download the register user profile <br><br>  By the way, in the archive of the offline manual I found two files from HtmlHelp, thanks to which I now have a ZF manus in a convenient * .chm format.  The only subtlety is that the htmlhelp compiler is not friendly with the terrible representation of Russian strings in the form of HTML entities.  :)  But this problem is solved by an elementary script: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  $ text = file_get_contents ( <font color="#A31515">'toc.hhc'</font> ); </li><li></li><li>  $ dc = Array (); </li><li>  $ ch = Array (); </li><li></li><li>  <font color="#0000ff">for</font> ($ i = 1040; $ i &lt;= 1103; $ i ++) </li><li>  { </li><li>  $ dc [] = <font color="#A31515">'&amp; #'</font> .  $ i.  <font color="#A31515">';'</font>  ; </li><li>  $ ch [] = chr ($ i-848); </li><li>  } </li><li></li><li>  $ text = str_replace ($ dc, $ ch, $ text); </li><li></li><li>  $ h = fopen ( <font color="#A31515">'_toc.hhc'</font> , <font color="#A31515">'w +'</font> ); </li><li>  fputs ($ h, $ text); </li><li>  fclose ($ h); </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><br>  Successful routing and compilation :) </div><p>Source: <a href="https://habr.com/ru/post/48955/">https://habr.com/ru/post/48955/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../48948/index.html">Consultants, trainings and cabbage</a></li>
<li><a href="../48950/index.html">Install RockBox on iPod Video</a></li>
<li><a href="../48952/index.html">Ruby && Python && Perl && PHP && Ruby1.9</a></li>
<li><a href="../48953/index.html">Federal Online Exam - bugs and features</a></li>
<li><a href="../48954/index.html">Working with the clipboard in Linux: theory and practice</a></li>
<li><a href="../48956/index.html">InTV.ru: painless video viewing</a></li>
<li><a href="../48960/index.html">Run VMware Player as Windows Service</a></li>
<li><a href="../48961/index.html">Let's beat Ruby together! Drop six</a></li>
<li><a href="../48963/index.html">Ribbon? It's simple! or working with cascading style sheets (CSS) in Qt</a></li>
<li><a href="../48968/index.html">IE8: the most complete description of innovations for the programmer (and not only)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>