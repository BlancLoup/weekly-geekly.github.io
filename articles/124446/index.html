<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Security system, smart home project (part 2)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the previous post, the initial stage of creating a security system was described, with a detailed description of the selection and connection of se...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Security system, smart home project (part 2)</h1><div class="post__text post__text-html js-mediator-article"><img align="left" src="https://habrastorage.org/getpro/geektimes/post_images/f70/357/495/f70357495eca353ba76e52d01ef2df2f.jpg" alt="security system">  In the previous post, the initial stage of creating a security system was described, with a detailed description of the selection and connection of sensors to the microcontroller, the transfer of information to a computer and the creation of a room layout for testing and debugging the system itself.  You can read about it <a href="http://habrahabr.ru/blogs/DIY/122015/">here on Habr√©</a> and in more detail here on <a href="http://make-smart-room.com/DIY/2011/07/02/ohrannyy-shleyf-proekt-umnyy-dom.html">the project website</a> .  And at the end of that article, we shared our plans for the further development of the project, which were adjusted after some comments (thank you so much for that). <br>  Below, after the habrakat, there will be a short story about how social resources can be used for notifications, in particular twitter, as well as making a turntable controlled by a microcontroller out of available tools, and at the end there will be results and development plans. <br><a name="habracut"></a><br><h4>  We use Twitter for communication </h4><br>  When developing a security system, the task was not only to display data on a computer, but also the ability to view the status of a protected object in any place and at any time.  In this case, two ways of notification were considered: the first is to report via SMS, and the second is to receive messages through social services and networks (Vkontakte, twitter, facebook). <br><br>  As you can guess from the header was chosen the second way.  And for the beginning, 3 ways of solving messages were allocated (they all use the functions of the Twitter API): <br>  1) <b>Direct</b> . <br><img src="https://habrastorage.org/getpro/geektimes/post_images/6b3/f9d/66f/6b3f9d66f384e0493619966a45b4f2a3.jpg" alt="Straight"><br>  direct connection method <br>  Here, I think, comments are not required. <br>  2) <b>Consistent</b> . <br><img src="https://habrastorage.org/getpro/geektimes/post_images/5bd/1aa/a87/5bd1aaa879df503cdd78b6146b117ec7.jpg" alt="Consistent"><br>  serial connection method <br>  This path was allocated for debugging equipment, collecting and analyzing the data (false positives, etc.). <br>  3) <b>Sequential independent</b> . <br><img src="https://habrastorage.org/getpro/geektimes/post_images/e89/173/f99/e89173f9999dc70e0c6b2d064c1f1cba.jpg" alt="Sequential independent"><br>  serial independent connection method <br>  Here, we see that the data is first sent to the Twitter server, and then to a third-party statistics server. <br><br>  Due to the fact that a statistical tool was needed, the choice was between the 2 and 3 way.  In our opinion, the second method (sequential) was simpler to implement.  We took up its development. <br>  To implement the server part, the TwitterOAuth library (a Twitter API library) was used by Abraham Williams dev.twitter.com/docs/twitter-libraries#php and the GET method. <br>  And for the top-level program written for the computer, the standard Windows API functions and the winsock2.h library were used. <br>  And here's the result <br><img src="https://habrastorage.org/getpro/geektimes/post_images/cf6/22f/2a2/cf622f2a2fd68fb43775cdbfa852ec6c.jpg" alt="Sending security system status to Twitter">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Creating a PTZ camera </h4><br>  In our project, the engine should perform the following function - webcam rotation, that is, it was planned to create a cheap analogue of the dome camera. <br><br>  When choosing a stepper motor, the main attention was paid to two main parameters - size and cheapness.  Size, as the main purpose - the rotation of the camera, the weight of which is not more than 150 grams.  Cheapness due to the fact that the entire security system should not be expensive, but to pay 30 - 40 dollars only for the engine itself is an obvious overkill.  A way out of this situation was found. <br><br>  Suffice it to recall that almost everyone has an old computer with disk drives, and the components we need are there.  If not, you can go to the radio market, or to the commission shop, where you can buy for $ 3-4 apiece, agree 3 and 30 there is a difference. <br><br>  To control the stepper motor, a circuit consisting of a processor, an ILN2003 chip (a seven-channel driver and an analogue of ULN2003A) and the stepper motor ‚Äúbitten out‚Äù from the printer was used. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/fa8/8c7/ec3/fa88c7ec3c5f1aade03374412878bb2f.jpg" alt="Stepper motor control circuit"><br>  To control the engine, the ‚Äúone phase on full step‚Äù mode was selected; the operation diagram for this mode is shown below: <br><img src="https://habrastorage.org/getpro/geektimes/post_images/f50/c96/4eb/f50c964eb92f2ec199961f978399055e.gif" alt="Digram works"><br>  Video, quality is not very, filmed on the phone <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/IOpX6wb8xIA%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhgLAoiEoAe-t-ck3EQomxQGYqc5Mg" frameborder="0" allowfullscreen=""></iframe><br><br><h4>  How the whole system works </h4><br>  The system was developed on the basis of what will be used in small spaces.  In this case, the sensors are installed in places of possible penetration (doors, windows), then they are all connected to the security loop.  Information from the sensors goes to a control panel that processes the received data and if a penetration attempt occurs, it performs the following sequence of commands: <br><br>  - re-check the status of the loop; <br>  - turn the camera to the place where the sensor is installed; <br>  - sending a message to a computer, iPhone, where a special application is installed that can send information to your twitter account or mail; <br>  - checking the illumination in the room using a connected photodiode and, if necessary, switching on the light; <br>  - sending a message to a computer, iPhone, where a special application is installed that can send a photo taken by a webcam to your twitpick account; <br>  - switch to polling mode of other sensors. <br><br>  The scheme of the system is presented below. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/3a6/d8a/d01/3a6d8ad019a91a3bccf8df19b889f175.jpg" alt="security system block diagram"><br><br><h4>  Conclusion and Plans </h4><br>  Above, we have considered notification methods, stepper motor control and the algorithm of the system itself.  In the third and final part, we will show the video work of all the previously described elements and prepare the final video presentation. <br>  For the development of the project, a new website was created - <a href="http://make-smart-room.com/">make-smart-room.com</a> , where detailed materials on each reviewed component of the security system were posted.  A huge request to help with tips and suggestions for further development. </div><p>Source: <a href="https://habr.com/ru/post/124446/">https://habr.com/ru/post/124446/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../124437/index.html">Virtual planet learns to sing</a></li>
<li><a href="../124440/index.html">SocialCamp 2011: How Social Internet Networks Transform Russia's Social Action</a></li>
<li><a href="../124443/index.html">We know what you're thinking, or glasses worthy of Dr. Lightman.</a></li>
<li><a href="../124444/index.html">Paymentwall adds seventy-fifth direct payment method and announces the opening of new offices in Germany and Turkey</a></li>
<li><a href="../124445/index.html">MasterCard MoneySend: A New Way to Transfer Funds to Bank Cards</a></li>
<li><a href="../124447/index.html">Organization of accessibility of services on two external interfaces by means of natd and ipfw</a></li>
<li><a href="../124448/index.html">How do we equip OSM?</a></li>
<li><a href="../124450/index.html">Throwing Trojans under the guise of invoice</a></li>
<li><a href="../124451/index.html">How not to lose money, wanting to save. Online shopping rules from abroad</a></li>
<li><a href="../124454/index.html">Meeting of system administrators 2011 (Oryol region)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>