<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How do i take screenshots in linux</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this post I want to perpetuate my bike, which I invented for easy creation of screenshots. Yes, I know about the existence of such programs as shut...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How do i take screenshots in linux</h1><div class="post__text post__text-html js-mediator-article">  In this post I want to perpetuate my bike, which I invented for easy creation of screenshots.  Yes, I know about the existence of such programs as shutter, but they are all uncomfortable for one reason or another, and since there was interest and time, I took up this problem. <br><br><a name="habracut"></a><br><br><h4>  How does my bike work </h4><br>  The user clicks PrintScreen, a menu appears in which the following questions are asked: <br><ol><li>  Save full screen or only part (window)? </li><li>  Save the file with a snapshot somewhere for long memory or save in unreliable / tmp? </li><li>  Enter the file name yourself, generate random or generate a template? </li><li>  If according to the template, it is proposed to choose a template or enter it yourself </li><li>  Select a delay in seconds before taking a picture. </li><li>  Whether to copy the URL of the published image to clipboard </li><li>  Show whether the dialogue with the path to the file on the disk, as well as the URL of the image </li></ol><br>  Breaking through this bunch of questions, the program: <br><ol><li>  Specifies the file name (if needed) </li><li>  Makes a screenshot of the screen or waits until the user selects a region or window (man scrot) </li><li>  If the user has entered a file name that already exists, a confirmation will be displayed for overwriting.  In case of cancellation, the user will have to call the script himself again (he himself is not yet so smart as to ask for another file name) </li><li>  The log file records the path to the saved file and the URL of the published image. </li><li>  Screenshot URL is copied to clipboard (if necessary) </li><li>  A dialog is displayed with the path to the file on disk and the URL of the published image (if necessary) </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      A script called without arguments will ask questions again each time.  However, having remembered the user's answers, he caches them and writes them to a file (by default <code>/tmp/screenshot.cache.sh</code> ).  If you run the script with the <code>cached</code> argument, the script will try to read the cached responses, and if it succeeds, it will not ask questions. <br><br>  Thus, by setting PrintScreen to call the script with loading the cache, and Win + PrintScreen to calling without loading the cache, I can always change the settings by answering the questions again, and then taking pictures further much faster. <br><br><h4>  Disclaimer </h4><br>  My ArchLinux distribution and I use openbox as a window manager.  The lucky owners of KDE / Gnome / Xfce / your_variant may have a different installation and use process. <br><br><h4>  Construction Materials </h4><br><ol><li>  dmenu (show menu) </li><li>  scrot (screenshot) </li><li>  zenity (asking questions from the user) </li><li>  xclip (copy link to clipboard) <br></li><li>  <a href="https://bitbucket.org/balta2ar/imagepaste">imagepaste</a> (upload image at image hosting) </li><li>  <a href="https://bitbucket.org/balta2ar/screenshot">script</a> (put all the components together) </li><li>  terminus-font (fonts in the menu, optional) </li></ol><br>  The first four programs should be (in theory) available in the repositories of your distribution.  The last item is optional.  You can use other fonts if terminus is not suitable for you.  The fifth point is my own craft, the meaning of which is reduced to uploading a picture to sites like ImageShack.us with one command from the command line.  Assembly of this miracle, generally speaking, is not so complicated, but the description of this process is in any case beyond the scope of this note, so you are free to replace this component with <a href="http://habrahabr.ru/blogs/linux/127761/">alternative</a> <a href="http://habrahabr.ru/blogs/linux/108126/">solutions</a> . <br><br><h5>  Step-by-step instruction </h5><br>  This is how the installation would look like it would start to end in my distribution. <br>  Install the standard packages: <br><pre> <code class="bash hljs">$ pacman -S dmenu scrot zenity xclip terminus-font</code> </pre><br>  Let Xam know the path to these fonts (plus, it would be nice to write this command in ~ / .xinitrc): <br><pre> <code class="bash hljs">$ xset +fp /usr/share/fonts/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/</code> </pre><br>  We believe that imagepaste (or equivalent) is already installed, so skip this step. <br>  Install the script: <br><pre> <code class="bash hljs">$ mkdir ~/bin $ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> !$ $ wget https://bitbucket.org/balta2ar/screenshot/raw/45ad932db13b/screenshot.sh $ chmod u+x ./screenshot.sh</code> </pre><br>  My ~ / bin folder is used for my kneaded crafts.  In the script you probably want to change: <br>  <code>LOG</code> - the path to the log file <br>  <code>FONT</code> - menu font <br>  <code>IMAGEPASTE_CMD</code> - command for publishing pictures <br>  <code>BASEDIR</code> is the base directory for screenshots you want to save. <br><br>  Do not forget to create a log file: <br><pre> <code class="bash hljs">$ touch /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/screenshot.log $ sudo chown `whoami`:users !$</code> </pre><br>  And the last thing is to hang up the script call on the hotkey.  I used the possibilities of openbox for this, namely obkey for setting hotkeys.  You can, however, immediately get into ~ / .config / openbox / rc.xml and add: <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">keybind</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Print"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">action</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Execute"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">command</span></span></span><span class="hljs-tag">&gt;</span></span>/home/bz/bin/screenshot.sh cached<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">command</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">action</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">keybind</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">keybind</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"W-Print"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">action</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Execute"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">command</span></span></span><span class="hljs-tag">&gt;</span></span>/home/bz/bin/screenshot.sh<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">command</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">action</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">keybind</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br><h6>  pros </h6><br><ul><li>  its does not smell </li><li>  convenient, tailored to your needs </li><li>  automatic publishing </li></ul><br><br><h6>  Minuses </h6><br><ul><li>  setting for the red-eyed </li><li>  many components, but I would like one and that everything worked iskazarki </li></ul><br><br><h6>  Entire script </h6><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash init() { ACTIONS[0]="window/region,screen" ACTIONS[1]="drop,save" ACTIONS[2]="create random,ask,incremental pattern" ACTIONS[3]="screenshot-%05d.png" ACTIONS[4]="0,5,10,30,60" ACTIONS[5]="yes,no" ACTIONS[6]="no,yes" PROMPT[0]="Capture region" PROMPT[1]="Picture file" PROMPT[2]="File name" PROMPT[3]="File name pattern" PROMPT[4]="Delay" PROMPT[5]="Copy to clipboard" PROMPT[6]="Show links in a dialog" IND_CAPTURE_REGION=0 IND_FILESAVE=1 IND_FILENAME=2 IND_PATTERN=3 IND_DELAY=4 IND_COPY_CLIPBOARD=5 IND_SHOW_LINKS=6 LOG="/var/log/screenshot.log" FONT='-xos4-terminus-*-*-*-*-16-*-*-*-*-*-*-*' DMENU="dmenu -fn $FONT" IMAGEPASTE_CMD="imp" SCREENSHOT_CMD="scrot" SCREENSHOT_OPTIONS= OPTIONS= COUNT=${#ACTIONS[*]} BASEDIR="/home/`whoami`/pic/screenshot/scrot" CACHE="/tmp/screenshot.cache.sh" PATTERN_INDEX=0 } load_cache() { source $CACHE } save_cache() { echo -n &gt; $CACHE for (( i = 0; i &lt; ${#OPTIONS[*]}; i++ )) do echo "OPTIONS[$i]=\"${OPTIONS[$i]}\"" &gt;&gt; $CACHE done echo "PATTERN_INDEX=\"$PATTERN_INDEX\"" &gt;&gt; $CACHE } random_filename() { TMP=`mktemp --suffix=.scrot` BASE=`basename $TMP` FILENAME="$BASEDIR/$BASE.png" } ask_filename() { FILENAME=`zenity --entry --text "Enter filename" --entry-text "$BASEDIR/"` } set_next_pattern_filename() { FILENAME="$BASEDIR/$(printf ${OPTIONS[$IND_PATTERN]} $PATTERN_INDEX)" PATTERN_INDEX=$(($PATTERN_INDEX + 1)) while [ -e "$FILENAME" ]; do FILENAME="$BASEDIR/$(printf ${OPTIONS[$IND_PATTERN]} $PATTERN_INDEX)" PATTERN_INDEX=$(($PATTERN_INDEX + 1)) done } ask_options() { for i in $(seq 0 $(($COUNT - 1))) do # if we are about to ask patern and # it wasn't the choise in prev question, continue if [ "$i" -eq "$IND_PATTERN" -a "${OPTIONS[$IND_FILENAME]}" != "incremental pattern" ] then continue fi OP=`echo ${ACTIONS[$i]} | tr "," "\n" | $DMENU -p "${PROMPT[$i]}"` if [ ! -n "$OP" ]; then exit 0 fi OPTIONS[$i]=$OP done } parse_options() { # parse options and ask user questions, if any ITEM=${OPTIONS[$IND_CAPTURE_REGION]} case "$ITEM" in window/region) SCREENSHOT_OPTIONS="-b -s" ;; screen) ;; esac ITEM=${OPTIONS[$IND_FILESAVE]} case "$ITEM" in save) # Dont touch BASEDIR ;; drop) BASEDIR="/tmp" ;; esac ITEM=${OPTIONS[$IND_FILENAME]} case "$ITEM" in ask) ask_filename ;; "create random") random_filename ;; "incremental pattern") set_next_pattern_filename ;; esac ITEM=${OPTIONS[$IND_DELAY]} SCREENSHOT_OPTIONS="$SCREENSHOT_OPTIONS -d $ITEM" } check_existence() { if [ -e "$FILENAME" ] then zenity --question --text "File already exists. Overwrite?" OVERWRITE=$? if [ $OVERWRITE -ne 0 ] then exit 1 fi fi } do_screenshot() { rm -f "$FILENAME" mkdir -p `dirname "$FILENAME"` $SCREENSHOT_CMD $SCREENSHOT_OPTIONS "$FILENAME" CMD="$IMAGEPASTE_CMD $FILENAME" URL="`$CMD`" echo "$FILENAME -&gt; $URL" &gt;&gt; $LOG } copy_to_clipboard() { if [ ${OPTIONS[$IND_COPY_CLIPBOARD]} == "yes" ] then echo "$URL" | xclip -selection primary echo "$URL" | xclip -selection clipboard fi } show_links() { if [ ${OPTIONS[$IND_SHOW_LINKS]} == "yes" ] then zenity --info --no-wrap --text "$FILENAME\n$URL" fi } init if [ -e "$CACHE" -a "$1" == "cached" ] then load_cache else ask_options fi save_cache parse_options check_existence do_screenshot copy_to_clipboard show_links exit 0</span></span></code> </pre><br><br>  <b>UPD 01</b> : Added delay selection: 0, 5, 10, 30, 60 seconds. <br>  <b>UPD 02</b> : Added: 1) caching user responses 2) the ability to specify an incremental pattern for the file name. </div><p>Source: <a href="https://habr.com/ru/post/132064/">https://habr.com/ru/post/132064/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../132054/index.html">Version 1.6.0 released</a></li>
<li><a href="../132057/index.html">myFavorite. Not just a dialer, but with an autodial function</a></li>
<li><a href="../132058/index.html">Internet math from Yandex</a></li>
<li><a href="../132059/index.html">Android Market will soon be able to pay with PayPal</a></li>
<li><a href="../132062/index.html">Mobile platforms news: market, statistics, analytics</a></li>
<li><a href="../132066/index.html">We are going to a new Ciklum Subbotnik in Minsk - now on .NET! Join now!</a></li>
<li><a href="../132070/index.html">Model for calculating the probability of crime</a></li>
<li><a href="../132071/index.html">Django project template with build tools and utilities</a></li>
<li><a href="../132075/index.html">7app chart # 5</a></li>
<li><a href="../132076/index.html">Mouse manager extension</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>