<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a semantic web application</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As part of my graduation project, I was offered to create a system for the formation of project teams based on semantic web technologies . Since I alr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a semantic web application</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/756/438/893/756438893f016e5ce9e9064408db7119.png" align="left" alt="rails"><img src="https://habrastorage.org/getpro/habr/post_images/c9a/c78/b6f/c9ac78b6f0b35f2fbcdeee8ae2a35942.gif" align="right" alt="rdf"><br clear="all">  As part of my graduation project, I was offered to create a <b>system for the formation of project teams based on semantic web technologies</b> .  Since I already had naked PHP, SQL, ZF, and had experience programming in Ruby on Rails, having familiarized myself with existing gems and solutions for working with RDF, I decided to write on it, because  I don‚Äôt really like Java (may Java developers forgive me), although it is the most advanced language in the field of semantic web, intelligent agents, data mining. <br><a name="habracut"></a><br>  The first step was the study of RDF, OWL, SPARQL, arc2, rdf.rb, Spira and other technologies, standards, modules. <br><br><h4>  Compressed excursion into the Semantic web </h4><br><img src="https://habrastorage.org/getpro/habr/post_images/a4d/9ab/42d/a4d9ab42dddce9c97b0b47edcedc7f42.gif" align="right" alt="image">  <a href="http://en.wikipedia.org/wiki/DIKW">DIKW</a> - So, we have the basic concepts - data, information, knowledge, wisdom, each of which is described with the help of the previous one and adds something that is not at the previous level.  Data - the basic element of the building blocks.  Information adds an answer to the question ‚Äúwhat?‚Äù, Knowledge - ‚Äúhow?‚Äù, Wisdom - ‚Äúwhy?‚Äù (Know-nothing, know-what, know-how, and know-why). <br><br>  It is difficult to understand, so we reformulate: Information is data + metadata (data description, data about data).  Knowledge is information and rules of inference.  That is, when we have knowledge, rules of inference, we can receive new information from one information. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If the <a href="http://ru.wikipedia.org/wiki/Resource_Description_Framework">RDF</a> standard operates primarily with information, then <a href="http://ru.wikipedia.org/wiki/OWL">OWL</a> adds new facts to the RDF.  And OWL is described on RDF, that's right. <br><br>  Further, by standards - <a href="http://www.w3.org/wiki/SPARQL">SPARQL</a> - language queries to the repository, is very similar to SQL, but operates with triplets.  There are a lot of variations on the theme of SPARQL from various manufacturers of RDF storages, just like in SQL. <br>  nt3, turtle and others - variations on RDF / XML.  That is, we represent triplets in a more convenient form for reading / writing / storage / processing. <br><br>  In these standards, knowledge is described by triplets - subject, predicate, object.  The subject is what we are describing, for example an apple.  A predicate is a certain property of the subject, for example, ‚Äúto have a color‚Äù.  An object is the value of this property for a given subject, for example, "green."  Thus, we can describe knowledge within the framework of RDF / OWL. <br><ul><li>  Apple, this, class </li><li>  Yabloko1, belongs to the class, Apple </li><li>  Apple1, has color, Green </li><li>  Worm1, eating, Apple1 </li><li>  Green, in RGB, 00FF00 (literal) </li></ul><br>  etc. <br><br>  In this case, the subject and the predicate are always entities, and the object can be both an entity and a literal (string, number).  Each entity is represented by a URI.  For example, our apple is represented as <pre>  http://example.com/apples_repo.xml.rdf#our_apple1 </pre><br><br>  In addition to the data itself ( <a href="http://en.wikipedia.org/wiki/ABox">ABox</a> ), we must have metadata ( <a href="http://en.wikipedia.org/wiki/TBox">TBox</a> ) that describe the classes, the relationships between the classes, the properties of the classes, and also, in the case of OWL, the relationships between the classes.  ABox is usually stored in a repository and is a description of specific entities of this world, and TBox is usually stored in so-called <a href="http://ru.wikipedia.org/wiki/%25D0%259E%25D0%25BD%25D1%2582%25D0%25BE%25D0%25BB%25D0%25BE%25D0%25B3%25D0%25B8%25D1%258F_(%25D0%25B8%25D0%25BD%25D1%2584%25D0%25BE%25D1%2580%25D0%25BC%25D0%25B0%25D1%2582%25D0%25B8%25D0%25BA%25D0%25B0)">ontologies</a> .  An ontology is usually an OWL or RDF file (which, in turn, can be unloaded by some repository). <br><br>  Thus, in sum, we get an ontological knowledge base that describes the subject area (classes, properties, relationships) and specific essences of this subject area (people, projects, tasks, houses, goods). <br><br>  And now the main question - <b>why is all this necessary</b> , because we can store all the same in relational / document / graph / object databases? <br>  This area is developing and currently interesting, primarily from a scientific point of view.  However, now there are means that can do what the database cannot do.  Knowledge is living data.  Data from which you can get new data. <br><br>  If we know that Petya is the son of Masha, and Masha is Kolya‚Äôs sister, and we also know that her sister and brother are symmetrical relations, and her mother‚Äôs brother is an uncle, then we can conclude that Kolya is Uncle Petit. <br><br>  In this simple example, it is clear that ontological BRs, in combination with the reasoning system ( <a href="http://en.wikipedia.org/wiki/Semantic_reasoner">reasoner</a> ), can find new facts.  There is also the direction of <a href="http://ru.wikipedia.org/wiki/Data_mining">data mining</a> ( <a href="http://ru.wikipedia.org/wiki/Data_mining">data mining</a> ) - adjacent to the logical conclusion of the extraction of previously unknown data.  And many AI systems, expert systems work with the use of ontological BRs, since  They are great for this. <br><br>  We also get a distributed <a href="http://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25B5%25D0%25BC%25D0%25B0%25D0%25BD%25D1%2582%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B0%25D1%258F_%25D0%25BF%25D0%25B0%25D1%2583%25D1%2582%25D0%25B8%25D0%25BD%25D0%25B0">semantic web</a> , knowledge from which can extract various web services and interpret them in accordance with ontologies.  Imagine a bunch of social networks where information about each person can be uploaded in RDF format.  This makes it possible to download and process data from all these networks.  If earlier search engines and aggregators extracted text completely devoid of semantics, now they will be able to extract and process the knowledge defined by ontology. <br><br>  <b>So, let's go to practice.</b> <br><br>  With the help of Protege we model the subject area. <br>  Ready ontologies on OWL links: <br>  <a href="">mera-max.ru/ontologies/competenceModel.rdf-xml.owl</a> <br>  <a href="">mera-max.ru/ontologies/professionsModel.rdf-xml.owl</a> <br>  <a href="">mera-max.ru/ontologies/staffModel.rdf-xml.owl</a> <br>  <a href="http://xmlns.com/foaf/spec/">xmlns.com/foaf/spec</a> <br>  <a href="http://semanticweb.org/wiki/DOAP">semanticweb.org/wiki/DOAP</a> <br>  <a href="http://www.semanticdesktop.org/ontologies/2008/05/20/tmo/">www.semanticdesktop.org/ontologies/2008/05/20/tmo</a> <br><br>  Briefly and simplified for our application - we have people ( <a href="http://xmlns.com/foaf/spec/">FOAF</a> ), each person has an account and a set of competencies that he owns, there are projects ( <a href="http://trac.usefulinc.com/doap">DOAP</a> ), within the project there are tasks, each of which requires a set of competencies turn have a level that has a numerical representation. <br><br><h4>  Implementation </h4><br>  Using <b>Ruby 1.9.2</b> <br>  Using <b>Rails 3.0.7</b> <br>  So, we will all store in <a href="http://www.openrdf.org/">Sesame</a> rdf storage except accounts (because it would be indecent to store password hashes in open SPARQL access) <br>  For storage of accounts we use <a href="http://www.mongodb.org/">MongoDB</a> <br>  For authentication, we use <a href="https://github.com/plataformatec/devise">Devise.</a> <br>  To work with Sesame we use <a href="https://github.com/datagraph/spira">Spira</a> , which is built on <a href="http://rdf.rubyforge.org/">rdf.rb</a> <br>  To work with SPARQL access point (which in this case coincides with Sesame storage) we use <a href="https://github.com/bendiken/sparql-client">sparql-client</a> <br>  To work with MongoDB we use <a href="http://mongoid.org/">Mongoid</a> <br>  For layout we use <a href="http://haml-lang.com/">haml</a> <br><br>  Let's go through the <a href="https://github.com/ulitiy/project-team-formation">source code on github</a> . <br><br><ul><li>  Monkey patches were written for <a href="">correct work with Sesame</a> and <a href="https://github.com/ulitiy/project-team-formation/tree/master/config/initializers">for more convenient work with Spira</a> as a mapper. </li><li>  <a href="http://tomcat.apache.org/">Apache Tomcat</a> and Sesame (openrdf-sesame + openrdf-workbench) installed and configured on it </li><li>  MongoDB installed and configured </li><li>  <a href="https://github.com/ulitiy/project-team-formation/tree/master/app/models">Models</a> , <a href="https://github.com/ulitiy/project-team-formation/tree/master/app">views and controllers are</a> written <a href="https://github.com/ulitiy/project-team-formation/tree/master/app">.</a> </li><li>  Installed and configured Devise, Mongoid standard tools from the console </li><li>  With the help of the banal SPARQL query, we got all candidates that fit the requirements (a more complex model is given in the documentation for the diploma): </li></ul><br><pre><code class="ruby hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">find_candidates</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sel=</span></span></span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Person</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_where</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">competences_with_level</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">each</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">do</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">|</span></span></span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cwl</span></span></span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">|</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cwl_id=</span></span></span><span class="hljs-function">:"</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cwl</span></span></span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">#{i}" #   lev_id=:"lev#{i}" val=:"val#{i}" sel._where(:competences_with_level=&gt;cwl_id) #    sel.where([cwl_id,CompetenceWithLevel.properties[:competence][:predicate],cwl.competence.subject]) #   sel.where([cwl_id,CompetenceWithLevel.properties[:level][:predicate],lev_id]) #  sel.where([lev_id,CompetenceLevel.properties[:value][:predicate],val]) #   sel.filter("?val#{i} &gt;= #{cwl.level.value}") #    ,      end sel.instances end</span></span></span></span></code> </pre> <br><br>  Consider the structure of the Spira document model, since  it is different from ActiveRecord and Mongoid. <br><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Task</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">include</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Spira::Resource</span></span></span><span class="hljs-class"> </span><span class="hljs-comment"><span class="hljs-class"><span class="hljs-comment">#-,    type Vocabularies::Project.Task # owl type base_uri "http://example.org/tasks/" #,       default_vocabulary Vocabularies::Project #  (),         property :name, :predicate=&gt;Vocabularies::Project.hasName, :type=&gt;String #,  ‚Äì   property :project, :predicate=&gt;Vocabularies::Project.belongsToProject, :type=&gt;:Project # .    . has_many :competences_with_level, :predicate=&gt;Vocabularies::Project.requires, :type=&gt;:CompetenceWithLevel #   --.          ruby   . end</span></span></span></span></code> </pre><br><br>  And let's note the availability of the ability to extract data from the system through not only SPARQL, but also the display of each entity in nt form: <br><pre> <code class="ruby hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">show</span></span></span><span class="hljs-function"> @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">competence</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Competence</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">find</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(params[</span></span><span class="hljs-symbol"><span class="hljs-function"><span class="hljs-params"><span class="hljs-symbol">:id</span></span></span></span><span class="hljs-function"><span class="hljs-params">])</span></span></span></span> respond_to <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-params"><span class="hljs-params">|format|</span></span> format.html <span class="hljs-comment"><span class="hljs-comment"># show.html.erb format.nt { render :inline =&gt; </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@competence</span></span></span><span class="hljs-comment">.to_nt } #  end end</span></span></code> </pre><br><br>  <b>So, we got a search system for candidates for the implementation of projects based on the required and existing competencies.</b> <br><br>  This application is far from ideal, not very clean code, no modular and integration tests, no authorization, this is just an interesting experiment, which was a step for me in understanding and using semantic technologies in the field of project management, project team formation.  And I hope that it will help those interested in creating semantic applications on Ruby on Rails in the future and develop so far not so popular semantic technologies. <br><br>  All diploma documents (explanatory note, presentations, reports in Russian and English) can be found <a href="">here</a> (who knows a more detailed formal description, by the way, there are many things in them that are not in the annex). <br><br>  I will be glad if this material is useful to someone to create software for your educational projects, however, you still have your head on your shoulders;). <br><hr><br>  <i>ps Thanks to my graduate leaders, Associate Professor D.V.</i>  <i>Popov and A.F.</i>  <i>Galyamov, Department of VMK, FIRT, USATU.</i> </div><p>Source: <a href="https://habr.com/ru/post/123612/">https://habr.com/ru/post/123612/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../123604/index.html">Morgan Stanley sent out a warning to 34,000 customers about the loss of their data</a></li>
<li><a href="../123605/index.html">IE gets rid of Conditional Comments</a></li>
<li><a href="../123606/index.html">Courses training center MUK in July</a></li>
<li><a href="../123607/index.html">June 10, 2011 - Oracle Database Machine has been certified by SAP</a></li>
<li><a href="../123608/index.html">Two-letter domains in the .SU domain</a></li>
<li><a href="../123614/index.html">July contest. City of the future</a></li>
<li><a href="../123616/index.html">Basics of memory management in vSphere 4.1</a></li>
<li><a href="../123617/index.html">Catalog of Arduino-projects</a></li>
<li><a href="../123618/index.html">What is ‚Äúunder the hood‚Äù of Skype video calls on Facebook</a></li>
<li><a href="../123621/index.html">Solaris Container (zone). Creation and administration. Part 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>