<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>SwiftyBeaver iOS Guide: Logging Platform for Swift</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Errors come in different shapes and sizes. Some bugs are cute and fluffy and easy to fix, because you can run your application and go straight to the ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>SwiftyBeaver iOS Guide: Logging Platform for Swift</h1><div class="post__text post__text-html js-mediator-article"><img align="right" width="200" height="200" src="https://habrastorage.org/web/5ac/edc/400/5acedc4008234492a05b8437fbca224a.png">  Errors come in different shapes and sizes.  Some bugs are cute and fluffy and easy to fix, because you can run your application and go straight to the place where the error occurs.  If you're lucky, Xcode will show you which line caused your application to crash. <br><br>  Other mistakes are more sinister.  They lurk in the background and happen when you least expect it.  They are horrors of nightmares and Listerine commercials. <br><br>  In this lesson you will find a secret weapon that you can deal with these sinister bugs that lurked in the background.  When properly used, this weapon looks like a flashlight in the deepest and darkest crevices of your application.  These terrible mistakes will not have a single chance. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This weapon is <a href="http://swiftybeaver.com/">SwiftyBeaver</a> , Swift-based logging system for iOS and macOS. <br><br>  In this guide, you will learn how to debug your applications using SwiftyBeaver and get the following useful skills along the way: <br><br><ul><li>  When SwiftyBeaver logging is better than <i>print ()</i> and <i>NSLog ()</i> </li><li>  How to access SwiftyBeaver logs in Crypto Cloud </li><li>  How to use logging levels for different types of log messages </li><li>  How to filter entries to make it easier to find errors </li></ul><a name="habracut"></a><br>  <b>Note:</b> Before starting the lesson you should be familiar with <a href="https://www.raywenderlich.com/156971/cocoapods-tutorial-swift-getting-started">Cocoapods</a> and the <a href="https://www.raywenderlich.com/110054/routing-mapkit-core-location">CoreLocation</a> framework.  First read these guides to get the skills you need. <br><br><h2>  Start </h2><br>  Download the <a href="">initial project</a> .  This archive contains the project and all the necessary files to complete the lesson. <br><br>  You are going to create an application to track your children.  If they move too far away from home, the app will alert them. <br><br>  This application is called <i>Ten PM</i> (Do you know where your children are?). <br>  Open <b>TenPM.xcworkspace</b> and <b>view the</b> project.  Now open the <b>Main.storyboard</b> and you will see two view controllers inside the navigation controller: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/51c/f97/9d9/51cf979d94ce4381a25e9d8bff4787b5.png"></div><br>  The left view controller is one that parents can use to tell the application where the ‚Äúhome‚Äù is and also set the maximum distance children can move.  The class is <i>TrackingSetupViewController</i> , which requests access to geolocation services and stores the entered distance to limit the distance. <br><br>  The view controller on the right is the one that the children will use.  It displays a map with a green circle representing a safe area.  It also contains a block of text below to let them know whether they are currently in a safe area or not.  The class is <i>TrackingViewController</i> , in which <i>MKMapView</i> is used, <i>which</i> displays the area allowed for children. <br><br>  And here are a few more lines to note: <br><br><ul><li>  <b>LocationTracker.swift</b> : Acts as delegate for CLLocationManager.  It processes location updates and permission changes for geolocation services. </li><li>  <b>ParentProfile.swift</b> : saves important user data to NSUserDefaults.  This data includes the location of the house and the distance that their children can move away from home. </li></ul><br><h2>  We use the initial application </h2><br>  Run the offer on the iOS simulator.  You will see the view controller which is represented by the <i>TrackingSetupViewController</i> class: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/072/183/913/0721839130a443d4bf3d1d6750a65aac.png"></div><br>  Before setting up tracking, you need to be sure that the simulator provides the initial location data.  To do this, select a simulator, then select <b>Debug \ Location \ Apple</b> in the panel. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/9c3/953/9f9/9c39539f99724416ab59325e77132fdc.png"></div><br>  Press the <b>SETUP TRACKING</b> button and the application will ask for permission to start collecting location data.  Since this screen is for parents, there is one extra window to confirm that you are a parent and are at home.  Select <b>Yes</b> and then <b>Allow</b> .  Once the application determines your location and saves it as a home, in order to use it as a safe zone for children. <br><br>  Now enter <b>1</b> in the text field below as a <b>safe distance</b> from home.  This means that you do not want to continue to be further than 1 kilometer from the simulated Apple location. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/0cb/85e/c03/0cb85ec0338b4650a70b6bfd8d2ff6ee.png"></div><br>  Click the <b>NEXT</b> button and you will be taken to the view supported by <i>TrackingViewController</i> .  On this screen, there is one annotation with your current location and a green circle indicating your safe area. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/d0d/862/ede/d0d862ede37741d2b6e0cbc2b8fb369f.png"></div>  <i>Think about it, this app could be useful for Apple employees carrying expensive iPhone prototypes.</i> <br><br>  Now that everything is set up, it's time to pretend that now is 2011, you got a prototype iPhone 4 and go for a walk.  Let's simulate a new location, outside the safe zone, in the place where you made an appointment with a Gawker reporter. <br><br>  In the iOS Simulator menu, go back to <b>Debug \ Location</b> , but this time choose <b>Custom Location</b> .  Enter <b>37.3393</b> as latitude and <b>-122.0426</b> as longitude and then click <b>OK</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/2ad/c21/810/2adc21810c09445dbb17c53667940b39.png"></div><br>  You should see the blue dot move to the new location and the message at the bottom of the screen changes to tell you that you are at a dangerous distance from home. <br><br>  This is a brief description of the <i>Ten PM</i> application functionality.  This is a fairly simple application that can be easily extended.  You could start sending notifications to parents when their child is outside the safe zone, etc. <br><br>  But today you are not going to do that.  Instead, you will use this application to mimic some nasty background errors that you then fix with SwiftyBeaver. <br><br><h2>  Install SwiftyBeaver </h2><br>  First, install SwiftyBeaver using Cocoapods.  Find the root directory of the project and find the <b>Podfile</b> there.  Open it in the editor that is most convenient for you and add the following line under the <b># Pods for TenPM line</b> : <br><br><pre><code class="ruby hljs">pod <span class="hljs-string"><span class="hljs-string">'SwiftyBeaver'</span></span></code> </pre> <br>  Open Terminal, go to the directory with these Podfiles and enter the following command: <br> <code>pod install</code> <br> <br>  After a minute or maybe a little more, SwiftyBeaver installation in your project will be completed.  Now open <b>AppDelegate.swift</b> and add the following line in a suitable place at the top of the file: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> SwiftyBeaver</code> </pre> <br>  Compile this project and you will see that SwiftyBeaver is now available in the project because it was successfully combined. <br><br><hr>  <b>Note:</b> this installation guide works with Cocoapods and Swift 3. More detailed installation instructions can be found on <a href="https://github.com/SwiftyBeaver/SwiftyBeaver">the SwiftyBeaver project repository page on GitHub</a> . <br><hr><br><h2>  Writing your first logs with SwiftyBeaver </h2><br>  Fuh.  Are you ready to write some code? <br><br>  Check out AppDelegate.swift again.  This is where you set up logging for SwiftyBeaver right now.  Have you noticed the billet method in the start project? <br><br>  <b>setupSwiftyBeaverLogging ()</b> is called every time your application starts, and as the name implies, you will use it to prepare SwiftyBeaver for use.  Go to this method and add the following: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span> = ConsoleDestination() SwiftyBeaver.addDestination(<span class="hljs-built_in"><span class="hljs-built_in">console</span></span>)</code> </pre> <br>  SwiftyBeaver is an unusual logging tool.  It has several entrances called <b>Destinations</b> , which you can configure to suit your needs. <br>  Destination determines where your logs appear. <br><br>  <b>ConsoleDestination ()</b> creates the <b>Console Destination</b> , which you added as an active destination for SwiftyBeaver. <br><br>  In the <b>application</b> method <b>(_: didFinishLaunchingWithOptions :),</b> add the following line of code, after calling the <b>setupSwiftyBeaverLogging ()</b> method: <br><br><pre> <code class="hljs pgsql">SwiftyBeaver.<span class="hljs-keyword"><span class="hljs-keyword">info</span></span>("Hello SwiftyBeaver Logging!")</code> </pre> <br>  This code displays the info level log in the console when the application starts.  You will learn more about log levels later. <br><br>  Run <i>Ten PM</i> again.  Check the console when the application starts and you will see the entry: <br>  <b>12: 06: 05.402</b> <b><img width="15" height="15" src="https://habrastorage.org/getpro/habr/post_images/599/c36/2e7/599c362e721a4f13c753ebdc385725bf.svg"></b>  <b>INFO AppDelegate.application (): 36 - Hello SwiftyBeaver Logging!</b> <br><br>  Cool!  You log in to the console using SwiftyBeaver.  Heart imagery refers to the level of the logs, which are explained below. <br><br><h2>  Brief explanation of log levels </h2><br>  I am sure that at this stage you wonder why SwiftyBeaver forces you to use a method called <b>info ()</b> instead of more clear and logical names such as <b>log ()</b> or <b>print ()</b> . <br><br>  This is due to what is called <b>Log Levels</b> . <br><br>  Not all logs are equally important.  Some logs are useful for providing the programmer with additional contextual information.  Other logs are needed for more serious problems, such as errors and warnings.  When studying logs, it is quite useful to have records that are classified according to the level of threat to the application.  It helps to filter less important messages faster in order to correct errors faster. <br><br>  SwiftyBeaver adheres to the agreements and uses these 5 levels of logs: <br><br><ol><li>  <b>Verbose</b> : lowest priority level.  Use them for contextual information. </li><li>  <b>Debug</b> : Use this level to display variables or other results that will help you correct the error or solve the problem. </li><li>  <b>Info</b> : usually used for information useful in a more general context of support.  In other words, information is useful for non-developers looking for problems. </li><li>  <b>Warning</b> : use this level when you reach a state that does not necessarily cause a problem, but strongly leads the application in this direction. </li><li>  <b>Error</b> : the most serial and high priority logs.  Use it only when your application caused a serious error. </li></ol><br><h2>  How to record different levels of logs with SwiftyBeaver </h2><br>  Just as you used the <b>info ()</b> method for logging at the info level, you can use four other methods: <b>verbose ()</b> , <b>debug ()</b> , <b>warning ()</b> , and <b>error ()</b> for logging on the other four levels. <br><br>  Try it.  Go back to the <b>application</b> method <b>(_: didFinishLaunchingWithOptions :)</b> and replace the <b>info ()</b> call with the following code: <br><br><pre> <code class="hljs pgsql">SwiftyBeaver.<span class="hljs-keyword"><span class="hljs-keyword">debug</span></span>("Look ma! I am logging to the DEBUG level.")</code> </pre> <br>  Now start your application.  You should see a different color for the heart icon and another message at the <b>debug</b> level. <br><br>  <b>14: 48: 14.155</b> <b><img width="15" height="15" src="https://habrastorage.org/getpro/habr/post_images/80b/e7d/03c/80be7d03c69d814bd18ff86e7d5de8f3.svg"></b>  <b>DEBUG AppDelegate.application (): 36 - Look ma!</b>  <b>I am logging to the DEBUG level.</b> <br><br>  Please note that the color of the icon has changed to green to indicate the debug log level.  This is one of the reasons why SwiftyBeaver is better than <b>print ()</b> and <b>NSLog ()</b> .  You can quickly view the logs and find messages at the level that interests you. <br><br>  <b>Note:</b> try not to abuse higher logging levels.  Warnings and errors should be reserved for situations requiring proper attention. <br><br><h2>  Setup SwiftyBeaver Crypto Cloud </h2><br>  One of the coolest features of SwiftyBeaver is the ability to log directly in the cloud.  SwiftyBeaver has an <a href="http://swiftybeaver.com/">application for macOS</a> , which allows you to view logs in real time.  If you have ever wondered what happens in your application installed on thousands of devices, now you can know it. <br><br>  Download <a href="">SwiftyBeaver for Mac</a> .  Open it and fill out the form to create an account. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/ade/e26/e1f/adee26e1f6574668bcfd8f9f0e3bd5e0.png"></div><br>  Further you will be redirected directly to the file saving window.  This is a bit strange because they don‚Äôt tell what the file is for. <br><br>  Name this file <b>TenPMLogs</b> , select any location you like, and click <b>Save</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/969/535/904/969535904b7f49b8b11fa4c752536791.png"></div><br>  The file that you created in the logs for one application, for this reason you called it TenPMLogs.  When you open this file using the SwiftyBeaver Mac App, you can see logs related to the Ten PM application.  After saving the file you will be given a choice.  You can register a new application or view logs from a previously registered application.  You will continue on the <b>New App</b> tab. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/7d6/c8d/884/7d6c8d884f494e52974ee7ae5ed0429b.png"></div><br>  Click on the <b>Generate New App Credentials</b> button.  You should see the following screen showing the generated ID and keys for your application: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/d42/862/873/d428628733134e24bf8c8ab0a6e67e3a.png"></div><br>  Now it's time to add another destination for logs using the Crypto Cloud security credentials you just created.  Leave this window open and return to the <b>setupSwiftyBeaverLogging ()</b> method in <b>AppDelegate.swift</b> . <br><br>  Add these lines to the bottom of this method, replacing the lines with the appropriate values ‚Äã‚Äãfrom the SwiftyBeaver Mac App: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> platform = <span class="hljs-type"><span class="hljs-type">SBPlatformDestination</span></span>(appID: <span class="hljs-string"><span class="hljs-string">"Enter App ID Here"</span></span>, appSecret: <span class="hljs-string"><span class="hljs-string">"Enter App Secret Here"</span></span>, encryptionKey: <span class="hljs-string"><span class="hljs-string">"Enter Encryption Key Here"</span></span>) <span class="hljs-type"><span class="hljs-type">SwiftyBeaver</span></span>.addDestination(platform)</code> </pre><br>  Return to the SwiftyBeaver Mac App and click on the <b>Connect</b> button.  Now launch the Ten PM application. <br><br>  <b>Note:</b> if you strayed like me and clicked the Connect button before you copied your credentials to your application, you can click on the settings button (gear) in the SwiftyBeaver Mac App to view them after connecting. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/014/c86/58b/014c8658b17640519d8391a77a183257.png"></div><br>  Now check it out!  Your logs appear in the SwiftyBeaver Mac App.  If you do not see the recording right away, then do not worry.  Sometimes it takes a few minutes before log entries get to the cloud.  In the end, they still appear.  SwiftyBeaver also automatically provides one-hour storage for your logs if you have not switched to a paid account.  For most debugging tasks this will not be a problem.  It's just worth noting if you wonder why your older logs are no longer visible. <br><br><h2>  Filtering logs by logging level, selected records and minimum logging levels </h2><br>  The really cool thing in the SwiftyBeaver Mac App is the ability to filter logs by logging level.  This greatly simplifies the process of digging in the logs to find the cause of the critical error. <br><br>  You may have noticed different tabs at the top.  Each of these tabs represents a logging level.  You can view several levels at a time, or you can view only warnings and errors. <br><br>  You can also mark a post as favorite.  You can see all favorites by clicking on a star in the left menu. <br><br><h3>  Filtering by minimum logging level </h3><br>  This is another feature that you really love.  SwiftyBeaver allows you to set a minimum level for a given destination.  If you want to use your Crypto Cloud account for serious warnings and errors, you can do this. <br><br>  First, replace the current logging code in <b>applicationDidFinishLaunching ()</b> with the following: <br><br><pre> <code class="hljs smalltalk"><span class="hljs-type"><span class="hljs-type">SwiftyBeaver</span></span>.verbose(<span class="hljs-comment"><span class="hljs-comment">"Watch me bloviate. I'm definitely not important enough for the cloud."</span></span>) <span class="hljs-type"><span class="hljs-type">SwiftyBeaver</span></span>.debug(<span class="hljs-comment"><span class="hljs-comment">"I am more important, but the cloud still doesn't care."</span></span>) <span class="hljs-type"><span class="hljs-type">SwiftyBeaver</span></span>.info(<span class="hljs-comment"><span class="hljs-comment">"Why doesn't the crypto cloud love me?"</span></span>) <span class="hljs-type"><span class="hljs-type">SwiftyBeaver</span></span>.warning(<span class="hljs-comment"><span class="hljs-comment">"I am serious enough for you to see!"</span></span>) <span class="hljs-type"><span class="hljs-type">SwiftyBeaver</span></span>.error(<span class="hljs-comment"><span class="hljs-comment">"Of course I'm going to show up in your console. You need to handle this."</span></span>)</code> </pre><br>  Now you log a message at each level.  Launch the app and you should see all these entries go to the Crypto Cloud. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/8b4/a51/642/8b4a51642fb245bf80c7f7ed557232ae.png"></div><br>  In the <b>setupSwiftyBeaverLogging ()</b> method, add the following before adding this platform to the destination: <br><br><pre> <code class="hljs pgsql">platform.minLevel = .<span class="hljs-built_in"><span class="hljs-built_in">warning</span></span></code> </pre> <br>  Run the application again.  Look at the new look of your Crypto Cloud console. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/eba/8dc/6f3/eba8dc6f33264e6792021417352b14e9.png"></div><br>  You should only see warnings and errors lately.  No other entries will fall into the crypto cloud.  You still see everything in the Xcode console! <br><br>  <b>Note:</b> You can set a minimum level for any type of logging (destination) in SwiftyBeaver.  You can create several Crypto Cloud logs for different logging levels.  SwiftyBeaver has a lot of room for different logging methods. <br><br><h2>  Fix hard-to-find errors </h2><br>  It was fun to talk about logging into the Crypto Cloud, but you have some sinister bugs that you need to fix.  Well, or at least you have the sinister mistakes that you intend to simulate and then correct them. <br><br>  Start by clearing all early entries.  Remove all logging from the <b>application (_: didFinishLaunchingWithOptions :)</b> .  Also remove the setting for <b>platform.minLevel</b> so that by default all entries are displayed.  For this test you will need to see all the entries in the logs. <br><br><h3>  Error simulation </h3><br>  Now you are ready to use cloud logging and this is the time to simulate an unpleasant background bug. <br><br>  Open <b>LocationTracker.swift</b> and find the <b>locationManager</b> method <b>(_: didUpdateLocations :)</b> .  Paste the following code there after declaring two <b>guard</b> values ‚Äã‚Äãat the top of the method: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bug = <span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> bug == <span class="hljs-literal"><span class="hljs-literal">true</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> }</code> </pre> <br>  This is pretty silly, but you pretend here that somewhere in <i>LocationTracker</i> there is an error that prevents the tracking of the user's location.  This code here prevents notifications that a user has entered or left a safe zone.  When "error" is "disabled" this code will work fine. <br><br>  Run the application to make sure that there is an ‚Äúerror‚Äù. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/bdb/632/f2f/bdb632f2f6f84385bcdec278f780e860.png"></div><br>  As long as you stay at the location previously set using the coordinates you will see an error.  Despite the fact that you are clearly outside the safe zone, the text says that you are at a safe distance from home. <br><br><h3>  Bug tracking with SwiftyBeaver </h3><br>  How could we track this error with SwiftyBeaver?  If you have received error reports in the failed location tracking, but do not have any good error assumptions, add logging wherever you can to get as much information from users as possible. <br><br>  To get started, import SwiftyBeaver at the top of <i>LocationTracker</i> : <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> SwiftyBeaver</code> </pre> <br>  Next, add an entry at the top of the <b>locationManager</b> method <b>(_: didUpdateLocations :)</b> : <br><br><pre> <code class="hljs pgsql">SwiftyBeaver.<span class="hljs-keyword"><span class="hljs-keyword">info</span></span>("Got to the didUpdateLocations() method")</code> </pre> <br>  Now add a few lines at the bottom and paste this line right after the declaration of the <b>bug</b> constant: <br><br><pre> <code class="hljs pgsql">SwiftyBeaver.<span class="hljs-keyword"><span class="hljs-keyword">debug</span></span>("The value of bug is: \(bug)")</code> </pre> <br>  Next, add information when we check the value of this constant, but before <b>return</b> : <br><br><pre> <code class="hljs vbscript">SwiftyBeaver.<span class="hljs-keyword"><span class="hljs-keyword">error</span></span>(<span class="hljs-string"><span class="hljs-string">"There's definitely a bug... Aborting."</span></span>)</code> </pre> <br>  Finally, add an entry at the end of the <b>locationManager</b> method <b>(_: didUpdateLocations :)</b> : <br><br><pre> <code class="hljs smalltalk"><span class="hljs-type"><span class="hljs-type">SwiftyBeaver</span></span>.info(<span class="hljs-comment"><span class="hljs-comment">"Got to the end the didUpdateLocations method"</span></span>)</code> </pre> <br>  This information should be enough to start calculating what happens in your code.  Here‚Äôs what the entire contents of the <b>locationManager</b> method <b>(_: didUpdateLocations :)</b> should look like: <br><br><pre> <code class="hljs pgsql">SwiftyBeaver.<span class="hljs-keyword"><span class="hljs-keyword">info</span></span>("Got to the didUpdateLocations() method") guard let homeLocation = ParentProfile.homeLocation <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { ParentProfile.homeLocation = locations.first <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } guard let safeDistanceFromHome = ParentProfile.safeDistanceFromHome <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } let bug = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> SwiftyBeaver.<span class="hljs-keyword"><span class="hljs-keyword">debug</span></span>("The value of bug is: \(bug)") <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> bug == <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> { SwiftyBeaver.error("There's definitely a bug... Aborting.") <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-keyword"><span class="hljs-keyword">location</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> locations { let distanceFromHome = <span class="hljs-keyword"><span class="hljs-keyword">location</span></span>.distance(<span class="hljs-keyword"><span class="hljs-keyword">from</span></span>: homeLocation) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> distanceFromHome &gt; safeDistanceFromHome { NotificationCenter.<span class="hljs-keyword"><span class="hljs-keyword">default</span></span>.post(<span class="hljs-type"><span class="hljs-type">name</span></span>: TenPMNotifications.UnsafeDistanceNotification, <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>: nil) } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { NotificationCenter.<span class="hljs-keyword"><span class="hljs-keyword">default</span></span>.post(<span class="hljs-type"><span class="hljs-type">name</span></span>: TenPMNotifications.SafeDistanceNotification, <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>: nil) } } SwiftyBeaver.<span class="hljs-keyword"><span class="hljs-keyword">info</span></span>("Got to the end the didUpdateLocations method")</code> </pre> <br>  In the simulator, set the location in <b>Apple</b> as you did before.  Now run the application.  Although logs are now available to you in the Xcode console, ignore them and imagine that you are tracking records in the Crypto Cloud from a remote user. <br><br>  Enter a safe distance of 1 kilometer and click <b>NEXT</b> .  After loading the map, change your location to the <b>latitude of 37.3397 and the longitude of -122.0426</b> through a special location. <br><br>  And again you went outside your safe zone without updating the text. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/e79/7c7/fca/e797c7fca4484d6fa158aa4588e0cc26.png"></div><br>  You should notice the following entries repeated in the SwiftyBeaver Crypto Cloud after you set the filter to <b>ALL</b> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/ec5/781/fb1/ec5781fb1b0d4688bc4835d59130e389.png"></div><br>  Wow, this is really useful!  If you return to your code in the LocationTracker class, you will be able to compare this with the logs and you will see how far your code passes before it stops.  Here it is explicit in <b>if bug == true</b> where the error record was displayed. <br><br>  To ‚Äúfix‚Äù this ‚Äúerror‚Äù simply set the <b>bug</b> constant to <b>false</b> where it is declared in the <b>locationManager</b> method <b>(_: didUpdateLocations :)</b> : <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bug = <span class="hljs-literal"><span class="hljs-literal">false</span></span></code> </pre> <br>  Run the application.  Model the starting position at Apple with an offset beyond the safe zone.  This time, you will see a safe zone warning that worked correctly. <br><br>  You should also see the following entries in your Crypto Cloud console. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/3e1/5a4/955/3e15a495579848a890dddf2dcabe6cf3.png"></div><br>  It looks as if the application has passed the error and successfully responds to location changes again.  You have successfully corrected this error! <br><br><h2>  Where to go? </h2><br>  You can find the completed project for this lesson <a href="">here</a> .  See also <a href="http://docs.swiftybeaver.com/article/10-log-to-file">file logging</a> with SwiftyBeaver.  If you have an iPhone and you want to be 100% sure that you get all your records (even if there is no Internet connection).  For more interesting cases, read the <a href="http://docs.swiftybeaver.com/article/20-custom-format">formatting of</a> records. </div><p>Source: <a href="https://habr.com/ru/post/333852/">https://habr.com/ru/post/333852/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../333842/index.html">Monitoring the work of production web studio</a></li>
<li><a href="../333844/index.html">PostgreSQL multi-tiered backup with Barman and synchronous transfer of transaction logs</a></li>
<li><a href="../333846/index.html">Photographing objects in C #: Chronicle and comparison of images, reconstruction of the state of the image</a></li>
<li><a href="../333848/index.html">What is the power of Redux?</a></li>
<li><a href="../333850/index.html">Security in the era of the Internet of Things: stories of hacking video-babies, pacemakers and supercars</a></li>
<li><a href="../333854/index.html">Overview-rating providers virtual servers Windows: 2017</a></li>
<li><a href="../333856/index.html">MVC on pure javascript</a></li>
<li><a href="../333858/index.html">Results of the first round of CTFzone</a></li>
<li><a href="../333862/index.html">What to read about neural networks</a></li>
<li><a href="../333864/index.html">Bitfury Group conducted the 1st transaction in the Lightning Network using the bitcoin protocol</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>