<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HabraWars: Graphical debug</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="You are probably familiar with the idea of ‚Äã‚ÄãHabraWars, the last topic announces the first tournament. Which happen today. Registration of new partici...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>HabraWars: Graphical debug</h1><div class="post__text post__text-html js-mediator-article"> You are probably familiar with the idea of ‚Äã‚ÄãHabraWars, the <a href="http://habrahabr.ru/blogs/sport_programming/75334/">last topic</a> announces the first tournament.  Which happen today.  <b>Registration of new participants will be after November 20.</b> <br><br>  The rules and the sample robot code are enough to start writing your pedestal conqueror.  But debugging using only the FireBug console may not be very intuitive.  It is much more convenient to receive information and thoughts of the robot directly to the arena. <br><a name="habracut"></a><br>  And for this it is enough just to clear the field at the beginning of the tick and to transfer the Canvas function to the function of the thinking process: <br><br> <code>... <br> this.culc_frame = function() { <br> // Mutex <br> if (mutex) <br> return; <br> else <br> mutex = true; <br> <br> <b>// clear Area is now separated from draw <br> var padding = 10; <br> this.canvas.fillStyle = 'black'; <br> this.canvas.fillRect(0, 0, this.canvas_width - 1, this.canvas_height - 1); <br> this.canvas.strokeStyle = 'white'; <br> this.canvas.lineWidth = 1; <br> this.canvas.strokeRect(padding, padding, this.arena_width, this.arena_height); <br></b> <br> ... <br> control = this.shells[i].action(robot_info[i], robot_info.filter(exclude_myself), shot_info, {arena_width: this.arena_width, arena_height: this.arena_height, robot_radius: this.robot_radius, shot_speed: 12}, <b>engine.canvas</b> ); <br> ... <br> // Draws current frame on canvas from string <br> // Using string params useful for battle replays <br> this.draw = function(situation) { <br> <s><br> // Clear Background <br> var padding = 10; <br> this.canvas.fillStyle = 'black'; <br> this.canvas.fillRect(0, 0, this.canvas_width - 1, this.canvas_height - 1); <br> this.canvas.strokeStyle = 'white'; <br> this.canvas.lineWidth = 1; <br> this.canvas.strokeRect(padding, padding, this.arena_width, this.arena_height); <br></s> <br> // Draw robots <br> current_index = 0; <br> ... <br></code> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And in the robot code, add a parameter: <br> <code>this.action = function(my_state, enemies, shots, params, <b>this_canvas</b> )</code> <br>  Now in the body of the mental function, you can draw debugging: <br> <code>//   ,      <br> for (var i = 0; i &lt; shots.length; i++) <br> { <br> var shot_dest = get_shot_destination(shots[i]); <br> this_canvas.globalAlpha = 0.3; <br> this_canvas.beginPath(); <br> this_canvas.arc(10 + shot_dest.x, 10 + shot_dest.y, 20, 0, Math.PI * 2, true); <br> this_canvas.closePath(); <br> this_canvas.fillStyle = 'red'; <br> this_canvas.fill(); <br> this_canvas.globalAlpha = 1; <br> } <br></code> <br>  And then the convenience and clarity will come: <br><img src="http://lh3.ggpht.com/_HhUVb4n2o_s/SwLrUIpwMuI/AAAAAAAAABc/T06NZSPDvXk/s800/Screenshot.png" alt="image"><br>  Or else it is convenient to show the forecast of the position of the enemy robot: <br><img src="http://lh5.ggpht.com/_HhUVb4n2o_s/SwT6t3txLDI/AAAAAAAAACY/6nqma0rRae4/Untitled.png" alt="image"><br><br>  PS: Unfortunately, until these changes appear in the main engine of battles, you will have to develop your robot offline.  And of course, before transferring code to online, it is necessary to remove references to this_canvas from the robot code. </div><p>Source: <a href="https://habr.com/ru/post/75698/">https://habr.com/ru/post/75698/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../75691/index.html">Internet Explorer 9: video details</a></li>
<li><a href="../75692/index.html">What is the most relevant sorting in tapes? By the freshness!</a></li>
<li><a href="../75694/index.html">Hooray! Full Skype now for Android !: Fring is out!</a></li>
<li><a href="../75695/index.html">Internet Explorer 9: First Details</a></li>
<li><a href="../75696/index.html">PHP Extension: subtleties</a></li>
<li><a href="../75701/index.html">Changing content improves search engine rankings.</a></li>
<li><a href="../75702/index.html">Typical ExtJS based applications</a></li>
<li><a href="../75703/index.html">A clean keyboard is a guarantee of comfort.</a></li>
<li><a href="../75704/index.html">I worry! And I like it!</a></li>
<li><a href="../75705/index.html">Client application architecture on ExtJS. Part 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>