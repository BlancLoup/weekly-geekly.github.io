<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Checking PHP engine for durability</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello everyone, I recently wondered to write a PHP engine for my needs, so to speak, to increase the level and get something useful. Almost immediatel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Checking PHP engine for durability</h1><div class="post__text post__text-html js-mediator-article">  Hello everyone, I recently wondered to write a PHP engine for my needs, so to speak, to increase the level and get something useful.  Almost immediately I wondered how easy it would be to hack it?  It's not a secret that anything can be hacked, but the question is, how problematic will it be and can every hacker be able to do it? <br><br><h4>  Forms </h4><br>  Perhaps the most frequent vulnerability in any project, be it a comment form, or a login form.  Without good checks, this thing is worth nothing. <br>  One common mistake is to save everything you got: <br><pre><code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span>( $_POST <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $item ){}</code> </pre> <br>  Anyone can add his own item to the same debugger, even if it doesn‚Äôt do much hacking, but the thing is extremely unpleasant. <br><a name="habracut"></a><br><h5>  File Upload Forms </h5><br>  I came to this conclusion: <br><blockquote>  You can protect your engine only if you do not have a single form for downloading files, or they are and are checked well enough </blockquote><br>  I think the first is the most reliable, but if there is nowhere without them, then there are several recommendations. <br><ul><li>  One check is never enough! </li><li>  Learn about the content of all. </li></ul><br>  Once I had a project and I needed to do something with the form of uploading photos, when I looked at the code, there were no file checks at all, even file type checks, it's just that it comes and records.  My first thought was: "What the x?".  Having rummaged a little more, I realized that this form is processed by the JS script.  Fortunately, it was the admin and not everyone could get there. <br>  So, the conclusion.  So you can not do! <br>  There are two reasons. <br><ol><li>  The user can be disabled JS </li><li>  User can change JS in debugger </li></ol><br>  Pay more attention to checking files, size, type, if this is a picture, then width, height.  Often, when displaying a picture, they make a check, only on one side, in width or height, and now imagine that some clever person filled the picture with 20000x50px or vice versa, the spectacle will not be pleasant. <br><br><h5>  Password storage </h5><br>  Although this is a handy thing that will save you from yawning in your mail or records and searching for a password, but see what you can do if this computer falls into the hands of your "friend." <br>  He can at least two ways to open the settings and see the saved passwords there, the second through the debugger to change the field type from password to text. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  SQL Injection (SQL Injection) </h4><br><br>  For those who are in the tank - this is the introduction of the SQL code of a simple user, through the address bar or through the same forms. <br>  There is one rule: <blockquote>  " <b>Never trust what the user sent you.</b> " </blockquote><br>  If you constantly remember it, you can save yourself from many problems in the future. <br><br>  Check what the user sent you, if in the password field he specifies ‚Äúlol 'OR (1 = 1) #‚Äù, this will not affect you in any way. <br>  The easiest way to get rid of this is to use mysql_real_escape_string, this function escapes all special characters in SQL, and also removes all slashes using the stripcslashes function. <br><br><h4>  Admin panel </h4><br>  On many sites, to get into the admin panel, just enter the address / [admin | admin.php | administrator |  etc].  There are not so many options, so you can find the right one, but if you use the admin panel with the generated characters, you may not worry (example: 7NVmE10SaJ.php), for some it may seem paranoid, but I think there is never much security. if a user gets to the login page of the administrator and password, it brings him a step closer to uncovering all the secrets of the back-end part of the site. <br><br><h5>  Passwords </h5><br>  In order to avoid the loss of any accounts, do not let users create passwords themselves, but if they do, try to make it make the password as difficult as possible.  Recently, I started using this link to create a password md5 ($ secret_key. $ Password. $ Salt); <br>  In my opinion this is a good defense.  The md5 hash is built from the secret key, which is sewn into the engine config (located somewhere in the code), from the user password and salt, which is stored in the database, next to the user password md5 hash, and each user has his own salt.  What does this give us?  If someone steals a database from us, without a secret key, he will not receive a password, even if he receives both the base and the engine, then he will not get any sense from this without a password either, just use terabyte rainbow tables. <br><br><h4>  phpmyadmin </h4><br>  It's all the same as with the admin panel, you can't give the opportunity to get into phpmyadmin by typing just the address / [phpmyadmin | myadmin | pma | and so on].  Well, it is natural to use the logins root | 123 is also prohibited. <br><br><h4>  Sessions </h4><br>  The most frequent use of sessions is to support user authorization, but storing sessions is also a huge topic.  The first thing to remember is not to keep the session ID in the clear, or even better, store it in the database, and do not let several users sit under one session, check everything, ip, user_agent, so that an intruder cannot steal anything.  I also advise you to look in the direction of anti-spoofing, so that the hacker could not fake ip. <br><br><h4>  Cookies </h4><br>  Cookies are needed for data storage by the browser, often many people store id sessions in cookies, which I do not recommend, especially in the open form.  If you store something in cookies, then encrypt, and even more check, because here, as with the forms, you can not trust what came, because changing is not a problem either.  By the way, the salt that was used for the user's password can help you here again. <br><br><h4>  Architecture </h4><br>  It is necessary to think out the architecture of your project correctly, if you do the whole project with crutches and bicycles, it will not lead to anything good, only to holes.  Try to use MVC, it will help to delimit your code, into logical components. <br><br><h4>  Operating Systems </h4><br>  It's clear that this should be Linux.  I don‚Äôt know about security, but if a person‚Äôs hands grow from where it is necessary, then you can configure any server. <br>  From the words of the people it is clear that Vindos can be customized, so the decision is yours. <br>  If someone offended with winds, sorry, but I did not have to work with him, the opinion was expressed based on the feedback from friends. <br><br>  You can also write about traffic analysis, but I didn‚Äôt do it, so I can‚Äôt know for sure, there are experts for that. <br><br><h4>  Conclusion </h4><br>  From the above, the following conclusions can be made: <br><ul><li>  Information sent by the user is considered unreliable by default. </li><li>  Handle any incoming information </li><li>  Strong passwords </li><li>  Literate architecture </li><li>  Monitor the names of potentially vulnerable files. </li><li>  Do not use other people's scripts, if you use something, check it several times.  The API does not include this number, but use them at your own risk. </li><li>  Sessions, cookies and SQL queries.  Watch them! </li><li>  OS selection </li><li>  Incoming traffic </li></ul><br><br>  All these tips will not save you from the threat of hacking, but will help to complicate it very much, so now not every hacker can crack it.  Just remember that data validation via javascript is only half the story, as you can safely turn it off, double check all data, because of all your code, only 10% is output or work with information, everything else is validation and data validation . <br><br>  Ps.  About Vindos, I said that I did not know for sure.  Just everything that I read about her speak badly, so sorry if offended anyone. <br>  These tips are for beginners, there is no point in telling them about any PDO and ORM. <br>  I know that this information is known to many, but I did not find an article where at least so much information will be presented. <br>  I was not going to surprise anyone, I wanted people who did not understand much about it. </div><p>Source: <a href="https://habr.com/ru/post/173701/">https://habr.com/ru/post/173701/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../173689/index.html">N-back exercise</a></li>
<li><a href="../173691/index.html">Hacking a 100 character tag</a></li>
<li><a href="../173693/index.html">Dater - determines the time zone, localizes and formats the time in PHP</a></li>
<li><a href="../173697/index.html">New vulnerability allows you to bypass the lock screen in iOS 6.1.3</a></li>
<li><a href="../173699/index.html">High Availability FTP Server with AWS S3 Data Storage</a></li>
<li><a href="../173703/index.html">Ultra-hard sapphire glass for smartphones</a></li>
<li><a href="../173705/index.html">Writing your bootloader</a></li>
<li><a href="../173707/index.html">Internet project managers</a></li>
<li><a href="../173709/index.html">Working with the LCD indicator on the debug board STM32L-Discovery</a></li>
<li><a href="../173711/index.html">6 practical tips for beginners in building a simple BI solution</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>