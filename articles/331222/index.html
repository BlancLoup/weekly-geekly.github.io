<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>No place to hide - how aggressive marketing services haunt you</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The Internet has long become some kind of Wild West: everyone is responsible for himself, and some things from the twilight areas of morality, like co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>No place to hide - how aggressive marketing services haunt you</h1><div class="post__text post__text-html js-mediator-article">  The Internet has long become some kind of Wild West: everyone is responsible for himself, and some things from the twilight areas of morality, like collecting personal data, are regulated only when it is beneficial for someone (yes, we all know what laws worth remembering here). <br><br>  Let's analyze it on the example of one service, which for me turned out to be an absolutely unknown area of ‚Äã‚Äãdarkness, but has existed since 2015.  We will not mention its name in the article, but this can be easily done. <br><br><img src="https://pp.userapi.com/c836338/v836338987/46c16/T9Zj7hwO02A.jpg" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, one day my friend received a message inviting him to familiarize himself with the product line of the yacht club.  The wording ‚Äú <i>Some time ago, you were a guest of our site</i> ‚Äù especially attracts attention.  Therefore, it is time to roll up your sleeves and plunge into the world of Internet stalking and at least a little to figure out how everything works. <a name="habracut"></a><br><br><h2>  What is the point? </h2><br>  Companies like Google and Yandex have a rather strict approach to storing personal data that uniquely identifies a user on the network ( <i>namely, Google prohibits the transfer of such data through its Google Analytics and Google Tag Manager services. Failure to follow these rules leads to the prevention or blocking of violators' accounts</i> ) however, this is not true for everyone.  There are some generally accepted ‚Äú <i>rules</i> ‚Äù of data storage, but like a pirated code, these are not strict laws, but only a set of recommendations.  We all know that stalking is a bad thing, but when people pay for such things well, some people have a reason, if not to do it right away, then at least to think about it a little. <br><br>  If you look at the <b>sources of the</b> ill-fated site, you can find an interesting set of scripts for a <b>very suspicious service</b> <i>(you can easily see the selected file on the screen).</i> <br><br><img src="https://pp.userapi.com/c836121/v836121949/4c411/TRHck7mo2Dk.jpg" alt="image"><br><br>  OK, there is a deviation from the standard set of Analytics and Metric codes.  There is a suspect! <br><br>  The next logical step would be to search the source code for the combination " <b>vk</b> ", which could indicate a piece of code responsible for identifying the user on the site.  Let's do it in the file <b>‚Äúpixel / index.php? Img =‚Äù</b> : <br><br><img src="https://pp.userapi.com/c836338/v836338987/46c31/G2a7OrGxY6Y.jpg" alt="image"><br><br>  So, we see that there is some link to the VK application.  It will be logical to assume that with its help the visitor‚Äôs profile is identified, if, of course, he was logged in.  The application address is passed to the <b>vkPr (link)</b> function, its code is shown below: <br><br><pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vkPr</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">link</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> vkprimg = (<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.Image ? (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Image()) : <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">'img'</span></span>)); vkprimg.onload = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ setCookiePr(<span class="hljs-string"><span class="hljs-string">'XFZDGF1FQEpQVV5cSh1DRw=='</span></span>, link); } vkprimg.onerror = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ getOther(); } vkprimg.src = <span class="hljs-string"><span class="hljs-string">'https://vk.com/login?u=2&amp;to=aW1hZ2VzL2ljb25zL2hlYWRfaWNvbnMucG5n'</span></span>; }</code> </pre> <br><br>  Here we see that the installation of the pixel and cookies.  The pixel at the same time logs into the visitor's account, and at this stage the user's deanon should occur.  Next, examine the file from the <b>callback</b> folder and find in it an appeal to <b>vk_id</b> and the installation of cookies with terrible prefixes ‚Äú <b>hunter</b> ‚Äù.  The data set is very rich: from phone number to email and VK identifier. <br><br>  <i>The hunt has begun:</i> <br><br><img src="https://pp.userapi.com/c836121/v836121949/4c408/8KV8QQadFlk.jpg" alt="image"><br><br>  This file stores the tracker core, through which data is transmitted to the server of the service and further actions with them are already unknown. <br><br><img src="https://pp.userapi.com/c836338/v836338987/46c67/c4CnpQxqBIo.jpg" alt="image"><br><br>  If you follow the link of the application, which at the time of publication of the article is already blocked, you can find an interesting application " <b>Hello</b> ", which has access to your personal data.  It does not require installation in your account. <br><br><img src="https://pp.userapi.com/c836121/v836121949/4c400/wEi_gzcIXXs.jpg" alt="image"><br><br>  It contains the application developer page and it would be interesting to go to it too. <br><br><img src="https://pp.userapi.com/c836121/v836121949/4c3f7/dxDmxj1iD3w.jpg" alt="image"><br><br>  Here we see an empty account, which, obviously, was created as a service account and is filled just enough to attract attention.  <i>The last entry was made at 21:17, which makes you think about a very long working day in the company that created this application.</i> <br><br>  Not being able to track specific methods for identifying users, one can only assume that using the main functionality of VK applications, a link to the user is received and transferred to the bot, who writes a message to the site visitor in a rather ‚Äú <i>creepy</i> ‚Äù format ‚Äú <i>I know what you did this evening</i> ‚Äù .  In the <b>widgets</b> folder there is an appeal to a <b>third-party service</b> , through which, in fact, all communication goes: <br><br><img src="https://pp.userapi.com/c836121/v836121949/4c3cf/vPh8kk8-540.jpg" alt="image"><br><br>  Interestingly, the dialogues with the bot were initially clearly indicated, but later they were removed. Here is a clipping from the object, with conversation options: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"exitWeTreasure"</span></span>: { <span class="hljs-string"><span class="hljs-string">"head-name"</span></span>: <span class="hljs-string"><span class="hljs-string">"‚Äî #{name},  ,"</span></span>, <span class="hljs-string"><span class="hljs-string">"head"</span></span>: <span class="hljs-string"><span class="hljs-string">"‚Äî  ,"</span></span>, <span class="hljs-string"><span class="hljs-string">"text-free"</span></span>: <span class="hljs-string"><span class="hljs-string">"    !        ?"</span></span>, <span class="hljs-string"><span class="hljs-string">"text_worktime"</span></span>: <span class="hljs-string"><span class="hljs-string">"    !   &lt;br/&gt;#{countdown} ((||)):countdown    ?"</span></span>, <span class="hljs-string"><span class="hljs-string">"text_off"</span></span>: <span class="hljs-string"><span class="hljs-string">"    ! ,   ."</span></span>, <span class="hljs-string"><span class="hljs-string">"action_callLater"</span></span>: <span class="hljs-string"><span class="hljs-string">"  "</span></span>, <span class="hljs-string"><span class="hljs-string">"action_call"</span></span>: <span class="hljs-string"><span class="hljs-string">", !"</span></span>, <span class="hljs-string"><span class="hljs-string">"action_text"</span></span>: <span class="hljs-string"><span class="hljs-string">" "</span></span> }, <span class="hljs-string"><span class="hljs-string">"didCallSucceed"</span></span>: { <span class="hljs-string"><span class="hljs-string">"head-name"</span></span>: <span class="hljs-string"><span class="hljs-string">"‚Äî #{name},"</span></span>, <span class="hljs-string"><span class="hljs-string">"head"</span></span>: <span class="hljs-string"><span class="hljs-string">"‚Äî ,"</span></span>, <span class="hljs-string"><span class="hljs-string">"text-name"</span></span>: <span class="hljs-string"><span class="hljs-string">",      ?"</span></span>, <span class="hljs-string"><span class="hljs-string">"text"</span></span>: <span class="hljs-string"><span class="hljs-string">"     ?"</span></span>, <span class="hljs-string"><span class="hljs-string">"action_yes"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"action_no"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span> } }</code> </pre><br><br>  Looks familiar, right?  Part of the code that is responsible for communicating with children looks particularly nice, as they are asked to call their parents ( <i>these conclusions are made on the basis of the names of the methods to which they apply</i> ). <br><br><img src="https://pp.userapi.com/c836121/v836121949/4c3c0/sk82NlWojmw.jpg" alt="image"><br><br>  On this part, dedicated to the code ends.  Next, just look in Google for the URL from which the js-files were downloaded. <br><br><h2>  Who is stalking me? </h2><br>  It was simple and the very first result leads to a service that directly reports that it is searching for accounts of those who have visited the site: <br><br><img src="https://pp.userapi.com/c836121/v836121949/4c3b8/oKhFA4CJ52c.jpg" alt="image"><br><br>  Here on the original image ( <i>I had to gloss over the names of these services so that no one seemed to be such an original way of promotion</i> ) we already see the familiar combination of words with the presence of <b>vk</b> , and in the title is the name of the developer company of the <s>bounty hunter</s> tracker. <br>  Further searches led to the fact that it turned out that this company has existed since 2015 and has provided services to many clients, some of whom are very well known with a good reputation: from banks to cellular operators.  Over its long history of Internet surfing in a non-anonymous mode, I have never written bots with offers to get acquainted with the product catalog, so it looks rather doubtful, but I can be wrong. <br><br><h2>  What next? </h2><br>  In fact, this service can be used to blackmail users.  It should be placed, for example, on porn and one bad day a bot can write someone a message of happiness ‚Äú <i>I know your favorite videos and tell them all</i> ‚Äù.  Dubious pleasure, whoever you are.  It is also possible to apply this in order to track down the frequent visitors of some undesirable publication and use it as a powerful tool of censorship. <br><br>  <b>In the "Privacy Policy Vkontakte" in paragraph 5.1.4 indicated that:</b> <blockquote>  The personal data of the Users is not transferred to any third parties, except as expressly provided for by these Rules. <br><br>  When specifying a user or with the user's consent, it is possible to transfer user personal data to third party counterparties of the Site Administration with the condition that such counterparties assume obligations to ensure confidentiality of the information received, in particular when using applications. <br><br>  Applications used by users on the Site are hosted and maintained by third parties ( <i>developers</i> ) who operate independently of the Site Administration and do not act on behalf of or on behalf of the Site Administration.  Users are required to independently familiarize themselves with the rules for the provision of services and the privacy policy of such third parties ( <i>developers</i> ) before using the respective applications. <br><br>  The actions of such third parties ( <i>developers</i> ) are governed by the official document of the Site Administration by the Conditions for placing applications. </blockquote><br>  That is, the work with data is carried out according to the rules for the placement of VK applications. <br>  <b>The same rules in Clause 2 state:</b> <br><blockquote>  2. Work with data <br>  2.1.  It is prohibited to collect and store user data, including User ID, for purposes not related to the operation of the application.  The requested data should be used only in the context of the application. <br>  2.2.  Applications hosted on vk.com should have a privacy policy.  If it does not exist, the standard VK privacy policy is used. <br>  2.3.  It is forbidden to transfer any user data that is automatically obtained through the API (including the User ID) to third-party services (for example, advertising), either directly or through intermediaries. <br>  2.4.  It is forbidden to use user data in any advertisements. </blockquote><br>  This shows that clauses <b>2.3</b> and <b>2.4</b> are violated, which report that user data cannot be transferred to third parties.  In fact, it is very similar to the story with <b>FindFace</b> , but there is a nuance that <b>FindFace is</b> not intended ( <i>formally</i> ) to advertise and transfer your data to someone else for profit.  Here the situation is radically different. <br><br><h2>  Instead of completion </h2><br>  In general, the collection of data about users of sites is not something bad.  Even if not anonymously, you can simply ask to ask permission from the user if it can be deanonymized.  Of course, it would be reasonable to simply offer everyone to surf the net in anonymous mode and not experience such problems, but this will not be the solution.  Anonymous data allows you to get an idea about your audience and more effectively build your business and its promotion.  <i>And the most fun in this story is that there was a clear slip past its target audience, because</i>  <i>ordinary students of 20-25 years hardly have the opportunity to buy a yacht.</i> <br><br>  Also, after contacting <b>VK</b> support service with a message about the activities of this service and questions about their attitude to such behavior, this application was blocked.  Something tells me that such applications are developed in batches with minimal changes for a specific client, so one problem was solved, but globally, unfortunately, nothing has changed.  Perhaps they drew attention to the activities of the company as a whole, and it is worthwhile to expect further changes in the future, but all that remains is to guess. <br>  The help desk answers can be seen below, they are very minimalist: <br><br><img src="https://pp.userapi.com/c639724/v639724987/2b04c/XSw9Fw9pzZM.jpg" alt="image"><br><br>  With this, I will finish my story about how many of us can be found on the open spaces of the network without our knowledge.  <i>Stay safe, stay strong.</i> </div><p>Source: <a href="https://habr.com/ru/post/331222/">https://habr.com/ru/post/331222/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../331210/index.html">Self-registration of the second factor for two-factor authentication based on the RADIUS protocol</a></li>
<li><a href="../331212/index.html">Development kit from analytics to outsourced artists</a></li>
<li><a href="../331214/index.html">Automatic configuration of Cisco voice gateways and Eltex Asterisk provisioning</a></li>
<li><a href="../331216/index.html">HTTP / 2 Server Push is not as simple as I thought.</a></li>
<li><a href="../331220/index.html">The implementation of the algorithm A *</a></li>
<li><a href="../331224/index.html">Translation of the Appium Essentials book. Chapter 1</a></li>
<li><a href="../331226/index.html">On the use of video cameras with character recognition on low-performance computing devices</a></li>
<li><a href="../331228/index.html">Debian 9: what's new</a></li>
<li><a href="../331230/index.html">The incredible machine or my best test.</a></li>
<li><a href="../331232/index.html">Evening backup. We make everything easier and clearer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>