<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>IO works with a bunch of Haskell</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The Beginning of the Haskell Series 
 In this article we will focus on you . You are all spinning around Haskell's pile and strive to open a present. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>IO works with a bunch of Haskell</h1><div class="post__text post__text-html js-mediator-article">  The Beginning of the <a href="http://habrahabr.ru/blogs/Haskell/118797/">Haskell</a> Series <br>  In this article we will focus on <em>you</em> .  You are all spinning around Haskell's pile and strive to open a present.  In the end, the gifts themselves do not open. <br><a name="habracut"></a><br><img src="https://habrastorage.org/getpro/habr/post_images/6a2/997/8ed/6a29978ed44690a244d8362d0fa23d1a.png"><br>  Someone should open the first gift. <br><img src="https://habrastorage.org/getpro/habr/post_images/46f/ff7/759/46fff77591981e18385d15b319deaaf2.png"><br>  If a bunch of Haskell does not interact with the outside world, then you do not need to open gifts.  Therefore, only IO functions will do this.  It is not always obvious what particular gift the function will open.  Therefore we will look at the elementary <em>evaluate</em> .  Which asks you ... <br><img src="https://habrastorage.org/getpro/habr/post_images/24c/8fa/328/24c8fa32803beab4b3f99eacf7a05b98.png"><br>  ... just open the gift. <br>  If you got a primitive value, then that's it.  But can get a gift certificate (designer): <br><img src="https://habrastorage.org/getpro/habr/post_images/389/a91/bea/389a91bea14a8de2685c363cc9deaf66.png"><br>  Will you open gifts on it?  Despite your fervent desire, the answer is no.  <em>evaluate</em> asks you to open only one gift.  And if it‚Äôs already open, you don‚Äôt need to do anything at all. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7ce/425/2c2/7ce4252c229db6c9cf1745d30bf16a1f.png"><br><blockquote>  Tip: If you want to calculate more, create a gift with the spirit that does the work for you!  Often they give such an example of lazy IO computing of <em>evaluate (length xs)</em> .  But don‚Äôt worry much if you don‚Äôt understand it yet: I haven‚Äôt yet told you how to create gifts! </blockquote><br>  Although we open only one gift, a lot of things can happen.  I wrote about this in the last article.  Any IO (side effect) can be executed ... <br><img src="https://habrastorage.org/getpro/habr/post_images/e22/435/c71/e22435c713cecec79f92e6a54bf54d6e.png"><br>  Side effects allow you to peek at the order of calculations.  After all, if you run the program in the usual way, then we will not see when the gift opens.  But if you ask the spirit to scream when it is disturbed, we will know about it.  In fact, this is exactly what <em>Debug.Trace does</em> ! <br><img src="https://habrastorage.org/getpro/habr/post_images/864/7ff/996/8647ff99670d017232b4171cc28bf934.png"><br>  There are other ways to learn how calculations are progressing.  The gift may explode if it is mined.  Mines are also called ‚Äúbottom‚Äù (logical contradiction). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/422/3e1/6a8/4223e16a82605518cd875adbbb30c395.png"><br>  Perhaps the explosion was caused by <em>undefined</em> or <em>error "Foobar"</em> . <br><img src="https://habrastorage.org/getpro/habr/post_images/de4/5f4/152/de45f4152d9982780ddb104627882dd1.png"><br>  Boom. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We finish with practical advice.  As we have seen, you can be sure that the gift is open, only if you explicitly ask about it in IO.  Otherwise, the spirit can deceive you.  After all, you can not directly <em>see a</em> bunch of Haskell, so there is no direct way to find out whether the gift is open or not. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4f0/385/910/4f0385910b0bf441b3cab4e22f4aaedb.png"><br>  If you are not sure that thunk is calculated, attach a trace to it.  And if the spirits are lazy behind your back, the trace will not work. <br><img src="https://habrastorage.org/getpro/habr/post_images/008/f72/3c7/008f723c772015ce486cb02c02cbce72.png"><br>  But more often you will still see a trace, although later than you expect (spirits are lazy, but they will someday do their work).  It can be useful to exit the program ahead of time or print the completed stages of the calculations. <br><br>  Last time: <a href="http://habrahabr.ru/blogs/Haskell/118831/">Calculation in a Haskell heap</a> <br>  Next time: <em>Implementing Haskell Heap on Python, v1</em> <br><br>  <em>Comment.</em>  Contrary to what I said earlier, theoretically nothing prevents you from doing thunk on the heap in any order: this is called a <em>speculative calculation</em> .  In addition, IO actions themselves can be thunk, which corresponds to the transfer of value ( <em>IO a</em> ) without its real ‚Äúsweep‚Äù.  But since I‚Äôm not here for the monad, I‚Äôm just not going to pay attention to gifts with <em>IO</em> actions ‚Äî everything works the same way, only one more level of indirection is added.  And finally, the endless cycles are also considered bottom, but the picture in which the opening of the gift lasts until the end of the centuries is not as exciting as an exploding gift. </div><p>Source: <a href="https://habr.com/ru/post/118837/">https://habr.com/ru/post/118837/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../118831/index.html">Calculation in a Haskell heap</a></li>
<li><a href="../118832/index.html">Google Street View will show interior stores and restaurants.</a></li>
<li><a href="../118833/index.html">Movie and music startups attract the most investment</a></li>
<li><a href="../118835/index.html">Startup Jobs from PRUFFI (May 2-6)</a></li>
<li><a href="../118836/index.html">Computer flash drive for $ 25</a></li>
<li><a href="../118838/index.html">Golden Key from Google Adwords - Campaign Memo</a></li>
<li><a href="../118839/index.html">Configure ALUA Multipath on Centos 5.x with EMC Storage</a></li>
<li><a href="../118840/index.html">WPF Multilingual Project Template</a></li>
<li><a href="../118842/index.html">"Tablet" microscope - a new word in optical technology</a></li>
<li><a href="../118843/index.html">Decentralized web</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>