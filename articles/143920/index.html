<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Once again about the documentation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Level: Beginner, Continuing, Lazy 

 What's again? But why!? 
 About the documentation has already been said a lot, including in Habr√©, where I found ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Once again about the documentation</h1><div class="post__text post__text-html js-mediator-article">  <i>Level: Beginner, Continuing, Lazy</i> <br><br><h2>  What's again?  But why!? </h2><br>  About the documentation has already been said a lot, including in Habr√©, where I found several articles.  However, those articles that I watched ( <a href="http://habrahabr.ru/post/5546/">one</a> , <a href="http://habrahabr.ru/post/92767/">two</a> , <a href="http://habrahabr.ru/post/92349/">three</a> , <a href="http://habrahabr.ru/post/122700/">four</a> ) answer the questions why and what needs to be documented.  I want to give two simple examples showing how, as well as demonstrating that the documentation can be <s>soft and silky</s> light and pleasant. <br><br><img src="https://habrastorage.org/storage2/1bd/409/4a5/1bd4094a5bdaea34ec9224582398584d.png"><img src="https://habrastorage.org/storage2/496/184/afc/496184afc454505b4bb68bc828cb05c7.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br><h2>  What is the documentation? </h2><br>  I believe that there is only one normal way to keep records.  Ask yourself what?  I think you guessed it was a wiki.  Why?  I‚Äôm not even going to mention the possibilities of collaboration, it‚Äôs obvious.  The main advantages of the wiki system I see in the following: <br>  1. The history of edits is saved.  You can always see who is to blame <s>and to whom <a href="http://www.youtube.com/watch%3Fv%3DXfpLwPe1Ik4">in the head of his boots</a> .</s> <br>  2. Easy installation, configuration and use.  Wikis can be used anywhere. <br><br><h2>  Server Documentation </h2><br>  I conduct documentation mainly text.  But now I deviate from the topic and tell you about the scheme. <br><br><h4>  Otsuplenie about graphic schemes </h4><br>  I love beautiful schemes, but I use them only as a last resort, because they have several fundamental flaws. <br>  1. You need to download the scheme from the wiki, change it and upload it back.  This disadvantage is just as important that I will focus on it especially.  So, the key condition for timely documentation is the principles of ‚Äúdocument as you go‚Äù and ‚Äúdocument easily.‚Äù  To change the documentation you need to perform the minimum number of actions.  And the truth is that if in order to document a change in the network topology or in the cluster operation scheme, you need to open the scheme, modify it and upload it back, there is a rather high probability that they will not do it.  And even if they are, it is not at all happy, because it is very dreary. <br>  2. Schemes can not be searched.  And even if you search by schemes in the program for creating schemes, it is unlikely that it will work when the scheme, most likely converted into a picture, is inserted into the wiki. <br>  3. The scheme does not replace the grammatical verbal description.  Of course, there are things for which the schemes are more suitable, but in my everyday practice I have come across the fact that most of the things with which I work are perfectly described by text, and sometimes the schemes are molded just for beauty. <br><br><h4>  So the text </h4><br>  I love the text.  I will say even more, I love plaintext.  It is quickly recruited and quite expressive, if properly used indents, and allows you to focus on the structure and not on the design.  Structure is the most important thing.  Therefore, once again I will say: ‚ÄúUse indents!‚Äù They allow you to focus on what you are describing without being distracted by the design, and at the same time present the information in a convenient, structured and easy-to-understand form.  Maybe a little praise?  Anyway. <br><br>  So, a few principles of working with text: <br>  1. Documentation is written in order to read it.  Therefore, in developing the format of documentation, repel solely because it can help you in your work.  Ask yourself ‚ÄúWhat should I know about this service?  About this car? " <br>  2. Write concisely.  If you can not write something, because it already exists somewhere, then do not write, because from experience we get a jungle of text, which is then simply hammered.  For example, server specifications, you can specify a link to a document on the manufacturer's website.  So, there is no redundancy and unnecessary work! <br>  3. Do not write, copy!  If something can be taken directly from the config, take it straight from the config.  The output of the command will also go.  If you can make a script that you use to pull out information from configs and put it on a wiki (which is not hard), do it.  The documentation on the servers themselves can be put in / etc / motd and then uploaded to the wiki, then it will be much easier for everyone to document the changes. <br>  3. Structuring is our everything.  Indent subordinate elements.  You can use lists, but lists are good, but indents are better. <br>  4. Standards of documentation should be, but common sense is more important.  For example, if there are some implicit features in the functioning of the server, do a new subsection and write.  If something is wrong with the server, bring it up and highlight it in red. <br>  5. Monitoring is not documentation.  Configuration management systems are also not documentation.  It is clear that if there are 100 servers of the same type, then only one can be documented but, on the other hand, if you have 100 servers of the same type, then you already know that. <br><br><h2>  Template for server description </h2><br>  So, below is a template for describing the server.  In a real wiki, it looks about the same as here.  As you can see, I love indentations so much that I really use a lot of pre <i>pre</i> <s>pre</s> tags. <br><br>  The template itself consists of the following items: <br>  1. Server Name <br>  2. Services provided <br>  3. Responsible <br>  4. System <br>  5. Monitoring <br>  6. Backup <br><br><h4>  Server name </h4><br><pre><code class="bash hljs">powerconsumer.site</code> </pre> <br><h4>  Services provided </h4><br><pre> <code class="bash hljs">   --------------------------- :  ,        10^100  .   ,      memeater. : Memory eating service, socket http://bofh.ntk.net/BOFH/ 80/tcp : /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/cpueater init-: /etc/init.d/cpueater  : /srv/bofh/cpueater : /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/cpueater[1,7] : every day, keeping last 7 days : http://zabbix.site/cpueater/ : /etc/cpueater/cpueater.conf    ----------------------- :  ,          . : Memory eating service, socket http://bofh.ntk.net/BOFH/ 80/tcp : /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/memeater init-: /etc/init.d/memeater  : /srv/bofh/memeater : /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/memeater[1,7] : every day, keeping last 7 days : http://zabbix.site/memeater/ : /etc/memeater/memeater.conf</code> </pre><br><h4>  Responsible </h4><br><pre> <code class="bash hljs">BOFH</code> </pre><br><h4>  System </h4><br><pre> <code class="bash hljs">Debian Squeeze 6.04 Disk subsystem -------------- RAID-6 on LSI-based controller with 10 active disks and 2 hot-spares. 10.0GB ext4 / boot 10.0GB linux-swap(v1) swap 10.0GB ext4 /tmp 10.0GB ext4 /usr 20.0GB ext4 /var 40.0GB ext4 /home 20.0GB /opt 2300GB /srv/bofh Network subsystem ----------------- iface eth0 inet static address 192.168.1.10 netmask 255.255.255.0 network 129.168.1.0 gateway 192.168.1.1 up sleep 5; /sbin/ethtool -s eth0 autoneg off speed 100 duplex full</code> </pre><br><h4>  Monitoring </h4><br><pre> <code class="bash hljs">Zabbix-agent with custom scripts: /opt/zabbix/cpueater.py /opt/zabbix/memeater.py</code> </pre><br><h4>  Backup </h4><br><pre> <code class="bash hljs">/srv/bofh/cpueater/ /srv/bofh/memeater/</code> </pre><br><br><h2>  The interaction between the servers </h2><br>  As shown, this is the main page.  It is much more commonly used than the pages of individual servers.  The meaning of this page is simple: in one place, in the simplest possible way, it is possible to describe a complete picture of the interaction of all machines. <br><br><h2>  <i><font color="red">So, if you are too lazy to keep records, at least do it!</font></i> </h2><br>  The format of the documentation is simple.  For each service (daemon) on the host, all hosts and services with which the described service interacts are recorded. <br><pre> <code class="bash hljs"> balancer.site ------------- ngnix: --&gt; webserver0.site/ngnix: 80/tcp ngnix: --&gt; webserver1.site/ngnix: 80/tcp webserver0.site --------------- php-fpm: --&gt; sql.site/postgresql: 5423/tcp webserver1.site --------------- php-fpm: --&gt; sql.site/postgresql: 5423/tcp sql.site -------- postgresql: --&gt; backup.sql.site/postgresql: 22/tcp backup.sql.site --------------- amanda.site ----------- amanda-server: --&gt; balancer.site/amanda-client: 30000-30100/tcp, 10800/udp amanda-server: --&gt; webserver0.site/amanda-client: 30000-30100/tcp, 10800/udp amanda-server: --&gt; sql.site/amanda-client: 30000-30100/tcp, 10800/udp zabbix.site ----------- zabbix-server: --&gt; balancer.site/zabbix-agent: 10050/tcp zabbix-server: --&gt; webserver0.site/zabbix-agent: 10050/tcp zabbix-server: --&gt; webserver1.site/zabbix-agent: 10050/tcp zabbix-server: --&gt; sql.site/zabbix-agent: 10050/tcp zabbix-server: --&gt; backup.sql.site/zabbix-agent: 10050/tcp zabbix-server: --&gt; amanda.site/zabbix-agent: 10050/tcp</code> </pre><br><br><h2>  At last </h2><br>  The above examples do not necessarily apply to you directly, they can and should be altered under the circumstances. <br><br>  Well that's all.  Hello! <br><br>  UPDATE: As <a href="http://habrahabr.ru/users/volch/" class="user_link">VolCh</a> reasonably noted in the comments, and then also the <a href="http://habrahabr.ru/users/powerman/" class="user_link">powerman</a> , it is convenient to use the version control system for documentation and work with the documentation as with code.  The explanation is why there is in the comments.  Then you can do as described by the powerman here, in my opinion a very good solution: <a href="http://habrahabr.ru/post/12903/">habrahabr.ru/post/12903</a> <br><br>  UPDATE2: Added thoughts about repository documentation vs wiki documentation: <br>  For wikis: <br>  - If not only developers work with documentation, it is much easier to use wikis <br>  - In a wiki, it is easier to bring documentation to one type, there will be no confusion and vacillation (from experience) <br>  - Robots are easily attached to the wiki, so the advantages of the repository are not obvious <br>  - If the wiki is large, it‚Äôs more convenient to do a global search.  there are indexes <br><br>  For repository: <br>  - Developers will most likely find it easier to use the repository, a single system for everything <br>  - Robots are attached easier than on a wiki <br>  - If you already have documentation in html format, you will not be able to access the wiki in a minute, but you can easily put it into the repository. <br><br>  In general, one should always choose according to circumstances.  If there are some developers in the team and there are clear standards for everything - the repository, if not only developers or bad standards - wikis, if there are any other factors - consider them. <br><br>  UPDATE3: In the comments <a href="http://habrahabr.ru/users/dyadyavasya/" class="user_link">dyadyavasya</a> told that he has a positive experience using Google Docs.  So if you are not afraid to give your data to the mercy of a beaver corporation, go ahead. </div><p>Source: <a href="https://habr.com/ru/post/143920/">https://habr.com/ru/post/143920/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../143912/index.html">WEB 3.0</a></li>
<li><a href="../143913/index.html">Where and how do e-mails go? Google's online explanation</a></li>
<li><a href="../143915/index.html">Foursquare checks are now displayed on Facebook Timeline cards</a></li>
<li><a href="../143917/index.html">The long-awaited Diablo III has been released</a></li>
<li><a href="../143919/index.html">Sviaz-Expocomm 2012</a></li>
<li><a href="../143921/index.html">Yandex Mail. Preventing hakostrofy</a></li>
<li><a href="../143923/index.html">Landing page that works</a></li>
<li><a href="../143925/index.html">Why do we need delegates in C #?</a></li>
<li><a href="../143926/index.html">M13 synthetic virus converts kinetic energy into electricity</a></li>
<li><a href="../143927/index.html">How to open your online store Ecwid on Facebook and Google Sites</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>