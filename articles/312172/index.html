<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Javascript six-character journey</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Javascript is a strange and beautiful language that allows you to write crazy, but still valid code. He tries to help us by converting one thing to an...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Javascript six-character journey</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/files/fd0/fba/e92/fd0fbae92e7c4775b6bf06d758ee24ae.jpg"></p><br><p>  Javascript is a strange and beautiful language that allows you to write crazy, but still valid code.  He tries to help us by converting one thing to another depending on how we work with them. </p><br><p>  If you add a string to something, it will allow us to get the text, so it will convert everything into a string. </p><br><p>  If we add the plus or minus prefix, it will assume that we need a numeric representation and convert the string to a number if it can. </p><br><p>  If we deny something, it will convert it to a boolean value. </p><br><p> We can use these features of the language and create a bit of magic with just six characters: <code>[</code> , <code>]</code> , <code>(</code> , <code>)</code> <code>!</code>  and <code>+</code> .  If you are reading this on the desktop, you can open the console in your browser (developer tools, for example) and run the code.  Just copy any code from the examples below to the console, and it should be executed and return true. </p><br><p>  Let's start with the simple.  Here are the main rules: </p><br><ol><li>  Prefix <code>!</code>  converts to Boolean </li><li>  Prefix <code>+</code> Converts to Number </li><li>  Adding <code>[]</code> converts String </li></ol><br><p>  Here they are in action: </p><br><pre> <code class="hljs objectivec">![] === <span class="hljs-literal"><span class="hljs-literal">false</span></span> +[] === <span class="hljs-number"><span class="hljs-number">0</span></span> []+[] === <span class="hljs-string"><span class="hljs-string">""</span></span></code> </pre><a name="habracut"></a><br><p>  Another important point to remember is using square brackets to get a specific character (letter) from a string like this: </p><br><pre> <code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"hello"</span></span>[<span class="hljs-number"><span class="hljs-number">0</span></span>] === <span class="hljs-string"><span class="hljs-string">"h"</span></span></code> </pre><br><p>  Also remember that you can take a few numbers and add them in a string representation, and then convert it back to a number. </p><br><pre> <code class="hljs lisp">+(<span class="hljs-string"><span class="hljs-string">"1"</span></span> + <span class="hljs-string"><span class="hljs-string">"1"</span></span>) === <span class="hljs-number"><span class="hljs-number">11</span></span></code> </pre><br><p>  Well, let's try to combine these tricks and get the letter <code>a</code> . </p><br><pre> <code class="hljs erlang-repl">![] === false ![]+[] === <span class="hljs-string"><span class="hljs-string">"false"</span></span> +!![] === <span class="hljs-number"><span class="hljs-number">1</span></span> ------------------------ (![]+[])[+!![]] === <span class="hljs-string"><span class="hljs-string">"a"</span></span> // same as <span class="hljs-string"><span class="hljs-string">"false"</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]</code> </pre><br><p>  Cool </p><br><p>  With this fairly simple combination, you can get all the letters from the words <code>true</code> and <code>false</code> .  <code>a</code> , <code>e</code> , <code>f</code> , <code>l</code> , <code>r</code> , <code>s</code> , <code>t</code> , <code>u</code> .  Okay, is it possible to get letters elsewhere? </p><br><p>  Well, there are <code>undefined</code> , which can be obtained with the help of strange nonsense like <code>[][[]]</code> .  Convert it to a string using one of our main rules and get additional letters <code>d</code> , <code>i</code> and <code>n</code> . </p><br><pre> <code class="hljs lua">[]<span class="hljs-string"><span class="hljs-string">[[]]</span></span> + [] === <span class="hljs-string"><span class="hljs-string">"undefined"</span></span></code> </pre><br><p>  Using letters that we still have, you can write the words <code>fill</code> , <code>filter</code> and <code>find</code> .  Of course, there are other words, but these three words are interesting to us, because these are <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">array methods (Array)</a> .  That is, they are part of an <code>Array</code> object and can be called directly from an array instance.  For example, <code>[2,1].sort()</code> . </p><br><p>  An important feature of Javascript: object properties are accessible through a <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Property_accessors">dot (dot notation) <em>or</em> square brackets (square bracket notation)</a> .  Since array methods are properties of the Array object itself, you can call these methods using square brackets instead of a period. </p><br><p>  That is, <code>[2,1]["sort"]()</code> is the same as <code>[2,1].sort()</code> . </p><br><p>  Let's see what happens if we use one of the array methods using the available letters, but we will not call it: </p><br><pre> <code class="hljs json">[][<span class="hljs-string"><span class="hljs-string">"fill"</span></span>]</code> </pre><br><p>  This gives <code>function fill() { [native code] }</code> .  You can convert this method header to a string with a rule we know about: </p><br><pre> <code class="hljs cs">[<span class="hljs-meta"></span><span class="hljs-meta"></span>][<span class="hljs-string"><span class="hljs-string">"fill"</span></span>]+[] === <span class="hljs-string"><span class="hljs-string">"function fill() { [native code] }"</span></span></code> </pre><br><p>  Here, we now have additional characters: <code>c</code> , <code>o</code> , <code>v</code> , <code>(</code> , <code>)</code> , <code>{</code> , <code>[</code> , <code>]</code> , <code>}</code> , <code>‚ÄÇ</code>  . </p><br><p>  With the letters <code>c</code> and <code>o</code> we can now write a <code>constructor</code> .  <code>constructor</code> is a method available in all Javascript objects; it simply returns a constructor function. </p><br><p>  Let's get a string representation of the constructor function for all of the objects available to us now: </p><br><pre> <code class="hljs markdown">true[<span class="hljs-string"><span class="hljs-string">"constructor"</span></span>] + [<span class="hljs-string"></span><span class="hljs-string"></span>] === "function Boolean() { [<span class="hljs-string"><span class="hljs-string">native code</span></span>] }" 0[<span class="hljs-string"><span class="hljs-string">"constructor"</span></span>] + [<span class="hljs-string"></span><span class="hljs-string"></span>] === "function Number() { [<span class="hljs-string"><span class="hljs-string">native code</span></span>] }" ""[<span class="hljs-string"><span class="hljs-string">"constructor"</span></span>] + [<span class="hljs-string"></span><span class="hljs-string"></span>] === "function String() { [<span class="hljs-string"><span class="hljs-string">native code</span></span>] }" []["constructor"] + [] === "function Array() { [native code] }"</code> </pre><br><p>  From here we get new letters for the arsenal: <code>B</code> , <code>N</code> , <code>S</code> , <code>A</code> , <code>m</code> , <code>g</code> , <code>y</code> . </p><br><p>  Now you can collect the word <code>"toString"</code> .  This is a function that can be called with square brackets.  Yes, this time we will actually call her: </p><br><pre> <code class="hljs markdown">(10)[<span class="hljs-string"><span class="hljs-string">"toString"</span></span>](<span class="hljs-link"></span><span class="hljs-link"></span>) === "10"</code> </pre><br><p>  But we, after all, were able to convert anything into a string using one of the basic rules.  What is the use? </p><br><p>  Well, what if I say that the <code>Number</code> type's <code>toString</code> method has a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toString">secret argument</a> called <code>radix</code> , which changes the <a href="https://en.wikipedia.org/wiki/Radix">base of the number system of the</a> returned number before converting it to a string.  See: </p><br><pre> <code class="hljs markdown">(12)[<span class="hljs-string"><span class="hljs-string">"toString"</span></span>](<span class="hljs-link"><span class="hljs-link">10</span></span>) === "12" //  10 (12)[<span class="hljs-string"><span class="hljs-string">"toString"</span></span>](<span class="hljs-link"><span class="hljs-link">2</span></span>) === "1100" //  2,   (12)[<span class="hljs-string"><span class="hljs-string">"toString"</span></span>](<span class="hljs-link"><span class="hljs-link">8</span></span>) === "14" //  8,   (12)[<span class="hljs-string"><span class="hljs-string">"toString"</span></span>](<span class="hljs-link"><span class="hljs-link">16</span></span>) === "c" //   12</code> </pre><br><p>  But why stop at 16?  The maximum is 36, which includes all the digits <code>0</code> - <code>9</code> and the letters <code>a</code> - <code>z</code> .  Now you can get any character: </p><br><pre> <code class="hljs markdown">(10)[<span class="hljs-string"><span class="hljs-string">"toString"</span></span>](<span class="hljs-link"><span class="hljs-link">36</span></span>) === "a" (35)[<span class="hljs-string"><span class="hljs-string">"toString"</span></span>](<span class="hljs-link"><span class="hljs-link">36</span></span>) === "z"</code> </pre><br><p>  Cool!  But what about other characters like punctuation and capital letters?  We dive even deeper into the rabbit hole! </p><br><p>  Depending on where you run Javascript, you may or may not have access to some pre-defined objects and data.  If you are working in a browser, then <a href="https://developer.mozilla.org/en-US/docs/tag/HTML%2520wrapper%2520methods">HTML wrapping methods</a> are most likely available to you. </p><br><p>  For example, <code>bold</code> is a string method that adds tags for boldness: </p><br><pre> <code class="hljs markdown">"test"[<span class="hljs-string"><span class="hljs-string">"bold"</span></span>](<span class="hljs-link"></span><span class="hljs-link"></span>) === "<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">b</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>test<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">b</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>"</code> </pre><br><p>  From here you can get <code>&lt;</code> , <code>&gt;</code> and <code>/</code> . </p><br><p>  You've probably heard about the <code>escape</code> function.  Roughly speaking, it converts a string into a URI format so that simple browsers can interpret it.  If we give it a space, we get <code>%20</code> .  If you pass it <code>&lt;</code> , you get <code>%3C</code> .  This capital <code>C</code> very important if you need to get all the remaining missing characters. </p><br><p>  With this letter you can write <code>fromCharCode</code> .  This function returns a Unicode character based on the specified decimal number.  It is part of a String object, which can be obtained by calling a constructor, as we have done before. </p><br><pre> <code class="hljs markdown">""[<span class="hljs-string"><span class="hljs-string">"constructor"</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">"fromCharCode"</span></span>](65) === "A" ""[<span class="hljs-string"><span class="hljs-string">"constructor"</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">"fromCharCode"</span></span>](46) === "."</code> </pre><br><p>  You can use the <a href="http://unicodelookup.com/">Unicode lookup</a> and easily find the code for any Unicode character. </p><br><p>  So, now we can write <em>anything</em> as a string, and we can run any function on the types Array, String, Number, Boolean and Object through their constructors.  Decent power for just six characters.  But that is not all. </p><br><p>  What is the constructor of any function? </p><br><p>  The answer is <code>function Function() { [native code] }</code> , that is, the Function object itself. </p><br><pre> <code class="hljs markdown">[<span class="hljs-string"></span><span class="hljs-string"></span>][<span class="hljs-symbol"><span class="hljs-symbol">"fill"</span></span>][<span class="hljs-string"><span class="hljs-string">"constructor"</span></span>] === Function</code> </pre><br><p>  Using this, you can pass a line of code and create a real function. </p><br><pre> <code class="hljs php"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">Function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"alert('test')"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>;</code> </pre><br><p>  We get: </p><br><pre> <code class="hljs php"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">Function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">anonymous</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ alert(<span class="hljs-string"><span class="hljs-string">'test'</span></span>) }</code> </pre><br><p>  And you can immediately call it by adding <code>()</code> to the end.  Yes, now we can run the real code! </p><br><p>  Whew!  Everything! </p><br><p>  Now we have access to all the characters, you can write any code with them and run it.  So Javascript <a href="https://en.wikipedia.org/wiki/Turing_completeness">Turing is full</a> with only six characters <code>[</code> , <code>]</code> , <code>(</code> , <code>)</code> , <code>+</code> and <code>!</code>  . </p><br><p>  Want evidence?  Run <a href="http://pastebin.com/F7QYajdu">this code</a> in the console. </p><br><p>  <a href="http://www.jsfuck.com/">There is a tool</a> that automates the conversion, <a href="">and this is how it</a> translates each character. </p><br><h2>  What is the use? </h2><br><p>  Not with anything.  eBay has done some <a href="http://arstechnica.co.uk/security/2016/02/ebay-has-no-plans-to-fix-severe-bug-that-allows-malware-distribution/">bad things</a> quite recently, which allowed sellers to insert the executable JS into their pages using these symbols, but this is not the typical attack vector.  Some people raise the topic of obfuscation, but to be honest, there are better methods for this. </p><br><p>  Excuse me. </p><br><p>  But I hope you enjoyed this trip. </p><br><p>  Sources: </p><br><ul><li>  <a href="https://en.wikipedia.org/wiki/JSFuck">https://en.wikipedia.org/wiki/JSFuck</a> </li><li>  <a href="https://esolangs.org/wiki/JSFuck">https://esolangs.org/wiki/JSFuck</a> </li><li>  <a href="https://github.com/aemkei/jsfuck">https://github.com/aemkei/jsfuck</a> </li><li>  <a href="http://patriciopalladino.com/blog/2012/08/09/non-alphanumeric-javascript.html">http://patriciopalladino.com/blog/2012/08/09/non-alphanumeric-javascript.html</a> </li></ul></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/312172/">https://habr.com/ru/post/312172/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../312158/index.html">Over RethinkDB clouds are gathering?</a></li>
<li><a href="../312162/index.html">Knowledge is power: we analyze product statistics and do not lose customers on the road of progress</a></li>
<li><a href="../312164/index.html">CleverStyle Framework 6 Evolution</a></li>
<li><a href="../312166/index.html">VIDEOMOST - VKS server in your pocket</a></li>
<li><a href="../312168/index.html">[Peter] Meeting with Gil Tene from Azul Systems about application response times</a></li>
<li><a href="../312174/index.html">Autoscaling - a tool for automatic vertical scaling of resources (CPU | RAM | HDD)</a></li>
<li><a href="../312176/index.html">FSTEC: firewall requirements - 2</a></li>
<li><a href="../312180/index.html">The report on the results of "My Circle" for September 2016, and the most popular vacancies of the month</a></li>
<li><a href="../312182/index.html">Selection of podcasts and video sites for content marketing, interface design and usability</a></li>
<li><a href="../312184/index.html">Hide text from prying eyes (Scala example)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>