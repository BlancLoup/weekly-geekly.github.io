<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Translation: I hate you: your code is trash!</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I want to submit my translation of the article ‚ÄúYour Code Sucks and I Hate You: The Social Dynamics of Code Reviews‚Äù . 

 I hate you: your code is tra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Translation: I hate you: your code is trash!</h1><div class="post__text post__text-html js-mediator-article">  I want to submit my translation of the article <a href="http://mumak.net/stuff/your-code-sucks.html">‚ÄúYour Code Sucks and I Hate You: The Social Dynamics of Code Reviews‚Äù</a> . <br><br><h4>  <b>I hate you: your code is trash!</b> <b><br></b>  <b>Relationships of Code Revision Participants</b> </h4>  Jonathan Lange, 09/15/2008 <br><br><h4>  <b>Overview</b> </h4><br>  Code revision is a really useful, but at the same time, incredibly frightening procedure.  This article will tell you how to avoid "fist fights" during audits. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We briefly consider <i>why the</i> code should be audited, and focus on the question of <i>how</i> the relationships between the process participants are formed, especially in open source projects.  Indeed, in part, open source attracts (and sometimes, on the contrary, scares away!) People precisely because your code will be viewed by experts from around the globe.  We will also look at the impact that some existing technologies have on the code revision culture, consider what can be achieved with their help, and how revisions are conducted in other areas of activity.  We will also denote some of the ‚Äúpitfalls‚Äù of revisions that are easily overlooked. <br><a name="habracut"></a><br><h4>  <b>Introduction</b> </h4><br>  Code revisions are known for a long time.  They are important companions of the free software movement from the very beginning in the form of, at a minimum, the right to check a patch before accepting it. <br><br>  In recent years, code revisions have gained new development.  For example, supporters of extreme programming promote programming ideas in pairs (that is, in fact, programming with continuous verification of the code), and many open projects require that all proposed patches, regardless of the reliability of the author, go through an inspection process. <br><br>  Each project has its own approach to revisions: different tools, different procedures are used, different goals are set.  And therefore the impact on the developer community, they have the most diverse. <br><br>  In this article, we will look at the decisions made by some open projects, as well as the difficulties created in these relationships in the relationship and the additional incentives they provide to developers.  We will also identify potential problems and give some recommendations for fixing them. <br><br>  This article does not pretend to be severely academic.  This is only a set of theses, designed to stimulate further research and experimentation. <br><br><h4>  <b>What is code revision?</b> </h4><br>  In short, <i>code revision</i> is what happens when someone scans your code and comments on it. <br><br>  Highlight some types of revisions. <br><br>  First of all, it is worth mentioning the <i>preliminary reviews</i> , i.e.  revisions of patches before they are added to the main branch of the project code.  A classic example of such revisions in the free software community is the placement of a patch by a new developer on a mailing list.  In some projects, preliminary reviews even apply to code experienced developers (for example, Twisted, Bazaar, Linux). <br><br>  Note also <i>the post-factum code revision</i> .  This often happens in free software projects when someone enters a non-trivial code into a project.  Usually, the reviewer, having found an error in the patch, notifies about it by publishing (reply) to the message on the commit message of the corresponding change. <br><br>  Audits can also be conducted in the form <i>of a random check</i> .  With this approach, the senior programmer inspects some arbitrary sections of code in the repository and leaves comments on its structure and quality. <br><br>  Finally, revisions may be <i>unplanned</i> .  This usually happens late at night, when a programmer is messing with code in some far corner of the project, possibly catching errors there.  Such revisions are usually accompanied by obscene exclamations and angry comments.  Often they are completely useless for the author of the code, since he is unlikely to be lucky to hear them. <br><br><h4>  <b>What are code revisions for?</b> </h4><br>  Some code revisions seem to be a bit like writing documentation, designing through testing or eating bran: it's good if you manage to do these boring things less often than required. <br><br>  However, unlike fiber-rich cereals, various code review techniques provide sometimes conflicting benefits, and you need to clearly understand which of these benefits are really important to the project. <br><br><h5>  Increased coherence </h5><br>  Audits are indispensable when it is necessary that the entire source code looks consistent.  This includes naming conventions, spell checking in comments, and consistency when using internal APIs. <br><br><h5>  Quality assurance </h5><br>  A preliminary review of the code makes it possible to detect errors before they start to bother users.  The auditor is more emotionally removed from the code than its author, and therefore more able to subject this code to criticism and, therefore, can detect more errors. <br><br><h5>  Increase clarity </h5><br>  If a piece of code is viewed by someone other than its author, it means that there are at least two people in the world who are able to understand it. <br><br>  Again, the auditor is intellectually more distant from the code and therefore can see the hidden assumptions and controversial decisions laid down by the author. <br><br>  A clear and understandable code allows beginners to quickly begin to make their own additions to it, which is extremely important for open source projects, since they completely rely on the contribution of voluntary participants. <br><br><h5>  Reviewer Training </h5><br>  If all of the code being entered passes through a preliminary review, then each such procedure gives the reviewer the opportunity to study that part of the project code that he may not have been able to look into before.  Thus, the verification procedure contributes to the dissemination of knowledge about the project code among all its participants. <br><br>  However, reviewing the code with a ‚Äúfresh look‚Äù of the reviewer does not always have a positive effect: sometimes it can really bring additional clarity, and sometimes it will be too superficial. <br><br><h5>  Alignment priorities </h5><br>  Since practically every developer has his own set of priorities, then the reviewer's priorities will differ from those of the author.  For example, if the author proposes changes that increase the performance of the basic API functions, then it is likely that he will have to prove that this is more important, say, than backward compatibility.  Thanks to preliminary reviews, these disputes will arise <i>before</i> the changes fall into the main repository, and not after. <br><br><h5>  Programming Training </h5><br>  Checking your own code by a programmer is an insight into the essence of your thinking, and prolonged immersion into the thought of another programmer expands your own thinking abilities.  Reviewers may suggest techniques that the author has not heard of.  They will ask questions that the author did not think about.  They will indicate a simpler path that he did not notice. <br><br>  On the other hand, revisions also encourage the reviewer to explain exactly what he understands by good code. <br><br><h5>  findings </h5><br>  The code revision process changes depending on which of the listed goals are most important.  If revisions are aimed primarily at ensuring the <i>quality of the</i> code, then they should be lengthy and thorough, since reviewers will try to detect errors, performance failures, and the like.  If revisions are intended to increase the <i>clarity of the</i> code, they will be shorter, and reviewers will assume that the code is <i>already</i> sufficiently tested and justified. <br><br><h4>  <b>Solutions</b> </h4><br>  When implementing the code revision procedure, some questions arise that require answers.  Below we will look at such questions and see how they were answered in the projects Bazaar, Launchpad and Twisted. <br><br><h5>  Who should be trusted to review? </h5><br>  Perhaps the most important question that every project should answer is <i>who</i> will perform the code revisions.  In most open source projects, reviewers are chosen from among the main developers, although the mechanisms of this choice may vary from project to project. <br><br>  In the Bazaar project, patches must be approved by two main developers (i.e., those who are explicitly given the right to place the code in the repository).  This option ensures that all patches will be viewed by someone with sufficient experience, and also provides the necessary level of communication between developers. <br><br>  The Launchpad has a dedicated review team in the development team.  The group aims to include as many developers as possible, however, to get a full review right, you must go through the training procedure with a mentor.  This procedure ensures that, in case of doubt, the new reviewer will be able to contact his mentor, and that the project‚Äôs priorities (code clarity and review speed) will be supported by all reviewers. <br><br>  In Twisted, anyone can do a revision, except for those people who participated in the creation of the patch.  This ingenious idea stimulates the group thinking of the author and reviewers.  On the other hand, this leads to confusion in the reviews of the reviewers, and the reviews of the code themselves, being a ‚Äúcommon cause‚Äù, can quickly turn into a ‚Äúnobody's business‚Äù. <br><br><h5>  How to organize a forum? </h5><br>  In Twisted, revisions are based on bug reports.  Bazaar conducts audits on the general mailing list.  Launchpad uses a separate mailing list for this. <br><br>  The Twisted approach is a typical example of the UQDS (the Ultimate Quality Development System, universal quality assurance system).  Inspections are performed on the basis of requests, and the web page with the request becomes the focal point of all information on correcting errors or adding a new function.  In addition to centralized storage, this method allows to exclude from participation in the discussion of those who are not involved in solving the problem.  However, there is a big drawback: reviewers' reviews are rarely read by someone other than the author of the patch, which leads to the application of different coding standards in each particular case.  When a really important question arises in a review, it can be very difficult to attract everyone‚Äôs attention.  Besides, the unsuccessful system of mailings in Trac complicates tracking a discussion course. <br><br>  In Bazaar, reviews are sent directly to the general mailing list and are taken into account in the Bundle patch management system.  Although reviews and patches are sent directly to developers by e-mail, discussions are usually much more open than Twisted.  However, a large number of patches make it difficult to read the mailing list, and review discussions can be long and florid. <br><br>  Launchpad has a separate mailing list for conducting audits, which makes it easy to separate their discussion from general development issues, but still allow outsiders to view this mailing list.  In practice, the project receives the advantages and disadvantages of both approaches. <br><br><h5>  In real time or off-line? </h5><br>  Conducting "asynchronous" revisions is very different from real-time revisions. <br><br>  When conducting an off-line audit, for example, via e-mail, the reviewer has time to formulate his comments diplomatically, and the author can respond to them in any manner convenient to him. <br><br>  The ‚Äúreal-time‚Äù revisions repeat all the advantages and disadvantages of a regular conversation: misunderstandings are easily detected, and there is no long wait for a response.  However, passions can quickly heat up, which makes it difficult to separate facts from emotions.  It is also more difficult to determine the duration of such revisions.  Having received the letter, you can always see its size in the mail client, and real-time communication can continue indefinitely. <br><br><h5>  Who will judge the disputants? </h5><br>  It happens that the author and the reviewer have opposite views on the code and can not come to an agreement.  For example, the author believes that the following code <br> <code>[item] = singleton_list</code> <br>  is an obvious way to get a single value from a list containing a single item.  The reviewer considered this unobvious and suggested the following: <br> <code>assert len(singleton_list) == 1, \ <br> "List should have only one value: %r" % (singleton_list,) <br> item = singleton_list[0]</code> <br> <br>  Despite mutual arguments, the parties did not come to an agreement.  What to do?  Who will solve the contradiction? <br><br>  In Bazaar, the author of the code has the right to say the last word, in Twisted, on the contrary, the last word belongs to the reviewer, while in Launchpad, a specially appointed main reviewer has the decisive voice in such matters. <br><br>  If the ‚Äúlast word‚Äù is provided to the author, then the programming process will go faster due to losses in uniformity and, possibly, quality.  If the last word is for the reviewer, then the additions will be implemented more slowly (the reviewer is not so obsessed with the desire to make a patch as its author), but will be thoroughly studied. <br><br><h4>  <b>What is bad</b> </h4><br><h5>  Ad hominem (go to the individual - approx. Transl.) </h5><br>  There is practically nothing to add: inspect the <i>program</i> , not the <i>programmer</i> .  Remarks about his personality only complicate his perception of criticism. <br>  Advice: if you write negative comments, write ‚Äúpatch‚Äù or ‚Äúcode‚Äù instead of ‚Äúyou‚Äù.  For example, instead of ‚ÄúYou have a glitch in <code>get_message</code> ‚Äù, write ‚ÄúAfter applying this patch, a glitch appeared in <code>get_message</code> ‚Äù. <br><br><h5>  Misty audit results </h5><br>  If <i>all</i> you can say is ‚ÄúThere is a <code>get_message</code> bug in this patch,‚Äù then you are a bad reviewer.  The purpose of the revision is to improve the code, and not to guess the riddle to the author. <br><br>  The author should be able to unambiguously identify and understand every single thought in your remark, as well as the entire note as a whole.  Reviews with fuzzy results turn into endless discussions about code, which are more likely to give pleasure to the reviewer, rather than improving the quality of the code. <br><br><h5>  Do not confuse personal preferences with objective merits. </h5><br>  This is a problem of observers in any field: film critic, literary editor, scientific reviewer.  Not necessarily really good is what I like.  And even more so it‚Äôs not really bad that I <i>don‚Äôt</i> like.  One of the aspects of the formation of an outstanding programmer is the modeling of his own preferences in accordance with real, objective advantages. <br><br>  If you are reviewing a patch that perfectly fixes a problem using the paradigm of imperative programming, then you shouldn‚Äôt criticize it just because it doesn‚Äôt follow the functional paradigm.  So you discredit the idea of ‚Äã‚Äãrevisions, turn it into a game of guessing the preferences of the reviewer, and it should help create a really good code. <br><br>  The formulation of comments in the form of questions will help the verifier to avoid such an oversight, for example: ‚ÄúDid you think to use the functional style?‚Äù, ‚ÄúWhy do you not use regular expressions to solve this problem?‚Äù, Etc. <br><br>  See also ‚ÄúA clear answer is a good answer.‚Äù <br><br><h5>  "While you're still here ..." </h5><br>  When reviewing the code, there is always the temptation to ask the author to fix some other problems at the same time.  Such an approach can quickly develop into a full-scale glossing operation over a large part of the code, although initially the author and the reviewer had to approve only a small improvement. <br><br>  The best advice in this situation: to cherish a phased improvement.  See "The best is the enemy of the good." <br><br><h5>  "Freebreeding" </h5><br>  Filibustering is an American political term for delaying the debate on a bill to prevent its adoption.  Sometimes this is done in free software projects to sabotage the adoption of a particular patch. <br><br>  "Filibuster" may also arise unintentionally.  The person conducting the revision does not accept the patch due to the absence of block tests, the author asks how to write the block tests for this code, and the reviewer does not bother to answer.  But in addition to these troubles, the author also has his own affairs that prevent him from continuing to send new patches. <br><br>  See ‚ÄúFoggy review summary‚Äù and ‚ÄúQuick response - good response.‚Äù <br><br><h4>  <b>What is good</b> </h4><br><h5>  A clear answer is a good answer. </h5><br>  Specify specific lines of code that can be improved.  Describe what's wrong with them.  Suggest a way to do better.  Help the author to define the limits of improvement. <br><br><h5>  A quick answer is a good answer. </h5><br>  Once the author has submitted his patches for revision, he can no longer work on them.  He must wait for the auditor‚Äôs response before continuing.  Write your comments to the review as soon as possible so that the author‚Äôs attention does not have time to dissipate. <br><br><h5>  Best the enemy of the good </h5><br>  You can not make a perfect patch that would solve all your problems at once.  Do not pursue the ideal, work on a phased improvement. <br><br><h5>  Be thankful </h5><br>  Someone tried to improve your product.  They have spent their strength and imagination to help you, and now they have submitted their work to the public: thank them so much. <br><br>  In the Divmod project, the principle of including at least one praise in every review of the code is practiced.  You can always find what to praise the author for, even if only because he undertook to work on this part of the code. <br><br><h5>  Ask questions </h5><br>  The reviewer should ask questions.  You can not be mistaken by asking questions.  In the worst case, the author will give a trivial answer.  At best, both the author and the reviewer will discover something new. <br><br><h4>  <b>Conclusion</b> </h4><br>  Code revisions give a person a unique opportunity to grow as a programmer, while improving the product he creates.  Each project can choose from many options for conducting audits and the opportunities they provide.  Thoroughly thinking about technologies and processes of interaction of people in conducting surveys will allow open source projects to avoid the difficulties that frighten beginners and tire long-standing participants, and focus on developing the best software. <br><br><h4>  <b>What to read on the topic</b> </h4><ul><li>  <a href="http://video.google.com/videoplay%3Fdocid%3D-8502904076440714866%26ei%3DDU7LSL2JK5SWwgO5i6D7Dw">Guido Van Rossum on Mondrian</a> , Google's own code review tool </li><li>  <a href="http://divmod.org/trac/wiki/UltimateQualityDevelopmentSystem">The Ultimate Quality Development System</a> </li><li>  <a href="http://doc.bazaar-vcs.org/bzr.dev/en/developer-guide/HACKING.html">The bazaar hacking guide</a> </li><li>  <a href="http://www.jeanweber.com/newsite/%3Fpage_id%3D26">Beyond copy-editing: the editor-writer relationship</a> </li></ul>  (I also recommend that you read Steve McConnell‚Äôs Chapter 21 of The Perfect Code - approx. Transl.). <br><br>  <b>PS Moved to the "Revision Code" blog.</b> </div><p>Source: <a href="https://habr.com/ru/post/64086/">https://habr.com/ru/post/64086/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../64080/index.html">Generation of 3D models from photographs</a></li>
<li><a href="../64081/index.html">"Easter eggs" in the programs and on the websites - your attitude?</a></li>
<li><a href="../64082/index.html">Silverlight 3 officially released in Russia</a></li>
<li><a href="../64084/index.html">Remaking the CD Collection application</a></li>
<li><a href="../64085/index.html">Javascript event coordinates IE</a></li>
<li><a href="../64087/index.html">Runner has a crisis?</a></li>
<li><a href="../64089/index.html">The principle of ‚Äújust in time‚Äù in Zen</a></li>
<li><a href="../64090/index.html">CA Antivirus blocks Windows system files</a></li>
<li><a href="../64092/index.html">The first issue of the online game development magazine for Linux</a></li>
<li><a href="../64094/index.html">July 24: Future, Investment and Education at iCamp Russia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>