<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Manage Rhythmbox by ssh</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It would seem, what is so difficult. Even rhythmbox itself has a rhythmbox-client satellite program, which takes as an argument simple commands to con...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Manage Rhythmbox by ssh</h1><div class="post__text post__text-html js-mediator-article"><img align="left" title="rhythmbox logo" src="http://aurora.physics.ncsu.edu/media/habr/logo.png" alt="rhythmbox logo"><br><br>  It would seem, what is so difficult.  Even rhythmbox itself has a rhythmbox-client satellite program, which takes as an argument simple commands to control this wonderful player.  But not everything is as simple as we would like. <a name="habracut"></a>  When ssh is logged on to a remote machine that rhythmbox is playing on and calling this program itself, like this: <br><br><blockquote><code>user@host:~$ rhythmbox-client --play <br> (rhythmbox-client:32434): Rhythmbox-WARNING **: dbus-launch failed to autolaunch D-Bus session: Autolaunch error: X11 initialization failed.</code> </blockquote> <br>  we see not the most pleasant message.  At least, we are unable to initialize X11. <br>  And we just wanted to include play in an already running rhythmbox.  Although we could do a lot of things, for example: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote><pre>  user @ host: ~ $ rhythmbox-client --help
 Using:
   rhythmbox-client [OPTION ...]

 Options:
   - ?, --help Show help (options)

 Application Options:
   --debug                    
   --no-start Do not start a new copy of rhythmbox
   --quit Exit Rhythmbox
   --no-present Do not represent existing rhythmbox window
   --hide hide rhythmbox window
   --next next song
   --previous previous song
   --notify Show current song notification
   --play Continue playing
   --pause Pause
   --play-pause Switch between pause and play
   --play-uri = URI to play Play the specified URI, import it if necessary
   --enqueue Add track to playlist
   --clear-queue Clear queue playing before adding track
   --print-playing Display the track name and artist name of the current song
   --print-playing-format Display formatted track information.
   --set-volume Set volume (1.0 max)
   --volume-up Increase volume
   --volume-down Volume down
   --print-volume Display current volume
   --mute mute
   --unmute sound on </pre></blockquote><br>  As can be seen from the list - the options are not that much.  Let's say there is no switch between repeat and random / sequential list of tracks.  But this is a basic set of commands, which may well be enough to switch a podnadoevshy track, which you can‚Äôt reach to erase your hard drive at all. <br><br>  If, for the sake of experiment, we connect a virtual X11 with its transfer via ssh, this is done simply by entering a remote host with the -X option.  Those.  the entire application will be executed on the remote host (host), and X11 primitives will be sent and drawn to you via ssh. <br><br><blockquote> <code>user@localhost:~$ ssh -X user@host</code> </blockquote> <br>  But in this way, too, it‚Äôs impossible to control rhythmbox.  It just calls a copy of the program, which (with a weak channel) will draw a terribly long time on your computer from which you were doing ssh.  Those.  the task is to run rhythmbox and then manage it from rhythmbox-client from one X11 display.  I <s>know I</s> knew, perhaps, only one way to do this is to run everything through the screen, which will continue to hang, and by going via ssh we can connect to it and control the running rhythmbox.  Now, as the respected <a href="https://habrahabr.ru/users/kekssw/" class="user_link">KeksSW</a> suggested in the comments, you can run the command with the environment variable DISPLAY =: 0, and then the client part will run without any problems and you can really just manage the rhythmbox via ssh without the tricks I continue to write.  They may be needed if you decide to simply stuff the management teams into shortcuts. <br><br>  And so, we will continue. <br>  Having tested all the above plan in the console and making sure that everything works as planned, it is time to direct the beauty.  For example, to call an inactive screen session, with a rhythmbox running from it, you need to execute the following command: <br><br><blockquote> <code>user@host:~$ /usr/bin/screen -D -m -S box rhythmbox-client</code> </blockquote> <br>  Two explanations, I indicated a direct path to the screen, since  you may have it installed in another place, or if you collected it yourself (... although then I doubt that this publication will be of any interest to you =).  And if there is no rhythmbox running, launching the rhythmbox-client will lead to the start of the player itself (at least I had it on Ubuntu 9.04). <br><br>  Well, do not run the player every time the pens, right?  You can write an alias who will do it.  But if absolutely lazy, then you can make an icon launcher'a on GNOME'vskoy Ponelke.  And then, to launch the player itself, you only need to lazily reach the mouse, lazily move the pointer to the icon, and really quite the last thing just admiring your perseverance and determination - click on it once (the main thing is not to overwork ... Why double click, it's almost twice the work, right?). <br><br><div style="text-align:center;"><img title="launcher" alt="launcher" src="http://aurora.physics.ncsu.edu/media/habr/launcher.png"></div><br><br>  This creates a screen session with the name <em>box</em> , it starts the rhythmbox-client, and deattachitsya the session (it disconnects, to be perfectly accurate, it never joins, and it occurs in passive mode). <br><br>  Perhaps the easiest way to create an icon on the panel is to drag and drop the rhythmbox icon itself onto the panel from the Applications menu.  So you do not have to suffer with the choice of pictures, and it remains only to change the line of the execution code to the one specified above.  And we are ready to launch the player in a separate screen session. <br><br>  Further more interesting trick.  We need to go to our host from another computer with rhythmbox running on it and send the command to the screen session, if possible not interactively, and quite the contrary, passively (via pipe or option to screen). <br><br>  Man screen says that the -X option should send a session command to execute.  As I did not get out - I could not do it.  So far, the clever comrades on the linux.org forum have not suggested that this option is passed with one more additional argument.  For example, if you type: <br><br><blockquote> <code>user@host:~$ screen -r box -X stuff   -  -    </code> </blockquote> <br>  then this text will simply be transmitted to the session, as if you were typing it from the keyboard.  But to press the Enter button for you personally will not work.  But instead of stuff you can send the option to execute the command.  And as not difficult to guess the option will be called exec.  Those.  in the end, the command to start from the local machine to change the track to the next one on the remote host will be: <br><br><blockquote> <code>user@host:~$ ssh user@host screen -r box -X exec rhythmbox-client --next</code> </blockquote> <br><br>  And you can also assign this command to any shortcut.  I have a set of media keys on the Vostro 1500 on the front panel, which I almost never use on the computer itself, so I decided to hang up the commands I needed on them. <br><br><div style="text-align:center;"><img title="launcher" alt="launcher" src="http://aurora.physics.ncsu.edu/media/habr/shortcut.png"></div><br><br>  In principle, this is all.  You can only add that if you have not done this before, then allow access to the remote host via ssh without entering a password every time.  This can be done as follows: <br><br><blockquote> <code>user@host:~$ ssh-copy-id user@host</code> </blockquote> <br>  You will be prompted for a user password on a remote computer.  If you have already generated keys, then the public key will be copied from the local machine to the authorized_keys file on the remote machine.  If you get an error about the absence of keys, you can quickly create them: <br><br><blockquote> <code>user@host:~$ ssh-keygen</code> </blockquote> <br>  and further according to the instructions.  Passphrase is best not to ask.  Since then you have to enter it every time. <br><br>  That's all.  Thanks for attention. <br><br>  PS: I hope my working computer will pull the load with the return of pictures for the habr.  And so that he would do it for good reason, here is a dynamically drawn picture about access to content on the main page and after the habrakat.  I know that a couple of days ago one young man was already doing something similar, but I am pursuing my goals, and the graphics, to be honest, were not so hot there.  Until the IP filter was turned on, i.e.  multiple access counts as different visits.  Then I think to add filtering - it will give a better idea of ‚Äã‚Äãthe picture of what is happening. <br><br><div style="text-align:center;"><img title="launcher" alt="launcher" src="http://aurora.physics.ncsu.edu/media/habr/stat/hist.png"></div><br><br>  ZYY: After three hours spent behind this post, I understand that the only valuable thing in it is a script that draws a picture of the view from the main page of the habr and the number of views from people who still looked under the habrakat.  The rating turned out to be not very high, but it also did not jump to the minus.  So we get a very good point for statistical analysis.  Those.  Many of the pictures, the number of requests for which I considered, were received via RSS or simply by quickly browsing the Habr in the morning ... you can get interesting statistics if you collect the same information from the ‚Äúsuccessful‚Äù topic.  But this is next time if you're lucky =) <br><br>  ZYYY: Well, perhaps that's all.  The script that draws the statistics of visits brought to the state of betta.  Those.  it draws the number of requests per minute.  As you can see, you can track the entry of the post to the main page, departure to the second page, etc.  Great! </div><p>Source: <a href="https://habr.com/ru/post/74544/">https://habr.com/ru/post/74544/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../74536/index.html">My version of the rules HabraWars</a></li>
<li><a href="../74537/index.html">DIY speakers</a></li>
<li><a href="../74538/index.html">Cap of happiness</a></li>
<li><a href="../74541/index.html">Visual Studio 2010: countdown</a></li>
<li><a href="../74543/index.html">Network problems in Ubuntu 9.10 Karmic Koala</a></li>
<li><a href="../74545/index.html">Making a Google Wave: First Experience</a></li>
<li><a href="../74548/index.html">Adding scripting capabilities to your applications using Active scripting</a></li>
<li><a href="../74549/index.html">SanDisk Sansa Clip + mp3 player review</a></li>
<li><a href="../74550/index.html">HabraWar - python-robots</a></li>
<li><a href="../74554/index.html">Beagleboard - the future for ARM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>