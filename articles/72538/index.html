<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ÄúOOC for C is like Scala for Java‚Äù</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today on Hacker News I came across a post about a (it seems very) new language " ooc ". He threw all the things for a day, started picking up - it loo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>‚ÄúOOC for C is like Scala for Java‚Äù</h1><div class="post__text post__text-html js-mediator-article"><img src="http://yoihj.ru/img/ooc.jpg" align="left">  Today on <i>Hacker News I</i> came across a post about a (it seems very) new language " <a href="http://ooc-lang.org/">ooc</a> ".  He threw all the things for a day, started picking up - it looks painfully interesting. <br><br>  So, " <acronym><i>ooc</i> is a modern, object-oriented, <nobr>functionally (cotton)</nobr> , high-level, low-level, sexy programming language.</acronym> "  ( <a href="http://ooc-lang.org/">This is</a> what <a href="http://ooc-lang.org/">sexy</a> developers represent it, well, I would add that it is also " <i>compiled</i> ") <br><br>  Essentially, <i>ooc</i> is a high-level language translator in <b>C</b> with a garbage collector. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As one of the site visitors put it: " <i>ooc for C is like Scala for Java</i> " (jimbokun <a href="http://news.ycombinator.com/item%3Fid%3D883318">@</a> <i>HN</i> ). <br><br>  Mandatory "Hello, World" on ooc: <br><br>  <b>hello.ooc</b> : <br><blockquote><code><font color="black"><font color="#A31515">"Hi, softer world =)"</font> println()</font></code> </blockquote> <br>  output <b>hello.c</b> and <b>hello.exe</b> . <br><br>  The ooc compiler translates this into c-code and uses the available <i>c</i> compiler (gcc, mingw, icc, tinycc) to make this hello.exe (or ./hello).  Support for <i>tinycc is</i> claimed, but in reality we are <a href="http://www.reddit.com/r/programming/comments/9o6mc/i_will_give_99_to_anyone_completing_c99_support/">waiting</a> for support for C99 at <i>tinycc</i> itself (the author promised to make workarounds, but it is not working yet), so we are still rather weak in size .exe's (gcc from mingw does not do others). <br><br>  So, what we <b>already have in the language</b> : classes, objects, strong typing, guessing types ( <code>n := "Beer" length()</code> ), chaining ( <code>.dothis().dothat()</code> ), compatibility with c-libraries, abstract classes, templates from C ++, lists, sparse lists, hashes (ArrayList, SparseList, HashMap), <code>for (i in list) { ... }</code> , wrappers for c-shnyh functions and classes, operator overloading, polymorphism, collector garbage (switchable), import file / name (not needed .h, but .h can be used as extern), closures, eiffel's contracts, exceptions, reflections, pattern matching, ranges, ternary operator, bindings, generics, coroutines, GTK, SDL , OpenGL, GLU, GLUT bindings ... <br><br>  As comrade varjag <a href="http://news.ycombinator.com/item%3Fid%3D883069">@</a> HN said: ‚ÄúI think this is a joke made by Ruby users, but I don‚Äôt see it anywhere in the text.‚Äù No, this language actually exists.  Examples, links, installation, underwater snags - under the cut ... <a name="habracut"></a><br><br><h5>  More examples </h5><br>  <b>Functions</b> : <br><blockquote> <code><font color="black">add: func(a, b : Int) -&gt; Int { <br> a + b <br> }</font></code> </blockquote> <br>  <b>Pleasant for</b> : <br><blockquote> <code><font color="black"><font color="#0000ff">for</font> (i <font color="#0000ff">in</font> 0..10) { <br> printf( <font color="#A31515">"%d\n"</font> , i) <br> } <br> <br> <font color="#0000ff">for</font> (i <font color="#0000ff">in</font> list) { <br> printf( <font color="#A31515">"%d\n"</font> , i) <br> }</font></code> </blockquote> <br>  <b>Lists</b> : <br><blockquote> <code><font color="black">ints := SparseList&lt;Int&gt; <font color="#0000ff">new</font> () <br> ints add(13) <br> lucky := ints get(0)</font></code> </blockquote> <br>  <b>OOP</b> : <br><blockquote> <code><font color="black">Vector3f: <font color="#0000ff">class</font> { <br> x, y, z : Float <br> init: func(=x, =y, =z) <br> }</font></code> </blockquote> <br>  ooc knows that x is a float, so the type can not be specified, as well as the fact that it is stored in this x (in ‚Äúooc‚Äù, the points before the object's methods and properties are not needed).  Analog to the above <i>in C ++</i> : <br><blockquote> <code><font color="black"><font color="#0000ff">class</font> Vector3f { <br> <font color="#0000ff">float</font> x,y,z; <br> Vector3f( <font color="#0000ff">float</font> x_, <font color="#0000ff">float</font> y_, <font color="#0000ff">float</font> z_): x(x_), y(y_), z(z_) {}; <br> }; <br> // (    C++   - ).</font></code> </blockquote> <br>  <b>Chaining</b> : <br><blockquote> <code><font color="black">me := RandomGuy <font color="#0000ff">new</font> () <br> me eatBreakfast() .drinkCoffee() .yawn() .goBackToBed()</font></code> </blockquote> <br>  but you <i>do not need to</i> return this in these methods. <br><br>  <b>Abstract classes</b> : <br><blockquote> <code><font color="black">Animal: <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> { <br> shout: <font color="#0000ff">abstract</font> func <br> } <br> <br> Dog: <font color="#0000ff">class</font> extends Animal { <br> shout: func { <font color="#A31515">"Woof, woof!"</font> println() } <br> } <br> <br> Cat: <font color="#0000ff">class</font> extends Animal { <br> shout: func { <font color="#A31515">"Meoooww!"</font> println() } <br> }</font></code> </blockquote> <br>  <b>malloc with garbage collector</b> : <br><blockquote> <code><font color="black">myRawArray := gc_malloc(Int size * 100) <font color="#0000ff">as</font> Int*  // free  .</font></code> </blockquote> <br>  <b>GUI application</b> : <br><blockquote> <code><font color="black">use gtk <br> import gtk/[Gtk, Window] <font color="#008000">// acts like: import gtk/Gtk, gtk/Window</font> <br> exit: <font color="#0000ff">extern</font> func <br> <br> main: func { <br> w := Window <font color="#0000ff">new</font> ( <font color="#A31515">"Hi, world"</font> ) <br> w setUSize(800, 600) .connect( <font color="#A31515">"destroy"</font> , exit) .showAll() <br> Gtk main() <br> }</font></code> </blockquote> <br>  <b>Reading file</b> <br><blockquote> <code><font color="black">import io/FileReader <br> <br> main: func { <br> fr := FileReader <font color="#0000ff">new</font> ( <font color="#A31515">"/etc/hosts"</font> ) <br> <br> <font color="#0000ff">while</font> (fr hasNext()) <br> fr read() print() <br> <br> }</font></code> </blockquote> <br>  <b>coroutines (!)</b> (transfer of code execution from one subroutine to another without stack overflow): <br><blockquote> <code><font color="black">import coroutine/Coro <br> firstCoro, secondCoro : Coro <br> <br> secondTask: func (context: Pointer) { <br> num := 0 <br> printf( <font color="#A31515">"secondTask created with value %d\n"</font> , (context <font color="#0000ff">as</font> Int*) @) <br> <font color="#0000ff">while</font> ( <font color="#0000ff">true</font> ) { <br> printf( <font color="#A31515">"secondTask: %d %d\n"</font> , secondCoro bytesLeftOnStack(), num += 1) <br> secondCoro switchTo(firstCoro) <br> } <br> } <br> <br> firstTask: func (context: Pointer) { <br> <font color="#0000ff">value</font> := 2 <br> num := 0 <br> printf( <font color="#A31515">"firstTask created with value %d\n"</font> , (context <font color="#0000ff">as</font> Int*) @) <br> secondCoro = Coro <font color="#0000ff">new</font> () <br> firstCoro startCoro(secondCoro, <font color="#0000ff">value</font> &amp;, secondTask) <br> <font color="#0000ff">while</font> ( <font color="#0000ff">true</font> ) { <br> printf( <font color="#A31515">"firstTask: %d %d\n"</font> , firstCoro bytesLeftOnStack(), num += 1) <br> firstCoro switchTo(secondCoro) <br> } <br> } <br> <br> main: func { <br> mainCoro := Coro <font color="#0000ff">new</font> () <br> <font color="#0000ff">value</font> := 1 <br> mainCoro initializeMainCoro() <br> firstCoro = Coro <font color="#0000ff">new</font> () <br> mainCoro startCoro(firstCoro, <font color="#0000ff">value</font> &amp;, firstTask) <br> }</font></code> </blockquote> <br><br>  From what was found in the source code / on the blog: <b>atexit, iniparser, filewriter, list, map, stack, os (launch, subprocess), regexp, threads, i / o, events</b> . <br><br>  <b>GTK / SDL / OpenGL / GLU / GLUT bindings.</b> <br><br>  So, the language is really really sexy.  Unfortunately, of course, it‚Äôs still raw.  Many mistakes and problems, but if you like to live on the edge - welcome to the world of hacking. <br><br><h5>  Ooc installation </h5><br>  What is needed? <br><br>  1. <a href="http://git-scm.com/download">git</a> (needed to download the distribution) <br>  2. <a href="http://java.sun.com/javase/downloads/index.jsp">Java JDK</a> 5 or higher <br>  3. gcc under Linux or <a href="http://tdragon.net/recentgcc/">MingW</a> under Windows (link does not lead to <a href="http://mingw.org/">mingw.org</a> , but to a more modern build, although the real mingw can now caught up with gcc 4) <br>  4. <a href="http://ant.apache.org/bindownload.cgi">Ant</a> (build system, type "make") <br><br>  <b>JAVA ???</b>  <i>The compiled file <b>does not use Java VM</b> .</i>  <i>Only the ooc-&gt; c translator itself uses Java (transparently for you).</i>  <i>The end user receives native code ‚Äî in other words, .exe, which does not require Java in any way.</i> <br><br>  We put all of the above, under Windows we add the <code>git</code> , mingw / <code>bin</code> , java / <code>bin</code> , ant / <code>bin</code> folders in the PATH (in Linux after yum install / sudo apt-get, everything will be self-configured). <br><br>  <i>Check for correct PATH:</i> run the commands ‚Äúgit‚Äù, ‚Äújavac‚Äù, ‚Äúant‚Äù, ‚Äúgcc‚Äù in the command line.  If something is not found (‚Äúthe path or file name is incorrectly specified‚Äù), then we are looking for where this particular was unpacked and add the path to it to the PATH. <br><br>  KO: PATH is specified in <i>Windows + Break, Advanced, Environment Variables, in the lower window, Change</i> .  After each change, you will need to click OK and restart the command line.  Separators;  (semicolon). <br><br>  Go to the command line and continue to do: <br><br><blockquote> <code><font color="black">git clone git: <font color="#008000">//github.com/nddrylliog/ooc.git</font> <br> cd ooc/ <br> ant</font></code> </blockquote> <br>  If everything is successful, we find where the <code>ooc.jar</code> file is <code>ooc.jar</code> - this is roughly the <code>ooc/bin/ooc.jar</code> . <br><br>  Make (under Windows) the ooc.bat file and put it somewhere in the PATH: <br><br><blockquote> <code><font color="black">java -jar d:\ooc\bin\ooc.jar %*</font></code> </blockquote>  (here we write our way to our ooc.jar - see above) <br><br>  under Linux we do: <br><br><blockquote> <code><font color="black">sudo cp utils/ooc /usr/bin/ <br> export OOC_DIST=/home/username/ooc/</font></code> </blockquote>  if downloaded to / home / username / ooc / <br><br>  Making <code>hello.ooc</code> : <br><blockquote> <code><font color="black">main: func { <br> <font color="#A31515">"Hello world!"</font> println() <br> }</font></code> </blockquote> <br>  now we do: <br><blockquote> <code><font color="black">ooc hello.ooc -r</font></code> </blockquote>  and ideally we get hello.exe.  ("-r" is "run", you can still "-noclean" - do not delete the generated .c sources). <br><br><h5>  Well, does it work? </h5><br>  ... but in reality - the language is still raw.  Seriously raw, so we probably get some kind of error and go to irc.freenode.com channel # ooc-lang.  Comrade "nddryliog" - the author of the language.  Ask questions, get answers.  (I sometimes appear there as "slavav"). <br><br>  And by the way, the language is developing, the guys-authors are <i>not averse to discussing even changes or innovations in the syntax of the language</i> on the channel (they themselves write - such as " <i>suggest innovations to be introduced into the language</i> , we will think how to do").  Plus, there is no big organization or committee behind the language, so everything develops quickly and even your personal opinion can be taken into account. <br><br>  In fact, I managed to get hello.exe, but with FileReader, for example, under Windows, the process deafly hung up.  But developers are working, looking for, finish.  Channel # ooc-lang is very friendly and people really help with problems in real time (especially if <i>nddryliog</i> is online). <br><br>  On the other hand, there is a Rock - <i>ooc</i> compiler written on <i>ooc</i> itself.  So I do not think that everything is so bad.  It's just that Linux authors and they test more under it, so compatibility with Windows is still less than great. <br><br>  Yes, if the compilation slows down - disable antiviruses.  My hello.exe compiled for 30 seconds, with the antivirus turned off (Comodo) for 3 seconds. <br><br>  If the channel helps you - you can update the language version with the help of: " <code>git pull &amp;&amp; ant clean &amp;&amp; ant</code> ". <br><br>  More on aglitsky: <br>  <a href="http://ooc-lang.org/">Homepage, examples</a> <br>  <a href="http://ooc-lang.org/setup">Ooc installation</a> <br>  <a href="http://ooc-lang.org/blog">Project blog</a> (must read!) <br>  <a href="http://news.ycombinator.com/item%3Fid%3D882864">Discussion on Hacker News (questions and answers)</a> <br>  <a href="http://docs.ooc-lang.org/">docs.ooc-lang.org</a> is useful documentation, although a little, for example, about how <a href="http://docs.ooc-lang.org/bindings.html">to make <i>c</i> code accessible from <i>ooc</i></a> . <br>  <a href="http://github.com/nddrylliog">Bindings for GTK, GL, etc.</a>  + Rock - The experimental ooc compiler written in ooc itself. <br><br>  Bindings are downloaded and it is experimentally determined to unpack them in <code>src/sdk</code> relative to the <i>ooc</i> folder.  (Through FileMon I looked where ooc is looking for them, not a word about it on the site). <br><br><h5>  License </h5><br>  By the way, the <i>ooc</i> code <i>is</i> distributed under the <i>BSD license</i> , which in Russian means: ‚Äúyou can <i>download, use</i> , you can sing blues and revenge the yard, just not dust!  You can <i>sell</i> , buy, no <i>need to open</i> any <i>source code</i> .  If you promise <i>not to sue</i> - you can print the code and put the sheet in the nose.  Only <i>indicate the author</i> . ‚Äù(For clarity, the author of the language is not me, I have nothing to do with the language, I just share a <i>promising</i> finding with the community). <br><br><h5>  Ooc.  We'll run out of slogans </h5><br>  The slogans on the <a href="http://ooc-lang.org/">main</a> project are funny - they change when you refresh.  Among them, "Y2k compatible" :), "Your insurance against boredom", "Object-oriented, with a subtlety", "Handmade hacking", "Error perfected" and "We will run out of slogans, sooner or later" ... <br><br><h5>  Documentation </h5><br>  ooc-lang.org - <a href="http://nic.ru/whois/%3Fquery%3Dooc-lang.org">Created</a> On: <i>30-May-2009</i> , so disassemble while hot.  (In general, the language - 5 months) <br><br>  Here, yes, trouble.  The authors themselves acknowledge this, so that everything you figure out as you go along - try to publish - help the following. <br><br>  <b>Another underwater snag</b> is literally the other day, the git repository changed its location, so you can find links to github.com that don't exist, in this case replace ‚Äú <a href="http://github.com/">github.com</a> <b>amoswenger</b> / ...‚Äù in the URL with -&gt; ‚Äú <a href="http://github.com/">github .com</a> <b>nddrylliog</b> / ... ". <br><br>  <font color="gray">Source code was highlighted with <a href="http://virtser.net/blog/post/source-code-highlighter.aspx"><font color="gray">Source Code Highlighter</font></a> .</font> <br><br><img src="http://habrahabr.ru/media/userpic/avatar/14/45/58/31055.png"><br>  Yoi Haji <br>  <a href="http://yoihj.habrahabr.ru/blog/">view from Habra</a> </div><p>Source: <a href="https://habr.com/ru/post/72538/">https://habr.com/ru/post/72538/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../72530/index.html">7 steps to systematize the design and development process</a></li>
<li><a href="../72532/index.html">How are you doing there, fish?</a></li>
<li><a href="../72534/index.html">DDoS protection. Is free</a></li>
<li><a href="../72536/index.html">NeoTokyo - New Source Mod</a></li>
<li><a href="../72537/index.html">Atlassian: any program for 10 bucks</a></li>
<li><a href="../72539/index.html">Pitfalls when using caching in nginx</a></li>
<li><a href="../72541/index.html">Gmail - preview google.documents</a></li>
<li><a href="../72542/index.html">3 ways to improve communication with customers</a></li>
<li><a href="../72549/index.html">Fix Python Imaging (PIL) in Snow Leopard</a></li>
<li><a href="../72550/index.html">Where do mediocre sites come from?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>