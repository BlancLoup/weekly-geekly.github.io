<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>DaData.ru finds and destroys the same people.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="DaData.ru is a service for automatic verification, correction and deduplication of contact information (name, addresses, phone numbers, email, passpor...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>DaData.ru finds and destroys the same people.</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habr.com/company/hflabs/blog/273251/"><img src="https://habrastorage.org/files/ed5/41e/b19/ed541eb19f58488fa97432180d6aa050.png"><br></a> <br>  <i><a href="https://dadata.ru/">DaData.ru</a> is a service for automatic verification, correction and deduplication of contact information (name, addresses, phone numbers, email, passports).</i> <br><br>  I have 453 contacts on my phone.  There are duplicates among them: one and the same person is recorded as ‚ÄúLech‚Äù, then as ‚ÄúAlexey Megaphone‚Äù, or even as ‚ÄúZinoviev, Alexey Ivanovich‚Äù.  Lehi has Skype and his birthday, Alexey Nikolaevich has his email and main mobile number, and Megafon has a spare number from a clear operator. <br><br>  In telephone contacts, duplicates are unpleasant, but not very annoying.  Worse, when such a leapfrog begins with the company's client base. <br><a name="habracut"></a><br><h2>  Problem </h2><br>  When customer contact information is ‚Äúspread out‚Äù across several Excel files or databases, they complicate life: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <i>It is not clear how much the client costs</i> .  In 2003, Viktor Petrovich turned to MoiTvoyStrakh and insured life, in 2007 a car, and in 2012 a house.  As a result, he was brought into accounting systems three times.  It is impossible to automatically calculate profits and losses according to Viktor Petrovich, how much insurance should cost him - it is not clear. <br><br></li><li>  <i>Newsletter turns into a nightmare</i> .  Vika‚Äôs marketer manually copies and merges phones and emails from a dozen Excel files.  Hurries, swears, wrong.  In a hurry, losing two thousand contacts.  When it turns out, the director is very unhappy with Vika. <br><br></li><li>  <i>Furious customers</i> .  The provider Svyazinterkom customers are duplicated in three different bases (the company has been operating for 20 years, it has accumulated a notable IT zoo).  As a result, the client Fedor repeatedly receives repeated advertising letters, calls and SMS.  When Fedor‚Äôs patience ends, he goes to Guttelecom. </li></ul><br><h2>  Decision </h2><br>  Find and <s>destroy</s> combine identical customers.  This is exactly what DaData.ru does: it <a href="https://dadata.ru/merging/">finds duplicates</a> among clients, addresses and telephones.  Combines them and builds a "reference" client base for marketing, CRM and analytics. <br><br><img src="https://habrastorage.org/files/2fd/ba7/258/2fdba725895642e580a0e9d87590e25a.png"><br><br>  Who is useful: <br><br><ul><li>  <i>Marketer</i> .  Build a single list of clients from a dozen excel-files - for distribution or download to CRM. <br><br></li><li>  <i>Sales Department</i> .  Create a register of name and phone numbers from several bases - for telemarketing. <br><br></li><li>  <i>Trading company</i> .  Find the same outlets from different dealers, by comparing to the address - to correctly calculate the profit of the outlet. <br><br></li><li>  And, ultimately, to the <i>developer</i> .  Solve business problems without earning gray hair and not killing the best years of life. </li></ul><br><h2>  Easier than writing your bike </h2><br>  Pfff, find duplicates, think.  Here, do not thank: <br><br><pre><code class="bash hljs">address1 == address2</code> </pre> <br>  Oh yeah, there may still be typos.  Then so: <br><br><pre> <code class="bash hljs">similarity (address1, address2) &gt; 0.95</code> </pre><br>  Come on: <br><br><pre> <code class="bash hljs">&gt; similarity ( <span class="hljs-string"><span class="hljs-string">"  11/-89"</span></span>, <span class="hljs-string"><span class="hljs-string">", , 11 , 89"</span></span>) &gt; 0.95 False</code> </pre><br>  It turns out that the data must first be normalized, brought to a ‚Äúcanonical‚Äù form (‚ÄúMoscow time Sukhonsk 11 / -89‚Äù ‚Üí ‚Äú127642, Moscow, Sukhonskaya ulitsa, d 11, ap 89‚Äù).  And compared with caution, but it will turn out like this: <br><br><pre> <code class="bash hljs">&gt; similarity ( <span class="hljs-string"><span class="hljs-string">", - 1-,  20"</span></span>, <span class="hljs-string"><span class="hljs-string">", - 3-,  20"</span></span>) &gt; 0.95 True <span class="hljs-comment"><span class="hljs-comment"># </span></span></code> </pre><br>  And do not forget when searching for duplicates: <br><br><ul><li>  check in several scenarios: full name + date of birth + phone number, full name + address, address + phone + email - so as not to miss duplicates whose parts of the fields are not filled in; </li><li>  come up with an efficient algorithm, otherwise the complexity of O (n <sup>2</sup> ) per 100 thousand clients will give ~ ¬Ω10 <sup>10</sup> client comparisons with each other; </li><li>  to distinguish between "guaranteed" (you can automatically merge) and not guaranteed (first check manually) duplicates - otherwise you merge the excess. </li></ul><br>  Not the easiest thing.  And in Dadat everything is ready. <br><br><h2>  More precisely than checking manually </h2><br>  People often make mistakes in addresses and phones, or they write the same thing differently: <br><blockquote>  Novosibirsk, st.  Pearl, 2 <br>  Zhmuzhna nsk 2, entrance 4 <br>  Sovetsky district, Novosibirsk region, <br>  Zhemchuzhnaya street, 2, apartment 98 <br></blockquote><br>  Therefore, it is hard to compare customers manually: a person does not perceive this data as identical.  Of course, you can hire 200 operators to go through the entire base.  Work will be long, costly, and as a result, still a lot of duplicates will be missed. <br><br>  Dadata will process 100 thousand records in half an hour and divide the data into three groups: <br><br><ul><li>  unique: customers that are only in one instance; </li><li>  similar: people with similarities in attributes, not strong enough to automatically merge; </li><li>  the same: exactly the same people. </li></ul><br><img src="https://habrastorage.org/files/95d/255/847/95d25584753948f89d97e39e9927857f.png"><br><br>  Equal Dadata unite itself.  And it is better to look at similar ones manually <br><blockquote>  ‚ÄúOvchinnikov Fedor, 10/12/1990, Samara Kirova 12‚Äù and ‚ÄúFedor ovchinnikov, Samara, fedor@thefedor.ru‚Äù - the same person?  You can raise the history of his orders and understand, Dadata will not help here. <br></blockquote><br><h2>  How it works and how much it costs </h2><br>  Dadata uses ready-made comparison algorithms for full names, addresses, and telephones, taking into account errors and typos.  For eight years we have debugged them on projects with large corporate customers and now we give access to everyone. <br><br>  When Dadata unites similar clients, from each takes the best: name, address, phone.  If there are several addresses or phone numbers, take everything.  Same - merges into one. <br><br>  If customers are not similar enough to combine, reports this: <br><table><tbody><tr><td>  <b>We will unite such clients</b> <br>  Elena Baeva, was born on 10.11.1990 <br>  Moscow, Norilskaya Street, 17, apt. 25 <br><br>  Elena Baeva <br>  Narilskaya MSK, house 17 apt. 25, floor 4 </td><td>  <b>And these - no</b> (father and son) <br>  Alexey Efremov, 06/18/1951 <br>  g Novoshakhtinsk, ul Krasnyh Zor, d 7 <br><br>  Alexey Efremov, 03/12/1976 <br>  g Novoshakhtinsk, ul Krasnyh Zor, d 7 </td></tr></tbody></table><br>  Works with files, API yet.  Write in the comments if needed (and how you would use it). <br><br>  It costs 25 kopecks per record in the file (10,000 records = 2,500 rubles).  Statistics on the file and view 100 entries - for free.  <a href="https://dadata.ru/merging">Try it yourself</a> . </div><p>Source: <a href="https://habr.com/ru/post/273251/">https://habr.com/ru/post/273251/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../273241/index.html">We study the graph-oriented DBMS Neo4j on the example of the lexical database Wordnet</a></li>
<li><a href="../273243/index.html">7 errors of the ETL developer</a></li>
<li><a href="../273245/index.html">Announcement of the JPoint 2016 Java Conference</a></li>
<li><a href="../273247/index.html">We are testing the Russian E-Class server platform from T-Platforms</a></li>
<li><a href="../273249/index.html">How to get to the president's cottage at five o'clock in the morning</a></li>
<li><a href="../273253/index.html">Parsing formulas in 50 lines in Python</a></li>
<li><a href="../273255/index.html">Adding packages to the standalone installer Lubuntu Alternate ISO</a></li>
<li><a href="../273257/index.html">Best-in-class system Infortrend EonStor DS 4000 Gen2. Ultra High Performance Storage</a></li>
<li><a href="../273259/index.html">PHP vs Node.js</a></li>
<li><a href="../273261/index.html">Universal data container</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>