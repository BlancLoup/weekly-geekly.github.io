<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Building compact collimators for high power LEDs</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 In traffic control systems, video surveillance of objects that often require additional illumination is used. Economical high-power LED...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Building compact collimators for high power LEDs</h1><div class="post__text post__text-html js-mediator-article"><h3>  Introduction </h3><br>  In traffic control systems, video surveillance of objects that often require additional illumination is used.  Economical high-power LEDs do a good job with lighting in a wide viewing angle.  A collimator is needed to reduce the angle of illumination.  The calculation of collimating lenses can be performed, for example, in Zemax or Code V. Special media, such as LightTools or TracePro, are used to calculate complex collimators containing reflectors.  This paper shows the structures and means of calculating optimal collimators, which reduce the viewing angle by an order of magnitude - up to 10 degrees; a manual version of the calculation is also proposed. <br><a name="habracut"></a><br><h3>  Power LED characteristics </h3><br>  Powerful LEDs have a large viewing angle.  Popular CREE LEDs are no exception.  Here, for example, the characteristics of the LED XP-E2 [5]. <br><br>  ‚Ä¢ Size 3.45 x 3.45 x 2.08 mm <br>  ‚Ä¢ White colour <br>  ‚Ä¢ Maximum current 1 A <br>  ‚Ä¢ Maximum power 3 W <br>  ‚Ä¢ Maximum luminous flux of 283 lm <br>  ‚Ä¢ Rated forward voltage 2.9 V White @ 350 mA <br>  ‚Ä¢ Maximum reverse voltage 5 V <br>  ‚Ä¢ Viewing angle 110 ¬∞ <br><br><h3>  Collimators </h3><br>  There are many variants of collimators that collect divergent radiation in the observation zone.  Among them are lenses (refracting light), reflectors and composite collimators consisting of lenses, refracting surfaces and reflectors (Fig. 1, Fig. 2). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The required uniform illumination of the object or other distribution of illumination is achieved by using special materials, scattering surfaces and adjusting the shapes of the elements of the collimator and their location. <br><br><img src="https://habrastorage.org/files/e45/304/eb5/e45304eb5ecc4c638944d8f86f3db7a0.png"><br>  <i>Fig.</i>  <i>1. Examples of structures of collimators of LEDs [1,2,3,4].</i> <br><br><img src="https://habrastorage.org/files/fce/6a6/789/fce6a6789f9d4dff8d25136eb797298d.png"><br>  <i>Fig.</i>  <i>2. Geometry of demonstration models of the LightTools optical device design environment.</i> <br><br><h3>  Reflector ray distribution </h3><br>  The profile of the reflectors is calculated taking into account the viewing angle and the radiation pattern of the LED, the size of the object and the distance to it, as well as the required distribution of the illumination of the object. <br><br>  Some variants of the distribution of the LED rays on the object surface are shown in Fig.  3 <br><br><img src="https://habrastorage.org/files/725/3aa/633/7253aa6331bb42c39a78b43f512c3698.png"><br>  <i>Fig.</i>  <i>3. Options for the distribution of rays in the area of ‚Äã‚Äãthe object.</i>  <i>A - focusing at the central point;</i>  <i>B, D - weak rays (see radiation pattern) are collected on the periphery of the object's area, strong - in the center (to increase the intensity of the central zone);</i>  <i>options C and E collect weak rays in the center, and strong - in the periphery (to equalize the intensity of illumination).</i> <br><br><h3>  Reflector Profile Calculation </h3><br>  The calculation of the profile of the reflector focusing the rays of a point source (Fig. 3, option A) can be performed without using special media for the development of optical systems. <br><br><img src="https://habrastorage.org/files/fc2/f50/144/fc2f50144bac4da9933719bd8f408a41.png"><br>  <i>Fig.</i>  <i>4. Distribution of direct and focused rays (in this figure on the left, Fig. 3, option A) and the diagram for calculating the reflector profile of a point source (on the right).</i> <br><br>  Further, the program of calculation and construction of the reflector profile (Fig. 5) in the MATLAB environment using the constructions of Fig.  four. <br><br><pre><code class="matlab hljs">clear all <span class="hljs-comment"><span class="hljs-comment">% Initial DATA %%%%%%%%%%%%%% Lo = 300; % distance to object in mm Ro = 50/2; % radius of object in mm D_led = 3; % LED diameter in mm Rt = 2; % Min reflector radius &gt;= D_led/2 dR = 0.0001; % step along X if Rt &lt; D_led/2 Rt = D_led/2 end a_ini = 30; % ini angle in degree % Calculation %%%%%%%%%%%%%% a = pi*a_ini/180; % in rad % Half field of view a_max = pi/2-atan(Ro/Lo); % in rad R(1) = Rt; Z(1) = R(1) * tan(a); f = pi/4; i = 1; while a &lt; a_max &amp;&amp; f &gt; 0 ao = atan(Ro/(Lo-Z(i))); b = pi/2 - a; c_half = (pi - b - ao) / 2; e = pi/2 - c_half; f = b - e; refl = pi/2 - f; dZ = dR*tan(refl); %next point i = i+1; R(i) = R(i-1) + dR; Z(i) = Z(i-1) + dZ; a = atan(Z(i)/R(i)); end if 1 figure plot(R,Z,'b') grid xlabel('Radius, mm'); ylabel('Length, mm'); title(sprintf('FOV = %d deg',180-2*a_ini)) end</span></span></code> </pre> <br><img src="https://habrastorage.org/files/ee9/c15/84e/ee9c1584e6be4b9a9b5148c3db3fe02e.png"><br>  <i>Fig.</i>  <i>5. Profiles of radiation reflectors of point sources with a viewing angle of 180, 120, 60 and 20 degrees for illumination of a 50 mm object located at a distance of 300 mm from the source.</i> <br><br>  The diagram for calculating the profile of the reflector B (Fig. 3) is shown in Fig.  6 <br><br><img src="https://habrastorage.org/files/fa5/3f2/0d3/fa53f20d33fb4aafa6347a29327f228b.png"><br>  <i>Fig.</i>  <i>6. Diagram for calculating the reflector profile of a point source: ‚ÄúWeak‚Äù - peripheral rays (LED directional diagrams) go to the object borders, ‚ÄúStrong‚Äù central rays are collected in the center of the object (Fig. 3, variant B).</i> <br><br><img src="https://habrastorage.org/files/74e/680/dd3/74e680dd382e408bb3305b3d071560a2.png"><br>  <i>Fig.</i>  <i>7. Profiles 6 mm reflectors (left) and the angles of the reflected rays (right).</i>  <i>Here, the angles are calculated relative to the source plane.</i>  <i>So, the angle of 30 ¬∞ corresponds to a viewing angle of 120 ¬∞ = 2 * (90 ¬∞ -30 ¬∞).</i>  <i>Accordingly, the minimum angle of direct rays (not touching the reflector) is 50 ¬∞, as 2 * (90 ¬∞ - 65 ¬∞).</i> <br><br>  Comparative profiles of reflectors for variants A, B, C, D, E (Fig. 3) are shown in Fig.  7. The maximum diameter of the reflectors is limited to 6 mm. <br><br>  Comparing the profiles (Fig. 7) and the distribution of the rays (Fig. 3) shows that the collimator length and the range of collected beams are maximum for variants D and E. Collimator E provides a better uniformity of illumination of the object than collimator D. Collimator B has the largest area for placement lenses that collect the rays are not touching the reflector.  The angle of divergence of the direct rays passing inside the reflector B is 60 degrees (like 90-60 * 2). <br><br><h3>  Composite compact collimator </h3><br>  A composite collimator includes a reflector, of limited size, and a lens that focuses rays not collected by the reflector.  LightTools or TracePro software packages are used to calculate collimators with reflectors and lenses.  The calculation of the lens can be performed separately, for example, in the environment Zemax or Code V. <br><br><img src="https://habrastorage.org/files/43f/db8/18a/43fdb818a1bf48daaeb679ea5090d53c.png"><br>  <i>Fig.</i>  <i>8. Structures of a compact collimator made of organic PMMA glass (top) and a collimator with an insert lens made of BK7 glass (bottom) for illuminating 50 mm objects from a distance of 300 mm.</i>  <i>The calculation of the reflecting surface was made in MATLAB, the Zemax medium was used to calculate the lens.</i> <br><br><img src="https://habrastorage.org/files/0f0/c9d/08c/0f0c9d08c1a44ce1808449a83d6389d2.png"><br>  <i>Fig.</i>  <i>9. Calculation results of the collimator lens.</i>  <i>8. in Zemax.</i> <br><br><h3>  Build a reflector in LightTools </h3><br>  LightTools software package allows you to calculate collimators and optimize their parameters in automatic mode. <br><br>  The results of the calculation in LightTools of the profile of the optimal reflector without limiting its size to illuminate a 50 mm object remote from the XP-E2 LED by 300 mm are shown in Fig.  10. The reflector profile is described by a Bezier curve (Bezier) [6].  The XP-E2 LED model is taken from the LightTools library.  The optimal output diameter and length of the collimator model were 12.9 and 18.9 mm, respectively. <br><br><img src="https://habrastorage.org/files/745/c9b/f42/745c9bf42d4e4cb9997fc0d807f352bb.png"><br>  <i>Fig.</i>  <i>10. The dimensions and efficiency of the reflector √ò12.9 x 18.9 mm.</i>  <i>Efficiency of 17.5% is determined by the ratio of the number of rays reaching the object to the number of rays emitted by the source.</i> <br><br>  The limitation of the diameter of the reflector 6.2 mm led to a decrease in its efficiency from 17.5% to 5.6% (Fig. 11).  This is mainly due to the fact that with the decrease in the reflection area, the number of direct rays of the LED that do not fall into the object area has increased. <br><br><img src="https://habrastorage.org/files/70a/1e6/59d/70a1e659db094cd49e0f9cbad2c8c56c.png"><br>  <i>Fig.</i>  <i>11. Illumination characteristics and parameters of the optimal reflector collecting the beams of the XP-E2 LED in the range of 69‚Ä¶ 103 degrees.</i>  <i>The maximum diameter of the reflector is limited to 6.2 mm.</i>  <i>The efficiency of the collimator is ~ 5.6%.</i> <br><br>  The refined model of the LED differs from a point source in that the radiation is formed by a set of point sources distributed over the entire surface of the diode, for example, in the 1 x 1 mm zone for XP-E2.  Viewing angles and radiation patterns of all sources are equal. <br><br>  The radiation source reflector profile of a distributed source (Fig. 12) differs from the reflector profile for a concentrated source (Fig. 11), but their efficiency (~ 5.6%) is the same. <br><br><img src="https://habrastorage.org/files/29b/fcc/b33/29bfccb337324cb8b00fdb22c6a3b72b.png"><br>  <i>Fig.</i>  <i>12. LightTools Optimal Parameters of XP-E2 Distributed Radiation Reflector.</i>  <i>The maximum diameter of the reflector is limited to 6.2 mm.</i>  <i>The efficiency of the collimator is ~ 5.6%.</i> <br><br><h3>  Comparison of reflector profiles calculated in MATLAB and LightTools </h3><br>  Reflector profiles shown in Fig.  13, calculated in MATLAB (profiles: A, B, C, D, E) and LightTools (profiles: LT point, LT dist, LT unlim).  In MATLAB, a manual calculation was made for point sources.  In LightTools profiles optimization is performed in automatic mode for point and distributed sources with a limit (6.2 mm) and without a limit to the reflector diameter for uniform illumination of a 50 mm object remote from the source by 310 mm. <br><br><img src="https://habrastorage.org/files/a9a/77a/da8/a9a77ada858444e793f98fa4e4c79964.png"><br>  Fig.  13. Profiles of reflectors: A, B, C, D, E - of limited diameter (6 mm), calculated in MATLAB for a point source;  LT point - limited diameter (6.2 mm), calculated in LightTools for a point source;  LT dist - limited diameter (6.2 mm), calculated in LightTools for a distributed source;  LT unlim - free size, designed in LightTools for a point source. <br><br>  The parameter optimization algorithms in LightTools are hidden from the user.  To understand the LightTools optimization algorithm, which was used in the calculation of the ‚ÄúLT dist‚Äù profile (Fig. 13), the distribution of rays in the MATLAB was built (Fig. 14). <br><br><img src="https://habrastorage.org/files/5ae/202/f42/5ae202f42def41f793539636560fbfb1.png"><br>  <i>Fig.</i>  <i>14. The course of the rays of the distributed source reflected in the zone of 50 mm from a distance of 310 mm, the general diagram (left), enlarged fragment (right).</i>  <i>Radiation from the edges (blue and green lines) and center (red lines) of a distributed source is considered.</i>  <i>The separation of the edge and central beams of 1x1 mm source is achieved by displacement of the reflector by ¬± 0.5 mm.</i> <br><br>  The distribution of the rays (Fig. 14) shows that the LightTools optimization found the reflector profile for a central point source with illumination of 1/3 of the object's area and used this profile to illuminate the entire area of ‚Äã‚Äãthe object with radiation sources distributed over the 1x1 mm LED area. <br><br>  The MATLAB code for calculating an array of points of the optimal reflector profile - the Bezier curve ('Besier_profile_dist_source.mat'), specified by the LightTools Bezier_WX Bezier_Relative_UX and Bezier_VX parameters: <br><br><pre> <code class="matlab hljs"><span class="hljs-comment"><span class="hljs-comment">% A quadratic Bezier curve is the path traced by the function B(t), % given points P0, P1, and P2, % B(t) = (1 - t)[(1 - t)P0 + t P1] + t[(1 - t)P1 + t P2], % 0 &lt;= t &lt;= 1 Bezier_WX = 0.43229; Bezier_Relative_UX = 0.3006; Bezier_VX = 2.3413; Front_Size = 1.75; Rear_Size = 3.061; Length = 3.2213; Z = 1.0208; LastX = Rear_Size; Px = [Z Z+Length*Bezier_Relative_UX Z+Length]; Py = [Front_Size Bezier_VX LastX]; i = 0; for t = 0:0.1:1 i = i+1; bx_t(i) = (1-t)^2*Px(1) + 2*t*(1-t)*Px(2) + t^2*Px(3); by_t(i) = (1-t)^2*Py(1) + 2*t*(1-t)*Py(2) + t^2*Py(3); end save('Besier_profile_dist_source','bx_t','by_t')       . 14: load('Besier_profile_dist_source') offset = 0.5; X_base = by_t; Y = bx_t; X_left = by_t - offset; X_right = by_t + offset; clear by_t bx_t; % CENTER dYdX = diff(Y)./diff(X_base); a_refl=(180/pi).*atan(dYdX); for i = 1:length(X_base)-1 p_x(i) = (X_base(i+1)+X_base(i))/2; p_y(i) = Y(i)+ dYdX(i)*((X_base(i+1)-X_base(i))/2); end a_LED =(180/pi).*atan(p_y./p_x); a_out = 2.*a_refl - a_LED; X_t = p_x + (312-p_y)./tan(a_out.*(pi/180)); % plotting figure plot(X_base,Y,'b') hold on plot(X_base,Y,'xb') hold on for i = 1:length(p_x) plot([0 p_x(i)],[0 p_y(i)],'r') hold on plot([p_x(i) X_t(i)],[p_y(i) 312],'r') hold on end % end of plotting</span></span></code> </pre> <br><h3>  Manual calculation of the collimator </h3><br>  To perform manual calculations of a distributed source reflector, you must: <br><br>  1. Find the coordinates of the reflector point closest to the source. <br>  2. Calculate the reflector profile (see the algorithm of the section Calculation of the reflector profiles) for a reduced object area, for example, 1/3. <br><br>  Through the initial point of the reflector, closest to the source, must pass the rays emitted by all points of the plane of the LED.  Direct rays passing through the starting point should illuminate the area commensurate with the object located at the required distance from the source. <br><br><img src="https://habrastorage.org/files/9ea/f33/68e/9eaf3368ede4466e806d771e462e6271.png"><br>  <i>Fig.</i>  <i>15. Build rays to search for the initial point of the reflector.</i>  <i>The zones are located on a circle with a radius of 310 mm (right figure) equal to the distance to the object.</i>  <i>The left figure shows an enlarged image with the surface of the LED with a radius of 1.5 mm.</i> <br><br>  The position of the initial point of the reflector corresponds to point 1 on the surface of the LED with a radius of 1.5 mm (Fig. 15) through which the extreme (L and R) and central rays of the distributed radiator pass to the ~ 50 mm zone, which is 310 mm from the source. <br>  The viewing angle of a calculated collimator with a reflector can be reduced by incorporating a lens into the structure of the collimator, as shown in Fig.  eight. <br><br><div class="spoiler">  <b class="spoiler_title">Bibliographic list</b> <div class="spoiler_text">  1. Collimation lens system for LED.  Patent US 7580192 B1. <br>  2. LED collimation optics with improved performance and reduced size <a href="https://www.google.com/patents/US6547423">www.google.com/patents/US6547423</a> <br>  3. RXI LED collimator needs no metalization <a href="http://www.laserfocusworld.com/articles/2012/01/rxi-led-collimator-needs-no-metalization.html">www.laserfocusworld.com/articles/2012/01/rxi-led-collimator-needs-no-metalization.html</a> <br>  4. LED OPTICS: Efficient LED collimators have simple design http://www.laserfocusworld.com/articles/print/volume-48/issue-06/world-news/efficient-led-collimators-have-simple-design.html <br>  5. Delivering XP LED LED designs <a href="http://www.cree.com/LED-Components-and-Modules/Products/XLamp/Discrete-Directional/XLamp-XPE2">www.cree.com/LED-Components-and-Modules/Products/XLamp/Discrete-Directional/XLamp-XPE2</a> <br>  6. Wikipedia.  Beziers, Pierre <a href="https://ru.wikipedia.org/wiki/%25D0%2591%25D0%25B5%25D0%25B7%25D1%258C%25D0%25B5">ru.wikipedia.org/wiki/%D0%91%D0%B5%D0%B7%D1%8C%D0%B5</a> , _% D0% 9F% D1% 8C% D0% B5% D1% 80 <br>  7. Dr.  Bob Davidov.  Building perfect optics in Zemax.  <a href="http://portalnp.ru/wp-content/uploads/2016/07/4.7_Paraxial_Optics_Design_in_Zemax_1a.pdf">portalnp.ru/wp-content/uploads/2016/07/4.7_Paraxial_Optics_Design_in_Zemax_1a.pdf</a> <br>  8. Dr.  Bob Davidov.  Computer control technology in technical systems.  <a href="http://portalnp.ru/author/bobdavidov">portalnp.ru/author/bobdavidov</a> </div></div></div><p>Source: <a href="https://habr.com/ru/post/316828/">https://habr.com/ru/post/316828/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../316818/index.html">Electrode is an open source platform from WalmartLabs for ReactJS / NodeJS applications.</a></li>
<li><a href="../316820/index.html">A small survey of hosting (~ 100) on the service VDS</a></li>
<li><a href="../316822/index.html">Automated recovery of MS SQL databases from backups</a></li>
<li><a href="../316824/index.html">The recipe for developing a bot under Telegram</a></li>
<li><a href="../316826/index.html">Jupyter Notebook features that you may not have heard of</a></li>
<li><a href="../316830/index.html">ISUII AmigaVirtual - universal AI for everyone</a></li>
<li><a href="../316832/index.html">Demo cloud access to Ultimate 2C</a></li>
<li><a href="../316834/index.html">Tips for Indie Developers: The Dark Triad and Five Tips with Top ROI</a></li>
<li><a href="../316836/index.html">How not to use the Repository pattern</a></li>
<li><a href="../316838/index.html">Bot for telegram with status in DBMS and text classification</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>